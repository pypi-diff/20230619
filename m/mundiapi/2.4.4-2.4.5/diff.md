# Comparing `tmp/mundiapi-2.4.4.tar.gz` & `tmp/mundiapi-2.4.5.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "dist/mundiapi-2.4.4.tar", last modified: Thu Jun  1 17:50:08 2023, max compression
+gzip compressed data, was "dist/mundiapi-2.4.5.tar", last modified: Mon Jun 19 16:10:25 2023, max compression
```

## Comparing `mundiapi-2.4.4.tar` & `mundiapi-2.4.5.tar`

### file list

```diff
@@ -1,446 +1,446 @@
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-01 17:50:08.000000 mundiapi-2.4.4/
--rw-r--r--   0 root         (0) root         (0)     1213 2023-06-01 17:50:03.000000 mundiapi-2.4.4/LICENSE
--rw-r--r--   0 root         (0) root         (0)       36 2023-06-01 17:50:03.000000 mundiapi-2.4.4/MANIFEST.in
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-01 17:50:08.000000 mundiapi-2.4.4/mundiapi/
--rw-r--r--   0 root         (0) root         (0)     2243 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/mundiapi_client.py
--rw-r--r--   0 root         (0) root         (0)    13738 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/api_helper.py
--rw-r--r--   0 root         (0) root         (0)      163 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/__init__.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-01 17:50:08.000000 mundiapi-2.4.4/mundiapi/exceptions/
--rw-r--r--   0 root         (0) root         (0)       58 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/exceptions/__init__.py
--rw-r--r--   0 root         (0) root         (0)      900 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/exceptions/api_exception.py
--rw-r--r--   0 root         (0) root         (0)     1360 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/exceptions/error_exception.py
--rw-r--r--   0 root         (0) root         (0)      898 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/configuration.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-01 17:50:08.000000 mundiapi-2.4.4/mundiapi/models/
--rw-r--r--   0 root         (0) root         (0)     1586 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_due_date_request.py
--rw-r--r--   0 root         (0) root         (0)     1374 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/device_1.py
--rw-r--r--   0 root         (0) root         (0)     2195 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/price_bracket.py
--rw-r--r--   0 root         (0) root         (0)     3228 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_transfers_response.py
--rw-r--r--   0 root         (0) root         (0)     2743 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/pricing_scheme_4.py
--rw-r--r--   0 root         (0) root         (0)     7715 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_metadata_response.py
--rw-r--r--   0 root         (0) root         (0)     7713 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_due_date_response.py
--rw-r--r--   0 root         (0) root         (0)     1781 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_anticipation_limits_response.py
--rw-r--r--   0 root         (0) root         (0)     1620 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_bank_transfer_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     3056 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_voucher_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     1633 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_cancel_subscription_request.py
--rw-r--r--   0 root         (0) root         (0)     4401 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_items_usages_usage_id_response.py
--rw-r--r--   0 root         (0) root         (0)     8529 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/invoice.py
--rw-r--r--   0 root         (0) root         (0)     1627 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_location_request.py
--rw-r--r--   0 root         (0) root         (0)     1465 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_access_tokens_request.py
--rw-r--r--   0 root         (0) root         (0)     3943 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/bank_account_1.py
--rw-r--r--   0 root         (0) root         (0)     1432 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_metadata_request.py
--rw-r--r--   0 root         (0) root         (0)     1757 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_billing_date_request.py
--rw-r--r--   0 root         (0) root         (0)     1834 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/split.py
--rw-r--r--   0 root         (0) root         (0)     1912 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_default_bank_account_request.py
--rw-r--r--   0 root         (0) root         (0)     1988 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_withdrawals.py
--rw-r--r--   0 root         (0) root         (0)     1865 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_payment_authentication_request.py
--rw-r--r--   0 root         (0) root         (0)     1683 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/fine.py
--rw-r--r--   0 root         (0) root         (0)     1598 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/pix_additional_information.py
--rw-r--r--   0 root         (0) root         (0)     1637 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_transfers_request.py
--rw-r--r--   0 root         (0) root         (0)     2002 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_customers_response.py
--rw-r--r--   0 root         (0) root         (0)     3466 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/submerchant.py
--rw-r--r--   0 root         (0) root         (0)     1397 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_invoice_status_request.py
--rw-r--r--   0 root         (0) root         (0)     3789 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_charge_request.py
--rw-r--r--   0 root         (0) root         (0)     1943 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/usages.py
--rw-r--r--   0 root         (0) root         (0)     1437 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_checkout_bank_transfer_payment_response.py
--rw-r--r--   0 root         (0) root         (0)     5259 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customer.py
--rw-r--r--   0 root         (0) root         (0)     1670 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/tokens_request.py
--rw-r--r--   0 root         (0) root         (0)     2568 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_card_payment_contactless_request.py
--rw-r--r--   0 root         (0) root         (0)     2059 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_transactions_response.py
--rw-r--r--   0 root         (0) root         (0)     2843 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_request.py
--rw-r--r--   0 root         (0) root         (0)     2553 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/tokens_response.py
--rw-r--r--   0 root         (0) root         (0)     6757 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_checkout_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     2237 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_price_bracket_response.py
--rw-r--r--   0 root         (0) root         (0)     2879 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/threed_secure_1.py
--rw-r--r--   0 root         (0) root         (0)     6990 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/orders_closed_response.py
--rw-r--r--   0 root         (0) root         (0)     1376 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/device.py
--rw-r--r--   0 root         (0) root         (0)     1362 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/bank_transfer.py
--rw-r--r--   0 root         (0) root         (0)     3993 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_recipient_request.py
--rw-r--r--   0 root         (0) root         (0)     2051 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_access_tokens_response_1.py
--rw-r--r--   0 root         (0) root         (0)     1409 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_charges_summary_response.py
--rw-r--r--   0 root         (0) root         (0)     2938 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_checkout_credit_card_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     3980 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_bank_account_request.py
--rw-r--r--   0 root         (0) root         (0)     1643 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_current_cycle_end_date_request.py
--rw-r--r--   0 root         (0) root         (0)     5656 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_addresses_response_1.py
--rw-r--r--   0 root         (0) root         (0)     1576 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/bank_transfer_2.py
--rw-r--r--   0 root         (0) root         (0)     2034 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/options_2.py
--rw-r--r--   0 root         (0) root         (0)     5618 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/billingaddress_3.py
--rw-r--r--   0 root         (0) root         (0)     1580 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_period_request.py
--rw-r--r--   0 root         (0) root         (0)     1405 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_device_request.py
--rw-r--r--   0 root         (0) root         (0)     4408 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_discounts_response.py
--rw-r--r--   0 root         (0) root         (0)     6098 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/credit_card_1.py
--rw-r--r--   0 root         (0) root         (0)     2042 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_subscriptions_response.py
--rw-r--r--   0 root         (0) root         (0)     2437 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_antifraud_response.py
--rw-r--r--   0 root         (0) root         (0)     1951 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/debit_card_2.py
--rw-r--r--   0 root         (0) root         (0)     2013 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_checkout_debit_card_payment_response.py
--rw-r--r--   0 root         (0) root         (0)     2969 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_items_request.py
--rw-r--r--   0 root         (0) root         (0)     1917 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_subscription_split_request.py
--rw-r--r--   0 root         (0) root         (0)     3556 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_checkout_payment_settings_response.py
--rw-r--r--   0 root         (0) root         (0)     1520 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_subscription_due_days_request.py
--rw-r--r--   0 root         (0) root         (0)     1527 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/options_1.py
--rw-r--r--   0 root         (0) root         (0)     1991 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_cards_response_1.py
--rw-r--r--   0 root         (0) root         (0)     1435 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_metadata_request.py
--rw-r--r--   0 root         (0) root         (0)     6121 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_cards_renew_response.py
--rw-r--r--   0 root         (0) root         (0)     8616 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_partial_invoice_response.py
--rw-r--r--   0 root         (0) root         (0)     1794 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_transaction_report_file_response.py
--rw-r--r--   0 root         (0) root         (0)     1898 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_subscription_split_response.py
--rw-r--r--   0 root         (0) root         (0)     4328 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_usage_response.py
--rw-r--r--   0 root         (0) root         (0)     7220 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/plans_response_1.py
--rw-r--r--   0 root         (0) root         (0)     5560 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_bank_account_response.py
--rw-r--r--   0 root         (0) root         (0)     2663 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/plans_items_request_1.py
--rw-r--r--   0 root         (0) root         (0)     1722 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_anticipation_limits_response.py
--rw-r--r--   0 root         (0) root         (0)     6890 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipient.py
--rw-r--r--   0 root         (0) root         (0)     1420 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/plans_metadata_request.py
--rw-r--r--   0 root         (0) root         (0)     5222 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_card_request.py
--rw-r--r--   0 root         (0) root         (0)    11218 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_request_1.py
--rw-r--r--   0 root         (0) root         (0)     2458 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_increments_request.py
--rw-r--r--   0 root         (0) root         (0)     5296 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_customer_response.py
--rw-r--r--   0 root         (0) root         (0)     2394 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_recipient_request.py
--rw-r--r--   0 root         (0) root         (0)     4452 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_plan_item_response.py
--rw-r--r--   0 root         (0) root         (0)     2000 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_anticipation_response.py
--rw-r--r--   0 root         (0) root         (0)     4094 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/cycle.py
--rw-r--r--   0 root         (0) root         (0)     2079 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_charge_transactions_response.py
--rw-r--r--   0 root         (0) root         (0)     1417 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_current_cycle_status_request.py
--rw-r--r--   0 root         (0) root         (0)     3306 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_invoice_item_response.py
--rw-r--r--   0 root         (0) root         (0)     1982 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_order_response.py
--rw-r--r--   0 root         (0) root         (0)     3677 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_customer_request.py
--rw-r--r--   0 root         (0) root         (0)     1419 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_device_response.py
--rw-r--r--   0 root         (0) root         (0)     4132 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_period_response.py
--rw-r--r--   0 root         (0) root         (0)     4420 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_increments_response.py
--rw-r--r--   0 root         (0) root         (0)     2179 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_pix_bank_account_response.py
--rw-r--r--   0 root         (0) root         (0)     5287 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_response.py
--rw-r--r--   0 root         (0) root         (0)     1591 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/location.py
--rw-r--r--   0 root         (0) root         (0)     2005 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_discounts_response.py
--rw-r--r--   0 root         (0) root         (0)     4097 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/period.py
--rw-r--r--   0 root         (0) root         (0)    12195 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/__init__.py
--rw-r--r--   0 root         (0) root         (0)     2439 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_order_item_response.py
--rw-r--r--   0 root         (0) root         (0)     8601 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_cycles_pay_response.py
--rw-r--r--   0 root         (0) root         (0)     6974 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/orders_response_1.py
--rw-r--r--   0 root         (0) root         (0)     2391 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_automatic_anticipation_settings_request.py
--rw-r--r--   0 root         (0) root         (0)     3111 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_card_request.py
--rw-r--r--   0 root         (0) root         (0)     6943 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/order.py
--rw-r--r--   0 root         (0) root         (0)     2059 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_items_response_3.py
--rw-r--r--   0 root         (0) root         (0)     1570 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_card_options_request.py
--rw-r--r--   0 root         (0) root         (0)     2116 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_transfer.py
--rw-r--r--   0 root         (0) root         (0)     2109 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_anticipations_request.py
--rw-r--r--   0 root         (0) root         (0)     1772 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_emv_data_tlv_decrypt_request.py
--rw-r--r--   0 root         (0) root         (0)     1904 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/gateway_response.py
--rw-r--r--   0 root         (0) root         (0)     2333 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_charge_card_request.py
--rw-r--r--   0 root         (0) root         (0)     1656 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_checkout_card_installment_options_response.py
--rw-r--r--   0 root         (0) root         (0)     6978 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_order_response.py
--rw-r--r--   0 root         (0) root         (0)     3645 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_request.py
--rw-r--r--   0 root         (0) root         (0)     1752 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_subscription_card_request.py
--rw-r--r--   0 root         (0) root         (0)     4258 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/private_label.py
--rw-r--r--   0 root         (0) root         (0)     1448 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_cycles_pay_request.py
--rw-r--r--   0 root         (0) root         (0)     1444 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_metadata_request.py
--rw-r--r--   0 root         (0) root         (0)     1970 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_plans_response.py
--rw-r--r--   0 root         (0) root         (0)     4333 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_private_label_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     3437 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_billing_address_response.py
--rw-r--r--   0 root         (0) root         (0)     1445 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_clear_sale_request.py
--rw-r--r--   0 root         (0) root         (0)     3656 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_customer_request.py
--rw-r--r--   0 root         (0) root         (0)     4138 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_anticipations_response.py
--rw-r--r--   0 root         (0) root         (0)     1808 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/authentication_2.py
--rw-r--r--   0 root         (0) root         (0)     8582 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/invoices_metadata_response.py
--rw-r--r--   0 root         (0) root         (0)     1427 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/clear_sale_request.py
--rw-r--r--   0 root         (0) root         (0)     2246 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/orders_items_request.py
--rw-r--r--   0 root         (0) root         (0)     6105 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_cards_response.py
--rw-r--r--   0 root         (0) root         (0)     3185 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_transfer_response.py
--rw-r--r--   0 root         (0) root         (0)     1652 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_transfer_target_response.py
--rw-r--r--   0 root         (0) root         (0)     4162 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_cycles_response.py
--rw-r--r--   0 root         (0) root         (0)     2591 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_access_token_response.py
--rw-r--r--   0 root         (0) root         (0)     1997 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_invoices_response.py
--rw-r--r--   0 root         (0) root         (0)     2069 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_addresses_request_1.py
--rw-r--r--   0 root         (0) root         (0)     2629 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_emv_decrypt_request.py
--rw-r--r--   0 root         (0) root         (0)     2385 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_request_1.py
--rw-r--r--   0 root         (0) root         (0)     6975 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_default_bank_account_response.py
--rw-r--r--   0 root         (0) root         (0)     2862 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/credit_card_2.py
--rw-r--r--   0 root         (0) root         (0)     6707 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/checkout.py
--rw-r--r--   0 root         (0) root         (0)     1614 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_gateway_affiliation_id_request.py
--rw-r--r--   0 root         (0) root         (0)     2744 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_split_response.py
--rw-r--r--   0 root         (0) root         (0)     5551 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/default_bank_account.py
--rw-r--r--   0 root         (0) root         (0)     1995 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_phones_request.py
--rw-r--r--   0 root         (0) root         (0)     2981 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_usages_details_response.py
--rw-r--r--   0 root         (0) root         (0)     7222 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_plan_response.py
--rw-r--r--   0 root         (0) root         (0)     2550 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_google_pay_request.py
--rw-r--r--   0 root         (0) root         (0)     2985 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_subscription_item_request.py
--rw-r--r--   0 root         (0) root         (0)     2027 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_response_3.py
--rw-r--r--   0 root         (0) root         (0)     4641 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_charge_payment_method_request.py
--rw-r--r--   0 root         (0) root         (0)     1660 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_token_request.py
--rw-r--r--   0 root         (0) root         (0)     2857 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_pricing_scheme_response.py
--rw-r--r--   0 root         (0) root         (0)     2146 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_pix_payer_response.py
--rw-r--r--   0 root         (0) root         (0)     2328 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_gateway_recipient_response.py
--rw-r--r--   0 root         (0) root         (0)     3640 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customer_8.py
--rw-r--r--   0 root         (0) root         (0)     1711 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_interest_response.py
--rw-r--r--   0 root         (0) root         (0)     1948 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_transfers.py
--rw-r--r--   0 root         (0) root         (0)     4612 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_payment_method_request.py
--rw-r--r--   0 root         (0) root         (0)     6273 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_order_request.py
--rw-r--r--   0 root         (0) root         (0)     2012 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/setup.py
--rw-r--r--   0 root         (0) root         (0)    92344 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_transaction_response.py
--rw-r--r--   0 root         (0) root         (0)     2774 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_balance_response.py
--rw-r--r--   0 root         (0) root         (0)     2434 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/orders_items_response_1.py
--rw-r--r--   0 root         (0) root         (0)     2872 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_cancel_charge_request.py
--rw-r--r--   0 root         (0) root         (0)     1644 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_location_response.py
--rw-r--r--   0 root         (0) root         (0)     3124 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_card_token_response.py
--rw-r--r--   0 root         (0) root         (0)     4805 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_boleto_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     2034 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_checkout_debit_card_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     6996 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/orders_metadata_response.py
--rw-r--r--   0 root         (0) root         (0)     2263 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_payment_method_request.py
--rw-r--r--   0 root         (0) root         (0)     3734 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_debit_card_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     2497 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_capture_request.py
--rw-r--r--   0 root         (0) root         (0)     1395 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_gateway_error_response.py
--rw-r--r--   0 root         (0) root         (0)     2004 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_recipient_response.py
--rw-r--r--   0 root         (0) root         (0)    11229 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_subscription_request.py
--rw-r--r--   0 root         (0) root         (0)     2111 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_transfer_settings_request.py
--rw-r--r--   0 root         (0) root         (0)     1967 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/orders_response.py
--rw-r--r--   0 root         (0) root         (0)     3785 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/shipping.py
--rw-r--r--   0 root         (0) root         (0)     2046 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_address_request.py
--rw-r--r--   0 root         (0) root         (0)     4032 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/shipping_3.py
--rw-r--r--   0 root         (0) root         (0)     1989 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_transfer_response.py
--rw-r--r--   0 root         (0) root         (0)     1653 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_withdraw_request.py
--rw-r--r--   0 root         (0) root         (0)     2724 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_balance_response.py
--rw-r--r--   0 root         (0) root         (0)     4378 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_items_usages_response.py
--rw-r--r--   0 root         (0) root         (0)     1429 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/invoices_metadata_request.py
--rw-r--r--   0 root         (0) root         (0)     2106 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_transfer_settings_request.py
--rw-r--r--   0 root         (0) root         (0)     2015 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_transfers_response_1.py
--rw-r--r--   0 root         (0) root         (0)     2000 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_usages_details_response.py
--rw-r--r--   0 root         (0) root         (0)     2134 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/header.py
--rw-r--r--   0 root         (0) root         (0)     2814 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/pricing_scheme.py
--rw-r--r--   0 root         (0) root         (0)     1882 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_checkout_boleto_payment_response.py
--rw-r--r--   0 root         (0) root         (0)     7690 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_response.py
--rw-r--r--   0 root         (0) root         (0)     2123 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_order_item_request.py
--rw-r--r--   0 root         (0) root         (0)     2690 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/plans_items_request.py
--rw-r--r--   0 root         (0) root         (0)     3753 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_items_request_1.py
--rw-r--r--   0 root         (0) root         (0)     1695 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/interest.py
--rw-r--r--   0 root         (0) root         (0)     2918 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_three_d_secure_request.py
--rw-r--r--   0 root         (0) root         (0)     1989 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_response.py
--rw-r--r--   0 root         (0) root         (0)     6468 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_plan_request.py
--rw-r--r--   0 root         (0) root         (0)     1620 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_subscription_affiliation_id_request.py
--rw-r--r--   0 root         (0) root         (0)     3779 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_request_1.py
--rw-r--r--   0 root         (0) root         (0)    10486 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_checkout_payment_response.py
--rw-r--r--   0 root         (0) root         (0)     2256 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_order_item_request.py
--rw-r--r--   0 root         (0) root         (0)     1419 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_metadata_request.py
--rw-r--r--   0 root         (0) root         (0)     1933 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/setup_1.py
--rw-r--r--   0 root         (0) root         (0)     2013 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_increments_response.py
--rw-r--r--   0 root         (0) root         (0)     2168 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_price_bracket_request.py
--rw-r--r--   0 root         (0) root         (0)     5631 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_address_response.py
--rw-r--r--   0 root         (0) root         (0)     1828 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_cancel_charge_split_rules_request.py
--rw-r--r--   0 root         (0) root         (0)     4090 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_anticipation_response.py
--rw-r--r--   0 root         (0) root         (0)     2393 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/cancel_split_request.py
--rw-r--r--   0 root         (0) root         (0)     5096 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_plan_request.py
--rw-r--r--   0 root         (0) root         (0)     1679 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_anticipation_limit_response.py
--rw-r--r--   0 root         (0) root         (0)     1788 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_subscription_billing_date_request.py
--rw-r--r--   0 root         (0) root         (0)     1652 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_withdraw_target_response.py
--rw-r--r--   0 root         (0) root         (0)     2076 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_split_options_request.py
--rw-r--r--   0 root         (0) root         (0)     1402 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_order_status_request.py
--rw-r--r--   0 root         (0) root         (0)     2434 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_increment_request.py
--rw-r--r--   0 root         (0) root         (0)    10537 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_subscription_response.py
--rw-r--r--   0 root         (0) root         (0)     1529 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/header_1.py
--rw-r--r--   0 root         (0) root         (0)     1455 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_access_token_request.py
--rw-r--r--   0 root         (0) root         (0)     2534 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_token_response.py
--rw-r--r--   0 root         (0) root         (0)     2033 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_transactions_response.py
--rw-r--r--   0 root         (0) root         (0)     5252 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_transfer.py
--rw-r--r--   0 root         (0) root         (0)     1935 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_gateway_response_response.py
--rw-r--r--   0 root         (0) root         (0)     2698 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_plan_item_request.py
--rw-r--r--   0 root         (0) root         (0)     2683 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_checkout_credit_card_payment_response.py
--rw-r--r--   0 root         (0) root         (0)     2119 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_transactions_files_response.py
--rw-r--r--   0 root         (0) root         (0)     1987 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/invoices_response_2.py
--rw-r--r--   0 root         (0) root         (0)     2001 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_addresses_response.py
--rw-r--r--   0 root         (0) root         (0)     2042 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_checkout_boleto_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     2607 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_access_tokens_response.py
--rw-r--r--   0 root         (0) root         (0)     2068 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_setup_response.py
--rw-r--r--   0 root         (0) root         (0)     3662 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_address_request.py
--rw-r--r--   0 root         (0) root         (0)     3482 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_sub_merchant_request.py
--rw-r--r--   0 root         (0) root         (0)     2782 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_pricing_scheme_request.py
--rw-r--r--   0 root         (0) root         (0)     7712 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_capture_response.py
--rw-r--r--   0 root         (0) root         (0)     1696 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_subscription_start_at_request.py
--rw-r--r--   0 root         (0) root         (0)     1652 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_transfer_source_response.py
--rw-r--r--   0 root         (0) root         (0)     1423 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/orders_metadata_request.py
--rw-r--r--   0 root         (0) root         (0)     3770 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_subscription_item_request.py
--rw-r--r--   0 root         (0) root         (0)     1617 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_transfer_request.py
--rw-r--r--   0 root         (0) root         (0)     2293 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_subscription_payment_method_request.py
--rw-r--r--   0 root         (0) root         (0)     2668 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_plan_item_request.py
--rw-r--r--   0 root         (0) root         (0)     2571 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/pix.py
--rw-r--r--   0 root         (0) root         (0)     3829 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_shipping_response.py
--rw-r--r--   0 root         (0) root         (0)     7706 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_retry_response.py
--rw-r--r--   0 root         (0) root         (0)     1553 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/bank_transfer_1.py
--rw-r--r--   0 root         (0) root         (0)     7731 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_payment_method_response.py
--rw-r--r--   0 root         (0) root         (0)     5092 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/plans_request_1.py
--rw-r--r--   0 root         (0) root         (0)     1586 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_google_pay_header_request.py
--rw-r--r--   0 root         (0) root         (0)     3626 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/address_1.py
--rw-r--r--   0 root         (0) root         (0)     1504 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_minimum_price_request.py
--rw-r--r--   0 root         (0) root         (0)     8557 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/invoices_response.py
--rw-r--r--   0 root         (0) root         (0)     2061 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_setup_request.py
--rw-r--r--   0 root         (0) root         (0)     5261 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_cards_request.py
--rw-r--r--   0 root         (0) root         (0)     2013 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_usage_report_response.py
--rw-r--r--   0 root         (0) root         (0)     1620 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/max.py
--rw-r--r--   0 root         (0) root         (0)     1426 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_metadata_request.py
--rw-r--r--   0 root         (0) root         (0)     8576 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/invoices_status_response.py
--rw-r--r--   0 root         (0) root         (0)     1970 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_cards_response.py
--rw-r--r--   0 root         (0) root         (0)     4390 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_increment_response.py
--rw-r--r--   0 root         (0) root         (0)     2397 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_emv_data_decrypt_request.py
--rw-r--r--   0 root         (0) root         (0)     3097 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_seller_request.py
--rw-r--r--   0 root         (0) root         (0)     6089 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_card_response.py
--rw-r--r--   0 root         (0) root         (0)     2743 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/pricing_scheme_3.py
--rw-r--r--   0 root         (0) root         (0)     2500 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/apple_pay.py
--rw-r--r--   0 root         (0) root         (0)     1804 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/authentication.py
--rw-r--r--   0 root         (0) root         (0)     1989 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_phones_response.py
--rw-r--r--   0 root         (0) root         (0)     6943 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_metadata_response.py
--rw-r--r--   0 root         (0) root         (0)     3665 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_request_1.py
--rw-r--r--   0 root         (0) root         (0)     2324 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/threed_secure.py
--rw-r--r--   0 root         (0) root         (0)     2094 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_anticipation_request.py
--rw-r--r--   0 root         (0) root         (0)     6921 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_response_1.py
--rw-r--r--   0 root         (0) root         (0)     2102 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_split_options_response.py
--rw-r--r--   0 root         (0) root         (0)     2037 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_access_tokens_response.py
--rw-r--r--   0 root         (0) root         (0)     2095 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_transfer_settings_response.py
--rw-r--r--   0 root         (0) root         (0)     6461 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/plans_request.py
--rw-r--r--   0 root         (0) root         (0)     5530 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/bank_account.py
--rw-r--r--   0 root         (0) root         (0)     8566 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_invoice_response.py
--rw-r--r--   0 root         (0) root         (0)     1636 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_periods_latest_end_at_request.py
--rw-r--r--   0 root         (0) root         (0)     7008 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_automatic_anticipation_settings_response.py
--rw-r--r--   0 root         (0) root         (0)     2029 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_cycles_response_2.py
--rw-r--r--   0 root         (0) root         (0)     1916 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_recipient_bank_account_request.py
--rw-r--r--   0 root         (0) root         (0)     2007 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_usages_response.py
--rw-r--r--   0 root         (0) root         (0)     2420 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_card_payment_contactless_poi_request.py
--rw-r--r--   0 root         (0) root         (0)     3709 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_seller_response.py
--rw-r--r--   0 root         (0) root         (0)     2417 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_discount_request.py
--rw-r--r--   0 root         (0) root         (0)     2724 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_usage_request.py
--rw-r--r--   0 root         (0) root         (0)     2539 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_apple_pay_request.py
--rw-r--r--   0 root         (0) root         (0)     6907 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_recipient_response.py
--rw-r--r--   0 root         (0) root         (0)     2136 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_split_request.py
--rw-r--r--   0 root         (0) root         (0)     1905 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_phone_response.py
--rw-r--r--   0 root         (0) root         (0)     2059 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_transaction_report_file_request.py
--rw-r--r--   0 root         (0) root         (0)     1979 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_response_2.py
--rw-r--r--   0 root         (0) root         (0)     1700 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_fine_request.py
--rw-r--r--   0 root         (0) root         (0)     1695 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_fine_response.py
--rw-r--r--   0 root         (0) root         (0)     6049 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/card.py
--rw-r--r--   0 root         (0) root         (0)     2027 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_items_usages_response_1.py
--rw-r--r--   0 root         (0) root         (0)     6948 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     7734 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_confirm_payment_response.py
--rw-r--r--   0 root         (0) root         (0)     3098 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/card_9.py
--rw-r--r--   0 root         (0) root         (0)     3135 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_cards_request_1.py
--rw-r--r--   0 root         (0) root         (0)     1418 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_invoice_request.py
--rw-r--r--   0 root         (0) root         (0)     5270 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_withdraw_response.py
--rw-r--r--   0 root         (0) root         (0)     2399 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_automatic_anticipation_settings_request.py
--rw-r--r--   0 root         (0) root         (0)     1960 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/plans_response.py
--rw-r--r--   0 root         (0) root         (0)     3981 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_request.py
--rw-r--r--   0 root         (0) root         (0)     6987 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/orders_items_response.py
--rw-r--r--   0 root         (0) root         (0)     2705 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/card_11.py
--rw-r--r--   0 root         (0) root         (0)     7242 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/plans_metadata_response.py
--rw-r--r--   0 root         (0) root         (0)     6931 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_code_response.py
--rw-r--r--   0 root         (0) root         (0)     1602 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_charge_due_date_request.py
--rw-r--r--   0 root         (0) root         (0)     1404 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_emv_data_dukpt_decrypt_request.py
--rw-r--r--   0 root         (0) root         (0)     7697 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_charge_response.py
--rw-r--r--   0 root         (0) root         (0)     1642 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_checkout_card_installment_option_request.py
--rw-r--r--   0 root         (0) root         (0)     2494 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/contactless.py
--rw-r--r--   0 root         (0) root         (0)     2784 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_sellers_request.py
--rw-r--r--   0 root         (0) root         (0)     2125 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/orders_items_request_1.py
--rw-r--r--   0 root         (0) root         (0)     1988 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_charges_response.py
--rw-r--r--   0 root         (0) root         (0)     1994 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_response_3.py
--rw-r--r--   0 root         (0) root         (0)     3665 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/debit_card_1.py
--rw-r--r--   0 root         (0) root         (0)     1855 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_payment_authentication_response.py
--rw-r--r--   0 root         (0) root         (0)     7662 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charge.py
--rw-r--r--   0 root         (0) root         (0)     1716 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_interest_request.py
--rw-r--r--   0 root         (0) root         (0)     1724 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_card_request.py
--rw-r--r--   0 root         (0) root         (0)     2010 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_cycles_response.py
--rw-r--r--   0 root         (0) root         (0)     5211 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/card_1.py
--rw-r--r--   0 root         (0) root         (0)     1640 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_checkout_bank_transfer_request.py
--rw-r--r--   0 root         (0) root         (0)     6931 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/payment.py
--rw-r--r--   0 root         (0) root         (0)     2442 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_discounts_request.py
--rw-r--r--   0 root         (0) root         (0)     1741 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/paging.py
--rw-r--r--   0 root         (0) root         (0)     4446 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/plans_items_response.py
--rw-r--r--   0 root         (0) root         (0)     2047 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_anticipations_response_1.py
--rw-r--r--   0 root         (0) root         (0)     2190 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_apple_pay_header_request.py
--rw-r--r--   0 root         (0) root         (0)     4731 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/boleto_1.py
--rw-r--r--   0 root         (0) root         (0)     3964 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/default_bank_account_1.py
--rw-r--r--   0 root         (0) root         (0)     2624 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/voucher.py
--rw-r--r--   0 root         (0) root         (0)     2476 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/token.py
--rw-r--r--   0 root         (0) root         (0)     2198 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_price_bracket_request.py
--rw-r--r--   0 root         (0) root         (0)     5733 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_subscription_item_response.py
--rw-r--r--   0 root         (0) root         (0)     1832 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_antifraud_request.py
--rw-r--r--   0 root         (0) root         (0)     5312 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_metadata_response.py
--rw-r--r--   0 root         (0) root         (0)     7703 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_card_response.py
--rw-r--r--   0 root         (0) root         (0)     2861 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_seller_request.py
--rw-r--r--   0 root         (0) root         (0)     2782 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_pricing_scheme_request.py
--rw-r--r--   0 root         (0) root         (0)     1789 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/paging_response.py
--rw-r--r--   0 root         (0) root         (0)     4115 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/current_cycle.py
--rw-r--r--   0 root         (0) root         (0)     3393 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/billing_address.py
--rw-r--r--   0 root         (0) root         (0)     2074 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_subscription_items_response.py
--rw-r--r--   0 root         (0) root         (0)     1903 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_subscription_split_request.py
--rw-r--r--   0 root         (0) root         (0)     1911 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_phone_request.py
--rw-r--r--   0 root         (0) root         (0)     6968 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/recipients_transfer_settings_response.py
--rw-r--r--   0 root         (0) root         (0)     1620 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/min.py
--rw-r--r--   0 root         (0) root         (0)     3679 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_addresses_request.py
--rw-r--r--   0 root         (0) root         (0)     7189 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/plan.py
--rw-r--r--   0 root         (0) root         (0)     1727 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_cash_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     2506 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_capture_charge_request.py
--rw-r--r--   0 root         (0) root         (0)     2641 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_pix_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     1526 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/update_subscription_minimum_price_request.py
--rw-r--r--   0 root         (0) root         (0)     2510 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/google_pay.py
--rw-r--r--   0 root         (0) root         (0)     1828 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_confirm_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     1599 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_request.py
--rw-r--r--   0 root         (0) root         (0)     6168 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_credit_card_payment_request.py
--rw-r--r--   0 root         (0) root         (0)     5594 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/address.py
--rw-r--r--   0 root         (0) root         (0)     2369 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_automatic_anticipation_response.py
--rw-r--r--   0 root         (0) root         (0)     2001 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/list_seller_response.py
--rw-r--r--   0 root         (0) root         (0)     2015 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/customers_addresses_response.py
--rw-r--r--   0 root         (0) root         (0)     6264 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/orders_request.py
--rw-r--r--   0 root         (0) root         (0)     2734 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_card_token_request.py
--rw-r--r--   0 root         (0) root         (0)     2359 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_three_d_secure_response.py
--rw-r--r--   0 root         (0) root         (0)     1663 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/subscriptions_start_at_request.py
--rw-r--r--   0 root         (0) root         (0)     3647 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/billing_address_1.py
--rw-r--r--   0 root         (0) root         (0)     2324 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/charges_card_request.py
--rw-r--r--   0 root         (0) root         (0)     4047 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_shipping_request.py
--rw-r--r--   0 root         (0) root         (0)     2322 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/create_card_payment_token_request.py
--rw-r--r--   0 root         (0) root         (0)     4377 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_discount_response.py
--rw-r--r--   0 root         (0) root         (0)     1652 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/models/get_withdraw_source_response.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-01 17:50:08.000000 mundiapi-2.4.4/mundiapi/controllers/
--rw-r--r--   0 root         (0) root         (0)    36631 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/charges_controller.py
--rw-r--r--   0 root         (0) root         (0)    56276 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/customers_controller.py
--rw-r--r--   0 root         (0) root         (0)     5995 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/tokens_controller.py
--rw-r--r--   0 root         (0) root         (0)     7100 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/transfers_controller.py
--rw-r--r--   0 root         (0) root         (0)      321 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/__init__.py
--rw-r--r--   0 root         (0) root         (0)   103373 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/subscriptions_controller.py
--rw-r--r--   0 root         (0) root         (0)    56785 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/recipients_controller.py
--rw-r--r--   0 root         (0) root         (0)     2914 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/transactions_controller.py
--rw-r--r--   0 root         (0) root         (0)    20610 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/invoices_controller.py
--rw-r--r--   0 root         (0) root         (0)    26680 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/plans_controller.py
--rw-r--r--   0 root         (0) root         (0)    26874 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/orders_controller.py
--rw-r--r--   0 root         (0) root         (0)     3299 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/base_controller.py
--rw-r--r--   0 root         (0) root         (0)    11840 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/controllers/sellers_controller.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-01 17:50:08.000000 mundiapi-2.4.4/mundiapi/http/
--rw-r--r--   0 root         (0) root         (0)     3533 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/http/requests_client.py
--rw-r--r--   0 root         (0) root         (0)      920 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/http/http_method_enum.py
--rw-r--r--   0 root         (0) root         (0)      181 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/http/__init__.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-01 17:50:08.000000 mundiapi-2.4.4/mundiapi/http/auth/
--rw-r--r--   0 root         (0) root         (0)       31 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/http/auth/__init__.py
--rw-r--r--   0 root         (0) root         (0)      835 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/http/auth/basic_auth.py
--rw-r--r--   0 root         (0) root         (0)     2820 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/http/http_request.py
--rw-r--r--   0 root         (0) root         (0)      961 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/http/http_context.py
--rw-r--r--   0 root         (0) root         (0)     7088 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/http/http_client.py
--rw-r--r--   0 root         (0) root         (0)     1115 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/http/http_call_back.py
--rw-r--r--   0 root         (0) root         (0)     1088 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/http/http_response.py
--rw-r--r--   0 root         (0) root         (0)      509 2023-06-01 17:50:03.000000 mundiapi-2.4.4/mundiapi/decorators.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-01 17:50:08.000000 mundiapi-2.4.4/tests/
--rw-r--r--   0 root         (0) root         (0)      669 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/http_response_catcher.py
--rw-r--r--   0 root         (0) root         (0)        0 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/__init__.py
--rw-r--r--   0 root         (0) root         (0)     5119 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/test_helper.py
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-01 17:50:08.000000 mundiapi-2.4.4/tests/controllers/
--rw-r--r--   0 root         (0) root         (0)     1309 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/controllers/test_plans_controller.py
--rw-r--r--   0 root         (0) root         (0)     1171 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/controllers/test_recipients_controller.py
--rw-r--r--   0 root         (0) root         (0)        0 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/controllers/__init__.py
--rw-r--r--   0 root         (0) root         (0)      963 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/controllers/controller_test_base.py
--rw-r--r--   0 root         (0) root         (0)     1574 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/controllers/test_subscriptions_controller.py
--rw-r--r--   0 root         (0) root         (0)     1055 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/controllers/test_transfers_controller.py
--rw-r--r--   0 root         (0) root         (0)     1501 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/controllers/test_invoices_controller.py
--rw-r--r--   0 root         (0) root         (0)     1254 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/controllers/test_customers_controller.py
--rw-r--r--   0 root         (0) root         (0)     1313 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/controllers/test_orders_controller.py
--rw-r--r--   0 root         (0) root         (0)     1402 2023-06-01 17:50:03.000000 mundiapi-2.4.4/tests/controllers/test_charges_controller.py
--rw-r--r--   0 root         (0) root         (0)      241 2023-06-01 17:50:08.000000 mundiapi-2.4.4/PKG-INFO
--rw-r--r--   0 root         (0) root         (0)      869 2023-06-01 17:50:07.000000 mundiapi-2.4.4/setup.py
--rw-r--r--   0 root         (0) root         (0)       59 2023-06-01 17:50:08.000000 mundiapi-2.4.4/setup.cfg
-drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-01 17:50:08.000000 mundiapi-2.4.4/mundiapi.egg-info/
--rw-r--r--   0 root         (0) root         (0)      241 2023-06-01 17:50:08.000000 mundiapi-2.4.4/mundiapi.egg-info/PKG-INFO
--rw-r--r--   0 root         (0) root         (0)    18414 2023-06-01 17:50:08.000000 mundiapi-2.4.4/mundiapi.egg-info/SOURCES.txt
--rw-r--r--   0 root         (0) root         (0)        1 2023-06-01 17:50:08.000000 mundiapi-2.4.4/mundiapi.egg-info/dependency_links.txt
--rw-r--r--   0 root         (0) root         (0)       15 2023-06-01 17:50:08.000000 mundiapi-2.4.4/mundiapi.egg-info/top_level.txt
--rw-r--r--   0 root         (0) root         (0)      102 2023-06-01 17:50:08.000000 mundiapi-2.4.4/mundiapi.egg-info/requires.txt
--rw-r--r--   0 root         (0) root         (0)   152363 2023-06-01 17:50:03.000000 mundiapi-2.4.4/README.md
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-19 16:10:25.000000 mundiapi-2.4.5/
+-rw-r--r--   0 root         (0) root         (0)     1213 2023-06-19 16:10:23.000000 mundiapi-2.4.5/LICENSE
+-rw-r--r--   0 root         (0) root         (0)       36 2023-06-19 16:10:23.000000 mundiapi-2.4.5/MANIFEST.in
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-19 16:10:25.000000 mundiapi-2.4.5/mundiapi/
+-rw-r--r--   0 root         (0) root         (0)     2405 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/mundiapi_client.py
+-rw-r--r--   0 root         (0) root         (0)    13738 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/api_helper.py
+-rw-r--r--   0 root         (0) root         (0)      163 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/__init__.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-19 16:10:25.000000 mundiapi-2.4.5/mundiapi/exceptions/
+-rw-r--r--   0 root         (0) root         (0)       58 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/exceptions/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      900 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/exceptions/api_exception.py
+-rw-r--r--   0 root         (0) root         (0)     1360 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/exceptions/error_exception.py
+-rw-r--r--   0 root         (0) root         (0)      971 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/configuration.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-19 16:10:25.000000 mundiapi-2.4.5/mundiapi/models/
+-rw-r--r--   0 root         (0) root         (0)     1586 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_due_date_request.py
+-rw-r--r--   0 root         (0) root         (0)     1374 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/device_1.py
+-rw-r--r--   0 root         (0) root         (0)     2195 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/price_bracket.py
+-rw-r--r--   0 root         (0) root         (0)     3228 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_transfers_response.py
+-rw-r--r--   0 root         (0) root         (0)     2743 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/pricing_scheme_4.py
+-rw-r--r--   0 root         (0) root         (0)     7715 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_metadata_response.py
+-rw-r--r--   0 root         (0) root         (0)     7713 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_due_date_response.py
+-rw-r--r--   0 root         (0) root         (0)     1781 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_anticipation_limits_response.py
+-rw-r--r--   0 root         (0) root         (0)     1620 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_bank_transfer_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     3056 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_voucher_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     1633 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_cancel_subscription_request.py
+-rw-r--r--   0 root         (0) root         (0)     4401 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_items_usages_usage_id_response.py
+-rw-r--r--   0 root         (0) root         (0)     8529 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/invoice.py
+-rw-r--r--   0 root         (0) root         (0)     1627 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_location_request.py
+-rw-r--r--   0 root         (0) root         (0)     1465 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_access_tokens_request.py
+-rw-r--r--   0 root         (0) root         (0)     3943 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/bank_account_1.py
+-rw-r--r--   0 root         (0) root         (0)     1432 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_metadata_request.py
+-rw-r--r--   0 root         (0) root         (0)     1757 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_billing_date_request.py
+-rw-r--r--   0 root         (0) root         (0)     1834 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/split.py
+-rw-r--r--   0 root         (0) root         (0)     1912 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_default_bank_account_request.py
+-rw-r--r--   0 root         (0) root         (0)     1988 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_withdrawals.py
+-rw-r--r--   0 root         (0) root         (0)     1865 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_payment_authentication_request.py
+-rw-r--r--   0 root         (0) root         (0)     1683 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/fine.py
+-rw-r--r--   0 root         (0) root         (0)     1598 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/pix_additional_information.py
+-rw-r--r--   0 root         (0) root         (0)     1637 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_transfers_request.py
+-rw-r--r--   0 root         (0) root         (0)     2002 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_customers_response.py
+-rw-r--r--   0 root         (0) root         (0)     3466 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/submerchant.py
+-rw-r--r--   0 root         (0) root         (0)     1397 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_invoice_status_request.py
+-rw-r--r--   0 root         (0) root         (0)     3789 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_charge_request.py
+-rw-r--r--   0 root         (0) root         (0)     1943 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/usages.py
+-rw-r--r--   0 root         (0) root         (0)     1437 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_checkout_bank_transfer_payment_response.py
+-rw-r--r--   0 root         (0) root         (0)     5259 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customer.py
+-rw-r--r--   0 root         (0) root         (0)     1670 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/tokens_request.py
+-rw-r--r--   0 root         (0) root         (0)     2568 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_card_payment_contactless_request.py
+-rw-r--r--   0 root         (0) root         (0)     2059 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_transactions_response.py
+-rw-r--r--   0 root         (0) root         (0)     2843 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_request.py
+-rw-r--r--   0 root         (0) root         (0)     2553 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/tokens_response.py
+-rw-r--r--   0 root         (0) root         (0)     6757 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_checkout_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     2237 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_price_bracket_response.py
+-rw-r--r--   0 root         (0) root         (0)     2879 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/threed_secure_1.py
+-rw-r--r--   0 root         (0) root         (0)     6990 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/orders_closed_response.py
+-rw-r--r--   0 root         (0) root         (0)     1376 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/device.py
+-rw-r--r--   0 root         (0) root         (0)     1362 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/bank_transfer.py
+-rw-r--r--   0 root         (0) root         (0)     3993 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_recipient_request.py
+-rw-r--r--   0 root         (0) root         (0)     2051 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_access_tokens_response_1.py
+-rw-r--r--   0 root         (0) root         (0)     1409 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_charges_summary_response.py
+-rw-r--r--   0 root         (0) root         (0)     2938 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_checkout_credit_card_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     3980 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_bank_account_request.py
+-rw-r--r--   0 root         (0) root         (0)     1643 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_current_cycle_end_date_request.py
+-rw-r--r--   0 root         (0) root         (0)     5656 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_addresses_response_1.py
+-rw-r--r--   0 root         (0) root         (0)     1576 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/bank_transfer_2.py
+-rw-r--r--   0 root         (0) root         (0)     2034 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/options_2.py
+-rw-r--r--   0 root         (0) root         (0)     5618 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/billingaddress_3.py
+-rw-r--r--   0 root         (0) root         (0)     1580 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_period_request.py
+-rw-r--r--   0 root         (0) root         (0)     1405 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_device_request.py
+-rw-r--r--   0 root         (0) root         (0)     4408 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_discounts_response.py
+-rw-r--r--   0 root         (0) root         (0)     6098 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/credit_card_1.py
+-rw-r--r--   0 root         (0) root         (0)     2042 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_subscriptions_response.py
+-rw-r--r--   0 root         (0) root         (0)     2437 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_antifraud_response.py
+-rw-r--r--   0 root         (0) root         (0)     1951 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/debit_card_2.py
+-rw-r--r--   0 root         (0) root         (0)     2013 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_checkout_debit_card_payment_response.py
+-rw-r--r--   0 root         (0) root         (0)     2969 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_items_request.py
+-rw-r--r--   0 root         (0) root         (0)     1917 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_subscription_split_request.py
+-rw-r--r--   0 root         (0) root         (0)     3556 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_checkout_payment_settings_response.py
+-rw-r--r--   0 root         (0) root         (0)     1520 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_subscription_due_days_request.py
+-rw-r--r--   0 root         (0) root         (0)     1527 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/options_1.py
+-rw-r--r--   0 root         (0) root         (0)     1991 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_cards_response_1.py
+-rw-r--r--   0 root         (0) root         (0)     1435 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_metadata_request.py
+-rw-r--r--   0 root         (0) root         (0)     6121 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_cards_renew_response.py
+-rw-r--r--   0 root         (0) root         (0)     8616 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_partial_invoice_response.py
+-rw-r--r--   0 root         (0) root         (0)     1794 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_transaction_report_file_response.py
+-rw-r--r--   0 root         (0) root         (0)     1898 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_subscription_split_response.py
+-rw-r--r--   0 root         (0) root         (0)     4328 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_usage_response.py
+-rw-r--r--   0 root         (0) root         (0)     7220 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/plans_response_1.py
+-rw-r--r--   0 root         (0) root         (0)     5560 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_bank_account_response.py
+-rw-r--r--   0 root         (0) root         (0)     2663 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/plans_items_request_1.py
+-rw-r--r--   0 root         (0) root         (0)     1722 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_anticipation_limits_response.py
+-rw-r--r--   0 root         (0) root         (0)     6890 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipient.py
+-rw-r--r--   0 root         (0) root         (0)     1420 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/plans_metadata_request.py
+-rw-r--r--   0 root         (0) root         (0)     5222 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_card_request.py
+-rw-r--r--   0 root         (0) root         (0)    11218 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_request_1.py
+-rw-r--r--   0 root         (0) root         (0)     2458 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_increments_request.py
+-rw-r--r--   0 root         (0) root         (0)     5296 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_customer_response.py
+-rw-r--r--   0 root         (0) root         (0)     2394 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_recipient_request.py
+-rw-r--r--   0 root         (0) root         (0)     4452 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_plan_item_response.py
+-rw-r--r--   0 root         (0) root         (0)     2000 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_anticipation_response.py
+-rw-r--r--   0 root         (0) root         (0)     4094 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/cycle.py
+-rw-r--r--   0 root         (0) root         (0)     2079 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_charge_transactions_response.py
+-rw-r--r--   0 root         (0) root         (0)     1417 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_current_cycle_status_request.py
+-rw-r--r--   0 root         (0) root         (0)     3306 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_invoice_item_response.py
+-rw-r--r--   0 root         (0) root         (0)     1982 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_order_response.py
+-rw-r--r--   0 root         (0) root         (0)     3677 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_customer_request.py
+-rw-r--r--   0 root         (0) root         (0)     1419 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_device_response.py
+-rw-r--r--   0 root         (0) root         (0)     4132 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_period_response.py
+-rw-r--r--   0 root         (0) root         (0)     4420 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_increments_response.py
+-rw-r--r--   0 root         (0) root         (0)     2179 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_pix_bank_account_response.py
+-rw-r--r--   0 root         (0) root         (0)     5287 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_response.py
+-rw-r--r--   0 root         (0) root         (0)     1591 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/location.py
+-rw-r--r--   0 root         (0) root         (0)     2005 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_discounts_response.py
+-rw-r--r--   0 root         (0) root         (0)     4097 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/period.py
+-rw-r--r--   0 root         (0) root         (0)    12195 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     2439 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_order_item_response.py
+-rw-r--r--   0 root         (0) root         (0)     8601 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_cycles_pay_response.py
+-rw-r--r--   0 root         (0) root         (0)     6974 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/orders_response_1.py
+-rw-r--r--   0 root         (0) root         (0)     2391 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_automatic_anticipation_settings_request.py
+-rw-r--r--   0 root         (0) root         (0)     3111 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_card_request.py
+-rw-r--r--   0 root         (0) root         (0)     6943 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/order.py
+-rw-r--r--   0 root         (0) root         (0)     2059 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_items_response_3.py
+-rw-r--r--   0 root         (0) root         (0)     1570 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_card_options_request.py
+-rw-r--r--   0 root         (0) root         (0)     2116 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_transfer.py
+-rw-r--r--   0 root         (0) root         (0)     2109 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_anticipations_request.py
+-rw-r--r--   0 root         (0) root         (0)     1772 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_emv_data_tlv_decrypt_request.py
+-rw-r--r--   0 root         (0) root         (0)     1904 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/gateway_response.py
+-rw-r--r--   0 root         (0) root         (0)     2333 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_charge_card_request.py
+-rw-r--r--   0 root         (0) root         (0)     1656 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_checkout_card_installment_options_response.py
+-rw-r--r--   0 root         (0) root         (0)     6978 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_order_response.py
+-rw-r--r--   0 root         (0) root         (0)     3645 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_request.py
+-rw-r--r--   0 root         (0) root         (0)     1752 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_subscription_card_request.py
+-rw-r--r--   0 root         (0) root         (0)     4258 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/private_label.py
+-rw-r--r--   0 root         (0) root         (0)     1448 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_cycles_pay_request.py
+-rw-r--r--   0 root         (0) root         (0)     1444 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_metadata_request.py
+-rw-r--r--   0 root         (0) root         (0)     1970 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_plans_response.py
+-rw-r--r--   0 root         (0) root         (0)     4333 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_private_label_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     3437 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_billing_address_response.py
+-rw-r--r--   0 root         (0) root         (0)     1445 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_clear_sale_request.py
+-rw-r--r--   0 root         (0) root         (0)     3656 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_customer_request.py
+-rw-r--r--   0 root         (0) root         (0)     4138 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_anticipations_response.py
+-rw-r--r--   0 root         (0) root         (0)     1808 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/authentication_2.py
+-rw-r--r--   0 root         (0) root         (0)     8582 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/invoices_metadata_response.py
+-rw-r--r--   0 root         (0) root         (0)     1427 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/clear_sale_request.py
+-rw-r--r--   0 root         (0) root         (0)     2246 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/orders_items_request.py
+-rw-r--r--   0 root         (0) root         (0)     6105 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_cards_response.py
+-rw-r--r--   0 root         (0) root         (0)     3185 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_transfer_response.py
+-rw-r--r--   0 root         (0) root         (0)     1652 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_transfer_target_response.py
+-rw-r--r--   0 root         (0) root         (0)     4162 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_cycles_response.py
+-rw-r--r--   0 root         (0) root         (0)     2591 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_access_token_response.py
+-rw-r--r--   0 root         (0) root         (0)     1997 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_invoices_response.py
+-rw-r--r--   0 root         (0) root         (0)     2069 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_addresses_request_1.py
+-rw-r--r--   0 root         (0) root         (0)     2629 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_emv_decrypt_request.py
+-rw-r--r--   0 root         (0) root         (0)     2385 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_request_1.py
+-rw-r--r--   0 root         (0) root         (0)     6975 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_default_bank_account_response.py
+-rw-r--r--   0 root         (0) root         (0)     2862 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/credit_card_2.py
+-rw-r--r--   0 root         (0) root         (0)     6707 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/checkout.py
+-rw-r--r--   0 root         (0) root         (0)     1614 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_gateway_affiliation_id_request.py
+-rw-r--r--   0 root         (0) root         (0)     2744 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_split_response.py
+-rw-r--r--   0 root         (0) root         (0)     5551 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/default_bank_account.py
+-rw-r--r--   0 root         (0) root         (0)     1995 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_phones_request.py
+-rw-r--r--   0 root         (0) root         (0)     2981 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_usages_details_response.py
+-rw-r--r--   0 root         (0) root         (0)     7222 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_plan_response.py
+-rw-r--r--   0 root         (0) root         (0)     2550 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_google_pay_request.py
+-rw-r--r--   0 root         (0) root         (0)     2985 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_subscription_item_request.py
+-rw-r--r--   0 root         (0) root         (0)     2027 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_response_3.py
+-rw-r--r--   0 root         (0) root         (0)     4641 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_charge_payment_method_request.py
+-rw-r--r--   0 root         (0) root         (0)     1660 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_token_request.py
+-rw-r--r--   0 root         (0) root         (0)     2857 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_pricing_scheme_response.py
+-rw-r--r--   0 root         (0) root         (0)     2146 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_pix_payer_response.py
+-rw-r--r--   0 root         (0) root         (0)     2328 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_gateway_recipient_response.py
+-rw-r--r--   0 root         (0) root         (0)     3640 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customer_8.py
+-rw-r--r--   0 root         (0) root         (0)     1711 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_interest_response.py
+-rw-r--r--   0 root         (0) root         (0)     1948 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_transfers.py
+-rw-r--r--   0 root         (0) root         (0)     4612 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_payment_method_request.py
+-rw-r--r--   0 root         (0) root         (0)     6273 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_order_request.py
+-rw-r--r--   0 root         (0) root         (0)     2012 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/setup.py
+-rw-r--r--   0 root         (0) root         (0)    92344 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_transaction_response.py
+-rw-r--r--   0 root         (0) root         (0)     2774 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_balance_response.py
+-rw-r--r--   0 root         (0) root         (0)     2434 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/orders_items_response_1.py
+-rw-r--r--   0 root         (0) root         (0)     2872 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_cancel_charge_request.py
+-rw-r--r--   0 root         (0) root         (0)     1644 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_location_response.py
+-rw-r--r--   0 root         (0) root         (0)     3124 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_card_token_response.py
+-rw-r--r--   0 root         (0) root         (0)     4805 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_boleto_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     2034 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_checkout_debit_card_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     6996 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/orders_metadata_response.py
+-rw-r--r--   0 root         (0) root         (0)     2263 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_payment_method_request.py
+-rw-r--r--   0 root         (0) root         (0)     3734 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_debit_card_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     2497 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_capture_request.py
+-rw-r--r--   0 root         (0) root         (0)     1395 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_gateway_error_response.py
+-rw-r--r--   0 root         (0) root         (0)     2004 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_recipient_response.py
+-rw-r--r--   0 root         (0) root         (0)    11229 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_subscription_request.py
+-rw-r--r--   0 root         (0) root         (0)     2111 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_transfer_settings_request.py
+-rw-r--r--   0 root         (0) root         (0)     1967 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/orders_response.py
+-rw-r--r--   0 root         (0) root         (0)     3785 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/shipping.py
+-rw-r--r--   0 root         (0) root         (0)     2046 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_address_request.py
+-rw-r--r--   0 root         (0) root         (0)     4032 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/shipping_3.py
+-rw-r--r--   0 root         (0) root         (0)     1989 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_transfer_response.py
+-rw-r--r--   0 root         (0) root         (0)     1653 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_withdraw_request.py
+-rw-r--r--   0 root         (0) root         (0)     2724 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_balance_response.py
+-rw-r--r--   0 root         (0) root         (0)     4378 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_items_usages_response.py
+-rw-r--r--   0 root         (0) root         (0)     1429 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/invoices_metadata_request.py
+-rw-r--r--   0 root         (0) root         (0)     2106 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_transfer_settings_request.py
+-rw-r--r--   0 root         (0) root         (0)     2015 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_transfers_response_1.py
+-rw-r--r--   0 root         (0) root         (0)     2000 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_usages_details_response.py
+-rw-r--r--   0 root         (0) root         (0)     2134 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/header.py
+-rw-r--r--   0 root         (0) root         (0)     2814 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/pricing_scheme.py
+-rw-r--r--   0 root         (0) root         (0)     1882 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_checkout_boleto_payment_response.py
+-rw-r--r--   0 root         (0) root         (0)     7690 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_response.py
+-rw-r--r--   0 root         (0) root         (0)     2123 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_order_item_request.py
+-rw-r--r--   0 root         (0) root         (0)     2690 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/plans_items_request.py
+-rw-r--r--   0 root         (0) root         (0)     3753 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_items_request_1.py
+-rw-r--r--   0 root         (0) root         (0)     1695 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/interest.py
+-rw-r--r--   0 root         (0) root         (0)     2918 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_three_d_secure_request.py
+-rw-r--r--   0 root         (0) root         (0)     1989 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_response.py
+-rw-r--r--   0 root         (0) root         (0)     6468 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_plan_request.py
+-rw-r--r--   0 root         (0) root         (0)     1620 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_subscription_affiliation_id_request.py
+-rw-r--r--   0 root         (0) root         (0)     3779 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_request_1.py
+-rw-r--r--   0 root         (0) root         (0)    10486 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_checkout_payment_response.py
+-rw-r--r--   0 root         (0) root         (0)     2256 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_order_item_request.py
+-rw-r--r--   0 root         (0) root         (0)     1419 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_metadata_request.py
+-rw-r--r--   0 root         (0) root         (0)     1933 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/setup_1.py
+-rw-r--r--   0 root         (0) root         (0)     2013 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_increments_response.py
+-rw-r--r--   0 root         (0) root         (0)     2168 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_price_bracket_request.py
+-rw-r--r--   0 root         (0) root         (0)     5631 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_address_response.py
+-rw-r--r--   0 root         (0) root         (0)     1828 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_cancel_charge_split_rules_request.py
+-rw-r--r--   0 root         (0) root         (0)     4090 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_anticipation_response.py
+-rw-r--r--   0 root         (0) root         (0)     2393 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/cancel_split_request.py
+-rw-r--r--   0 root         (0) root         (0)     5096 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_plan_request.py
+-rw-r--r--   0 root         (0) root         (0)     1679 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_anticipation_limit_response.py
+-rw-r--r--   0 root         (0) root         (0)     1788 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_subscription_billing_date_request.py
+-rw-r--r--   0 root         (0) root         (0)     1652 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_withdraw_target_response.py
+-rw-r--r--   0 root         (0) root         (0)     2076 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_split_options_request.py
+-rw-r--r--   0 root         (0) root         (0)     1402 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_order_status_request.py
+-rw-r--r--   0 root         (0) root         (0)     2434 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_increment_request.py
+-rw-r--r--   0 root         (0) root         (0)    10537 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_subscription_response.py
+-rw-r--r--   0 root         (0) root         (0)     1529 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/header_1.py
+-rw-r--r--   0 root         (0) root         (0)     1455 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_access_token_request.py
+-rw-r--r--   0 root         (0) root         (0)     2534 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_token_response.py
+-rw-r--r--   0 root         (0) root         (0)     2033 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_transactions_response.py
+-rw-r--r--   0 root         (0) root         (0)     5252 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_transfer.py
+-rw-r--r--   0 root         (0) root         (0)     1935 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_gateway_response_response.py
+-rw-r--r--   0 root         (0) root         (0)     2698 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_plan_item_request.py
+-rw-r--r--   0 root         (0) root         (0)     2683 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_checkout_credit_card_payment_response.py
+-rw-r--r--   0 root         (0) root         (0)     2119 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_transactions_files_response.py
+-rw-r--r--   0 root         (0) root         (0)     1987 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/invoices_response_2.py
+-rw-r--r--   0 root         (0) root         (0)     2001 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_addresses_response.py
+-rw-r--r--   0 root         (0) root         (0)     2042 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_checkout_boleto_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     2607 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_access_tokens_response.py
+-rw-r--r--   0 root         (0) root         (0)     2068 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_setup_response.py
+-rw-r--r--   0 root         (0) root         (0)     3662 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_address_request.py
+-rw-r--r--   0 root         (0) root         (0)     3482 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_sub_merchant_request.py
+-rw-r--r--   0 root         (0) root         (0)     2782 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_pricing_scheme_request.py
+-rw-r--r--   0 root         (0) root         (0)     7712 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_capture_response.py
+-rw-r--r--   0 root         (0) root         (0)     1696 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_subscription_start_at_request.py
+-rw-r--r--   0 root         (0) root         (0)     1652 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_transfer_source_response.py
+-rw-r--r--   0 root         (0) root         (0)     1423 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/orders_metadata_request.py
+-rw-r--r--   0 root         (0) root         (0)     3770 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_subscription_item_request.py
+-rw-r--r--   0 root         (0) root         (0)     1617 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_transfer_request.py
+-rw-r--r--   0 root         (0) root         (0)     2293 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_subscription_payment_method_request.py
+-rw-r--r--   0 root         (0) root         (0)     2668 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_plan_item_request.py
+-rw-r--r--   0 root         (0) root         (0)     2571 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/pix.py
+-rw-r--r--   0 root         (0) root         (0)     3829 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_shipping_response.py
+-rw-r--r--   0 root         (0) root         (0)     7706 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_retry_response.py
+-rw-r--r--   0 root         (0) root         (0)     1553 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/bank_transfer_1.py
+-rw-r--r--   0 root         (0) root         (0)     7731 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_payment_method_response.py
+-rw-r--r--   0 root         (0) root         (0)     5092 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/plans_request_1.py
+-rw-r--r--   0 root         (0) root         (0)     1586 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_google_pay_header_request.py
+-rw-r--r--   0 root         (0) root         (0)     3626 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/address_1.py
+-rw-r--r--   0 root         (0) root         (0)     1504 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_minimum_price_request.py
+-rw-r--r--   0 root         (0) root         (0)     8557 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/invoices_response.py
+-rw-r--r--   0 root         (0) root         (0)     2061 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_setup_request.py
+-rw-r--r--   0 root         (0) root         (0)     5261 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_cards_request.py
+-rw-r--r--   0 root         (0) root         (0)     2013 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_usage_report_response.py
+-rw-r--r--   0 root         (0) root         (0)     1620 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/max.py
+-rw-r--r--   0 root         (0) root         (0)     1426 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_metadata_request.py
+-rw-r--r--   0 root         (0) root         (0)     8576 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/invoices_status_response.py
+-rw-r--r--   0 root         (0) root         (0)     1970 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_cards_response.py
+-rw-r--r--   0 root         (0) root         (0)     4390 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_increment_response.py
+-rw-r--r--   0 root         (0) root         (0)     2397 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_emv_data_decrypt_request.py
+-rw-r--r--   0 root         (0) root         (0)     3097 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_seller_request.py
+-rw-r--r--   0 root         (0) root         (0)     6089 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_card_response.py
+-rw-r--r--   0 root         (0) root         (0)     2743 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/pricing_scheme_3.py
+-rw-r--r--   0 root         (0) root         (0)     2500 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/apple_pay.py
+-rw-r--r--   0 root         (0) root         (0)     1804 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/authentication.py
+-rw-r--r--   0 root         (0) root         (0)     1989 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_phones_response.py
+-rw-r--r--   0 root         (0) root         (0)     6943 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_metadata_response.py
+-rw-r--r--   0 root         (0) root         (0)     3665 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_request_1.py
+-rw-r--r--   0 root         (0) root         (0)     2324 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/threed_secure.py
+-rw-r--r--   0 root         (0) root         (0)     2094 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_anticipation_request.py
+-rw-r--r--   0 root         (0) root         (0)     6921 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_response_1.py
+-rw-r--r--   0 root         (0) root         (0)     2102 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_split_options_response.py
+-rw-r--r--   0 root         (0) root         (0)     2037 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_access_tokens_response.py
+-rw-r--r--   0 root         (0) root         (0)     2095 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_transfer_settings_response.py
+-rw-r--r--   0 root         (0) root         (0)     6461 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/plans_request.py
+-rw-r--r--   0 root         (0) root         (0)     5530 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/bank_account.py
+-rw-r--r--   0 root         (0) root         (0)     8566 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_invoice_response.py
+-rw-r--r--   0 root         (0) root         (0)     1636 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_periods_latest_end_at_request.py
+-rw-r--r--   0 root         (0) root         (0)     7008 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_automatic_anticipation_settings_response.py
+-rw-r--r--   0 root         (0) root         (0)     2029 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_cycles_response_2.py
+-rw-r--r--   0 root         (0) root         (0)     1916 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_recipient_bank_account_request.py
+-rw-r--r--   0 root         (0) root         (0)     2007 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_usages_response.py
+-rw-r--r--   0 root         (0) root         (0)     2420 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_card_payment_contactless_poi_request.py
+-rw-r--r--   0 root         (0) root         (0)     3709 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_seller_response.py
+-rw-r--r--   0 root         (0) root         (0)     2417 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_discount_request.py
+-rw-r--r--   0 root         (0) root         (0)     2724 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_usage_request.py
+-rw-r--r--   0 root         (0) root         (0)     2539 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_apple_pay_request.py
+-rw-r--r--   0 root         (0) root         (0)     6907 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_recipient_response.py
+-rw-r--r--   0 root         (0) root         (0)     2136 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_split_request.py
+-rw-r--r--   0 root         (0) root         (0)     1905 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_phone_response.py
+-rw-r--r--   0 root         (0) root         (0)     2059 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_transaction_report_file_request.py
+-rw-r--r--   0 root         (0) root         (0)     1979 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_response_2.py
+-rw-r--r--   0 root         (0) root         (0)     1700 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_fine_request.py
+-rw-r--r--   0 root         (0) root         (0)     1695 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_fine_response.py
+-rw-r--r--   0 root         (0) root         (0)     6049 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/card.py
+-rw-r--r--   0 root         (0) root         (0)     2027 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_items_usages_response_1.py
+-rw-r--r--   0 root         (0) root         (0)     6948 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     7734 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_confirm_payment_response.py
+-rw-r--r--   0 root         (0) root         (0)     3098 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/card_9.py
+-rw-r--r--   0 root         (0) root         (0)     3135 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_cards_request_1.py
+-rw-r--r--   0 root         (0) root         (0)     1418 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_invoice_request.py
+-rw-r--r--   0 root         (0) root         (0)     5270 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_withdraw_response.py
+-rw-r--r--   0 root         (0) root         (0)     2399 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_automatic_anticipation_settings_request.py
+-rw-r--r--   0 root         (0) root         (0)     1960 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/plans_response.py
+-rw-r--r--   0 root         (0) root         (0)     3981 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_request.py
+-rw-r--r--   0 root         (0) root         (0)     6987 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/orders_items_response.py
+-rw-r--r--   0 root         (0) root         (0)     2705 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/card_11.py
+-rw-r--r--   0 root         (0) root         (0)     7242 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/plans_metadata_response.py
+-rw-r--r--   0 root         (0) root         (0)     6931 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_code_response.py
+-rw-r--r--   0 root         (0) root         (0)     1602 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_charge_due_date_request.py
+-rw-r--r--   0 root         (0) root         (0)     1404 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_emv_data_dukpt_decrypt_request.py
+-rw-r--r--   0 root         (0) root         (0)     7697 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_charge_response.py
+-rw-r--r--   0 root         (0) root         (0)     1642 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_checkout_card_installment_option_request.py
+-rw-r--r--   0 root         (0) root         (0)     2494 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/contactless.py
+-rw-r--r--   0 root         (0) root         (0)     2784 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_sellers_request.py
+-rw-r--r--   0 root         (0) root         (0)     2125 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/orders_items_request_1.py
+-rw-r--r--   0 root         (0) root         (0)     1988 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_charges_response.py
+-rw-r--r--   0 root         (0) root         (0)     1994 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_response_3.py
+-rw-r--r--   0 root         (0) root         (0)     3665 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/debit_card_1.py
+-rw-r--r--   0 root         (0) root         (0)     1855 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_payment_authentication_response.py
+-rw-r--r--   0 root         (0) root         (0)     7662 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charge.py
+-rw-r--r--   0 root         (0) root         (0)     1716 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_interest_request.py
+-rw-r--r--   0 root         (0) root         (0)     1724 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_card_request.py
+-rw-r--r--   0 root         (0) root         (0)     2010 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_cycles_response.py
+-rw-r--r--   0 root         (0) root         (0)     5211 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/card_1.py
+-rw-r--r--   0 root         (0) root         (0)     1640 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_checkout_bank_transfer_request.py
+-rw-r--r--   0 root         (0) root         (0)     6931 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/payment.py
+-rw-r--r--   0 root         (0) root         (0)     2442 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_discounts_request.py
+-rw-r--r--   0 root         (0) root         (0)     1741 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/paging.py
+-rw-r--r--   0 root         (0) root         (0)     4446 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/plans_items_response.py
+-rw-r--r--   0 root         (0) root         (0)     2047 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_anticipations_response_1.py
+-rw-r--r--   0 root         (0) root         (0)     2190 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_apple_pay_header_request.py
+-rw-r--r--   0 root         (0) root         (0)     4731 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/boleto_1.py
+-rw-r--r--   0 root         (0) root         (0)     3964 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/default_bank_account_1.py
+-rw-r--r--   0 root         (0) root         (0)     2624 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/voucher.py
+-rw-r--r--   0 root         (0) root         (0)     2476 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/token.py
+-rw-r--r--   0 root         (0) root         (0)     2198 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_price_bracket_request.py
+-rw-r--r--   0 root         (0) root         (0)     5733 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_subscription_item_response.py
+-rw-r--r--   0 root         (0) root         (0)     1832 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_antifraud_request.py
+-rw-r--r--   0 root         (0) root         (0)     5312 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_metadata_response.py
+-rw-r--r--   0 root         (0) root         (0)     7703 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_card_response.py
+-rw-r--r--   0 root         (0) root         (0)     2861 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_seller_request.py
+-rw-r--r--   0 root         (0) root         (0)     2782 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_pricing_scheme_request.py
+-rw-r--r--   0 root         (0) root         (0)     1789 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/paging_response.py
+-rw-r--r--   0 root         (0) root         (0)     4115 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/current_cycle.py
+-rw-r--r--   0 root         (0) root         (0)     3393 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/billing_address.py
+-rw-r--r--   0 root         (0) root         (0)     2074 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_subscription_items_response.py
+-rw-r--r--   0 root         (0) root         (0)     1903 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_subscription_split_request.py
+-rw-r--r--   0 root         (0) root         (0)     1911 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_phone_request.py
+-rw-r--r--   0 root         (0) root         (0)     6968 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/recipients_transfer_settings_response.py
+-rw-r--r--   0 root         (0) root         (0)     1620 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/min.py
+-rw-r--r--   0 root         (0) root         (0)     3679 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_addresses_request.py
+-rw-r--r--   0 root         (0) root         (0)     7189 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/plan.py
+-rw-r--r--   0 root         (0) root         (0)     1727 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_cash_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     2506 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_capture_charge_request.py
+-rw-r--r--   0 root         (0) root         (0)     2641 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_pix_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     1526 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/update_subscription_minimum_price_request.py
+-rw-r--r--   0 root         (0) root         (0)     2510 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/google_pay.py
+-rw-r--r--   0 root         (0) root         (0)     1828 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_confirm_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     1599 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_request.py
+-rw-r--r--   0 root         (0) root         (0)     6168 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_credit_card_payment_request.py
+-rw-r--r--   0 root         (0) root         (0)     5594 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/address.py
+-rw-r--r--   0 root         (0) root         (0)     2369 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_automatic_anticipation_response.py
+-rw-r--r--   0 root         (0) root         (0)     2001 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/list_seller_response.py
+-rw-r--r--   0 root         (0) root         (0)     2015 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/customers_addresses_response.py
+-rw-r--r--   0 root         (0) root         (0)     6264 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/orders_request.py
+-rw-r--r--   0 root         (0) root         (0)     2734 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_card_token_request.py
+-rw-r--r--   0 root         (0) root         (0)     2359 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_three_d_secure_response.py
+-rw-r--r--   0 root         (0) root         (0)     1663 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/subscriptions_start_at_request.py
+-rw-r--r--   0 root         (0) root         (0)     3647 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/billing_address_1.py
+-rw-r--r--   0 root         (0) root         (0)     2324 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/charges_card_request.py
+-rw-r--r--   0 root         (0) root         (0)     4047 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_shipping_request.py
+-rw-r--r--   0 root         (0) root         (0)     2322 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/create_card_payment_token_request.py
+-rw-r--r--   0 root         (0) root         (0)     4377 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_discount_response.py
+-rw-r--r--   0 root         (0) root         (0)     1652 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/models/get_withdraw_source_response.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-19 16:10:25.000000 mundiapi-2.4.5/mundiapi/controllers/
+-rw-r--r--   0 root         (0) root         (0)    37554 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/charges_controller.py
+-rw-r--r--   0 root         (0) root         (0)    57767 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/customers_controller.py
+-rw-r--r--   0 root         (0) root         (0)     6137 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/tokens_controller.py
+-rw-r--r--   0 root         (0) root         (0)     7313 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/transfers_controller.py
+-rw-r--r--   0 root         (0) root         (0)      321 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/__init__.py
+-rw-r--r--   0 root         (0) root         (0)   105929 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/subscriptions_controller.py
+-rw-r--r--   0 root         (0) root         (0)    58205 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/recipients_controller.py
+-rw-r--r--   0 root         (0) root         (0)     2985 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/transactions_controller.py
+-rw-r--r--   0 root         (0) root         (0)    21107 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/invoices_controller.py
+-rw-r--r--   0 root         (0) root         (0)    27390 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/plans_controller.py
+-rw-r--r--   0 root         (0) root         (0)    27584 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/orders_controller.py
+-rw-r--r--   0 root         (0) root         (0)     3299 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/base_controller.py
+-rw-r--r--   0 root         (0) root         (0)    11840 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/controllers/sellers_controller.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-19 16:10:25.000000 mundiapi-2.4.5/mundiapi/http/
+-rw-r--r--   0 root         (0) root         (0)     3533 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/http/requests_client.py
+-rw-r--r--   0 root         (0) root         (0)      920 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/http/http_method_enum.py
+-rw-r--r--   0 root         (0) root         (0)      181 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/http/__init__.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-19 16:10:25.000000 mundiapi-2.4.5/mundiapi/http/auth/
+-rw-r--r--   0 root         (0) root         (0)       31 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/http/auth/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      835 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/http/auth/basic_auth.py
+-rw-r--r--   0 root         (0) root         (0)     2820 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/http/http_request.py
+-rw-r--r--   0 root         (0) root         (0)      961 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/http/http_context.py
+-rw-r--r--   0 root         (0) root         (0)     7088 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/http/http_client.py
+-rw-r--r--   0 root         (0) root         (0)     1115 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/http/http_call_back.py
+-rw-r--r--   0 root         (0) root         (0)     1088 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/http/http_response.py
+-rw-r--r--   0 root         (0) root         (0)      509 2023-06-19 16:10:23.000000 mundiapi-2.4.5/mundiapi/decorators.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-19 16:10:25.000000 mundiapi-2.4.5/tests/
+-rw-r--r--   0 root         (0) root         (0)      669 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/http_response_catcher.py
+-rw-r--r--   0 root         (0) root         (0)        0 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/__init__.py
+-rw-r--r--   0 root         (0) root         (0)     5119 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/test_helper.py
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-19 16:10:25.000000 mundiapi-2.4.5/tests/controllers/
+-rw-r--r--   0 root         (0) root         (0)     1309 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/controllers/test_plans_controller.py
+-rw-r--r--   0 root         (0) root         (0)     1171 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/controllers/test_recipients_controller.py
+-rw-r--r--   0 root         (0) root         (0)        0 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/controllers/__init__.py
+-rw-r--r--   0 root         (0) root         (0)      963 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/controllers/controller_test_base.py
+-rw-r--r--   0 root         (0) root         (0)     1574 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/controllers/test_subscriptions_controller.py
+-rw-r--r--   0 root         (0) root         (0)     1055 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/controllers/test_transfers_controller.py
+-rw-r--r--   0 root         (0) root         (0)     1501 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/controllers/test_invoices_controller.py
+-rw-r--r--   0 root         (0) root         (0)     1254 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/controllers/test_customers_controller.py
+-rw-r--r--   0 root         (0) root         (0)     1313 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/controllers/test_orders_controller.py
+-rw-r--r--   0 root         (0) root         (0)     1402 2023-06-19 16:10:23.000000 mundiapi-2.4.5/tests/controllers/test_charges_controller.py
+-rw-r--r--   0 root         (0) root         (0)      241 2023-06-19 16:10:25.000000 mundiapi-2.4.5/PKG-INFO
+-rw-r--r--   0 root         (0) root         (0)      869 2023-06-19 16:10:25.000000 mundiapi-2.4.5/setup.py
+-rw-r--r--   0 root         (0) root         (0)       59 2023-06-19 16:10:25.000000 mundiapi-2.4.5/setup.cfg
+drwxr-xr-x   0 root         (0) root         (0)        0 2023-06-19 16:10:25.000000 mundiapi-2.4.5/mundiapi.egg-info/
+-rw-r--r--   0 root         (0) root         (0)      241 2023-06-19 16:10:25.000000 mundiapi-2.4.5/mundiapi.egg-info/PKG-INFO
+-rw-r--r--   0 root         (0) root         (0)    18414 2023-06-19 16:10:25.000000 mundiapi-2.4.5/mundiapi.egg-info/SOURCES.txt
+-rw-r--r--   0 root         (0) root         (0)        1 2023-06-19 16:10:25.000000 mundiapi-2.4.5/mundiapi.egg-info/dependency_links.txt
+-rw-r--r--   0 root         (0) root         (0)       15 2023-06-19 16:10:25.000000 mundiapi-2.4.5/mundiapi.egg-info/top_level.txt
+-rw-r--r--   0 root         (0) root         (0)      102 2023-06-19 16:10:25.000000 mundiapi-2.4.5/mundiapi.egg-info/requires.txt
+-rw-r--r--   0 root         (0) root         (0)   152488 2023-06-19 16:10:23.000000 mundiapi-2.4.5/README.md
```

### Comparing `mundiapi-2.4.4/LICENSE` & `mundiapi-2.4.5/LICENSE`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/mundiapi_client.py` & `mundiapi-2.4.5/mundiapi/mundiapi_client.py`

 * *Files 15% similar despite different names*

```diff
@@ -62,14 +62,17 @@
 
     @lazy_property
     def transfers(self):
         return TransfersController()
 
 
     def __init__(self,
+                 service_referer_name=None,
                  basic_auth_user_name=None,
                  basic_auth_password=None):
+        if service_referer_name is not None:
+            Configuration.service_referer_name = service_referer_name
         if basic_auth_user_name is not None:
             Configuration.basic_auth_user_name = basic_auth_user_name
         if basic_auth_password is not None:
             Configuration.basic_auth_password = basic_auth_password
```

### Comparing `mundiapi-2.4.4/mundiapi/api_helper.py` & `mundiapi-2.4.5/mundiapi/api_helper.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/exceptions/api_exception.py` & `mundiapi-2.4.5/mundiapi/exceptions/api_exception.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/exceptions/error_exception.py` & `mundiapi-2.4.5/mundiapi/exceptions/error_exception.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/configuration.py` & `mundiapi-2.4.5/mundiapi/configuration.py`

 * *Files 18% similar despite different names*

```diff
@@ -21,14 +21,17 @@
     # Set the array parameter serialization method
     # (allowed: indexed, unindexed, plain, csv, tsv, psv)
     array_serialization = "indexed"
 
     # The base Uri for API calls
     base_uri = 'https://api.mundipagg.com/core/v1'
 
+    # TODO: Set an appropriate value
+    service_referer_name = None
+
     # The username to use with basic authentication
     # TODO: Set an appropriate value
     basic_auth_user_name = None
 
     # The password to use with basic authentication
     # TODO: Set an appropriate value
     basic_auth_password = None
```

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_due_date_request.py` & `mundiapi-2.4.5/mundiapi/models/charges_due_date_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/device_1.py` & `mundiapi-2.4.5/mundiapi/models/device_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/price_bracket.py` & `mundiapi-2.4.5/mundiapi/models/price_bracket.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_transfers_response.py` & `mundiapi-2.4.5/mundiapi/models/recipients_transfers_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/pricing_scheme_4.py` & `mundiapi-2.4.5/mundiapi/models/pricing_scheme_4.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_metadata_response.py` & `mundiapi-2.4.5/mundiapi/models/charges_metadata_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_due_date_response.py` & `mundiapi-2.4.5/mundiapi/models/charges_due_date_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_anticipation_limits_response.py` & `mundiapi-2.4.5/mundiapi/models/get_anticipation_limits_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_bank_transfer_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_bank_transfer_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_voucher_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_voucher_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_cancel_subscription_request.py` & `mundiapi-2.4.5/mundiapi/models/create_cancel_subscription_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_items_usages_usage_id_response.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_items_usages_usage_id_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/invoice.py` & `mundiapi-2.4.5/mundiapi/models/invoice.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_location_request.py` & `mundiapi-2.4.5/mundiapi/models/create_location_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_access_tokens_request.py` & `mundiapi-2.4.5/mundiapi/models/customers_access_tokens_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/bank_account_1.py` & `mundiapi-2.4.5/mundiapi/models/bank_account_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_metadata_request.py` & `mundiapi-2.4.5/mundiapi/models/customers_metadata_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_billing_date_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_billing_date_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/split.py` & `mundiapi-2.4.5/mundiapi/models/split.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_default_bank_account_request.py` & `mundiapi-2.4.5/mundiapi/models/recipients_default_bank_account_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_withdrawals.py` & `mundiapi-2.4.5/mundiapi/models/list_withdrawals.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_payment_authentication_request.py` & `mundiapi-2.4.5/mundiapi/models/create_payment_authentication_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/fine.py` & `mundiapi-2.4.5/mundiapi/models/fine.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/pix_additional_information.py` & `mundiapi-2.4.5/mundiapi/models/pix_additional_information.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_transfers_request.py` & `mundiapi-2.4.5/mundiapi/models/recipients_transfers_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_customers_response.py` & `mundiapi-2.4.5/mundiapi/models/list_customers_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/submerchant.py` & `mundiapi-2.4.5/mundiapi/models/submerchant.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_invoice_status_request.py` & `mundiapi-2.4.5/mundiapi/models/update_invoice_status_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_charge_request.py` & `mundiapi-2.4.5/mundiapi/models/create_charge_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/usages.py` & `mundiapi-2.4.5/mundiapi/models/usages.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_checkout_bank_transfer_payment_response.py` & `mundiapi-2.4.5/mundiapi/models/get_checkout_bank_transfer_payment_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customer.py` & `mundiapi-2.4.5/mundiapi/models/customer.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/tokens_request.py` & `mundiapi-2.4.5/mundiapi/models/tokens_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_card_payment_contactless_request.py` & `mundiapi-2.4.5/mundiapi/models/create_card_payment_contactless_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_transactions_response.py` & `mundiapi-2.4.5/mundiapi/models/charges_transactions_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_request.py` & `mundiapi-2.4.5/mundiapi/models/charges_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/tokens_response.py` & `mundiapi-2.4.5/mundiapi/models/tokens_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_checkout_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_checkout_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_price_bracket_response.py` & `mundiapi-2.4.5/mundiapi/models/get_price_bracket_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/threed_secure_1.py` & `mundiapi-2.4.5/mundiapi/models/threed_secure_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/orders_closed_response.py` & `mundiapi-2.4.5/mundiapi/models/orders_closed_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/device.py` & `mundiapi-2.4.5/mundiapi/models/device.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/bank_transfer.py` & `mundiapi-2.4.5/mundiapi/models/bank_transfer.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_recipient_request.py` & `mundiapi-2.4.5/mundiapi/models/create_recipient_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_access_tokens_response_1.py` & `mundiapi-2.4.5/mundiapi/models/customers_access_tokens_response_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_charges_summary_response.py` & `mundiapi-2.4.5/mundiapi/models/get_charges_summary_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_checkout_credit_card_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_checkout_credit_card_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_bank_account_request.py` & `mundiapi-2.4.5/mundiapi/models/create_bank_account_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_current_cycle_end_date_request.py` & `mundiapi-2.4.5/mundiapi/models/update_current_cycle_end_date_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_addresses_response_1.py` & `mundiapi-2.4.5/mundiapi/models/customers_addresses_response_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/bank_transfer_2.py` & `mundiapi-2.4.5/mundiapi/models/bank_transfer_2.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/options_2.py` & `mundiapi-2.4.5/mundiapi/models/options_2.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/billingaddress_3.py` & `mundiapi-2.4.5/mundiapi/models/billingaddress_3.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_period_request.py` & `mundiapi-2.4.5/mundiapi/models/create_period_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_device_request.py` & `mundiapi-2.4.5/mundiapi/models/create_device_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_discounts_response.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_discounts_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/credit_card_1.py` & `mundiapi-2.4.5/mundiapi/models/credit_card_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_subscriptions_response.py` & `mundiapi-2.4.5/mundiapi/models/list_subscriptions_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_antifraud_response.py` & `mundiapi-2.4.5/mundiapi/models/get_antifraud_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/debit_card_2.py` & `mundiapi-2.4.5/mundiapi/models/debit_card_2.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_checkout_debit_card_payment_response.py` & `mundiapi-2.4.5/mundiapi/models/get_checkout_debit_card_payment_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_items_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_items_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_subscription_split_request.py` & `mundiapi-2.4.5/mundiapi/models/update_subscription_split_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_checkout_payment_settings_response.py` & `mundiapi-2.4.5/mundiapi/models/get_checkout_payment_settings_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_subscription_due_days_request.py` & `mundiapi-2.4.5/mundiapi/models/update_subscription_due_days_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/options_1.py` & `mundiapi-2.4.5/mundiapi/models/options_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_cards_response_1.py` & `mundiapi-2.4.5/mundiapi/models/customers_cards_response_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_metadata_request.py` & `mundiapi-2.4.5/mundiapi/models/recipients_metadata_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_cards_renew_response.py` & `mundiapi-2.4.5/mundiapi/models/customers_cards_renew_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_partial_invoice_response.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_partial_invoice_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_transaction_report_file_response.py` & `mundiapi-2.4.5/mundiapi/models/get_transaction_report_file_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_subscription_split_response.py` & `mundiapi-2.4.5/mundiapi/models/get_subscription_split_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_usage_response.py` & `mundiapi-2.4.5/mundiapi/models/get_usage_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/plans_response_1.py` & `mundiapi-2.4.5/mundiapi/models/plans_response_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_bank_account_response.py` & `mundiapi-2.4.5/mundiapi/models/get_bank_account_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/plans_items_request_1.py` & `mundiapi-2.4.5/mundiapi/models/plans_items_request_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_anticipation_limits_response.py` & `mundiapi-2.4.5/mundiapi/models/recipients_anticipation_limits_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipient.py` & `mundiapi-2.4.5/mundiapi/models/recipient.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/plans_metadata_request.py` & `mundiapi-2.4.5/mundiapi/models/plans_metadata_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_card_request.py` & `mundiapi-2.4.5/mundiapi/models/create_card_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_request_1.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_request_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_increments_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_increments_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_customer_response.py` & `mundiapi-2.4.5/mundiapi/models/get_customer_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_recipient_request.py` & `mundiapi-2.4.5/mundiapi/models/update_recipient_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_plan_item_response.py` & `mundiapi-2.4.5/mundiapi/models/get_plan_item_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_anticipation_response.py` & `mundiapi-2.4.5/mundiapi/models/list_anticipation_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/cycle.py` & `mundiapi-2.4.5/mundiapi/models/cycle.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_charge_transactions_response.py` & `mundiapi-2.4.5/mundiapi/models/list_charge_transactions_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_current_cycle_status_request.py` & `mundiapi-2.4.5/mundiapi/models/update_current_cycle_status_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_invoice_item_response.py` & `mundiapi-2.4.5/mundiapi/models/get_invoice_item_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_order_response.py` & `mundiapi-2.4.5/mundiapi/models/list_order_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_customer_request.py` & `mundiapi-2.4.5/mundiapi/models/create_customer_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_device_response.py` & `mundiapi-2.4.5/mundiapi/models/get_device_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_period_response.py` & `mundiapi-2.4.5/mundiapi/models/get_period_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_increments_response.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_increments_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_pix_bank_account_response.py` & `mundiapi-2.4.5/mundiapi/models/get_pix_bank_account_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_response.py` & `mundiapi-2.4.5/mundiapi/models/customers_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/location.py` & `mundiapi-2.4.5/mundiapi/models/location.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_discounts_response.py` & `mundiapi-2.4.5/mundiapi/models/list_discounts_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/period.py` & `mundiapi-2.4.5/mundiapi/models/period.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/__init__.py` & `mundiapi-2.4.5/mundiapi/models/__init__.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_order_item_response.py` & `mundiapi-2.4.5/mundiapi/models/get_order_item_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_cycles_pay_response.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_cycles_pay_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/orders_response_1.py` & `mundiapi-2.4.5/mundiapi/models/orders_response_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_automatic_anticipation_settings_request.py` & `mundiapi-2.4.5/mundiapi/models/update_automatic_anticipation_settings_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_card_request.py` & `mundiapi-2.4.5/mundiapi/models/update_card_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/order.py` & `mundiapi-2.4.5/mundiapi/models/order.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_items_response_3.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_items_response_3.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_card_options_request.py` & `mundiapi-2.4.5/mundiapi/models/create_card_options_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_transfer.py` & `mundiapi-2.4.5/mundiapi/models/create_transfer.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_anticipations_request.py` & `mundiapi-2.4.5/mundiapi/models/recipients_anticipations_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_emv_data_tlv_decrypt_request.py` & `mundiapi-2.4.5/mundiapi/models/create_emv_data_tlv_decrypt_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/gateway_response.py` & `mundiapi-2.4.5/mundiapi/models/gateway_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_charge_card_request.py` & `mundiapi-2.4.5/mundiapi/models/update_charge_card_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_checkout_card_installment_options_response.py` & `mundiapi-2.4.5/mundiapi/models/get_checkout_card_installment_options_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_order_response.py` & `mundiapi-2.4.5/mundiapi/models/get_order_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_request.py` & `mundiapi-2.4.5/mundiapi/models/customers_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_subscription_card_request.py` & `mundiapi-2.4.5/mundiapi/models/update_subscription_card_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/private_label.py` & `mundiapi-2.4.5/mundiapi/models/private_label.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_cycles_pay_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_cycles_pay_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_metadata_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_metadata_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_plans_response.py` & `mundiapi-2.4.5/mundiapi/models/list_plans_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_private_label_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_private_label_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_billing_address_response.py` & `mundiapi-2.4.5/mundiapi/models/get_billing_address_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_clear_sale_request.py` & `mundiapi-2.4.5/mundiapi/models/create_clear_sale_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_customer_request.py` & `mundiapi-2.4.5/mundiapi/models/update_customer_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_anticipations_response.py` & `mundiapi-2.4.5/mundiapi/models/recipients_anticipations_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/authentication_2.py` & `mundiapi-2.4.5/mundiapi/models/authentication_2.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/invoices_metadata_response.py` & `mundiapi-2.4.5/mundiapi/models/invoices_metadata_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/clear_sale_request.py` & `mundiapi-2.4.5/mundiapi/models/clear_sale_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/orders_items_request.py` & `mundiapi-2.4.5/mundiapi/models/orders_items_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_cards_response.py` & `mundiapi-2.4.5/mundiapi/models/customers_cards_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_transfer_response.py` & `mundiapi-2.4.5/mundiapi/models/get_transfer_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_transfer_target_response.py` & `mundiapi-2.4.5/mundiapi/models/get_transfer_target_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_cycles_response.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_cycles_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_access_token_response.py` & `mundiapi-2.4.5/mundiapi/models/get_access_token_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_invoices_response.py` & `mundiapi-2.4.5/mundiapi/models/list_invoices_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_addresses_request_1.py` & `mundiapi-2.4.5/mundiapi/models/customers_addresses_request_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_emv_decrypt_request.py` & `mundiapi-2.4.5/mundiapi/models/create_emv_decrypt_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_request_1.py` & `mundiapi-2.4.5/mundiapi/models/recipients_request_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_default_bank_account_response.py` & `mundiapi-2.4.5/mundiapi/models/recipients_default_bank_account_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/credit_card_2.py` & `mundiapi-2.4.5/mundiapi/models/credit_card_2.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/checkout.py` & `mundiapi-2.4.5/mundiapi/models/checkout.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_gateway_affiliation_id_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_gateway_affiliation_id_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_split_response.py` & `mundiapi-2.4.5/mundiapi/models/get_split_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/default_bank_account.py` & `mundiapi-2.4.5/mundiapi/models/default_bank_account.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_phones_request.py` & `mundiapi-2.4.5/mundiapi/models/create_phones_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_usages_details_response.py` & `mundiapi-2.4.5/mundiapi/models/get_usages_details_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_plan_response.py` & `mundiapi-2.4.5/mundiapi/models/get_plan_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_google_pay_request.py` & `mundiapi-2.4.5/mundiapi/models/create_google_pay_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_subscription_item_request.py` & `mundiapi-2.4.5/mundiapi/models/update_subscription_item_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_response_3.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_response_3.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_charge_payment_method_request.py` & `mundiapi-2.4.5/mundiapi/models/update_charge_payment_method_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_token_request.py` & `mundiapi-2.4.5/mundiapi/models/create_token_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_pricing_scheme_response.py` & `mundiapi-2.4.5/mundiapi/models/get_pricing_scheme_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_pix_payer_response.py` & `mundiapi-2.4.5/mundiapi/models/get_pix_payer_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_gateway_recipient_response.py` & `mundiapi-2.4.5/mundiapi/models/get_gateway_recipient_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customer_8.py` & `mundiapi-2.4.5/mundiapi/models/customer_8.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_interest_response.py` & `mundiapi-2.4.5/mundiapi/models/get_interest_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_transfers.py` & `mundiapi-2.4.5/mundiapi/models/list_transfers.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_payment_method_request.py` & `mundiapi-2.4.5/mundiapi/models/charges_payment_method_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_order_request.py` & `mundiapi-2.4.5/mundiapi/models/create_order_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/setup.py` & `mundiapi-2.4.5/mundiapi/models/setup.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_transaction_response.py` & `mundiapi-2.4.5/mundiapi/models/get_transaction_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_balance_response.py` & `mundiapi-2.4.5/mundiapi/models/recipients_balance_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/orders_items_response_1.py` & `mundiapi-2.4.5/mundiapi/models/orders_items_response_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_cancel_charge_request.py` & `mundiapi-2.4.5/mundiapi/models/create_cancel_charge_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_location_response.py` & `mundiapi-2.4.5/mundiapi/models/get_location_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_card_token_response.py` & `mundiapi-2.4.5/mundiapi/models/get_card_token_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_boleto_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_boleto_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_checkout_debit_card_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_checkout_debit_card_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/orders_metadata_response.py` & `mundiapi-2.4.5/mundiapi/models/orders_metadata_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_payment_method_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_payment_method_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_debit_card_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_debit_card_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_capture_request.py` & `mundiapi-2.4.5/mundiapi/models/charges_capture_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_gateway_error_response.py` & `mundiapi-2.4.5/mundiapi/models/get_gateway_error_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_recipient_response.py` & `mundiapi-2.4.5/mundiapi/models/list_recipient_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_subscription_request.py` & `mundiapi-2.4.5/mundiapi/models/create_subscription_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_transfer_settings_request.py` & `mundiapi-2.4.5/mundiapi/models/create_transfer_settings_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/orders_response.py` & `mundiapi-2.4.5/mundiapi/models/orders_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/shipping.py` & `mundiapi-2.4.5/mundiapi/models/shipping.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_address_request.py` & `mundiapi-2.4.5/mundiapi/models/update_address_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/shipping_3.py` & `mundiapi-2.4.5/mundiapi/models/shipping_3.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_transfer_response.py` & `mundiapi-2.4.5/mundiapi/models/list_transfer_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_withdraw_request.py` & `mundiapi-2.4.5/mundiapi/models/create_withdraw_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_balance_response.py` & `mundiapi-2.4.5/mundiapi/models/get_balance_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_items_usages_response.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_items_usages_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/invoices_metadata_request.py` & `mundiapi-2.4.5/mundiapi/models/invoices_metadata_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_transfer_settings_request.py` & `mundiapi-2.4.5/mundiapi/models/update_transfer_settings_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_transfers_response_1.py` & `mundiapi-2.4.5/mundiapi/models/recipients_transfers_response_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_usages_details_response.py` & `mundiapi-2.4.5/mundiapi/models/list_usages_details_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/header.py` & `mundiapi-2.4.5/mundiapi/models/header.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/pricing_scheme.py` & `mundiapi-2.4.5/mundiapi/models/pricing_scheme.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_checkout_boleto_payment_response.py` & `mundiapi-2.4.5/mundiapi/models/get_checkout_boleto_payment_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_response.py` & `mundiapi-2.4.5/mundiapi/models/charges_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_order_item_request.py` & `mundiapi-2.4.5/mundiapi/models/update_order_item_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/plans_items_request.py` & `mundiapi-2.4.5/mundiapi/models/plans_items_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_items_request_1.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_items_request_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/interest.py` & `mundiapi-2.4.5/mundiapi/models/interest.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_three_d_secure_request.py` & `mundiapi-2.4.5/mundiapi/models/create_three_d_secure_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_response.py` & `mundiapi-2.4.5/mundiapi/models/recipients_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_plan_request.py` & `mundiapi-2.4.5/mundiapi/models/create_plan_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_subscription_affiliation_id_request.py` & `mundiapi-2.4.5/mundiapi/models/update_subscription_affiliation_id_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_request_1.py` & `mundiapi-2.4.5/mundiapi/models/charges_request_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_checkout_payment_response.py` & `mundiapi-2.4.5/mundiapi/models/get_checkout_payment_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_order_item_request.py` & `mundiapi-2.4.5/mundiapi/models/create_order_item_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_metadata_request.py` & `mundiapi-2.4.5/mundiapi/models/update_metadata_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/setup_1.py` & `mundiapi-2.4.5/mundiapi/models/setup_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_increments_response.py` & `mundiapi-2.4.5/mundiapi/models/list_increments_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_price_bracket_request.py` & `mundiapi-2.4.5/mundiapi/models/create_price_bracket_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_address_response.py` & `mundiapi-2.4.5/mundiapi/models/get_address_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_cancel_charge_split_rules_request.py` & `mundiapi-2.4.5/mundiapi/models/create_cancel_charge_split_rules_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_anticipation_response.py` & `mundiapi-2.4.5/mundiapi/models/get_anticipation_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/cancel_split_request.py` & `mundiapi-2.4.5/mundiapi/models/cancel_split_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_plan_request.py` & `mundiapi-2.4.5/mundiapi/models/update_plan_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_anticipation_limit_response.py` & `mundiapi-2.4.5/mundiapi/models/get_anticipation_limit_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_subscription_billing_date_request.py` & `mundiapi-2.4.5/mundiapi/models/update_subscription_billing_date_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_withdraw_target_response.py` & `mundiapi-2.4.5/mundiapi/models/get_withdraw_target_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_split_options_request.py` & `mundiapi-2.4.5/mundiapi/models/create_split_options_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_order_status_request.py` & `mundiapi-2.4.5/mundiapi/models/update_order_status_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_increment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_increment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_subscription_response.py` & `mundiapi-2.4.5/mundiapi/models/get_subscription_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/header_1.py` & `mundiapi-2.4.5/mundiapi/models/header_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_access_token_request.py` & `mundiapi-2.4.5/mundiapi/models/create_access_token_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_token_response.py` & `mundiapi-2.4.5/mundiapi/models/get_token_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_transactions_response.py` & `mundiapi-2.4.5/mundiapi/models/list_transactions_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_transfer.py` & `mundiapi-2.4.5/mundiapi/models/get_transfer.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_gateway_response_response.py` & `mundiapi-2.4.5/mundiapi/models/get_gateway_response_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_plan_item_request.py` & `mundiapi-2.4.5/mundiapi/models/update_plan_item_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_checkout_credit_card_payment_response.py` & `mundiapi-2.4.5/mundiapi/models/get_checkout_credit_card_payment_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_transactions_files_response.py` & `mundiapi-2.4.5/mundiapi/models/list_transactions_files_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/invoices_response_2.py` & `mundiapi-2.4.5/mundiapi/models/invoices_response_2.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_addresses_response.py` & `mundiapi-2.4.5/mundiapi/models/list_addresses_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_checkout_boleto_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_checkout_boleto_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_access_tokens_response.py` & `mundiapi-2.4.5/mundiapi/models/customers_access_tokens_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_setup_response.py` & `mundiapi-2.4.5/mundiapi/models/get_setup_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_address_request.py` & `mundiapi-2.4.5/mundiapi/models/create_address_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_sub_merchant_request.py` & `mundiapi-2.4.5/mundiapi/models/create_sub_merchant_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_pricing_scheme_request.py` & `mundiapi-2.4.5/mundiapi/models/create_pricing_scheme_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_capture_response.py` & `mundiapi-2.4.5/mundiapi/models/charges_capture_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_subscription_start_at_request.py` & `mundiapi-2.4.5/mundiapi/models/update_subscription_start_at_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_transfer_source_response.py` & `mundiapi-2.4.5/mundiapi/models/get_transfer_source_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/orders_metadata_request.py` & `mundiapi-2.4.5/mundiapi/models/orders_metadata_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_subscription_item_request.py` & `mundiapi-2.4.5/mundiapi/models/create_subscription_item_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_transfer_request.py` & `mundiapi-2.4.5/mundiapi/models/create_transfer_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_subscription_payment_method_request.py` & `mundiapi-2.4.5/mundiapi/models/update_subscription_payment_method_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_plan_item_request.py` & `mundiapi-2.4.5/mundiapi/models/create_plan_item_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/pix.py` & `mundiapi-2.4.5/mundiapi/models/pix.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_shipping_response.py` & `mundiapi-2.4.5/mundiapi/models/get_shipping_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_retry_response.py` & `mundiapi-2.4.5/mundiapi/models/charges_retry_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/bank_transfer_1.py` & `mundiapi-2.4.5/mundiapi/models/bank_transfer_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_payment_method_response.py` & `mundiapi-2.4.5/mundiapi/models/charges_payment_method_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/plans_request_1.py` & `mundiapi-2.4.5/mundiapi/models/plans_request_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_google_pay_header_request.py` & `mundiapi-2.4.5/mundiapi/models/create_google_pay_header_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/address_1.py` & `mundiapi-2.4.5/mundiapi/models/address_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_minimum_price_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_minimum_price_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/invoices_response.py` & `mundiapi-2.4.5/mundiapi/models/invoices_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_setup_request.py` & `mundiapi-2.4.5/mundiapi/models/create_setup_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_cards_request.py` & `mundiapi-2.4.5/mundiapi/models/customers_cards_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_usage_report_response.py` & `mundiapi-2.4.5/mundiapi/models/get_usage_report_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/max.py` & `mundiapi-2.4.5/mundiapi/models/max.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_metadata_request.py` & `mundiapi-2.4.5/mundiapi/models/charges_metadata_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/invoices_status_response.py` & `mundiapi-2.4.5/mundiapi/models/invoices_status_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_cards_response.py` & `mundiapi-2.4.5/mundiapi/models/list_cards_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_increment_response.py` & `mundiapi-2.4.5/mundiapi/models/get_increment_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_emv_data_decrypt_request.py` & `mundiapi-2.4.5/mundiapi/models/create_emv_data_decrypt_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_seller_request.py` & `mundiapi-2.4.5/mundiapi/models/update_seller_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_card_response.py` & `mundiapi-2.4.5/mundiapi/models/get_card_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/pricing_scheme_3.py` & `mundiapi-2.4.5/mundiapi/models/pricing_scheme_3.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/apple_pay.py` & `mundiapi-2.4.5/mundiapi/models/apple_pay.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/authentication.py` & `mundiapi-2.4.5/mundiapi/models/authentication.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_phones_response.py` & `mundiapi-2.4.5/mundiapi/models/get_phones_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_metadata_response.py` & `mundiapi-2.4.5/mundiapi/models/recipients_metadata_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_request_1.py` & `mundiapi-2.4.5/mundiapi/models/customers_request_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/threed_secure.py` & `mundiapi-2.4.5/mundiapi/models/threed_secure.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_anticipation_request.py` & `mundiapi-2.4.5/mundiapi/models/create_anticipation_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_response_1.py` & `mundiapi-2.4.5/mundiapi/models/recipients_response_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_split_options_response.py` & `mundiapi-2.4.5/mundiapi/models/get_split_options_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_access_tokens_response.py` & `mundiapi-2.4.5/mundiapi/models/list_access_tokens_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_transfer_settings_response.py` & `mundiapi-2.4.5/mundiapi/models/get_transfer_settings_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/plans_request.py` & `mundiapi-2.4.5/mundiapi/models/plans_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/bank_account.py` & `mundiapi-2.4.5/mundiapi/models/bank_account.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_invoice_response.py` & `mundiapi-2.4.5/mundiapi/models/get_invoice_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_periods_latest_end_at_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_periods_latest_end_at_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_automatic_anticipation_settings_response.py` & `mundiapi-2.4.5/mundiapi/models/recipients_automatic_anticipation_settings_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_cycles_response_2.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_cycles_response_2.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_recipient_bank_account_request.py` & `mundiapi-2.4.5/mundiapi/models/update_recipient_bank_account_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_usages_response.py` & `mundiapi-2.4.5/mundiapi/models/list_usages_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_card_payment_contactless_poi_request.py` & `mundiapi-2.4.5/mundiapi/models/create_card_payment_contactless_poi_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_seller_response.py` & `mundiapi-2.4.5/mundiapi/models/get_seller_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_discount_request.py` & `mundiapi-2.4.5/mundiapi/models/create_discount_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_usage_request.py` & `mundiapi-2.4.5/mundiapi/models/create_usage_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_apple_pay_request.py` & `mundiapi-2.4.5/mundiapi/models/create_apple_pay_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_recipient_response.py` & `mundiapi-2.4.5/mundiapi/models/get_recipient_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_split_request.py` & `mundiapi-2.4.5/mundiapi/models/create_split_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_phone_response.py` & `mundiapi-2.4.5/mundiapi/models/get_phone_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_transaction_report_file_request.py` & `mundiapi-2.4.5/mundiapi/models/create_transaction_report_file_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_response_2.py` & `mundiapi-2.4.5/mundiapi/models/charges_response_2.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_fine_request.py` & `mundiapi-2.4.5/mundiapi/models/create_fine_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_fine_response.py` & `mundiapi-2.4.5/mundiapi/models/get_fine_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/card.py` & `mundiapi-2.4.5/mundiapi/models/card.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_items_usages_response_1.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_items_usages_response_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_confirm_payment_response.py` & `mundiapi-2.4.5/mundiapi/models/charges_confirm_payment_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/card_9.py` & `mundiapi-2.4.5/mundiapi/models/card_9.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_cards_request_1.py` & `mundiapi-2.4.5/mundiapi/models/customers_cards_request_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_invoice_request.py` & `mundiapi-2.4.5/mundiapi/models/create_invoice_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_withdraw_response.py` & `mundiapi-2.4.5/mundiapi/models/get_withdraw_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_automatic_anticipation_settings_request.py` & `mundiapi-2.4.5/mundiapi/models/create_automatic_anticipation_settings_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/plans_response.py` & `mundiapi-2.4.5/mundiapi/models/plans_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_request.py` & `mundiapi-2.4.5/mundiapi/models/recipients_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/orders_items_response.py` & `mundiapi-2.4.5/mundiapi/models/orders_items_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/card_11.py` & `mundiapi-2.4.5/mundiapi/models/card_11.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/plans_metadata_response.py` & `mundiapi-2.4.5/mundiapi/models/plans_metadata_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_code_response.py` & `mundiapi-2.4.5/mundiapi/models/recipients_code_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_charge_due_date_request.py` & `mundiapi-2.4.5/mundiapi/models/update_charge_due_date_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_emv_data_dukpt_decrypt_request.py` & `mundiapi-2.4.5/mundiapi/models/create_emv_data_dukpt_decrypt_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_charge_response.py` & `mundiapi-2.4.5/mundiapi/models/get_charge_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_checkout_card_installment_option_request.py` & `mundiapi-2.4.5/mundiapi/models/create_checkout_card_installment_option_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/contactless.py` & `mundiapi-2.4.5/mundiapi/models/contactless.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_sellers_request.py` & `mundiapi-2.4.5/mundiapi/models/get_sellers_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/orders_items_request_1.py` & `mundiapi-2.4.5/mundiapi/models/orders_items_request_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_charges_response.py` & `mundiapi-2.4.5/mundiapi/models/list_charges_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_response_3.py` & `mundiapi-2.4.5/mundiapi/models/customers_response_3.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/debit_card_1.py` & `mundiapi-2.4.5/mundiapi/models/debit_card_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_payment_authentication_response.py` & `mundiapi-2.4.5/mundiapi/models/get_payment_authentication_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charge.py` & `mundiapi-2.4.5/mundiapi/models/charge.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_interest_request.py` & `mundiapi-2.4.5/mundiapi/models/create_interest_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_card_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_card_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_cycles_response.py` & `mundiapi-2.4.5/mundiapi/models/list_cycles_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/card_1.py` & `mundiapi-2.4.5/mundiapi/models/card_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_checkout_bank_transfer_request.py` & `mundiapi-2.4.5/mundiapi/models/create_checkout_bank_transfer_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/payment.py` & `mundiapi-2.4.5/mundiapi/models/payment.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_discounts_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_discounts_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/paging.py` & `mundiapi-2.4.5/mundiapi/models/paging.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/plans_items_response.py` & `mundiapi-2.4.5/mundiapi/models/plans_items_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_anticipations_response_1.py` & `mundiapi-2.4.5/mundiapi/models/recipients_anticipations_response_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_apple_pay_header_request.py` & `mundiapi-2.4.5/mundiapi/models/create_apple_pay_header_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/boleto_1.py` & `mundiapi-2.4.5/mundiapi/models/boleto_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/default_bank_account_1.py` & `mundiapi-2.4.5/mundiapi/models/default_bank_account_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/voucher.py` & `mundiapi-2.4.5/mundiapi/models/voucher.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/token.py` & `mundiapi-2.4.5/mundiapi/models/token.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_price_bracket_request.py` & `mundiapi-2.4.5/mundiapi/models/update_price_bracket_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_subscription_item_response.py` & `mundiapi-2.4.5/mundiapi/models/get_subscription_item_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_antifraud_request.py` & `mundiapi-2.4.5/mundiapi/models/create_antifraud_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_metadata_response.py` & `mundiapi-2.4.5/mundiapi/models/customers_metadata_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_card_response.py` & `mundiapi-2.4.5/mundiapi/models/charges_card_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_seller_request.py` & `mundiapi-2.4.5/mundiapi/models/create_seller_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_pricing_scheme_request.py` & `mundiapi-2.4.5/mundiapi/models/update_pricing_scheme_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/paging_response.py` & `mundiapi-2.4.5/mundiapi/models/paging_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/current_cycle.py` & `mundiapi-2.4.5/mundiapi/models/current_cycle.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/billing_address.py` & `mundiapi-2.4.5/mundiapi/models/billing_address.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_subscription_items_response.py` & `mundiapi-2.4.5/mundiapi/models/list_subscription_items_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_subscription_split_request.py` & `mundiapi-2.4.5/mundiapi/models/create_subscription_split_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_phone_request.py` & `mundiapi-2.4.5/mundiapi/models/create_phone_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/recipients_transfer_settings_response.py` & `mundiapi-2.4.5/mundiapi/models/recipients_transfer_settings_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/min.py` & `mundiapi-2.4.5/mundiapi/models/min.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_addresses_request.py` & `mundiapi-2.4.5/mundiapi/models/customers_addresses_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/plan.py` & `mundiapi-2.4.5/mundiapi/models/plan.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_cash_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_cash_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_capture_charge_request.py` & `mundiapi-2.4.5/mundiapi/models/create_capture_charge_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_pix_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_pix_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/update_subscription_minimum_price_request.py` & `mundiapi-2.4.5/mundiapi/models/update_subscription_minimum_price_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/google_pay.py` & `mundiapi-2.4.5/mundiapi/models/google_pay.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_confirm_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_confirm_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_credit_card_payment_request.py` & `mundiapi-2.4.5/mundiapi/models/create_credit_card_payment_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/address.py` & `mundiapi-2.4.5/mundiapi/models/address.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_automatic_anticipation_response.py` & `mundiapi-2.4.5/mundiapi/models/get_automatic_anticipation_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/list_seller_response.py` & `mundiapi-2.4.5/mundiapi/models/list_seller_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/customers_addresses_response.py` & `mundiapi-2.4.5/mundiapi/models/customers_addresses_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/orders_request.py` & `mundiapi-2.4.5/mundiapi/models/orders_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_card_token_request.py` & `mundiapi-2.4.5/mundiapi/models/create_card_token_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_three_d_secure_response.py` & `mundiapi-2.4.5/mundiapi/models/get_three_d_secure_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/subscriptions_start_at_request.py` & `mundiapi-2.4.5/mundiapi/models/subscriptions_start_at_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/billing_address_1.py` & `mundiapi-2.4.5/mundiapi/models/billing_address_1.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/charges_card_request.py` & `mundiapi-2.4.5/mundiapi/models/charges_card_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_shipping_request.py` & `mundiapi-2.4.5/mundiapi/models/create_shipping_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/create_card_payment_token_request.py` & `mundiapi-2.4.5/mundiapi/models/create_card_payment_token_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_discount_response.py` & `mundiapi-2.4.5/mundiapi/models/get_discount_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/models/get_withdraw_source_response.py` & `mundiapi-2.4.5/mundiapi/models/get_withdraw_source_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/controllers/charges_controller.py` & `mundiapi-2.4.5/mundiapi/controllers/charges_controller.py`

 * *Files 2% similar despite different names*

```diff
@@ -55,15 +55,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -118,14 +119,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.delete(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -183,14 +185,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -247,14 +250,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -334,15 +338,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -395,14 +400,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -459,14 +465,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -524,14 +531,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -589,14 +597,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -653,14 +662,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -712,14 +722,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -780,15 +791,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -847,15 +859,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
```

### Comparing `mundiapi-2.4.4/mundiapi/controllers/customers_controller.py` & `mundiapi-2.4.5/mundiapi/controllers/customers_controller.py`

 * *Files 2% similar despite different names*

```diff
@@ -61,14 +61,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -129,15 +130,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -192,14 +194,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -250,15 +253,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -307,15 +311,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -374,15 +379,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -437,14 +443,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -498,15 +505,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -562,14 +570,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -622,15 +631,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -689,14 +699,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -754,14 +765,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -817,14 +829,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -885,15 +898,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -949,14 +963,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -1007,14 +1022,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -1082,15 +1098,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -1146,14 +1163,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -1213,14 +1231,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -1278,14 +1297,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -1338,15 +1358,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
```

### Comparing `mundiapi-2.4.4/mundiapi/controllers/tokens_controller.py` & `mundiapi-2.4.5/mundiapi/controllers/tokens_controller.py`

 * *Files 7% similar despite different names*

```diff
@@ -57,14 +57,15 @@
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         _context = self.execute_request(_request)
@@ -124,15 +125,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         _context = self.execute_request(_request)
 
         # Endpoint and global error handling using HTTP status codes.
```

### Comparing `mundiapi-2.4.4/mundiapi/controllers/transfers_controller.py` & `mundiapi-2.4.5/mundiapi/controllers/transfers_controller.py`

 * *Files 6% similar despite different names*

```diff
@@ -44,14 +44,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json'
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -101,15 +102,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -151,15 +153,16 @@
         _url_path = '/transfers'
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
```

### Comparing `mundiapi-2.4.4/mundiapi/controllers/subscriptions_controller.py` & `mundiapi-2.4.5/mundiapi/controllers/subscriptions_controller.py`

 * *Files 2% similar despite different names*

```diff
@@ -198,6264 +198,6424 @@
 00000c50: 5f62 7569 6c64 6572 290d 0a0d 0a20 2020  _builder)....   
 00000c60: 2020 2020 2023 2050 7265 7061 7265 2068       # Prepare h
 00000c70: 6561 6465 7273 0d0a 2020 2020 2020 2020  eaders..        
 00000c80: 5f68 6561 6465 7273 203d 207b 0d0a 2020  _headers = {..  
 00000c90: 2020 2020 2020 2020 2020 2761 6363 6570            'accep
 00000ca0: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
 00000cb0: 2f6a 736f 6e27 2c0d 0a20 2020 2020 2020  /json',..       
-00000cc0: 2020 2020 2027 436f 6e74 656e 742d 5479       'Content-Ty
-00000cd0: 7065 273a 2027 6170 706c 6963 6174 696f  pe': 'applicatio
-00000ce0: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
-00000cf0: 2020 2020 2020 2769 6465 6d70 6f74 656e        'idempoten
-00000d00: 6379 2d6b 6579 273a 2069 6465 6d70 6f74  cy-key': idempot
-00000d10: 656e 6379 5f6b 6579 0d0a 2020 2020 2020  ency_key..      
-00000d20: 2020 7d0d 0a0d 0a20 2020 2020 2020 2023    }....        #
-00000d30: 2050 7265 7061 7265 2061 6e64 2065 7865   Prepare and exe
-00000d40: 6375 7465 2072 6571 7565 7374 0d0a 2020  cute request..  
-00000d50: 2020 2020 2020 5f72 6571 7565 7374 203d        _request =
-00000d60: 2073 656c 662e 6874 7470 5f63 6c69 656e   self.http_clien
-00000d70: 742e 706f 7374 285f 7175 6572 795f 7572  t.post(_query_ur
-00000d80: 6c2c 2068 6561 6465 7273 3d5f 6865 6164  l, headers=_head
-00000d90: 6572 732c 2070 6172 616d 6574 6572 733d  ers, parameters=
-00000da0: 4150 4948 656c 7065 722e 6a73 6f6e 5f73  APIHelper.json_s
-00000db0: 6572 6961 6c69 7a65 2862 6f64 7929 290d  erialize(body)).
-00000dc0: 0a20 2020 2020 2020 2042 6173 6963 4175  .        BasicAu
-00000dd0: 7468 2e61 7070 6c79 285f 7265 7175 6573  th.apply(_reques
-00000de0: 7429 0d0a 2020 2020 2020 2020 5f63 6f6e  t)..        _con
-00000df0: 7465 7874 203d 2073 656c 662e 6578 6563  text = self.exec
-00000e00: 7574 655f 7265 7175 6573 7428 5f72 6571  ute_request(_req
-00000e10: 7565 7374 290d 0a0d 0a20 2020 2020 2020  uest)....       
-00000e20: 2023 2045 6e64 706f 696e 7420 616e 6420   # Endpoint and 
-00000e30: 676c 6f62 616c 2065 7272 6f72 2068 616e  global error han
-00000e40: 646c 696e 6720 7573 696e 6720 4854 5450  dling using HTTP
-00000e50: 2073 7461 7475 7320 636f 6465 732e 0d0a   status codes...
-00000e60: 2020 2020 2020 2020 6966 205f 636f 6e74          if _cont
-00000e70: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00000e80: 7475 735f 636f 6465 203d 3d20 3430 303a  tus_code == 400:
-00000e90: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00000ea0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00000eb0: 6f6e 2827 496e 7661 6c69 6420 7265 7175  on('Invalid requ
-00000ec0: 6573 7427 2c20 5f63 6f6e 7465 7874 290d  est', _context).
-00000ed0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-00000ee0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-00000ef0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-00000f00: 3031 3a0d 0a20 2020 2020 2020 2020 2020  01:..           
-00000f10: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-00000f20: 7074 696f 6e28 2749 6e76 616c 6964 2041  ption('Invalid A
-00000f30: 5049 206b 6579 272c 205f 636f 6e74 6578  PI key', _contex
-00000f40: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-00000f50: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00000f60: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00000f70: 3d20 3430 343a 0d0a 2020 2020 2020 2020  = 404:..        
-00000f80: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-00000f90: 7863 6570 7469 6f6e 2827 416e 2069 6e66  xception('An inf
-00000fa0: 6f72 6d65 6420 7265 736f 7572 6365 2077  ormed resource w
-00000fb0: 6173 206e 6f74 2066 6f75 6e64 272c 205f  as not found', _
-00000fc0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00000fd0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00000fe0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00000ff0: 636f 6465 203d 3d20 3431 323a 0d0a 2020  code == 412:..  
-00001000: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00001010: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00001020: 4275 7369 6e65 7373 2076 616c 6964 6174  Business validat
-00001030: 696f 6e20 6572 726f 7227 2c20 5f63 6f6e  ion error', _con
-00001040: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-00001050: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-00001060: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00001070: 6520 3d3d 2034 3232 3a0d 0a20 2020 2020  e == 422:..     
-00001080: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00001090: 6f72 4578 6365 7074 696f 6e28 2743 6f6e  orException('Con
-000010a0: 7472 6163 7420 7661 6c69 6461 7469 6f6e  tract validation
-000010b0: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
-000010c0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-000010d0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-000010e0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-000010f0: 3d20 3530 303a 0d0a 2020 2020 2020 2020  = 500:..        
-00001100: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-00001110: 7863 6570 7469 6f6e 2827 496e 7465 726e  xception('Intern
-00001120: 616c 2073 6572 7665 7220 6572 726f 7227  al server error'
-00001130: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00001140: 2020 2020 2073 656c 662e 7661 6c69 6461       self.valida
-00001150: 7465 5f72 6573 706f 6e73 6528 5f63 6f6e  te_response(_con
-00001160: 7465 7874 290d 0a0d 0a20 2020 2020 2020  text)....       
-00001170: 2023 2052 6574 7572 6e20 6170 7072 6f70   # Return approp
-00001180: 7269 6174 6520 7479 7065 0d0a 2020 2020  riate type..    
-00001190: 2020 2020 7265 7475 726e 2041 5049 4865      return APIHe
-000011a0: 6c70 6572 2e6a 736f 6e5f 6465 7365 7269  lper.json_deseri
-000011b0: 616c 697a 6528 5f63 6f6e 7465 7874 2e72  alize(_context.r
-000011c0: 6573 706f 6e73 652e 7261 775f 626f 6479  esponse.raw_body
-000011d0: 2c20 5375 6273 6372 6970 7469 6f6e 7344  , SubscriptionsD
-000011e0: 6973 636f 756e 7473 5265 7370 6f6e 7365  iscountsResponse
-000011f0: 2e66 726f 6d5f 6469 6374 696f 6e61 7279  .from_dictionary
-00001200: 290d 0a0d 0a20 2020 2064 6566 2067 6574  )....    def get
-00001210: 5f73 7562 7363 7269 7074 696f 6e5f 6974  _subscription_it
-00001220: 656d 2873 656c 662c 0d0a 2020 2020 2020  em(self,..      
-00001230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001240: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
-00001250: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
-00001260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001270: 2020 2020 2020 2020 6974 656d 5f69 6429          item_id)
-00001280: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
-00001290: 6573 2061 2047 4554 2072 6571 7565 7374  es a GET request
-000012a0: 2074 6f20 2f73 7562 7363 7269 7074 696f   to /subscriptio
-000012b0: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
-000012c0: 5f69 647d 2f69 7465 6d73 2f7b 6974 656d  _id}/items/{item
-000012d0: 5f69 647d 2e0d 0a0d 0a20 2020 2020 2020  _id}.....       
-000012e0: 2047 6574 2053 7562 7363 7269 7074 696f   Get Subscriptio
-000012f0: 6e20 4974 656d 0d0a 0d0a 2020 2020 2020  n Item....      
-00001300: 2020 4172 6773 3a0d 0a20 2020 2020 2020    Args:..       
-00001310: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
-00001320: 6e5f 6964 2028 7374 7269 6e67 293a 2053  n_id (string): S
-00001330: 7562 7363 7269 7074 696f 6e20 4964 0d0a  ubscription Id..
-00001340: 2020 2020 2020 2020 2020 2020 6974 656d              item
-00001350: 5f69 6420 2873 7472 696e 6729 3a20 4974  _id (string): It
-00001360: 656d 2069 640d 0a0d 0a20 2020 2020 2020  em id....       
-00001370: 2052 6574 7572 6e73 3a0d 0a20 2020 2020   Returns:..     
-00001380: 2020 2020 2020 2047 6574 5375 6273 6372         GetSubscr
-00001390: 6970 7469 6f6e 4974 656d 5265 7370 6f6e  iptionItemRespon
-000013a0: 7365 3a20 5265 7370 6f6e 7365 2066 726f  se: Response fro
-000013b0: 6d20 7468 6520 4150 492e 200d 0a0d 0a20  m the API. .... 
-000013c0: 2020 2020 2020 2052 6169 7365 733a 0d0a         Raises:..
-000013d0: 2020 2020 2020 2020 2020 2020 4150 4945              APIE
-000013e0: 7863 6570 7469 6f6e 3a20 5768 656e 2061  xception: When a
-000013f0: 6e20 6572 726f 7220 6f63 6375 7273 2077  n error occurs w
-00001400: 6869 6c65 2066 6574 6368 696e 6720 7468  hile fetching th
-00001410: 6520 6461 7461 2066 726f 6d0d 0a20 2020  e data from..   
-00001420: 2020 2020 2020 2020 2020 2020 2074 6865               the
-00001430: 2072 656d 6f74 6520 4150 492e 2054 6869   remote API. Thi
-00001440: 7320 6578 6365 7074 696f 6e20 696e 636c  s exception incl
-00001450: 7564 6573 2074 6865 2048 5454 5020 5265  udes the HTTP Re
-00001460: 7370 6f6e 7365 0d0a 2020 2020 2020 2020  sponse..        
-00001470: 2020 2020 2020 2020 636f 6465 2c20 616e          code, an
-00001480: 2065 7272 6f72 206d 6573 7361 6765 2c20   error message, 
-00001490: 616e 6420 7468 6520 4854 5450 2062 6f64  and the HTTP bod
-000014a0: 7920 7468 6174 2077 6173 2072 6563 6569  y that was recei
-000014b0: 7665 6420 696e 0d0a 2020 2020 2020 2020  ved in..        
-000014c0: 2020 2020 2020 2020 7468 6520 7265 7175          the requ
-000014d0: 6573 742e 0d0a 0d0a 2020 2020 2020 2020  est.....        
-000014e0: 2222 220d 0a0d 0a20 2020 2020 2020 2023  """....        #
-000014f0: 2050 7265 7061 7265 2071 7565 7279 2055   Prepare query U
-00001500: 524c 0d0a 2020 2020 2020 2020 5f75 726c  RL..        _url
-00001510: 5f70 6174 6820 3d20 272f 7375 6273 6372  _path = '/subscr
-00001520: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
-00001530: 7074 696f 6e5f 6964 7d2f 6974 656d 732f  ption_id}/items/
-00001540: 7b69 7465 6d5f 6964 7d27 0d0a 2020 2020  {item_id}'..    
-00001550: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
-00001560: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
-00001570: 5f75 726c 5f77 6974 685f 7465 6d70 6c61  _url_with_templa
-00001580: 7465 5f70 6172 616d 6574 6572 7328 5f75  te_parameters(_u
-00001590: 726c 5f70 6174 682c 207b 200d 0a20 2020  rl_path, { ..   
-000015a0: 2020 2020 2020 2020 2027 7375 6273 6372           'subscr
-000015b0: 6970 7469 6f6e 5f69 6427 3a20 7375 6273  iption_id': subs
-000015c0: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
-000015d0: 2020 2020 2020 2020 2020 2769 7465 6d5f            'item_
-000015e0: 6964 273a 2069 7465 6d5f 6964 0d0a 2020  id': item_id..  
-000015f0: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
-00001600: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-00001610: 203d 2043 6f6e 6669 6775 7261 7469 6f6e   = Configuration
-00001620: 2e62 6173 655f 7572 690d 0a20 2020 2020  .base_uri..     
-00001630: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
-00001640: 7220 2b3d 205f 7572 6c5f 7061 7468 0d0a  r += _url_path..
-00001650: 2020 2020 2020 2020 5f71 7565 7279 5f75          _query_u
-00001660: 726c 203d 2041 5049 4865 6c70 6572 2e63  rl = APIHelper.c
-00001670: 6c65 616e 5f75 726c 285f 7175 6572 795f  lean_url(_query_
-00001680: 6275 696c 6465 7229 0d0a 0d0a 2020 2020  builder)....    
-00001690: 2020 2020 2320 5072 6570 6172 6520 6865      # Prepare he
-000016a0: 6164 6572 730d 0a20 2020 2020 2020 205f  aders..        _
-000016b0: 6865 6164 6572 7320 3d20 7b0d 0a20 2020  headers = {..   
-000016c0: 2020 2020 2020 2020 2027 6163 6365 7074           'accept
-000016d0: 273a 2027 6170 706c 6963 6174 696f 6e2f  ': 'application/
-000016e0: 6a73 6f6e 270d 0a20 2020 2020 2020 207d  json'..        }
-000016f0: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
-00001700: 6570 6172 6520 616e 6420 6578 6563 7574  epare and execut
-00001710: 6520 7265 7175 6573 740d 0a20 2020 2020  e request..     
-00001720: 2020 205f 7265 7175 6573 7420 3d20 7365     _request = se
-00001730: 6c66 2e68 7474 705f 636c 6965 6e74 2e67  lf.http_client.g
-00001740: 6574 285f 7175 6572 795f 7572 6c2c 2068  et(_query_url, h
-00001750: 6561 6465 7273 3d5f 6865 6164 6572 7329  eaders=_headers)
-00001760: 0d0a 2020 2020 2020 2020 4261 7369 6341  ..        BasicA
-00001770: 7574 682e 6170 706c 7928 5f72 6571 7565  uth.apply(_reque
-00001780: 7374 290d 0a20 2020 2020 2020 205f 636f  st)..        _co
-00001790: 6e74 6578 7420 3d20 7365 6c66 2e65 7865  ntext = self.exe
-000017a0: 6375 7465 5f72 6571 7565 7374 285f 7265  cute_request(_re
-000017b0: 7175 6573 7429 0d0a 0d0a 2020 2020 2020  quest)....      
-000017c0: 2020 2320 456e 6470 6f69 6e74 2061 6e64    # Endpoint and
-000017d0: 2067 6c6f 6261 6c20 6572 726f 7220 6861   global error ha
-000017e0: 6e64 6c69 6e67 2075 7369 6e67 2048 5454  ndling using HTT
-000017f0: 5020 7374 6174 7573 2063 6f64 6573 2e0d  P status codes..
-00001800: 0a20 2020 2020 2020 2069 6620 5f63 6f6e  .        if _con
-00001810: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00001820: 6174 7573 5f63 6f64 6520 3d3d 2034 3030  atus_code == 400
-00001830: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00001840: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00001850: 696f 6e28 2749 6e76 616c 6964 2072 6571  ion('Invalid req
-00001860: 7565 7374 272c 205f 636f 6e74 6578 7429  uest', _context)
-00001870: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00001880: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00001890: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-000018a0: 3430 313a 0d0a 2020 2020 2020 2020 2020  401:..          
-000018b0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-000018c0: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-000018d0: 4150 4920 6b65 7927 2c20 5f63 6f6e 7465  API key', _conte
-000018e0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-000018f0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00001900: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00001910: 3d3d 2034 3034 3a0d 0a20 2020 2020 2020  == 404:..       
-00001920: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00001930: 4578 6365 7074 696f 6e28 2741 6e20 696e  Exception('An in
-00001940: 666f 726d 6564 2072 6573 6f75 7263 6520  formed resource 
-00001950: 7761 7320 6e6f 7420 666f 756e 6427 2c20  was not found', 
-00001960: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00001970: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-00001980: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00001990: 5f63 6f64 6520 3d3d 2034 3132 3a0d 0a20  _code == 412:.. 
-000019a0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-000019b0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-000019c0: 2742 7573 696e 6573 7320 7661 6c69 6461  'Business valida
-000019d0: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-000019e0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-000019f0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00001a00: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00001a10: 6465 203d 3d20 3432 323a 0d0a 2020 2020  de == 422:..    
-00001a20: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00001a30: 726f 7245 7863 6570 7469 6f6e 2827 436f  rorException('Co
-00001a40: 6e74 7261 6374 2076 616c 6964 6174 696f  ntract validatio
-00001a50: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
-00001a60: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00001a70: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00001a80: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00001a90: 3d3d 2035 3030 3a0d 0a20 2020 2020 2020  == 500:..       
-00001aa0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00001ab0: 4578 6365 7074 696f 6e28 2749 6e74 6572  Exception('Inter
-00001ac0: 6e61 6c20 7365 7276 6572 2065 7272 6f72  nal server error
-00001ad0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00001ae0: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
-00001af0: 6174 655f 7265 7370 6f6e 7365 285f 636f  ate_response(_co
-00001b00: 6e74 6578 7429 0d0a 0d0a 2020 2020 2020  ntext)....      
-00001b10: 2020 2320 5265 7475 726e 2061 7070 726f    # Return appro
-00001b20: 7072 6961 7465 2074 7970 650d 0a20 2020  priate type..   
-00001b30: 2020 2020 2072 6574 7572 6e20 4150 4948       return APIH
-00001b40: 656c 7065 722e 6a73 6f6e 5f64 6573 6572  elper.json_deser
-00001b50: 6961 6c69 7a65 285f 636f 6e74 6578 742e  ialize(_context.
-00001b60: 7265 7370 6f6e 7365 2e72 6177 5f62 6f64  response.raw_bod
-00001b70: 792c 2047 6574 5375 6273 6372 6970 7469  y, GetSubscripti
-00001b80: 6f6e 4974 656d 5265 7370 6f6e 7365 2e66  onItemResponse.f
-00001b90: 726f 6d5f 6469 6374 696f 6e61 7279 290d  rom_dictionary).
-00001ba0: 0a0d 0a20 2020 2064 6566 2075 7064 6174  ...    def updat
-00001bb0: 655f 7375 6273 6372 6970 7469 6f6e 5f69  e_subscription_i
-00001bc0: 7465 6d28 7365 6c66 2c0d 0a20 2020 2020  tem(self,..     
-00001bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001be0: 2020 2020 2020 2020 2020 2020 7375 6273              subs
-00001bf0: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
-00001c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c10: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00001c20: 7465 6d5f 6964 2c0d 0a20 2020 2020 2020  tem_id,..       
-00001c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c40: 2020 2020 2020 2020 2020 626f 6479 2c0d            body,.
-00001c50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000cc0: 2020 2020 2027 5365 7276 6963 6552 6566       'ServiceRef
+00000cd0: 6572 6572 4e61 6d65 273a 2043 6f6e 6669  ererName': Confi
+00000ce0: 6775 7261 7469 6f6e 2e73 6572 7669 6365  guration.service
+00000cf0: 5f72 6566 6572 6572 5f6e 616d 652c 0d0a  _referer_name,..
+00000d00: 2020 2020 2020 2020 2020 2020 2743 6f6e              'Con
+00000d10: 7465 6e74 2d54 7970 6527 3a20 2761 7070  tent-Type': 'app
+00000d20: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
+00000d30: 0a20 2020 2020 2020 2020 2020 2027 6964  .            'id
+00000d40: 656d 706f 7465 6e63 792d 6b65 7927 3a20  empotency-key': 
+00000d50: 6964 656d 706f 7465 6e63 795f 6b65 790d  idempotency_key.
+00000d60: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
+00000d70: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+00000d80: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
+00000d90: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
+00000da0: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
+00000db0: 705f 636c 6965 6e74 2e70 6f73 7428 5f71  p_client.post(_q
+00000dc0: 7565 7279 5f75 726c 2c20 6865 6164 6572  uery_url, header
+00000dd0: 733d 5f68 6561 6465 7273 2c20 7061 7261  s=_headers, para
+00000de0: 6d65 7465 7273 3d41 5049 4865 6c70 6572  meters=APIHelper
+00000df0: 2e6a 736f 6e5f 7365 7269 616c 697a 6528  .json_serialize(
+00000e00: 626f 6479 2929 0d0a 2020 2020 2020 2020  body))..        
+00000e10: 4261 7369 6341 7574 682e 6170 706c 7928  BasicAuth.apply(
+00000e20: 5f72 6571 7565 7374 290d 0a20 2020 2020  _request)..     
+00000e30: 2020 205f 636f 6e74 6578 7420 3d20 7365     _context = se
+00000e40: 6c66 2e65 7865 6375 7465 5f72 6571 7565  lf.execute_reque
+00000e50: 7374 285f 7265 7175 6573 7429 0d0a 0d0a  st(_request)....
+00000e60: 2020 2020 2020 2020 2320 456e 6470 6f69          # Endpoi
+00000e70: 6e74 2061 6e64 2067 6c6f 6261 6c20 6572  nt and global er
+00000e80: 726f 7220 6861 6e64 6c69 6e67 2075 7369  ror handling usi
+00000e90: 6e67 2048 5454 5020 7374 6174 7573 2063  ng HTTP status c
+00000ea0: 6f64 6573 2e0d 0a20 2020 2020 2020 2069  odes...        i
+00000eb0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00000ec0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00000ed0: 3d3d 2034 3030 3a0d 0a20 2020 2020 2020  == 400:..       
+00000ee0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00000ef0: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
+00000f00: 6964 2072 6571 7565 7374 272c 205f 636f  id request', _co
+00000f10: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00000f20: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+00000f30: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00000f40: 6465 203d 3d20 3430 313a 0d0a 2020 2020  de == 401:..    
+00000f50: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00000f60: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+00000f70: 7661 6c69 6420 4150 4920 6b65 7927 2c20  valid API key', 
+00000f80: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00000f90: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+00000fa0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00000fb0: 5f63 6f64 6520 3d3d 2034 3034 3a0d 0a20  _code == 404:.. 
+00000fc0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00000fd0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00000fe0: 2741 6e20 696e 666f 726d 6564 2072 6573  'An informed res
+00000ff0: 6f75 7263 6520 7761 7320 6e6f 7420 666f  ource was not fo
+00001000: 756e 6427 2c20 5f63 6f6e 7465 7874 290d  und', _context).
+00001010: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00001020: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00001030: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00001040: 3132 3a0d 0a20 2020 2020 2020 2020 2020  12:..           
+00001050: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+00001060: 7074 696f 6e28 2742 7573 696e 6573 7320  ption('Business 
+00001070: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
+00001080: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00001090: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+000010a0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+000010b0: 7475 735f 636f 6465 203d 3d20 3432 323a  tus_code == 422:
+000010c0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+000010d0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+000010e0: 6f6e 2827 436f 6e74 7261 6374 2076 616c  on('Contract val
+000010f0: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
+00001100: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00001110: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+00001120: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00001130: 5f63 6f64 6520 3d3d 2035 3030 3a0d 0a20  _code == 500:.. 
+00001140: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00001150: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00001160: 2749 6e74 6572 6e61 6c20 7365 7276 6572  'Internal server
+00001170: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+00001180: 7429 0d0a 2020 2020 2020 2020 7365 6c66  t)..        self
+00001190: 2e76 616c 6964 6174 655f 7265 7370 6f6e  .validate_respon
+000011a0: 7365 285f 636f 6e74 6578 7429 0d0a 0d0a  se(_context)....
+000011b0: 2020 2020 2020 2020 2320 5265 7475 726e          # Return
+000011c0: 2061 7070 726f 7072 6961 7465 2074 7970   appropriate typ
+000011d0: 650d 0a20 2020 2020 2020 2072 6574 7572  e..        retur
+000011e0: 6e20 4150 4948 656c 7065 722e 6a73 6f6e  n APIHelper.json
+000011f0: 5f64 6573 6572 6961 6c69 7a65 285f 636f  _deserialize(_co
+00001200: 6e74 6578 742e 7265 7370 6f6e 7365 2e72  ntext.response.r
+00001210: 6177 5f62 6f64 792c 2053 7562 7363 7269  aw_body, Subscri
+00001220: 7074 696f 6e73 4469 7363 6f75 6e74 7352  ptionsDiscountsR
+00001230: 6573 706f 6e73 652e 6672 6f6d 5f64 6963  esponse.from_dic
+00001240: 7469 6f6e 6172 7929 0d0a 0d0a 2020 2020  tionary)....    
+00001250: 6465 6620 6765 745f 7375 6273 6372 6970  def get_subscrip
+00001260: 7469 6f6e 5f69 7465 6d28 7365 6c66 2c0d  tion_item(self,.
+00001270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001280: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00001290: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
+000012a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000012b0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+000012c0: 7465 6d5f 6964 293a 0d0a 2020 2020 2020  tem_id):..      
+000012d0: 2020 2222 2244 6f65 7320 6120 4745 5420    """Does a GET 
+000012e0: 7265 7175 6573 7420 746f 202f 7375 6273  request to /subs
+000012f0: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
+00001300: 7269 7074 696f 6e5f 6964 7d2f 6974 656d  ription_id}/item
+00001310: 732f 7b69 7465 6d5f 6964 7d2e 0d0a 0d0a  s/{item_id}.....
+00001320: 2020 2020 2020 2020 4765 7420 5375 6273          Get Subs
+00001330: 6372 6970 7469 6f6e 2049 7465 6d0d 0a0d  cription Item...
+00001340: 0a20 2020 2020 2020 2041 7267 733a 0d0a  .        Args:..
+00001350: 2020 2020 2020 2020 2020 2020 7375 6273              subs
+00001360: 6372 6970 7469 6f6e 5f69 6420 2873 7472  cription_id (str
+00001370: 696e 6729 3a20 5375 6273 6372 6970 7469  ing): Subscripti
+00001380: 6f6e 2049 640d 0a20 2020 2020 2020 2020  on Id..         
+00001390: 2020 2069 7465 6d5f 6964 2028 7374 7269     item_id (stri
+000013a0: 6e67 293a 2049 7465 6d20 6964 0d0a 0d0a  ng): Item id....
+000013b0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+000013c0: 0d0a 2020 2020 2020 2020 2020 2020 4765  ..            Ge
+000013d0: 7453 7562 7363 7269 7074 696f 6e49 7465  tSubscriptionIte
+000013e0: 6d52 6573 706f 6e73 653a 2052 6573 706f  mResponse: Respo
+000013f0: 6e73 6520 6672 6f6d 2074 6865 2041 5049  nse from the API
+00001400: 2e20 0d0a 0d0a 2020 2020 2020 2020 5261  . ....        Ra
+00001410: 6973 6573 3a0d 0a20 2020 2020 2020 2020  ises:..         
+00001420: 2020 2041 5049 4578 6365 7074 696f 6e3a     APIException:
+00001430: 2057 6865 6e20 616e 2065 7272 6f72 206f   When an error o
+00001440: 6363 7572 7320 7768 696c 6520 6665 7463  ccurs while fetc
+00001450: 6869 6e67 2074 6865 2064 6174 6120 6672  hing the data fr
+00001460: 6f6d 0d0a 2020 2020 2020 2020 2020 2020  om..            
+00001470: 2020 2020 7468 6520 7265 6d6f 7465 2041      the remote A
+00001480: 5049 2e20 5468 6973 2065 7863 6570 7469  PI. This excepti
+00001490: 6f6e 2069 6e63 6c75 6465 7320 7468 6520  on includes the 
+000014a0: 4854 5450 2052 6573 706f 6e73 650d 0a20  HTTP Response.. 
+000014b0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+000014c0: 6f64 652c 2061 6e20 6572 726f 7220 6d65  ode, an error me
+000014d0: 7373 6167 652c 2061 6e64 2074 6865 2048  ssage, and the H
+000014e0: 5454 5020 626f 6479 2074 6861 7420 7761  TTP body that wa
+000014f0: 7320 7265 6365 6976 6564 2069 6e0d 0a20  s received in.. 
+00001500: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00001510: 6865 2072 6571 7565 7374 2e0d 0a0d 0a20  he request..... 
+00001520: 2020 2020 2020 2022 2222 0d0a 0d0a 2020         """....  
+00001530: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+00001540: 7175 6572 7920 5552 4c0d 0a20 2020 2020  query URL..     
+00001550: 2020 205f 7572 6c5f 7061 7468 203d 2027     _url_path = '
+00001560: 2f73 7562 7363 7269 7074 696f 6e73 2f7b  /subscriptions/{
+00001570: 7375 6273 6372 6970 7469 6f6e 5f69 647d  subscription_id}
+00001580: 2f69 7465 6d73 2f7b 6974 656d 5f69 647d  /items/{item_id}
+00001590: 270d 0a20 2020 2020 2020 205f 7572 6c5f  '..        _url_
+000015a0: 7061 7468 203d 2041 5049 4865 6c70 6572  path = APIHelper
+000015b0: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
+000015c0: 5f74 656d 706c 6174 655f 7061 7261 6d65  _template_parame
+000015d0: 7465 7273 285f 7572 6c5f 7061 7468 2c20  ters(_url_path, 
+000015e0: 7b20 0d0a 2020 2020 2020 2020 2020 2020  { ..            
+000015f0: 2773 7562 7363 7269 7074 696f 6e5f 6964  'subscription_id
+00001600: 273a 2073 7562 7363 7269 7074 696f 6e5f  ': subscription_
+00001610: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
+00001620: 2027 6974 656d 5f69 6427 3a20 6974 656d   'item_id': item
+00001630: 5f69 640d 0a20 2020 2020 2020 207d 290d  _id..        }).
+00001640: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+00001650: 6275 696c 6465 7220 3d20 436f 6e66 6967  builder = Config
+00001660: 7572 6174 696f 6e2e 6261 7365 5f75 7269  uration.base_uri
+00001670: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+00001680: 5f62 7569 6c64 6572 202b 3d20 5f75 726c  _builder += _url
+00001690: 5f70 6174 680d 0a20 2020 2020 2020 205f  _path..        _
+000016a0: 7175 6572 795f 7572 6c20 3d20 4150 4948  query_url = APIH
+000016b0: 656c 7065 722e 636c 6561 6e5f 7572 6c28  elper.clean_url(
+000016c0: 5f71 7565 7279 5f62 7569 6c64 6572 290d  _query_builder).
+000016d0: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+000016e0: 7061 7265 2068 6561 6465 7273 0d0a 2020  pare headers..  
+000016f0: 2020 2020 2020 5f68 6561 6465 7273 203d        _headers =
+00001700: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+00001710: 2761 6363 6570 7427 3a20 2761 7070 6c69  'accept': 'appli
+00001720: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
+00001730: 2020 2020 2020 2020 2020 2027 5365 7276             'Serv
+00001740: 6963 6552 6566 6572 6572 4e61 6d65 273a  iceRefererName':
+00001750: 2043 6f6e 6669 6775 7261 7469 6f6e 2e73   Configuration.s
+00001760: 6572 7669 6365 5f72 6566 6572 6572 5f6e  ervice_referer_n
+00001770: 616d 650d 0a20 2020 2020 2020 207d 0d0a  ame..        }..
+00001780: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+00001790: 6172 6520 616e 6420 6578 6563 7574 6520  are and execute 
+000017a0: 7265 7175 6573 740d 0a20 2020 2020 2020  request..       
+000017b0: 205f 7265 7175 6573 7420 3d20 7365 6c66   _request = self
+000017c0: 2e68 7474 705f 636c 6965 6e74 2e67 6574  .http_client.get
+000017d0: 285f 7175 6572 795f 7572 6c2c 2068 6561  (_query_url, hea
+000017e0: 6465 7273 3d5f 6865 6164 6572 7329 0d0a  ders=_headers)..
+000017f0: 2020 2020 2020 2020 4261 7369 6341 7574          BasicAut
+00001800: 682e 6170 706c 7928 5f72 6571 7565 7374  h.apply(_request
+00001810: 290d 0a20 2020 2020 2020 205f 636f 6e74  )..        _cont
+00001820: 6578 7420 3d20 7365 6c66 2e65 7865 6375  ext = self.execu
+00001830: 7465 5f72 6571 7565 7374 285f 7265 7175  te_request(_requ
+00001840: 6573 7429 0d0a 0d0a 2020 2020 2020 2020  est)....        
+00001850: 2320 456e 6470 6f69 6e74 2061 6e64 2067  # Endpoint and g
+00001860: 6c6f 6261 6c20 6572 726f 7220 6861 6e64  lobal error hand
+00001870: 6c69 6e67 2075 7369 6e67 2048 5454 5020  ling using HTTP 
+00001880: 7374 6174 7573 2063 6f64 6573 2e0d 0a20  status codes... 
+00001890: 2020 2020 2020 2069 6620 5f63 6f6e 7465         if _conte
+000018a0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+000018b0: 7573 5f63 6f64 6520 3d3d 2034 3030 3a0d  us_code == 400:.
+000018c0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+000018d0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+000018e0: 6e28 2749 6e76 616c 6964 2072 6571 7565  n('Invalid reque
+000018f0: 7374 272c 205f 636f 6e74 6578 7429 0d0a  st', _context)..
+00001900: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00001910: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00001920: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+00001930: 313a 0d0a 2020 2020 2020 2020 2020 2020  1:..            
+00001940: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00001950: 7469 6f6e 2827 496e 7661 6c69 6420 4150  tion('Invalid AP
+00001960: 4920 6b65 7927 2c20 5f63 6f6e 7465 7874  I key', _context
+00001970: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00001980: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00001990: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+000019a0: 2034 3034 3a0d 0a20 2020 2020 2020 2020   404:..         
+000019b0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+000019c0: 6365 7074 696f 6e28 2741 6e20 696e 666f  ception('An info
+000019d0: 726d 6564 2072 6573 6f75 7263 6520 7761  rmed resource wa
+000019e0: 7320 6e6f 7420 666f 756e 6427 2c20 5f63  s not found', _c
+000019f0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00001a00: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00001a10: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00001a20: 6f64 6520 3d3d 2034 3132 3a0d 0a20 2020  ode == 412:..   
+00001a30: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00001a40: 7272 6f72 4578 6365 7074 696f 6e28 2742  rrorException('B
+00001a50: 7573 696e 6573 7320 7661 6c69 6461 7469  usiness validati
+00001a60: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
+00001a70: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00001a80: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00001a90: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00001aa0: 203d 3d20 3432 323a 0d0a 2020 2020 2020   == 422:..      
+00001ab0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00001ac0: 7245 7863 6570 7469 6f6e 2827 436f 6e74  rException('Cont
+00001ad0: 7261 6374 2076 616c 6964 6174 696f 6e20  ract validation 
+00001ae0: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
+00001af0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00001b00: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00001b10: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00001b20: 2035 3030 3a0d 0a20 2020 2020 2020 2020   500:..         
+00001b30: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00001b40: 6365 7074 696f 6e28 2749 6e74 6572 6e61  ception('Interna
+00001b50: 6c20 7365 7276 6572 2065 7272 6f72 272c  l server error',
+00001b60: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00001b70: 2020 2020 7365 6c66 2e76 616c 6964 6174      self.validat
+00001b80: 655f 7265 7370 6f6e 7365 285f 636f 6e74  e_response(_cont
+00001b90: 6578 7429 0d0a 0d0a 2020 2020 2020 2020  ext)....        
+00001ba0: 2320 5265 7475 726e 2061 7070 726f 7072  # Return appropr
+00001bb0: 6961 7465 2074 7970 650d 0a20 2020 2020  iate type..     
+00001bc0: 2020 2072 6574 7572 6e20 4150 4948 656c     return APIHel
+00001bd0: 7065 722e 6a73 6f6e 5f64 6573 6572 6961  per.json_deseria
+00001be0: 6c69 7a65 285f 636f 6e74 6578 742e 7265  lize(_context.re
+00001bf0: 7370 6f6e 7365 2e72 6177 5f62 6f64 792c  sponse.raw_body,
+00001c00: 2047 6574 5375 6273 6372 6970 7469 6f6e   GetSubscription
+00001c10: 4974 656d 5265 7370 6f6e 7365 2e66 726f  ItemResponse.fro
+00001c20: 6d5f 6469 6374 696f 6e61 7279 290d 0a0d  m_dictionary)...
+00001c30: 0a20 2020 2064 6566 2075 7064 6174 655f  .    def update_
+00001c40: 7375 6273 6372 6970 7469 6f6e 5f69 7465  subscription_ite
+00001c50: 6d28 7365 6c66 2c0d 0a20 2020 2020 2020  m(self,..       
 00001c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001c70: 2020 6964 656d 706f 7465 6e63 795f 6b65    idempotency_ke
-00001c80: 793d 4e6f 6e65 293a 0d0a 2020 2020 2020  y=None):..      
-00001c90: 2020 2222 2244 6f65 7320 6120 5055 5420    """Does a PUT 
-00001ca0: 7265 7175 6573 7420 746f 202f 7375 6273  request to /subs
-00001cb0: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
-00001cc0: 7269 7074 696f 6e5f 6964 7d2f 6974 656d  ription_id}/item
-00001cd0: 732f 7b69 7465 6d5f 6964 7d2e 0d0a 0d0a  s/{item_id}.....
-00001ce0: 2020 2020 2020 2020 5570 6461 7465 7320          Updates 
-00001cf0: 6120 7375 6273 6372 6970 7469 6f6e 2069  a subscription i
-00001d00: 7465 6d0d 0a0d 0a20 2020 2020 2020 2041  tem....        A
-00001d10: 7267 733a 0d0a 2020 2020 2020 2020 2020  rgs:..          
-00001d20: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
-00001d30: 6420 2873 7472 696e 6729 3a20 5375 6273  d (string): Subs
-00001d40: 6372 6970 7469 6f6e 2049 640d 0a20 2020  cription Id..   
-00001d50: 2020 2020 2020 2020 2069 7465 6d5f 6964           item_id
-00001d60: 2028 7374 7269 6e67 293a 2049 7465 6d20   (string): Item 
-00001d70: 6964 0d0a 2020 2020 2020 2020 2020 2020  id..            
-00001d80: 626f 6479 2028 5375 6273 6372 6970 7469  body (Subscripti
-00001d90: 6f6e 7349 7465 6d73 5265 7175 6573 7429  onsItemsRequest)
-00001da0: 3a20 5265 7175 6573 7420 666f 7220 7570  : Request for up
-00001db0: 6461 7469 6e67 2061 0d0a 2020 2020 2020  dating a..      
-00001dc0: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
-00001dd0: 6970 7469 6f6e 2069 7465 6d0d 0a20 2020  iption item..   
-00001de0: 2020 2020 2020 2020 2069 6465 6d70 6f74           idempot
-00001df0: 656e 6379 5f6b 6579 2028 7374 7269 6e67  ency_key (string
-00001e00: 2c20 6f70 7469 6f6e 616c 293a 2054 4f44  , optional): TOD
-00001e10: 4f3a 2074 7970 6520 6465 7363 7269 7074  O: type descript
-00001e20: 696f 6e20 6865 7265 2e0d 0a20 2020 2020  ion here...     
-00001e30: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
-00001e40: 6c65 3a20 0d0a 0d0a 2020 2020 2020 2020  le: ....        
-00001e50: 5265 7475 726e 733a 0d0a 2020 2020 2020  Returns:..      
-00001e60: 2020 2020 2020 4765 7453 7562 7363 7269        GetSubscri
-00001e70: 7074 696f 6e49 7465 6d52 6573 706f 6e73  ptionItemRespons
-00001e80: 653a 2052 6573 706f 6e73 6520 6672 6f6d  e: Response from
-00001e90: 2074 6865 2041 5049 2e20 0d0a 0d0a 2020   the API. ....  
-00001ea0: 2020 2020 2020 5261 6973 6573 3a0d 0a20        Raises:.. 
-00001eb0: 2020 2020 2020 2020 2020 2041 5049 4578             APIEx
-00001ec0: 6365 7074 696f 6e3a 2057 6865 6e20 616e  ception: When an
-00001ed0: 2065 7272 6f72 206f 6363 7572 7320 7768   error occurs wh
-00001ee0: 696c 6520 6665 7463 6869 6e67 2074 6865  ile fetching the
-00001ef0: 2064 6174 6120 6672 6f6d 0d0a 2020 2020   data from..    
-00001f00: 2020 2020 2020 2020 2020 2020 7468 6520              the 
-00001f10: 7265 6d6f 7465 2041 5049 2e20 5468 6973  remote API. This
-00001f20: 2065 7863 6570 7469 6f6e 2069 6e63 6c75   exception inclu
-00001f30: 6465 7320 7468 6520 4854 5450 2052 6573  des the HTTP Res
-00001f40: 706f 6e73 650d 0a20 2020 2020 2020 2020  ponse..         
-00001f50: 2020 2020 2020 2063 6f64 652c 2061 6e20         code, an 
-00001f60: 6572 726f 7220 6d65 7373 6167 652c 2061  error message, a
-00001f70: 6e64 2074 6865 2048 5454 5020 626f 6479  nd the HTTP body
-00001f80: 2074 6861 7420 7761 7320 7265 6365 6976   that was receiv
-00001f90: 6564 2069 6e0d 0a20 2020 2020 2020 2020  ed in..         
-00001fa0: 2020 2020 2020 2074 6865 2072 6571 7565         the reque
-00001fb0: 7374 2e0d 0a0d 0a20 2020 2020 2020 2022  st.....        "
-00001fc0: 2222 0d0a 0d0a 2020 2020 2020 2020 2320  ""....        # 
-00001fd0: 5072 6570 6172 6520 7175 6572 7920 5552  Prepare query UR
-00001fe0: 4c0d 0a20 2020 2020 2020 205f 7572 6c5f  L..        _url_
-00001ff0: 7061 7468 203d 2027 2f73 7562 7363 7269  path = '/subscri
-00002000: 7074 696f 6e73 2f7b 7375 6273 6372 6970  ptions/{subscrip
-00002010: 7469 6f6e 5f69 647d 2f69 7465 6d73 2f7b  tion_id}/items/{
-00002020: 6974 656d 5f69 647d 270d 0a20 2020 2020  item_id}'..     
-00002030: 2020 205f 7572 6c5f 7061 7468 203d 2041     _url_path = A
-00002040: 5049 4865 6c70 6572 2e61 7070 656e 645f  PIHelper.append_
-00002050: 7572 6c5f 7769 7468 5f74 656d 706c 6174  url_with_templat
-00002060: 655f 7061 7261 6d65 7465 7273 285f 7572  e_parameters(_ur
-00002070: 6c5f 7061 7468 2c20 7b20 0d0a 2020 2020  l_path, { ..    
-00002080: 2020 2020 2020 2020 2773 7562 7363 7269          'subscri
-00002090: 7074 696f 6e5f 6964 273a 2073 7562 7363  ption_id': subsc
-000020a0: 7269 7074 696f 6e5f 6964 2c0d 0a20 2020  ription_id,..   
-000020b0: 2020 2020 2020 2020 2027 6974 656d 5f69           'item_i
-000020c0: 6427 3a20 6974 656d 5f69 640d 0a20 2020  d': item_id..   
-000020d0: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
-000020e0: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
-000020f0: 3d20 436f 6e66 6967 7572 6174 696f 6e2e  = Configuration.
-00002100: 6261 7365 5f75 7269 0d0a 2020 2020 2020  base_uri..      
-00002110: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-00002120: 202b 3d20 5f75 726c 5f70 6174 680d 0a20   += _url_path.. 
-00002130: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
-00002140: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
-00002150: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
-00002160: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
-00002170: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
-00002180: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
-00002190: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
-000021a0: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
-000021b0: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
-000021c0: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
-000021d0: 2020 2027 436f 6e74 656e 742d 5479 7065     'Content-Type
-000021e0: 273a 2027 6170 706c 6963 6174 696f 6e2f  ': 'application/
-000021f0: 6a73 6f6e 272c 0d0a 2020 2020 2020 2020  json',..        
-00002200: 2020 2020 2769 6465 6d70 6f74 656e 6379      'idempotency
-00002210: 2d6b 6579 273a 2069 6465 6d70 6f74 656e  -key': idempoten
-00002220: 6379 5f6b 6579 0d0a 2020 2020 2020 2020  cy_key..        
-00002230: 7d0d 0a0d 0a20 2020 2020 2020 2023 2050  }....        # P
-00002240: 7265 7061 7265 2061 6e64 2065 7865 6375  repare and execu
-00002250: 7465 2072 6571 7565 7374 0d0a 2020 2020  te request..    
-00002260: 2020 2020 5f72 6571 7565 7374 203d 2073      _request = s
-00002270: 656c 662e 6874 7470 5f63 6c69 656e 742e  elf.http_client.
-00002280: 7075 7428 5f71 7565 7279 5f75 726c 2c20  put(_query_url, 
-00002290: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
-000022a0: 2c20 7061 7261 6d65 7465 7273 3d41 5049  , parameters=API
-000022b0: 4865 6c70 6572 2e6a 736f 6e5f 7365 7269  Helper.json_seri
-000022c0: 616c 697a 6528 626f 6479 2929 0d0a 2020  alize(body))..  
-000022d0: 2020 2020 2020 4261 7369 6341 7574 682e        BasicAuth.
-000022e0: 6170 706c 7928 5f72 6571 7565 7374 290d  apply(_request).
-000022f0: 0a20 2020 2020 2020 205f 636f 6e74 6578  .        _contex
-00002300: 7420 3d20 7365 6c66 2e65 7865 6375 7465  t = self.execute
-00002310: 5f72 6571 7565 7374 285f 7265 7175 6573  _request(_reques
-00002320: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
-00002330: 456e 6470 6f69 6e74 2061 6e64 2067 6c6f  Endpoint and glo
-00002340: 6261 6c20 6572 726f 7220 6861 6e64 6c69  bal error handli
-00002350: 6e67 2075 7369 6e67 2048 5454 5020 7374  ng using HTTP st
-00002360: 6174 7573 2063 6f64 6573 2e0d 0a20 2020  atus codes...   
-00002370: 2020 2020 2069 6620 5f63 6f6e 7465 7874       if _context
-00002380: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00002390: 5f63 6f64 6520 3d3d 2034 3030 3a0d 0a20  _code == 400:.. 
-000023a0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-000023b0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-000023c0: 2749 6e76 616c 6964 2072 6571 7565 7374  'Invalid request
-000023d0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-000023e0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-000023f0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00002400: 7475 735f 636f 6465 203d 3d20 3430 313a  tus_code == 401:
-00002410: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00002420: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00002430: 6f6e 2827 496e 7661 6c69 6420 4150 4920  on('Invalid API 
-00002440: 6b65 7927 2c20 5f63 6f6e 7465 7874 290d  key', _context).
-00002450: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-00002460: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-00002470: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-00002480: 3034 3a0d 0a20 2020 2020 2020 2020 2020  04:..           
-00002490: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-000024a0: 7074 696f 6e28 2741 6e20 696e 666f 726d  ption('An inform
-000024b0: 6564 2072 6573 6f75 7263 6520 7761 7320  ed resource was 
-000024c0: 6e6f 7420 666f 756e 6427 2c20 5f63 6f6e  not found', _con
-000024d0: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-000024e0: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-000024f0: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00002500: 6520 3d3d 2034 3132 3a0d 0a20 2020 2020  e == 412:..     
-00002510: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00002520: 6f72 4578 6365 7074 696f 6e28 2742 7573  orException('Bus
-00002530: 696e 6573 7320 7661 6c69 6461 7469 6f6e  iness validation
-00002540: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
-00002550: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-00002560: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00002570: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00002580: 3d20 3432 323a 0d0a 2020 2020 2020 2020  = 422:..        
-00002590: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-000025a0: 7863 6570 7469 6f6e 2827 436f 6e74 7261  xception('Contra
-000025b0: 6374 2076 616c 6964 6174 696f 6e20 6572  ct validation er
-000025c0: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-000025d0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-000025e0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-000025f0: 7374 6174 7573 5f63 6f64 6520 3d3d 2035  status_code == 5
-00002600: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
-00002610: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-00002620: 7074 696f 6e28 2749 6e74 6572 6e61 6c20  ption('Internal 
-00002630: 7365 7276 6572 2065 7272 6f72 272c 205f  server error', _
-00002640: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00002650: 2020 7365 6c66 2e76 616c 6964 6174 655f    self.validate_
-00002660: 7265 7370 6f6e 7365 285f 636f 6e74 6578  response(_contex
-00002670: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
-00002680: 5265 7475 726e 2061 7070 726f 7072 6961  Return appropria
-00002690: 7465 2074 7970 650d 0a20 2020 2020 2020  te type..       
-000026a0: 2072 6574 7572 6e20 4150 4948 656c 7065   return APIHelpe
-000026b0: 722e 6a73 6f6e 5f64 6573 6572 6961 6c69  r.json_deseriali
-000026c0: 7a65 285f 636f 6e74 6578 742e 7265 7370  ze(_context.resp
-000026d0: 6f6e 7365 2e72 6177 5f62 6f64 792c 2047  onse.raw_body, G
-000026e0: 6574 5375 6273 6372 6970 7469 6f6e 4974  etSubscriptionIt
-000026f0: 656d 5265 7370 6f6e 7365 2e66 726f 6d5f  emResponse.from_
-00002700: 6469 6374 696f 6e61 7279 290d 0a0d 0a20  dictionary).... 
-00002710: 2020 2064 6566 2064 656c 6574 655f 7573     def delete_us
-00002720: 6167 6528 7365 6c66 2c0d 0a20 2020 2020  age(self,..     
-00002730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002740: 7375 6273 6372 6970 7469 6f6e 5f69 642c  subscription_id,
-00002750: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00002760: 2020 2020 2020 2069 7465 6d5f 6964 2c0d         item_id,.
-00002770: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002780: 2020 2020 2020 7573 6167 655f 6964 2c0d        usage_id,.
-00002790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000027a0: 2020 2020 2020 6964 656d 706f 7465 6e63        idempotenc
-000027b0: 795f 6b65 793d 4e6f 6e65 293a 0d0a 2020  y_key=None):..  
-000027c0: 2020 2020 2020 2222 2244 6f65 7320 6120        """Does a 
-000027d0: 4445 4c45 5445 2072 6571 7565 7374 2074  DELETE request t
-000027e0: 6f20 2f73 7562 7363 7269 7074 696f 6e73  o /subscriptions
-000027f0: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
-00002800: 647d 2f69 7465 6d73 2f7b 6974 656d 5f69  d}/items/{item_i
-00002810: 647d 2f75 7361 6765 732f 7b75 7361 6765  d}/usages/{usage
-00002820: 5f69 647d 2e0d 0a0d 0a20 2020 2020 2020  _id}.....       
-00002830: 2044 656c 6574 6573 2061 2075 7361 6765   Deletes a usage
-00002840: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
-00002850: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
-00002860: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
-00002870: 7374 7269 6e67 293a 2054 6865 2073 7562  string): The sub
-00002880: 7363 7269 7074 696f 6e20 6964 0d0a 2020  scription id..  
-00002890: 2020 2020 2020 2020 2020 6974 656d 5f69            item_i
-000028a0: 6420 2873 7472 696e 6729 3a20 5468 6520  d (string): The 
-000028b0: 7375 6273 6372 6970 7469 6f6e 2069 7465  subscription ite
-000028c0: 6d20 6964 0d0a 2020 2020 2020 2020 2020  m id..          
-000028d0: 2020 7573 6167 655f 6964 2028 7374 7269    usage_id (stri
-000028e0: 6e67 293a 2054 6865 2075 7361 6765 2069  ng): The usage i
-000028f0: 640d 0a20 2020 2020 2020 2020 2020 2069  d..            i
-00002900: 6465 6d70 6f74 656e 6379 5f6b 6579 2028  dempotency_key (
-00002910: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
-00002920: 293a 2054 4f44 4f3a 2074 7970 6520 6465  ): TODO: type de
-00002930: 7363 7269 7074 696f 6e20 6865 7265 2e0d  scription here..
-00002940: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002950: 2045 7861 6d70 6c65 3a20 0d0a 0d0a 2020   Example: ....  
-00002960: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
-00002970: 2020 2020 2020 2020 2020 2020 5375 6273              Subs
-00002980: 6372 6970 7469 6f6e 7349 7465 6d73 5573  criptionsItemsUs
-00002990: 6167 6573 5573 6167 6549 6452 6573 706f  agesUsageIdRespo
-000029a0: 6e73 653a 2052 6573 706f 6e73 6520 6672  nse: Response fr
-000029b0: 6f6d 2074 6865 2041 5049 2e20 0d0a 0d0a  om the API. ....
-000029c0: 2020 2020 2020 2020 5261 6973 6573 3a0d          Raises:.
-000029d0: 0a20 2020 2020 2020 2020 2020 2041 5049  .            API
-000029e0: 4578 6365 7074 696f 6e3a 2057 6865 6e20  Exception: When 
-000029f0: 616e 2065 7272 6f72 206f 6363 7572 7320  an error occurs 
-00002a00: 7768 696c 6520 6665 7463 6869 6e67 2074  while fetching t
-00002a10: 6865 2064 6174 6120 6672 6f6d 0d0a 2020  he data from..  
-00002a20: 2020 2020 2020 2020 2020 2020 2020 7468                th
-00002a30: 6520 7265 6d6f 7465 2041 5049 2e20 5468  e remote API. Th
-00002a40: 6973 2065 7863 6570 7469 6f6e 2069 6e63  is exception inc
-00002a50: 6c75 6465 7320 7468 6520 4854 5450 2052  ludes the HTTP R
-00002a60: 6573 706f 6e73 650d 0a20 2020 2020 2020  esponse..       
-00002a70: 2020 2020 2020 2020 2063 6f64 652c 2061           code, a
-00002a80: 6e20 6572 726f 7220 6d65 7373 6167 652c  n error message,
-00002a90: 2061 6e64 2074 6865 2048 5454 5020 626f   and the HTTP bo
-00002aa0: 6479 2074 6861 7420 7761 7320 7265 6365  dy that was rece
-00002ab0: 6976 6564 2069 6e0d 0a20 2020 2020 2020  ived in..       
-00002ac0: 2020 2020 2020 2020 2074 6865 2072 6571           the req
-00002ad0: 7565 7374 2e0d 0a0d 0a20 2020 2020 2020  uest.....       
-00002ae0: 2022 2222 0d0a 0d0a 2020 2020 2020 2020   """....        
-00002af0: 2320 5072 6570 6172 6520 7175 6572 7920  # Prepare query 
-00002b00: 5552 4c0d 0a20 2020 2020 2020 205f 7572  URL..        _ur
-00002b10: 6c5f 7061 7468 203d 2027 2f73 7562 7363  l_path = '/subsc
-00002b20: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
-00002b30: 6970 7469 6f6e 5f69 647d 2f69 7465 6d73  iption_id}/items
-00002b40: 2f7b 6974 656d 5f69 647d 2f75 7361 6765  /{item_id}/usage
-00002b50: 732f 7b75 7361 6765 5f69 647d 270d 0a20  s/{usage_id}'.. 
-00002b60: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
-00002b70: 203d 2041 5049 4865 6c70 6572 2e61 7070   = APIHelper.app
-00002b80: 656e 645f 7572 6c5f 7769 7468 5f74 656d  end_url_with_tem
-00002b90: 706c 6174 655f 7061 7261 6d65 7465 7273  plate_parameters
-00002ba0: 285f 7572 6c5f 7061 7468 2c20 7b20 0d0a  (_url_path, { ..
-00002bb0: 2020 2020 2020 2020 2020 2020 2773 7562              'sub
-00002bc0: 7363 7269 7074 696f 6e5f 6964 273a 2073  scription_id': s
-00002bd0: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
-00002be0: 0a20 2020 2020 2020 2020 2020 2027 6974  .            'it
-00002bf0: 656d 5f69 6427 3a20 6974 656d 5f69 642c  em_id': item_id,
-00002c00: 0d0a 2020 2020 2020 2020 2020 2020 2775  ..            'u
-00002c10: 7361 6765 5f69 6427 3a20 7573 6167 655f  sage_id': usage_
-00002c20: 6964 0d0a 2020 2020 2020 2020 7d29 0d0a  id..        })..
-00002c30: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
-00002c40: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
-00002c50: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
-00002c60: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-00002c70: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
-00002c80: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
-00002c90: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
-00002ca0: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
-00002cb0: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
-00002cc0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-00002cd0: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
-00002ce0: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
-00002cf0: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
-00002d00: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
-00002d10: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
-00002d20: 2020 2020 2020 2020 2020 2769 6465 6d70            'idemp
-00002d30: 6f74 656e 6379 2d6b 6579 273a 2069 6465  otency-key': ide
-00002d40: 6d70 6f74 656e 6379 5f6b 6579 0d0a 2020  mpotency_key..  
-00002d50: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
-00002d60: 2020 2023 2050 7265 7061 7265 2061 6e64     # Prepare and
-00002d70: 2065 7865 6375 7465 2072 6571 7565 7374   execute request
-00002d80: 0d0a 2020 2020 2020 2020 5f72 6571 7565  ..        _reque
-00002d90: 7374 203d 2073 656c 662e 6874 7470 5f63  st = self.http_c
-00002da0: 6c69 656e 742e 6465 6c65 7465 285f 7175  lient.delete(_qu
-00002db0: 6572 795f 7572 6c2c 2068 6561 6465 7273  ery_url, headers
-00002dc0: 3d5f 6865 6164 6572 7329 0d0a 2020 2020  =_headers)..    
-00002dd0: 2020 2020 4261 7369 6341 7574 682e 6170      BasicAuth.ap
-00002de0: 706c 7928 5f72 6571 7565 7374 290d 0a20  ply(_request).. 
-00002df0: 2020 2020 2020 205f 636f 6e74 6578 7420         _context 
-00002e00: 3d20 7365 6c66 2e65 7865 6375 7465 5f72  = self.execute_r
-00002e10: 6571 7565 7374 285f 7265 7175 6573 7429  equest(_request)
-00002e20: 0d0a 0d0a 2020 2020 2020 2020 2320 456e  ....        # En
-00002e30: 6470 6f69 6e74 2061 6e64 2067 6c6f 6261  dpoint and globa
-00002e40: 6c20 6572 726f 7220 6861 6e64 6c69 6e67  l error handling
-00002e50: 2075 7369 6e67 2048 5454 5020 7374 6174   using HTTP stat
-00002e60: 7573 2063 6f64 6573 2e0d 0a20 2020 2020  us codes...     
-00002e70: 2020 2069 6620 5f63 6f6e 7465 7874 2e72     if _context.r
-00002e80: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00002e90: 6f64 6520 3d3d 2034 3030 3a0d 0a20 2020  ode == 400:..   
-00002ea0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00002eb0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-00002ec0: 6e76 616c 6964 2072 6571 7565 7374 272c  nvalid request',
-00002ed0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00002ee0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00002ef0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00002f00: 735f 636f 6465 203d 3d20 3430 313a 0d0a  s_code == 401:..
-00002f10: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00002f20: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00002f30: 2827 496e 7661 6c69 6420 4150 4920 6b65  ('Invalid API ke
-00002f40: 7927 2c20 5f63 6f6e 7465 7874 290d 0a20  y', _context).. 
-00002f50: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00002f60: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00002f70: 6174 7573 5f63 6f64 6520 3d3d 2034 3034  atus_code == 404
-00002f80: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00002f90: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00002fa0: 696f 6e28 2741 6e20 696e 666f 726d 6564  ion('An informed
-00002fb0: 2072 6573 6f75 7263 6520 7761 7320 6e6f   resource was no
-00002fc0: 7420 666f 756e 6427 2c20 5f63 6f6e 7465  t found', _conte
-00002fd0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00002fe0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00002ff0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00003000: 3d3d 2034 3132 3a0d 0a20 2020 2020 2020  == 412:..       
-00003010: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00003020: 4578 6365 7074 696f 6e28 2742 7573 696e  Exception('Busin
-00003030: 6573 7320 7661 6c69 6461 7469 6f6e 2065  ess validation e
-00003040: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-00003050: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00003060: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00003070: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00003080: 3432 323a 0d0a 2020 2020 2020 2020 2020  422:..          
-00003090: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-000030a0: 6570 7469 6f6e 2827 436f 6e74 7261 6374  eption('Contract
-000030b0: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
-000030c0: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-000030d0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-000030e0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-000030f0: 6174 7573 5f63 6f64 6520 3d3d 2035 3030  atus_code == 500
-00003100: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00003110: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00003120: 696f 6e28 2749 6e74 6572 6e61 6c20 7365  ion('Internal se
-00003130: 7276 6572 2065 7272 6f72 272c 205f 636f  rver error', _co
-00003140: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00003150: 7365 6c66 2e76 616c 6964 6174 655f 7265  self.validate_re
-00003160: 7370 6f6e 7365 285f 636f 6e74 6578 7429  sponse(_context)
-00003170: 0d0a 0d0a 2020 2020 2020 2020 2320 5265  ....        # Re
-00003180: 7475 726e 2061 7070 726f 7072 6961 7465  turn appropriate
-00003190: 2074 7970 650d 0a20 2020 2020 2020 2072   type..        r
-000031a0: 6574 7572 6e20 4150 4948 656c 7065 722e  eturn APIHelper.
-000031b0: 6a73 6f6e 5f64 6573 6572 6961 6c69 7a65  json_deserialize
-000031c0: 285f 636f 6e74 6578 742e 7265 7370 6f6e  (_context.respon
-000031d0: 7365 2e72 6177 5f62 6f64 792c 2053 7562  se.raw_body, Sub
-000031e0: 7363 7269 7074 696f 6e73 4974 656d 7355  scriptionsItemsU
-000031f0: 7361 6765 7355 7361 6765 4964 5265 7370  sagesUsageIdResp
-00003200: 6f6e 7365 2e66 726f 6d5f 6469 6374 696f  onse.from_dictio
-00003210: 6e61 7279 290d 0a0d 0a20 2020 2064 6566  nary)....    def
-00003220: 2063 616e 6365 6c5f 7375 6273 6372 6970   cancel_subscrip
-00003230: 7469 6f6e 2873 656c 662c 0d0a 2020 2020  tion(self,..    
-00003240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003250: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
-00003260: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
-00003270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003280: 2020 2020 2020 6964 656d 706f 7465 6e63        idempotenc
-00003290: 795f 6b65 793d 4e6f 6e65 2c0d 0a20 2020  y_key=None,..   
-000032a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000032b0: 2020 2020 2020 2020 2062 6f64 793d 4e6f           body=No
-000032c0: 6e65 293a 0d0a 2020 2020 2020 2020 2222  ne):..        ""
-000032d0: 2244 6f65 7320 6120 4445 4c45 5445 2072  "Does a DELETE r
-000032e0: 6571 7565 7374 2074 6f20 2f73 7562 7363  equest to /subsc
-000032f0: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
-00003300: 6970 7469 6f6e 5f69 647d 2e0d 0a0d 0a20  iption_id}..... 
-00003310: 2020 2020 2020 2043 616e 6365 6c73 2061         Cancels a
-00003320: 2073 7562 7363 7269 7074 696f 6e0d 0a0d   subscription...
-00003330: 0a20 2020 2020 2020 2041 7267 733a 0d0a  .        Args:..
-00003340: 2020 2020 2020 2020 2020 2020 7375 6273              subs
-00003350: 6372 6970 7469 6f6e 5f69 6420 2873 7472  cription_id (str
-00003360: 696e 6729 3a20 5375 6273 6372 6970 7469  ing): Subscripti
-00003370: 6f6e 2069 640d 0a20 2020 2020 2020 2020  on id..         
-00003380: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
-00003390: 6579 2028 7374 7269 6e67 2c20 6f70 7469  ey (string, opti
-000033a0: 6f6e 616c 293a 2054 4f44 4f3a 2074 7970  onal): TODO: typ
-000033b0: 6520 6465 7363 7269 7074 696f 6e20 6865  e description he
-000033c0: 7265 2e0d 0a20 2020 2020 2020 2020 2020  re...           
-000033d0: 2020 2020 2045 7861 6d70 6c65 3a20 0d0a       Example: ..
-000033e0: 2020 2020 2020 2020 2020 2020 626f 6479              body
-000033f0: 2028 5375 6273 6372 6970 7469 6f6e 7352   (SubscriptionsR
-00003400: 6571 7565 7374 2c20 6f70 7469 6f6e 616c  equest, optional
-00003410: 293a 2052 6571 7565 7374 2066 6f72 2063  ): Request for c
-00003420: 616e 6365 6c6c 696e 6720 610d 0a20 2020  ancelling a..   
-00003430: 2020 2020 2020 2020 2020 2020 2073 7562               sub
+00001c70: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
+00001c80: 6970 7469 6f6e 5f69 642c 0d0a 2020 2020  iption_id,..    
+00001c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ca0: 2020 2020 2020 2020 2020 2020 2069 7465               ite
+00001cb0: 6d5f 6964 2c0d 0a20 2020 2020 2020 2020  m_id,..         
+00001cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001cd0: 2020 2020 2020 2020 626f 6479 2c0d 0a20          body,.. 
+00001ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001d00: 6964 656d 706f 7465 6e63 795f 6b65 793d  idempotency_key=
+00001d10: 4e6f 6e65 293a 0d0a 2020 2020 2020 2020  None):..        
+00001d20: 2222 2244 6f65 7320 6120 5055 5420 7265  """Does a PUT re
+00001d30: 7175 6573 7420 746f 202f 7375 6273 6372  quest to /subscr
+00001d40: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
+00001d50: 7074 696f 6e5f 6964 7d2f 6974 656d 732f  ption_id}/items/
+00001d60: 7b69 7465 6d5f 6964 7d2e 0d0a 0d0a 2020  {item_id}.....  
+00001d70: 2020 2020 2020 5570 6461 7465 7320 6120        Updates a 
+00001d80: 7375 6273 6372 6970 7469 6f6e 2069 7465  subscription ite
+00001d90: 6d0d 0a0d 0a20 2020 2020 2020 2041 7267  m....        Arg
+00001da0: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+00001db0: 7375 6273 6372 6970 7469 6f6e 5f69 6420  subscription_id 
+00001dc0: 2873 7472 696e 6729 3a20 5375 6273 6372  (string): Subscr
+00001dd0: 6970 7469 6f6e 2049 640d 0a20 2020 2020  iption Id..     
+00001de0: 2020 2020 2020 2069 7465 6d5f 6964 2028         item_id (
+00001df0: 7374 7269 6e67 293a 2049 7465 6d20 6964  string): Item id
+00001e00: 0d0a 2020 2020 2020 2020 2020 2020 626f  ..            bo
+00001e10: 6479 2028 5375 6273 6372 6970 7469 6f6e  dy (Subscription
+00001e20: 7349 7465 6d73 5265 7175 6573 7429 3a20  sItemsRequest): 
+00001e30: 5265 7175 6573 7420 666f 7220 7570 6461  Request for upda
+00001e40: 7469 6e67 2061 0d0a 2020 2020 2020 2020  ting a..        
+00001e50: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
+00001e60: 7469 6f6e 2069 7465 6d0d 0a20 2020 2020  tion item..     
+00001e70: 2020 2020 2020 2069 6465 6d70 6f74 656e         idempoten
+00001e80: 6379 5f6b 6579 2028 7374 7269 6e67 2c20  cy_key (string, 
+00001e90: 6f70 7469 6f6e 616c 293a 2054 4f44 4f3a  optional): TODO:
+00001ea0: 2074 7970 6520 6465 7363 7269 7074 696f   type descriptio
+00001eb0: 6e20 6865 7265 2e0d 0a20 2020 2020 2020  n here...       
+00001ec0: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
+00001ed0: 3a20 0d0a 0d0a 2020 2020 2020 2020 5265  : ....        Re
+00001ee0: 7475 726e 733a 0d0a 2020 2020 2020 2020  turns:..        
+00001ef0: 2020 2020 4765 7453 7562 7363 7269 7074      GetSubscript
+00001f00: 696f 6e49 7465 6d52 6573 706f 6e73 653a  ionItemResponse:
+00001f10: 2052 6573 706f 6e73 6520 6672 6f6d 2074   Response from t
+00001f20: 6865 2041 5049 2e20 0d0a 0d0a 2020 2020  he API. ....    
+00001f30: 2020 2020 5261 6973 6573 3a0d 0a20 2020      Raises:..   
+00001f40: 2020 2020 2020 2020 2041 5049 4578 6365           APIExce
+00001f50: 7074 696f 6e3a 2057 6865 6e20 616e 2065  ption: When an e
+00001f60: 7272 6f72 206f 6363 7572 7320 7768 696c  rror occurs whil
+00001f70: 6520 6665 7463 6869 6e67 2074 6865 2064  e fetching the d
+00001f80: 6174 6120 6672 6f6d 0d0a 2020 2020 2020  ata from..      
+00001f90: 2020 2020 2020 2020 2020 7468 6520 7265            the re
+00001fa0: 6d6f 7465 2041 5049 2e20 5468 6973 2065  mote API. This e
+00001fb0: 7863 6570 7469 6f6e 2069 6e63 6c75 6465  xception include
+00001fc0: 7320 7468 6520 4854 5450 2052 6573 706f  s the HTTP Respo
+00001fd0: 6e73 650d 0a20 2020 2020 2020 2020 2020  nse..           
+00001fe0: 2020 2020 2063 6f64 652c 2061 6e20 6572       code, an er
+00001ff0: 726f 7220 6d65 7373 6167 652c 2061 6e64  ror message, and
+00002000: 2074 6865 2048 5454 5020 626f 6479 2074   the HTTP body t
+00002010: 6861 7420 7761 7320 7265 6365 6976 6564  hat was received
+00002020: 2069 6e0d 0a20 2020 2020 2020 2020 2020   in..           
+00002030: 2020 2020 2074 6865 2072 6571 7565 7374       the request
+00002040: 2e0d 0a0d 0a20 2020 2020 2020 2022 2222  .....        """
+00002050: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
+00002060: 6570 6172 6520 7175 6572 7920 5552 4c0d  epare query URL.
+00002070: 0a20 2020 2020 2020 205f 7572 6c5f 7061  .        _url_pa
+00002080: 7468 203d 2027 2f73 7562 7363 7269 7074  th = '/subscript
+00002090: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
+000020a0: 6f6e 5f69 647d 2f69 7465 6d73 2f7b 6974  on_id}/items/{it
+000020b0: 656d 5f69 647d 270d 0a20 2020 2020 2020  em_id}'..       
+000020c0: 205f 7572 6c5f 7061 7468 203d 2041 5049   _url_path = API
+000020d0: 4865 6c70 6572 2e61 7070 656e 645f 7572  Helper.append_ur
+000020e0: 6c5f 7769 7468 5f74 656d 706c 6174 655f  l_with_template_
+000020f0: 7061 7261 6d65 7465 7273 285f 7572 6c5f  parameters(_url_
+00002100: 7061 7468 2c20 7b20 0d0a 2020 2020 2020  path, { ..      
+00002110: 2020 2020 2020 2773 7562 7363 7269 7074        'subscript
+00002120: 696f 6e5f 6964 273a 2073 7562 7363 7269  ion_id': subscri
+00002130: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
+00002140: 2020 2020 2020 2027 6974 656d 5f69 6427         'item_id'
+00002150: 3a20 6974 656d 5f69 640d 0a20 2020 2020  : item_id..     
+00002160: 2020 207d 290d 0a20 2020 2020 2020 205f     })..        _
+00002170: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
+00002180: 436f 6e66 6967 7572 6174 696f 6e2e 6261  Configuration.ba
+00002190: 7365 5f75 7269 0d0a 2020 2020 2020 2020  se_uri..        
+000021a0: 5f71 7565 7279 5f62 7569 6c64 6572 202b  _query_builder +
+000021b0: 3d20 5f75 726c 5f70 6174 680d 0a20 2020  = _url_path..   
+000021c0: 2020 2020 205f 7175 6572 795f 7572 6c20       _query_url 
+000021d0: 3d20 4150 4948 656c 7065 722e 636c 6561  = APIHelper.clea
+000021e0: 6e5f 7572 6c28 5f71 7565 7279 5f62 7569  n_url(_query_bui
+000021f0: 6c64 6572 290d 0a0d 0a20 2020 2020 2020  lder)....       
+00002200: 2023 2050 7265 7061 7265 2068 6561 6465   # Prepare heade
+00002210: 7273 0d0a 2020 2020 2020 2020 5f68 6561  rs..        _hea
+00002220: 6465 7273 203d 207b 0d0a 2020 2020 2020  ders = {..      
+00002230: 2020 2020 2020 2761 6363 6570 7427 3a20        'accept': 
+00002240: 2761 7070 6c69 6361 7469 6f6e 2f6a 736f  'application/jso
+00002250: 6e27 2c0d 0a20 2020 2020 2020 2020 2020  n',..           
+00002260: 2027 5365 7276 6963 6552 6566 6572 6572   'ServiceReferer
+00002270: 4e61 6d65 273a 2043 6f6e 6669 6775 7261  Name': Configura
+00002280: 7469 6f6e 2e73 6572 7669 6365 5f72 6566  tion.service_ref
+00002290: 6572 6572 5f6e 616d 652c 0d0a 2020 2020  erer_name,..    
+000022a0: 2020 2020 2020 2020 2743 6f6e 7465 6e74          'Content
+000022b0: 2d54 7970 6527 3a20 2761 7070 6c69 6361  -Type': 'applica
+000022c0: 7469 6f6e 2f6a 736f 6e27 2c0d 0a20 2020  tion/json',..   
+000022d0: 2020 2020 2020 2020 2027 6964 656d 706f           'idempo
+000022e0: 7465 6e63 792d 6b65 7927 3a20 6964 656d  tency-key': idem
+000022f0: 706f 7465 6e63 795f 6b65 790d 0a20 2020  potency_key..   
+00002300: 2020 2020 207d 0d0a 0d0a 2020 2020 2020       }....      
+00002310: 2020 2320 5072 6570 6172 6520 616e 6420    # Prepare and 
+00002320: 6578 6563 7574 6520 7265 7175 6573 740d  execute request.
+00002330: 0a20 2020 2020 2020 205f 7265 7175 6573  .        _reques
+00002340: 7420 3d20 7365 6c66 2e68 7474 705f 636c  t = self.http_cl
+00002350: 6965 6e74 2e70 7574 285f 7175 6572 795f  ient.put(_query_
+00002360: 7572 6c2c 2068 6561 6465 7273 3d5f 6865  url, headers=_he
+00002370: 6164 6572 732c 2070 6172 616d 6574 6572  aders, parameter
+00002380: 733d 4150 4948 656c 7065 722e 6a73 6f6e  s=APIHelper.json
+00002390: 5f73 6572 6961 6c69 7a65 2862 6f64 7929  _serialize(body)
+000023a0: 290d 0a20 2020 2020 2020 2042 6173 6963  )..        Basic
+000023b0: 4175 7468 2e61 7070 6c79 285f 7265 7175  Auth.apply(_requ
+000023c0: 6573 7429 0d0a 2020 2020 2020 2020 5f63  est)..        _c
+000023d0: 6f6e 7465 7874 203d 2073 656c 662e 6578  ontext = self.ex
+000023e0: 6563 7574 655f 7265 7175 6573 7428 5f72  ecute_request(_r
+000023f0: 6571 7565 7374 290d 0a0d 0a20 2020 2020  equest)....     
+00002400: 2020 2023 2045 6e64 706f 696e 7420 616e     # Endpoint an
+00002410: 6420 676c 6f62 616c 2065 7272 6f72 2068  d global error h
+00002420: 616e 646c 696e 6720 7573 696e 6720 4854  andling using HT
+00002430: 5450 2073 7461 7475 7320 636f 6465 732e  TP status codes.
+00002440: 0d0a 2020 2020 2020 2020 6966 205f 636f  ..        if _co
+00002450: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00002460: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+00002470: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+00002480: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00002490: 7469 6f6e 2827 496e 7661 6c69 6420 7265  tion('Invalid re
+000024a0: 7175 6573 7427 2c20 5f63 6f6e 7465 7874  quest', _context
+000024b0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+000024c0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+000024d0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+000024e0: 2034 3031 3a0d 0a20 2020 2020 2020 2020   401:..         
+000024f0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00002500: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+00002510: 2041 5049 206b 6579 272c 205f 636f 6e74   API key', _cont
+00002520: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00002530: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00002540: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00002550: 203d 3d20 3430 343a 0d0a 2020 2020 2020   == 404:..      
+00002560: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00002570: 7245 7863 6570 7469 6f6e 2827 416e 2069  rException('An i
+00002580: 6e66 6f72 6d65 6420 7265 736f 7572 6365  nformed resource
+00002590: 2077 6173 206e 6f74 2066 6f75 6e64 272c   was not found',
+000025a0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+000025b0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+000025c0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+000025d0: 735f 636f 6465 203d 3d20 3431 323a 0d0a  s_code == 412:..
+000025e0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+000025f0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00002600: 2827 4275 7369 6e65 7373 2076 616c 6964  ('Business valid
+00002610: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+00002620: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00002630: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00002640: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00002650: 6f64 6520 3d3d 2034 3232 3a0d 0a20 2020  ode == 422:..   
+00002660: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00002670: 7272 6f72 4578 6365 7074 696f 6e28 2743  rrorException('C
+00002680: 6f6e 7472 6163 7420 7661 6c69 6461 7469  ontract validati
+00002690: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
+000026a0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+000026b0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+000026c0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+000026d0: 203d 3d20 3530 303a 0d0a 2020 2020 2020   == 500:..      
+000026e0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+000026f0: 7245 7863 6570 7469 6f6e 2827 496e 7465  rException('Inte
+00002700: 726e 616c 2073 6572 7665 7220 6572 726f  rnal server erro
+00002710: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
+00002720: 2020 2020 2020 2073 656c 662e 7661 6c69         self.vali
+00002730: 6461 7465 5f72 6573 706f 6e73 6528 5f63  date_response(_c
+00002740: 6f6e 7465 7874 290d 0a0d 0a20 2020 2020  ontext)....     
+00002750: 2020 2023 2052 6574 7572 6e20 6170 7072     # Return appr
+00002760: 6f70 7269 6174 6520 7479 7065 0d0a 2020  opriate type..  
+00002770: 2020 2020 2020 7265 7475 726e 2041 5049        return API
+00002780: 4865 6c70 6572 2e6a 736f 6e5f 6465 7365  Helper.json_dese
+00002790: 7269 616c 697a 6528 5f63 6f6e 7465 7874  rialize(_context
+000027a0: 2e72 6573 706f 6e73 652e 7261 775f 626f  .response.raw_bo
+000027b0: 6479 2c20 4765 7453 7562 7363 7269 7074  dy, GetSubscript
+000027c0: 696f 6e49 7465 6d52 6573 706f 6e73 652e  ionItemResponse.
+000027d0: 6672 6f6d 5f64 6963 7469 6f6e 6172 7929  from_dictionary)
+000027e0: 0d0a 0d0a 2020 2020 6465 6620 6465 6c65  ....    def dele
+000027f0: 7465 5f75 7361 6765 2873 656c 662c 0d0a  te_usage(self,..
+00002800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002810: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
+00002820: 6e5f 6964 2c0d 0a20 2020 2020 2020 2020  n_id,..         
+00002830: 2020 2020 2020 2020 2020 2020 6974 656d              item
+00002840: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
+00002850: 2020 2020 2020 2020 2020 2075 7361 6765             usage
+00002860: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
+00002870: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
+00002880: 6f74 656e 6379 5f6b 6579 3d4e 6f6e 6529  otency_key=None)
+00002890: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
+000028a0: 6573 2061 2044 454c 4554 4520 7265 7175  es a DELETE requ
+000028b0: 6573 7420 746f 202f 7375 6273 6372 6970  est to /subscrip
+000028c0: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
+000028d0: 696f 6e5f 6964 7d2f 6974 656d 732f 7b69  ion_id}/items/{i
+000028e0: 7465 6d5f 6964 7d2f 7573 6167 6573 2f7b  tem_id}/usages/{
+000028f0: 7573 6167 655f 6964 7d2e 0d0a 0d0a 2020  usage_id}.....  
+00002900: 2020 2020 2020 4465 6c65 7465 7320 6120        Deletes a 
+00002910: 7573 6167 650d 0a0d 0a20 2020 2020 2020  usage....       
+00002920: 2041 7267 733a 0d0a 2020 2020 2020 2020   Args:..        
+00002930: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
+00002940: 5f69 6420 2873 7472 696e 6729 3a20 5468  _id (string): Th
+00002950: 6520 7375 6273 6372 6970 7469 6f6e 2069  e subscription i
+00002960: 640d 0a20 2020 2020 2020 2020 2020 2069  d..            i
+00002970: 7465 6d5f 6964 2028 7374 7269 6e67 293a  tem_id (string):
+00002980: 2054 6865 2073 7562 7363 7269 7074 696f   The subscriptio
+00002990: 6e20 6974 656d 2069 640d 0a20 2020 2020  n item id..     
+000029a0: 2020 2020 2020 2075 7361 6765 5f69 6420         usage_id 
+000029b0: 2873 7472 696e 6729 3a20 5468 6520 7573  (string): The us
+000029c0: 6167 6520 6964 0d0a 2020 2020 2020 2020  age id..        
+000029d0: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
+000029e0: 6b65 7920 2873 7472 696e 672c 206f 7074  key (string, opt
+000029f0: 696f 6e61 6c29 3a20 544f 444f 3a20 7479  ional): TODO: ty
+00002a00: 7065 2064 6573 6372 6970 7469 6f6e 2068  pe description h
+00002a10: 6572 652e 0d0a 2020 2020 2020 2020 2020  ere...          
+00002a20: 2020 2020 2020 4578 616d 706c 653a 200d        Example: .
+00002a30: 0a0d 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00002a40: 6e73 3a0d 0a20 2020 2020 2020 2020 2020  ns:..           
+00002a50: 2053 7562 7363 7269 7074 696f 6e73 4974   SubscriptionsIt
+00002a60: 656d 7355 7361 6765 7355 7361 6765 4964  emsUsagesUsageId
+00002a70: 5265 7370 6f6e 7365 3a20 5265 7370 6f6e  Response: Respon
+00002a80: 7365 2066 726f 6d20 7468 6520 4150 492e  se from the API.
+00002a90: 200d 0a0d 0a20 2020 2020 2020 2052 6169   ....        Rai
+00002aa0: 7365 733a 0d0a 2020 2020 2020 2020 2020  ses:..          
+00002ab0: 2020 4150 4945 7863 6570 7469 6f6e 3a20    APIException: 
+00002ac0: 5768 656e 2061 6e20 6572 726f 7220 6f63  When an error oc
+00002ad0: 6375 7273 2077 6869 6c65 2066 6574 6368  curs while fetch
+00002ae0: 696e 6720 7468 6520 6461 7461 2066 726f  ing the data fro
+00002af0: 6d0d 0a20 2020 2020 2020 2020 2020 2020  m..             
+00002b00: 2020 2074 6865 2072 656d 6f74 6520 4150     the remote AP
+00002b10: 492e 2054 6869 7320 6578 6365 7074 696f  I. This exceptio
+00002b20: 6e20 696e 636c 7564 6573 2074 6865 2048  n includes the H
+00002b30: 5454 5020 5265 7370 6f6e 7365 0d0a 2020  TTP Response..  
+00002b40: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00002b50: 6465 2c20 616e 2065 7272 6f72 206d 6573  de, an error mes
+00002b60: 7361 6765 2c20 616e 6420 7468 6520 4854  sage, and the HT
+00002b70: 5450 2062 6f64 7920 7468 6174 2077 6173  TP body that was
+00002b80: 2072 6563 6569 7665 6420 696e 0d0a 2020   received in..  
+00002b90: 2020 2020 2020 2020 2020 2020 2020 7468                th
+00002ba0: 6520 7265 7175 6573 742e 0d0a 0d0a 2020  e request.....  
+00002bb0: 2020 2020 2020 2222 220d 0a0d 0a20 2020        """....   
+00002bc0: 2020 2020 2023 2050 7265 7061 7265 2071       # Prepare q
+00002bd0: 7565 7279 2055 524c 0d0a 2020 2020 2020  uery URL..      
+00002be0: 2020 5f75 726c 5f70 6174 6820 3d20 272f    _url_path = '/
+00002bf0: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
+00002c00: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
+00002c10: 6974 656d 732f 7b69 7465 6d5f 6964 7d2f  items/{item_id}/
+00002c20: 7573 6167 6573 2f7b 7573 6167 655f 6964  usages/{usage_id
+00002c30: 7d27 0d0a 2020 2020 2020 2020 5f75 726c  }'..        _url
+00002c40: 5f70 6174 6820 3d20 4150 4948 656c 7065  _path = APIHelpe
+00002c50: 722e 6170 7065 6e64 5f75 726c 5f77 6974  r.append_url_wit
+00002c60: 685f 7465 6d70 6c61 7465 5f70 6172 616d  h_template_param
+00002c70: 6574 6572 7328 5f75 726c 5f70 6174 682c  eters(_url_path,
+00002c80: 207b 200d 0a20 2020 2020 2020 2020 2020   { ..           
+00002c90: 2027 7375 6273 6372 6970 7469 6f6e 5f69   'subscription_i
+00002ca0: 6427 3a20 7375 6273 6372 6970 7469 6f6e  d': subscription
+00002cb0: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
+00002cc0: 2020 2769 7465 6d5f 6964 273a 2069 7465    'item_id': ite
+00002cd0: 6d5f 6964 2c0d 0a20 2020 2020 2020 2020  m_id,..         
+00002ce0: 2020 2027 7573 6167 655f 6964 273a 2075     'usage_id': u
+00002cf0: 7361 6765 5f69 640d 0a20 2020 2020 2020  sage_id..       
+00002d00: 207d 290d 0a20 2020 2020 2020 205f 7175   })..        _qu
+00002d10: 6572 795f 6275 696c 6465 7220 3d20 436f  ery_builder = Co
+00002d20: 6e66 6967 7572 6174 696f 6e2e 6261 7365  nfiguration.base
+00002d30: 5f75 7269 0d0a 2020 2020 2020 2020 5f71  _uri..        _q
+00002d40: 7565 7279 5f62 7569 6c64 6572 202b 3d20  uery_builder += 
+00002d50: 5f75 726c 5f70 6174 680d 0a20 2020 2020  _url_path..     
+00002d60: 2020 205f 7175 6572 795f 7572 6c20 3d20     _query_url = 
+00002d70: 4150 4948 656c 7065 722e 636c 6561 6e5f  APIHelper.clean_
+00002d80: 7572 6c28 5f71 7565 7279 5f62 7569 6c64  url(_query_build
+00002d90: 6572 290d 0a0d 0a20 2020 2020 2020 2023  er)....        #
+00002da0: 2050 7265 7061 7265 2068 6561 6465 7273   Prepare headers
+00002db0: 0d0a 2020 2020 2020 2020 5f68 6561 6465  ..        _heade
+00002dc0: 7273 203d 207b 0d0a 2020 2020 2020 2020  rs = {..        
+00002dd0: 2020 2020 2761 6363 6570 7427 3a20 2761      'accept': 'a
+00002de0: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
+00002df0: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+00002e00: 5365 7276 6963 6552 6566 6572 6572 4e61  ServiceRefererNa
+00002e10: 6d65 273a 2043 6f6e 6669 6775 7261 7469  me': Configurati
+00002e20: 6f6e 2e73 6572 7669 6365 5f72 6566 6572  on.service_refer
+00002e30: 6572 5f6e 616d 652c 0d0a 2020 2020 2020  er_name,..      
+00002e40: 2020 2020 2020 2769 6465 6d70 6f74 656e        'idempoten
+00002e50: 6379 2d6b 6579 273a 2069 6465 6d70 6f74  cy-key': idempot
+00002e60: 656e 6379 5f6b 6579 0d0a 2020 2020 2020  ency_key..      
+00002e70: 2020 7d0d 0a0d 0a20 2020 2020 2020 2023    }....        #
+00002e80: 2050 7265 7061 7265 2061 6e64 2065 7865   Prepare and exe
+00002e90: 6375 7465 2072 6571 7565 7374 0d0a 2020  cute request..  
+00002ea0: 2020 2020 2020 5f72 6571 7565 7374 203d        _request =
+00002eb0: 2073 656c 662e 6874 7470 5f63 6c69 656e   self.http_clien
+00002ec0: 742e 6465 6c65 7465 285f 7175 6572 795f  t.delete(_query_
+00002ed0: 7572 6c2c 2068 6561 6465 7273 3d5f 6865  url, headers=_he
+00002ee0: 6164 6572 7329 0d0a 2020 2020 2020 2020  aders)..        
+00002ef0: 4261 7369 6341 7574 682e 6170 706c 7928  BasicAuth.apply(
+00002f00: 5f72 6571 7565 7374 290d 0a20 2020 2020  _request)..     
+00002f10: 2020 205f 636f 6e74 6578 7420 3d20 7365     _context = se
+00002f20: 6c66 2e65 7865 6375 7465 5f72 6571 7565  lf.execute_reque
+00002f30: 7374 285f 7265 7175 6573 7429 0d0a 0d0a  st(_request)....
+00002f40: 2020 2020 2020 2020 2320 456e 6470 6f69          # Endpoi
+00002f50: 6e74 2061 6e64 2067 6c6f 6261 6c20 6572  nt and global er
+00002f60: 726f 7220 6861 6e64 6c69 6e67 2075 7369  ror handling usi
+00002f70: 6e67 2048 5454 5020 7374 6174 7573 2063  ng HTTP status c
+00002f80: 6f64 6573 2e0d 0a20 2020 2020 2020 2069  odes...        i
+00002f90: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00002fa0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00002fb0: 3d3d 2034 3030 3a0d 0a20 2020 2020 2020  == 400:..       
+00002fc0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00002fd0: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
+00002fe0: 6964 2072 6571 7565 7374 272c 205f 636f  id request', _co
+00002ff0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00003000: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+00003010: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00003020: 6465 203d 3d20 3430 313a 0d0a 2020 2020  de == 401:..    
+00003030: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00003040: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+00003050: 7661 6c69 6420 4150 4920 6b65 7927 2c20  valid API key', 
+00003060: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00003070: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+00003080: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00003090: 5f63 6f64 6520 3d3d 2034 3034 3a0d 0a20  _code == 404:.. 
+000030a0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+000030b0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+000030c0: 2741 6e20 696e 666f 726d 6564 2072 6573  'An informed res
+000030d0: 6f75 7263 6520 7761 7320 6e6f 7420 666f  ource was not fo
+000030e0: 756e 6427 2c20 5f63 6f6e 7465 7874 290d  und', _context).
+000030f0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00003100: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00003110: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00003120: 3132 3a0d 0a20 2020 2020 2020 2020 2020  12:..           
+00003130: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+00003140: 7074 696f 6e28 2742 7573 696e 6573 7320  ption('Business 
+00003150: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
+00003160: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00003170: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+00003180: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+00003190: 7475 735f 636f 6465 203d 3d20 3432 323a  tus_code == 422:
+000031a0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+000031b0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+000031c0: 6f6e 2827 436f 6e74 7261 6374 2076 616c  on('Contract val
+000031d0: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
+000031e0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+000031f0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+00003200: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00003210: 5f63 6f64 6520 3d3d 2035 3030 3a0d 0a20  _code == 500:.. 
+00003220: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00003230: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00003240: 2749 6e74 6572 6e61 6c20 7365 7276 6572  'Internal server
+00003250: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+00003260: 7429 0d0a 2020 2020 2020 2020 7365 6c66  t)..        self
+00003270: 2e76 616c 6964 6174 655f 7265 7370 6f6e  .validate_respon
+00003280: 7365 285f 636f 6e74 6578 7429 0d0a 0d0a  se(_context)....
+00003290: 2020 2020 2020 2020 2320 5265 7475 726e          # Return
+000032a0: 2061 7070 726f 7072 6961 7465 2074 7970   appropriate typ
+000032b0: 650d 0a20 2020 2020 2020 2072 6574 7572  e..        retur
+000032c0: 6e20 4150 4948 656c 7065 722e 6a73 6f6e  n APIHelper.json
+000032d0: 5f64 6573 6572 6961 6c69 7a65 285f 636f  _deserialize(_co
+000032e0: 6e74 6578 742e 7265 7370 6f6e 7365 2e72  ntext.response.r
+000032f0: 6177 5f62 6f64 792c 2053 7562 7363 7269  aw_body, Subscri
+00003300: 7074 696f 6e73 4974 656d 7355 7361 6765  ptionsItemsUsage
+00003310: 7355 7361 6765 4964 5265 7370 6f6e 7365  sUsageIdResponse
+00003320: 2e66 726f 6d5f 6469 6374 696f 6e61 7279  .from_dictionary
+00003330: 290d 0a0d 0a20 2020 2064 6566 2063 616e  )....    def can
+00003340: 6365 6c5f 7375 6273 6372 6970 7469 6f6e  cel_subscription
+00003350: 2873 656c 662c 0d0a 2020 2020 2020 2020  (self,..        
+00003360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003370: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
+00003380: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
+00003390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000033a0: 2020 6964 656d 706f 7465 6e63 795f 6b65    idempotency_ke
+000033b0: 793d 4e6f 6e65 2c0d 0a20 2020 2020 2020  y=None,..       
+000033c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000033d0: 2020 2020 2062 6f64 793d 4e6f 6e65 293a       body=None):
+000033e0: 0d0a 2020 2020 2020 2020 2222 2244 6f65  ..        """Doe
+000033f0: 7320 6120 4445 4c45 5445 2072 6571 7565  s a DELETE reque
+00003400: 7374 2074 6f20 2f73 7562 7363 7269 7074  st to /subscript
+00003410: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
+00003420: 6f6e 5f69 647d 2e0d 0a0d 0a20 2020 2020  on_id}.....     
+00003430: 2020 2043 616e 6365 6c73 2061 2073 7562     Cancels a sub
 00003440: 7363 7269 7074 696f 6e0d 0a0d 0a20 2020  scription....   
-00003450: 2020 2020 2052 6574 7572 6e73 3a0d 0a20       Returns:.. 
-00003460: 2020 2020 2020 2020 2020 2047 6574 5375             GetSu
-00003470: 6273 6372 6970 7469 6f6e 5265 7370 6f6e  bscriptionRespon
-00003480: 7365 3a20 5265 7370 6f6e 7365 2066 726f  se: Response fro
-00003490: 6d20 7468 6520 4150 492e 200d 0a0d 0a20  m the API. .... 
-000034a0: 2020 2020 2020 2052 6169 7365 733a 0d0a         Raises:..
-000034b0: 2020 2020 2020 2020 2020 2020 4150 4945              APIE
-000034c0: 7863 6570 7469 6f6e 3a20 5768 656e 2061  xception: When a
-000034d0: 6e20 6572 726f 7220 6f63 6375 7273 2077  n error occurs w
-000034e0: 6869 6c65 2066 6574 6368 696e 6720 7468  hile fetching th
-000034f0: 6520 6461 7461 2066 726f 6d0d 0a20 2020  e data from..   
-00003500: 2020 2020 2020 2020 2020 2020 2074 6865               the
-00003510: 2072 656d 6f74 6520 4150 492e 2054 6869   remote API. Thi
-00003520: 7320 6578 6365 7074 696f 6e20 696e 636c  s exception incl
-00003530: 7564 6573 2074 6865 2048 5454 5020 5265  udes the HTTP Re
-00003540: 7370 6f6e 7365 0d0a 2020 2020 2020 2020  sponse..        
-00003550: 2020 2020 2020 2020 636f 6465 2c20 616e          code, an
-00003560: 2065 7272 6f72 206d 6573 7361 6765 2c20   error message, 
-00003570: 616e 6420 7468 6520 4854 5450 2062 6f64  and the HTTP bod
-00003580: 7920 7468 6174 2077 6173 2072 6563 6569  y that was recei
-00003590: 7665 6420 696e 0d0a 2020 2020 2020 2020  ved in..        
-000035a0: 2020 2020 2020 2020 7468 6520 7265 7175          the requ
-000035b0: 6573 742e 0d0a 0d0a 2020 2020 2020 2020  est.....        
-000035c0: 2222 220d 0a0d 0a20 2020 2020 2020 2023  """....        #
-000035d0: 2050 7265 7061 7265 2071 7565 7279 2055   Prepare query U
-000035e0: 524c 0d0a 2020 2020 2020 2020 5f75 726c  RL..        _url
-000035f0: 5f70 6174 6820 3d20 272f 7375 6273 6372  _path = '/subscr
-00003600: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
-00003610: 7074 696f 6e5f 6964 7d27 0d0a 2020 2020  ption_id}'..    
-00003620: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
-00003630: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
-00003640: 5f75 726c 5f77 6974 685f 7465 6d70 6c61  _url_with_templa
-00003650: 7465 5f70 6172 616d 6574 6572 7328 5f75  te_parameters(_u
-00003660: 726c 5f70 6174 682c 207b 200d 0a20 2020  rl_path, { ..   
-00003670: 2020 2020 2020 2020 2027 7375 6273 6372           'subscr
-00003680: 6970 7469 6f6e 5f69 6427 3a20 7375 6273  iption_id': subs
-00003690: 6372 6970 7469 6f6e 5f69 640d 0a20 2020  cription_id..   
-000036a0: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
-000036b0: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
-000036c0: 3d20 436f 6e66 6967 7572 6174 696f 6e2e  = Configuration.
-000036d0: 6261 7365 5f75 7269 0d0a 2020 2020 2020  base_uri..      
-000036e0: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-000036f0: 202b 3d20 5f75 726c 5f70 6174 680d 0a20   += _url_path.. 
-00003700: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
-00003710: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
-00003720: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
-00003730: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
-00003740: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
-00003750: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
-00003760: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
-00003770: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
-00003780: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
-00003790: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
-000037a0: 2020 2027 436f 6e74 656e 742d 5479 7065     'Content-Type
-000037b0: 273a 2027 6170 706c 6963 6174 696f 6e2f  ': 'application/
-000037c0: 6a73 6f6e 272c 0d0a 2020 2020 2020 2020  json',..        
-000037d0: 2020 2020 2769 6465 6d70 6f74 656e 6379      'idempotency
-000037e0: 2d6b 6579 273a 2069 6465 6d70 6f74 656e  -key': idempoten
-000037f0: 6379 5f6b 6579 0d0a 2020 2020 2020 2020  cy_key..        
-00003800: 7d0d 0a0d 0a20 2020 2020 2020 2023 2050  }....        # P
-00003810: 7265 7061 7265 2061 6e64 2065 7865 6375  repare and execu
-00003820: 7465 2072 6571 7565 7374 0d0a 2020 2020  te request..    
-00003830: 2020 2020 5f72 6571 7565 7374 203d 2073      _request = s
-00003840: 656c 662e 6874 7470 5f63 6c69 656e 742e  elf.http_client.
-00003850: 6465 6c65 7465 285f 7175 6572 795f 7572  delete(_query_ur
-00003860: 6c2c 2068 6561 6465 7273 3d5f 6865 6164  l, headers=_head
-00003870: 6572 732c 2070 6172 616d 6574 6572 733d  ers, parameters=
-00003880: 4150 4948 656c 7065 722e 6a73 6f6e 5f73  APIHelper.json_s
-00003890: 6572 6961 6c69 7a65 2862 6f64 7929 290d  erialize(body)).
-000038a0: 0a20 2020 2020 2020 2042 6173 6963 4175  .        BasicAu
-000038b0: 7468 2e61 7070 6c79 285f 7265 7175 6573  th.apply(_reques
-000038c0: 7429 0d0a 2020 2020 2020 2020 5f63 6f6e  t)..        _con
-000038d0: 7465 7874 203d 2073 656c 662e 6578 6563  text = self.exec
-000038e0: 7574 655f 7265 7175 6573 7428 5f72 6571  ute_request(_req
-000038f0: 7565 7374 290d 0a0d 0a20 2020 2020 2020  uest)....       
-00003900: 2023 2045 6e64 706f 696e 7420 616e 6420   # Endpoint and 
-00003910: 676c 6f62 616c 2065 7272 6f72 2068 616e  global error han
-00003920: 646c 696e 6720 7573 696e 6720 4854 5450  dling using HTTP
-00003930: 2073 7461 7475 7320 636f 6465 732e 0d0a   status codes...
-00003940: 2020 2020 2020 2020 6966 205f 636f 6e74          if _cont
-00003950: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00003960: 7475 735f 636f 6465 203d 3d20 3430 303a  tus_code == 400:
-00003970: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00003980: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00003990: 6f6e 2827 496e 7661 6c69 6420 7265 7175  on('Invalid requ
-000039a0: 6573 7427 2c20 5f63 6f6e 7465 7874 290d  est', _context).
-000039b0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-000039c0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-000039d0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-000039e0: 3031 3a0d 0a20 2020 2020 2020 2020 2020  01:..           
-000039f0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-00003a00: 7074 696f 6e28 2749 6e76 616c 6964 2041  ption('Invalid A
-00003a10: 5049 206b 6579 272c 205f 636f 6e74 6578  PI key', _contex
-00003a20: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-00003a30: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00003a40: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00003a50: 3d20 3430 343a 0d0a 2020 2020 2020 2020  = 404:..        
-00003a60: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-00003a70: 7863 6570 7469 6f6e 2827 416e 2069 6e66  xception('An inf
-00003a80: 6f72 6d65 6420 7265 736f 7572 6365 2077  ormed resource w
-00003a90: 6173 206e 6f74 2066 6f75 6e64 272c 205f  as not found', _
-00003aa0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00003ab0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00003ac0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00003ad0: 636f 6465 203d 3d20 3431 323a 0d0a 2020  code == 412:..  
-00003ae0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00003af0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00003b00: 4275 7369 6e65 7373 2076 616c 6964 6174  Business validat
-00003b10: 696f 6e20 6572 726f 7227 2c20 5f63 6f6e  ion error', _con
-00003b20: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-00003b30: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-00003b40: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00003b50: 6520 3d3d 2034 3232 3a0d 0a20 2020 2020  e == 422:..     
-00003b60: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00003b70: 6f72 4578 6365 7074 696f 6e28 2743 6f6e  orException('Con
-00003b80: 7472 6163 7420 7661 6c69 6461 7469 6f6e  tract validation
-00003b90: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
-00003ba0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-00003bb0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00003bc0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00003bd0: 3d20 3530 303a 0d0a 2020 2020 2020 2020  = 500:..        
-00003be0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-00003bf0: 7863 6570 7469 6f6e 2827 496e 7465 726e  xception('Intern
-00003c00: 616c 2073 6572 7665 7220 6572 726f 7227  al server error'
-00003c10: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00003c20: 2020 2020 2073 656c 662e 7661 6c69 6461       self.valida
-00003c30: 7465 5f72 6573 706f 6e73 6528 5f63 6f6e  te_response(_con
-00003c40: 7465 7874 290d 0a0d 0a20 2020 2020 2020  text)....       
-00003c50: 2023 2052 6574 7572 6e20 6170 7072 6f70   # Return approp
-00003c60: 7269 6174 6520 7479 7065 0d0a 2020 2020  riate type..    
-00003c70: 2020 2020 7265 7475 726e 2041 5049 4865      return APIHe
-00003c80: 6c70 6572 2e6a 736f 6e5f 6465 7365 7269  lper.json_deseri
-00003c90: 616c 697a 6528 5f63 6f6e 7465 7874 2e72  alize(_context.r
-00003ca0: 6573 706f 6e73 652e 7261 775f 626f 6479  esponse.raw_body
-00003cb0: 2c20 4765 7453 7562 7363 7269 7074 696f  , GetSubscriptio
-00003cc0: 6e52 6573 706f 6e73 652e 6672 6f6d 5f64  nResponse.from_d
-00003cd0: 6963 7469 6f6e 6172 7929 0d0a 0d0a 2020  ictionary)....  
-00003ce0: 2020 6465 6620 6765 745f 7375 6273 6372    def get_subscr
-00003cf0: 6970 7469 6f6e 2873 656c 662c 0d0a 2020  iption(self,..  
-00003d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003d10: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
-00003d20: 696f 6e5f 6964 293a 0d0a 2020 2020 2020  ion_id):..      
-00003d30: 2020 2222 2244 6f65 7320 6120 4745 5420    """Does a GET 
-00003d40: 7265 7175 6573 7420 746f 202f 7375 6273  request to /subs
-00003d50: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
-00003d60: 7269 7074 696f 6e5f 6964 7d2e 0d0a 0d0a  ription_id}.....
-00003d70: 2020 2020 2020 2020 4765 7473 2061 2073          Gets a s
-00003d80: 7562 7363 7269 7074 696f 6e0d 0a0d 0a20  ubscription.... 
-00003d90: 2020 2020 2020 2041 7267 733a 0d0a 2020         Args:..  
-00003da0: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
-00003db0: 6970 7469 6f6e 5f69 6420 2873 7472 696e  iption_id (strin
-00003dc0: 6729 3a20 5375 6273 6372 6970 7469 6f6e  g): Subscription
-00003dd0: 2069 640d 0a0d 0a20 2020 2020 2020 2052   id....        R
-00003de0: 6574 7572 6e73 3a0d 0a20 2020 2020 2020  eturns:..       
-00003df0: 2020 2020 2047 6574 5375 6273 6372 6970       GetSubscrip
-00003e00: 7469 6f6e 5265 7370 6f6e 7365 3a20 5265  tionResponse: Re
-00003e10: 7370 6f6e 7365 2066 726f 6d20 7468 6520  sponse from the 
-00003e20: 4150 492e 200d 0a0d 0a20 2020 2020 2020  API. ....       
-00003e30: 2052 6169 7365 733a 0d0a 2020 2020 2020   Raises:..      
-00003e40: 2020 2020 2020 4150 4945 7863 6570 7469        APIExcepti
-00003e50: 6f6e 3a20 5768 656e 2061 6e20 6572 726f  on: When an erro
-00003e60: 7220 6f63 6375 7273 2077 6869 6c65 2066  r occurs while f
-00003e70: 6574 6368 696e 6720 7468 6520 6461 7461  etching the data
-00003e80: 2066 726f 6d0d 0a20 2020 2020 2020 2020   from..         
-00003e90: 2020 2020 2020 2074 6865 2072 656d 6f74         the remot
-00003ea0: 6520 4150 492e 2054 6869 7320 6578 6365  e API. This exce
-00003eb0: 7074 696f 6e20 696e 636c 7564 6573 2074  ption includes t
-00003ec0: 6865 2048 5454 5020 5265 7370 6f6e 7365  he HTTP Response
-00003ed0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00003ee0: 2020 636f 6465 2c20 616e 2065 7272 6f72    code, an error
-00003ef0: 206d 6573 7361 6765 2c20 616e 6420 7468   message, and th
-00003f00: 6520 4854 5450 2062 6f64 7920 7468 6174  e HTTP body that
-00003f10: 2077 6173 2072 6563 6569 7665 6420 696e   was received in
-00003f20: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00003f30: 2020 7468 6520 7265 7175 6573 742e 0d0a    the request...
-00003f40: 0d0a 2020 2020 2020 2020 2222 220d 0a0d  ..        """...
-00003f50: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
-00003f60: 7265 2071 7565 7279 2055 524c 0d0a 2020  re query URL..  
-00003f70: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
-00003f80: 3d20 272f 7375 6273 6372 6970 7469 6f6e  = '/subscription
-00003f90: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
-00003fa0: 6964 7d27 0d0a 2020 2020 2020 2020 5f75  id}'..        _u
-00003fb0: 726c 5f70 6174 6820 3d20 4150 4948 656c  rl_path = APIHel
-00003fc0: 7065 722e 6170 7065 6e64 5f75 726c 5f77  per.append_url_w
-00003fd0: 6974 685f 7465 6d70 6c61 7465 5f70 6172  ith_template_par
-00003fe0: 616d 6574 6572 7328 5f75 726c 5f70 6174  ameters(_url_pat
-00003ff0: 682c 207b 200d 0a20 2020 2020 2020 2020  h, { ..         
-00004000: 2020 2027 7375 6273 6372 6970 7469 6f6e     'subscription
-00004010: 5f69 6427 3a20 7375 6273 6372 6970 7469  _id': subscripti
-00004020: 6f6e 5f69 640d 0a20 2020 2020 2020 207d  on_id..        }
-00004030: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
-00004040: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
-00004050: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
-00004060: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
-00004070: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
-00004080: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
-00004090: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
-000040a0: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
-000040b0: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
-000040c0: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
-000040d0: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
-000040e0: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
-000040f0: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-00004100: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
-00004110: 6c69 6361 7469 6f6e 2f6a 736f 6e27 0d0a  lication/json'..
-00004120: 2020 2020 2020 2020 7d0d 0a0d 0a20 2020          }....   
-00004130: 2020 2020 2023 2050 7265 7061 7265 2061       # Prepare a
-00004140: 6e64 2065 7865 6375 7465 2072 6571 7565  nd execute reque
-00004150: 7374 0d0a 2020 2020 2020 2020 5f72 6571  st..        _req
-00004160: 7565 7374 203d 2073 656c 662e 6874 7470  uest = self.http
-00004170: 5f63 6c69 656e 742e 6765 7428 5f71 7565  _client.get(_que
-00004180: 7279 5f75 726c 2c20 6865 6164 6572 733d  ry_url, headers=
-00004190: 5f68 6561 6465 7273 290d 0a20 2020 2020  _headers)..     
-000041a0: 2020 2042 6173 6963 4175 7468 2e61 7070     BasicAuth.app
-000041b0: 6c79 285f 7265 7175 6573 7429 0d0a 2020  ly(_request)..  
-000041c0: 2020 2020 2020 5f63 6f6e 7465 7874 203d        _context =
-000041d0: 2073 656c 662e 6578 6563 7574 655f 7265   self.execute_re
-000041e0: 7175 6573 7428 5f72 6571 7565 7374 290d  quest(_request).
-000041f0: 0a0d 0a20 2020 2020 2020 2023 2045 6e64  ...        # End
-00004200: 706f 696e 7420 616e 6420 676c 6f62 616c  point and global
-00004210: 2065 7272 6f72 2068 616e 646c 696e 6720   error handling 
-00004220: 7573 696e 6720 4854 5450 2073 7461 7475  using HTTP statu
-00004230: 7320 636f 6465 732e 0d0a 2020 2020 2020  s codes...      
-00004240: 2020 6966 205f 636f 6e74 6578 742e 7265    if _context.re
-00004250: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00004260: 6465 203d 3d20 3430 303a 0d0a 2020 2020  de == 400:..    
-00004270: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00004280: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
-00004290: 7661 6c69 6420 7265 7175 6573 7427 2c20  valid request', 
-000042a0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-000042b0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-000042c0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-000042d0: 5f63 6f64 6520 3d3d 2034 3031 3a0d 0a20  _code == 401:.. 
-000042e0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-000042f0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00004300: 2749 6e76 616c 6964 2041 5049 206b 6579  'Invalid API key
-00004310: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00004320: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-00004330: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00004340: 7475 735f 636f 6465 203d 3d20 3430 343a  tus_code == 404:
-00004350: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00004360: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00004370: 6f6e 2827 416e 2069 6e66 6f72 6d65 6420  on('An informed 
-00004380: 7265 736f 7572 6365 2077 6173 206e 6f74  resource was not
-00004390: 2066 6f75 6e64 272c 205f 636f 6e74 6578   found', _contex
-000043a0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-000043b0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-000043c0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-000043d0: 3d20 3431 323a 0d0a 2020 2020 2020 2020  = 412:..        
-000043e0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-000043f0: 7863 6570 7469 6f6e 2827 4275 7369 6e65  xception('Busine
-00004400: 7373 2076 616c 6964 6174 696f 6e20 6572  ss validation er
-00004410: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-00004420: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-00004430: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-00004440: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-00004450: 3232 3a0d 0a20 2020 2020 2020 2020 2020  22:..           
-00004460: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-00004470: 7074 696f 6e28 2743 6f6e 7472 6163 7420  ption('Contract 
-00004480: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
-00004490: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-000044a0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-000044b0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-000044c0: 7475 735f 636f 6465 203d 3d20 3530 303a  tus_code == 500:
-000044d0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-000044e0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-000044f0: 6f6e 2827 496e 7465 726e 616c 2073 6572  on('Internal ser
-00004500: 7665 7220 6572 726f 7227 2c20 5f63 6f6e  ver error', _con
-00004510: 7465 7874 290d 0a20 2020 2020 2020 2073  text)..        s
-00004520: 656c 662e 7661 6c69 6461 7465 5f72 6573  elf.validate_res
-00004530: 706f 6e73 6528 5f63 6f6e 7465 7874 290d  ponse(_context).
-00004540: 0a0d 0a20 2020 2020 2020 2023 2052 6574  ...        # Ret
-00004550: 7572 6e20 6170 7072 6f70 7269 6174 6520  urn appropriate 
-00004560: 7479 7065 0d0a 2020 2020 2020 2020 7265  type..        re
-00004570: 7475 726e 2041 5049 4865 6c70 6572 2e6a  turn APIHelper.j
-00004580: 736f 6e5f 6465 7365 7269 616c 697a 6528  son_deserialize(
-00004590: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-000045a0: 652e 7261 775f 626f 6479 2c20 4765 7453  e.raw_body, GetS
-000045b0: 7562 7363 7269 7074 696f 6e52 6573 706f  ubscriptionRespo
-000045c0: 6e73 652e 6672 6f6d 5f64 6963 7469 6f6e  nse.from_diction
-000045d0: 6172 7929 0d0a 0d0a 2020 2020 6465 6620  ary)....    def 
-000045e0: 6465 6c65 7465 5f69 6e63 7265 6d65 6e74  delete_increment
-000045f0: 2873 656c 662c 0d0a 2020 2020 2020 2020  (self,..        
-00004600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004610: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
-00004620: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00004630: 2020 2020 2020 2020 2020 2020 696e 6372              incr
-00004640: 656d 656e 745f 6964 2c0d 0a20 2020 2020  ement_id,..     
-00004650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004660: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
-00004670: 6b65 793d 4e6f 6e65 293a 0d0a 2020 2020  key=None):..    
-00004680: 2020 2020 2222 2244 6f65 7320 6120 4445      """Does a DE
-00004690: 4c45 5445 2072 6571 7565 7374 2074 6f20  LETE request to 
-000046a0: 2f73 7562 7363 7269 7074 696f 6e73 2f7b  /subscriptions/{
-000046b0: 7375 6273 6372 6970 7469 6f6e 5f69 647d  subscription_id}
-000046c0: 2f69 6e63 7265 6d65 6e74 732f 7b69 6e63  /increments/{inc
-000046d0: 7265 6d65 6e74 5f69 647d 2e0d 0a0d 0a20  rement_id}..... 
-000046e0: 2020 2020 2020 2044 656c 6574 6573 2061         Deletes a
-000046f0: 2069 6e63 7265 6d65 6e74 0d0a 0d0a 2020   increment....  
-00004700: 2020 2020 2020 4172 6773 3a0d 0a20 2020        Args:..   
-00004710: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-00004720: 7074 696f 6e5f 6964 2028 7374 7269 6e67  ption_id (string
-00004730: 293a 2053 7562 7363 7269 7074 696f 6e20  ): Subscription 
-00004740: 6964 0d0a 2020 2020 2020 2020 2020 2020  id..            
-00004750: 696e 6372 656d 656e 745f 6964 2028 7374  increment_id (st
-00004760: 7269 6e67 293a 2049 6e63 7265 6d65 6e74  ring): Increment
-00004770: 2069 640d 0a20 2020 2020 2020 2020 2020   id..           
-00004780: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
-00004790: 2028 7374 7269 6e67 2c20 6f70 7469 6f6e   (string, option
-000047a0: 616c 293a 2054 4f44 4f3a 2074 7970 6520  al): TODO: type 
-000047b0: 6465 7363 7269 7074 696f 6e20 6865 7265  description here
-000047c0: 2e0d 0a20 2020 2020 2020 2020 2020 2020  ...             
-000047d0: 2020 2045 7861 6d70 6c65 3a20 0d0a 0d0a     Example: ....
-000047e0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-000047f0: 0d0a 2020 2020 2020 2020 2020 2020 5375  ..            Su
-00004800: 6273 6372 6970 7469 6f6e 7349 6e63 7265  bscriptionsIncre
-00004810: 6d65 6e74 7352 6573 706f 6e73 653a 2052  mentsResponse: R
-00004820: 6573 706f 6e73 6520 6672 6f6d 2074 6865  esponse from the
-00004830: 2041 5049 2e20 0d0a 0d0a 2020 2020 2020   API. ....      
-00004840: 2020 5261 6973 6573 3a0d 0a20 2020 2020    Raises:..     
-00004850: 2020 2020 2020 2041 5049 4578 6365 7074         APIExcept
-00004860: 696f 6e3a 2057 6865 6e20 616e 2065 7272  ion: When an err
-00004870: 6f72 206f 6363 7572 7320 7768 696c 6520  or occurs while 
-00004880: 6665 7463 6869 6e67 2074 6865 2064 6174  fetching the dat
-00004890: 6120 6672 6f6d 0d0a 2020 2020 2020 2020  a from..        
-000048a0: 2020 2020 2020 2020 7468 6520 7265 6d6f          the remo
-000048b0: 7465 2041 5049 2e20 5468 6973 2065 7863  te API. This exc
-000048c0: 6570 7469 6f6e 2069 6e63 6c75 6465 7320  eption includes 
-000048d0: 7468 6520 4854 5450 2052 6573 706f 6e73  the HTTP Respons
-000048e0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-000048f0: 2020 2063 6f64 652c 2061 6e20 6572 726f     code, an erro
-00004900: 7220 6d65 7373 6167 652c 2061 6e64 2074  r message, and t
-00004910: 6865 2048 5454 5020 626f 6479 2074 6861  he HTTP body tha
-00004920: 7420 7761 7320 7265 6365 6976 6564 2069  t was received i
-00004930: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
-00004940: 2020 2074 6865 2072 6571 7565 7374 2e0d     the request..
-00004950: 0a0d 0a20 2020 2020 2020 2022 2222 0d0a  ...        """..
-00004960: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-00004970: 6172 6520 7175 6572 7920 5552 4c0d 0a20  are query URL.. 
-00004980: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
-00004990: 203d 2027 2f73 7562 7363 7269 7074 696f   = '/subscriptio
-000049a0: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
-000049b0: 5f69 647d 2f69 6e63 7265 6d65 6e74 732f  _id}/increments/
-000049c0: 7b69 6e63 7265 6d65 6e74 5f69 647d 270d  {increment_id}'.
-000049d0: 0a20 2020 2020 2020 205f 7572 6c5f 7061  .        _url_pa
-000049e0: 7468 203d 2041 5049 4865 6c70 6572 2e61  th = APIHelper.a
-000049f0: 7070 656e 645f 7572 6c5f 7769 7468 5f74  ppend_url_with_t
-00004a00: 656d 706c 6174 655f 7061 7261 6d65 7465  emplate_paramete
-00004a10: 7273 285f 7572 6c5f 7061 7468 2c20 7b20  rs(_url_path, { 
-00004a20: 0d0a 2020 2020 2020 2020 2020 2020 2773  ..            's
-00004a30: 7562 7363 7269 7074 696f 6e5f 6964 273a  ubscription_id':
-00004a40: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
-00004a50: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
-00004a60: 696e 6372 656d 656e 745f 6964 273a 2069  increment_id': i
-00004a70: 6e63 7265 6d65 6e74 5f69 640d 0a20 2020  ncrement_id..   
-00004a80: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
-00004a90: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
-00004aa0: 3d20 436f 6e66 6967 7572 6174 696f 6e2e  = Configuration.
-00004ab0: 6261 7365 5f75 7269 0d0a 2020 2020 2020  base_uri..      
-00004ac0: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-00004ad0: 202b 3d20 5f75 726c 5f70 6174 680d 0a20   += _url_path.. 
-00004ae0: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
-00004af0: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
-00004b00: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
-00004b10: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
-00004b20: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
-00004b30: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
-00004b40: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
-00004b50: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
-00004b60: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
-00004b70: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
-00004b80: 2020 2027 6964 656d 706f 7465 6e63 792d     'idempotency-
-00004b90: 6b65 7927 3a20 6964 656d 706f 7465 6e63  key': idempotenc
-00004ba0: 795f 6b65 790d 0a20 2020 2020 2020 207d  y_key..        }
-00004bb0: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
-00004bc0: 6570 6172 6520 616e 6420 6578 6563 7574  epare and execut
-00004bd0: 6520 7265 7175 6573 740d 0a20 2020 2020  e request..     
-00004be0: 2020 205f 7265 7175 6573 7420 3d20 7365     _request = se
-00004bf0: 6c66 2e68 7474 705f 636c 6965 6e74 2e64  lf.http_client.d
-00004c00: 656c 6574 6528 5f71 7565 7279 5f75 726c  elete(_query_url
-00004c10: 2c20 6865 6164 6572 733d 5f68 6561 6465  , headers=_heade
-00004c20: 7273 290d 0a20 2020 2020 2020 2042 6173  rs)..        Bas
-00004c30: 6963 4175 7468 2e61 7070 6c79 285f 7265  icAuth.apply(_re
-00004c40: 7175 6573 7429 0d0a 2020 2020 2020 2020  quest)..        
-00004c50: 5f63 6f6e 7465 7874 203d 2073 656c 662e  _context = self.
-00004c60: 6578 6563 7574 655f 7265 7175 6573 7428  execute_request(
-00004c70: 5f72 6571 7565 7374 290d 0a0d 0a20 2020  _request)....   
-00004c80: 2020 2020 2023 2045 6e64 706f 696e 7420       # Endpoint 
-00004c90: 616e 6420 676c 6f62 616c 2065 7272 6f72  and global error
-00004ca0: 2068 616e 646c 696e 6720 7573 696e 6720   handling using 
-00004cb0: 4854 5450 2073 7461 7475 7320 636f 6465  HTTP status code
-00004cc0: 732e 0d0a 2020 2020 2020 2020 6966 205f  s...        if _
-00004cd0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00004ce0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00004cf0: 3430 303a 0d0a 2020 2020 2020 2020 2020  400:..          
-00004d00: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00004d10: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-00004d20: 7265 7175 6573 7427 2c20 5f63 6f6e 7465  request', _conte
-00004d30: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00004d40: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00004d50: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00004d60: 3d3d 2034 3031 3a0d 0a20 2020 2020 2020  == 401:..       
-00004d70: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00004d80: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
-00004d90: 6964 2041 5049 206b 6579 272c 205f 636f  id API key', _co
-00004da0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00004db0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00004dc0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00004dd0: 6465 203d 3d20 3430 343a 0d0a 2020 2020  de == 404:..    
-00004de0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00004df0: 726f 7245 7863 6570 7469 6f6e 2827 416e  rorException('An
-00004e00: 2069 6e66 6f72 6d65 6420 7265 736f 7572   informed resour
-00004e10: 6365 2077 6173 206e 6f74 2066 6f75 6e64  ce was not found
-00004e20: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00004e30: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-00004e40: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00004e50: 7475 735f 636f 6465 203d 3d20 3431 323a  tus_code == 412:
-00004e60: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00004e70: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00004e80: 6f6e 2827 4275 7369 6e65 7373 2076 616c  on('Business val
-00004e90: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
-00004ea0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00004eb0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-00004ec0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00004ed0: 5f63 6f64 6520 3d3d 2034 3232 3a0d 0a20  _code == 422:.. 
-00004ee0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00004ef0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00004f00: 2743 6f6e 7472 6163 7420 7661 6c69 6461  'Contract valida
-00004f10: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-00004f20: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00004f30: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00004f40: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00004f50: 6465 203d 3d20 3530 303a 0d0a 2020 2020  de == 500:..    
-00004f60: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00004f70: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
-00004f80: 7465 726e 616c 2073 6572 7665 7220 6572  ternal server er
-00004f90: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-00004fa0: 0a20 2020 2020 2020 2073 656c 662e 7661  .        self.va
-00004fb0: 6c69 6461 7465 5f72 6573 706f 6e73 6528  lidate_response(
-00004fc0: 5f63 6f6e 7465 7874 290d 0a0d 0a20 2020  _context)....   
-00004fd0: 2020 2020 2023 2052 6574 7572 6e20 6170       # Return ap
-00004fe0: 7072 6f70 7269 6174 6520 7479 7065 0d0a  propriate type..
-00004ff0: 2020 2020 2020 2020 7265 7475 726e 2041          return A
-00005000: 5049 4865 6c70 6572 2e6a 736f 6e5f 6465  PIHelper.json_de
-00005010: 7365 7269 616c 697a 6528 5f63 6f6e 7465  serialize(_conte
-00005020: 7874 2e72 6573 706f 6e73 652e 7261 775f  xt.response.raw_
-00005030: 626f 6479 2c20 5375 6273 6372 6970 7469  body, Subscripti
-00005040: 6f6e 7349 6e63 7265 6d65 6e74 7352 6573  onsIncrementsRes
-00005050: 706f 6e73 652e 6672 6f6d 5f64 6963 7469  ponse.from_dicti
-00005060: 6f6e 6172 7929 0d0a 0d0a 2020 2020 6465  onary)....    de
-00005070: 6620 6765 745f 696e 6372 656d 656e 745f  f get_increment_
-00005080: 6279 5f69 6428 7365 6c66 2c0d 0a20 2020  by_id(self,..   
-00005090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000050a0: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-000050b0: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
-000050c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000050d0: 2020 2020 2020 2069 6e63 7265 6d65 6e74         increment
-000050e0: 5f69 6429 3a0d 0a20 2020 2020 2020 2022  _id):..        "
-000050f0: 2222 446f 6573 2061 2047 4554 2072 6571  ""Does a GET req
-00005100: 7565 7374 2074 6f20 2f73 7562 7363 7269  uest to /subscri
-00005110: 7074 696f 6e73 2f7b 7375 6273 6372 6970  ptions/{subscrip
-00005120: 7469 6f6e 5f69 647d 2f69 6e63 7265 6d65  tion_id}/increme
-00005130: 6e74 732f 7b69 6e63 7265 6d65 6e74 5f69  nts/{increment_i
-00005140: 647d 2e0d 0a0d 0a20 2020 2020 2020 2047  d}.....        G
-00005150: 6574 496e 6372 656d 656e 7442 7949 640d  etIncrementById.
-00005160: 0a0d 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-00005170: 0d0a 2020 2020 2020 2020 2020 2020 7375  ..            su
-00005180: 6273 6372 6970 7469 6f6e 5f69 6420 2873  bscription_id (s
-00005190: 7472 696e 6729 3a20 5468 6520 7375 6273  tring): The subs
-000051a0: 6372 6970 7469 6f6e 2049 640d 0a20 2020  cription Id..   
-000051b0: 2020 2020 2020 2020 2069 6e63 7265 6d65           increme
-000051c0: 6e74 5f69 6420 2873 7472 696e 6729 3a20  nt_id (string): 
-000051d0: 5468 6520 696e 6372 656d 656e 7420 4964  The increment Id
-000051e0: 0d0a 0d0a 2020 2020 2020 2020 5265 7475  ....        Retu
-000051f0: 726e 733a 0d0a 2020 2020 2020 2020 2020  rns:..          
-00005200: 2020 5375 6273 6372 6970 7469 6f6e 7349    SubscriptionsI
-00005210: 6e63 7265 6d65 6e74 7352 6573 706f 6e73  ncrementsRespons
-00005220: 653a 2052 6573 706f 6e73 6520 6672 6f6d  e: Response from
-00005230: 2074 6865 2041 5049 2e20 0d0a 0d0a 2020   the API. ....  
-00005240: 2020 2020 2020 5261 6973 6573 3a0d 0a20        Raises:.. 
-00005250: 2020 2020 2020 2020 2020 2041 5049 4578             APIEx
-00005260: 6365 7074 696f 6e3a 2057 6865 6e20 616e  ception: When an
-00005270: 2065 7272 6f72 206f 6363 7572 7320 7768   error occurs wh
-00005280: 696c 6520 6665 7463 6869 6e67 2074 6865  ile fetching the
-00005290: 2064 6174 6120 6672 6f6d 0d0a 2020 2020   data from..    
-000052a0: 2020 2020 2020 2020 2020 2020 7468 6520              the 
-000052b0: 7265 6d6f 7465 2041 5049 2e20 5468 6973  remote API. This
-000052c0: 2065 7863 6570 7469 6f6e 2069 6e63 6c75   exception inclu
-000052d0: 6465 7320 7468 6520 4854 5450 2052 6573  des the HTTP Res
-000052e0: 706f 6e73 650d 0a20 2020 2020 2020 2020  ponse..         
-000052f0: 2020 2020 2020 2063 6f64 652c 2061 6e20         code, an 
-00005300: 6572 726f 7220 6d65 7373 6167 652c 2061  error message, a
-00005310: 6e64 2074 6865 2048 5454 5020 626f 6479  nd the HTTP body
-00005320: 2074 6861 7420 7761 7320 7265 6365 6976   that was receiv
-00005330: 6564 2069 6e0d 0a20 2020 2020 2020 2020  ed in..         
-00005340: 2020 2020 2020 2074 6865 2072 6571 7565         the reque
-00005350: 7374 2e0d 0a0d 0a20 2020 2020 2020 2022  st.....        "
-00005360: 2222 0d0a 0d0a 2020 2020 2020 2020 2320  ""....        # 
-00005370: 5072 6570 6172 6520 7175 6572 7920 5552  Prepare query UR
-00005380: 4c0d 0a20 2020 2020 2020 205f 7572 6c5f  L..        _url_
-00005390: 7061 7468 203d 2027 2f73 7562 7363 7269  path = '/subscri
-000053a0: 7074 696f 6e73 2f7b 7375 6273 6372 6970  ptions/{subscrip
-000053b0: 7469 6f6e 5f69 647d 2f69 6e63 7265 6d65  tion_id}/increme
-000053c0: 6e74 732f 7b69 6e63 7265 6d65 6e74 5f69  nts/{increment_i
-000053d0: 647d 270d 0a20 2020 2020 2020 205f 7572  d}'..        _ur
-000053e0: 6c5f 7061 7468 203d 2041 5049 4865 6c70  l_path = APIHelp
-000053f0: 6572 2e61 7070 656e 645f 7572 6c5f 7769  er.append_url_wi
-00005400: 7468 5f74 656d 706c 6174 655f 7061 7261  th_template_para
-00005410: 6d65 7465 7273 285f 7572 6c5f 7061 7468  meters(_url_path
-00005420: 2c20 7b20 0d0a 2020 2020 2020 2020 2020  , { ..          
-00005430: 2020 2773 7562 7363 7269 7074 696f 6e5f    'subscription_
-00005440: 6964 273a 2073 7562 7363 7269 7074 696f  id': subscriptio
-00005450: 6e5f 6964 2c0d 0a20 2020 2020 2020 2020  n_id,..         
-00005460: 2020 2027 696e 6372 656d 656e 745f 6964     'increment_id
-00005470: 273a 2069 6e63 7265 6d65 6e74 5f69 640d  ': increment_id.
-00005480: 0a20 2020 2020 2020 207d 290d 0a20 2020  .        })..   
-00005490: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
-000054a0: 6465 7220 3d20 436f 6e66 6967 7572 6174  der = Configurat
-000054b0: 696f 6e2e 6261 7365 5f75 7269 0d0a 2020  ion.base_uri..  
-000054c0: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
-000054d0: 6c64 6572 202b 3d20 5f75 726c 5f70 6174  lder += _url_pat
-000054e0: 680d 0a20 2020 2020 2020 205f 7175 6572  h..        _quer
-000054f0: 795f 7572 6c20 3d20 4150 4948 656c 7065  y_url = APIHelpe
-00005500: 722e 636c 6561 6e5f 7572 6c28 5f71 7565  r.clean_url(_que
-00005510: 7279 5f62 7569 6c64 6572 290d 0a0d 0a20  ry_builder).... 
-00005520: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-00005530: 2068 6561 6465 7273 0d0a 2020 2020 2020   headers..      
-00005540: 2020 5f68 6561 6465 7273 203d 207b 0d0a    _headers = {..
-00005550: 2020 2020 2020 2020 2020 2020 2761 6363              'acc
-00005560: 6570 7427 3a20 2761 7070 6c69 6361 7469  ept': 'applicati
-00005570: 6f6e 2f6a 736f 6e27 0d0a 2020 2020 2020  on/json'..      
-00005580: 2020 7d0d 0a0d 0a20 2020 2020 2020 2023    }....        #
-00005590: 2050 7265 7061 7265 2061 6e64 2065 7865   Prepare and exe
-000055a0: 6375 7465 2072 6571 7565 7374 0d0a 2020  cute request..  
-000055b0: 2020 2020 2020 5f72 6571 7565 7374 203d        _request =
-000055c0: 2073 656c 662e 6874 7470 5f63 6c69 656e   self.http_clien
-000055d0: 742e 6765 7428 5f71 7565 7279 5f75 726c  t.get(_query_url
-000055e0: 2c20 6865 6164 6572 733d 5f68 6561 6465  , headers=_heade
-000055f0: 7273 290d 0a20 2020 2020 2020 2042 6173  rs)..        Bas
-00005600: 6963 4175 7468 2e61 7070 6c79 285f 7265  icAuth.apply(_re
-00005610: 7175 6573 7429 0d0a 2020 2020 2020 2020  quest)..        
-00005620: 5f63 6f6e 7465 7874 203d 2073 656c 662e  _context = self.
-00005630: 6578 6563 7574 655f 7265 7175 6573 7428  execute_request(
-00005640: 5f72 6571 7565 7374 290d 0a0d 0a20 2020  _request)....   
-00005650: 2020 2020 2023 2045 6e64 706f 696e 7420       # Endpoint 
-00005660: 616e 6420 676c 6f62 616c 2065 7272 6f72  and global error
-00005670: 2068 616e 646c 696e 6720 7573 696e 6720   handling using 
-00005680: 4854 5450 2073 7461 7475 7320 636f 6465  HTTP status code
-00005690: 732e 0d0a 2020 2020 2020 2020 6966 205f  s...        if _
-000056a0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-000056b0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-000056c0: 3430 303a 0d0a 2020 2020 2020 2020 2020  400:..          
-000056d0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-000056e0: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-000056f0: 7265 7175 6573 7427 2c20 5f63 6f6e 7465  request', _conte
-00005700: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00005710: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00005720: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00005730: 3d3d 2034 3031 3a0d 0a20 2020 2020 2020  == 401:..       
-00005740: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00005750: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
-00005760: 6964 2041 5049 206b 6579 272c 205f 636f  id API key', _co
-00005770: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00005780: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00005790: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-000057a0: 6465 203d 3d20 3430 343a 0d0a 2020 2020  de == 404:..    
-000057b0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-000057c0: 726f 7245 7863 6570 7469 6f6e 2827 416e  rorException('An
-000057d0: 2069 6e66 6f72 6d65 6420 7265 736f 7572   informed resour
-000057e0: 6365 2077 6173 206e 6f74 2066 6f75 6e64  ce was not found
-000057f0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00005800: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-00005810: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00005820: 7475 735f 636f 6465 203d 3d20 3431 323a  tus_code == 412:
-00005830: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00005840: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00005850: 6f6e 2827 4275 7369 6e65 7373 2076 616c  on('Business val
-00005860: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
-00005870: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00005880: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-00005890: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-000058a0: 5f63 6f64 6520 3d3d 2034 3232 3a0d 0a20  _code == 422:.. 
-000058b0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-000058c0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-000058d0: 2743 6f6e 7472 6163 7420 7661 6c69 6461  'Contract valida
-000058e0: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-000058f0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00005900: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00005910: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00005920: 6465 203d 3d20 3530 303a 0d0a 2020 2020  de == 500:..    
-00005930: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00005940: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
-00005950: 7465 726e 616c 2073 6572 7665 7220 6572  ternal server er
-00005960: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-00005970: 0a20 2020 2020 2020 2073 656c 662e 7661  .        self.va
-00005980: 6c69 6461 7465 5f72 6573 706f 6e73 6528  lidate_response(
-00005990: 5f63 6f6e 7465 7874 290d 0a0d 0a20 2020  _context)....   
-000059a0: 2020 2020 2023 2052 6574 7572 6e20 6170       # Return ap
-000059b0: 7072 6f70 7269 6174 6520 7479 7065 0d0a  propriate type..
-000059c0: 2020 2020 2020 2020 7265 7475 726e 2041          return A
-000059d0: 5049 4865 6c70 6572 2e6a 736f 6e5f 6465  PIHelper.json_de
-000059e0: 7365 7269 616c 697a 6528 5f63 6f6e 7465  serialize(_conte
-000059f0: 7874 2e72 6573 706f 6e73 652e 7261 775f  xt.response.raw_
-00005a00: 626f 6479 2c20 5375 6273 6372 6970 7469  body, Subscripti
-00005a10: 6f6e 7349 6e63 7265 6d65 6e74 7352 6573  onsIncrementsRes
-00005a20: 706f 6e73 652e 6672 6f6d 5f64 6963 7469  ponse.from_dicti
-00005a30: 6f6e 6172 7929 0d0a 0d0a 2020 2020 6465  onary)....    de
-00005a40: 6620 6765 745f 7375 6273 6372 6970 7469  f get_subscripti
-00005a50: 6f6e 5f63 7963 6c65 5f62 795f 6964 2873  on_cycle_by_id(s
-00005a60: 656c 662c 0d0a 2020 2020 2020 2020 2020  elf,..          
-00005a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005a80: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
-00005a90: 7269 7074 696f 6e5f 6964 2c0d 0a20 2020  ription_id,..   
-00005aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ac0: 2020 6379 636c 655f 6964 293a 0d0a 2020    cycle_id):..  
-00005ad0: 2020 2020 2020 2222 2244 6f65 7320 6120        """Does a 
-00005ae0: 4745 5420 7265 7175 6573 7420 746f 202f  GET request to /
-00005af0: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
-00005b00: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
-00005b10: 6379 636c 6573 2f7b 6379 636c 6549 647d  cycles/{cycleId}
-00005b20: 2e0d 0a0d 0a20 2020 2020 2020 2047 6574  .....        Get
-00005b30: 5375 6273 6372 6970 7469 6f6e 4379 636c  SubscriptionCycl
-00005b40: 6542 7949 640d 0a0d 0a20 2020 2020 2020  eById....       
-00005b50: 2041 7267 733a 0d0a 2020 2020 2020 2020   Args:..        
-00005b60: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
-00005b70: 5f69 6420 2873 7472 696e 6729 3a20 5468  _id (string): Th
-00005b80: 6520 7375 6273 6372 6970 7469 6f6e 2069  e subscription i
-00005b90: 640d 0a20 2020 2020 2020 2020 2020 2063  d..            c
-00005ba0: 7963 6c65 5f69 6420 2873 7472 696e 6729  ycle_id (string)
-00005bb0: 3a20 544f 444f 3a20 7479 7065 2064 6573  : TODO: type des
-00005bc0: 6372 6970 7469 6f6e 2068 6572 652e 2045  cription here. E
-00005bd0: 7861 6d70 6c65 3a20 0d0a 0d0a 2020 2020  xample: ....    
-00005be0: 2020 2020 5265 7475 726e 733a 0d0a 2020      Returns:..  
-00005bf0: 2020 2020 2020 2020 2020 5375 6273 6372            Subscr
-00005c00: 6970 7469 6f6e 7343 7963 6c65 7352 6573  iptionsCyclesRes
-00005c10: 706f 6e73 653a 2052 6573 706f 6e73 6520  ponse: Response 
-00005c20: 6672 6f6d 2074 6865 2041 5049 2e20 0d0a  from the API. ..
-00005c30: 0d0a 2020 2020 2020 2020 5261 6973 6573  ..        Raises
-00005c40: 3a0d 0a20 2020 2020 2020 2020 2020 2041  :..            A
-00005c50: 5049 4578 6365 7074 696f 6e3a 2057 6865  PIException: Whe
-00005c60: 6e20 616e 2065 7272 6f72 206f 6363 7572  n an error occur
-00005c70: 7320 7768 696c 6520 6665 7463 6869 6e67  s while fetching
-00005c80: 2074 6865 2064 6174 6120 6672 6f6d 0d0a   the data from..
-00005c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ca0: 7468 6520 7265 6d6f 7465 2041 5049 2e20  the remote API. 
-00005cb0: 5468 6973 2065 7863 6570 7469 6f6e 2069  This exception i
-00005cc0: 6e63 6c75 6465 7320 7468 6520 4854 5450  ncludes the HTTP
-00005cd0: 2052 6573 706f 6e73 650d 0a20 2020 2020   Response..     
-00005ce0: 2020 2020 2020 2020 2020 2063 6f64 652c             code,
-00005cf0: 2061 6e20 6572 726f 7220 6d65 7373 6167   an error messag
-00005d00: 652c 2061 6e64 2074 6865 2048 5454 5020  e, and the HTTP 
-00005d10: 626f 6479 2074 6861 7420 7761 7320 7265  body that was re
-00005d20: 6365 6976 6564 2069 6e0d 0a20 2020 2020  ceived in..     
-00005d30: 2020 2020 2020 2020 2020 2074 6865 2072             the r
-00005d40: 6571 7565 7374 2e0d 0a0d 0a20 2020 2020  equest.....     
-00005d50: 2020 2022 2222 0d0a 0d0a 2020 2020 2020     """....      
-00005d60: 2020 2320 5072 6570 6172 6520 7175 6572    # Prepare quer
-00005d70: 7920 5552 4c0d 0a20 2020 2020 2020 205f  y URL..        _
-00005d80: 7572 6c5f 7061 7468 203d 2027 2f73 7562  url_path = '/sub
-00005d90: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
-00005da0: 6372 6970 7469 6f6e 5f69 647d 2f63 7963  cription_id}/cyc
-00005db0: 6c65 732f 7b63 7963 6c65 4964 7d27 0d0a  les/{cycleId}'..
-00005dc0: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
-00005dd0: 6820 3d20 4150 4948 656c 7065 722e 6170  h = APIHelper.ap
-00005de0: 7065 6e64 5f75 726c 5f77 6974 685f 7465  pend_url_with_te
-00005df0: 6d70 6c61 7465 5f70 6172 616d 6574 6572  mplate_parameter
-00005e00: 7328 5f75 726c 5f70 6174 682c 207b 200d  s(_url_path, { .
-00005e10: 0a20 2020 2020 2020 2020 2020 2027 7375  .            'su
-00005e20: 6273 6372 6970 7469 6f6e 5f69 6427 3a20  bscription_id': 
-00005e30: 7375 6273 6372 6970 7469 6f6e 5f69 642c  subscription_id,
-00005e40: 0d0a 2020 2020 2020 2020 2020 2020 2763  ..            'c
-00005e50: 7963 6c65 4964 273a 2063 7963 6c65 5f69  ycleId': cycle_i
-00005e60: 640d 0a20 2020 2020 2020 207d 290d 0a20  d..        }).. 
-00005e70: 2020 2020 2020 205f 7175 6572 795f 6275         _query_bu
-00005e80: 696c 6465 7220 3d20 436f 6e66 6967 7572  ilder = Configur
-00005e90: 6174 696f 6e2e 6261 7365 5f75 7269 0d0a  ation.base_uri..
-00005ea0: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
-00005eb0: 7569 6c64 6572 202b 3d20 5f75 726c 5f70  uilder += _url_p
-00005ec0: 6174 680d 0a20 2020 2020 2020 205f 7175  ath..        _qu
-00005ed0: 6572 795f 7572 6c20 3d20 4150 4948 656c  ery_url = APIHel
-00005ee0: 7065 722e 636c 6561 6e5f 7572 6c28 5f71  per.clean_url(_q
-00005ef0: 7565 7279 5f62 7569 6c64 6572 290d 0a0d  uery_builder)...
-00005f00: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
-00005f10: 7265 2068 6561 6465 7273 0d0a 2020 2020  re headers..    
-00005f20: 2020 2020 5f68 6561 6465 7273 203d 207b      _headers = {
-00005f30: 0d0a 2020 2020 2020 2020 2020 2020 2761  ..            'a
-00005f40: 6363 6570 7427 3a20 2761 7070 6c69 6361  ccept': 'applica
-00005f50: 7469 6f6e 2f6a 736f 6e27 0d0a 2020 2020  tion/json'..    
-00005f60: 2020 2020 7d0d 0a0d 0a20 2020 2020 2020      }....       
-00005f70: 2023 2050 7265 7061 7265 2061 6e64 2065   # Prepare and e
-00005f80: 7865 6375 7465 2072 6571 7565 7374 0d0a  xecute request..
-00005f90: 2020 2020 2020 2020 5f72 6571 7565 7374          _request
-00005fa0: 203d 2073 656c 662e 6874 7470 5f63 6c69   = self.http_cli
-00005fb0: 656e 742e 6765 7428 5f71 7565 7279 5f75  ent.get(_query_u
-00005fc0: 726c 2c20 6865 6164 6572 733d 5f68 6561  rl, headers=_hea
-00005fd0: 6465 7273 290d 0a20 2020 2020 2020 2042  ders)..        B
-00005fe0: 6173 6963 4175 7468 2e61 7070 6c79 285f  asicAuth.apply(_
-00005ff0: 7265 7175 6573 7429 0d0a 2020 2020 2020  request)..      
-00006000: 2020 5f63 6f6e 7465 7874 203d 2073 656c    _context = sel
-00006010: 662e 6578 6563 7574 655f 7265 7175 6573  f.execute_reques
-00006020: 7428 5f72 6571 7565 7374 290d 0a0d 0a20  t(_request).... 
-00006030: 2020 2020 2020 2023 2045 6e64 706f 696e         # Endpoin
-00006040: 7420 616e 6420 676c 6f62 616c 2065 7272  t and global err
-00006050: 6f72 2068 616e 646c 696e 6720 7573 696e  or handling usin
-00006060: 6720 4854 5450 2073 7461 7475 7320 636f  g HTTP status co
-00006070: 6465 732e 0d0a 2020 2020 2020 2020 6966  des...        if
-00006080: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00006090: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-000060a0: 3d20 3430 303a 0d0a 2020 2020 2020 2020  = 400:..        
-000060b0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-000060c0: 7863 6570 7469 6f6e 2827 496e 7661 6c69  xception('Invali
-000060d0: 6420 7265 7175 6573 7427 2c20 5f63 6f6e  d request', _con
-000060e0: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-000060f0: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-00006100: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00006110: 6520 3d3d 2034 3031 3a0d 0a20 2020 2020  e == 401:..     
-00006120: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00006130: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
-00006140: 616c 6964 2041 5049 206b 6579 272c 205f  alid API key', _
-00006150: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00006160: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00006170: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00006180: 636f 6465 203d 3d20 3430 343a 0d0a 2020  code == 404:..  
-00006190: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-000061a0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-000061b0: 416e 2069 6e66 6f72 6d65 6420 7265 736f  An informed reso
-000061c0: 7572 6365 2077 6173 206e 6f74 2066 6f75  urce was not fou
-000061d0: 6e64 272c 205f 636f 6e74 6578 7429 0d0a  nd', _context)..
-000061e0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-000061f0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-00006200: 7461 7475 735f 636f 6465 203d 3d20 3431  tatus_code == 41
-00006210: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
-00006220: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-00006230: 7469 6f6e 2827 4275 7369 6e65 7373 2076  tion('Business v
-00006240: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
-00006250: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00006260: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-00006270: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00006280: 7573 5f63 6f64 6520 3d3d 2034 3232 3a0d  us_code == 422:.
-00006290: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-000062a0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-000062b0: 6e28 2743 6f6e 7472 6163 7420 7661 6c69  n('Contract vali
-000062c0: 6461 7469 6f6e 2065 7272 6f72 272c 205f  dation error', _
-000062d0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-000062e0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-000062f0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00006300: 636f 6465 203d 3d20 3530 303a 0d0a 2020  code == 500:..  
-00006310: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00006320: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00006330: 496e 7465 726e 616c 2073 6572 7665 7220  Internal server 
-00006340: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
-00006350: 290d 0a20 2020 2020 2020 2073 656c 662e  )..        self.
-00006360: 7661 6c69 6461 7465 5f72 6573 706f 6e73  validate_respons
-00006370: 6528 5f63 6f6e 7465 7874 290d 0a0d 0a20  e(_context).... 
-00006380: 2020 2020 2020 2023 2052 6574 7572 6e20         # Return 
-00006390: 6170 7072 6f70 7269 6174 6520 7479 7065  appropriate type
-000063a0: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-000063b0: 2041 5049 4865 6c70 6572 2e6a 736f 6e5f   APIHelper.json_
-000063c0: 6465 7365 7269 616c 697a 6528 5f63 6f6e  deserialize(_con
-000063d0: 7465 7874 2e72 6573 706f 6e73 652e 7261  text.response.ra
-000063e0: 775f 626f 6479 2c20 5375 6273 6372 6970  w_body, Subscrip
-000063f0: 7469 6f6e 7343 7963 6c65 7352 6573 706f  tionsCyclesRespo
-00006400: 6e73 652e 6672 6f6d 5f64 6963 7469 6f6e  nse.from_diction
-00006410: 6172 7929 0d0a 0d0a 2020 2020 6465 6620  ary)....    def 
-00006420: 7570 6461 7465 5f73 7562 7363 7269 7074  update_subscript
-00006430: 696f 6e5f 7374 6172 745f 6174 2873 656c  ion_start_at(sel
-00006440: 662c 0d0a 2020 2020 2020 2020 2020 2020  f,..            
-00006450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006460: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-00006470: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
-00006480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000064a0: 626f 6479 2c0d 0a20 2020 2020 2020 2020  body,..         
-000064b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000064c0: 2020 2020 2020 2020 2020 2020 6964 656d              idem
-000064d0: 706f 7465 6e63 795f 6b65 793d 4e6f 6e65  potency_key=None
-000064e0: 293a 0d0a 2020 2020 2020 2020 2222 2244  ):..        """D
-000064f0: 6f65 7320 6120 5041 5443 4820 7265 7175  oes a PATCH requ
-00006500: 6573 7420 746f 202f 7375 6273 6372 6970  est to /subscrip
-00006510: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
-00006520: 696f 6e5f 6964 7d2f 7374 6172 742d 6174  ion_id}/start-at
-00006530: 2e0d 0a0d 0a20 2020 2020 2020 2055 7064  .....        Upd
-00006540: 6174 6573 2074 6865 2073 7461 7274 2061  ates the start a
-00006550: 7420 6461 7465 2066 726f 6d20 6120 7375  t date from a su
-00006560: 6273 6372 6970 7469 6f6e 0d0a 0d0a 2020  bscription....  
-00006570: 2020 2020 2020 4172 6773 3a0d 0a20 2020        Args:..   
-00006580: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-00006590: 7074 696f 6e5f 6964 2028 7374 7269 6e67  ption_id (string
-000065a0: 293a 2054 6865 2073 7562 7363 7269 7074  ): The subscript
-000065b0: 696f 6e20 6964 0d0a 2020 2020 2020 2020  ion id..        
-000065c0: 2020 2020 626f 6479 2028 5375 6273 6372      body (Subscr
-000065d0: 6970 7469 6f6e 7353 7461 7274 4174 5265  iptionsStartAtRe
-000065e0: 7175 6573 7429 3a20 5265 7175 6573 7420  quest): Request 
-000065f0: 666f 7220 7570 6461 7469 6e67 2074 6865  for updating the
-00006600: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00006610: 2020 7375 6273 6372 6970 7469 6f6e 2073    subscription s
-00006620: 7461 7274 2064 6174 650d 0a20 2020 2020  tart date..     
-00006630: 2020 2020 2020 2069 6465 6d70 6f74 656e         idempoten
-00006640: 6379 5f6b 6579 2028 7374 7269 6e67 2c20  cy_key (string, 
-00006650: 6f70 7469 6f6e 616c 293a 2054 4f44 4f3a  optional): TODO:
-00006660: 2074 7970 6520 6465 7363 7269 7074 696f   type descriptio
-00006670: 6e20 6865 7265 2e0d 0a20 2020 2020 2020  n here...       
-00006680: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
-00006690: 3a20 0d0a 0d0a 2020 2020 2020 2020 5265  : ....        Re
-000066a0: 7475 726e 733a 0d0a 2020 2020 2020 2020  turns:..        
-000066b0: 2020 2020 4765 7453 7562 7363 7269 7074      GetSubscript
-000066c0: 696f 6e52 6573 706f 6e73 653a 2052 6573  ionResponse: Res
-000066d0: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
-000066e0: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
-000066f0: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
-00006700: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
-00006710: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
-00006720: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
-00006730: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
-00006740: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
-00006750: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
-00006760: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
-00006770: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
-00006780: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
-00006790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000067a0: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
-000067b0: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
-000067c0: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
-000067d0: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
-000067e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000067f0: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
-00006800: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
-00006810: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-00006820: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
-00006830: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
-00006840: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
-00006850: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
-00006860: 647d 2f73 7461 7274 2d61 7427 0d0a 2020  d}/start-at'..  
-00006870: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
-00006880: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
-00006890: 6e64 5f75 726c 5f77 6974 685f 7465 6d70  nd_url_with_temp
-000068a0: 6c61 7465 5f70 6172 616d 6574 6572 7328  late_parameters(
-000068b0: 5f75 726c 5f70 6174 682c 207b 200d 0a20  _url_path, { .. 
-000068c0: 2020 2020 2020 2020 2020 2027 7375 6273             'subs
-000068d0: 6372 6970 7469 6f6e 5f69 6427 3a20 7375  cription_id': su
-000068e0: 6273 6372 6970 7469 6f6e 5f69 640d 0a20  bscription_id.. 
-000068f0: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
-00006900: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
-00006910: 7220 3d20 436f 6e66 6967 7572 6174 696f  r = Configuratio
-00006920: 6e2e 6261 7365 5f75 7269 0d0a 2020 2020  n.base_uri..    
-00006930: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
-00006940: 6572 202b 3d20 5f75 726c 5f70 6174 680d  er += _url_path.
-00006950: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-00006960: 7572 6c20 3d20 4150 4948 656c 7065 722e  url = APIHelper.
-00006970: 636c 6561 6e5f 7572 6c28 5f71 7565 7279  clean_url(_query
-00006980: 5f62 7569 6c64 6572 290d 0a0d 0a20 2020  _builder)....   
-00006990: 2020 2020 2023 2050 7265 7061 7265 2068       # Prepare h
-000069a0: 6561 6465 7273 0d0a 2020 2020 2020 2020  eaders..        
-000069b0: 5f68 6561 6465 7273 203d 207b 0d0a 2020  _headers = {..  
-000069c0: 2020 2020 2020 2020 2020 2761 6363 6570            'accep
-000069d0: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
-000069e0: 2f6a 736f 6e27 2c0d 0a20 2020 2020 2020  /json',..       
-000069f0: 2020 2020 2027 436f 6e74 656e 742d 5479       'Content-Ty
-00006a00: 7065 273a 2027 6170 706c 6963 6174 696f  pe': 'applicatio
-00006a10: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
-00006a20: 2020 2020 2020 2769 6465 6d70 6f74 656e        'idempoten
-00006a30: 6379 2d6b 6579 273a 2069 6465 6d70 6f74  cy-key': idempot
-00006a40: 656e 6379 5f6b 6579 0d0a 2020 2020 2020  ency_key..      
-00006a50: 2020 7d0d 0a0d 0a20 2020 2020 2020 2023    }....        #
-00006a60: 2050 7265 7061 7265 2061 6e64 2065 7865   Prepare and exe
-00006a70: 6375 7465 2072 6571 7565 7374 0d0a 2020  cute request..  
-00006a80: 2020 2020 2020 5f72 6571 7565 7374 203d        _request =
-00006a90: 2073 656c 662e 6874 7470 5f63 6c69 656e   self.http_clien
-00006aa0: 742e 7061 7463 6828 5f71 7565 7279 5f75  t.patch(_query_u
-00006ab0: 726c 2c20 6865 6164 6572 733d 5f68 6561  rl, headers=_hea
-00006ac0: 6465 7273 2c20 7061 7261 6d65 7465 7273  ders, parameters
-00006ad0: 3d41 5049 4865 6c70 6572 2e6a 736f 6e5f  =APIHelper.json_
-00006ae0: 7365 7269 616c 697a 6528 626f 6479 2929  serialize(body))
-00006af0: 0d0a 2020 2020 2020 2020 4261 7369 6341  ..        BasicA
-00006b00: 7574 682e 6170 706c 7928 5f72 6571 7565  uth.apply(_reque
-00006b10: 7374 290d 0a20 2020 2020 2020 205f 636f  st)..        _co
-00006b20: 6e74 6578 7420 3d20 7365 6c66 2e65 7865  ntext = self.exe
-00006b30: 6375 7465 5f72 6571 7565 7374 285f 7265  cute_request(_re
-00006b40: 7175 6573 7429 0d0a 0d0a 2020 2020 2020  quest)....      
-00006b50: 2020 2320 456e 6470 6f69 6e74 2061 6e64    # Endpoint and
-00006b60: 2067 6c6f 6261 6c20 6572 726f 7220 6861   global error ha
-00006b70: 6e64 6c69 6e67 2075 7369 6e67 2048 5454  ndling using HTT
-00006b80: 5020 7374 6174 7573 2063 6f64 6573 2e0d  P status codes..
-00006b90: 0a20 2020 2020 2020 2069 6620 5f63 6f6e  .        if _con
-00006ba0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00006bb0: 6174 7573 5f63 6f64 6520 3d3d 2034 3030  atus_code == 400
-00006bc0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00006bd0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00006be0: 696f 6e28 2749 6e76 616c 6964 2072 6571  ion('Invalid req
-00006bf0: 7565 7374 272c 205f 636f 6e74 6578 7429  uest', _context)
-00006c00: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00006c10: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00006c20: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00006c30: 3430 313a 0d0a 2020 2020 2020 2020 2020  401:..          
-00006c40: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00006c50: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-00006c60: 4150 4920 6b65 7927 2c20 5f63 6f6e 7465  API key', _conte
-00006c70: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00006c80: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00006c90: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00006ca0: 3d3d 2034 3034 3a0d 0a20 2020 2020 2020  == 404:..       
-00006cb0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00006cc0: 4578 6365 7074 696f 6e28 2741 6e20 696e  Exception('An in
-00006cd0: 666f 726d 6564 2072 6573 6f75 7263 6520  formed resource 
-00006ce0: 7761 7320 6e6f 7420 666f 756e 6427 2c20  was not found', 
-00006cf0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00006d00: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-00006d10: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00006d20: 5f63 6f64 6520 3d3d 2034 3132 3a0d 0a20  _code == 412:.. 
-00006d30: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00006d40: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00006d50: 2742 7573 696e 6573 7320 7661 6c69 6461  'Business valida
-00006d60: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-00006d70: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00006d80: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00006d90: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00006da0: 6465 203d 3d20 3432 323a 0d0a 2020 2020  de == 422:..    
-00006db0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00006dc0: 726f 7245 7863 6570 7469 6f6e 2827 436f  rorException('Co
-00006dd0: 6e74 7261 6374 2076 616c 6964 6174 696f  ntract validatio
-00006de0: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
-00006df0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00006e00: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00006e10: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00006e20: 3d3d 2035 3030 3a0d 0a20 2020 2020 2020  == 500:..       
-00006e30: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00006e40: 4578 6365 7074 696f 6e28 2749 6e74 6572  Exception('Inter
-00006e50: 6e61 6c20 7365 7276 6572 2065 7272 6f72  nal server error
-00006e60: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00006e70: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
-00006e80: 6174 655f 7265 7370 6f6e 7365 285f 636f  ate_response(_co
-00006e90: 6e74 6578 7429 0d0a 0d0a 2020 2020 2020  ntext)....      
-00006ea0: 2020 2320 5265 7475 726e 2061 7070 726f    # Return appro
-00006eb0: 7072 6961 7465 2074 7970 650d 0a20 2020  priate type..   
-00006ec0: 2020 2020 2072 6574 7572 6e20 4150 4948       return APIH
-00006ed0: 656c 7065 722e 6a73 6f6e 5f64 6573 6572  elper.json_deser
-00006ee0: 6961 6c69 7a65 285f 636f 6e74 6578 742e  ialize(_context.
-00006ef0: 7265 7370 6f6e 7365 2e72 6177 5f62 6f64  response.raw_bod
-00006f00: 792c 2047 6574 5375 6273 6372 6970 7469  y, GetSubscripti
-00006f10: 6f6e 5265 7370 6f6e 7365 2e66 726f 6d5f  onResponse.from_
-00006f20: 6469 6374 696f 6e61 7279 290d 0a0d 0a20  dictionary).... 
-00006f30: 2020 2064 6566 2075 7064 6174 655f 7375     def update_su
-00006f40: 6273 6372 6970 7469 6f6e 5f70 6179 6d65  bscription_payme
-00006f50: 6e74 5f6d 6574 686f 6428 7365 6c66 2c0d  nt_method(self,.
-00006f60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006f80: 2020 2020 2020 2020 2020 2020 7375 6273              subs
-00006f90: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
-00006fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006fc0: 2020 2020 2020 2020 2062 6f64 792c 0d0a           body,..
-00006fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006ff0: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
-00007000: 6f74 656e 6379 5f6b 6579 3d4e 6f6e 6529  otency_key=None)
-00007010: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
-00007020: 6573 2061 2050 4154 4348 2072 6571 7565  es a PATCH reque
-00007030: 7374 2074 6f20 2f73 7562 7363 7269 7074  st to /subscript
-00007040: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
-00007050: 6f6e 5f69 647d 2f70 6179 6d65 6e74 2d6d  on_id}/payment-m
-00007060: 6574 686f 642e 0d0a 0d0a 2020 2020 2020  ethod.....      
-00007070: 2020 5570 6461 7465 7320 7468 6520 7061    Updates the pa
-00007080: 796d 656e 7420 6d65 7468 6f64 2066 726f  yment method fro
-00007090: 6d20 6120 7375 6273 6372 6970 7469 6f6e  m a subscription
-000070a0: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
-000070b0: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
-000070c0: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
-000070d0: 7374 7269 6e67 293a 2053 7562 7363 7269  string): Subscri
-000070e0: 7074 696f 6e20 6964 0d0a 2020 2020 2020  ption id..      
-000070f0: 2020 2020 2020 626f 6479 2028 5375 6273        body (Subs
-00007100: 6372 6970 7469 6f6e 7350 6179 6d65 6e74  criptionsPayment
-00007110: 4d65 7468 6f64 5265 7175 6573 7429 3a20  MethodRequest): 
-00007120: 5265 7175 6573 7420 666f 7220 7570 6461  Request for upda
-00007130: 7469 6e67 2074 6865 0d0a 2020 2020 2020  ting the..      
-00007140: 2020 2020 2020 2020 2020 7061 796d 656e            paymen
-00007150: 746d 6574 686f 6420 6672 6f6d 2061 2073  tmethod from a s
-00007160: 7562 7363 7269 7074 696f 6e0d 0a20 2020  ubscription..   
-00007170: 2020 2020 2020 2020 2069 6465 6d70 6f74           idempot
-00007180: 656e 6379 5f6b 6579 2028 7374 7269 6e67  ency_key (string
-00007190: 2c20 6f70 7469 6f6e 616c 293a 2054 4f44  , optional): TOD
-000071a0: 4f3a 2074 7970 6520 6465 7363 7269 7074  O: type descript
-000071b0: 696f 6e20 6865 7265 2e0d 0a20 2020 2020  ion here...     
-000071c0: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
-000071d0: 6c65 3a20 0d0a 0d0a 2020 2020 2020 2020  le: ....        
-000071e0: 5265 7475 726e 733a 0d0a 2020 2020 2020  Returns:..      
-000071f0: 2020 2020 2020 4765 7453 7562 7363 7269        GetSubscri
-00007200: 7074 696f 6e52 6573 706f 6e73 653a 2052  ptionResponse: R
-00007210: 6573 706f 6e73 6520 6672 6f6d 2074 6865  esponse from the
-00007220: 2041 5049 2e20 0d0a 0d0a 2020 2020 2020   API. ....      
-00007230: 2020 5261 6973 6573 3a0d 0a20 2020 2020    Raises:..     
-00007240: 2020 2020 2020 2041 5049 4578 6365 7074         APIExcept
-00007250: 696f 6e3a 2057 6865 6e20 616e 2065 7272  ion: When an err
-00007260: 6f72 206f 6363 7572 7320 7768 696c 6520  or occurs while 
-00007270: 6665 7463 6869 6e67 2074 6865 2064 6174  fetching the dat
-00007280: 6120 6672 6f6d 0d0a 2020 2020 2020 2020  a from..        
-00007290: 2020 2020 2020 2020 7468 6520 7265 6d6f          the remo
-000072a0: 7465 2041 5049 2e20 5468 6973 2065 7863  te API. This exc
-000072b0: 6570 7469 6f6e 2069 6e63 6c75 6465 7320  eption includes 
-000072c0: 7468 6520 4854 5450 2052 6573 706f 6e73  the HTTP Respons
-000072d0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-000072e0: 2020 2063 6f64 652c 2061 6e20 6572 726f     code, an erro
-000072f0: 7220 6d65 7373 6167 652c 2061 6e64 2074  r message, and t
-00007300: 6865 2048 5454 5020 626f 6479 2074 6861  he HTTP body tha
-00007310: 7420 7761 7320 7265 6365 6976 6564 2069  t was received i
-00007320: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
-00007330: 2020 2074 6865 2072 6571 7565 7374 2e0d     the request..
-00007340: 0a0d 0a20 2020 2020 2020 2022 2222 0d0a  ...        """..
-00007350: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-00007360: 6172 6520 7175 6572 7920 5552 4c0d 0a20  are query URL.. 
-00007370: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
-00007380: 203d 2027 2f73 7562 7363 7269 7074 696f   = '/subscriptio
-00007390: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
-000073a0: 5f69 647d 2f70 6179 6d65 6e74 2d6d 6574  _id}/payment-met
-000073b0: 686f 6427 0d0a 2020 2020 2020 2020 5f75  hod'..        _u
-000073c0: 726c 5f70 6174 6820 3d20 4150 4948 656c  rl_path = APIHel
-000073d0: 7065 722e 6170 7065 6e64 5f75 726c 5f77  per.append_url_w
-000073e0: 6974 685f 7465 6d70 6c61 7465 5f70 6172  ith_template_par
-000073f0: 616d 6574 6572 7328 5f75 726c 5f70 6174  ameters(_url_pat
-00007400: 682c 207b 200d 0a20 2020 2020 2020 2020  h, { ..         
-00007410: 2020 2027 7375 6273 6372 6970 7469 6f6e     'subscription
-00007420: 5f69 6427 3a20 7375 6273 6372 6970 7469  _id': subscripti
-00007430: 6f6e 5f69 640d 0a20 2020 2020 2020 207d  on_id..        }
-00007440: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
-00007450: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
-00007460: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
-00007470: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
-00007480: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
-00007490: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
-000074a0: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
-000074b0: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
-000074c0: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
-000074d0: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
-000074e0: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
-000074f0: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
-00007500: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-00007510: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
-00007520: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
-00007530: 0a20 2020 2020 2020 2020 2020 2027 436f  .            'Co
-00007540: 6e74 656e 742d 5479 7065 273a 2027 6170  ntent-Type': 'ap
-00007550: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
-00007560: 0d0a 2020 2020 2020 2020 2020 2020 2769  ..            'i
-00007570: 6465 6d70 6f74 656e 6379 2d6b 6579 273a  dempotency-key':
-00007580: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
-00007590: 0d0a 2020 2020 2020 2020 7d0d 0a0d 0a20  ..        }.... 
-000075a0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-000075b0: 2061 6e64 2065 7865 6375 7465 2072 6571   and execute req
-000075c0: 7565 7374 0d0a 2020 2020 2020 2020 5f72  uest..        _r
-000075d0: 6571 7565 7374 203d 2073 656c 662e 6874  equest = self.ht
-000075e0: 7470 5f63 6c69 656e 742e 7061 7463 6828  tp_client.patch(
-000075f0: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
-00007600: 6572 733d 5f68 6561 6465 7273 2c20 7061  ers=_headers, pa
-00007610: 7261 6d65 7465 7273 3d41 5049 4865 6c70  rameters=APIHelp
-00007620: 6572 2e6a 736f 6e5f 7365 7269 616c 697a  er.json_serializ
-00007630: 6528 626f 6479 2929 0d0a 2020 2020 2020  e(body))..      
-00007640: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
-00007650: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
-00007660: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
-00007670: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
-00007680: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
-00007690: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
-000076a0: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
-000076b0: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
-000076c0: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
-000076d0: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
-000076e0: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
-000076f0: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00007700: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
-00007710: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00007720: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
-00007730: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
-00007740: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00007750: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00007760: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00007770: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
-00007780: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00007790: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-000077a0: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
-000077b0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-000077c0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-000077d0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-000077e0: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
-000077f0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00007800: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00007810: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
-00007820: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
-00007830: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
-00007840: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-00007850: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00007860: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00007870: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
-00007880: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00007890: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
-000078a0: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
-000078b0: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
-000078c0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-000078d0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-000078e0: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
-000078f0: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
-00007900: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-00007910: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
-00007920: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
-00007930: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00007940: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-00007950: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00007960: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
-00007970: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00007980: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00007990: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
-000079a0: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
-000079b0: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
-000079c0: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
-000079d0: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
-000079e0: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
-000079f0: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
-00007a00: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
-00007a10: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
-00007a20: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
-00007a30: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00007a40: 2e72 6177 5f62 6f64 792c 2047 6574 5375  .raw_body, GetSu
-00007a50: 6273 6372 6970 7469 6f6e 5265 7370 6f6e  bscriptionRespon
-00007a60: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
-00007a70: 7279 290d 0a0d 0a20 2020 2064 6566 2075  ry)....    def u
-00007a80: 7064 6174 655f 6375 7272 656e 745f 6379  pdate_current_cy
-00007a90: 636c 655f 7374 6174 7573 2873 656c 662c  cle_status(self,
-00007aa0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00007ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ac0: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
-00007ad0: 6f6e 5f69 642c 0d0a 2020 2020 2020 2020  on_id,..        
-00007ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007af0: 2020 2020 2020 2020 2020 2020 626f 6479              body
-00007b00: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00007b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007b20: 2020 2020 2020 2069 6465 6d70 6f74 656e         idempoten
-00007b30: 6379 5f6b 6579 3d4e 6f6e 6529 3a0d 0a20  cy_key=None):.. 
-00007b40: 2020 2020 2020 2022 2222 446f 6573 2061         """Does a
-00007b50: 2050 4154 4348 2072 6571 7565 7374 2074   PATCH request t
-00007b60: 6f20 2f73 7562 7363 7269 7074 696f 6e73  o /subscriptions
-00007b70: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
-00007b80: 647d 2f63 7963 6c65 2d73 7461 7475 732e  d}/cycle-status.
-00007b90: 0d0a 0d0a 2020 2020 2020 2020 5570 6461  ....        Upda
-00007ba0: 7465 4375 7272 656e 7443 7963 6c65 5374  teCurrentCycleSt
-00007bb0: 6174 7573 0d0a 0d0a 2020 2020 2020 2020  atus....        
-00007bc0: 4172 6773 3a0d 0a20 2020 2020 2020 2020  Args:..         
-00007bd0: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
-00007be0: 6964 2028 7374 7269 6e67 293a 2053 7562  id (string): Sub
-00007bf0: 7363 7269 7074 696f 6e20 4964 0d0a 2020  scription Id..  
-00007c00: 2020 2020 2020 2020 2020 626f 6479 2028            body (
-00007c10: 5570 6461 7465 4375 7272 656e 7443 7963  UpdateCurrentCyc
-00007c20: 6c65 5374 6174 7573 5265 7175 6573 7429  leStatusRequest)
-00007c30: 3a20 5265 7175 6573 7420 666f 7220 7570  : Request for up
-00007c40: 6461 7469 6e67 2074 6865 0d0a 2020 2020  dating the..    
-00007c50: 2020 2020 2020 2020 2020 2020 656e 6420              end 
-00007c60: 6461 7465 206f 6620 7468 6520 7375 6273  date of the subs
-00007c70: 6372 6970 7469 6f6e 2063 7572 7265 6e74  cription current
-00007c80: 2073 7461 7475 730d 0a20 2020 2020 2020   status..       
-00007c90: 2020 2020 2069 6465 6d70 6f74 656e 6379       idempotency
-00007ca0: 5f6b 6579 2028 7374 7269 6e67 2c20 6f70  _key (string, op
-00007cb0: 7469 6f6e 616c 293a 2054 4f44 4f3a 2074  tional): TODO: t
-00007cc0: 7970 6520 6465 7363 7269 7074 696f 6e20  ype description 
-00007cd0: 6865 7265 2e0d 0a20 2020 2020 2020 2020  here...         
-00007ce0: 2020 2020 2020 2045 7861 6d70 6c65 3a20         Example: 
-00007cf0: 0d0a 0d0a 2020 2020 2020 2020 5265 7475  ....        Retu
-00007d00: 726e 733a 0d0a 2020 2020 2020 2020 2020  rns:..          
-00007d10: 2020 766f 6964 3a20 5265 7370 6f6e 7365    void: Response
-00007d20: 2066 726f 6d20 7468 6520 4150 492e 200d   from the API. .
-00007d30: 0a0d 0a20 2020 2020 2020 2052 6169 7365  ...        Raise
-00007d40: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-00007d50: 4150 4945 7863 6570 7469 6f6e 3a20 5768  APIException: Wh
-00007d60: 656e 2061 6e20 6572 726f 7220 6f63 6375  en an error occu
-00007d70: 7273 2077 6869 6c65 2066 6574 6368 696e  rs while fetchin
-00007d80: 6720 7468 6520 6461 7461 2066 726f 6d0d  g the data from.
-00007d90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007da0: 2074 6865 2072 656d 6f74 6520 4150 492e   the remote API.
-00007db0: 2054 6869 7320 6578 6365 7074 696f 6e20   This exception 
-00007dc0: 696e 636c 7564 6573 2074 6865 2048 5454  includes the HTT
-00007dd0: 5020 5265 7370 6f6e 7365 0d0a 2020 2020  P Response..    
-00007de0: 2020 2020 2020 2020 2020 2020 636f 6465              code
-00007df0: 2c20 616e 2065 7272 6f72 206d 6573 7361  , an error messa
-00007e00: 6765 2c20 616e 6420 7468 6520 4854 5450  ge, and the HTTP
-00007e10: 2062 6f64 7920 7468 6174 2077 6173 2072   body that was r
-00007e20: 6563 6569 7665 6420 696e 0d0a 2020 2020  eceived in..    
-00007e30: 2020 2020 2020 2020 2020 2020 7468 6520              the 
-00007e40: 7265 7175 6573 742e 0d0a 0d0a 2020 2020  request.....    
-00007e50: 2020 2020 2222 220d 0a0d 0a20 2020 2020      """....     
-00007e60: 2020 2023 2050 7265 7061 7265 2071 7565     # Prepare que
-00007e70: 7279 2055 524c 0d0a 2020 2020 2020 2020  ry URL..        
-00007e80: 5f75 726c 5f70 6174 6820 3d20 272f 7375  _url_path = '/su
-00007e90: 6273 6372 6970 7469 6f6e 732f 7b73 7562  bscriptions/{sub
-00007ea0: 7363 7269 7074 696f 6e5f 6964 7d2f 6379  scription_id}/cy
-00007eb0: 636c 652d 7374 6174 7573 270d 0a20 2020  cle-status'..   
-00007ec0: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
-00007ed0: 2041 5049 4865 6c70 6572 2e61 7070 656e   APIHelper.appen
-00007ee0: 645f 7572 6c5f 7769 7468 5f74 656d 706c  d_url_with_templ
-00007ef0: 6174 655f 7061 7261 6d65 7465 7273 285f  ate_parameters(_
-00007f00: 7572 6c5f 7061 7468 2c20 7b20 0d0a 2020  url_path, { ..  
-00007f10: 2020 2020 2020 2020 2020 2773 7562 7363            'subsc
-00007f20: 7269 7074 696f 6e5f 6964 273a 2073 7562  ription_id': sub
-00007f30: 7363 7269 7074 696f 6e5f 6964 0d0a 2020  scription_id..  
-00007f40: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
-00007f50: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-00007f60: 203d 2043 6f6e 6669 6775 7261 7469 6f6e   = Configuration
-00007f70: 2e62 6173 655f 7572 690d 0a20 2020 2020  .base_uri..     
-00007f80: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
-00007f90: 7220 2b3d 205f 7572 6c5f 7061 7468 0d0a  r += _url_path..
-00007fa0: 2020 2020 2020 2020 5f71 7565 7279 5f75          _query_u
-00007fb0: 726c 203d 2041 5049 4865 6c70 6572 2e63  rl = APIHelper.c
-00007fc0: 6c65 616e 5f75 726c 285f 7175 6572 795f  lean_url(_query_
-00007fd0: 6275 696c 6465 7229 0d0a 0d0a 2020 2020  builder)....    
-00007fe0: 2020 2020 2320 5072 6570 6172 6520 6865      # Prepare he
-00007ff0: 6164 6572 730d 0a20 2020 2020 2020 205f  aders..        _
-00008000: 6865 6164 6572 7320 3d20 7b0d 0a20 2020  headers = {..   
-00008010: 2020 2020 2020 2020 2027 436f 6e74 656e           'Conten
-00008020: 742d 5479 7065 273a 2027 6170 706c 6963  t-Type': 'applic
-00008030: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
-00008040: 2020 2020 2020 2020 2020 2769 6465 6d70            'idemp
-00008050: 6f74 656e 6379 2d6b 6579 273a 2069 6465  otency-key': ide
-00008060: 6d70 6f74 656e 6379 5f6b 6579 0d0a 2020  mpotency_key..  
-00008070: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
-00008080: 2020 2023 2050 7265 7061 7265 2061 6e64     # Prepare and
-00008090: 2065 7865 6375 7465 2072 6571 7565 7374   execute request
-000080a0: 0d0a 2020 2020 2020 2020 5f72 6571 7565  ..        _reque
-000080b0: 7374 203d 2073 656c 662e 6874 7470 5f63  st = self.http_c
-000080c0: 6c69 656e 742e 7061 7463 6828 5f71 7565  lient.patch(_que
-000080d0: 7279 5f75 726c 2c20 6865 6164 6572 733d  ry_url, headers=
-000080e0: 5f68 6561 6465 7273 2c20 7061 7261 6d65  _headers, parame
-000080f0: 7465 7273 3d41 5049 4865 6c70 6572 2e6a  ters=APIHelper.j
-00008100: 736f 6e5f 7365 7269 616c 697a 6528 626f  son_serialize(bo
-00008110: 6479 2929 0d0a 2020 2020 2020 2020 4261  dy))..        Ba
-00008120: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
-00008130: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
-00008140: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
-00008150: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
-00008160: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
-00008170: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
-00008180: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
-00008190: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
-000081a0: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
-000081b0: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
-000081c0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-000081d0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-000081e0: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
-000081f0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00008200: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
-00008210: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
-00008220: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-00008230: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00008240: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00008250: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
-00008260: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-00008270: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-00008280: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
-00008290: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-000082a0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-000082b0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-000082c0: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
-000082d0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-000082e0: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
-000082f0: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
-00008300: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
-00008310: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
-00008320: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00008330: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00008340: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
-00008350: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00008360: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00008370: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
-00008380: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-00008390: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-000083a0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-000083b0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-000083c0: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
-000083d0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-000083e0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-000083f0: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
-00008400: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
-00008410: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00008420: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00008430: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00008440: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
-00008450: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00008460: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-00008470: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
-00008480: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-00008490: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
-000084a0: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
-000084b0: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
-000084c0: 2020 6465 6620 6372 6561 7465 5f73 7562    def create_sub
-000084d0: 7363 7269 7074 696f 6e28 7365 6c66 2c0d  scription(self,.
-000084e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000084f0: 2020 2020 2020 2020 2020 2020 2062 6f64               bod
-00008500: 792c 0d0a 2020 2020 2020 2020 2020 2020  y,..            
-00008510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008520: 6964 656d 706f 7465 6e63 795f 6b65 793d  idempotency_key=
-00008530: 4e6f 6e65 293a 0d0a 2020 2020 2020 2020  None):..        
-00008540: 2222 2244 6f65 7320 6120 504f 5354 2072  """Does a POST r
-00008550: 6571 7565 7374 2074 6f20 2f73 7562 7363  equest to /subsc
-00008560: 7269 7074 696f 6e73 2e0d 0a0d 0a20 2020  riptions.....   
-00008570: 2020 2020 2043 7265 6174 6573 2061 206e       Creates a n
-00008580: 6577 2073 7562 7363 7269 7074 696f 6e0d  ew subscription.
-00008590: 0a0d 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-000085a0: 0d0a 2020 2020 2020 2020 2020 2020 626f  ..            bo
-000085b0: 6479 2028 5375 6273 6372 6970 7469 6f6e  dy (Subscription
-000085c0: 7352 6571 7565 7374 3129 3a20 5265 7175  sRequest1): Requ
-000085d0: 6573 7420 666f 7220 6372 6561 7469 6e67  est for creating
-000085e0: 2061 2073 7562 7363 7269 7074 696f 6e0d   a subscription.
-000085f0: 0a20 2020 2020 2020 2020 2020 2069 6465  .            ide
-00008600: 6d70 6f74 656e 6379 5f6b 6579 2028 7374  mpotency_key (st
-00008610: 7269 6e67 2c20 6f70 7469 6f6e 616c 293a  ring, optional):
-00008620: 2054 4f44 4f3a 2074 7970 6520 6465 7363   TODO: type desc
-00008630: 7269 7074 696f 6e20 6865 7265 2e0d 0a20  ription here... 
-00008640: 2020 2020 2020 2020 2020 2020 2020 2045                 E
-00008650: 7861 6d70 6c65 3a20 0d0a 0d0a 2020 2020  xample: ....    
-00008660: 2020 2020 5265 7475 726e 733a 0d0a 2020      Returns:..  
-00008670: 2020 2020 2020 2020 2020 4765 7453 7562            GetSub
-00008680: 7363 7269 7074 696f 6e52 6573 706f 6e73  scriptionRespons
-00008690: 653a 2052 6573 706f 6e73 6520 6672 6f6d  e: Response from
-000086a0: 2074 6865 2041 5049 2e20 0d0a 0d0a 2020   the API. ....  
-000086b0: 2020 2020 2020 5261 6973 6573 3a0d 0a20        Raises:.. 
-000086c0: 2020 2020 2020 2020 2020 2041 5049 4578             APIEx
-000086d0: 6365 7074 696f 6e3a 2057 6865 6e20 616e  ception: When an
-000086e0: 2065 7272 6f72 206f 6363 7572 7320 7768   error occurs wh
-000086f0: 696c 6520 6665 7463 6869 6e67 2074 6865  ile fetching the
-00008700: 2064 6174 6120 6672 6f6d 0d0a 2020 2020   data from..    
-00008710: 2020 2020 2020 2020 2020 2020 7468 6520              the 
-00008720: 7265 6d6f 7465 2041 5049 2e20 5468 6973  remote API. This
-00008730: 2065 7863 6570 7469 6f6e 2069 6e63 6c75   exception inclu
-00008740: 6465 7320 7468 6520 4854 5450 2052 6573  des the HTTP Res
-00008750: 706f 6e73 650d 0a20 2020 2020 2020 2020  ponse..         
-00008760: 2020 2020 2020 2063 6f64 652c 2061 6e20         code, an 
-00008770: 6572 726f 7220 6d65 7373 6167 652c 2061  error message, a
-00008780: 6e64 2074 6865 2048 5454 5020 626f 6479  nd the HTTP body
-00008790: 2074 6861 7420 7761 7320 7265 6365 6976   that was receiv
-000087a0: 6564 2069 6e0d 0a20 2020 2020 2020 2020  ed in..         
-000087b0: 2020 2020 2020 2074 6865 2072 6571 7565         the reque
-000087c0: 7374 2e0d 0a0d 0a20 2020 2020 2020 2022  st.....        "
-000087d0: 2222 0d0a 0d0a 2020 2020 2020 2020 2320  ""....        # 
-000087e0: 5072 6570 6172 6520 7175 6572 7920 5552  Prepare query UR
-000087f0: 4c0d 0a20 2020 2020 2020 205f 7572 6c5f  L..        _url_
-00008800: 7061 7468 203d 2027 2f73 7562 7363 7269  path = '/subscri
-00008810: 7074 696f 6e73 270d 0a20 2020 2020 2020  ptions'..       
-00008820: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
-00008830: 3d20 436f 6e66 6967 7572 6174 696f 6e2e  = Configuration.
-00008840: 6261 7365 5f75 7269 0d0a 2020 2020 2020  base_uri..      
-00008850: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-00008860: 202b 3d20 5f75 726c 5f70 6174 680d 0a20   += _url_path.. 
-00008870: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
-00008880: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
-00008890: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
-000088a0: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
-000088b0: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
-000088c0: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
-000088d0: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
-000088e0: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
-000088f0: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
-00008900: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
-00008910: 2020 2027 436f 6e74 656e 742d 5479 7065     'Content-Type
-00008920: 273a 2027 6170 706c 6963 6174 696f 6e2f  ': 'application/
-00008930: 6a73 6f6e 272c 0d0a 2020 2020 2020 2020  json',..        
-00008940: 2020 2020 2769 6465 6d70 6f74 656e 6379      'idempotency
-00008950: 2d6b 6579 273a 2069 6465 6d70 6f74 656e  -key': idempoten
-00008960: 6379 5f6b 6579 0d0a 2020 2020 2020 2020  cy_key..        
-00008970: 7d0d 0a0d 0a20 2020 2020 2020 2023 2050  }....        # P
-00008980: 7265 7061 7265 2061 6e64 2065 7865 6375  repare and execu
-00008990: 7465 2072 6571 7565 7374 0d0a 2020 2020  te request..    
-000089a0: 2020 2020 5f72 6571 7565 7374 203d 2073      _request = s
-000089b0: 656c 662e 6874 7470 5f63 6c69 656e 742e  elf.http_client.
-000089c0: 706f 7374 285f 7175 6572 795f 7572 6c2c  post(_query_url,
-000089d0: 2068 6561 6465 7273 3d5f 6865 6164 6572   headers=_header
-000089e0: 732c 2070 6172 616d 6574 6572 733d 4150  s, parameters=AP
-000089f0: 4948 656c 7065 722e 6a73 6f6e 5f73 6572  IHelper.json_ser
-00008a00: 6961 6c69 7a65 2862 6f64 7929 290d 0a20  ialize(body)).. 
-00008a10: 2020 2020 2020 2042 6173 6963 4175 7468         BasicAuth
-00008a20: 2e61 7070 6c79 285f 7265 7175 6573 7429  .apply(_request)
-00008a30: 0d0a 2020 2020 2020 2020 5f63 6f6e 7465  ..        _conte
-00008a40: 7874 203d 2073 656c 662e 6578 6563 7574  xt = self.execut
-00008a50: 655f 7265 7175 6573 7428 5f72 6571 7565  e_request(_reque
-00008a60: 7374 290d 0a0d 0a20 2020 2020 2020 2023  st)....        #
-00008a70: 2045 6e64 706f 696e 7420 616e 6420 676c   Endpoint and gl
-00008a80: 6f62 616c 2065 7272 6f72 2068 616e 646c  obal error handl
-00008a90: 696e 6720 7573 696e 6720 4854 5450 2073  ing using HTTP s
-00008aa0: 7461 7475 7320 636f 6465 732e 0d0a 2020  tatus codes...  
-00008ab0: 2020 2020 2020 6966 205f 636f 6e74 6578        if _contex
-00008ac0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00008ad0: 735f 636f 6465 203d 3d20 3430 303a 0d0a  s_code == 400:..
-00008ae0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00008af0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00008b00: 2827 496e 7661 6c69 6420 7265 7175 6573  ('Invalid reques
-00008b10: 7427 2c20 5f63 6f6e 7465 7874 290d 0a20  t', _context).. 
-00008b20: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00008b30: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00008b40: 6174 7573 5f63 6f64 6520 3d3d 2034 3031  atus_code == 401
-00008b50: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00008b60: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00008b70: 696f 6e28 2749 6e76 616c 6964 2041 5049  ion('Invalid API
-00008b80: 206b 6579 272c 205f 636f 6e74 6578 7429   key', _context)
-00008b90: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00008ba0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00008bb0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00008bc0: 3430 343a 0d0a 2020 2020 2020 2020 2020  404:..          
-00008bd0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00008be0: 6570 7469 6f6e 2827 416e 2069 6e66 6f72  eption('An infor
-00008bf0: 6d65 6420 7265 736f 7572 6365 2077 6173  med resource was
-00008c00: 206e 6f74 2066 6f75 6e64 272c 205f 636f   not found', _co
-00008c10: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00008c20: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00008c30: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00008c40: 6465 203d 3d20 3431 323a 0d0a 2020 2020  de == 412:..    
-00008c50: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00008c60: 726f 7245 7863 6570 7469 6f6e 2827 4275  rorException('Bu
-00008c70: 7369 6e65 7373 2076 616c 6964 6174 696f  siness validatio
-00008c80: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
-00008c90: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00008ca0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00008cb0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00008cc0: 3d3d 2034 3232 3a0d 0a20 2020 2020 2020  == 422:..       
-00008cd0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00008ce0: 4578 6365 7074 696f 6e28 2743 6f6e 7472  Exception('Contr
-00008cf0: 6163 7420 7661 6c69 6461 7469 6f6e 2065  act validation e
-00008d00: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-00008d10: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00008d20: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00008d30: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00008d40: 3530 303a 0d0a 2020 2020 2020 2020 2020  500:..          
-00008d50: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00008d60: 6570 7469 6f6e 2827 496e 7465 726e 616c  eption('Internal
-00008d70: 2073 6572 7665 7220 6572 726f 7227 2c20   server error', 
-00008d80: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00008d90: 2020 2073 656c 662e 7661 6c69 6461 7465     self.validate
-00008da0: 5f72 6573 706f 6e73 6528 5f63 6f6e 7465  _response(_conte
-00008db0: 7874 290d 0a0d 0a20 2020 2020 2020 2023  xt)....        #
-00008dc0: 2052 6574 7572 6e20 6170 7072 6f70 7269   Return appropri
-00008dd0: 6174 6520 7479 7065 0d0a 2020 2020 2020  ate type..      
-00008de0: 2020 7265 7475 726e 2041 5049 4865 6c70    return APIHelp
-00008df0: 6572 2e6a 736f 6e5f 6465 7365 7269 616c  er.json_deserial
-00008e00: 697a 6528 5f63 6f6e 7465 7874 2e72 6573  ize(_context.res
-00008e10: 706f 6e73 652e 7261 775f 626f 6479 2c20  ponse.raw_body, 
-00008e20: 4765 7453 7562 7363 7269 7074 696f 6e52  GetSubscriptionR
-00008e30: 6573 706f 6e73 652e 6672 6f6d 5f64 6963  esponse.from_dic
-00008e40: 7469 6f6e 6172 7929 0d0a 0d0a 2020 2020  tionary)....    
-00008e50: 6465 6620 6765 745f 7375 6273 6372 6970  def get_subscrip
-00008e60: 7469 6f6e 7328 7365 6c66 2c0d 0a20 2020  tions(self,..   
-00008e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008e80: 2020 2020 2020 2070 6167 653d 4e6f 6e65         page=None
-00008e90: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00008ea0: 2020 2020 2020 2020 2020 2020 2073 697a               siz
-00008eb0: 653d 4e6f 6e65 2c0d 0a20 2020 2020 2020  e=None,..       
-00008ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008ed0: 2020 2063 6f64 653d 4e6f 6e65 2c0d 0a20     code=None,.. 
-00008ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008ef0: 2020 2020 2020 2020 2062 696c 6c69 6e67           billing
-00008f00: 5f74 7970 653d 4e6f 6e65 2c0d 0a20 2020  _type=None,..   
-00008f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008f20: 2020 2020 2020 2063 7573 746f 6d65 725f         customer_
-00008f30: 6964 3d4e 6f6e 652c 0d0a 2020 2020 2020  id=None,..      
-00008f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008f50: 2020 2020 706c 616e 5f69 643d 4e6f 6e65      plan_id=None
-00008f60: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00008f70: 2020 2020 2020 2020 2020 2020 2063 6172               car
-00008f80: 645f 6964 3d4e 6f6e 652c 0d0a 2020 2020  d_id=None,..    
-00008f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008fa0: 2020 2020 2020 7374 6174 7573 3d4e 6f6e        status=Non
-00008fb0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-00008fc0: 2020 2020 2020 2020 2020 2020 2020 6e65                ne
-00008fd0: 7874 5f62 696c 6c69 6e67 5f73 696e 6365  xt_billing_since
-00008fe0: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
-00008ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009000: 2020 6e65 7874 5f62 696c 6c69 6e67 5f75    next_billing_u
-00009010: 6e74 696c 3d4e 6f6e 652c 0d0a 2020 2020  ntil=None,..    
-00009020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009030: 2020 2020 2020 6372 6561 7465 645f 7369        created_si
-00009040: 6e63 653d 4e6f 6e65 2c0d 0a20 2020 2020  nce=None,..     
-00009050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009060: 2020 2020 2063 7265 6174 6564 5f75 6e74       created_unt
-00009070: 696c 3d4e 6f6e 6529 3a0d 0a20 2020 2020  il=None):..     
-00009080: 2020 2022 2222 446f 6573 2061 2047 4554     """Does a GET
-00009090: 2072 6571 7565 7374 2074 6f20 2f73 7562   request to /sub
-000090a0: 7363 7269 7074 696f 6e73 2e0d 0a0d 0a20  scriptions..... 
-000090b0: 2020 2020 2020 2047 6574 7320 616c 6c20         Gets all 
-000090c0: 7375 6273 6372 6970 7469 6f6e 730d 0a0d  subscriptions...
-000090d0: 0a20 2020 2020 2020 2041 7267 733a 0d0a  .        Args:..
-000090e0: 2020 2020 2020 2020 2020 2020 7061 6765              page
-000090f0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-00009100: 3a20 5061 6765 206e 756d 6265 720d 0a20  : Page number.. 
-00009110: 2020 2020 2020 2020 2020 2073 697a 6520             size 
-00009120: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-00009130: 2050 6167 6520 7369 7a65 0d0a 2020 2020   Page size..    
-00009140: 2020 2020 2020 2020 636f 6465 2028 7374          code (st
-00009150: 7269 6e67 2c20 6f70 7469 6f6e 616c 293a  ring, optional):
-00009160: 2046 696c 7465 7220 666f 7220 7375 6273   Filter for subs
-00009170: 6372 6970 7469 6f6e 2773 2063 6f64 650d  cription's code.
-00009180: 0a20 2020 2020 2020 2020 2020 2062 696c  .            bil
-00009190: 6c69 6e67 5f74 7970 6520 2873 7472 696e  ling_type (strin
-000091a0: 672c 206f 7074 696f 6e61 6c29 3a20 4669  g, optional): Fi
-000091b0: 6c74 6572 2066 6f72 2073 7562 7363 7269  lter for subscri
-000091c0: 7074 696f 6e27 7320 6269 6c6c 696e 670d  ption's billing.
-000091d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000091e0: 2074 7970 650d 0a20 2020 2020 2020 2020   type..         
-000091f0: 2020 2063 7573 746f 6d65 725f 6964 2028     customer_id (
-00009200: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
-00009210: 293a 2046 696c 7465 7220 666f 7220 7375  ): Filter for su
-00009220: 6273 6372 6970 7469 6f6e 2773 2063 7573  bscription's cus
-00009230: 746f 6d65 720d 0a20 2020 2020 2020 2020  tomer..         
-00009240: 2020 2020 2020 2069 640d 0a20 2020 2020         id..     
-00009250: 2020 2020 2020 2070 6c61 6e5f 6964 2028         plan_id (
-00009260: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
-00009270: 293a 2046 696c 7465 7220 666f 7220 7375  ): Filter for su
-00009280: 6273 6372 6970 7469 6f6e 2773 2070 6c61  bscription's pla
-00009290: 6e20 6964 0d0a 2020 2020 2020 2020 2020  n id..          
-000092a0: 2020 6361 7264 5f69 6420 2873 7472 696e    card_id (strin
-000092b0: 672c 206f 7074 696f 6e61 6c29 3a20 4669  g, optional): Fi
-000092c0: 6c74 6572 2066 6f72 2073 7562 7363 7269  lter for subscri
-000092d0: 7074 696f 6e27 7320 6361 7264 2069 640d  ption's card id.
-000092e0: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
-000092f0: 7475 7320 2873 7472 696e 672c 206f 7074  tus (string, opt
-00009300: 696f 6e61 6c29 3a20 4669 6c74 6572 2066  ional): Filter f
-00009310: 6f72 2073 7562 7363 7269 7074 696f 6e27  or subscription'
-00009320: 7320 7374 6174 7573 0d0a 2020 2020 2020  s status..      
-00009330: 2020 2020 2020 6e65 7874 5f62 696c 6c69        next_billi
-00009340: 6e67 5f73 696e 6365 2028 6461 7465 7469  ng_since (dateti
-00009350: 6d65 2c20 6f70 7469 6f6e 616c 293a 2046  me, optional): F
-00009360: 696c 7465 7220 666f 7220 7375 6273 6372  ilter for subscr
-00009370: 6970 7469 6f6e 2773 0d0a 2020 2020 2020  iption's..      
-00009380: 2020 2020 2020 2020 2020 6e65 7874 2062            next b
-00009390: 696c 6c69 6e67 2064 6174 6520 7374 6172  illing date star
-000093a0: 7420 7261 6e67 650d 0a20 2020 2020 2020  t range..       
-000093b0: 2020 2020 206e 6578 745f 6269 6c6c 696e       next_billin
-000093c0: 675f 756e 7469 6c20 2864 6174 6574 696d  g_until (datetim
-000093d0: 652c 206f 7074 696f 6e61 6c29 3a20 4669  e, optional): Fi
-000093e0: 6c74 6572 2066 6f72 2073 7562 7363 7269  lter for subscri
-000093f0: 7074 696f 6e27 730d 0a20 2020 2020 2020  ption's..       
-00009400: 2020 2020 2020 2020 206e 6578 7420 6269           next bi
-00009410: 6c6c 696e 6720 6461 7465 2065 6e64 2072  lling date end r
-00009420: 616e 6765 0d0a 2020 2020 2020 2020 2020  ange..          
-00009430: 2020 6372 6561 7465 645f 7369 6e63 6520    created_since 
-00009440: 2864 6174 6574 696d 652c 206f 7074 696f  (datetime, optio
-00009450: 6e61 6c29 3a20 4669 6c74 6572 2066 6f72  nal): Filter for
-00009460: 2073 7562 7363 7269 7074 696f 6e27 730d   subscription's.
-00009470: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009480: 2063 7265 6174 696f 6e20 6461 7465 2073   creation date s
-00009490: 7461 7274 2072 616e 6765 0d0a 2020 2020  tart range..    
-000094a0: 2020 2020 2020 2020 6372 6561 7465 645f          created_
-000094b0: 756e 7469 6c20 2864 6174 6574 696d 652c  until (datetime,
-000094c0: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-000094d0: 6572 2066 6f72 2073 7562 7363 7269 7074  er for subscript
-000094e0: 696f 6e73 0d0a 2020 2020 2020 2020 2020  ions..          
-000094f0: 2020 2020 2020 6372 6561 7469 6f6e 2064        creation d
-00009500: 6174 6520 656e 6420 7261 6e67 650d 0a0d  ate end range...
-00009510: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-00009520: 3a0d 0a20 2020 2020 2020 2020 2020 2053  :..            S
-00009530: 7562 7363 7269 7074 696f 6e73 5265 7370  ubscriptionsResp
-00009540: 6f6e 7365 333a 2052 6573 706f 6e73 6520  onse3: Response 
-00009550: 6672 6f6d 2074 6865 2041 5049 2e20 0d0a  from the API. ..
-00009560: 0d0a 2020 2020 2020 2020 5261 6973 6573  ..        Raises
-00009570: 3a0d 0a20 2020 2020 2020 2020 2020 2041  :..            A
-00009580: 5049 4578 6365 7074 696f 6e3a 2057 6865  PIException: Whe
-00009590: 6e20 616e 2065 7272 6f72 206f 6363 7572  n an error occur
-000095a0: 7320 7768 696c 6520 6665 7463 6869 6e67  s while fetching
-000095b0: 2074 6865 2064 6174 6120 6672 6f6d 0d0a   the data from..
-000095c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000095d0: 7468 6520 7265 6d6f 7465 2041 5049 2e20  the remote API. 
-000095e0: 5468 6973 2065 7863 6570 7469 6f6e 2069  This exception i
-000095f0: 6e63 6c75 6465 7320 7468 6520 4854 5450  ncludes the HTTP
-00009600: 2052 6573 706f 6e73 650d 0a20 2020 2020   Response..     
-00009610: 2020 2020 2020 2020 2020 2063 6f64 652c             code,
-00009620: 2061 6e20 6572 726f 7220 6d65 7373 6167   an error messag
-00009630: 652c 2061 6e64 2074 6865 2048 5454 5020  e, and the HTTP 
-00009640: 626f 6479 2074 6861 7420 7761 7320 7265  body that was re
-00009650: 6365 6976 6564 2069 6e0d 0a20 2020 2020  ceived in..     
-00009660: 2020 2020 2020 2020 2020 2074 6865 2072             the r
-00009670: 6571 7565 7374 2e0d 0a0d 0a20 2020 2020  equest.....     
-00009680: 2020 2022 2222 0d0a 0d0a 2020 2020 2020     """....      
-00009690: 2020 2320 5072 6570 6172 6520 7175 6572    # Prepare quer
-000096a0: 7920 5552 4c0d 0a20 2020 2020 2020 205f  y URL..        _
-000096b0: 7572 6c5f 7061 7468 203d 2027 2f73 7562  url_path = '/sub
-000096c0: 7363 7269 7074 696f 6e73 270d 0a20 2020  scriptions'..   
-000096d0: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
-000096e0: 6465 7220 3d20 436f 6e66 6967 7572 6174  der = Configurat
-000096f0: 696f 6e2e 6261 7365 5f75 7269 0d0a 2020  ion.base_uri..  
-00009700: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
-00009710: 6c64 6572 202b 3d20 5f75 726c 5f70 6174  lder += _url_pat
-00009720: 680d 0a20 2020 2020 2020 205f 7175 6572  h..        _quer
-00009730: 795f 7061 7261 6d65 7465 7273 203d 207b  y_parameters = {
-00009740: 0d0a 2020 2020 2020 2020 2020 2020 2770  ..            'p
-00009750: 6167 6527 3a20 7061 6765 2c0d 0a20 2020  age': page,..   
-00009760: 2020 2020 2020 2020 2027 7369 7a65 273a           'size':
-00009770: 2073 697a 652c 0d0a 2020 2020 2020 2020   size,..        
-00009780: 2020 2020 2763 6f64 6527 3a20 636f 6465      'code': code
-00009790: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
-000097a0: 6269 6c6c 696e 675f 7479 7065 273a 2062  billing_type': b
-000097b0: 696c 6c69 6e67 5f74 7970 652c 0d0a 2020  illing_type,..  
-000097c0: 2020 2020 2020 2020 2020 2763 7573 746f            'custo
-000097d0: 6d65 725f 6964 273a 2063 7573 746f 6d65  mer_id': custome
-000097e0: 725f 6964 2c0d 0a20 2020 2020 2020 2020  r_id,..         
-000097f0: 2020 2027 706c 616e 5f69 6427 3a20 706c     'plan_id': pl
-00009800: 616e 5f69 642c 0d0a 2020 2020 2020 2020  an_id,..        
-00009810: 2020 2020 2763 6172 645f 6964 273a 2063      'card_id': c
-00009820: 6172 645f 6964 2c0d 0a20 2020 2020 2020  ard_id,..       
-00009830: 2020 2020 2027 7374 6174 7573 273a 2073       'status': s
-00009840: 7461 7475 732c 0d0a 2020 2020 2020 2020  tatus,..        
-00009850: 2020 2020 276e 6578 745f 6269 6c6c 696e      'next_billin
-00009860: 675f 7369 6e63 6527 3a20 4150 4948 656c  g_since': APIHel
-00009870: 7065 722e 7768 656e 5f64 6566 696e 6564  per.when_defined
-00009880: 2841 5049 4865 6c70 6572 2e52 4643 3333  (APIHelper.RFC33
-00009890: 3339 4461 7465 5469 6d65 2c20 6e65 7874  39DateTime, next
-000098a0: 5f62 696c 6c69 6e67 5f73 696e 6365 292c  _billing_since),
-000098b0: 0d0a 2020 2020 2020 2020 2020 2020 276e  ..            'n
-000098c0: 6578 745f 6269 6c6c 696e 675f 756e 7469  ext_billing_unti
-000098d0: 6c27 3a20 4150 4948 656c 7065 722e 7768  l': APIHelper.wh
-000098e0: 656e 5f64 6566 696e 6564 2841 5049 4865  en_defined(APIHe
-000098f0: 6c70 6572 2e52 4643 3333 3339 4461 7465  lper.RFC3339Date
-00009900: 5469 6d65 2c20 6e65 7874 5f62 696c 6c69  Time, next_billi
-00009910: 6e67 5f75 6e74 696c 292c 0d0a 2020 2020  ng_until),..    
-00009920: 2020 2020 2020 2020 2763 7265 6174 6564          'created
-00009930: 5f73 696e 6365 273a 2041 5049 4865 6c70  _since': APIHelp
-00009940: 6572 2e77 6865 6e5f 6465 6669 6e65 6428  er.when_defined(
-00009950: 4150 4948 656c 7065 722e 5246 4333 3333  APIHelper.RFC333
-00009960: 3944 6174 6554 696d 652c 2063 7265 6174  9DateTime, creat
-00009970: 6564 5f73 696e 6365 292c 0d0a 2020 2020  ed_since),..    
-00009980: 2020 2020 2020 2020 2763 7265 6174 6564          'created
-00009990: 5f75 6e74 696c 273a 2041 5049 4865 6c70  _until': APIHelp
-000099a0: 6572 2e77 6865 6e5f 6465 6669 6e65 6428  er.when_defined(
-000099b0: 4150 4948 656c 7065 722e 5246 4333 3333  APIHelper.RFC333
-000099c0: 3944 6174 6554 696d 652c 2063 7265 6174  9DateTime, creat
-000099d0: 6564 5f75 6e74 696c 290d 0a20 2020 2020  ed_until)..     
-000099e0: 2020 207d 0d0a 2020 2020 2020 2020 5f71     }..        _q
-000099f0: 7565 7279 5f62 7569 6c64 6572 203d 2041  uery_builder = A
-00009a00: 5049 4865 6c70 6572 2e61 7070 656e 645f  PIHelper.append_
-00009a10: 7572 6c5f 7769 7468 5f71 7565 7279 5f70  url_with_query_p
-00009a20: 6172 616d 6574 6572 7328 5f71 7565 7279  arameters(_query
-00009a30: 5f62 7569 6c64 6572 2c0d 0a20 2020 2020  _builder,..     
-00009a40: 2020 2020 2020 205f 7175 6572 795f 7061         _query_pa
-00009a50: 7261 6d65 7465 7273 2c20 436f 6e66 6967  rameters, Config
-00009a60: 7572 6174 696f 6e2e 6172 7261 795f 7365  uration.array_se
-00009a70: 7269 616c 697a 6174 696f 6e29 0d0a 2020  rialization)..  
-00009a80: 2020 2020 2020 5f71 7565 7279 5f75 726c        _query_url
-00009a90: 203d 2041 5049 4865 6c70 6572 2e63 6c65   = APIHelper.cle
-00009aa0: 616e 5f75 726c 285f 7175 6572 795f 6275  an_url(_query_bu
-00009ab0: 696c 6465 7229 0d0a 0d0a 2020 2020 2020  ilder)....      
-00009ac0: 2020 2320 5072 6570 6172 6520 6865 6164    # Prepare head
-00009ad0: 6572 730d 0a20 2020 2020 2020 205f 6865  ers..        _he
-00009ae0: 6164 6572 7320 3d20 7b0d 0a20 2020 2020  aders = {..     
-00009af0: 2020 2020 2020 2027 6163 6365 7074 273a         'accept':
-00009b00: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
-00009b10: 6f6e 270d 0a20 2020 2020 2020 207d 0d0a  on'..        }..
-00009b20: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-00009b30: 6172 6520 616e 6420 6578 6563 7574 6520  are and execute 
-00009b40: 7265 7175 6573 740d 0a20 2020 2020 2020  request..       
-00009b50: 205f 7265 7175 6573 7420 3d20 7365 6c66   _request = self
-00009b60: 2e68 7474 705f 636c 6965 6e74 2e67 6574  .http_client.get
-00009b70: 285f 7175 6572 795f 7572 6c2c 2068 6561  (_query_url, hea
-00009b80: 6465 7273 3d5f 6865 6164 6572 7329 0d0a  ders=_headers)..
-00009b90: 2020 2020 2020 2020 4261 7369 6341 7574          BasicAut
-00009ba0: 682e 6170 706c 7928 5f72 6571 7565 7374  h.apply(_request
-00009bb0: 290d 0a20 2020 2020 2020 205f 636f 6e74  )..        _cont
-00009bc0: 6578 7420 3d20 7365 6c66 2e65 7865 6375  ext = self.execu
-00009bd0: 7465 5f72 6571 7565 7374 285f 7265 7175  te_request(_requ
-00009be0: 6573 7429 0d0a 0d0a 2020 2020 2020 2020  est)....        
-00009bf0: 2320 456e 6470 6f69 6e74 2061 6e64 2067  # Endpoint and g
-00009c00: 6c6f 6261 6c20 6572 726f 7220 6861 6e64  lobal error hand
-00009c10: 6c69 6e67 2075 7369 6e67 2048 5454 5020  ling using HTTP 
-00009c20: 7374 6174 7573 2063 6f64 6573 2e0d 0a20  status codes... 
-00009c30: 2020 2020 2020 2069 6620 5f63 6f6e 7465         if _conte
-00009c40: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00009c50: 7573 5f63 6f64 6520 3d3d 2034 3030 3a0d  us_code == 400:.
-00009c60: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00009c70: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00009c80: 6e28 2749 6e76 616c 6964 2072 6571 7565  n('Invalid reque
-00009c90: 7374 272c 205f 636f 6e74 6578 7429 0d0a  st', _context)..
-00009ca0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-00009cb0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-00009cc0: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
-00009cd0: 313a 0d0a 2020 2020 2020 2020 2020 2020  1:..            
-00009ce0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-00009cf0: 7469 6f6e 2827 496e 7661 6c69 6420 4150  tion('Invalid AP
-00009d00: 4920 6b65 7927 2c20 5f63 6f6e 7465 7874  I key', _context
-00009d10: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-00009d20: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00009d30: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00009d40: 2034 3034 3a0d 0a20 2020 2020 2020 2020   404:..         
-00009d50: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00009d60: 6365 7074 696f 6e28 2741 6e20 696e 666f  ception('An info
-00009d70: 726d 6564 2072 6573 6f75 7263 6520 7761  rmed resource wa
-00009d80: 7320 6e6f 7420 666f 756e 6427 2c20 5f63  s not found', _c
-00009d90: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00009da0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00009db0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00009dc0: 6f64 6520 3d3d 2034 3132 3a0d 0a20 2020  ode == 412:..   
-00009dd0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00009de0: 7272 6f72 4578 6365 7074 696f 6e28 2742  rrorException('B
-00009df0: 7573 696e 6573 7320 7661 6c69 6461 7469  usiness validati
-00009e00: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
-00009e10: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-00009e20: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00009e30: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00009e40: 203d 3d20 3432 323a 0d0a 2020 2020 2020   == 422:..      
-00009e50: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-00009e60: 7245 7863 6570 7469 6f6e 2827 436f 6e74  rException('Cont
-00009e70: 7261 6374 2076 616c 6964 6174 696f 6e20  ract validation 
-00009e80: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
-00009e90: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-00009ea0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00009eb0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00009ec0: 2035 3030 3a0d 0a20 2020 2020 2020 2020   500:..         
-00009ed0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00009ee0: 6365 7074 696f 6e28 2749 6e74 6572 6e61  ception('Interna
-00009ef0: 6c20 7365 7276 6572 2065 7272 6f72 272c  l server error',
-00009f00: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00009f10: 2020 2020 7365 6c66 2e76 616c 6964 6174      self.validat
-00009f20: 655f 7265 7370 6f6e 7365 285f 636f 6e74  e_response(_cont
-00009f30: 6578 7429 0d0a 0d0a 2020 2020 2020 2020  ext)....        
-00009f40: 2320 5265 7475 726e 2061 7070 726f 7072  # Return appropr
-00009f50: 6961 7465 2074 7970 650d 0a20 2020 2020  iate type..     
-00009f60: 2020 2072 6574 7572 6e20 4150 4948 656c     return APIHel
-00009f70: 7065 722e 6a73 6f6e 5f64 6573 6572 6961  per.json_deseria
-00009f80: 6c69 7a65 285f 636f 6e74 6578 742e 7265  lize(_context.re
-00009f90: 7370 6f6e 7365 2e72 6177 5f62 6f64 792c  sponse.raw_body,
-00009fa0: 2053 7562 7363 7269 7074 696f 6e73 5265   SubscriptionsRe
-00009fb0: 7370 6f6e 7365 332e 6672 6f6d 5f64 6963  sponse3.from_dic
-00009fc0: 7469 6f6e 6172 7929 0d0a 0d0a 2020 2020  tionary)....    
-00009fd0: 6465 6620 6765 745f 7573 6167 6573 5f64  def get_usages_d
-00009fe0: 6574 6169 6c73 2873 656c 662c 0d0a 2020  etails(self,..  
-00009ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a000: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-0000a010: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
-0000a020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a030: 2020 2020 2020 6379 636c 655f 6964 3d4e        cycle_id=N
-0000a040: 6f6e 652c 0d0a 2020 2020 2020 2020 2020  one,..          
-0000a050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a060: 2073 697a 653d 4e6f 6e65 2c0d 0a20 2020   size=None,..   
-0000a070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a080: 2020 2020 2020 2020 7061 6765 3d4e 6f6e          page=Non
-0000a090: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-0000a0a0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000a0b0: 7465 6d5f 6964 3d4e 6f6e 652c 0d0a 2020  tem_id=None,..  
-0000a0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a0d0: 2020 2020 2020 2020 2067 726f 7570 3d4e           group=N
-0000a0e0: 6f6e 6529 3a0d 0a20 2020 2020 2020 2022  one):..        "
-0000a0f0: 2222 446f 6573 2061 2047 4554 2072 6571  ""Does a GET req
-0000a100: 7565 7374 2074 6f20 2f73 7562 7363 7269  uest to /subscri
-0000a110: 7074 696f 6e73 2f7b 7375 6273 6372 6970  ptions/{subscrip
-0000a120: 7469 6f6e 5f69 647d 2f75 7361 6765 732d  tion_id}/usages-
-0000a130: 6465 7461 696c 732f 2e0d 0a0d 0a20 2020  details/.....   
-0000a140: 2020 2020 2047 6574 5573 6167 6573 4465       GetUsagesDe
-0000a150: 7461 696c 730d 0a0d 0a20 2020 2020 2020  tails....       
-0000a160: 2041 7267 733a 0d0a 2020 2020 2020 2020   Args:..        
-0000a170: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
-0000a180: 5f69 6420 2873 7472 696e 6729 3a20 5375  _id (string): Su
-0000a190: 6273 6372 6970 7469 6f6e 2049 6465 6e74  bscription Ident
-0000a1a0: 6966 6965 720d 0a20 2020 2020 2020 2020  ifier..         
-0000a1b0: 2020 2063 7963 6c65 5f69 6420 2873 7472     cycle_id (str
-0000a1c0: 696e 672c 206f 7074 696f 6e61 6c29 3a20  ing, optional): 
-0000a1d0: 4379 636c 6520 6964 0d0a 2020 2020 2020  Cycle id..      
-0000a1e0: 2020 2020 2020 7369 7a65 2028 696e 742c        size (int,
-0000a1f0: 206f 7074 696f 6e61 6c29 3a20 5061 6765   optional): Page
-0000a200: 2073 697a 650d 0a20 2020 2020 2020 2020   size..         
-0000a210: 2020 2070 6167 6520 2869 6e74 2c20 6f70     page (int, op
-0000a220: 7469 6f6e 616c 293a 2050 6167 6520 6e75  tional): Page nu
-0000a230: 6d62 6572 0d0a 2020 2020 2020 2020 2020  mber..          
-0000a240: 2020 6974 656d 5f69 6420 2873 7472 696e    item_id (strin
-0000a250: 672c 206f 7074 696f 6e61 6c29 3a20 4964  g, optional): Id
-0000a260: 656e 7469 6669 6361 646f 7220 646f 2069  entificador do i
-0000a270: 7465 6d0d 0a20 2020 2020 2020 2020 2020  tem..           
-0000a280: 2067 726f 7570 2028 7374 7269 6e67 2c20   group (string, 
-0000a290: 6f70 7469 6f6e 616c 293a 2069 6465 6e74  optional): ident
-0000a2a0: 6966 6963 6164 6f72 2064 6120 6c6f 6a61  ificador da loja
-0000a2b0: 2028 6163 636f 756e 7429 2064 6520 6361   (account) de ca
-0000a2c0: 6461 0d0a 2020 2020 2020 2020 2020 2020  da..            
-0000a2d0: 2020 2020 6974 656d 0d0a 0d0a 2020 2020      item....    
-0000a2e0: 2020 2020 5265 7475 726e 733a 0d0a 2020      Returns:..  
-0000a2f0: 2020 2020 2020 2020 2020 4765 7455 7361            GetUsa
-0000a300: 6765 7344 6574 6169 6c73 5265 7370 6f6e  gesDetailsRespon
-0000a310: 7365 3a20 5265 7370 6f6e 7365 2066 726f  se: Response fro
-0000a320: 6d20 7468 6520 4150 492e 200d 0a0d 0a20  m the API. .... 
-0000a330: 2020 2020 2020 2052 6169 7365 733a 0d0a         Raises:..
-0000a340: 2020 2020 2020 2020 2020 2020 4150 4945              APIE
-0000a350: 7863 6570 7469 6f6e 3a20 5768 656e 2061  xception: When a
-0000a360: 6e20 6572 726f 7220 6f63 6375 7273 2077  n error occurs w
-0000a370: 6869 6c65 2066 6574 6368 696e 6720 7468  hile fetching th
-0000a380: 6520 6461 7461 2066 726f 6d0d 0a20 2020  e data from..   
-0000a390: 2020 2020 2020 2020 2020 2020 2074 6865               the
-0000a3a0: 2072 656d 6f74 6520 4150 492e 2054 6869   remote API. Thi
-0000a3b0: 7320 6578 6365 7074 696f 6e20 696e 636c  s exception incl
-0000a3c0: 7564 6573 2074 6865 2048 5454 5020 5265  udes the HTTP Re
-0000a3d0: 7370 6f6e 7365 0d0a 2020 2020 2020 2020  sponse..        
-0000a3e0: 2020 2020 2020 2020 636f 6465 2c20 616e          code, an
-0000a3f0: 2065 7272 6f72 206d 6573 7361 6765 2c20   error message, 
-0000a400: 616e 6420 7468 6520 4854 5450 2062 6f64  and the HTTP bod
-0000a410: 7920 7468 6174 2077 6173 2072 6563 6569  y that was recei
-0000a420: 7665 6420 696e 0d0a 2020 2020 2020 2020  ved in..        
-0000a430: 2020 2020 2020 2020 7468 6520 7265 7175          the requ
-0000a440: 6573 742e 0d0a 0d0a 2020 2020 2020 2020  est.....        
-0000a450: 2222 220d 0a0d 0a20 2020 2020 2020 2023  """....        #
-0000a460: 2050 7265 7061 7265 2071 7565 7279 2055   Prepare query U
-0000a470: 524c 0d0a 2020 2020 2020 2020 5f75 726c  RL..        _url
-0000a480: 5f70 6174 6820 3d20 272f 7375 6273 6372  _path = '/subscr
-0000a490: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
-0000a4a0: 7074 696f 6e5f 6964 7d2f 7573 6167 6573  ption_id}/usages
-0000a4b0: 2d64 6574 6169 6c73 2f27 0d0a 2020 2020  -details/'..    
-0000a4c0: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
-0000a4d0: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
-0000a4e0: 5f75 726c 5f77 6974 685f 7465 6d70 6c61  _url_with_templa
-0000a4f0: 7465 5f70 6172 616d 6574 6572 7328 5f75  te_parameters(_u
-0000a500: 726c 5f70 6174 682c 207b 200d 0a20 2020  rl_path, { ..   
-0000a510: 2020 2020 2020 2020 2027 7375 6273 6372           'subscr
-0000a520: 6970 7469 6f6e 5f69 6427 3a20 7375 6273  iption_id': subs
-0000a530: 6372 6970 7469 6f6e 5f69 640d 0a20 2020  cription_id..   
-0000a540: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
-0000a550: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
-0000a560: 3d20 436f 6e66 6967 7572 6174 696f 6e2e  = Configuration.
-0000a570: 6261 7365 5f75 7269 0d0a 2020 2020 2020  base_uri..      
-0000a580: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-0000a590: 202b 3d20 5f75 726c 5f70 6174 680d 0a20   += _url_path.. 
-0000a5a0: 2020 2020 2020 205f 7175 6572 795f 7061         _query_pa
-0000a5b0: 7261 6d65 7465 7273 203d 207b 0d0a 2020  rameters = {..  
-0000a5c0: 2020 2020 2020 2020 2020 2763 7963 6c65            'cycle
-0000a5d0: 5f69 6427 3a20 6379 636c 655f 6964 2c0d  _id': cycle_id,.
-0000a5e0: 0a20 2020 2020 2020 2020 2020 2027 7369  .            'si
-0000a5f0: 7a65 273a 2073 697a 652c 0d0a 2020 2020  ze': size,..    
-0000a600: 2020 2020 2020 2020 2770 6167 6527 3a20          'page': 
-0000a610: 7061 6765 2c0d 0a20 2020 2020 2020 2020  page,..         
-0000a620: 2020 2027 6974 656d 5f69 6427 3a20 6974     'item_id': it
-0000a630: 656d 5f69 642c 0d0a 2020 2020 2020 2020  em_id,..        
-0000a640: 2020 2020 2767 726f 7570 273a 2067 726f      'group': gro
-0000a650: 7570 0d0a 2020 2020 2020 2020 7d0d 0a20  up..        }.. 
-0000a660: 2020 2020 2020 205f 7175 6572 795f 6275         _query_bu
-0000a670: 696c 6465 7220 3d20 4150 4948 656c 7065  ilder = APIHelpe
-0000a680: 722e 6170 7065 6e64 5f75 726c 5f77 6974  r.append_url_wit
-0000a690: 685f 7175 6572 795f 7061 7261 6d65 7465  h_query_paramete
-0000a6a0: 7273 285f 7175 6572 795f 6275 696c 6465  rs(_query_builde
-0000a6b0: 722c 0d0a 2020 2020 2020 2020 2020 2020  r,..            
-0000a6c0: 5f71 7565 7279 5f70 6172 616d 6574 6572  _query_parameter
-0000a6d0: 732c 2043 6f6e 6669 6775 7261 7469 6f6e  s, Configuration
-0000a6e0: 2e61 7272 6179 5f73 6572 6961 6c69 7a61  .array_serializa
-0000a6f0: 7469 6f6e 290d 0a20 2020 2020 2020 205f  tion)..        _
-0000a700: 7175 6572 795f 7572 6c20 3d20 4150 4948  query_url = APIH
-0000a710: 656c 7065 722e 636c 6561 6e5f 7572 6c28  elper.clean_url(
-0000a720: 5f71 7565 7279 5f62 7569 6c64 6572 290d  _query_builder).
-0000a730: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
-0000a740: 7061 7265 2068 6561 6465 7273 0d0a 2020  pare headers..  
-0000a750: 2020 2020 2020 5f68 6561 6465 7273 203d        _headers =
-0000a760: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
-0000a770: 2761 6363 6570 7427 3a20 2761 7070 6c69  'accept': 'appli
-0000a780: 6361 7469 6f6e 2f6a 736f 6e27 0d0a 2020  cation/json'..  
-0000a790: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
-0000a7a0: 2020 2023 2050 7265 7061 7265 2061 6e64     # Prepare and
-0000a7b0: 2065 7865 6375 7465 2072 6571 7565 7374   execute request
-0000a7c0: 0d0a 2020 2020 2020 2020 5f72 6571 7565  ..        _reque
-0000a7d0: 7374 203d 2073 656c 662e 6874 7470 5f63  st = self.http_c
-0000a7e0: 6c69 656e 742e 6765 7428 5f71 7565 7279  lient.get(_query
-0000a7f0: 5f75 726c 2c20 6865 6164 6572 733d 5f68  _url, headers=_h
-0000a800: 6561 6465 7273 290d 0a20 2020 2020 2020  eaders)..       
-0000a810: 2042 6173 6963 4175 7468 2e61 7070 6c79   BasicAuth.apply
-0000a820: 285f 7265 7175 6573 7429 0d0a 2020 2020  (_request)..    
-0000a830: 2020 2020 5f63 6f6e 7465 7874 203d 2073      _context = s
-0000a840: 656c 662e 6578 6563 7574 655f 7265 7175  elf.execute_requ
-0000a850: 6573 7428 5f72 6571 7565 7374 290d 0a0d  est(_request)...
-0000a860: 0a20 2020 2020 2020 2023 2045 6e64 706f  .        # Endpo
-0000a870: 696e 7420 616e 6420 676c 6f62 616c 2065  int and global e
-0000a880: 7272 6f72 2068 616e 646c 696e 6720 7573  rror handling us
-0000a890: 696e 6720 4854 5450 2073 7461 7475 7320  ing HTTP status 
-0000a8a0: 636f 6465 732e 0d0a 2020 2020 2020 2020  codes...        
-0000a8b0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-0000a8c0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-0000a8d0: 203d 3d20 3430 303a 0d0a 2020 2020 2020   == 400:..      
-0000a8e0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-0000a8f0: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-0000a900: 6c69 6420 7265 7175 6573 7427 2c20 5f63  lid request', _c
-0000a910: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-0000a920: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-0000a930: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-0000a940: 6f64 6520 3d3d 2034 3031 3a0d 0a20 2020  ode == 401:..   
-0000a950: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-0000a960: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-0000a970: 6e76 616c 6964 2041 5049 206b 6579 272c  nvalid API key',
-0000a980: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-0000a990: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-0000a9a0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-0000a9b0: 735f 636f 6465 203d 3d20 3430 343a 0d0a  s_code == 404:..
-0000a9c0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000a9d0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-0000a9e0: 2827 416e 2069 6e66 6f72 6d65 6420 7265  ('An informed re
-0000a9f0: 736f 7572 6365 2077 6173 206e 6f74 2066  source was not f
-0000aa00: 6f75 6e64 272c 205f 636f 6e74 6578 7429  ound', _context)
-0000aa10: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-0000aa20: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-0000aa30: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-0000aa40: 3431 323a 0d0a 2020 2020 2020 2020 2020  412:..          
-0000aa50: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-0000aa60: 6570 7469 6f6e 2827 4275 7369 6e65 7373  eption('Business
-0000aa70: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
-0000aa80: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-0000aa90: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-0000aaa0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-0000aab0: 6174 7573 5f63 6f64 6520 3d3d 2034 3232  atus_code == 422
-0000aac0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-0000aad0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-0000aae0: 696f 6e28 2743 6f6e 7472 6163 7420 7661  ion('Contract va
-0000aaf0: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-0000ab00: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-0000ab10: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-0000ab20: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-0000ab30: 735f 636f 6465 203d 3d20 3530 303a 0d0a  s_code == 500:..
-0000ab40: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000ab50: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-0000ab60: 2827 496e 7465 726e 616c 2073 6572 7665  ('Internal serve
-0000ab70: 7220 6572 726f 7227 2c20 5f63 6f6e 7465  r error', _conte
-0000ab80: 7874 290d 0a20 2020 2020 2020 2073 656c  xt)..        sel
-0000ab90: 662e 7661 6c69 6461 7465 5f72 6573 706f  f.validate_respo
-0000aba0: 6e73 6528 5f63 6f6e 7465 7874 290d 0a0d  nse(_context)...
-0000abb0: 0a20 2020 2020 2020 2023 2052 6574 7572  .        # Retur
-0000abc0: 6e20 6170 7072 6f70 7269 6174 6520 7479  n appropriate ty
-0000abd0: 7065 0d0a 2020 2020 2020 2020 7265 7475  pe..        retu
-0000abe0: 726e 2041 5049 4865 6c70 6572 2e6a 736f  rn APIHelper.jso
-0000abf0: 6e5f 6465 7365 7269 616c 697a 6528 5f63  n_deserialize(_c
-0000ac00: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-0000ac10: 7261 775f 626f 6479 2c20 4765 7455 7361  raw_body, GetUsa
-0000ac20: 6765 7344 6574 6169 6c73 5265 7370 6f6e  gesDetailsRespon
-0000ac30: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
-0000ac40: 7279 290d 0a0d 0a20 2020 2064 6566 2072  ry)....    def r
-0000ac50: 656e 6577 5f73 7562 7363 7269 7074 696f  enew_subscriptio
-0000ac60: 6e28 7365 6c66 2c0d 0a20 2020 2020 2020  n(self,..       
-0000ac70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac80: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
-0000ac90: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
-0000aca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000acb0: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
-0000acc0: 3d4e 6f6e 6529 3a0d 0a20 2020 2020 2020  =None):..       
-0000acd0: 2022 2222 446f 6573 2061 2050 4f53 5420   """Does a POST 
-0000ace0: 7265 7175 6573 7420 746f 202f 7375 6273  request to /subs
-0000acf0: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
-0000ad00: 7269 7074 696f 6e5f 6964 7d2f 6379 636c  ription_id}/cycl
-0000ad10: 6573 2e0d 0a0d 0a20 2020 2020 2020 2052  es.....        R
-0000ad20: 656e 6577 5375 6273 6372 6970 7469 6f6e  enewSubscription
-0000ad30: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
-0000ad40: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
-0000ad50: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
-0000ad60: 7374 7269 6e67 293a 2054 4f44 4f3a 2074  string): TODO: t
-0000ad70: 7970 6520 6465 7363 7269 7074 696f 6e20  ype description 
-0000ad80: 6865 7265 2e20 4578 616d 706c 653a 200d  here. Example: .
-0000ad90: 0a20 2020 2020 2020 2020 2020 2069 6465  .            ide
-0000ada0: 6d70 6f74 656e 6379 5f6b 6579 2028 7374  mpotency_key (st
-0000adb0: 7269 6e67 2c20 6f70 7469 6f6e 616c 293a  ring, optional):
-0000adc0: 2054 4f44 4f3a 2074 7970 6520 6465 7363   TODO: type desc
-0000add0: 7269 7074 696f 6e20 6865 7265 2e0d 0a20  ription here... 
-0000ade0: 2020 2020 2020 2020 2020 2020 2020 2045                 E
-0000adf0: 7861 6d70 6c65 3a20 0d0a 0d0a 2020 2020  xample: ....    
-0000ae00: 2020 2020 5265 7475 726e 733a 0d0a 2020      Returns:..  
-0000ae10: 2020 2020 2020 2020 2020 5375 6273 6372            Subscr
-0000ae20: 6970 7469 6f6e 7343 7963 6c65 7352 6573  iptionsCyclesRes
-0000ae30: 706f 6e73 653a 2052 6573 706f 6e73 6520  ponse: Response 
-0000ae40: 6672 6f6d 2074 6865 2041 5049 2e20 0d0a  from the API. ..
-0000ae50: 0d0a 2020 2020 2020 2020 5261 6973 6573  ..        Raises
-0000ae60: 3a0d 0a20 2020 2020 2020 2020 2020 2041  :..            A
-0000ae70: 5049 4578 6365 7074 696f 6e3a 2057 6865  PIException: Whe
-0000ae80: 6e20 616e 2065 7272 6f72 206f 6363 7572  n an error occur
-0000ae90: 7320 7768 696c 6520 6665 7463 6869 6e67  s while fetching
-0000aea0: 2074 6865 2064 6174 6120 6672 6f6d 0d0a   the data from..
-0000aeb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aec0: 7468 6520 7265 6d6f 7465 2041 5049 2e20  the remote API. 
-0000aed0: 5468 6973 2065 7863 6570 7469 6f6e 2069  This exception i
-0000aee0: 6e63 6c75 6465 7320 7468 6520 4854 5450  ncludes the HTTP
-0000aef0: 2052 6573 706f 6e73 650d 0a20 2020 2020   Response..     
-0000af00: 2020 2020 2020 2020 2020 2063 6f64 652c             code,
-0000af10: 2061 6e20 6572 726f 7220 6d65 7373 6167   an error messag
-0000af20: 652c 2061 6e64 2074 6865 2048 5454 5020  e, and the HTTP 
-0000af30: 626f 6479 2074 6861 7420 7761 7320 7265  body that was re
-0000af40: 6365 6976 6564 2069 6e0d 0a20 2020 2020  ceived in..     
-0000af50: 2020 2020 2020 2020 2020 2074 6865 2072             the r
-0000af60: 6571 7565 7374 2e0d 0a0d 0a20 2020 2020  equest.....     
-0000af70: 2020 2022 2222 0d0a 0d0a 2020 2020 2020     """....      
-0000af80: 2020 2320 5072 6570 6172 6520 7175 6572    # Prepare quer
-0000af90: 7920 5552 4c0d 0a20 2020 2020 2020 205f  y URL..        _
-0000afa0: 7572 6c5f 7061 7468 203d 2027 2f73 7562  url_path = '/sub
-0000afb0: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
-0000afc0: 6372 6970 7469 6f6e 5f69 647d 2f63 7963  cription_id}/cyc
-0000afd0: 6c65 7327 0d0a 2020 2020 2020 2020 5f75  les'..        _u
-0000afe0: 726c 5f70 6174 6820 3d20 4150 4948 656c  rl_path = APIHel
-0000aff0: 7065 722e 6170 7065 6e64 5f75 726c 5f77  per.append_url_w
-0000b000: 6974 685f 7465 6d70 6c61 7465 5f70 6172  ith_template_par
-0000b010: 616d 6574 6572 7328 5f75 726c 5f70 6174  ameters(_url_pat
-0000b020: 682c 207b 200d 0a20 2020 2020 2020 2020  h, { ..         
-0000b030: 2020 2027 7375 6273 6372 6970 7469 6f6e     'subscription
-0000b040: 5f69 6427 3a20 7375 6273 6372 6970 7469  _id': subscripti
-0000b050: 6f6e 5f69 640d 0a20 2020 2020 2020 207d  on_id..        }
-0000b060: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
-0000b070: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
-0000b080: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
-0000b090: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
-0000b0a0: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
-0000b0b0: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
-0000b0c0: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
-0000b0d0: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
-0000b0e0: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
-0000b0f0: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
-0000b100: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
-0000b110: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
-0000b120: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-0000b130: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
-0000b140: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
-0000b150: 0a20 2020 2020 2020 2020 2020 2027 6964  .            'id
-0000b160: 656d 706f 7465 6e63 792d 6b65 7927 3a20  empotency-key': 
-0000b170: 6964 656d 706f 7465 6e63 795f 6b65 790d  idempotency_key.
-0000b180: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
-0000b190: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-0000b1a0: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
-0000b1b0: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
-0000b1c0: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
-0000b1d0: 705f 636c 6965 6e74 2e70 6f73 7428 5f71  p_client.post(_q
-0000b1e0: 7565 7279 5f75 726c 2c20 6865 6164 6572  uery_url, header
-0000b1f0: 733d 5f68 6561 6465 7273 290d 0a20 2020  s=_headers)..   
-0000b200: 2020 2020 2042 6173 6963 4175 7468 2e61       BasicAuth.a
-0000b210: 7070 6c79 285f 7265 7175 6573 7429 0d0a  pply(_request)..
-0000b220: 2020 2020 2020 2020 5f63 6f6e 7465 7874          _context
-0000b230: 203d 2073 656c 662e 6578 6563 7574 655f   = self.execute_
-0000b240: 7265 7175 6573 7428 5f72 6571 7565 7374  request(_request
-0000b250: 290d 0a0d 0a20 2020 2020 2020 2023 2045  )....        # E
-0000b260: 6e64 706f 696e 7420 616e 6420 676c 6f62  ndpoint and glob
-0000b270: 616c 2065 7272 6f72 2068 616e 646c 696e  al error handlin
-0000b280: 6720 7573 696e 6720 4854 5450 2073 7461  g using HTTP sta
-0000b290: 7475 7320 636f 6465 732e 0d0a 2020 2020  tus codes...    
-0000b2a0: 2020 2020 6966 205f 636f 6e74 6578 742e      if _context.
-0000b2b0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-0000b2c0: 636f 6465 203d 3d20 3430 303a 0d0a 2020  code == 400:..  
-0000b2d0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0000b2e0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-0000b2f0: 496e 7661 6c69 6420 7265 7175 6573 7427  Invalid request'
-0000b300: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-0000b310: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-0000b320: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-0000b330: 7573 5f63 6f64 6520 3d3d 2034 3031 3a0d  us_code == 401:.
-0000b340: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0000b350: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-0000b360: 6e28 2749 6e76 616c 6964 2041 5049 206b  n('Invalid API k
-0000b370: 6579 272c 205f 636f 6e74 6578 7429 0d0a  ey', _context)..
-0000b380: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-0000b390: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-0000b3a0: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
-0000b3b0: 343a 0d0a 2020 2020 2020 2020 2020 2020  4:..            
-0000b3c0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-0000b3d0: 7469 6f6e 2827 416e 2069 6e66 6f72 6d65  tion('An informe
-0000b3e0: 6420 7265 736f 7572 6365 2077 6173 206e  d resource was n
-0000b3f0: 6f74 2066 6f75 6e64 272c 205f 636f 6e74  ot found', _cont
-0000b400: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-0000b410: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-0000b420: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-0000b430: 203d 3d20 3431 323a 0d0a 2020 2020 2020   == 412:..      
-0000b440: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-0000b450: 7245 7863 6570 7469 6f6e 2827 4275 7369  rException('Busi
-0000b460: 6e65 7373 2076 616c 6964 6174 696f 6e20  ness validation 
-0000b470: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
-0000b480: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-0000b490: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-0000b4a0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-0000b4b0: 2034 3232 3a0d 0a20 2020 2020 2020 2020   422:..         
-0000b4c0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-0000b4d0: 6365 7074 696f 6e28 2743 6f6e 7472 6163  ception('Contrac
-0000b4e0: 7420 7661 6c69 6461 7469 6f6e 2065 7272  t validation err
-0000b4f0: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
-0000b500: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-0000b510: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-0000b520: 7461 7475 735f 636f 6465 203d 3d20 3530  tatus_code == 50
-0000b530: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
-0000b540: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-0000b550: 7469 6f6e 2827 496e 7465 726e 616c 2073  tion('Internal s
-0000b560: 6572 7665 7220 6572 726f 7227 2c20 5f63  erver error', _c
-0000b570: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-0000b580: 2073 656c 662e 7661 6c69 6461 7465 5f72   self.validate_r
-0000b590: 6573 706f 6e73 6528 5f63 6f6e 7465 7874  esponse(_context
-0000b5a0: 290d 0a0d 0a20 2020 2020 2020 2023 2052  )....        # R
-0000b5b0: 6574 7572 6e20 6170 7072 6f70 7269 6174  eturn appropriat
-0000b5c0: 6520 7479 7065 0d0a 2020 2020 2020 2020  e type..        
-0000b5d0: 7265 7475 726e 2041 5049 4865 6c70 6572  return APIHelper
-0000b5e0: 2e6a 736f 6e5f 6465 7365 7269 616c 697a  .json_deserializ
-0000b5f0: 6528 5f63 6f6e 7465 7874 2e72 6573 706f  e(_context.respo
-0000b600: 6e73 652e 7261 775f 626f 6479 2c20 5375  nse.raw_body, Su
-0000b610: 6273 6372 6970 7469 6f6e 7343 7963 6c65  bscriptionsCycle
-0000b620: 7352 6573 706f 6e73 652e 6672 6f6d 5f64  sResponse.from_d
-0000b630: 6963 7469 6f6e 6172 7929 0d0a 0d0a 2020  ictionary)....  
-0000b640: 2020 6465 6620 6765 745f 7375 6273 6372    def get_subscr
-0000b650: 6970 7469 6f6e 5f63 7963 6c65 7328 7365  iption_cycles(se
-0000b660: 6c66 2c0d 0a20 2020 2020 2020 2020 2020  lf,..           
-0000b670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b680: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
-0000b690: 6e5f 6964 2c0d 0a20 2020 2020 2020 2020  n_id,..         
-0000b6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b6b0: 2020 2020 2020 2070 6167 652c 0d0a 2020         page,..  
-0000b6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b6d0: 2020 2020 2020 2020 2020 2020 2020 7369                si
-0000b6e0: 7a65 293a 0d0a 2020 2020 2020 2020 2222  ze):..        ""
-0000b6f0: 2244 6f65 7320 6120 4745 5420 7265 7175  "Does a GET requ
-0000b700: 6573 7420 746f 202f 7375 6273 6372 6970  est to /subscrip
-0000b710: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
-0000b720: 696f 6e5f 6964 7d2f 6379 636c 6573 2e0d  ion_id}/cycles..
-0000b730: 0a0d 0a20 2020 2020 2020 2047 6574 5375  ...        GetSu
-0000b740: 6273 6372 6970 7469 6f6e 4379 636c 6573  bscriptionCycles
-0000b750: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
-0000b760: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
-0000b770: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
-0000b780: 7374 7269 6e67 293a 2053 7562 7363 7269  string): Subscri
-0000b790: 7074 696f 6e20 4964 0d0a 2020 2020 2020  ption Id..      
-0000b7a0: 2020 2020 2020 7061 6765 2028 7374 7269        page (stri
-0000b7b0: 6e67 293a 2050 6167 6520 6e75 6d62 6572  ng): Page number
-0000b7c0: 0d0a 2020 2020 2020 2020 2020 2020 7369  ..            si
-0000b7d0: 7a65 2028 7374 7269 6e67 293a 2050 6167  ze (string): Pag
-0000b7e0: 6520 7369 7a65 0d0a 0d0a 2020 2020 2020  e size....      
-0000b7f0: 2020 5265 7475 726e 733a 0d0a 2020 2020    Returns:..    
-0000b800: 2020 2020 2020 2020 5375 6273 6372 6970          Subscrip
-0000b810: 7469 6f6e 7343 7963 6c65 7352 6573 706f  tionsCyclesRespo
-0000b820: 6e73 6532 3a20 5265 7370 6f6e 7365 2066  nse2: Response f
-0000b830: 726f 6d20 7468 6520 4150 492e 200d 0a0d  rom the API. ...
-0000b840: 0a20 2020 2020 2020 2052 6169 7365 733a  .        Raises:
-0000b850: 0d0a 2020 2020 2020 2020 2020 2020 4150  ..            AP
-0000b860: 4945 7863 6570 7469 6f6e 3a20 5768 656e  IException: When
-0000b870: 2061 6e20 6572 726f 7220 6f63 6375 7273   an error occurs
-0000b880: 2077 6869 6c65 2066 6574 6368 696e 6720   while fetching 
-0000b890: 7468 6520 6461 7461 2066 726f 6d0d 0a20  the data from.. 
-0000b8a0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0000b8b0: 6865 2072 656d 6f74 6520 4150 492e 2054  he remote API. T
-0000b8c0: 6869 7320 6578 6365 7074 696f 6e20 696e  his exception in
-0000b8d0: 636c 7564 6573 2074 6865 2048 5454 5020  cludes the HTTP 
-0000b8e0: 5265 7370 6f6e 7365 0d0a 2020 2020 2020  Response..      
-0000b8f0: 2020 2020 2020 2020 2020 636f 6465 2c20            code, 
-0000b900: 616e 2065 7272 6f72 206d 6573 7361 6765  an error message
-0000b910: 2c20 616e 6420 7468 6520 4854 5450 2062  , and the HTTP b
-0000b920: 6f64 7920 7468 6174 2077 6173 2072 6563  ody that was rec
-0000b930: 6569 7665 6420 696e 0d0a 2020 2020 2020  eived in..      
-0000b940: 2020 2020 2020 2020 2020 7468 6520 7265            the re
-0000b950: 7175 6573 742e 0d0a 0d0a 2020 2020 2020  quest.....      
-0000b960: 2020 2222 220d 0a0d 0a20 2020 2020 2020    """....       
-0000b970: 2023 2050 7265 7061 7265 2071 7565 7279   # Prepare query
-0000b980: 2055 524c 0d0a 2020 2020 2020 2020 5f75   URL..        _u
-0000b990: 726c 5f70 6174 6820 3d20 272f 7375 6273  rl_path = '/subs
-0000b9a0: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
-0000b9b0: 7269 7074 696f 6e5f 6964 7d2f 6379 636c  ription_id}/cycl
-0000b9c0: 6573 270d 0a20 2020 2020 2020 205f 7572  es'..        _ur
-0000b9d0: 6c5f 7061 7468 203d 2041 5049 4865 6c70  l_path = APIHelp
-0000b9e0: 6572 2e61 7070 656e 645f 7572 6c5f 7769  er.append_url_wi
-0000b9f0: 7468 5f74 656d 706c 6174 655f 7061 7261  th_template_para
-0000ba00: 6d65 7465 7273 285f 7572 6c5f 7061 7468  meters(_url_path
-0000ba10: 2c20 7b20 0d0a 2020 2020 2020 2020 2020  , { ..          
-0000ba20: 2020 2773 7562 7363 7269 7074 696f 6e5f    'subscription_
-0000ba30: 6964 273a 2073 7562 7363 7269 7074 696f  id': subscriptio
-0000ba40: 6e5f 6964 0d0a 2020 2020 2020 2020 7d29  n_id..        })
-0000ba50: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
-0000ba60: 5f62 7569 6c64 6572 203d 2043 6f6e 6669  _builder = Confi
-0000ba70: 6775 7261 7469 6f6e 2e62 6173 655f 7572  guration.base_ur
-0000ba80: 690d 0a20 2020 2020 2020 205f 7175 6572  i..        _quer
-0000ba90: 795f 6275 696c 6465 7220 2b3d 205f 7572  y_builder += _ur
-0000baa0: 6c5f 7061 7468 0d0a 2020 2020 2020 2020  l_path..        
-0000bab0: 5f71 7565 7279 5f70 6172 616d 6574 6572  _query_parameter
-0000bac0: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
-0000bad0: 2020 2027 7061 6765 273a 2070 6167 652c     'page': page,
-0000bae0: 0d0a 2020 2020 2020 2020 2020 2020 2773  ..            's
-0000baf0: 697a 6527 3a20 7369 7a65 0d0a 2020 2020  ize': size..    
-0000bb00: 2020 2020 7d0d 0a20 2020 2020 2020 205f      }..        _
-0000bb10: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
-0000bb20: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
-0000bb30: 5f75 726c 5f77 6974 685f 7175 6572 795f  _url_with_query_
-0000bb40: 7061 7261 6d65 7465 7273 285f 7175 6572  parameters(_quer
-0000bb50: 795f 6275 696c 6465 722c 0d0a 2020 2020  y_builder,..    
-0000bb60: 2020 2020 2020 2020 5f71 7565 7279 5f70          _query_p
-0000bb70: 6172 616d 6574 6572 732c 2043 6f6e 6669  arameters, Confi
-0000bb80: 6775 7261 7469 6f6e 2e61 7272 6179 5f73  guration.array_s
-0000bb90: 6572 6961 6c69 7a61 7469 6f6e 290d 0a20  erialization).. 
-0000bba0: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
-0000bbb0: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
-0000bbc0: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
-0000bbd0: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
-0000bbe0: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
-0000bbf0: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
-0000bc00: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
-0000bc10: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
-0000bc20: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
-0000bc30: 736f 6e27 0d0a 2020 2020 2020 2020 7d0d  son'..        }.
-0000bc40: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
-0000bc50: 7061 7265 2061 6e64 2065 7865 6375 7465  pare and execute
-0000bc60: 2072 6571 7565 7374 0d0a 2020 2020 2020   request..      
-0000bc70: 2020 5f72 6571 7565 7374 203d 2073 656c    _request = sel
-0000bc80: 662e 6874 7470 5f63 6c69 656e 742e 6765  f.http_client.ge
-0000bc90: 7428 5f71 7565 7279 5f75 726c 2c20 6865  t(_query_url, he
-0000bca0: 6164 6572 733d 5f68 6561 6465 7273 290d  aders=_headers).
-0000bcb0: 0a20 2020 2020 2020 2042 6173 6963 4175  .        BasicAu
-0000bcc0: 7468 2e61 7070 6c79 285f 7265 7175 6573  th.apply(_reques
-0000bcd0: 7429 0d0a 2020 2020 2020 2020 5f63 6f6e  t)..        _con
-0000bce0: 7465 7874 203d 2073 656c 662e 6578 6563  text = self.exec
-0000bcf0: 7574 655f 7265 7175 6573 7428 5f72 6571  ute_request(_req
-0000bd00: 7565 7374 290d 0a0d 0a20 2020 2020 2020  uest)....       
-0000bd10: 2023 2045 6e64 706f 696e 7420 616e 6420   # Endpoint and 
-0000bd20: 676c 6f62 616c 2065 7272 6f72 2068 616e  global error han
-0000bd30: 646c 696e 6720 7573 696e 6720 4854 5450  dling using HTTP
-0000bd40: 2073 7461 7475 7320 636f 6465 732e 0d0a   status codes...
-0000bd50: 2020 2020 2020 2020 6966 205f 636f 6e74          if _cont
-0000bd60: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-0000bd70: 7475 735f 636f 6465 203d 3d20 3430 303a  tus_code == 400:
-0000bd80: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-0000bd90: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-0000bda0: 6f6e 2827 496e 7661 6c69 6420 7265 7175  on('Invalid requ
-0000bdb0: 6573 7427 2c20 5f63 6f6e 7465 7874 290d  est', _context).
-0000bdc0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-0000bdd0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-0000bde0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-0000bdf0: 3031 3a0d 0a20 2020 2020 2020 2020 2020  01:..           
-0000be00: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-0000be10: 7074 696f 6e28 2749 6e76 616c 6964 2041  ption('Invalid A
-0000be20: 5049 206b 6579 272c 205f 636f 6e74 6578  PI key', _contex
-0000be30: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-0000be40: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-0000be50: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-0000be60: 3d20 3430 343a 0d0a 2020 2020 2020 2020  = 404:..        
-0000be70: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-0000be80: 7863 6570 7469 6f6e 2827 416e 2069 6e66  xception('An inf
-0000be90: 6f72 6d65 6420 7265 736f 7572 6365 2077  ormed resource w
-0000bea0: 6173 206e 6f74 2066 6f75 6e64 272c 205f  as not found', _
-0000beb0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-0000bec0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-0000bed0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-0000bee0: 636f 6465 203d 3d20 3431 323a 0d0a 2020  code == 412:..  
-0000bef0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0000bf00: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-0000bf10: 4275 7369 6e65 7373 2076 616c 6964 6174  Business validat
-0000bf20: 696f 6e20 6572 726f 7227 2c20 5f63 6f6e  ion error', _con
-0000bf30: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-0000bf40: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-0000bf50: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-0000bf60: 6520 3d3d 2034 3232 3a0d 0a20 2020 2020  e == 422:..     
-0000bf70: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-0000bf80: 6f72 4578 6365 7074 696f 6e28 2743 6f6e  orException('Con
-0000bf90: 7472 6163 7420 7661 6c69 6461 7469 6f6e  tract validation
-0000bfa0: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
-0000bfb0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-0000bfc0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-0000bfd0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-0000bfe0: 3d20 3530 303a 0d0a 2020 2020 2020 2020  = 500:..        
-0000bff0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-0000c000: 7863 6570 7469 6f6e 2827 496e 7465 726e  xception('Intern
-0000c010: 616c 2073 6572 7665 7220 6572 726f 7227  al server error'
-0000c020: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-0000c030: 2020 2020 2073 656c 662e 7661 6c69 6461       self.valida
-0000c040: 7465 5f72 6573 706f 6e73 6528 5f63 6f6e  te_response(_con
-0000c050: 7465 7874 290d 0a0d 0a20 2020 2020 2020  text)....       
-0000c060: 2023 2052 6574 7572 6e20 6170 7072 6f70   # Return approp
-0000c070: 7269 6174 6520 7479 7065 0d0a 2020 2020  riate type..    
-0000c080: 2020 2020 7265 7475 726e 2041 5049 4865      return APIHe
-0000c090: 6c70 6572 2e6a 736f 6e5f 6465 7365 7269  lper.json_deseri
-0000c0a0: 616c 697a 6528 5f63 6f6e 7465 7874 2e72  alize(_context.r
-0000c0b0: 6573 706f 6e73 652e 7261 775f 626f 6479  esponse.raw_body
-0000c0c0: 2c20 5375 6273 6372 6970 7469 6f6e 7343  , SubscriptionsC
-0000c0d0: 7963 6c65 7352 6573 706f 6e73 6532 2e66  yclesResponse2.f
-0000c0e0: 726f 6d5f 6469 6374 696f 6e61 7279 290d  rom_dictionary).
-0000c0f0: 0a0d 0a20 2020 2064 6566 2063 7265 6174  ...    def creat
-0000c100: 655f 616e 5f75 7361 6765 2873 656c 662c  e_an_usage(self,
-0000c110: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000c120: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
-0000c130: 6970 7469 6f6e 5f69 642c 0d0a 2020 2020  iption_id,..    
-0000c140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c150: 2020 2020 6974 656d 5f69 642c 0d0a 2020      item_id,..  
-0000c160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c170: 2020 2020 2020 6964 656d 706f 7465 6e63        idempotenc
-0000c180: 795f 6b65 793d 4e6f 6e65 293a 0d0a 2020  y_key=None):..  
-0000c190: 2020 2020 2020 2222 2244 6f65 7320 6120        """Does a 
-0000c1a0: 504f 5354 2072 6571 7565 7374 2074 6f20  POST request to 
-0000c1b0: 2f73 7562 7363 7269 7074 696f 6e73 2f7b  /subscriptions/{
-0000c1c0: 7375 6273 6372 6970 7469 6f6e 5f69 647d  subscription_id}
-0000c1d0: 2f69 7465 6d73 2f7b 6974 656d 5f69 647d  /items/{item_id}
-0000c1e0: 2f75 7361 6765 732e 0d0a 0d0a 2020 2020  /usages.....    
-0000c1f0: 2020 2020 4372 6561 7465 2055 7361 6765      Create Usage
-0000c200: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
-0000c210: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
-0000c220: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
-0000c230: 7374 7269 6e67 293a 2053 7562 7363 7269  string): Subscri
-0000c240: 7074 696f 6e20 6964 0d0a 2020 2020 2020  ption id..      
-0000c250: 2020 2020 2020 6974 656d 5f69 6420 2873        item_id (s
-0000c260: 7472 696e 6729 3a20 4974 656d 2069 640d  tring): Item id.
-0000c270: 0a20 2020 2020 2020 2020 2020 2069 6465  .            ide
-0000c280: 6d70 6f74 656e 6379 5f6b 6579 2028 7374  mpotency_key (st
-0000c290: 7269 6e67 2c20 6f70 7469 6f6e 616c 293a  ring, optional):
-0000c2a0: 2054 4f44 4f3a 2074 7970 6520 6465 7363   TODO: type desc
-0000c2b0: 7269 7074 696f 6e20 6865 7265 2e0d 0a20  ription here... 
-0000c2c0: 2020 2020 2020 2020 2020 2020 2020 2045                 E
-0000c2d0: 7861 6d70 6c65 3a20 0d0a 0d0a 2020 2020  xample: ....    
-0000c2e0: 2020 2020 5265 7475 726e 733a 0d0a 2020      Returns:..  
-0000c2f0: 2020 2020 2020 2020 2020 5375 6273 6372            Subscr
-0000c300: 6970 7469 6f6e 7349 7465 6d73 5573 6167  iptionsItemsUsag
-0000c310: 6573 5265 7370 6f6e 7365 3a20 5265 7370  esResponse: Resp
-0000c320: 6f6e 7365 2066 726f 6d20 7468 6520 4150  onse from the AP
-0000c330: 492e 200d 0a0d 0a20 2020 2020 2020 2052  I. ....        R
-0000c340: 6169 7365 733a 0d0a 2020 2020 2020 2020  aises:..        
-0000c350: 2020 2020 4150 4945 7863 6570 7469 6f6e      APIException
-0000c360: 3a20 5768 656e 2061 6e20 6572 726f 7220  : When an error 
-0000c370: 6f63 6375 7273 2077 6869 6c65 2066 6574  occurs while fet
-0000c380: 6368 696e 6720 7468 6520 6461 7461 2066  ching the data f
-0000c390: 726f 6d0d 0a20 2020 2020 2020 2020 2020  rom..           
-0000c3a0: 2020 2020 2074 6865 2072 656d 6f74 6520       the remote 
-0000c3b0: 4150 492e 2054 6869 7320 6578 6365 7074  API. This except
-0000c3c0: 696f 6e20 696e 636c 7564 6573 2074 6865  ion includes the
-0000c3d0: 2048 5454 5020 5265 7370 6f6e 7365 0d0a   HTTP Response..
-0000c3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c3f0: 636f 6465 2c20 616e 2065 7272 6f72 206d  code, an error m
-0000c400: 6573 7361 6765 2c20 616e 6420 7468 6520  essage, and the 
-0000c410: 4854 5450 2062 6f64 7920 7468 6174 2077  HTTP body that w
-0000c420: 6173 2072 6563 6569 7665 6420 696e 0d0a  as received in..
-0000c430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c440: 7468 6520 7265 7175 6573 742e 0d0a 0d0a  the request.....
-0000c450: 2020 2020 2020 2020 2222 220d 0a0d 0a20          """.... 
-0000c460: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-0000c470: 2071 7565 7279 2055 524c 0d0a 2020 2020   query URL..    
-0000c480: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
-0000c490: 272f 7375 6273 6372 6970 7469 6f6e 732f  '/subscriptions/
-0000c4a0: 7b73 7562 7363 7269 7074 696f 6e5f 6964  {subscription_id
-0000c4b0: 7d2f 6974 656d 732f 7b69 7465 6d5f 6964  }/items/{item_id
-0000c4c0: 7d2f 7573 6167 6573 270d 0a20 2020 2020  }/usages'..     
-0000c4d0: 2020 205f 7572 6c5f 7061 7468 203d 2041     _url_path = A
-0000c4e0: 5049 4865 6c70 6572 2e61 7070 656e 645f  PIHelper.append_
-0000c4f0: 7572 6c5f 7769 7468 5f74 656d 706c 6174  url_with_templat
-0000c500: 655f 7061 7261 6d65 7465 7273 285f 7572  e_parameters(_ur
-0000c510: 6c5f 7061 7468 2c20 7b20 0d0a 2020 2020  l_path, { ..    
-0000c520: 2020 2020 2020 2020 2773 7562 7363 7269          'subscri
-0000c530: 7074 696f 6e5f 6964 273a 2073 7562 7363  ption_id': subsc
-0000c540: 7269 7074 696f 6e5f 6964 2c0d 0a20 2020  ription_id,..   
-0000c550: 2020 2020 2020 2020 2027 6974 656d 5f69           'item_i
-0000c560: 6427 3a20 6974 656d 5f69 640d 0a20 2020  d': item_id..   
-0000c570: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
-0000c580: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
-0000c590: 3d20 436f 6e66 6967 7572 6174 696f 6e2e  = Configuration.
-0000c5a0: 6261 7365 5f75 7269 0d0a 2020 2020 2020  base_uri..      
-0000c5b0: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-0000c5c0: 202b 3d20 5f75 726c 5f70 6174 680d 0a20   += _url_path.. 
-0000c5d0: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
-0000c5e0: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
-0000c5f0: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
-0000c600: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
-0000c610: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
-0000c620: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
-0000c630: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
-0000c640: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
-0000c650: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
-0000c660: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
-0000c670: 2020 2027 6964 656d 706f 7465 6e63 792d     'idempotency-
-0000c680: 6b65 7927 3a20 6964 656d 706f 7465 6e63  key': idempotenc
-0000c690: 795f 6b65 790d 0a20 2020 2020 2020 207d  y_key..        }
-0000c6a0: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
-0000c6b0: 6570 6172 6520 616e 6420 6578 6563 7574  epare and execut
-0000c6c0: 6520 7265 7175 6573 740d 0a20 2020 2020  e request..     
-0000c6d0: 2020 205f 7265 7175 6573 7420 3d20 7365     _request = se
-0000c6e0: 6c66 2e68 7474 705f 636c 6965 6e74 2e70  lf.http_client.p
-0000c6f0: 6f73 7428 5f71 7565 7279 5f75 726c 2c20  ost(_query_url, 
-0000c700: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
-0000c710: 290d 0a20 2020 2020 2020 2042 6173 6963  )..        Basic
-0000c720: 4175 7468 2e61 7070 6c79 285f 7265 7175  Auth.apply(_requ
-0000c730: 6573 7429 0d0a 2020 2020 2020 2020 5f63  est)..        _c
-0000c740: 6f6e 7465 7874 203d 2073 656c 662e 6578  ontext = self.ex
-0000c750: 6563 7574 655f 7265 7175 6573 7428 5f72  ecute_request(_r
-0000c760: 6571 7565 7374 290d 0a0d 0a20 2020 2020  equest)....     
-0000c770: 2020 2023 2045 6e64 706f 696e 7420 616e     # Endpoint an
-0000c780: 6420 676c 6f62 616c 2065 7272 6f72 2068  d global error h
-0000c790: 616e 646c 696e 6720 7573 696e 6720 4854  andling using HT
-0000c7a0: 5450 2073 7461 7475 7320 636f 6465 732e  TP status codes.
-0000c7b0: 0d0a 2020 2020 2020 2020 6966 205f 636f  ..        if _co
-0000c7c0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-0000c7d0: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
-0000c7e0: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
-0000c7f0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-0000c800: 7469 6f6e 2827 496e 7661 6c69 6420 7265  tion('Invalid re
-0000c810: 7175 6573 7427 2c20 5f63 6f6e 7465 7874  quest', _context
-0000c820: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-0000c830: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-0000c840: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-0000c850: 2034 3031 3a0d 0a20 2020 2020 2020 2020   401:..         
-0000c860: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-0000c870: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
-0000c880: 2041 5049 206b 6579 272c 205f 636f 6e74   API key', _cont
-0000c890: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-0000c8a0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-0000c8b0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-0000c8c0: 203d 3d20 3430 343a 0d0a 2020 2020 2020   == 404:..      
-0000c8d0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-0000c8e0: 7245 7863 6570 7469 6f6e 2827 416e 2069  rException('An i
-0000c8f0: 6e66 6f72 6d65 6420 7265 736f 7572 6365  nformed resource
-0000c900: 2077 6173 206e 6f74 2066 6f75 6e64 272c   was not found',
-0000c910: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-0000c920: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-0000c930: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-0000c940: 735f 636f 6465 203d 3d20 3431 323a 0d0a  s_code == 412:..
-0000c950: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000c960: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-0000c970: 2827 4275 7369 6e65 7373 2076 616c 6964  ('Business valid
-0000c980: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
-0000c990: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-0000c9a0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-0000c9b0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-0000c9c0: 6f64 6520 3d3d 2034 3232 3a0d 0a20 2020  ode == 422:..   
-0000c9d0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-0000c9e0: 7272 6f72 4578 6365 7074 696f 6e28 2743  rrorException('C
-0000c9f0: 6f6e 7472 6163 7420 7661 6c69 6461 7469  ontract validati
-0000ca00: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
-0000ca10: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-0000ca20: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-0000ca30: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-0000ca40: 203d 3d20 3530 303a 0d0a 2020 2020 2020   == 500:..      
-0000ca50: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-0000ca60: 7245 7863 6570 7469 6f6e 2827 496e 7465  rException('Inte
-0000ca70: 726e 616c 2073 6572 7665 7220 6572 726f  rnal server erro
-0000ca80: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-0000ca90: 2020 2020 2020 2073 656c 662e 7661 6c69         self.vali
-0000caa0: 6461 7465 5f72 6573 706f 6e73 6528 5f63  date_response(_c
-0000cab0: 6f6e 7465 7874 290d 0a0d 0a20 2020 2020  ontext)....     
-0000cac0: 2020 2023 2052 6574 7572 6e20 6170 7072     # Return appr
-0000cad0: 6f70 7269 6174 6520 7479 7065 0d0a 2020  opriate type..  
-0000cae0: 2020 2020 2020 7265 7475 726e 2041 5049        return API
-0000caf0: 4865 6c70 6572 2e6a 736f 6e5f 6465 7365  Helper.json_dese
-0000cb00: 7269 616c 697a 6528 5f63 6f6e 7465 7874  rialize(_context
-0000cb10: 2e72 6573 706f 6e73 652e 7261 775f 626f  .response.raw_bo
-0000cb20: 6479 2c20 5375 6273 6372 6970 7469 6f6e  dy, Subscription
-0000cb30: 7349 7465 6d73 5573 6167 6573 5265 7370  sItemsUsagesResp
-0000cb40: 6f6e 7365 2e66 726f 6d5f 6469 6374 696f  onse.from_dictio
-0000cb50: 6e61 7279 290d 0a0d 0a20 2020 2064 6566  nary)....    def
-0000cb60: 2067 6574 5f75 7361 6765 7328 7365 6c66   get_usages(self
-0000cb70: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0000cb80: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
-0000cb90: 6f6e 5f69 642c 0d0a 2020 2020 2020 2020  on_id,..        
-0000cba0: 2020 2020 2020 2020 2020 2069 7465 6d5f             item_
-0000cbb0: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
-0000cbc0: 2020 2020 2020 2020 7061 6765 3d4e 6f6e          page=Non
-0000cbd0: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
-0000cbe0: 2020 2020 2020 2073 697a 653d 4e6f 6e65         size=None
-0000cbf0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0000cc00: 2020 2020 2020 636f 6465 3d4e 6f6e 652c        code=None,
-0000cc10: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000cc20: 2020 2020 2067 726f 7570 3d4e 6f6e 652c       group=None,
-0000cc30: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000cc40: 2020 2020 2075 7365 645f 7369 6e63 653d       used_since=
-0000cc50: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
-0000cc60: 2020 2020 2020 2020 2020 7573 6564 5f75            used_u
-0000cc70: 6e74 696c 3d4e 6f6e 6529 3a0d 0a20 2020  ntil=None):..   
-0000cc80: 2020 2020 2022 2222 446f 6573 2061 2047       """Does a G
-0000cc90: 4554 2072 6571 7565 7374 2074 6f20 2f73  ET request to /s
-0000cca0: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-0000ccb0: 6273 6372 6970 7469 6f6e 5f69 647d 2f69  bscription_id}/i
-0000ccc0: 7465 6d73 2f7b 6974 656d 5f69 647d 2f75  tems/{item_id}/u
-0000ccd0: 7361 6765 732e 0d0a 0d0a 2020 2020 2020  sages.....      
-0000cce0: 2020 4c69 7374 7320 616c 6c20 7573 6167    Lists all usag
-0000ccf0: 6573 2066 726f 6d20 6120 7375 6273 6372  es from a subscr
-0000cd00: 6970 7469 6f6e 2069 7465 6d0d 0a0d 0a20  iption item.... 
-0000cd10: 2020 2020 2020 2041 7267 733a 0d0a 2020         Args:..  
-0000cd20: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
-0000cd30: 6970 7469 6f6e 5f69 6420 2873 7472 696e  iption_id (strin
-0000cd40: 6729 3a20 5468 6520 7375 6273 6372 6970  g): The subscrip
-0000cd50: 7469 6f6e 2069 640d 0a20 2020 2020 2020  tion id..       
-0000cd60: 2020 2020 2069 7465 6d5f 6964 2028 7374       item_id (st
-0000cd70: 7269 6e67 293a 2054 6865 2073 7562 7363  ring): The subsc
-0000cd80: 7269 7074 696f 6e20 6974 656d 2069 640d  ription item id.
-0000cd90: 0a20 2020 2020 2020 2020 2020 2070 6167  .            pag
-0000cda0: 6520 2869 6e74 2c20 6f70 7469 6f6e 616c  e (int, optional
-0000cdb0: 293a 2050 6167 6520 6e75 6d62 6572 0d0a  ): Page number..
-0000cdc0: 2020 2020 2020 2020 2020 2020 7369 7a65              size
-0000cdd0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-0000cde0: 3a20 5061 6765 2073 697a 650d 0a20 2020  : Page size..   
-0000cdf0: 2020 2020 2020 2020 2063 6f64 6520 2873           code (s
-0000ce00: 7472 696e 672c 206f 7074 696f 6e61 6c29  tring, optional)
-0000ce10: 3a20 4964 656e 7469 6669 6361 7469 6f6e  : Identification
-0000ce20: 2063 6f64 6520 696e 2074 6865 2063 6c69   code in the cli
-0000ce30: 656e 7420 7379 7374 656d 0d0a 2020 2020  ent system..    
-0000ce40: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
-0000ce50: 7472 696e 672c 206f 7074 696f 6e61 6c29  tring, optional)
-0000ce60: 3a20 4964 656e 7469 6669 6361 7469 6f6e  : Identification
-0000ce70: 2067 726f 7570 2069 6e20 7468 6520 636c   group in the cl
-0000ce80: 6965 6e74 0d0a 2020 2020 2020 2020 2020  ient..          
-0000ce90: 2020 2020 2020 7379 7374 656d 0d0a 2020        system..  
-0000cea0: 2020 2020 2020 2020 2020 7573 6564 5f73            used_s
-0000ceb0: 696e 6365 2028 6461 7465 7469 6d65 2c20  ince (datetime, 
-0000cec0: 6f70 7469 6f6e 616c 293a 2054 4f44 4f3a  optional): TODO:
-0000ced0: 2074 7970 6520 6465 7363 7269 7074 696f   type descriptio
-0000cee0: 6e20 6865 7265 2e0d 0a20 2020 2020 2020  n here...       
-0000cef0: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
-0000cf00: 3a20 0d0a 2020 2020 2020 2020 2020 2020  : ..            
-0000cf10: 7573 6564 5f75 6e74 696c 2028 6461 7465  used_until (date
-0000cf20: 7469 6d65 2c20 6f70 7469 6f6e 616c 293a  time, optional):
-0000cf30: 2054 4f44 4f3a 2074 7970 6520 6465 7363   TODO: type desc
-0000cf40: 7269 7074 696f 6e20 6865 7265 2e0d 0a20  ription here... 
-0000cf50: 2020 2020 2020 2020 2020 2020 2020 2045                 E
-0000cf60: 7861 6d70 6c65 3a20 0d0a 0d0a 2020 2020  xample: ....    
-0000cf70: 2020 2020 5265 7475 726e 733a 0d0a 2020      Returns:..  
-0000cf80: 2020 2020 2020 2020 2020 5375 6273 6372            Subscr
-0000cf90: 6970 7469 6f6e 7349 7465 6d73 5573 6167  iptionsItemsUsag
-0000cfa0: 6573 5265 7370 6f6e 7365 313a 2052 6573  esResponse1: Res
-0000cfb0: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
-0000cfc0: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
-0000cfd0: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
-0000cfe0: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
-0000cff0: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
-0000d000: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
-0000d010: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
-0000d020: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
-0000d030: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
-0000d040: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
-0000d050: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
-0000d060: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
+00003450: 2020 2020 2041 7267 733a 0d0a 2020 2020       Args:..    
+00003460: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
+00003470: 7469 6f6e 5f69 6420 2873 7472 696e 6729  tion_id (string)
+00003480: 3a20 5375 6273 6372 6970 7469 6f6e 2069  : Subscription i
+00003490: 640d 0a20 2020 2020 2020 2020 2020 2069  d..            i
+000034a0: 6465 6d70 6f74 656e 6379 5f6b 6579 2028  dempotency_key (
+000034b0: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
+000034c0: 293a 2054 4f44 4f3a 2074 7970 6520 6465  ): TODO: type de
+000034d0: 7363 7269 7074 696f 6e20 6865 7265 2e0d  scription here..
+000034e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000034f0: 2045 7861 6d70 6c65 3a20 0d0a 2020 2020   Example: ..    
+00003500: 2020 2020 2020 2020 626f 6479 2028 5375          body (Su
+00003510: 6273 6372 6970 7469 6f6e 7352 6571 7565  bscriptionsReque
+00003520: 7374 2c20 6f70 7469 6f6e 616c 293a 2052  st, optional): R
+00003530: 6571 7565 7374 2066 6f72 2063 616e 6365  equest for cance
+00003540: 6c6c 696e 6720 610d 0a20 2020 2020 2020  lling a..       
+00003550: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
+00003560: 7074 696f 6e0d 0a0d 0a20 2020 2020 2020  ption....       
+00003570: 2052 6574 7572 6e73 3a0d 0a20 2020 2020   Returns:..     
+00003580: 2020 2020 2020 2047 6574 5375 6273 6372         GetSubscr
+00003590: 6970 7469 6f6e 5265 7370 6f6e 7365 3a20  iptionResponse: 
+000035a0: 5265 7370 6f6e 7365 2066 726f 6d20 7468  Response from th
+000035b0: 6520 4150 492e 200d 0a0d 0a20 2020 2020  e API. ....     
+000035c0: 2020 2052 6169 7365 733a 0d0a 2020 2020     Raises:..    
+000035d0: 2020 2020 2020 2020 4150 4945 7863 6570          APIExcep
+000035e0: 7469 6f6e 3a20 5768 656e 2061 6e20 6572  tion: When an er
+000035f0: 726f 7220 6f63 6375 7273 2077 6869 6c65  ror occurs while
+00003600: 2066 6574 6368 696e 6720 7468 6520 6461   fetching the da
+00003610: 7461 2066 726f 6d0d 0a20 2020 2020 2020  ta from..       
+00003620: 2020 2020 2020 2020 2074 6865 2072 656d           the rem
+00003630: 6f74 6520 4150 492e 2054 6869 7320 6578  ote API. This ex
+00003640: 6365 7074 696f 6e20 696e 636c 7564 6573  ception includes
+00003650: 2074 6865 2048 5454 5020 5265 7370 6f6e   the HTTP Respon
+00003660: 7365 0d0a 2020 2020 2020 2020 2020 2020  se..            
+00003670: 2020 2020 636f 6465 2c20 616e 2065 7272      code, an err
+00003680: 6f72 206d 6573 7361 6765 2c20 616e 6420  or message, and 
+00003690: 7468 6520 4854 5450 2062 6f64 7920 7468  the HTTP body th
+000036a0: 6174 2077 6173 2072 6563 6569 7665 6420  at was received 
+000036b0: 696e 0d0a 2020 2020 2020 2020 2020 2020  in..            
+000036c0: 2020 2020 7468 6520 7265 7175 6573 742e      the request.
+000036d0: 0d0a 0d0a 2020 2020 2020 2020 2222 220d  ....        """.
+000036e0: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+000036f0: 7061 7265 2071 7565 7279 2055 524c 0d0a  pare query URL..
+00003700: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
+00003710: 6820 3d20 272f 7375 6273 6372 6970 7469  h = '/subscripti
+00003720: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
+00003730: 6e5f 6964 7d27 0d0a 2020 2020 2020 2020  n_id}'..        
+00003740: 5f75 726c 5f70 6174 6820 3d20 4150 4948  _url_path = APIH
+00003750: 656c 7065 722e 6170 7065 6e64 5f75 726c  elper.append_url
+00003760: 5f77 6974 685f 7465 6d70 6c61 7465 5f70  _with_template_p
+00003770: 6172 616d 6574 6572 7328 5f75 726c 5f70  arameters(_url_p
+00003780: 6174 682c 207b 200d 0a20 2020 2020 2020  ath, { ..       
+00003790: 2020 2020 2027 7375 6273 6372 6970 7469       'subscripti
+000037a0: 6f6e 5f69 6427 3a20 7375 6273 6372 6970  on_id': subscrip
+000037b0: 7469 6f6e 5f69 640d 0a20 2020 2020 2020  tion_id..       
+000037c0: 207d 290d 0a20 2020 2020 2020 205f 7175   })..        _qu
+000037d0: 6572 795f 6275 696c 6465 7220 3d20 436f  ery_builder = Co
+000037e0: 6e66 6967 7572 6174 696f 6e2e 6261 7365  nfiguration.base
+000037f0: 5f75 7269 0d0a 2020 2020 2020 2020 5f71  _uri..        _q
+00003800: 7565 7279 5f62 7569 6c64 6572 202b 3d20  uery_builder += 
+00003810: 5f75 726c 5f70 6174 680d 0a20 2020 2020  _url_path..     
+00003820: 2020 205f 7175 6572 795f 7572 6c20 3d20     _query_url = 
+00003830: 4150 4948 656c 7065 722e 636c 6561 6e5f  APIHelper.clean_
+00003840: 7572 6c28 5f71 7565 7279 5f62 7569 6c64  url(_query_build
+00003850: 6572 290d 0a0d 0a20 2020 2020 2020 2023  er)....        #
+00003860: 2050 7265 7061 7265 2068 6561 6465 7273   Prepare headers
+00003870: 0d0a 2020 2020 2020 2020 5f68 6561 6465  ..        _heade
+00003880: 7273 203d 207b 0d0a 2020 2020 2020 2020  rs = {..        
+00003890: 2020 2020 2761 6363 6570 7427 3a20 2761      'accept': 'a
+000038a0: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
+000038b0: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+000038c0: 5365 7276 6963 6552 6566 6572 6572 4e61  ServiceRefererNa
+000038d0: 6d65 273a 2043 6f6e 6669 6775 7261 7469  me': Configurati
+000038e0: 6f6e 2e73 6572 7669 6365 5f72 6566 6572  on.service_refer
+000038f0: 6572 5f6e 616d 652c 0d0a 2020 2020 2020  er_name,..      
+00003900: 2020 2020 2020 2743 6f6e 7465 6e74 2d54        'Content-T
+00003910: 7970 6527 3a20 2761 7070 6c69 6361 7469  ype': 'applicati
+00003920: 6f6e 2f6a 736f 6e27 2c0d 0a20 2020 2020  on/json',..     
+00003930: 2020 2020 2020 2027 6964 656d 706f 7465         'idempote
+00003940: 6e63 792d 6b65 7927 3a20 6964 656d 706f  ncy-key': idempo
+00003950: 7465 6e63 795f 6b65 790d 0a20 2020 2020  tency_key..     
+00003960: 2020 207d 0d0a 0d0a 2020 2020 2020 2020     }....        
+00003970: 2320 5072 6570 6172 6520 616e 6420 6578  # Prepare and ex
+00003980: 6563 7574 6520 7265 7175 6573 740d 0a20  ecute request.. 
+00003990: 2020 2020 2020 205f 7265 7175 6573 7420         _request 
+000039a0: 3d20 7365 6c66 2e68 7474 705f 636c 6965  = self.http_clie
+000039b0: 6e74 2e64 656c 6574 6528 5f71 7565 7279  nt.delete(_query
+000039c0: 5f75 726c 2c20 6865 6164 6572 733d 5f68  _url, headers=_h
+000039d0: 6561 6465 7273 2c20 7061 7261 6d65 7465  eaders, paramete
+000039e0: 7273 3d41 5049 4865 6c70 6572 2e6a 736f  rs=APIHelper.jso
+000039f0: 6e5f 7365 7269 616c 697a 6528 626f 6479  n_serialize(body
+00003a00: 2929 0d0a 2020 2020 2020 2020 4261 7369  ))..        Basi
+00003a10: 6341 7574 682e 6170 706c 7928 5f72 6571  cAuth.apply(_req
+00003a20: 7565 7374 290d 0a20 2020 2020 2020 205f  uest)..        _
+00003a30: 636f 6e74 6578 7420 3d20 7365 6c66 2e65  context = self.e
+00003a40: 7865 6375 7465 5f72 6571 7565 7374 285f  xecute_request(_
+00003a50: 7265 7175 6573 7429 0d0a 0d0a 2020 2020  request)....    
+00003a60: 2020 2020 2320 456e 6470 6f69 6e74 2061      # Endpoint a
+00003a70: 6e64 2067 6c6f 6261 6c20 6572 726f 7220  nd global error 
+00003a80: 6861 6e64 6c69 6e67 2075 7369 6e67 2048  handling using H
+00003a90: 5454 5020 7374 6174 7573 2063 6f64 6573  TTP status codes
+00003aa0: 2e0d 0a20 2020 2020 2020 2069 6620 5f63  ...        if _c
+00003ab0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00003ac0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00003ad0: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
+00003ae0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+00003af0: 7074 696f 6e28 2749 6e76 616c 6964 2072  ption('Invalid r
+00003b00: 6571 7565 7374 272c 205f 636f 6e74 6578  equest', _contex
+00003b10: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+00003b20: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+00003b30: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00003b40: 3d20 3430 313a 0d0a 2020 2020 2020 2020  = 401:..        
+00003b50: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00003b60: 7863 6570 7469 6f6e 2827 496e 7661 6c69  xception('Invali
+00003b70: 6420 4150 4920 6b65 7927 2c20 5f63 6f6e  d API key', _con
+00003b80: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+00003b90: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+00003ba0: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00003bb0: 6520 3d3d 2034 3034 3a0d 0a20 2020 2020  e == 404:..     
+00003bc0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00003bd0: 6f72 4578 6365 7074 696f 6e28 2741 6e20  orException('An 
+00003be0: 696e 666f 726d 6564 2072 6573 6f75 7263  informed resourc
+00003bf0: 6520 7761 7320 6e6f 7420 666f 756e 6427  e was not found'
+00003c00: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00003c10: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00003c20: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00003c30: 7573 5f63 6f64 6520 3d3d 2034 3132 3a0d  us_code == 412:.
+00003c40: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00003c50: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00003c60: 6e28 2742 7573 696e 6573 7320 7661 6c69  n('Business vali
+00003c70: 6461 7469 6f6e 2065 7272 6f72 272c 205f  dation error', _
+00003c80: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00003c90: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00003ca0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00003cb0: 636f 6465 203d 3d20 3432 323a 0d0a 2020  code == 422:..  
+00003cc0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00003cd0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00003ce0: 436f 6e74 7261 6374 2076 616c 6964 6174  Contract validat
+00003cf0: 696f 6e20 6572 726f 7227 2c20 5f63 6f6e  ion error', _con
+00003d00: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+00003d10: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+00003d20: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00003d30: 6520 3d3d 2035 3030 3a0d 0a20 2020 2020  e == 500:..     
+00003d40: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00003d50: 6f72 4578 6365 7074 696f 6e28 2749 6e74  orException('Int
+00003d60: 6572 6e61 6c20 7365 7276 6572 2065 7272  ernal server err
+00003d70: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+00003d80: 2020 2020 2020 2020 7365 6c66 2e76 616c          self.val
+00003d90: 6964 6174 655f 7265 7370 6f6e 7365 285f  idate_response(_
+00003da0: 636f 6e74 6578 7429 0d0a 0d0a 2020 2020  context)....    
+00003db0: 2020 2020 2320 5265 7475 726e 2061 7070      # Return app
+00003dc0: 726f 7072 6961 7465 2074 7970 650d 0a20  ropriate type.. 
+00003dd0: 2020 2020 2020 2072 6574 7572 6e20 4150         return AP
+00003de0: 4948 656c 7065 722e 6a73 6f6e 5f64 6573  IHelper.json_des
+00003df0: 6572 6961 6c69 7a65 285f 636f 6e74 6578  erialize(_contex
+00003e00: 742e 7265 7370 6f6e 7365 2e72 6177 5f62  t.response.raw_b
+00003e10: 6f64 792c 2047 6574 5375 6273 6372 6970  ody, GetSubscrip
+00003e20: 7469 6f6e 5265 7370 6f6e 7365 2e66 726f  tionResponse.fro
+00003e30: 6d5f 6469 6374 696f 6e61 7279 290d 0a0d  m_dictionary)...
+00003e40: 0a20 2020 2064 6566 2067 6574 5f73 7562  .    def get_sub
+00003e50: 7363 7269 7074 696f 6e28 7365 6c66 2c0d  scription(self,.
+00003e60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003e70: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
+00003e80: 6970 7469 6f6e 5f69 6429 3a0d 0a20 2020  iption_id):..   
+00003e90: 2020 2020 2022 2222 446f 6573 2061 2047       """Does a G
+00003ea0: 4554 2072 6571 7565 7374 2074 6f20 2f73  ET request to /s
+00003eb0: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
+00003ec0: 6273 6372 6970 7469 6f6e 5f69 647d 2e0d  bscription_id}..
+00003ed0: 0a0d 0a20 2020 2020 2020 2047 6574 7320  ...        Gets 
+00003ee0: 6120 7375 6273 6372 6970 7469 6f6e 0d0a  a subscription..
+00003ef0: 0d0a 2020 2020 2020 2020 4172 6773 3a0d  ..        Args:.
+00003f00: 0a20 2020 2020 2020 2020 2020 2073 7562  .            sub
+00003f10: 7363 7269 7074 696f 6e5f 6964 2028 7374  scription_id (st
+00003f20: 7269 6e67 293a 2053 7562 7363 7269 7074  ring): Subscript
+00003f30: 696f 6e20 6964 0d0a 0d0a 2020 2020 2020  ion id....      
+00003f40: 2020 5265 7475 726e 733a 0d0a 2020 2020    Returns:..    
+00003f50: 2020 2020 2020 2020 4765 7453 7562 7363          GetSubsc
+00003f60: 7269 7074 696f 6e52 6573 706f 6e73 653a  riptionResponse:
+00003f70: 2052 6573 706f 6e73 6520 6672 6f6d 2074   Response from t
+00003f80: 6865 2041 5049 2e20 0d0a 0d0a 2020 2020  he API. ....    
+00003f90: 2020 2020 5261 6973 6573 3a0d 0a20 2020      Raises:..   
+00003fa0: 2020 2020 2020 2020 2041 5049 4578 6365           APIExce
+00003fb0: 7074 696f 6e3a 2057 6865 6e20 616e 2065  ption: When an e
+00003fc0: 7272 6f72 206f 6363 7572 7320 7768 696c  rror occurs whil
+00003fd0: 6520 6665 7463 6869 6e67 2074 6865 2064  e fetching the d
+00003fe0: 6174 6120 6672 6f6d 0d0a 2020 2020 2020  ata from..      
+00003ff0: 2020 2020 2020 2020 2020 7468 6520 7265            the re
+00004000: 6d6f 7465 2041 5049 2e20 5468 6973 2065  mote API. This e
+00004010: 7863 6570 7469 6f6e 2069 6e63 6c75 6465  xception include
+00004020: 7320 7468 6520 4854 5450 2052 6573 706f  s the HTTP Respo
+00004030: 6e73 650d 0a20 2020 2020 2020 2020 2020  nse..           
+00004040: 2020 2020 2063 6f64 652c 2061 6e20 6572       code, an er
+00004050: 726f 7220 6d65 7373 6167 652c 2061 6e64  ror message, and
+00004060: 2074 6865 2048 5454 5020 626f 6479 2074   the HTTP body t
+00004070: 6861 7420 7761 7320 7265 6365 6976 6564  hat was received
+00004080: 2069 6e0d 0a20 2020 2020 2020 2020 2020   in..           
+00004090: 2020 2020 2074 6865 2072 6571 7565 7374       the request
+000040a0: 2e0d 0a0d 0a20 2020 2020 2020 2022 2222  .....        """
+000040b0: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
+000040c0: 6570 6172 6520 7175 6572 7920 5552 4c0d  epare query URL.
+000040d0: 0a20 2020 2020 2020 205f 7572 6c5f 7061  .        _url_pa
+000040e0: 7468 203d 2027 2f73 7562 7363 7269 7074  th = '/subscript
+000040f0: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
+00004100: 6f6e 5f69 647d 270d 0a20 2020 2020 2020  on_id}'..       
+00004110: 205f 7572 6c5f 7061 7468 203d 2041 5049   _url_path = API
+00004120: 4865 6c70 6572 2e61 7070 656e 645f 7572  Helper.append_ur
+00004130: 6c5f 7769 7468 5f74 656d 706c 6174 655f  l_with_template_
+00004140: 7061 7261 6d65 7465 7273 285f 7572 6c5f  parameters(_url_
+00004150: 7061 7468 2c20 7b20 0d0a 2020 2020 2020  path, { ..      
+00004160: 2020 2020 2020 2773 7562 7363 7269 7074        'subscript
+00004170: 696f 6e5f 6964 273a 2073 7562 7363 7269  ion_id': subscri
+00004180: 7074 696f 6e5f 6964 0d0a 2020 2020 2020  ption_id..      
+00004190: 2020 7d29 0d0a 2020 2020 2020 2020 5f71    })..        _q
+000041a0: 7565 7279 5f62 7569 6c64 6572 203d 2043  uery_builder = C
+000041b0: 6f6e 6669 6775 7261 7469 6f6e 2e62 6173  onfiguration.bas
+000041c0: 655f 7572 690d 0a20 2020 2020 2020 205f  e_uri..        _
+000041d0: 7175 6572 795f 6275 696c 6465 7220 2b3d  query_builder +=
+000041e0: 205f 7572 6c5f 7061 7468 0d0a 2020 2020   _url_path..    
+000041f0: 2020 2020 5f71 7565 7279 5f75 726c 203d      _query_url =
+00004200: 2041 5049 4865 6c70 6572 2e63 6c65 616e   APIHelper.clean
+00004210: 5f75 726c 285f 7175 6572 795f 6275 696c  _url(_query_buil
+00004220: 6465 7229 0d0a 0d0a 2020 2020 2020 2020  der)....        
+00004230: 2320 5072 6570 6172 6520 6865 6164 6572  # Prepare header
+00004240: 730d 0a20 2020 2020 2020 205f 6865 6164  s..        _head
+00004250: 6572 7320 3d20 7b0d 0a20 2020 2020 2020  ers = {..       
+00004260: 2020 2020 2027 6163 6365 7074 273a 2027       'accept': '
+00004270: 6170 706c 6963 6174 696f 6e2f 6a73 6f6e  application/json
+00004280: 272c 0d0a 2020 2020 2020 2020 2020 2020  ',..            
+00004290: 2753 6572 7669 6365 5265 6665 7265 724e  'ServiceRefererN
+000042a0: 616d 6527 3a20 436f 6e66 6967 7572 6174  ame': Configurat
+000042b0: 696f 6e2e 7365 7276 6963 655f 7265 6665  ion.service_refe
+000042c0: 7265 725f 6e61 6d65 0d0a 2020 2020 2020  rer_name..      
+000042d0: 2020 7d0d 0a0d 0a20 2020 2020 2020 2023    }....        #
+000042e0: 2050 7265 7061 7265 2061 6e64 2065 7865   Prepare and exe
+000042f0: 6375 7465 2072 6571 7565 7374 0d0a 2020  cute request..  
+00004300: 2020 2020 2020 5f72 6571 7565 7374 203d        _request =
+00004310: 2073 656c 662e 6874 7470 5f63 6c69 656e   self.http_clien
+00004320: 742e 6765 7428 5f71 7565 7279 5f75 726c  t.get(_query_url
+00004330: 2c20 6865 6164 6572 733d 5f68 6561 6465  , headers=_heade
+00004340: 7273 290d 0a20 2020 2020 2020 2042 6173  rs)..        Bas
+00004350: 6963 4175 7468 2e61 7070 6c79 285f 7265  icAuth.apply(_re
+00004360: 7175 6573 7429 0d0a 2020 2020 2020 2020  quest)..        
+00004370: 5f63 6f6e 7465 7874 203d 2073 656c 662e  _context = self.
+00004380: 6578 6563 7574 655f 7265 7175 6573 7428  execute_request(
+00004390: 5f72 6571 7565 7374 290d 0a0d 0a20 2020  _request)....   
+000043a0: 2020 2020 2023 2045 6e64 706f 696e 7420       # Endpoint 
+000043b0: 616e 6420 676c 6f62 616c 2065 7272 6f72  and global error
+000043c0: 2068 616e 646c 696e 6720 7573 696e 6720   handling using 
+000043d0: 4854 5450 2073 7461 7475 7320 636f 6465  HTTP status code
+000043e0: 732e 0d0a 2020 2020 2020 2020 6966 205f  s...        if _
+000043f0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00004400: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00004410: 3430 303a 0d0a 2020 2020 2020 2020 2020  400:..          
+00004420: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00004430: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
+00004440: 7265 7175 6573 7427 2c20 5f63 6f6e 7465  request', _conte
+00004450: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+00004460: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00004470: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00004480: 3d3d 2034 3031 3a0d 0a20 2020 2020 2020  == 401:..       
+00004490: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+000044a0: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
+000044b0: 6964 2041 5049 206b 6579 272c 205f 636f  id API key', _co
+000044c0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+000044d0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+000044e0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+000044f0: 6465 203d 3d20 3430 343a 0d0a 2020 2020  de == 404:..    
+00004500: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00004510: 726f 7245 7863 6570 7469 6f6e 2827 416e  rorException('An
+00004520: 2069 6e66 6f72 6d65 6420 7265 736f 7572   informed resour
+00004530: 6365 2077 6173 206e 6f74 2066 6f75 6e64  ce was not found
+00004540: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00004550: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+00004560: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+00004570: 7475 735f 636f 6465 203d 3d20 3431 323a  tus_code == 412:
+00004580: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+00004590: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+000045a0: 6f6e 2827 4275 7369 6e65 7373 2076 616c  on('Business val
+000045b0: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
+000045c0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+000045d0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+000045e0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+000045f0: 5f63 6f64 6520 3d3d 2034 3232 3a0d 0a20  _code == 422:.. 
+00004600: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00004610: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00004620: 2743 6f6e 7472 6163 7420 7661 6c69 6461  'Contract valida
+00004630: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
+00004640: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00004650: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+00004660: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00004670: 6465 203d 3d20 3530 303a 0d0a 2020 2020  de == 500:..    
+00004680: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00004690: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+000046a0: 7465 726e 616c 2073 6572 7665 7220 6572  ternal server er
+000046b0: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
+000046c0: 0a20 2020 2020 2020 2073 656c 662e 7661  .        self.va
+000046d0: 6c69 6461 7465 5f72 6573 706f 6e73 6528  lidate_response(
+000046e0: 5f63 6f6e 7465 7874 290d 0a0d 0a20 2020  _context)....   
+000046f0: 2020 2020 2023 2052 6574 7572 6e20 6170       # Return ap
+00004700: 7072 6f70 7269 6174 6520 7479 7065 0d0a  propriate type..
+00004710: 2020 2020 2020 2020 7265 7475 726e 2041          return A
+00004720: 5049 4865 6c70 6572 2e6a 736f 6e5f 6465  PIHelper.json_de
+00004730: 7365 7269 616c 697a 6528 5f63 6f6e 7465  serialize(_conte
+00004740: 7874 2e72 6573 706f 6e73 652e 7261 775f  xt.response.raw_
+00004750: 626f 6479 2c20 4765 7453 7562 7363 7269  body, GetSubscri
+00004760: 7074 696f 6e52 6573 706f 6e73 652e 6672  ptionResponse.fr
+00004770: 6f6d 5f64 6963 7469 6f6e 6172 7929 0d0a  om_dictionary)..
+00004780: 0d0a 2020 2020 6465 6620 6465 6c65 7465  ..    def delete
+00004790: 5f69 6e63 7265 6d65 6e74 2873 656c 662c  _increment(self,
+000047a0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000047b0: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
+000047c0: 7269 7074 696f 6e5f 6964 2c0d 0a20 2020  ription_id,..   
+000047d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000047e0: 2020 2020 2020 696e 6372 656d 656e 745f        increment_
+000047f0: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
+00004800: 2020 2020 2020 2020 2020 2020 2020 6964                id
+00004810: 656d 706f 7465 6e63 795f 6b65 793d 4e6f  empotency_key=No
+00004820: 6e65 293a 0d0a 2020 2020 2020 2020 2222  ne):..        ""
+00004830: 2244 6f65 7320 6120 4445 4c45 5445 2072  "Does a DELETE r
+00004840: 6571 7565 7374 2074 6f20 2f73 7562 7363  equest to /subsc
+00004850: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
+00004860: 6970 7469 6f6e 5f69 647d 2f69 6e63 7265  iption_id}/incre
+00004870: 6d65 6e74 732f 7b69 6e63 7265 6d65 6e74  ments/{increment
+00004880: 5f69 647d 2e0d 0a0d 0a20 2020 2020 2020  _id}.....       
+00004890: 2044 656c 6574 6573 2061 2069 6e63 7265   Deletes a incre
+000048a0: 6d65 6e74 0d0a 0d0a 2020 2020 2020 2020  ment....        
+000048b0: 4172 6773 3a0d 0a20 2020 2020 2020 2020  Args:..         
+000048c0: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
+000048d0: 6964 2028 7374 7269 6e67 293a 2053 7562  id (string): Sub
+000048e0: 7363 7269 7074 696f 6e20 6964 0d0a 2020  scription id..  
+000048f0: 2020 2020 2020 2020 2020 696e 6372 656d            increm
+00004900: 656e 745f 6964 2028 7374 7269 6e67 293a  ent_id (string):
+00004910: 2049 6e63 7265 6d65 6e74 2069 640d 0a20   Increment id.. 
+00004920: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
+00004930: 6f74 656e 6379 5f6b 6579 2028 7374 7269  otency_key (stri
+00004940: 6e67 2c20 6f70 7469 6f6e 616c 293a 2054  ng, optional): T
+00004950: 4f44 4f3a 2074 7970 6520 6465 7363 7269  ODO: type descri
+00004960: 7074 696f 6e20 6865 7265 2e0d 0a20 2020  ption here...   
+00004970: 2020 2020 2020 2020 2020 2020 2045 7861               Exa
+00004980: 6d70 6c65 3a20 0d0a 0d0a 2020 2020 2020  mple: ....      
+00004990: 2020 5265 7475 726e 733a 0d0a 2020 2020    Returns:..    
+000049a0: 2020 2020 2020 2020 5375 6273 6372 6970          Subscrip
+000049b0: 7469 6f6e 7349 6e63 7265 6d65 6e74 7352  tionsIncrementsR
+000049c0: 6573 706f 6e73 653a 2052 6573 706f 6e73  esponse: Respons
+000049d0: 6520 6672 6f6d 2074 6865 2041 5049 2e20  e from the API. 
+000049e0: 0d0a 0d0a 2020 2020 2020 2020 5261 6973  ....        Rais
+000049f0: 6573 3a0d 0a20 2020 2020 2020 2020 2020  es:..           
+00004a00: 2041 5049 4578 6365 7074 696f 6e3a 2057   APIException: W
+00004a10: 6865 6e20 616e 2065 7272 6f72 206f 6363  hen an error occ
+00004a20: 7572 7320 7768 696c 6520 6665 7463 6869  urs while fetchi
+00004a30: 6e67 2074 6865 2064 6174 6120 6672 6f6d  ng the data from
+00004a40: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00004a50: 2020 7468 6520 7265 6d6f 7465 2041 5049    the remote API
+00004a60: 2e20 5468 6973 2065 7863 6570 7469 6f6e  . This exception
+00004a70: 2069 6e63 6c75 6465 7320 7468 6520 4854   includes the HT
+00004a80: 5450 2052 6573 706f 6e73 650d 0a20 2020  TP Response..   
+00004a90: 2020 2020 2020 2020 2020 2020 2063 6f64               cod
+00004aa0: 652c 2061 6e20 6572 726f 7220 6d65 7373  e, an error mess
+00004ab0: 6167 652c 2061 6e64 2074 6865 2048 5454  age, and the HTT
+00004ac0: 5020 626f 6479 2074 6861 7420 7761 7320  P body that was 
+00004ad0: 7265 6365 6976 6564 2069 6e0d 0a20 2020  received in..   
+00004ae0: 2020 2020 2020 2020 2020 2020 2074 6865               the
+00004af0: 2072 6571 7565 7374 2e0d 0a0d 0a20 2020   request.....   
+00004b00: 2020 2020 2022 2222 0d0a 0d0a 2020 2020       """....    
+00004b10: 2020 2020 2320 5072 6570 6172 6520 7175      # Prepare qu
+00004b20: 6572 7920 5552 4c0d 0a20 2020 2020 2020  ery URL..       
+00004b30: 205f 7572 6c5f 7061 7468 203d 2027 2f73   _url_path = '/s
+00004b40: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
+00004b50: 6273 6372 6970 7469 6f6e 5f69 647d 2f69  bscription_id}/i
+00004b60: 6e63 7265 6d65 6e74 732f 7b69 6e63 7265  ncrements/{incre
+00004b70: 6d65 6e74 5f69 647d 270d 0a20 2020 2020  ment_id}'..     
+00004b80: 2020 205f 7572 6c5f 7061 7468 203d 2041     _url_path = A
+00004b90: 5049 4865 6c70 6572 2e61 7070 656e 645f  PIHelper.append_
+00004ba0: 7572 6c5f 7769 7468 5f74 656d 706c 6174  url_with_templat
+00004bb0: 655f 7061 7261 6d65 7465 7273 285f 7572  e_parameters(_ur
+00004bc0: 6c5f 7061 7468 2c20 7b20 0d0a 2020 2020  l_path, { ..    
+00004bd0: 2020 2020 2020 2020 2773 7562 7363 7269          'subscri
+00004be0: 7074 696f 6e5f 6964 273a 2073 7562 7363  ption_id': subsc
+00004bf0: 7269 7074 696f 6e5f 6964 2c0d 0a20 2020  ription_id,..   
+00004c00: 2020 2020 2020 2020 2027 696e 6372 656d           'increm
+00004c10: 656e 745f 6964 273a 2069 6e63 7265 6d65  ent_id': increme
+00004c20: 6e74 5f69 640d 0a20 2020 2020 2020 207d  nt_id..        }
+00004c30: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
+00004c40: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
+00004c50: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
+00004c60: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
+00004c70: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
+00004c80: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
+00004c90: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
+00004ca0: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
+00004cb0: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
+00004cc0: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
+00004cd0: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
+00004ce0: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
+00004cf0: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+00004d00: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
+00004d10: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
+00004d20: 0a20 2020 2020 2020 2020 2020 2027 5365  .            'Se
+00004d30: 7276 6963 6552 6566 6572 6572 4e61 6d65  rviceRefererName
+00004d40: 273a 2043 6f6e 6669 6775 7261 7469 6f6e  ': Configuration
+00004d50: 2e73 6572 7669 6365 5f72 6566 6572 6572  .service_referer
+00004d60: 5f6e 616d 652c 0d0a 2020 2020 2020 2020  _name,..        
+00004d70: 2020 2020 2769 6465 6d70 6f74 656e 6379      'idempotency
+00004d80: 2d6b 6579 273a 2069 6465 6d70 6f74 656e  -key': idempoten
+00004d90: 6379 5f6b 6579 0d0a 2020 2020 2020 2020  cy_key..        
+00004da0: 7d0d 0a0d 0a20 2020 2020 2020 2023 2050  }....        # P
+00004db0: 7265 7061 7265 2061 6e64 2065 7865 6375  repare and execu
+00004dc0: 7465 2072 6571 7565 7374 0d0a 2020 2020  te request..    
+00004dd0: 2020 2020 5f72 6571 7565 7374 203d 2073      _request = s
+00004de0: 656c 662e 6874 7470 5f63 6c69 656e 742e  elf.http_client.
+00004df0: 6465 6c65 7465 285f 7175 6572 795f 7572  delete(_query_ur
+00004e00: 6c2c 2068 6561 6465 7273 3d5f 6865 6164  l, headers=_head
+00004e10: 6572 7329 0d0a 2020 2020 2020 2020 4261  ers)..        Ba
+00004e20: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
+00004e30: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
+00004e40: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
+00004e50: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
+00004e60: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
+00004e70: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
+00004e80: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
+00004e90: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
+00004ea0: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
+00004eb0: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
+00004ec0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00004ed0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00004ee0: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
+00004ef0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00004f00: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+00004f10: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
+00004f20: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00004f30: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00004f40: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00004f50: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
+00004f60: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00004f70: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
+00004f80: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
+00004f90: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00004fa0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00004fb0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00004fc0: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
+00004fd0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00004fe0: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
+00004ff0: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
+00005000: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
+00005010: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
+00005020: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+00005030: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+00005040: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
+00005050: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00005060: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+00005070: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
+00005080: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
+00005090: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+000050a0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+000050b0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+000050c0: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
+000050d0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+000050e0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+000050f0: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
+00005100: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+00005110: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00005120: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00005130: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00005140: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
+00005150: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00005160: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
+00005170: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
+00005180: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
+00005190: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
+000051a0: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
+000051b0: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
+000051c0: 2020 2020 2020 2320 5265 7475 726e 2061        # Return a
+000051d0: 7070 726f 7072 6961 7465 2074 7970 650d  ppropriate type.
+000051e0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000051f0: 4150 4948 656c 7065 722e 6a73 6f6e 5f64  APIHelper.json_d
+00005200: 6573 6572 6961 6c69 7a65 285f 636f 6e74  eserialize(_cont
+00005210: 6578 742e 7265 7370 6f6e 7365 2e72 6177  ext.response.raw
+00005220: 5f62 6f64 792c 2053 7562 7363 7269 7074  _body, Subscript
+00005230: 696f 6e73 496e 6372 656d 656e 7473 5265  ionsIncrementsRe
+00005240: 7370 6f6e 7365 2e66 726f 6d5f 6469 6374  sponse.from_dict
+00005250: 696f 6e61 7279 290d 0a0d 0a20 2020 2064  ionary)....    d
+00005260: 6566 2067 6574 5f69 6e63 7265 6d65 6e74  ef get_increment
+00005270: 5f62 795f 6964 2873 656c 662c 0d0a 2020  _by_id(self,..  
+00005280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005290: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
+000052a0: 6970 7469 6f6e 5f69 642c 0d0a 2020 2020  iption_id,..    
+000052b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000052c0: 2020 2020 2020 2020 696e 6372 656d 656e          incremen
+000052d0: 745f 6964 293a 0d0a 2020 2020 2020 2020  t_id):..        
+000052e0: 2222 2244 6f65 7320 6120 4745 5420 7265  """Does a GET re
+000052f0: 7175 6573 7420 746f 202f 7375 6273 6372  quest to /subscr
+00005300: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
+00005310: 7074 696f 6e5f 6964 7d2f 696e 6372 656d  ption_id}/increm
+00005320: 656e 7473 2f7b 696e 6372 656d 656e 745f  ents/{increment_
+00005330: 6964 7d2e 0d0a 0d0a 2020 2020 2020 2020  id}.....        
+00005340: 4765 7449 6e63 7265 6d65 6e74 4279 4964  GetIncrementById
+00005350: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
+00005360: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
+00005370: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
+00005380: 7374 7269 6e67 293a 2054 6865 2073 7562  string): The sub
+00005390: 7363 7269 7074 696f 6e20 4964 0d0a 2020  scription Id..  
+000053a0: 2020 2020 2020 2020 2020 696e 6372 656d            increm
+000053b0: 656e 745f 6964 2028 7374 7269 6e67 293a  ent_id (string):
+000053c0: 2054 6865 2069 6e63 7265 6d65 6e74 2049   The increment I
+000053d0: 640d 0a0d 0a20 2020 2020 2020 2052 6574  d....        Ret
+000053e0: 7572 6e73 3a0d 0a20 2020 2020 2020 2020  urns:..         
+000053f0: 2020 2053 7562 7363 7269 7074 696f 6e73     Subscriptions
+00005400: 496e 6372 656d 656e 7473 5265 7370 6f6e  IncrementsRespon
+00005410: 7365 3a20 5265 7370 6f6e 7365 2066 726f  se: Response fro
+00005420: 6d20 7468 6520 4150 492e 200d 0a0d 0a20  m the API. .... 
+00005430: 2020 2020 2020 2052 6169 7365 733a 0d0a         Raises:..
+00005440: 2020 2020 2020 2020 2020 2020 4150 4945              APIE
+00005450: 7863 6570 7469 6f6e 3a20 5768 656e 2061  xception: When a
+00005460: 6e20 6572 726f 7220 6f63 6375 7273 2077  n error occurs w
+00005470: 6869 6c65 2066 6574 6368 696e 6720 7468  hile fetching th
+00005480: 6520 6461 7461 2066 726f 6d0d 0a20 2020  e data from..   
+00005490: 2020 2020 2020 2020 2020 2020 2074 6865               the
+000054a0: 2072 656d 6f74 6520 4150 492e 2054 6869   remote API. Thi
+000054b0: 7320 6578 6365 7074 696f 6e20 696e 636c  s exception incl
+000054c0: 7564 6573 2074 6865 2048 5454 5020 5265  udes the HTTP Re
+000054d0: 7370 6f6e 7365 0d0a 2020 2020 2020 2020  sponse..        
+000054e0: 2020 2020 2020 2020 636f 6465 2c20 616e          code, an
+000054f0: 2065 7272 6f72 206d 6573 7361 6765 2c20   error message, 
+00005500: 616e 6420 7468 6520 4854 5450 2062 6f64  and the HTTP bod
+00005510: 7920 7468 6174 2077 6173 2072 6563 6569  y that was recei
+00005520: 7665 6420 696e 0d0a 2020 2020 2020 2020  ved in..        
+00005530: 2020 2020 2020 2020 7468 6520 7265 7175          the requ
+00005540: 6573 742e 0d0a 0d0a 2020 2020 2020 2020  est.....        
+00005550: 2222 220d 0a0d 0a20 2020 2020 2020 2023  """....        #
+00005560: 2050 7265 7061 7265 2071 7565 7279 2055   Prepare query U
+00005570: 524c 0d0a 2020 2020 2020 2020 5f75 726c  RL..        _url
+00005580: 5f70 6174 6820 3d20 272f 7375 6273 6372  _path = '/subscr
+00005590: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
+000055a0: 7074 696f 6e5f 6964 7d2f 696e 6372 656d  ption_id}/increm
+000055b0: 656e 7473 2f7b 696e 6372 656d 656e 745f  ents/{increment_
+000055c0: 6964 7d27 0d0a 2020 2020 2020 2020 5f75  id}'..        _u
+000055d0: 726c 5f70 6174 6820 3d20 4150 4948 656c  rl_path = APIHel
+000055e0: 7065 722e 6170 7065 6e64 5f75 726c 5f77  per.append_url_w
+000055f0: 6974 685f 7465 6d70 6c61 7465 5f70 6172  ith_template_par
+00005600: 616d 6574 6572 7328 5f75 726c 5f70 6174  ameters(_url_pat
+00005610: 682c 207b 200d 0a20 2020 2020 2020 2020  h, { ..         
+00005620: 2020 2027 7375 6273 6372 6970 7469 6f6e     'subscription
+00005630: 5f69 6427 3a20 7375 6273 6372 6970 7469  _id': subscripti
+00005640: 6f6e 5f69 642c 0d0a 2020 2020 2020 2020  on_id,..        
+00005650: 2020 2020 2769 6e63 7265 6d65 6e74 5f69      'increment_i
+00005660: 6427 3a20 696e 6372 656d 656e 745f 6964  d': increment_id
+00005670: 0d0a 2020 2020 2020 2020 7d29 0d0a 2020  ..        })..  
+00005680: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
+00005690: 6c64 6572 203d 2043 6f6e 6669 6775 7261  lder = Configura
+000056a0: 7469 6f6e 2e62 6173 655f 7572 690d 0a20  tion.base_uri.. 
+000056b0: 2020 2020 2020 205f 7175 6572 795f 6275         _query_bu
+000056c0: 696c 6465 7220 2b3d 205f 7572 6c5f 7061  ilder += _url_pa
+000056d0: 7468 0d0a 2020 2020 2020 2020 5f71 7565  th..        _que
+000056e0: 7279 5f75 726c 203d 2041 5049 4865 6c70  ry_url = APIHelp
+000056f0: 6572 2e63 6c65 616e 5f75 726c 285f 7175  er.clean_url(_qu
+00005700: 6572 795f 6275 696c 6465 7229 0d0a 0d0a  ery_builder)....
+00005710: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+00005720: 6520 6865 6164 6572 730d 0a20 2020 2020  e headers..     
+00005730: 2020 205f 6865 6164 6572 7320 3d20 7b0d     _headers = {.
+00005740: 0a20 2020 2020 2020 2020 2020 2027 6163  .            'ac
+00005750: 6365 7074 273a 2027 6170 706c 6963 6174  cept': 'applicat
+00005760: 696f 6e2f 6a73 6f6e 272c 0d0a 2020 2020  ion/json',..    
+00005770: 2020 2020 2020 2020 2753 6572 7669 6365          'Service
+00005780: 5265 6665 7265 724e 616d 6527 3a20 436f  RefererName': Co
+00005790: 6e66 6967 7572 6174 696f 6e2e 7365 7276  nfiguration.serv
+000057a0: 6963 655f 7265 6665 7265 725f 6e61 6d65  ice_referer_name
+000057b0: 0d0a 2020 2020 2020 2020 7d0d 0a0d 0a20  ..        }.... 
+000057c0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
+000057d0: 2061 6e64 2065 7865 6375 7465 2072 6571   and execute req
+000057e0: 7565 7374 0d0a 2020 2020 2020 2020 5f72  uest..        _r
+000057f0: 6571 7565 7374 203d 2073 656c 662e 6874  equest = self.ht
+00005800: 7470 5f63 6c69 656e 742e 6765 7428 5f71  tp_client.get(_q
+00005810: 7565 7279 5f75 726c 2c20 6865 6164 6572  uery_url, header
+00005820: 733d 5f68 6561 6465 7273 290d 0a20 2020  s=_headers)..   
+00005830: 2020 2020 2042 6173 6963 4175 7468 2e61       BasicAuth.a
+00005840: 7070 6c79 285f 7265 7175 6573 7429 0d0a  pply(_request)..
+00005850: 2020 2020 2020 2020 5f63 6f6e 7465 7874          _context
+00005860: 203d 2073 656c 662e 6578 6563 7574 655f   = self.execute_
+00005870: 7265 7175 6573 7428 5f72 6571 7565 7374  request(_request
+00005880: 290d 0a0d 0a20 2020 2020 2020 2023 2045  )....        # E
+00005890: 6e64 706f 696e 7420 616e 6420 676c 6f62  ndpoint and glob
+000058a0: 616c 2065 7272 6f72 2068 616e 646c 696e  al error handlin
+000058b0: 6720 7573 696e 6720 4854 5450 2073 7461  g using HTTP sta
+000058c0: 7475 7320 636f 6465 732e 0d0a 2020 2020  tus codes...    
+000058d0: 2020 2020 6966 205f 636f 6e74 6578 742e      if _context.
+000058e0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+000058f0: 636f 6465 203d 3d20 3430 303a 0d0a 2020  code == 400:..  
+00005900: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00005910: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00005920: 496e 7661 6c69 6420 7265 7175 6573 7427  Invalid request'
+00005930: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00005940: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00005950: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00005960: 7573 5f63 6f64 6520 3d3d 2034 3031 3a0d  us_code == 401:.
+00005970: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00005980: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00005990: 6e28 2749 6e76 616c 6964 2041 5049 206b  n('Invalid API k
+000059a0: 6579 272c 205f 636f 6e74 6578 7429 0d0a  ey', _context)..
+000059b0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+000059c0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+000059d0: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+000059e0: 343a 0d0a 2020 2020 2020 2020 2020 2020  4:..            
+000059f0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00005a00: 7469 6f6e 2827 416e 2069 6e66 6f72 6d65  tion('An informe
+00005a10: 6420 7265 736f 7572 6365 2077 6173 206e  d resource was n
+00005a20: 6f74 2066 6f75 6e64 272c 205f 636f 6e74  ot found', _cont
+00005a30: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00005a40: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00005a50: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00005a60: 203d 3d20 3431 323a 0d0a 2020 2020 2020   == 412:..      
+00005a70: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00005a80: 7245 7863 6570 7469 6f6e 2827 4275 7369  rException('Busi
+00005a90: 6e65 7373 2076 616c 6964 6174 696f 6e20  ness validation 
+00005aa0: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
+00005ab0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00005ac0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00005ad0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00005ae0: 2034 3232 3a0d 0a20 2020 2020 2020 2020   422:..         
+00005af0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00005b00: 6365 7074 696f 6e28 2743 6f6e 7472 6163  ception('Contrac
+00005b10: 7420 7661 6c69 6461 7469 6f6e 2065 7272  t validation err
+00005b20: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+00005b30: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00005b40: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00005b50: 7461 7475 735f 636f 6465 203d 3d20 3530  tatus_code == 50
+00005b60: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+00005b70: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00005b80: 7469 6f6e 2827 496e 7465 726e 616c 2073  tion('Internal s
+00005b90: 6572 7665 7220 6572 726f 7227 2c20 5f63  erver error', _c
+00005ba0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00005bb0: 2073 656c 662e 7661 6c69 6461 7465 5f72   self.validate_r
+00005bc0: 6573 706f 6e73 6528 5f63 6f6e 7465 7874  esponse(_context
+00005bd0: 290d 0a0d 0a20 2020 2020 2020 2023 2052  )....        # R
+00005be0: 6574 7572 6e20 6170 7072 6f70 7269 6174  eturn appropriat
+00005bf0: 6520 7479 7065 0d0a 2020 2020 2020 2020  e type..        
+00005c00: 7265 7475 726e 2041 5049 4865 6c70 6572  return APIHelper
+00005c10: 2e6a 736f 6e5f 6465 7365 7269 616c 697a  .json_deserializ
+00005c20: 6528 5f63 6f6e 7465 7874 2e72 6573 706f  e(_context.respo
+00005c30: 6e73 652e 7261 775f 626f 6479 2c20 5375  nse.raw_body, Su
+00005c40: 6273 6372 6970 7469 6f6e 7349 6e63 7265  bscriptionsIncre
+00005c50: 6d65 6e74 7352 6573 706f 6e73 652e 6672  mentsResponse.fr
+00005c60: 6f6d 5f64 6963 7469 6f6e 6172 7929 0d0a  om_dictionary)..
+00005c70: 0d0a 2020 2020 6465 6620 6765 745f 7375  ..    def get_su
+00005c80: 6273 6372 6970 7469 6f6e 5f63 7963 6c65  bscription_cycle
+00005c90: 5f62 795f 6964 2873 656c 662c 0d0a 2020  _by_id(self,..  
+00005ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005cc0: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
+00005cd0: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
+00005ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005cf0: 2020 2020 2020 2020 2020 6379 636c 655f            cycle_
+00005d00: 6964 293a 0d0a 2020 2020 2020 2020 2222  id):..        ""
+00005d10: 2244 6f65 7320 6120 4745 5420 7265 7175  "Does a GET requ
+00005d20: 6573 7420 746f 202f 7375 6273 6372 6970  est to /subscrip
+00005d30: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
+00005d40: 696f 6e5f 6964 7d2f 6379 636c 6573 2f7b  ion_id}/cycles/{
+00005d50: 6379 636c 6549 647d 2e0d 0a0d 0a20 2020  cycleId}.....   
+00005d60: 2020 2020 2047 6574 5375 6273 6372 6970       GetSubscrip
+00005d70: 7469 6f6e 4379 636c 6542 7949 640d 0a0d  tionCycleById...
+00005d80: 0a20 2020 2020 2020 2041 7267 733a 0d0a  .        Args:..
+00005d90: 2020 2020 2020 2020 2020 2020 7375 6273              subs
+00005da0: 6372 6970 7469 6f6e 5f69 6420 2873 7472  cription_id (str
+00005db0: 696e 6729 3a20 5468 6520 7375 6273 6372  ing): The subscr
+00005dc0: 6970 7469 6f6e 2069 640d 0a20 2020 2020  iption id..     
+00005dd0: 2020 2020 2020 2063 7963 6c65 5f69 6420         cycle_id 
+00005de0: 2873 7472 696e 6729 3a20 544f 444f 3a20  (string): TODO: 
+00005df0: 7479 7065 2064 6573 6372 6970 7469 6f6e  type description
+00005e00: 2068 6572 652e 2045 7861 6d70 6c65 3a20   here. Example: 
+00005e10: 0d0a 0d0a 2020 2020 2020 2020 5265 7475  ....        Retu
+00005e20: 726e 733a 0d0a 2020 2020 2020 2020 2020  rns:..          
+00005e30: 2020 5375 6273 6372 6970 7469 6f6e 7343    SubscriptionsC
+00005e40: 7963 6c65 7352 6573 706f 6e73 653a 2052  yclesResponse: R
+00005e50: 6573 706f 6e73 6520 6672 6f6d 2074 6865  esponse from the
+00005e60: 2041 5049 2e20 0d0a 0d0a 2020 2020 2020   API. ....      
+00005e70: 2020 5261 6973 6573 3a0d 0a20 2020 2020    Raises:..     
+00005e80: 2020 2020 2020 2041 5049 4578 6365 7074         APIExcept
+00005e90: 696f 6e3a 2057 6865 6e20 616e 2065 7272  ion: When an err
+00005ea0: 6f72 206f 6363 7572 7320 7768 696c 6520  or occurs while 
+00005eb0: 6665 7463 6869 6e67 2074 6865 2064 6174  fetching the dat
+00005ec0: 6120 6672 6f6d 0d0a 2020 2020 2020 2020  a from..        
+00005ed0: 2020 2020 2020 2020 7468 6520 7265 6d6f          the remo
+00005ee0: 7465 2041 5049 2e20 5468 6973 2065 7863  te API. This exc
+00005ef0: 6570 7469 6f6e 2069 6e63 6c75 6465 7320  eption includes 
+00005f00: 7468 6520 4854 5450 2052 6573 706f 6e73  the HTTP Respons
+00005f10: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
+00005f20: 2020 2063 6f64 652c 2061 6e20 6572 726f     code, an erro
+00005f30: 7220 6d65 7373 6167 652c 2061 6e64 2074  r message, and t
+00005f40: 6865 2048 5454 5020 626f 6479 2074 6861  he HTTP body tha
+00005f50: 7420 7761 7320 7265 6365 6976 6564 2069  t was received i
+00005f60: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
+00005f70: 2020 2074 6865 2072 6571 7565 7374 2e0d     the request..
+00005f80: 0a0d 0a20 2020 2020 2020 2022 2222 0d0a  ...        """..
+00005f90: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+00005fa0: 6172 6520 7175 6572 7920 5552 4c0d 0a20  are query URL.. 
+00005fb0: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
+00005fc0: 203d 2027 2f73 7562 7363 7269 7074 696f   = '/subscriptio
+00005fd0: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
+00005fe0: 5f69 647d 2f63 7963 6c65 732f 7b63 7963  _id}/cycles/{cyc
+00005ff0: 6c65 4964 7d27 0d0a 2020 2020 2020 2020  leId}'..        
+00006000: 5f75 726c 5f70 6174 6820 3d20 4150 4948  _url_path = APIH
+00006010: 656c 7065 722e 6170 7065 6e64 5f75 726c  elper.append_url
+00006020: 5f77 6974 685f 7465 6d70 6c61 7465 5f70  _with_template_p
+00006030: 6172 616d 6574 6572 7328 5f75 726c 5f70  arameters(_url_p
+00006040: 6174 682c 207b 200d 0a20 2020 2020 2020  ath, { ..       
+00006050: 2020 2020 2027 7375 6273 6372 6970 7469       'subscripti
+00006060: 6f6e 5f69 6427 3a20 7375 6273 6372 6970  on_id': subscrip
+00006070: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
+00006080: 2020 2020 2020 2763 7963 6c65 4964 273a        'cycleId':
+00006090: 2063 7963 6c65 5f69 640d 0a20 2020 2020   cycle_id..     
+000060a0: 2020 207d 290d 0a20 2020 2020 2020 205f     })..        _
+000060b0: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
+000060c0: 436f 6e66 6967 7572 6174 696f 6e2e 6261  Configuration.ba
+000060d0: 7365 5f75 7269 0d0a 2020 2020 2020 2020  se_uri..        
+000060e0: 5f71 7565 7279 5f62 7569 6c64 6572 202b  _query_builder +
+000060f0: 3d20 5f75 726c 5f70 6174 680d 0a20 2020  = _url_path..   
+00006100: 2020 2020 205f 7175 6572 795f 7572 6c20       _query_url 
+00006110: 3d20 4150 4948 656c 7065 722e 636c 6561  = APIHelper.clea
+00006120: 6e5f 7572 6c28 5f71 7565 7279 5f62 7569  n_url(_query_bui
+00006130: 6c64 6572 290d 0a0d 0a20 2020 2020 2020  lder)....       
+00006140: 2023 2050 7265 7061 7265 2068 6561 6465   # Prepare heade
+00006150: 7273 0d0a 2020 2020 2020 2020 5f68 6561  rs..        _hea
+00006160: 6465 7273 203d 207b 0d0a 2020 2020 2020  ders = {..      
+00006170: 2020 2020 2020 2761 6363 6570 7427 3a20        'accept': 
+00006180: 2761 7070 6c69 6361 7469 6f6e 2f6a 736f  'application/jso
+00006190: 6e27 2c0d 0a20 2020 2020 2020 2020 2020  n',..           
+000061a0: 2027 5365 7276 6963 6552 6566 6572 6572   'ServiceReferer
+000061b0: 4e61 6d65 273a 2043 6f6e 6669 6775 7261  Name': Configura
+000061c0: 7469 6f6e 2e73 6572 7669 6365 5f72 6566  tion.service_ref
+000061d0: 6572 6572 5f6e 616d 650d 0a20 2020 2020  erer_name..     
+000061e0: 2020 207d 0d0a 0d0a 2020 2020 2020 2020     }....        
+000061f0: 2320 5072 6570 6172 6520 616e 6420 6578  # Prepare and ex
+00006200: 6563 7574 6520 7265 7175 6573 740d 0a20  ecute request.. 
+00006210: 2020 2020 2020 205f 7265 7175 6573 7420         _request 
+00006220: 3d20 7365 6c66 2e68 7474 705f 636c 6965  = self.http_clie
+00006230: 6e74 2e67 6574 285f 7175 6572 795f 7572  nt.get(_query_ur
+00006240: 6c2c 2068 6561 6465 7273 3d5f 6865 6164  l, headers=_head
+00006250: 6572 7329 0d0a 2020 2020 2020 2020 4261  ers)..        Ba
+00006260: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
+00006270: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
+00006280: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
+00006290: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
+000062a0: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
+000062b0: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
+000062c0: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
+000062d0: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
+000062e0: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
+000062f0: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
+00006300: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00006310: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00006320: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
+00006330: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00006340: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+00006350: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
+00006360: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00006370: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00006380: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00006390: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
+000063a0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+000063b0: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
+000063c0: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
+000063d0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+000063e0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+000063f0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00006400: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
+00006410: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00006420: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
+00006430: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
+00006440: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
+00006450: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
+00006460: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+00006470: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+00006480: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
+00006490: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+000064a0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+000064b0: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
+000064c0: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
+000064d0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+000064e0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+000064f0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00006500: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
+00006510: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00006520: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00006530: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
+00006540: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+00006550: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00006560: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00006570: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00006580: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
+00006590: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+000065a0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
+000065b0: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
+000065c0: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
+000065d0: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
+000065e0: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
+000065f0: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
+00006600: 2020 2020 2020 2320 5265 7475 726e 2061        # Return a
+00006610: 7070 726f 7072 6961 7465 2074 7970 650d  ppropriate type.
+00006620: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00006630: 4150 4948 656c 7065 722e 6a73 6f6e 5f64  APIHelper.json_d
+00006640: 6573 6572 6961 6c69 7a65 285f 636f 6e74  eserialize(_cont
+00006650: 6578 742e 7265 7370 6f6e 7365 2e72 6177  ext.response.raw
+00006660: 5f62 6f64 792c 2053 7562 7363 7269 7074  _body, Subscript
+00006670: 696f 6e73 4379 636c 6573 5265 7370 6f6e  ionsCyclesRespon
+00006680: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
+00006690: 7279 290d 0a0d 0a20 2020 2064 6566 2075  ry)....    def u
+000066a0: 7064 6174 655f 7375 6273 6372 6970 7469  pdate_subscripti
+000066b0: 6f6e 5f73 7461 7274 5f61 7428 7365 6c66  on_start_at(self
+000066c0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+000066d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000066e0: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
+000066f0: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
+00006700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006710: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+00006720: 6f64 792c 0d0a 2020 2020 2020 2020 2020  ody,..          
+00006730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006740: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
+00006750: 6f74 656e 6379 5f6b 6579 3d4e 6f6e 6529  otency_key=None)
+00006760: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
+00006770: 6573 2061 2050 4154 4348 2072 6571 7565  es a PATCH reque
+00006780: 7374 2074 6f20 2f73 7562 7363 7269 7074  st to /subscript
+00006790: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
+000067a0: 6f6e 5f69 647d 2f73 7461 7274 2d61 742e  on_id}/start-at.
+000067b0: 0d0a 0d0a 2020 2020 2020 2020 5570 6461  ....        Upda
+000067c0: 7465 7320 7468 6520 7374 6172 7420 6174  tes the start at
+000067d0: 2064 6174 6520 6672 6f6d 2061 2073 7562   date from a sub
+000067e0: 7363 7269 7074 696f 6e0d 0a0d 0a20 2020  scription....   
+000067f0: 2020 2020 2041 7267 733a 0d0a 2020 2020       Args:..    
+00006800: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
+00006810: 7469 6f6e 5f69 6420 2873 7472 696e 6729  tion_id (string)
+00006820: 3a20 5468 6520 7375 6273 6372 6970 7469  : The subscripti
+00006830: 6f6e 2069 640d 0a20 2020 2020 2020 2020  on id..         
+00006840: 2020 2062 6f64 7920 2853 7562 7363 7269     body (Subscri
+00006850: 7074 696f 6e73 5374 6172 7441 7452 6571  ptionsStartAtReq
+00006860: 7565 7374 293a 2052 6571 7565 7374 2066  uest): Request f
+00006870: 6f72 2075 7064 6174 696e 6720 7468 650d  or updating the.
+00006880: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006890: 2073 7562 7363 7269 7074 696f 6e20 7374   subscription st
+000068a0: 6172 7420 6461 7465 0d0a 2020 2020 2020  art date..      
+000068b0: 2020 2020 2020 6964 656d 706f 7465 6e63        idempotenc
+000068c0: 795f 6b65 7920 2873 7472 696e 672c 206f  y_key (string, o
+000068d0: 7074 696f 6e61 6c29 3a20 544f 444f 3a20  ptional): TODO: 
+000068e0: 7479 7065 2064 6573 6372 6970 7469 6f6e  type description
+000068f0: 2068 6572 652e 0d0a 2020 2020 2020 2020   here...        
+00006900: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
+00006910: 200d 0a0d 0a20 2020 2020 2020 2052 6574   ....        Ret
+00006920: 7572 6e73 3a0d 0a20 2020 2020 2020 2020  urns:..         
+00006930: 2020 2047 6574 5375 6273 6372 6970 7469     GetSubscripti
+00006940: 6f6e 5265 7370 6f6e 7365 3a20 5265 7370  onResponse: Resp
+00006950: 6f6e 7365 2066 726f 6d20 7468 6520 4150  onse from the AP
+00006960: 492e 200d 0a0d 0a20 2020 2020 2020 2052  I. ....        R
+00006970: 6169 7365 733a 0d0a 2020 2020 2020 2020  aises:..        
+00006980: 2020 2020 4150 4945 7863 6570 7469 6f6e      APIException
+00006990: 3a20 5768 656e 2061 6e20 6572 726f 7220  : When an error 
+000069a0: 6f63 6375 7273 2077 6869 6c65 2066 6574  occurs while fet
+000069b0: 6368 696e 6720 7468 6520 6461 7461 2066  ching the data f
+000069c0: 726f 6d0d 0a20 2020 2020 2020 2020 2020  rom..           
+000069d0: 2020 2020 2074 6865 2072 656d 6f74 6520       the remote 
+000069e0: 4150 492e 2054 6869 7320 6578 6365 7074  API. This except
+000069f0: 696f 6e20 696e 636c 7564 6573 2074 6865  ion includes the
+00006a00: 2048 5454 5020 5265 7370 6f6e 7365 0d0a   HTTP Response..
+00006a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006a20: 636f 6465 2c20 616e 2065 7272 6f72 206d  code, an error m
+00006a30: 6573 7361 6765 2c20 616e 6420 7468 6520  essage, and the 
+00006a40: 4854 5450 2062 6f64 7920 7468 6174 2077  HTTP body that w
+00006a50: 6173 2072 6563 6569 7665 6420 696e 0d0a  as received in..
+00006a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006a70: 7468 6520 7265 7175 6573 742e 0d0a 0d0a  the request.....
+00006a80: 2020 2020 2020 2020 2222 220d 0a0d 0a20          """.... 
+00006a90: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
+00006aa0: 2071 7565 7279 2055 524c 0d0a 2020 2020   query URL..    
+00006ab0: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
+00006ac0: 272f 7375 6273 6372 6970 7469 6f6e 732f  '/subscriptions/
+00006ad0: 7b73 7562 7363 7269 7074 696f 6e5f 6964  {subscription_id
+00006ae0: 7d2f 7374 6172 742d 6174 270d 0a20 2020  }/start-at'..   
+00006af0: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
+00006b00: 2041 5049 4865 6c70 6572 2e61 7070 656e   APIHelper.appen
+00006b10: 645f 7572 6c5f 7769 7468 5f74 656d 706c  d_url_with_templ
+00006b20: 6174 655f 7061 7261 6d65 7465 7273 285f  ate_parameters(_
+00006b30: 7572 6c5f 7061 7468 2c20 7b20 0d0a 2020  url_path, { ..  
+00006b40: 2020 2020 2020 2020 2020 2773 7562 7363            'subsc
+00006b50: 7269 7074 696f 6e5f 6964 273a 2073 7562  ription_id': sub
+00006b60: 7363 7269 7074 696f 6e5f 6964 0d0a 2020  scription_id..  
+00006b70: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
+00006b80: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
+00006b90: 203d 2043 6f6e 6669 6775 7261 7469 6f6e   = Configuration
+00006ba0: 2e62 6173 655f 7572 690d 0a20 2020 2020  .base_uri..     
+00006bb0: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
+00006bc0: 7220 2b3d 205f 7572 6c5f 7061 7468 0d0a  r += _url_path..
+00006bd0: 2020 2020 2020 2020 5f71 7565 7279 5f75          _query_u
+00006be0: 726c 203d 2041 5049 4865 6c70 6572 2e63  rl = APIHelper.c
+00006bf0: 6c65 616e 5f75 726c 285f 7175 6572 795f  lean_url(_query_
+00006c00: 6275 696c 6465 7229 0d0a 0d0a 2020 2020  builder)....    
+00006c10: 2020 2020 2320 5072 6570 6172 6520 6865      # Prepare he
+00006c20: 6164 6572 730d 0a20 2020 2020 2020 205f  aders..        _
+00006c30: 6865 6164 6572 7320 3d20 7b0d 0a20 2020  headers = {..   
+00006c40: 2020 2020 2020 2020 2027 6163 6365 7074           'accept
+00006c50: 273a 2027 6170 706c 6963 6174 696f 6e2f  ': 'application/
+00006c60: 6a73 6f6e 272c 0d0a 2020 2020 2020 2020  json',..        
+00006c70: 2020 2020 2753 6572 7669 6365 5265 6665      'ServiceRefe
+00006c80: 7265 724e 616d 6527 3a20 436f 6e66 6967  rerName': Config
+00006c90: 7572 6174 696f 6e2e 7365 7276 6963 655f  uration.service_
+00006ca0: 7265 6665 7265 725f 6e61 6d65 2c0d 0a20  referer_name,.. 
+00006cb0: 2020 2020 2020 2020 2020 2027 436f 6e74             'Cont
+00006cc0: 656e 742d 5479 7065 273a 2027 6170 706c  ent-Type': 'appl
+00006cd0: 6963 6174 696f 6e2f 6a73 6f6e 272c 0d0a  ication/json',..
+00006ce0: 2020 2020 2020 2020 2020 2020 2769 6465              'ide
+00006cf0: 6d70 6f74 656e 6379 2d6b 6579 273a 2069  mpotency-key': i
+00006d00: 6465 6d70 6f74 656e 6379 5f6b 6579 0d0a  dempotency_key..
+00006d10: 2020 2020 2020 2020 7d0d 0a0d 0a20 2020          }....   
+00006d20: 2020 2020 2023 2050 7265 7061 7265 2061       # Prepare a
+00006d30: 6e64 2065 7865 6375 7465 2072 6571 7565  nd execute reque
+00006d40: 7374 0d0a 2020 2020 2020 2020 5f72 6571  st..        _req
+00006d50: 7565 7374 203d 2073 656c 662e 6874 7470  uest = self.http
+00006d60: 5f63 6c69 656e 742e 7061 7463 6828 5f71  _client.patch(_q
+00006d70: 7565 7279 5f75 726c 2c20 6865 6164 6572  uery_url, header
+00006d80: 733d 5f68 6561 6465 7273 2c20 7061 7261  s=_headers, para
+00006d90: 6d65 7465 7273 3d41 5049 4865 6c70 6572  meters=APIHelper
+00006da0: 2e6a 736f 6e5f 7365 7269 616c 697a 6528  .json_serialize(
+00006db0: 626f 6479 2929 0d0a 2020 2020 2020 2020  body))..        
+00006dc0: 4261 7369 6341 7574 682e 6170 706c 7928  BasicAuth.apply(
+00006dd0: 5f72 6571 7565 7374 290d 0a20 2020 2020  _request)..     
+00006de0: 2020 205f 636f 6e74 6578 7420 3d20 7365     _context = se
+00006df0: 6c66 2e65 7865 6375 7465 5f72 6571 7565  lf.execute_reque
+00006e00: 7374 285f 7265 7175 6573 7429 0d0a 0d0a  st(_request)....
+00006e10: 2020 2020 2020 2020 2320 456e 6470 6f69          # Endpoi
+00006e20: 6e74 2061 6e64 2067 6c6f 6261 6c20 6572  nt and global er
+00006e30: 726f 7220 6861 6e64 6c69 6e67 2075 7369  ror handling usi
+00006e40: 6e67 2048 5454 5020 7374 6174 7573 2063  ng HTTP status c
+00006e50: 6f64 6573 2e0d 0a20 2020 2020 2020 2069  odes...        i
+00006e60: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00006e70: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00006e80: 3d3d 2034 3030 3a0d 0a20 2020 2020 2020  == 400:..       
+00006e90: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00006ea0: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
+00006eb0: 6964 2072 6571 7565 7374 272c 205f 636f  id request', _co
+00006ec0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00006ed0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+00006ee0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00006ef0: 6465 203d 3d20 3430 313a 0d0a 2020 2020  de == 401:..    
+00006f00: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00006f10: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+00006f20: 7661 6c69 6420 4150 4920 6b65 7927 2c20  valid API key', 
+00006f30: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00006f40: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+00006f50: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00006f60: 5f63 6f64 6520 3d3d 2034 3034 3a0d 0a20  _code == 404:.. 
+00006f70: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00006f80: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00006f90: 2741 6e20 696e 666f 726d 6564 2072 6573  'An informed res
+00006fa0: 6f75 7263 6520 7761 7320 6e6f 7420 666f  ource was not fo
+00006fb0: 756e 6427 2c20 5f63 6f6e 7465 7874 290d  und', _context).
+00006fc0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00006fd0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00006fe0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00006ff0: 3132 3a0d 0a20 2020 2020 2020 2020 2020  12:..           
+00007000: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+00007010: 7074 696f 6e28 2742 7573 696e 6573 7320  ption('Business 
+00007020: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
+00007030: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00007040: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+00007050: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+00007060: 7475 735f 636f 6465 203d 3d20 3432 323a  tus_code == 422:
+00007070: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+00007080: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+00007090: 6f6e 2827 436f 6e74 7261 6374 2076 616c  on('Contract val
+000070a0: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
+000070b0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+000070c0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+000070d0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+000070e0: 5f63 6f64 6520 3d3d 2035 3030 3a0d 0a20  _code == 500:.. 
+000070f0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00007100: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00007110: 2749 6e74 6572 6e61 6c20 7365 7276 6572  'Internal server
+00007120: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+00007130: 7429 0d0a 2020 2020 2020 2020 7365 6c66  t)..        self
+00007140: 2e76 616c 6964 6174 655f 7265 7370 6f6e  .validate_respon
+00007150: 7365 285f 636f 6e74 6578 7429 0d0a 0d0a  se(_context)....
+00007160: 2020 2020 2020 2020 2320 5265 7475 726e          # Return
+00007170: 2061 7070 726f 7072 6961 7465 2074 7970   appropriate typ
+00007180: 650d 0a20 2020 2020 2020 2072 6574 7572  e..        retur
+00007190: 6e20 4150 4948 656c 7065 722e 6a73 6f6e  n APIHelper.json
+000071a0: 5f64 6573 6572 6961 6c69 7a65 285f 636f  _deserialize(_co
+000071b0: 6e74 6578 742e 7265 7370 6f6e 7365 2e72  ntext.response.r
+000071c0: 6177 5f62 6f64 792c 2047 6574 5375 6273  aw_body, GetSubs
+000071d0: 6372 6970 7469 6f6e 5265 7370 6f6e 7365  criptionResponse
+000071e0: 2e66 726f 6d5f 6469 6374 696f 6e61 7279  .from_dictionary
+000071f0: 290d 0a0d 0a20 2020 2064 6566 2075 7064  )....    def upd
+00007200: 6174 655f 7375 6273 6372 6970 7469 6f6e  ate_subscription
+00007210: 5f70 6179 6d65 6e74 5f6d 6574 686f 6428  _payment_method(
+00007220: 7365 6c66 2c0d 0a20 2020 2020 2020 2020  self,..         
+00007230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007250: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
+00007260: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
+00007270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007280: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+00007290: 6f64 792c 0d0a 2020 2020 2020 2020 2020  ody,..          
+000072a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000072b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000072c0: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
+000072d0: 3d4e 6f6e 6529 3a0d 0a20 2020 2020 2020  =None):..       
+000072e0: 2022 2222 446f 6573 2061 2050 4154 4348   """Does a PATCH
+000072f0: 2072 6571 7565 7374 2074 6f20 2f73 7562   request to /sub
+00007300: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
+00007310: 6372 6970 7469 6f6e 5f69 647d 2f70 6179  cription_id}/pay
+00007320: 6d65 6e74 2d6d 6574 686f 642e 0d0a 0d0a  ment-method.....
+00007330: 2020 2020 2020 2020 5570 6461 7465 7320          Updates 
+00007340: 7468 6520 7061 796d 656e 7420 6d65 7468  the payment meth
+00007350: 6f64 2066 726f 6d20 6120 7375 6273 6372  od from a subscr
+00007360: 6970 7469 6f6e 0d0a 0d0a 2020 2020 2020  iption....      
+00007370: 2020 4172 6773 3a0d 0a20 2020 2020 2020    Args:..       
+00007380: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
+00007390: 6e5f 6964 2028 7374 7269 6e67 293a 2053  n_id (string): S
+000073a0: 7562 7363 7269 7074 696f 6e20 6964 0d0a  ubscription id..
+000073b0: 2020 2020 2020 2020 2020 2020 626f 6479              body
+000073c0: 2028 5375 6273 6372 6970 7469 6f6e 7350   (SubscriptionsP
+000073d0: 6179 6d65 6e74 4d65 7468 6f64 5265 7175  aymentMethodRequ
+000073e0: 6573 7429 3a20 5265 7175 6573 7420 666f  est): Request fo
+000073f0: 7220 7570 6461 7469 6e67 2074 6865 0d0a  r updating the..
+00007400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007410: 7061 796d 656e 746d 6574 686f 6420 6672  paymentmethod fr
+00007420: 6f6d 2061 2073 7562 7363 7269 7074 696f  om a subscriptio
+00007430: 6e0d 0a20 2020 2020 2020 2020 2020 2069  n..            i
+00007440: 6465 6d70 6f74 656e 6379 5f6b 6579 2028  dempotency_key (
+00007450: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
+00007460: 293a 2054 4f44 4f3a 2074 7970 6520 6465  ): TODO: type de
+00007470: 7363 7269 7074 696f 6e20 6865 7265 2e0d  scription here..
+00007480: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007490: 2045 7861 6d70 6c65 3a20 0d0a 0d0a 2020   Example: ....  
+000074a0: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
+000074b0: 2020 2020 2020 2020 2020 2020 4765 7453              GetS
+000074c0: 7562 7363 7269 7074 696f 6e52 6573 706f  ubscriptionRespo
+000074d0: 6e73 653a 2052 6573 706f 6e73 6520 6672  nse: Response fr
+000074e0: 6f6d 2074 6865 2041 5049 2e20 0d0a 0d0a  om the API. ....
+000074f0: 2020 2020 2020 2020 5261 6973 6573 3a0d          Raises:.
+00007500: 0a20 2020 2020 2020 2020 2020 2041 5049  .            API
+00007510: 4578 6365 7074 696f 6e3a 2057 6865 6e20  Exception: When 
+00007520: 616e 2065 7272 6f72 206f 6363 7572 7320  an error occurs 
+00007530: 7768 696c 6520 6665 7463 6869 6e67 2074  while fetching t
+00007540: 6865 2064 6174 6120 6672 6f6d 0d0a 2020  he data from..  
+00007550: 2020 2020 2020 2020 2020 2020 2020 7468                th
+00007560: 6520 7265 6d6f 7465 2041 5049 2e20 5468  e remote API. Th
+00007570: 6973 2065 7863 6570 7469 6f6e 2069 6e63  is exception inc
+00007580: 6c75 6465 7320 7468 6520 4854 5450 2052  ludes the HTTP R
+00007590: 6573 706f 6e73 650d 0a20 2020 2020 2020  esponse..       
+000075a0: 2020 2020 2020 2020 2063 6f64 652c 2061           code, a
+000075b0: 6e20 6572 726f 7220 6d65 7373 6167 652c  n error message,
+000075c0: 2061 6e64 2074 6865 2048 5454 5020 626f   and the HTTP bo
+000075d0: 6479 2074 6861 7420 7761 7320 7265 6365  dy that was rece
+000075e0: 6976 6564 2069 6e0d 0a20 2020 2020 2020  ived in..       
+000075f0: 2020 2020 2020 2020 2074 6865 2072 6571           the req
+00007600: 7565 7374 2e0d 0a0d 0a20 2020 2020 2020  uest.....       
+00007610: 2022 2222 0d0a 0d0a 2020 2020 2020 2020   """....        
+00007620: 2320 5072 6570 6172 6520 7175 6572 7920  # Prepare query 
+00007630: 5552 4c0d 0a20 2020 2020 2020 205f 7572  URL..        _ur
+00007640: 6c5f 7061 7468 203d 2027 2f73 7562 7363  l_path = '/subsc
+00007650: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
+00007660: 6970 7469 6f6e 5f69 647d 2f70 6179 6d65  iption_id}/payme
+00007670: 6e74 2d6d 6574 686f 6427 0d0a 2020 2020  nt-method'..    
+00007680: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
+00007690: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
+000076a0: 5f75 726c 5f77 6974 685f 7465 6d70 6c61  _url_with_templa
+000076b0: 7465 5f70 6172 616d 6574 6572 7328 5f75  te_parameters(_u
+000076c0: 726c 5f70 6174 682c 207b 200d 0a20 2020  rl_path, { ..   
+000076d0: 2020 2020 2020 2020 2027 7375 6273 6372           'subscr
+000076e0: 6970 7469 6f6e 5f69 6427 3a20 7375 6273  iption_id': subs
+000076f0: 6372 6970 7469 6f6e 5f69 640d 0a20 2020  cription_id..   
+00007700: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
+00007710: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
+00007720: 3d20 436f 6e66 6967 7572 6174 696f 6e2e  = Configuration.
+00007730: 6261 7365 5f75 7269 0d0a 2020 2020 2020  base_uri..      
+00007740: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
+00007750: 202b 3d20 5f75 726c 5f70 6174 680d 0a20   += _url_path.. 
+00007760: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
+00007770: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
+00007780: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
+00007790: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
+000077a0: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
+000077b0: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
+000077c0: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
+000077d0: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
+000077e0: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
+000077f0: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
+00007800: 2020 2027 5365 7276 6963 6552 6566 6572     'ServiceRefer
+00007810: 6572 4e61 6d65 273a 2043 6f6e 6669 6775  erName': Configu
+00007820: 7261 7469 6f6e 2e73 6572 7669 6365 5f72  ration.service_r
+00007830: 6566 6572 6572 5f6e 616d 652c 0d0a 2020  eferer_name,..  
+00007840: 2020 2020 2020 2020 2020 2743 6f6e 7465            'Conte
+00007850: 6e74 2d54 7970 6527 3a20 2761 7070 6c69  nt-Type': 'appli
+00007860: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
+00007870: 2020 2020 2020 2020 2020 2027 6964 656d             'idem
+00007880: 706f 7465 6e63 792d 6b65 7927 3a20 6964  potency-key': id
+00007890: 656d 706f 7465 6e63 795f 6b65 790d 0a20  empotency_key.. 
+000078a0: 2020 2020 2020 207d 0d0a 0d0a 2020 2020         }....    
+000078b0: 2020 2020 2320 5072 6570 6172 6520 616e      # Prepare an
+000078c0: 6420 6578 6563 7574 6520 7265 7175 6573  d execute reques
+000078d0: 740d 0a20 2020 2020 2020 205f 7265 7175  t..        _requ
+000078e0: 6573 7420 3d20 7365 6c66 2e68 7474 705f  est = self.http_
+000078f0: 636c 6965 6e74 2e70 6174 6368 285f 7175  client.patch(_qu
+00007900: 6572 795f 7572 6c2c 2068 6561 6465 7273  ery_url, headers
+00007910: 3d5f 6865 6164 6572 732c 2070 6172 616d  =_headers, param
+00007920: 6574 6572 733d 4150 4948 656c 7065 722e  eters=APIHelper.
+00007930: 6a73 6f6e 5f73 6572 6961 6c69 7a65 2862  json_serialize(b
+00007940: 6f64 7929 290d 0a20 2020 2020 2020 2042  ody))..        B
+00007950: 6173 6963 4175 7468 2e61 7070 6c79 285f  asicAuth.apply(_
+00007960: 7265 7175 6573 7429 0d0a 2020 2020 2020  request)..      
+00007970: 2020 5f63 6f6e 7465 7874 203d 2073 656c    _context = sel
+00007980: 662e 6578 6563 7574 655f 7265 7175 6573  f.execute_reques
+00007990: 7428 5f72 6571 7565 7374 290d 0a0d 0a20  t(_request).... 
+000079a0: 2020 2020 2020 2023 2045 6e64 706f 696e         # Endpoin
+000079b0: 7420 616e 6420 676c 6f62 616c 2065 7272  t and global err
+000079c0: 6f72 2068 616e 646c 696e 6720 7573 696e  or handling usin
+000079d0: 6720 4854 5450 2073 7461 7475 7320 636f  g HTTP status co
+000079e0: 6465 732e 0d0a 2020 2020 2020 2020 6966  des...        if
+000079f0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+00007a00: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00007a10: 3d20 3430 303a 0d0a 2020 2020 2020 2020  = 400:..        
+00007a20: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00007a30: 7863 6570 7469 6f6e 2827 496e 7661 6c69  xception('Invali
+00007a40: 6420 7265 7175 6573 7427 2c20 5f63 6f6e  d request', _con
+00007a50: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+00007a60: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+00007a70: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00007a80: 6520 3d3d 2034 3031 3a0d 0a20 2020 2020  e == 401:..     
+00007a90: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00007aa0: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
+00007ab0: 616c 6964 2041 5049 206b 6579 272c 205f  alid API key', _
+00007ac0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00007ad0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00007ae0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00007af0: 636f 6465 203d 3d20 3430 343a 0d0a 2020  code == 404:..  
+00007b00: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00007b10: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00007b20: 416e 2069 6e66 6f72 6d65 6420 7265 736f  An informed reso
+00007b30: 7572 6365 2077 6173 206e 6f74 2066 6f75  urce was not fou
+00007b40: 6e64 272c 205f 636f 6e74 6578 7429 0d0a  nd', _context)..
+00007b50: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00007b60: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00007b70: 7461 7475 735f 636f 6465 203d 3d20 3431  tatus_code == 41
+00007b80: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
+00007b90: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00007ba0: 7469 6f6e 2827 4275 7369 6e65 7373 2076  tion('Business v
+00007bb0: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
+00007bc0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00007bd0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00007be0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00007bf0: 7573 5f63 6f64 6520 3d3d 2034 3232 3a0d  us_code == 422:.
+00007c00: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00007c10: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00007c20: 6e28 2743 6f6e 7472 6163 7420 7661 6c69  n('Contract vali
+00007c30: 6461 7469 6f6e 2065 7272 6f72 272c 205f  dation error', _
+00007c40: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00007c50: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00007c60: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00007c70: 636f 6465 203d 3d20 3530 303a 0d0a 2020  code == 500:..  
+00007c80: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00007c90: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00007ca0: 496e 7465 726e 616c 2073 6572 7665 7220  Internal server 
+00007cb0: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
+00007cc0: 290d 0a20 2020 2020 2020 2073 656c 662e  )..        self.
+00007cd0: 7661 6c69 6461 7465 5f72 6573 706f 6e73  validate_respons
+00007ce0: 6528 5f63 6f6e 7465 7874 290d 0a0d 0a20  e(_context).... 
+00007cf0: 2020 2020 2020 2023 2052 6574 7572 6e20         # Return 
+00007d00: 6170 7072 6f70 7269 6174 6520 7479 7065  appropriate type
+00007d10: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00007d20: 2041 5049 4865 6c70 6572 2e6a 736f 6e5f   APIHelper.json_
+00007d30: 6465 7365 7269 616c 697a 6528 5f63 6f6e  deserialize(_con
+00007d40: 7465 7874 2e72 6573 706f 6e73 652e 7261  text.response.ra
+00007d50: 775f 626f 6479 2c20 4765 7453 7562 7363  w_body, GetSubsc
+00007d60: 7269 7074 696f 6e52 6573 706f 6e73 652e  riptionResponse.
+00007d70: 6672 6f6d 5f64 6963 7469 6f6e 6172 7929  from_dictionary)
+00007d80: 0d0a 0d0a 2020 2020 6465 6620 7570 6461  ....    def upda
+00007d90: 7465 5f63 7572 7265 6e74 5f63 7963 6c65  te_current_cycle
+00007da0: 5f73 7461 7475 7328 7365 6c66 2c0d 0a20  _status(self,.. 
+00007db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007dd0: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
+00007de0: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
+00007df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e00: 2020 2020 2020 2020 2062 6f64 792c 0d0a           body,..
+00007e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e30: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
+00007e40: 6b65 793d 4e6f 6e65 293a 0d0a 2020 2020  key=None):..    
+00007e50: 2020 2020 2222 2244 6f65 7320 6120 5041      """Does a PA
+00007e60: 5443 4820 7265 7175 6573 7420 746f 202f  TCH request to /
+00007e70: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
+00007e80: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
+00007e90: 6379 636c 652d 7374 6174 7573 2e0d 0a0d  cycle-status....
+00007ea0: 0a20 2020 2020 2020 2055 7064 6174 6543  .        UpdateC
+00007eb0: 7572 7265 6e74 4379 636c 6553 7461 7475  urrentCycleStatu
+00007ec0: 730d 0a0d 0a20 2020 2020 2020 2041 7267  s....        Arg
+00007ed0: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+00007ee0: 7375 6273 6372 6970 7469 6f6e 5f69 6420  subscription_id 
+00007ef0: 2873 7472 696e 6729 3a20 5375 6273 6372  (string): Subscr
+00007f00: 6970 7469 6f6e 2049 640d 0a20 2020 2020  iption Id..     
+00007f10: 2020 2020 2020 2062 6f64 7920 2855 7064         body (Upd
+00007f20: 6174 6543 7572 7265 6e74 4379 636c 6553  ateCurrentCycleS
+00007f30: 7461 7475 7352 6571 7565 7374 293a 2052  tatusRequest): R
+00007f40: 6571 7565 7374 2066 6f72 2075 7064 6174  equest for updat
+00007f50: 696e 6720 7468 650d 0a20 2020 2020 2020  ing the..       
+00007f60: 2020 2020 2020 2020 2065 6e64 2064 6174           end dat
+00007f70: 6520 6f66 2074 6865 2073 7562 7363 7269  e of the subscri
+00007f80: 7074 696f 6e20 6375 7272 656e 7420 7374  ption current st
+00007f90: 6174 7573 0d0a 2020 2020 2020 2020 2020  atus..          
+00007fa0: 2020 6964 656d 706f 7465 6e63 795f 6b65    idempotency_ke
+00007fb0: 7920 2873 7472 696e 672c 206f 7074 696f  y (string, optio
+00007fc0: 6e61 6c29 3a20 544f 444f 3a20 7479 7065  nal): TODO: type
+00007fd0: 2064 6573 6372 6970 7469 6f6e 2068 6572   description her
+00007fe0: 652e 0d0a 2020 2020 2020 2020 2020 2020  e...            
+00007ff0: 2020 2020 4578 616d 706c 653a 200d 0a0d      Example: ...
+00008000: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00008010: 3a0d 0a20 2020 2020 2020 2020 2020 2076  :..            v
+00008020: 6f69 643a 2052 6573 706f 6e73 6520 6672  oid: Response fr
+00008030: 6f6d 2074 6865 2041 5049 2e20 0d0a 0d0a  om the API. ....
+00008040: 2020 2020 2020 2020 5261 6973 6573 3a0d          Raises:.
+00008050: 0a20 2020 2020 2020 2020 2020 2041 5049  .            API
+00008060: 4578 6365 7074 696f 6e3a 2057 6865 6e20  Exception: When 
+00008070: 616e 2065 7272 6f72 206f 6363 7572 7320  an error occurs 
+00008080: 7768 696c 6520 6665 7463 6869 6e67 2074  while fetching t
+00008090: 6865 2064 6174 6120 6672 6f6d 0d0a 2020  he data from..  
+000080a0: 2020 2020 2020 2020 2020 2020 2020 7468                th
+000080b0: 6520 7265 6d6f 7465 2041 5049 2e20 5468  e remote API. Th
+000080c0: 6973 2065 7863 6570 7469 6f6e 2069 6e63  is exception inc
+000080d0: 6c75 6465 7320 7468 6520 4854 5450 2052  ludes the HTTP R
+000080e0: 6573 706f 6e73 650d 0a20 2020 2020 2020  esponse..       
+000080f0: 2020 2020 2020 2020 2063 6f64 652c 2061           code, a
+00008100: 6e20 6572 726f 7220 6d65 7373 6167 652c  n error message,
+00008110: 2061 6e64 2074 6865 2048 5454 5020 626f   and the HTTP bo
+00008120: 6479 2074 6861 7420 7761 7320 7265 6365  dy that was rece
+00008130: 6976 6564 2069 6e0d 0a20 2020 2020 2020  ived in..       
+00008140: 2020 2020 2020 2020 2074 6865 2072 6571           the req
+00008150: 7565 7374 2e0d 0a0d 0a20 2020 2020 2020  uest.....       
+00008160: 2022 2222 0d0a 0d0a 2020 2020 2020 2020   """....        
+00008170: 2320 5072 6570 6172 6520 7175 6572 7920  # Prepare query 
+00008180: 5552 4c0d 0a20 2020 2020 2020 205f 7572  URL..        _ur
+00008190: 6c5f 7061 7468 203d 2027 2f73 7562 7363  l_path = '/subsc
+000081a0: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
+000081b0: 6970 7469 6f6e 5f69 647d 2f63 7963 6c65  iption_id}/cycle
+000081c0: 2d73 7461 7475 7327 0d0a 2020 2020 2020  -status'..      
+000081d0: 2020 5f75 726c 5f70 6174 6820 3d20 4150    _url_path = AP
+000081e0: 4948 656c 7065 722e 6170 7065 6e64 5f75  IHelper.append_u
+000081f0: 726c 5f77 6974 685f 7465 6d70 6c61 7465  rl_with_template
+00008200: 5f70 6172 616d 6574 6572 7328 5f75 726c  _parameters(_url
+00008210: 5f70 6174 682c 207b 200d 0a20 2020 2020  _path, { ..     
+00008220: 2020 2020 2020 2027 7375 6273 6372 6970         'subscrip
+00008230: 7469 6f6e 5f69 6427 3a20 7375 6273 6372  tion_id': subscr
+00008240: 6970 7469 6f6e 5f69 640d 0a20 2020 2020  iption_id..     
+00008250: 2020 207d 290d 0a20 2020 2020 2020 205f     })..        _
+00008260: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
+00008270: 436f 6e66 6967 7572 6174 696f 6e2e 6261  Configuration.ba
+00008280: 7365 5f75 7269 0d0a 2020 2020 2020 2020  se_uri..        
+00008290: 5f71 7565 7279 5f62 7569 6c64 6572 202b  _query_builder +
+000082a0: 3d20 5f75 726c 5f70 6174 680d 0a20 2020  = _url_path..   
+000082b0: 2020 2020 205f 7175 6572 795f 7572 6c20       _query_url 
+000082c0: 3d20 4150 4948 656c 7065 722e 636c 6561  = APIHelper.clea
+000082d0: 6e5f 7572 6c28 5f71 7565 7279 5f62 7569  n_url(_query_bui
+000082e0: 6c64 6572 290d 0a0d 0a20 2020 2020 2020  lder)....       
+000082f0: 2023 2050 7265 7061 7265 2068 6561 6465   # Prepare heade
+00008300: 7273 0d0a 2020 2020 2020 2020 5f68 6561  rs..        _hea
+00008310: 6465 7273 203d 207b 0d0a 2020 2020 2020  ders = {..      
+00008320: 2020 2020 2020 2753 6572 7669 6365 5265        'ServiceRe
+00008330: 6665 7265 724e 616d 6527 3a20 436f 6e66  fererName': Conf
+00008340: 6967 7572 6174 696f 6e2e 7365 7276 6963  iguration.servic
+00008350: 655f 7265 6665 7265 725f 6e61 6d65 2c0d  e_referer_name,.
+00008360: 0a20 2020 2020 2020 2020 2020 2027 436f  .            'Co
+00008370: 6e74 656e 742d 5479 7065 273a 2027 6170  ntent-Type': 'ap
+00008380: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
+00008390: 0d0a 2020 2020 2020 2020 2020 2020 2769  ..            'i
+000083a0: 6465 6d70 6f74 656e 6379 2d6b 6579 273a  dempotency-key':
+000083b0: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
+000083c0: 0d0a 2020 2020 2020 2020 7d0d 0a0d 0a20  ..        }.... 
+000083d0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
+000083e0: 2061 6e64 2065 7865 6375 7465 2072 6571   and execute req
+000083f0: 7565 7374 0d0a 2020 2020 2020 2020 5f72  uest..        _r
+00008400: 6571 7565 7374 203d 2073 656c 662e 6874  equest = self.ht
+00008410: 7470 5f63 6c69 656e 742e 7061 7463 6828  tp_client.patch(
+00008420: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
+00008430: 6572 733d 5f68 6561 6465 7273 2c20 7061  ers=_headers, pa
+00008440: 7261 6d65 7465 7273 3d41 5049 4865 6c70  rameters=APIHelp
+00008450: 6572 2e6a 736f 6e5f 7365 7269 616c 697a  er.json_serializ
+00008460: 6528 626f 6479 2929 0d0a 2020 2020 2020  e(body))..      
+00008470: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
+00008480: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
+00008490: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
+000084a0: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
+000084b0: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
+000084c0: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
+000084d0: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
+000084e0: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
+000084f0: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
+00008500: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
+00008510: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
+00008520: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00008530: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
+00008540: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00008550: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
+00008560: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
+00008570: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00008580: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00008590: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+000085a0: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
+000085b0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+000085c0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+000085d0: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
+000085e0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+000085f0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00008600: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00008610: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
+00008620: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00008630: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00008640: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
+00008650: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
+00008660: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
+00008670: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00008680: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00008690: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+000086a0: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
+000086b0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+000086c0: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
+000086d0: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
+000086e0: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+000086f0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00008700: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00008710: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
+00008720: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
+00008730: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00008740: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
+00008750: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
+00008760: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00008770: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00008780: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00008790: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
+000087a0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+000087b0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+000087c0: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
+000087d0: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
+000087e0: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
+000087f0: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
+00008800: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
+00008810: 0d0a 2020 2020 6465 6620 6372 6561 7465  ..    def create
+00008820: 5f73 7562 7363 7269 7074 696f 6e28 7365  _subscription(se
+00008830: 6c66 2c0d 0a20 2020 2020 2020 2020 2020  lf,..           
+00008840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008850: 2062 6f64 792c 0d0a 2020 2020 2020 2020   body,..        
+00008860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008870: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
+00008880: 6b65 793d 4e6f 6e65 293a 0d0a 2020 2020  key=None):..    
+00008890: 2020 2020 2222 2244 6f65 7320 6120 504f      """Does a PO
+000088a0: 5354 2072 6571 7565 7374 2074 6f20 2f73  ST request to /s
+000088b0: 7562 7363 7269 7074 696f 6e73 2e0d 0a0d  ubscriptions....
+000088c0: 0a20 2020 2020 2020 2043 7265 6174 6573  .        Creates
+000088d0: 2061 206e 6577 2073 7562 7363 7269 7074   a new subscript
+000088e0: 696f 6e0d 0a0d 0a20 2020 2020 2020 2041  ion....        A
+000088f0: 7267 733a 0d0a 2020 2020 2020 2020 2020  rgs:..          
+00008900: 2020 626f 6479 2028 5375 6273 6372 6970    body (Subscrip
+00008910: 7469 6f6e 7352 6571 7565 7374 3129 3a20  tionsRequest1): 
+00008920: 5265 7175 6573 7420 666f 7220 6372 6561  Request for crea
+00008930: 7469 6e67 2061 2073 7562 7363 7269 7074  ting a subscript
+00008940: 696f 6e0d 0a20 2020 2020 2020 2020 2020  ion..           
+00008950: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
+00008960: 2028 7374 7269 6e67 2c20 6f70 7469 6f6e   (string, option
+00008970: 616c 293a 2054 4f44 4f3a 2074 7970 6520  al): TODO: type 
+00008980: 6465 7363 7269 7074 696f 6e20 6865 7265  description here
+00008990: 2e0d 0a20 2020 2020 2020 2020 2020 2020  ...             
+000089a0: 2020 2045 7861 6d70 6c65 3a20 0d0a 0d0a     Example: ....
+000089b0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+000089c0: 0d0a 2020 2020 2020 2020 2020 2020 4765  ..            Ge
+000089d0: 7453 7562 7363 7269 7074 696f 6e52 6573  tSubscriptionRes
+000089e0: 706f 6e73 653a 2052 6573 706f 6e73 6520  ponse: Response 
+000089f0: 6672 6f6d 2074 6865 2041 5049 2e20 0d0a  from the API. ..
+00008a00: 0d0a 2020 2020 2020 2020 5261 6973 6573  ..        Raises
+00008a10: 3a0d 0a20 2020 2020 2020 2020 2020 2041  :..            A
+00008a20: 5049 4578 6365 7074 696f 6e3a 2057 6865  PIException: Whe
+00008a30: 6e20 616e 2065 7272 6f72 206f 6363 7572  n an error occur
+00008a40: 7320 7768 696c 6520 6665 7463 6869 6e67  s while fetching
+00008a50: 2074 6865 2064 6174 6120 6672 6f6d 0d0a   the data from..
+00008a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008a70: 7468 6520 7265 6d6f 7465 2041 5049 2e20  the remote API. 
+00008a80: 5468 6973 2065 7863 6570 7469 6f6e 2069  This exception i
+00008a90: 6e63 6c75 6465 7320 7468 6520 4854 5450  ncludes the HTTP
+00008aa0: 2052 6573 706f 6e73 650d 0a20 2020 2020   Response..     
+00008ab0: 2020 2020 2020 2020 2020 2063 6f64 652c             code,
+00008ac0: 2061 6e20 6572 726f 7220 6d65 7373 6167   an error messag
+00008ad0: 652c 2061 6e64 2074 6865 2048 5454 5020  e, and the HTTP 
+00008ae0: 626f 6479 2074 6861 7420 7761 7320 7265  body that was re
+00008af0: 6365 6976 6564 2069 6e0d 0a20 2020 2020  ceived in..     
+00008b00: 2020 2020 2020 2020 2020 2074 6865 2072             the r
+00008b10: 6571 7565 7374 2e0d 0a0d 0a20 2020 2020  equest.....     
+00008b20: 2020 2022 2222 0d0a 0d0a 2020 2020 2020     """....      
+00008b30: 2020 2320 5072 6570 6172 6520 7175 6572    # Prepare quer
+00008b40: 7920 5552 4c0d 0a20 2020 2020 2020 205f  y URL..        _
+00008b50: 7572 6c5f 7061 7468 203d 2027 2f73 7562  url_path = '/sub
+00008b60: 7363 7269 7074 696f 6e73 270d 0a20 2020  scriptions'..   
+00008b70: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
+00008b80: 6465 7220 3d20 436f 6e66 6967 7572 6174  der = Configurat
+00008b90: 696f 6e2e 6261 7365 5f75 7269 0d0a 2020  ion.base_uri..  
+00008ba0: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
+00008bb0: 6c64 6572 202b 3d20 5f75 726c 5f70 6174  lder += _url_pat
+00008bc0: 680d 0a20 2020 2020 2020 205f 7175 6572  h..        _quer
+00008bd0: 795f 7572 6c20 3d20 4150 4948 656c 7065  y_url = APIHelpe
+00008be0: 722e 636c 6561 6e5f 7572 6c28 5f71 7565  r.clean_url(_que
+00008bf0: 7279 5f62 7569 6c64 6572 290d 0a0d 0a20  ry_builder).... 
+00008c00: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
+00008c10: 2068 6561 6465 7273 0d0a 2020 2020 2020   headers..      
+00008c20: 2020 5f68 6561 6465 7273 203d 207b 0d0a    _headers = {..
+00008c30: 2020 2020 2020 2020 2020 2020 2761 6363              'acc
+00008c40: 6570 7427 3a20 2761 7070 6c69 6361 7469  ept': 'applicati
+00008c50: 6f6e 2f6a 736f 6e27 2c0d 0a20 2020 2020  on/json',..     
+00008c60: 2020 2020 2020 2027 5365 7276 6963 6552         'ServiceR
+00008c70: 6566 6572 6572 4e61 6d65 273a 2043 6f6e  efererName': Con
+00008c80: 6669 6775 7261 7469 6f6e 2e73 6572 7669  figuration.servi
+00008c90: 6365 5f72 6566 6572 6572 5f6e 616d 652c  ce_referer_name,
+00008ca0: 0d0a 2020 2020 2020 2020 2020 2020 2743  ..            'C
+00008cb0: 6f6e 7465 6e74 2d54 7970 6527 3a20 2761  ontent-Type': 'a
+00008cc0: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
+00008cd0: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+00008ce0: 6964 656d 706f 7465 6e63 792d 6b65 7927  idempotency-key'
+00008cf0: 3a20 6964 656d 706f 7465 6e63 795f 6b65  : idempotency_ke
+00008d00: 790d 0a20 2020 2020 2020 207d 0d0a 0d0a  y..        }....
+00008d10: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+00008d20: 6520 616e 6420 6578 6563 7574 6520 7265  e and execute re
+00008d30: 7175 6573 740d 0a20 2020 2020 2020 205f  quest..        _
+00008d40: 7265 7175 6573 7420 3d20 7365 6c66 2e68  request = self.h
+00008d50: 7474 705f 636c 6965 6e74 2e70 6f73 7428  ttp_client.post(
+00008d60: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
+00008d70: 6572 733d 5f68 6561 6465 7273 2c20 7061  ers=_headers, pa
+00008d80: 7261 6d65 7465 7273 3d41 5049 4865 6c70  rameters=APIHelp
+00008d90: 6572 2e6a 736f 6e5f 7365 7269 616c 697a  er.json_serializ
+00008da0: 6528 626f 6479 2929 0d0a 2020 2020 2020  e(body))..      
+00008db0: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
+00008dc0: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
+00008dd0: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
+00008de0: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
+00008df0: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
+00008e00: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
+00008e10: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
+00008e20: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
+00008e30: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
+00008e40: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
+00008e50: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
+00008e60: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00008e70: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
+00008e80: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00008e90: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
+00008ea0: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
+00008eb0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00008ec0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00008ed0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00008ee0: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
+00008ef0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00008f00: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00008f10: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
+00008f20: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00008f30: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00008f40: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00008f50: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
+00008f60: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00008f70: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00008f80: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
+00008f90: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
+00008fa0: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
+00008fb0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00008fc0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00008fd0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00008fe0: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
+00008ff0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00009000: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
+00009010: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
+00009020: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+00009030: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00009040: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00009050: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
+00009060: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
+00009070: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00009080: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
+00009090: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
+000090a0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+000090b0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+000090c0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+000090d0: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
+000090e0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+000090f0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00009100: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
+00009110: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
+00009120: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
+00009130: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
+00009140: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
+00009150: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
+00009160: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
+00009170: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
+00009180: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
+00009190: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
+000091a0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+000091b0: 2e72 6177 5f62 6f64 792c 2047 6574 5375  .raw_body, GetSu
+000091c0: 6273 6372 6970 7469 6f6e 5265 7370 6f6e  bscriptionRespon
+000091d0: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
+000091e0: 7279 290d 0a0d 0a20 2020 2064 6566 2067  ry)....    def g
+000091f0: 6574 5f73 7562 7363 7269 7074 696f 6e73  et_subscriptions
+00009200: 2873 656c 662c 0d0a 2020 2020 2020 2020  (self,..        
+00009210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009220: 2020 7061 6765 3d4e 6f6e 652c 0d0a 2020    page=None,..  
+00009230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009240: 2020 2020 2020 2020 7369 7a65 3d4e 6f6e          size=Non
+00009250: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+00009260: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00009270: 6465 3d4e 6f6e 652c 0d0a 2020 2020 2020  de=None,..      
+00009280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009290: 2020 2020 6269 6c6c 696e 675f 7479 7065      billing_type
+000092a0: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
+000092b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000092c0: 2020 6375 7374 6f6d 6572 5f69 643d 4e6f    customer_id=No
+000092d0: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
+000092e0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+000092f0: 6c61 6e5f 6964 3d4e 6f6e 652c 0d0a 2020  lan_id=None,..  
+00009300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009310: 2020 2020 2020 2020 6361 7264 5f69 643d          card_id=
+00009320: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
+00009330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009340: 2073 7461 7475 733d 4e6f 6e65 2c0d 0a20   status=None,.. 
+00009350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009360: 2020 2020 2020 2020 206e 6578 745f 6269           next_bi
+00009370: 6c6c 696e 675f 7369 6e63 653d 4e6f 6e65  lling_since=None
+00009380: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+00009390: 2020 2020 2020 2020 2020 2020 206e 6578               nex
+000093a0: 745f 6269 6c6c 696e 675f 756e 7469 6c3d  t_billing_until=
+000093b0: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
+000093c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000093d0: 2063 7265 6174 6564 5f73 696e 6365 3d4e   created_since=N
+000093e0: 6f6e 652c 0d0a 2020 2020 2020 2020 2020  one,..          
+000093f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009400: 6372 6561 7465 645f 756e 7469 6c3d 4e6f  created_until=No
+00009410: 6e65 293a 0d0a 2020 2020 2020 2020 2222  ne):..        ""
+00009420: 2244 6f65 7320 6120 4745 5420 7265 7175  "Does a GET requ
+00009430: 6573 7420 746f 202f 7375 6273 6372 6970  est to /subscrip
+00009440: 7469 6f6e 732e 0d0a 0d0a 2020 2020 2020  tions.....      
+00009450: 2020 4765 7473 2061 6c6c 2073 7562 7363    Gets all subsc
+00009460: 7269 7074 696f 6e73 0d0a 0d0a 2020 2020  riptions....    
+00009470: 2020 2020 4172 6773 3a0d 0a20 2020 2020      Args:..     
+00009480: 2020 2020 2020 2070 6167 6520 2869 6e74         page (int
+00009490: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
+000094a0: 6520 6e75 6d62 6572 0d0a 2020 2020 2020  e number..      
+000094b0: 2020 2020 2020 7369 7a65 2028 696e 742c        size (int,
+000094c0: 206f 7074 696f 6e61 6c29 3a20 5061 6765   optional): Page
+000094d0: 2073 697a 650d 0a20 2020 2020 2020 2020   size..         
+000094e0: 2020 2063 6f64 6520 2873 7472 696e 672c     code (string,
+000094f0: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+00009500: 6572 2066 6f72 2073 7562 7363 7269 7074  er for subscript
+00009510: 696f 6e27 7320 636f 6465 0d0a 2020 2020  ion's code..    
+00009520: 2020 2020 2020 2020 6269 6c6c 696e 675f          billing_
+00009530: 7479 7065 2028 7374 7269 6e67 2c20 6f70  type (string, op
+00009540: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+00009550: 666f 7220 7375 6273 6372 6970 7469 6f6e  for subscription
+00009560: 2773 2062 696c 6c69 6e67 0d0a 2020 2020  's billing..    
+00009570: 2020 2020 2020 2020 2020 2020 7479 7065              type
+00009580: 0d0a 2020 2020 2020 2020 2020 2020 6375  ..            cu
+00009590: 7374 6f6d 6572 5f69 6420 2873 7472 696e  stomer_id (strin
+000095a0: 672c 206f 7074 696f 6e61 6c29 3a20 4669  g, optional): Fi
+000095b0: 6c74 6572 2066 6f72 2073 7562 7363 7269  lter for subscri
+000095c0: 7074 696f 6e27 7320 6375 7374 6f6d 6572  ption's customer
+000095d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000095e0: 2020 6964 0d0a 2020 2020 2020 2020 2020    id..          
+000095f0: 2020 706c 616e 5f69 6420 2873 7472 696e    plan_id (strin
+00009600: 672c 206f 7074 696f 6e61 6c29 3a20 4669  g, optional): Fi
+00009610: 6c74 6572 2066 6f72 2073 7562 7363 7269  lter for subscri
+00009620: 7074 696f 6e27 7320 706c 616e 2069 640d  ption's plan id.
+00009630: 0a20 2020 2020 2020 2020 2020 2063 6172  .            car
+00009640: 645f 6964 2028 7374 7269 6e67 2c20 6f70  d_id (string, op
+00009650: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+00009660: 666f 7220 7375 6273 6372 6970 7469 6f6e  for subscription
+00009670: 2773 2063 6172 6420 6964 0d0a 2020 2020  's card id..    
+00009680: 2020 2020 2020 2020 7374 6174 7573 2028          status (
+00009690: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
+000096a0: 293a 2046 696c 7465 7220 666f 7220 7375  ): Filter for su
+000096b0: 6273 6372 6970 7469 6f6e 2773 2073 7461  bscription's sta
+000096c0: 7475 730d 0a20 2020 2020 2020 2020 2020  tus..           
+000096d0: 206e 6578 745f 6269 6c6c 696e 675f 7369   next_billing_si
+000096e0: 6e63 6520 2864 6174 6574 696d 652c 206f  nce (datetime, o
+000096f0: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00009700: 2066 6f72 2073 7562 7363 7269 7074 696f   for subscriptio
+00009710: 6e27 730d 0a20 2020 2020 2020 2020 2020  n's..           
+00009720: 2020 2020 206e 6578 7420 6269 6c6c 696e       next billin
+00009730: 6720 6461 7465 2073 7461 7274 2072 616e  g date start ran
+00009740: 6765 0d0a 2020 2020 2020 2020 2020 2020  ge..            
+00009750: 6e65 7874 5f62 696c 6c69 6e67 5f75 6e74  next_billing_unt
+00009760: 696c 2028 6461 7465 7469 6d65 2c20 6f70  il (datetime, op
+00009770: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+00009780: 666f 7220 7375 6273 6372 6970 7469 6f6e  for subscription
+00009790: 2773 0d0a 2020 2020 2020 2020 2020 2020  's..            
+000097a0: 2020 2020 6e65 7874 2062 696c 6c69 6e67      next billing
+000097b0: 2064 6174 6520 656e 6420 7261 6e67 650d   date end range.
+000097c0: 0a20 2020 2020 2020 2020 2020 2063 7265  .            cre
+000097d0: 6174 6564 5f73 696e 6365 2028 6461 7465  ated_since (date
+000097e0: 7469 6d65 2c20 6f70 7469 6f6e 616c 293a  time, optional):
+000097f0: 2046 696c 7465 7220 666f 7220 7375 6273   Filter for subs
+00009800: 6372 6970 7469 6f6e 2773 0d0a 2020 2020  cription's..    
+00009810: 2020 2020 2020 2020 2020 2020 6372 6561              crea
+00009820: 7469 6f6e 2064 6174 6520 7374 6172 7420  tion date start 
+00009830: 7261 6e67 650d 0a20 2020 2020 2020 2020  range..         
+00009840: 2020 2063 7265 6174 6564 5f75 6e74 696c     created_until
+00009850: 2028 6461 7465 7469 6d65 2c20 6f70 7469   (datetime, opti
+00009860: 6f6e 616c 293a 2046 696c 7465 7220 666f  onal): Filter fo
+00009870: 7220 7375 6273 6372 6970 7469 6f6e 730d  r subscriptions.
+00009880: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00009890: 2063 7265 6174 696f 6e20 6461 7465 2065   creation date e
+000098a0: 6e64 2072 616e 6765 0d0a 0d0a 2020 2020  nd range....    
+000098b0: 2020 2020 5265 7475 726e 733a 0d0a 2020      Returns:..  
+000098c0: 2020 2020 2020 2020 2020 5375 6273 6372            Subscr
+000098d0: 6970 7469 6f6e 7352 6573 706f 6e73 6533  iptionsResponse3
+000098e0: 3a20 5265 7370 6f6e 7365 2066 726f 6d20  : Response from 
+000098f0: 7468 6520 4150 492e 200d 0a0d 0a20 2020  the API. ....   
+00009900: 2020 2020 2052 6169 7365 733a 0d0a 2020       Raises:..  
+00009910: 2020 2020 2020 2020 2020 4150 4945 7863            APIExc
+00009920: 6570 7469 6f6e 3a20 5768 656e 2061 6e20  eption: When an 
+00009930: 6572 726f 7220 6f63 6375 7273 2077 6869  error occurs whi
+00009940: 6c65 2066 6574 6368 696e 6720 7468 6520  le fetching the 
+00009950: 6461 7461 2066 726f 6d0d 0a20 2020 2020  data from..     
+00009960: 2020 2020 2020 2020 2020 2074 6865 2072             the r
+00009970: 656d 6f74 6520 4150 492e 2054 6869 7320  emote API. This 
+00009980: 6578 6365 7074 696f 6e20 696e 636c 7564  exception includ
+00009990: 6573 2074 6865 2048 5454 5020 5265 7370  es the HTTP Resp
+000099a0: 6f6e 7365 0d0a 2020 2020 2020 2020 2020  onse..          
+000099b0: 2020 2020 2020 636f 6465 2c20 616e 2065        code, an e
+000099c0: 7272 6f72 206d 6573 7361 6765 2c20 616e  rror message, an
+000099d0: 6420 7468 6520 4854 5450 2062 6f64 7920  d the HTTP body 
+000099e0: 7468 6174 2077 6173 2072 6563 6569 7665  that was receive
+000099f0: 6420 696e 0d0a 2020 2020 2020 2020 2020  d in..          
+00009a00: 2020 2020 2020 7468 6520 7265 7175 6573        the reques
+00009a10: 742e 0d0a 0d0a 2020 2020 2020 2020 2222  t.....        ""
+00009a20: 220d 0a0d 0a20 2020 2020 2020 2023 2050  "....        # P
+00009a30: 7265 7061 7265 2071 7565 7279 2055 524c  repare query URL
+00009a40: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
+00009a50: 6174 6820 3d20 272f 7375 6273 6372 6970  ath = '/subscrip
+00009a60: 7469 6f6e 7327 0d0a 2020 2020 2020 2020  tions'..        
+00009a70: 5f71 7565 7279 5f62 7569 6c64 6572 203d  _query_builder =
+00009a80: 2043 6f6e 6669 6775 7261 7469 6f6e 2e62   Configuration.b
+00009a90: 6173 655f 7572 690d 0a20 2020 2020 2020  ase_uri..       
+00009aa0: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
+00009ab0: 2b3d 205f 7572 6c5f 7061 7468 0d0a 2020  += _url_path..  
+00009ac0: 2020 2020 2020 5f71 7565 7279 5f70 6172        _query_par
+00009ad0: 616d 6574 6572 7320 3d20 7b0d 0a20 2020  ameters = {..   
+00009ae0: 2020 2020 2020 2020 2027 7061 6765 273a           'page':
+00009af0: 2070 6167 652c 0d0a 2020 2020 2020 2020   page,..        
+00009b00: 2020 2020 2773 697a 6527 3a20 7369 7a65      'size': size
+00009b10: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+00009b20: 636f 6465 273a 2063 6f64 652c 0d0a 2020  code': code,..  
+00009b30: 2020 2020 2020 2020 2020 2762 696c 6c69            'billi
+00009b40: 6e67 5f74 7970 6527 3a20 6269 6c6c 696e  ng_type': billin
+00009b50: 675f 7479 7065 2c0d 0a20 2020 2020 2020  g_type,..       
+00009b60: 2020 2020 2027 6375 7374 6f6d 6572 5f69       'customer_i
+00009b70: 6427 3a20 6375 7374 6f6d 6572 5f69 642c  d': customer_id,
+00009b80: 0d0a 2020 2020 2020 2020 2020 2020 2770  ..            'p
+00009b90: 6c61 6e5f 6964 273a 2070 6c61 6e5f 6964  lan_id': plan_id
+00009ba0: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+00009bb0: 6361 7264 5f69 6427 3a20 6361 7264 5f69  card_id': card_i
+00009bc0: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
+00009bd0: 2773 7461 7475 7327 3a20 7374 6174 7573  'status': status
+00009be0: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+00009bf0: 6e65 7874 5f62 696c 6c69 6e67 5f73 696e  next_billing_sin
+00009c00: 6365 273a 2041 5049 4865 6c70 6572 2e77  ce': APIHelper.w
+00009c10: 6865 6e5f 6465 6669 6e65 6428 4150 4948  hen_defined(APIH
+00009c20: 656c 7065 722e 5246 4333 3333 3944 6174  elper.RFC3339Dat
+00009c30: 6554 696d 652c 206e 6578 745f 6269 6c6c  eTime, next_bill
+00009c40: 696e 675f 7369 6e63 6529 2c0d 0a20 2020  ing_since),..   
+00009c50: 2020 2020 2020 2020 2027 6e65 7874 5f62           'next_b
+00009c60: 696c 6c69 6e67 5f75 6e74 696c 273a 2041  illing_until': A
+00009c70: 5049 4865 6c70 6572 2e77 6865 6e5f 6465  PIHelper.when_de
+00009c80: 6669 6e65 6428 4150 4948 656c 7065 722e  fined(APIHelper.
+00009c90: 5246 4333 3333 3944 6174 6554 696d 652c  RFC3339DateTime,
+00009ca0: 206e 6578 745f 6269 6c6c 696e 675f 756e   next_billing_un
+00009cb0: 7469 6c29 2c0d 0a20 2020 2020 2020 2020  til),..         
+00009cc0: 2020 2027 6372 6561 7465 645f 7369 6e63     'created_sinc
+00009cd0: 6527 3a20 4150 4948 656c 7065 722e 7768  e': APIHelper.wh
+00009ce0: 656e 5f64 6566 696e 6564 2841 5049 4865  en_defined(APIHe
+00009cf0: 6c70 6572 2e52 4643 3333 3339 4461 7465  lper.RFC3339Date
+00009d00: 5469 6d65 2c20 6372 6561 7465 645f 7369  Time, created_si
+00009d10: 6e63 6529 2c0d 0a20 2020 2020 2020 2020  nce),..         
+00009d20: 2020 2027 6372 6561 7465 645f 756e 7469     'created_unti
+00009d30: 6c27 3a20 4150 4948 656c 7065 722e 7768  l': APIHelper.wh
+00009d40: 656e 5f64 6566 696e 6564 2841 5049 4865  en_defined(APIHe
+00009d50: 6c70 6572 2e52 4643 3333 3339 4461 7465  lper.RFC3339Date
+00009d60: 5469 6d65 2c20 6372 6561 7465 645f 756e  Time, created_un
+00009d70: 7469 6c29 0d0a 2020 2020 2020 2020 7d0d  til)..        }.
+00009d80: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+00009d90: 6275 696c 6465 7220 3d20 4150 4948 656c  builder = APIHel
+00009da0: 7065 722e 6170 7065 6e64 5f75 726c 5f77  per.append_url_w
+00009db0: 6974 685f 7175 6572 795f 7061 7261 6d65  ith_query_parame
+00009dc0: 7465 7273 285f 7175 6572 795f 6275 696c  ters(_query_buil
+00009dd0: 6465 722c 0d0a 2020 2020 2020 2020 2020  der,..          
+00009de0: 2020 5f71 7565 7279 5f70 6172 616d 6574    _query_paramet
+00009df0: 6572 732c 2043 6f6e 6669 6775 7261 7469  ers, Configurati
+00009e00: 6f6e 2e61 7272 6179 5f73 6572 6961 6c69  on.array_seriali
+00009e10: 7a61 7469 6f6e 290d 0a20 2020 2020 2020  zation)..       
+00009e20: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
+00009e30: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
+00009e40: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
+00009e50: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
+00009e60: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
+00009e70: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
+00009e80: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+00009e90: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
+00009ea0: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
+00009eb0: 0a20 2020 2020 2020 2020 2020 2027 5365  .            'Se
+00009ec0: 7276 6963 6552 6566 6572 6572 4e61 6d65  rviceRefererName
+00009ed0: 273a 2043 6f6e 6669 6775 7261 7469 6f6e  ': Configuration
+00009ee0: 2e73 6572 7669 6365 5f72 6566 6572 6572  .service_referer
+00009ef0: 5f6e 616d 650d 0a20 2020 2020 2020 207d  _name..        }
+00009f00: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
+00009f10: 6570 6172 6520 616e 6420 6578 6563 7574  epare and execut
+00009f20: 6520 7265 7175 6573 740d 0a20 2020 2020  e request..     
+00009f30: 2020 205f 7265 7175 6573 7420 3d20 7365     _request = se
+00009f40: 6c66 2e68 7474 705f 636c 6965 6e74 2e67  lf.http_client.g
+00009f50: 6574 285f 7175 6572 795f 7572 6c2c 2068  et(_query_url, h
+00009f60: 6561 6465 7273 3d5f 6865 6164 6572 7329  eaders=_headers)
+00009f70: 0d0a 2020 2020 2020 2020 4261 7369 6341  ..        BasicA
+00009f80: 7574 682e 6170 706c 7928 5f72 6571 7565  uth.apply(_reque
+00009f90: 7374 290d 0a20 2020 2020 2020 205f 636f  st)..        _co
+00009fa0: 6e74 6578 7420 3d20 7365 6c66 2e65 7865  ntext = self.exe
+00009fb0: 6375 7465 5f72 6571 7565 7374 285f 7265  cute_request(_re
+00009fc0: 7175 6573 7429 0d0a 0d0a 2020 2020 2020  quest)....      
+00009fd0: 2020 2320 456e 6470 6f69 6e74 2061 6e64    # Endpoint and
+00009fe0: 2067 6c6f 6261 6c20 6572 726f 7220 6861   global error ha
+00009ff0: 6e64 6c69 6e67 2075 7369 6e67 2048 5454  ndling using HTT
+0000a000: 5020 7374 6174 7573 2063 6f64 6573 2e0d  P status codes..
+0000a010: 0a20 2020 2020 2020 2069 6620 5f63 6f6e  .        if _con
+0000a020: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+0000a030: 6174 7573 5f63 6f64 6520 3d3d 2034 3030  atus_code == 400
+0000a040: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+0000a050: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+0000a060: 696f 6e28 2749 6e76 616c 6964 2072 6571  ion('Invalid req
+0000a070: 7565 7374 272c 205f 636f 6e74 6578 7429  uest', _context)
+0000a080: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+0000a090: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+0000a0a0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+0000a0b0: 3430 313a 0d0a 2020 2020 2020 2020 2020  401:..          
+0000a0c0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+0000a0d0: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
+0000a0e0: 4150 4920 6b65 7927 2c20 5f63 6f6e 7465  API key', _conte
+0000a0f0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+0000a100: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+0000a110: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+0000a120: 3d3d 2034 3034 3a0d 0a20 2020 2020 2020  == 404:..       
+0000a130: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+0000a140: 4578 6365 7074 696f 6e28 2741 6e20 696e  Exception('An in
+0000a150: 666f 726d 6564 2072 6573 6f75 7263 6520  formed resource 
+0000a160: 7761 7320 6e6f 7420 666f 756e 6427 2c20  was not found', 
+0000a170: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+0000a180: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+0000a190: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000a1a0: 5f63 6f64 6520 3d3d 2034 3132 3a0d 0a20  _code == 412:.. 
+0000a1b0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000a1c0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000a1d0: 2742 7573 696e 6573 7320 7661 6c69 6461  'Business valida
+0000a1e0: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
+0000a1f0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+0000a200: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+0000a210: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+0000a220: 6465 203d 3d20 3432 323a 0d0a 2020 2020  de == 422:..    
+0000a230: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+0000a240: 726f 7245 7863 6570 7469 6f6e 2827 436f  rorException('Co
+0000a250: 6e74 7261 6374 2076 616c 6964 6174 696f  ntract validatio
+0000a260: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
+0000a270: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+0000a280: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+0000a290: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+0000a2a0: 3d3d 2035 3030 3a0d 0a20 2020 2020 2020  == 500:..       
+0000a2b0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+0000a2c0: 4578 6365 7074 696f 6e28 2749 6e74 6572  Exception('Inter
+0000a2d0: 6e61 6c20 7365 7276 6572 2065 7272 6f72  nal server error
+0000a2e0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+0000a2f0: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
+0000a300: 6174 655f 7265 7370 6f6e 7365 285f 636f  ate_response(_co
+0000a310: 6e74 6578 7429 0d0a 0d0a 2020 2020 2020  ntext)....      
+0000a320: 2020 2320 5265 7475 726e 2061 7070 726f    # Return appro
+0000a330: 7072 6961 7465 2074 7970 650d 0a20 2020  priate type..   
+0000a340: 2020 2020 2072 6574 7572 6e20 4150 4948       return APIH
+0000a350: 656c 7065 722e 6a73 6f6e 5f64 6573 6572  elper.json_deser
+0000a360: 6961 6c69 7a65 285f 636f 6e74 6578 742e  ialize(_context.
+0000a370: 7265 7370 6f6e 7365 2e72 6177 5f62 6f64  response.raw_bod
+0000a380: 792c 2053 7562 7363 7269 7074 696f 6e73  y, Subscriptions
+0000a390: 5265 7370 6f6e 7365 332e 6672 6f6d 5f64  Response3.from_d
+0000a3a0: 6963 7469 6f6e 6172 7929 0d0a 0d0a 2020  ictionary)....  
+0000a3b0: 2020 6465 6620 6765 745f 7573 6167 6573    def get_usages
+0000a3c0: 5f64 6574 6169 6c73 2873 656c 662c 0d0a  _details(self,..
+0000a3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a3e0: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
+0000a3f0: 7269 7074 696f 6e5f 6964 2c0d 0a20 2020  ription_id,..   
+0000a400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a410: 2020 2020 2020 2020 6379 636c 655f 6964          cycle_id
+0000a420: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
+0000a430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a440: 2020 2073 697a 653d 4e6f 6e65 2c0d 0a20     size=None,.. 
+0000a450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a460: 2020 2020 2020 2020 2020 7061 6765 3d4e            page=N
+0000a470: 6f6e 652c 0d0a 2020 2020 2020 2020 2020  one,..          
+0000a480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a490: 2069 7465 6d5f 6964 3d4e 6f6e 652c 0d0a   item_id=None,..
+0000a4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a4b0: 2020 2020 2020 2020 2020 2067 726f 7570             group
+0000a4c0: 3d4e 6f6e 6529 3a0d 0a20 2020 2020 2020  =None):..       
+0000a4d0: 2022 2222 446f 6573 2061 2047 4554 2072   """Does a GET r
+0000a4e0: 6571 7565 7374 2074 6f20 2f73 7562 7363  equest to /subsc
+0000a4f0: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
+0000a500: 6970 7469 6f6e 5f69 647d 2f75 7361 6765  iption_id}/usage
+0000a510: 732d 6465 7461 696c 732f 2e0d 0a0d 0a20  s-details/..... 
+0000a520: 2020 2020 2020 2047 6574 5573 6167 6573         GetUsages
+0000a530: 4465 7461 696c 730d 0a0d 0a20 2020 2020  Details....     
+0000a540: 2020 2041 7267 733a 0d0a 2020 2020 2020     Args:..      
+0000a550: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
+0000a560: 6f6e 5f69 6420 2873 7472 696e 6729 3a20  on_id (string): 
+0000a570: 5375 6273 6372 6970 7469 6f6e 2049 6465  Subscription Ide
+0000a580: 6e74 6966 6965 720d 0a20 2020 2020 2020  ntifier..       
+0000a590: 2020 2020 2063 7963 6c65 5f69 6420 2873       cycle_id (s
+0000a5a0: 7472 696e 672c 206f 7074 696f 6e61 6c29  tring, optional)
+0000a5b0: 3a20 4379 636c 6520 6964 0d0a 2020 2020  : Cycle id..    
+0000a5c0: 2020 2020 2020 2020 7369 7a65 2028 696e          size (in
+0000a5d0: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
+0000a5e0: 6765 2073 697a 650d 0a20 2020 2020 2020  ge size..       
+0000a5f0: 2020 2020 2070 6167 6520 2869 6e74 2c20       page (int, 
+0000a600: 6f70 7469 6f6e 616c 293a 2050 6167 6520  optional): Page 
+0000a610: 6e75 6d62 6572 0d0a 2020 2020 2020 2020  number..        
+0000a620: 2020 2020 6974 656d 5f69 6420 2873 7472      item_id (str
+0000a630: 696e 672c 206f 7074 696f 6e61 6c29 3a20  ing, optional): 
+0000a640: 4964 656e 7469 6669 6361 646f 7220 646f  Identificador do
+0000a650: 2069 7465 6d0d 0a20 2020 2020 2020 2020   item..         
+0000a660: 2020 2067 726f 7570 2028 7374 7269 6e67     group (string
+0000a670: 2c20 6f70 7469 6f6e 616c 293a 2069 6465  , optional): ide
+0000a680: 6e74 6966 6963 6164 6f72 2064 6120 6c6f  ntificador da lo
+0000a690: 6a61 2028 6163 636f 756e 7429 2064 6520  ja (account) de 
+0000a6a0: 6361 6461 0d0a 2020 2020 2020 2020 2020  cada..          
+0000a6b0: 2020 2020 2020 6974 656d 0d0a 0d0a 2020        item....  
+0000a6c0: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
+0000a6d0: 2020 2020 2020 2020 2020 2020 4765 7455              GetU
+0000a6e0: 7361 6765 7344 6574 6169 6c73 5265 7370  sagesDetailsResp
+0000a6f0: 6f6e 7365 3a20 5265 7370 6f6e 7365 2066  onse: Response f
+0000a700: 726f 6d20 7468 6520 4150 492e 200d 0a0d  rom the API. ...
+0000a710: 0a20 2020 2020 2020 2052 6169 7365 733a  .        Raises:
+0000a720: 0d0a 2020 2020 2020 2020 2020 2020 4150  ..            AP
+0000a730: 4945 7863 6570 7469 6f6e 3a20 5768 656e  IException: When
+0000a740: 2061 6e20 6572 726f 7220 6f63 6375 7273   an error occurs
+0000a750: 2077 6869 6c65 2066 6574 6368 696e 6720   while fetching 
+0000a760: 7468 6520 6461 7461 2066 726f 6d0d 0a20  the data from.. 
+0000a770: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0000a780: 6865 2072 656d 6f74 6520 4150 492e 2054  he remote API. T
+0000a790: 6869 7320 6578 6365 7074 696f 6e20 696e  his exception in
+0000a7a0: 636c 7564 6573 2074 6865 2048 5454 5020  cludes the HTTP 
+0000a7b0: 5265 7370 6f6e 7365 0d0a 2020 2020 2020  Response..      
+0000a7c0: 2020 2020 2020 2020 2020 636f 6465 2c20            code, 
+0000a7d0: 616e 2065 7272 6f72 206d 6573 7361 6765  an error message
+0000a7e0: 2c20 616e 6420 7468 6520 4854 5450 2062  , and the HTTP b
+0000a7f0: 6f64 7920 7468 6174 2077 6173 2072 6563  ody that was rec
+0000a800: 6569 7665 6420 696e 0d0a 2020 2020 2020  eived in..      
+0000a810: 2020 2020 2020 2020 2020 7468 6520 7265            the re
+0000a820: 7175 6573 742e 0d0a 0d0a 2020 2020 2020  quest.....      
+0000a830: 2020 2222 220d 0a0d 0a20 2020 2020 2020    """....       
+0000a840: 2023 2050 7265 7061 7265 2071 7565 7279   # Prepare query
+0000a850: 2055 524c 0d0a 2020 2020 2020 2020 5f75   URL..        _u
+0000a860: 726c 5f70 6174 6820 3d20 272f 7375 6273  rl_path = '/subs
+0000a870: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
+0000a880: 7269 7074 696f 6e5f 6964 7d2f 7573 6167  ription_id}/usag
+0000a890: 6573 2d64 6574 6169 6c73 2f27 0d0a 2020  es-details/'..  
+0000a8a0: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
+0000a8b0: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
+0000a8c0: 6e64 5f75 726c 5f77 6974 685f 7465 6d70  nd_url_with_temp
+0000a8d0: 6c61 7465 5f70 6172 616d 6574 6572 7328  late_parameters(
+0000a8e0: 5f75 726c 5f70 6174 682c 207b 200d 0a20  _url_path, { .. 
+0000a8f0: 2020 2020 2020 2020 2020 2027 7375 6273             'subs
+0000a900: 6372 6970 7469 6f6e 5f69 6427 3a20 7375  cription_id': su
+0000a910: 6273 6372 6970 7469 6f6e 5f69 640d 0a20  bscription_id.. 
+0000a920: 2020 2020 2020 207d 290d 0a20 2020 2020         })..     
+0000a930: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
+0000a940: 7220 3d20 436f 6e66 6967 7572 6174 696f  r = Configuratio
+0000a950: 6e2e 6261 7365 5f75 7269 0d0a 2020 2020  n.base_uri..    
+0000a960: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
+0000a970: 6572 202b 3d20 5f75 726c 5f70 6174 680d  er += _url_path.
+0000a980: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+0000a990: 7061 7261 6d65 7465 7273 203d 207b 0d0a  parameters = {..
+0000a9a0: 2020 2020 2020 2020 2020 2020 2763 7963              'cyc
+0000a9b0: 6c65 5f69 6427 3a20 6379 636c 655f 6964  le_id': cycle_id
+0000a9c0: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+0000a9d0: 7369 7a65 273a 2073 697a 652c 0d0a 2020  size': size,..  
+0000a9e0: 2020 2020 2020 2020 2020 2770 6167 6527            'page'
+0000a9f0: 3a20 7061 6765 2c0d 0a20 2020 2020 2020  : page,..       
+0000aa00: 2020 2020 2027 6974 656d 5f69 6427 3a20       'item_id': 
+0000aa10: 6974 656d 5f69 642c 0d0a 2020 2020 2020  item_id,..      
+0000aa20: 2020 2020 2020 2767 726f 7570 273a 2067        'group': g
+0000aa30: 726f 7570 0d0a 2020 2020 2020 2020 7d0d  roup..        }.
+0000aa40: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+0000aa50: 6275 696c 6465 7220 3d20 4150 4948 656c  builder = APIHel
+0000aa60: 7065 722e 6170 7065 6e64 5f75 726c 5f77  per.append_url_w
+0000aa70: 6974 685f 7175 6572 795f 7061 7261 6d65  ith_query_parame
+0000aa80: 7465 7273 285f 7175 6572 795f 6275 696c  ters(_query_buil
+0000aa90: 6465 722c 0d0a 2020 2020 2020 2020 2020  der,..          
+0000aaa0: 2020 5f71 7565 7279 5f70 6172 616d 6574    _query_paramet
+0000aab0: 6572 732c 2043 6f6e 6669 6775 7261 7469  ers, Configurati
+0000aac0: 6f6e 2e61 7272 6179 5f73 6572 6961 6c69  on.array_seriali
+0000aad0: 7a61 7469 6f6e 290d 0a20 2020 2020 2020  zation)..       
+0000aae0: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
+0000aaf0: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
+0000ab00: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
+0000ab10: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
+0000ab20: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
+0000ab30: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
+0000ab40: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+0000ab50: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
+0000ab60: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
+0000ab70: 0a20 2020 2020 2020 2020 2020 2027 5365  .            'Se
+0000ab80: 7276 6963 6552 6566 6572 6572 4e61 6d65  rviceRefererName
+0000ab90: 273a 2043 6f6e 6669 6775 7261 7469 6f6e  ': Configuration
+0000aba0: 2e73 6572 7669 6365 5f72 6566 6572 6572  .service_referer
+0000abb0: 5f6e 616d 650d 0a20 2020 2020 2020 207d  _name..        }
+0000abc0: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
+0000abd0: 6570 6172 6520 616e 6420 6578 6563 7574  epare and execut
+0000abe0: 6520 7265 7175 6573 740d 0a20 2020 2020  e request..     
+0000abf0: 2020 205f 7265 7175 6573 7420 3d20 7365     _request = se
+0000ac00: 6c66 2e68 7474 705f 636c 6965 6e74 2e67  lf.http_client.g
+0000ac10: 6574 285f 7175 6572 795f 7572 6c2c 2068  et(_query_url, h
+0000ac20: 6561 6465 7273 3d5f 6865 6164 6572 7329  eaders=_headers)
+0000ac30: 0d0a 2020 2020 2020 2020 4261 7369 6341  ..        BasicA
+0000ac40: 7574 682e 6170 706c 7928 5f72 6571 7565  uth.apply(_reque
+0000ac50: 7374 290d 0a20 2020 2020 2020 205f 636f  st)..        _co
+0000ac60: 6e74 6578 7420 3d20 7365 6c66 2e65 7865  ntext = self.exe
+0000ac70: 6375 7465 5f72 6571 7565 7374 285f 7265  cute_request(_re
+0000ac80: 7175 6573 7429 0d0a 0d0a 2020 2020 2020  quest)....      
+0000ac90: 2020 2320 456e 6470 6f69 6e74 2061 6e64    # Endpoint and
+0000aca0: 2067 6c6f 6261 6c20 6572 726f 7220 6861   global error ha
+0000acb0: 6e64 6c69 6e67 2075 7369 6e67 2048 5454  ndling using HTT
+0000acc0: 5020 7374 6174 7573 2063 6f64 6573 2e0d  P status codes..
+0000acd0: 0a20 2020 2020 2020 2069 6620 5f63 6f6e  .        if _con
+0000ace0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+0000acf0: 6174 7573 5f63 6f64 6520 3d3d 2034 3030  atus_code == 400
+0000ad00: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+0000ad10: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+0000ad20: 696f 6e28 2749 6e76 616c 6964 2072 6571  ion('Invalid req
+0000ad30: 7565 7374 272c 205f 636f 6e74 6578 7429  uest', _context)
+0000ad40: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+0000ad50: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+0000ad60: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+0000ad70: 3430 313a 0d0a 2020 2020 2020 2020 2020  401:..          
+0000ad80: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+0000ad90: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
+0000ada0: 4150 4920 6b65 7927 2c20 5f63 6f6e 7465  API key', _conte
+0000adb0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+0000adc0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+0000add0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+0000ade0: 3d3d 2034 3034 3a0d 0a20 2020 2020 2020  == 404:..       
+0000adf0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+0000ae00: 4578 6365 7074 696f 6e28 2741 6e20 696e  Exception('An in
+0000ae10: 666f 726d 6564 2072 6573 6f75 7263 6520  formed resource 
+0000ae20: 7761 7320 6e6f 7420 666f 756e 6427 2c20  was not found', 
+0000ae30: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+0000ae40: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+0000ae50: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000ae60: 5f63 6f64 6520 3d3d 2034 3132 3a0d 0a20  _code == 412:.. 
+0000ae70: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000ae80: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000ae90: 2742 7573 696e 6573 7320 7661 6c69 6461  'Business valida
+0000aea0: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
+0000aeb0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+0000aec0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+0000aed0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+0000aee0: 6465 203d 3d20 3432 323a 0d0a 2020 2020  de == 422:..    
+0000aef0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+0000af00: 726f 7245 7863 6570 7469 6f6e 2827 436f  rorException('Co
+0000af10: 6e74 7261 6374 2076 616c 6964 6174 696f  ntract validatio
+0000af20: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
+0000af30: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+0000af40: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+0000af50: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+0000af60: 3d3d 2035 3030 3a0d 0a20 2020 2020 2020  == 500:..       
+0000af70: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+0000af80: 4578 6365 7074 696f 6e28 2749 6e74 6572  Exception('Inter
+0000af90: 6e61 6c20 7365 7276 6572 2065 7272 6f72  nal server error
+0000afa0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+0000afb0: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
+0000afc0: 6174 655f 7265 7370 6f6e 7365 285f 636f  ate_response(_co
+0000afd0: 6e74 6578 7429 0d0a 0d0a 2020 2020 2020  ntext)....      
+0000afe0: 2020 2320 5265 7475 726e 2061 7070 726f    # Return appro
+0000aff0: 7072 6961 7465 2074 7970 650d 0a20 2020  priate type..   
+0000b000: 2020 2020 2072 6574 7572 6e20 4150 4948       return APIH
+0000b010: 656c 7065 722e 6a73 6f6e 5f64 6573 6572  elper.json_deser
+0000b020: 6961 6c69 7a65 285f 636f 6e74 6578 742e  ialize(_context.
+0000b030: 7265 7370 6f6e 7365 2e72 6177 5f62 6f64  response.raw_bod
+0000b040: 792c 2047 6574 5573 6167 6573 4465 7461  y, GetUsagesDeta
+0000b050: 696c 7352 6573 706f 6e73 652e 6672 6f6d  ilsResponse.from
+0000b060: 5f64 6963 7469 6f6e 6172 7929 0d0a 0d0a  _dictionary)....
+0000b070: 2020 2020 6465 6620 7265 6e65 775f 7375      def renew_su
+0000b080: 6273 6372 6970 7469 6f6e 2873 656c 662c  bscription(self,
+0000b090: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000b0a0: 2020 2020 2020 2020 2020 2020 2073 7562               sub
+0000b0b0: 7363 7269 7074 696f 6e5f 6964 2c0d 0a20  scription_id,.. 
+0000b0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b0d0: 2020 2020 2020 2020 2020 6964 656d 706f            idempo
+0000b0e0: 7465 6e63 795f 6b65 793d 4e6f 6e65 293a  tency_key=None):
+0000b0f0: 0d0a 2020 2020 2020 2020 2222 2244 6f65  ..        """Doe
+0000b100: 7320 6120 504f 5354 2072 6571 7565 7374  s a POST request
+0000b110: 2074 6f20 2f73 7562 7363 7269 7074 696f   to /subscriptio
+0000b120: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
+0000b130: 5f69 647d 2f63 7963 6c65 732e 0d0a 0d0a  _id}/cycles.....
+0000b140: 2020 2020 2020 2020 5265 6e65 7753 7562          RenewSub
+0000b150: 7363 7269 7074 696f 6e0d 0a0d 0a20 2020  scription....   
+0000b160: 2020 2020 2041 7267 733a 0d0a 2020 2020       Args:..    
+0000b170: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
+0000b180: 7469 6f6e 5f69 6420 2873 7472 696e 6729  tion_id (string)
+0000b190: 3a20 544f 444f 3a20 7479 7065 2064 6573  : TODO: type des
+0000b1a0: 6372 6970 7469 6f6e 2068 6572 652e 2045  cription here. E
+0000b1b0: 7861 6d70 6c65 3a20 0d0a 2020 2020 2020  xample: ..      
+0000b1c0: 2020 2020 2020 6964 656d 706f 7465 6e63        idempotenc
+0000b1d0: 795f 6b65 7920 2873 7472 696e 672c 206f  y_key (string, o
+0000b1e0: 7074 696f 6e61 6c29 3a20 544f 444f 3a20  ptional): TODO: 
+0000b1f0: 7479 7065 2064 6573 6372 6970 7469 6f6e  type description
+0000b200: 2068 6572 652e 0d0a 2020 2020 2020 2020   here...        
+0000b210: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
+0000b220: 200d 0a0d 0a20 2020 2020 2020 2052 6574   ....        Ret
+0000b230: 7572 6e73 3a0d 0a20 2020 2020 2020 2020  urns:..         
+0000b240: 2020 2053 7562 7363 7269 7074 696f 6e73     Subscriptions
+0000b250: 4379 636c 6573 5265 7370 6f6e 7365 3a20  CyclesResponse: 
+0000b260: 5265 7370 6f6e 7365 2066 726f 6d20 7468  Response from th
+0000b270: 6520 4150 492e 200d 0a0d 0a20 2020 2020  e API. ....     
+0000b280: 2020 2052 6169 7365 733a 0d0a 2020 2020     Raises:..    
+0000b290: 2020 2020 2020 2020 4150 4945 7863 6570          APIExcep
+0000b2a0: 7469 6f6e 3a20 5768 656e 2061 6e20 6572  tion: When an er
+0000b2b0: 726f 7220 6f63 6375 7273 2077 6869 6c65  ror occurs while
+0000b2c0: 2066 6574 6368 696e 6720 7468 6520 6461   fetching the da
+0000b2d0: 7461 2066 726f 6d0d 0a20 2020 2020 2020  ta from..       
+0000b2e0: 2020 2020 2020 2020 2074 6865 2072 656d           the rem
+0000b2f0: 6f74 6520 4150 492e 2054 6869 7320 6578  ote API. This ex
+0000b300: 6365 7074 696f 6e20 696e 636c 7564 6573  ception includes
+0000b310: 2074 6865 2048 5454 5020 5265 7370 6f6e   the HTTP Respon
+0000b320: 7365 0d0a 2020 2020 2020 2020 2020 2020  se..            
+0000b330: 2020 2020 636f 6465 2c20 616e 2065 7272      code, an err
+0000b340: 6f72 206d 6573 7361 6765 2c20 616e 6420  or message, and 
+0000b350: 7468 6520 4854 5450 2062 6f64 7920 7468  the HTTP body th
+0000b360: 6174 2077 6173 2072 6563 6569 7665 6420  at was received 
+0000b370: 696e 0d0a 2020 2020 2020 2020 2020 2020  in..            
+0000b380: 2020 2020 7468 6520 7265 7175 6573 742e      the request.
+0000b390: 0d0a 0d0a 2020 2020 2020 2020 2222 220d  ....        """.
+0000b3a0: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+0000b3b0: 7061 7265 2071 7565 7279 2055 524c 0d0a  pare query URL..
+0000b3c0: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
+0000b3d0: 6820 3d20 272f 7375 6273 6372 6970 7469  h = '/subscripti
+0000b3e0: 6f6e 732f 7b73 7562 7363 7269 7074 696f  ons/{subscriptio
+0000b3f0: 6e5f 6964 7d2f 6379 636c 6573 270d 0a20  n_id}/cycles'.. 
+0000b400: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
+0000b410: 203d 2041 5049 4865 6c70 6572 2e61 7070   = APIHelper.app
+0000b420: 656e 645f 7572 6c5f 7769 7468 5f74 656d  end_url_with_tem
+0000b430: 706c 6174 655f 7061 7261 6d65 7465 7273  plate_parameters
+0000b440: 285f 7572 6c5f 7061 7468 2c20 7b20 0d0a  (_url_path, { ..
+0000b450: 2020 2020 2020 2020 2020 2020 2773 7562              'sub
+0000b460: 7363 7269 7074 696f 6e5f 6964 273a 2073  scription_id': s
+0000b470: 7562 7363 7269 7074 696f 6e5f 6964 0d0a  ubscription_id..
+0000b480: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
+0000b490: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
+0000b4a0: 6572 203d 2043 6f6e 6669 6775 7261 7469  er = Configurati
+0000b4b0: 6f6e 2e62 6173 655f 7572 690d 0a20 2020  on.base_uri..   
+0000b4c0: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
+0000b4d0: 6465 7220 2b3d 205f 7572 6c5f 7061 7468  der += _url_path
+0000b4e0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+0000b4f0: 5f75 726c 203d 2041 5049 4865 6c70 6572  _url = APIHelper
+0000b500: 2e63 6c65 616e 5f75 726c 285f 7175 6572  .clean_url(_quer
+0000b510: 795f 6275 696c 6465 7229 0d0a 0d0a 2020  y_builder)....  
+0000b520: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+0000b530: 6865 6164 6572 730d 0a20 2020 2020 2020  headers..       
+0000b540: 205f 6865 6164 6572 7320 3d20 7b0d 0a20   _headers = {.. 
+0000b550: 2020 2020 2020 2020 2020 2027 6163 6365             'acce
+0000b560: 7074 273a 2027 6170 706c 6963 6174 696f  pt': 'applicatio
+0000b570: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
+0000b580: 2020 2020 2020 2753 6572 7669 6365 5265        'ServiceRe
+0000b590: 6665 7265 724e 616d 6527 3a20 436f 6e66  fererName': Conf
+0000b5a0: 6967 7572 6174 696f 6e2e 7365 7276 6963  iguration.servic
+0000b5b0: 655f 7265 6665 7265 725f 6e61 6d65 2c0d  e_referer_name,.
+0000b5c0: 0a20 2020 2020 2020 2020 2020 2027 6964  .            'id
+0000b5d0: 656d 706f 7465 6e63 792d 6b65 7927 3a20  empotency-key': 
+0000b5e0: 6964 656d 706f 7465 6e63 795f 6b65 790d  idempotency_key.
+0000b5f0: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
+0000b600: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+0000b610: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
+0000b620: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
+0000b630: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
+0000b640: 705f 636c 6965 6e74 2e70 6f73 7428 5f71  p_client.post(_q
+0000b650: 7565 7279 5f75 726c 2c20 6865 6164 6572  uery_url, header
+0000b660: 733d 5f68 6561 6465 7273 290d 0a20 2020  s=_headers)..   
+0000b670: 2020 2020 2042 6173 6963 4175 7468 2e61       BasicAuth.a
+0000b680: 7070 6c79 285f 7265 7175 6573 7429 0d0a  pply(_request)..
+0000b690: 2020 2020 2020 2020 5f63 6f6e 7465 7874          _context
+0000b6a0: 203d 2073 656c 662e 6578 6563 7574 655f   = self.execute_
+0000b6b0: 7265 7175 6573 7428 5f72 6571 7565 7374  request(_request
+0000b6c0: 290d 0a0d 0a20 2020 2020 2020 2023 2045  )....        # E
+0000b6d0: 6e64 706f 696e 7420 616e 6420 676c 6f62  ndpoint and glob
+0000b6e0: 616c 2065 7272 6f72 2068 616e 646c 696e  al error handlin
+0000b6f0: 6720 7573 696e 6720 4854 5450 2073 7461  g using HTTP sta
+0000b700: 7475 7320 636f 6465 732e 0d0a 2020 2020  tus codes...    
+0000b710: 2020 2020 6966 205f 636f 6e74 6578 742e      if _context.
+0000b720: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+0000b730: 636f 6465 203d 3d20 3430 303a 0d0a 2020  code == 400:..  
+0000b740: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0000b750: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+0000b760: 496e 7661 6c69 6420 7265 7175 6573 7427  Invalid request'
+0000b770: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+0000b780: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+0000b790: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+0000b7a0: 7573 5f63 6f64 6520 3d3d 2034 3031 3a0d  us_code == 401:.
+0000b7b0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0000b7c0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+0000b7d0: 6e28 2749 6e76 616c 6964 2041 5049 206b  n('Invalid API k
+0000b7e0: 6579 272c 205f 636f 6e74 6578 7429 0d0a  ey', _context)..
+0000b7f0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+0000b800: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+0000b810: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+0000b820: 343a 0d0a 2020 2020 2020 2020 2020 2020  4:..            
+0000b830: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+0000b840: 7469 6f6e 2827 416e 2069 6e66 6f72 6d65  tion('An informe
+0000b850: 6420 7265 736f 7572 6365 2077 6173 206e  d resource was n
+0000b860: 6f74 2066 6f75 6e64 272c 205f 636f 6e74  ot found', _cont
+0000b870: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+0000b880: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+0000b890: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+0000b8a0: 203d 3d20 3431 323a 0d0a 2020 2020 2020   == 412:..      
+0000b8b0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+0000b8c0: 7245 7863 6570 7469 6f6e 2827 4275 7369  rException('Busi
+0000b8d0: 6e65 7373 2076 616c 6964 6174 696f 6e20  ness validation 
+0000b8e0: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
+0000b8f0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+0000b900: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+0000b910: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+0000b920: 2034 3232 3a0d 0a20 2020 2020 2020 2020   422:..         
+0000b930: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+0000b940: 6365 7074 696f 6e28 2743 6f6e 7472 6163  ception('Contrac
+0000b950: 7420 7661 6c69 6461 7469 6f6e 2065 7272  t validation err
+0000b960: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+0000b970: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+0000b980: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+0000b990: 7461 7475 735f 636f 6465 203d 3d20 3530  tatus_code == 50
+0000b9a0: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+0000b9b0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+0000b9c0: 7469 6f6e 2827 496e 7465 726e 616c 2073  tion('Internal s
+0000b9d0: 6572 7665 7220 6572 726f 7227 2c20 5f63  erver error', _c
+0000b9e0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+0000b9f0: 2073 656c 662e 7661 6c69 6461 7465 5f72   self.validate_r
+0000ba00: 6573 706f 6e73 6528 5f63 6f6e 7465 7874  esponse(_context
+0000ba10: 290d 0a0d 0a20 2020 2020 2020 2023 2052  )....        # R
+0000ba20: 6574 7572 6e20 6170 7072 6f70 7269 6174  eturn appropriat
+0000ba30: 6520 7479 7065 0d0a 2020 2020 2020 2020  e type..        
+0000ba40: 7265 7475 726e 2041 5049 4865 6c70 6572  return APIHelper
+0000ba50: 2e6a 736f 6e5f 6465 7365 7269 616c 697a  .json_deserializ
+0000ba60: 6528 5f63 6f6e 7465 7874 2e72 6573 706f  e(_context.respo
+0000ba70: 6e73 652e 7261 775f 626f 6479 2c20 5375  nse.raw_body, Su
+0000ba80: 6273 6372 6970 7469 6f6e 7343 7963 6c65  bscriptionsCycle
+0000ba90: 7352 6573 706f 6e73 652e 6672 6f6d 5f64  sResponse.from_d
+0000baa0: 6963 7469 6f6e 6172 7929 0d0a 0d0a 2020  ictionary)....  
+0000bab0: 2020 6465 6620 6765 745f 7375 6273 6372    def get_subscr
+0000bac0: 6970 7469 6f6e 5f63 7963 6c65 7328 7365  iption_cycles(se
+0000bad0: 6c66 2c0d 0a20 2020 2020 2020 2020 2020  lf,..           
+0000bae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000baf0: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
+0000bb00: 6e5f 6964 2c0d 0a20 2020 2020 2020 2020  n_id,..         
+0000bb10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb20: 2020 2020 2020 2070 6167 652c 0d0a 2020         page,..  
+0000bb30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bb40: 2020 2020 2020 2020 2020 2020 2020 7369                si
+0000bb50: 7a65 293a 0d0a 2020 2020 2020 2020 2222  ze):..        ""
+0000bb60: 2244 6f65 7320 6120 4745 5420 7265 7175  "Does a GET requ
+0000bb70: 6573 7420 746f 202f 7375 6273 6372 6970  est to /subscrip
+0000bb80: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
+0000bb90: 696f 6e5f 6964 7d2f 6379 636c 6573 2e0d  ion_id}/cycles..
+0000bba0: 0a0d 0a20 2020 2020 2020 2047 6574 5375  ...        GetSu
+0000bbb0: 6273 6372 6970 7469 6f6e 4379 636c 6573  bscriptionCycles
+0000bbc0: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
+0000bbd0: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
+0000bbe0: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
+0000bbf0: 7374 7269 6e67 293a 2053 7562 7363 7269  string): Subscri
+0000bc00: 7074 696f 6e20 4964 0d0a 2020 2020 2020  ption Id..      
+0000bc10: 2020 2020 2020 7061 6765 2028 7374 7269        page (stri
+0000bc20: 6e67 293a 2050 6167 6520 6e75 6d62 6572  ng): Page number
+0000bc30: 0d0a 2020 2020 2020 2020 2020 2020 7369  ..            si
+0000bc40: 7a65 2028 7374 7269 6e67 293a 2050 6167  ze (string): Pag
+0000bc50: 6520 7369 7a65 0d0a 0d0a 2020 2020 2020  e size....      
+0000bc60: 2020 5265 7475 726e 733a 0d0a 2020 2020    Returns:..    
+0000bc70: 2020 2020 2020 2020 5375 6273 6372 6970          Subscrip
+0000bc80: 7469 6f6e 7343 7963 6c65 7352 6573 706f  tionsCyclesRespo
+0000bc90: 6e73 6532 3a20 5265 7370 6f6e 7365 2066  nse2: Response f
+0000bca0: 726f 6d20 7468 6520 4150 492e 200d 0a0d  rom the API. ...
+0000bcb0: 0a20 2020 2020 2020 2052 6169 7365 733a  .        Raises:
+0000bcc0: 0d0a 2020 2020 2020 2020 2020 2020 4150  ..            AP
+0000bcd0: 4945 7863 6570 7469 6f6e 3a20 5768 656e  IException: When
+0000bce0: 2061 6e20 6572 726f 7220 6f63 6375 7273   an error occurs
+0000bcf0: 2077 6869 6c65 2066 6574 6368 696e 6720   while fetching 
+0000bd00: 7468 6520 6461 7461 2066 726f 6d0d 0a20  the data from.. 
+0000bd10: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0000bd20: 6865 2072 656d 6f74 6520 4150 492e 2054  he remote API. T
+0000bd30: 6869 7320 6578 6365 7074 696f 6e20 696e  his exception in
+0000bd40: 636c 7564 6573 2074 6865 2048 5454 5020  cludes the HTTP 
+0000bd50: 5265 7370 6f6e 7365 0d0a 2020 2020 2020  Response..      
+0000bd60: 2020 2020 2020 2020 2020 636f 6465 2c20            code, 
+0000bd70: 616e 2065 7272 6f72 206d 6573 7361 6765  an error message
+0000bd80: 2c20 616e 6420 7468 6520 4854 5450 2062  , and the HTTP b
+0000bd90: 6f64 7920 7468 6174 2077 6173 2072 6563  ody that was rec
+0000bda0: 6569 7665 6420 696e 0d0a 2020 2020 2020  eived in..      
+0000bdb0: 2020 2020 2020 2020 2020 7468 6520 7265            the re
+0000bdc0: 7175 6573 742e 0d0a 0d0a 2020 2020 2020  quest.....      
+0000bdd0: 2020 2222 220d 0a0d 0a20 2020 2020 2020    """....       
+0000bde0: 2023 2050 7265 7061 7265 2071 7565 7279   # Prepare query
+0000bdf0: 2055 524c 0d0a 2020 2020 2020 2020 5f75   URL..        _u
+0000be00: 726c 5f70 6174 6820 3d20 272f 7375 6273  rl_path = '/subs
+0000be10: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
+0000be20: 7269 7074 696f 6e5f 6964 7d2f 6379 636c  ription_id}/cycl
+0000be30: 6573 270d 0a20 2020 2020 2020 205f 7572  es'..        _ur
+0000be40: 6c5f 7061 7468 203d 2041 5049 4865 6c70  l_path = APIHelp
+0000be50: 6572 2e61 7070 656e 645f 7572 6c5f 7769  er.append_url_wi
+0000be60: 7468 5f74 656d 706c 6174 655f 7061 7261  th_template_para
+0000be70: 6d65 7465 7273 285f 7572 6c5f 7061 7468  meters(_url_path
+0000be80: 2c20 7b20 0d0a 2020 2020 2020 2020 2020  , { ..          
+0000be90: 2020 2773 7562 7363 7269 7074 696f 6e5f    'subscription_
+0000bea0: 6964 273a 2073 7562 7363 7269 7074 696f  id': subscriptio
+0000beb0: 6e5f 6964 0d0a 2020 2020 2020 2020 7d29  n_id..        })
+0000bec0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+0000bed0: 5f62 7569 6c64 6572 203d 2043 6f6e 6669  _builder = Confi
+0000bee0: 6775 7261 7469 6f6e 2e62 6173 655f 7572  guration.base_ur
+0000bef0: 690d 0a20 2020 2020 2020 205f 7175 6572  i..        _quer
+0000bf00: 795f 6275 696c 6465 7220 2b3d 205f 7572  y_builder += _ur
+0000bf10: 6c5f 7061 7468 0d0a 2020 2020 2020 2020  l_path..        
+0000bf20: 5f71 7565 7279 5f70 6172 616d 6574 6572  _query_parameter
+0000bf30: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
+0000bf40: 2020 2027 7061 6765 273a 2070 6167 652c     'page': page,
+0000bf50: 0d0a 2020 2020 2020 2020 2020 2020 2773  ..            's
+0000bf60: 697a 6527 3a20 7369 7a65 0d0a 2020 2020  ize': size..    
+0000bf70: 2020 2020 7d0d 0a20 2020 2020 2020 205f      }..        _
+0000bf80: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
+0000bf90: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
+0000bfa0: 5f75 726c 5f77 6974 685f 7175 6572 795f  _url_with_query_
+0000bfb0: 7061 7261 6d65 7465 7273 285f 7175 6572  parameters(_quer
+0000bfc0: 795f 6275 696c 6465 722c 0d0a 2020 2020  y_builder,..    
+0000bfd0: 2020 2020 2020 2020 5f71 7565 7279 5f70          _query_p
+0000bfe0: 6172 616d 6574 6572 732c 2043 6f6e 6669  arameters, Confi
+0000bff0: 6775 7261 7469 6f6e 2e61 7272 6179 5f73  guration.array_s
+0000c000: 6572 6961 6c69 7a61 7469 6f6e 290d 0a20  erialization).. 
+0000c010: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
+0000c020: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
+0000c030: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
+0000c040: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
+0000c050: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
+0000c060: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
+0000c070: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
+0000c080: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
+0000c090: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
+0000c0a0: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
+0000c0b0: 2020 2027 5365 7276 6963 6552 6566 6572     'ServiceRefer
+0000c0c0: 6572 4e61 6d65 273a 2043 6f6e 6669 6775  erName': Configu
+0000c0d0: 7261 7469 6f6e 2e73 6572 7669 6365 5f72  ration.service_r
+0000c0e0: 6566 6572 6572 5f6e 616d 650d 0a20 2020  eferer_name..   
+0000c0f0: 2020 2020 207d 0d0a 0d0a 2020 2020 2020       }....      
+0000c100: 2020 2320 5072 6570 6172 6520 616e 6420    # Prepare and 
+0000c110: 6578 6563 7574 6520 7265 7175 6573 740d  execute request.
+0000c120: 0a20 2020 2020 2020 205f 7265 7175 6573  .        _reques
+0000c130: 7420 3d20 7365 6c66 2e68 7474 705f 636c  t = self.http_cl
+0000c140: 6965 6e74 2e67 6574 285f 7175 6572 795f  ient.get(_query_
+0000c150: 7572 6c2c 2068 6561 6465 7273 3d5f 6865  url, headers=_he
+0000c160: 6164 6572 7329 0d0a 2020 2020 2020 2020  aders)..        
+0000c170: 4261 7369 6341 7574 682e 6170 706c 7928  BasicAuth.apply(
+0000c180: 5f72 6571 7565 7374 290d 0a20 2020 2020  _request)..     
+0000c190: 2020 205f 636f 6e74 6578 7420 3d20 7365     _context = se
+0000c1a0: 6c66 2e65 7865 6375 7465 5f72 6571 7565  lf.execute_reque
+0000c1b0: 7374 285f 7265 7175 6573 7429 0d0a 0d0a  st(_request)....
+0000c1c0: 2020 2020 2020 2020 2320 456e 6470 6f69          # Endpoi
+0000c1d0: 6e74 2061 6e64 2067 6c6f 6261 6c20 6572  nt and global er
+0000c1e0: 726f 7220 6861 6e64 6c69 6e67 2075 7369  ror handling usi
+0000c1f0: 6e67 2048 5454 5020 7374 6174 7573 2063  ng HTTP status c
+0000c200: 6f64 6573 2e0d 0a20 2020 2020 2020 2069  odes...        i
+0000c210: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+0000c220: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+0000c230: 3d3d 2034 3030 3a0d 0a20 2020 2020 2020  == 400:..       
+0000c240: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+0000c250: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
+0000c260: 6964 2072 6571 7565 7374 272c 205f 636f  id request', _co
+0000c270: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+0000c280: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+0000c290: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+0000c2a0: 6465 203d 3d20 3430 313a 0d0a 2020 2020  de == 401:..    
+0000c2b0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+0000c2c0: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+0000c2d0: 7661 6c69 6420 4150 4920 6b65 7927 2c20  valid API key', 
+0000c2e0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+0000c2f0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+0000c300: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000c310: 5f63 6f64 6520 3d3d 2034 3034 3a0d 0a20  _code == 404:.. 
+0000c320: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000c330: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000c340: 2741 6e20 696e 666f 726d 6564 2072 6573  'An informed res
+0000c350: 6f75 7263 6520 7761 7320 6e6f 7420 666f  ource was not fo
+0000c360: 756e 6427 2c20 5f63 6f6e 7465 7874 290d  und', _context).
+0000c370: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+0000c380: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+0000c390: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+0000c3a0: 3132 3a0d 0a20 2020 2020 2020 2020 2020  12:..           
+0000c3b0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+0000c3c0: 7074 696f 6e28 2742 7573 696e 6573 7320  ption('Business 
+0000c3d0: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
+0000c3e0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+0000c3f0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+0000c400: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+0000c410: 7475 735f 636f 6465 203d 3d20 3432 323a  tus_code == 422:
+0000c420: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+0000c430: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+0000c440: 6f6e 2827 436f 6e74 7261 6374 2076 616c  on('Contract val
+0000c450: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
+0000c460: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+0000c470: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+0000c480: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000c490: 5f63 6f64 6520 3d3d 2035 3030 3a0d 0a20  _code == 500:.. 
+0000c4a0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000c4b0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000c4c0: 2749 6e74 6572 6e61 6c20 7365 7276 6572  'Internal server
+0000c4d0: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+0000c4e0: 7429 0d0a 2020 2020 2020 2020 7365 6c66  t)..        self
+0000c4f0: 2e76 616c 6964 6174 655f 7265 7370 6f6e  .validate_respon
+0000c500: 7365 285f 636f 6e74 6578 7429 0d0a 0d0a  se(_context)....
+0000c510: 2020 2020 2020 2020 2320 5265 7475 726e          # Return
+0000c520: 2061 7070 726f 7072 6961 7465 2074 7970   appropriate typ
+0000c530: 650d 0a20 2020 2020 2020 2072 6574 7572  e..        retur
+0000c540: 6e20 4150 4948 656c 7065 722e 6a73 6f6e  n APIHelper.json
+0000c550: 5f64 6573 6572 6961 6c69 7a65 285f 636f  _deserialize(_co
+0000c560: 6e74 6578 742e 7265 7370 6f6e 7365 2e72  ntext.response.r
+0000c570: 6177 5f62 6f64 792c 2053 7562 7363 7269  aw_body, Subscri
+0000c580: 7074 696f 6e73 4379 636c 6573 5265 7370  ptionsCyclesResp
+0000c590: 6f6e 7365 322e 6672 6f6d 5f64 6963 7469  onse2.from_dicti
+0000c5a0: 6f6e 6172 7929 0d0a 0d0a 2020 2020 6465  onary)....    de
+0000c5b0: 6620 6372 6561 7465 5f61 6e5f 7573 6167  f create_an_usag
+0000c5c0: 6528 7365 6c66 2c0d 0a20 2020 2020 2020  e(self,..       
+0000c5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c5e0: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
+0000c5f0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0000c600: 2020 2020 2020 2020 2020 2069 7465 6d5f             item_
+0000c610: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
+0000c620: 2020 2020 2020 2020 2020 2020 2069 6465               ide
+0000c630: 6d70 6f74 656e 6379 5f6b 6579 3d4e 6f6e  mpotency_key=Non
+0000c640: 6529 3a0d 0a20 2020 2020 2020 2022 2222  e):..        """
+0000c650: 446f 6573 2061 2050 4f53 5420 7265 7175  Does a POST requ
+0000c660: 6573 7420 746f 202f 7375 6273 6372 6970  est to /subscrip
+0000c670: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
+0000c680: 696f 6e5f 6964 7d2f 6974 656d 732f 7b69  ion_id}/items/{i
+0000c690: 7465 6d5f 6964 7d2f 7573 6167 6573 2e0d  tem_id}/usages..
+0000c6a0: 0a0d 0a20 2020 2020 2020 2043 7265 6174  ...        Creat
+0000c6b0: 6520 5573 6167 650d 0a0d 0a20 2020 2020  e Usage....     
+0000c6c0: 2020 2041 7267 733a 0d0a 2020 2020 2020     Args:..      
+0000c6d0: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
+0000c6e0: 6f6e 5f69 6420 2873 7472 696e 6729 3a20  on_id (string): 
+0000c6f0: 5375 6273 6372 6970 7469 6f6e 2069 640d  Subscription id.
+0000c700: 0a20 2020 2020 2020 2020 2020 2069 7465  .            ite
+0000c710: 6d5f 6964 2028 7374 7269 6e67 293a 2049  m_id (string): I
+0000c720: 7465 6d20 6964 0d0a 2020 2020 2020 2020  tem id..        
+0000c730: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
+0000c740: 6b65 7920 2873 7472 696e 672c 206f 7074  key (string, opt
+0000c750: 696f 6e61 6c29 3a20 544f 444f 3a20 7479  ional): TODO: ty
+0000c760: 7065 2064 6573 6372 6970 7469 6f6e 2068  pe description h
+0000c770: 6572 652e 0d0a 2020 2020 2020 2020 2020  ere...          
+0000c780: 2020 2020 2020 4578 616d 706c 653a 200d        Example: .
+0000c790: 0a0d 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+0000c7a0: 6e73 3a0d 0a20 2020 2020 2020 2020 2020  ns:..           
+0000c7b0: 2053 7562 7363 7269 7074 696f 6e73 4974   SubscriptionsIt
+0000c7c0: 656d 7355 7361 6765 7352 6573 706f 6e73  emsUsagesRespons
+0000c7d0: 653a 2052 6573 706f 6e73 6520 6672 6f6d  e: Response from
+0000c7e0: 2074 6865 2041 5049 2e20 0d0a 0d0a 2020   the API. ....  
+0000c7f0: 2020 2020 2020 5261 6973 6573 3a0d 0a20        Raises:.. 
+0000c800: 2020 2020 2020 2020 2020 2041 5049 4578             APIEx
+0000c810: 6365 7074 696f 6e3a 2057 6865 6e20 616e  ception: When an
+0000c820: 2065 7272 6f72 206f 6363 7572 7320 7768   error occurs wh
+0000c830: 696c 6520 6665 7463 6869 6e67 2074 6865  ile fetching the
+0000c840: 2064 6174 6120 6672 6f6d 0d0a 2020 2020   data from..    
+0000c850: 2020 2020 2020 2020 2020 2020 7468 6520              the 
+0000c860: 7265 6d6f 7465 2041 5049 2e20 5468 6973  remote API. This
+0000c870: 2065 7863 6570 7469 6f6e 2069 6e63 6c75   exception inclu
+0000c880: 6465 7320 7468 6520 4854 5450 2052 6573  des the HTTP Res
+0000c890: 706f 6e73 650d 0a20 2020 2020 2020 2020  ponse..         
+0000c8a0: 2020 2020 2020 2063 6f64 652c 2061 6e20         code, an 
+0000c8b0: 6572 726f 7220 6d65 7373 6167 652c 2061  error message, a
+0000c8c0: 6e64 2074 6865 2048 5454 5020 626f 6479  nd the HTTP body
+0000c8d0: 2074 6861 7420 7761 7320 7265 6365 6976   that was receiv
+0000c8e0: 6564 2069 6e0d 0a20 2020 2020 2020 2020  ed in..         
+0000c8f0: 2020 2020 2020 2074 6865 2072 6571 7565         the reque
+0000c900: 7374 2e0d 0a0d 0a20 2020 2020 2020 2022  st.....        "
+0000c910: 2222 0d0a 0d0a 2020 2020 2020 2020 2320  ""....        # 
+0000c920: 5072 6570 6172 6520 7175 6572 7920 5552  Prepare query UR
+0000c930: 4c0d 0a20 2020 2020 2020 205f 7572 6c5f  L..        _url_
+0000c940: 7061 7468 203d 2027 2f73 7562 7363 7269  path = '/subscri
+0000c950: 7074 696f 6e73 2f7b 7375 6273 6372 6970  ptions/{subscrip
+0000c960: 7469 6f6e 5f69 647d 2f69 7465 6d73 2f7b  tion_id}/items/{
+0000c970: 6974 656d 5f69 647d 2f75 7361 6765 7327  item_id}/usages'
+0000c980: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
+0000c990: 6174 6820 3d20 4150 4948 656c 7065 722e  ath = APIHelper.
+0000c9a0: 6170 7065 6e64 5f75 726c 5f77 6974 685f  append_url_with_
+0000c9b0: 7465 6d70 6c61 7465 5f70 6172 616d 6574  template_paramet
+0000c9c0: 6572 7328 5f75 726c 5f70 6174 682c 207b  ers(_url_path, {
+0000c9d0: 200d 0a20 2020 2020 2020 2020 2020 2027   ..            '
+0000c9e0: 7375 6273 6372 6970 7469 6f6e 5f69 6427  subscription_id'
+0000c9f0: 3a20 7375 6273 6372 6970 7469 6f6e 5f69  : subscription_i
+0000ca00: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
+0000ca10: 2769 7465 6d5f 6964 273a 2069 7465 6d5f  'item_id': item_
+0000ca20: 6964 0d0a 2020 2020 2020 2020 7d29 0d0a  id..        })..
+0000ca30: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
+0000ca40: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
+0000ca50: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
+0000ca60: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+0000ca70: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
+0000ca80: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
+0000ca90: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
+0000caa0: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
+0000cab0: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
+0000cac0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+0000cad0: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
+0000cae0: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
+0000caf0: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
+0000cb00: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
+0000cb10: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
+0000cb20: 2020 2020 2020 2020 2020 2753 6572 7669            'Servi
+0000cb30: 6365 5265 6665 7265 724e 616d 6527 3a20  ceRefererName': 
+0000cb40: 436f 6e66 6967 7572 6174 696f 6e2e 7365  Configuration.se
+0000cb50: 7276 6963 655f 7265 6665 7265 725f 6e61  rvice_referer_na
+0000cb60: 6d65 2c0d 0a20 2020 2020 2020 2020 2020  me,..           
+0000cb70: 2027 6964 656d 706f 7465 6e63 792d 6b65   'idempotency-ke
+0000cb80: 7927 3a20 6964 656d 706f 7465 6e63 795f  y': idempotency_
+0000cb90: 6b65 790d 0a20 2020 2020 2020 207d 0d0a  key..        }..
+0000cba0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+0000cbb0: 6172 6520 616e 6420 6578 6563 7574 6520  are and execute 
+0000cbc0: 7265 7175 6573 740d 0a20 2020 2020 2020  request..       
+0000cbd0: 205f 7265 7175 6573 7420 3d20 7365 6c66   _request = self
+0000cbe0: 2e68 7474 705f 636c 6965 6e74 2e70 6f73  .http_client.pos
+0000cbf0: 7428 5f71 7565 7279 5f75 726c 2c20 6865  t(_query_url, he
+0000cc00: 6164 6572 733d 5f68 6561 6465 7273 290d  aders=_headers).
+0000cc10: 0a20 2020 2020 2020 2042 6173 6963 4175  .        BasicAu
+0000cc20: 7468 2e61 7070 6c79 285f 7265 7175 6573  th.apply(_reques
+0000cc30: 7429 0d0a 2020 2020 2020 2020 5f63 6f6e  t)..        _con
+0000cc40: 7465 7874 203d 2073 656c 662e 6578 6563  text = self.exec
+0000cc50: 7574 655f 7265 7175 6573 7428 5f72 6571  ute_request(_req
+0000cc60: 7565 7374 290d 0a0d 0a20 2020 2020 2020  uest)....       
+0000cc70: 2023 2045 6e64 706f 696e 7420 616e 6420   # Endpoint and 
+0000cc80: 676c 6f62 616c 2065 7272 6f72 2068 616e  global error han
+0000cc90: 646c 696e 6720 7573 696e 6720 4854 5450  dling using HTTP
+0000cca0: 2073 7461 7475 7320 636f 6465 732e 0d0a   status codes...
+0000ccb0: 2020 2020 2020 2020 6966 205f 636f 6e74          if _cont
+0000ccc0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+0000ccd0: 7475 735f 636f 6465 203d 3d20 3430 303a  tus_code == 400:
+0000cce0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+0000ccf0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+0000cd00: 6f6e 2827 496e 7661 6c69 6420 7265 7175  on('Invalid requ
+0000cd10: 6573 7427 2c20 5f63 6f6e 7465 7874 290d  est', _context).
+0000cd20: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+0000cd30: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+0000cd40: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+0000cd50: 3031 3a0d 0a20 2020 2020 2020 2020 2020  01:..           
+0000cd60: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+0000cd70: 7074 696f 6e28 2749 6e76 616c 6964 2041  ption('Invalid A
+0000cd80: 5049 206b 6579 272c 205f 636f 6e74 6578  PI key', _contex
+0000cd90: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+0000cda0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+0000cdb0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+0000cdc0: 3d20 3430 343a 0d0a 2020 2020 2020 2020  = 404:..        
+0000cdd0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+0000cde0: 7863 6570 7469 6f6e 2827 416e 2069 6e66  xception('An inf
+0000cdf0: 6f72 6d65 6420 7265 736f 7572 6365 2077  ormed resource w
+0000ce00: 6173 206e 6f74 2066 6f75 6e64 272c 205f  as not found', _
+0000ce10: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+0000ce20: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+0000ce30: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+0000ce40: 636f 6465 203d 3d20 3431 323a 0d0a 2020  code == 412:..  
+0000ce50: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0000ce60: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+0000ce70: 4275 7369 6e65 7373 2076 616c 6964 6174  Business validat
+0000ce80: 696f 6e20 6572 726f 7227 2c20 5f63 6f6e  ion error', _con
+0000ce90: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+0000cea0: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+0000ceb0: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+0000cec0: 6520 3d3d 2034 3232 3a0d 0a20 2020 2020  e == 422:..     
+0000ced0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+0000cee0: 6f72 4578 6365 7074 696f 6e28 2743 6f6e  orException('Con
+0000cef0: 7472 6163 7420 7661 6c69 6461 7469 6f6e  tract validation
+0000cf00: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+0000cf10: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+0000cf20: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+0000cf30: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+0000cf40: 3d20 3530 303a 0d0a 2020 2020 2020 2020  = 500:..        
+0000cf50: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+0000cf60: 7863 6570 7469 6f6e 2827 496e 7465 726e  xception('Intern
+0000cf70: 616c 2073 6572 7665 7220 6572 726f 7227  al server error'
+0000cf80: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+0000cf90: 2020 2020 2073 656c 662e 7661 6c69 6461       self.valida
+0000cfa0: 7465 5f72 6573 706f 6e73 6528 5f63 6f6e  te_response(_con
+0000cfb0: 7465 7874 290d 0a0d 0a20 2020 2020 2020  text)....       
+0000cfc0: 2023 2052 6574 7572 6e20 6170 7072 6f70   # Return approp
+0000cfd0: 7269 6174 6520 7479 7065 0d0a 2020 2020  riate type..    
+0000cfe0: 2020 2020 7265 7475 726e 2041 5049 4865      return APIHe
+0000cff0: 6c70 6572 2e6a 736f 6e5f 6465 7365 7269  lper.json_deseri
+0000d000: 616c 697a 6528 5f63 6f6e 7465 7874 2e72  alize(_context.r
+0000d010: 6573 706f 6e73 652e 7261 775f 626f 6479  esponse.raw_body
+0000d020: 2c20 5375 6273 6372 6970 7469 6f6e 7349  , SubscriptionsI
+0000d030: 7465 6d73 5573 6167 6573 5265 7370 6f6e  temsUsagesRespon
+0000d040: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
+0000d050: 7279 290d 0a0d 0a20 2020 2064 6566 2067  ry)....    def g
+0000d060: 6574 5f75 7361 6765 7328 7365 6c66 2c0d  et_usages(self,.
 0000d070: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d080: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
-0000d090: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
-0000d0a0: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
-0000d0b0: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
-0000d0c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d0d0: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
-0000d0e0: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
-0000d0f0: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-0000d100: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
-0000d110: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
-0000d120: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
-0000d130: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
-0000d140: 647d 2f69 7465 6d73 2f7b 6974 656d 5f69  d}/items/{item_i
-0000d150: 647d 2f75 7361 6765 7327 0d0a 2020 2020  d}/usages'..    
-0000d160: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
-0000d170: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
-0000d180: 5f75 726c 5f77 6974 685f 7465 6d70 6c61  _url_with_templa
-0000d190: 7465 5f70 6172 616d 6574 6572 7328 5f75  te_parameters(_u
-0000d1a0: 726c 5f70 6174 682c 207b 200d 0a20 2020  rl_path, { ..   
-0000d1b0: 2020 2020 2020 2020 2027 7375 6273 6372           'subscr
-0000d1c0: 6970 7469 6f6e 5f69 6427 3a20 7375 6273  iption_id': subs
-0000d1d0: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
-0000d1e0: 2020 2020 2020 2020 2020 2769 7465 6d5f            'item_
-0000d1f0: 6964 273a 2069 7465 6d5f 6964 0d0a 2020  id': item_id..  
-0000d200: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
-0000d210: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-0000d220: 203d 2043 6f6e 6669 6775 7261 7469 6f6e   = Configuration
-0000d230: 2e62 6173 655f 7572 690d 0a20 2020 2020  .base_uri..     
-0000d240: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
-0000d250: 7220 2b3d 205f 7572 6c5f 7061 7468 0d0a  r += _url_path..
-0000d260: 2020 2020 2020 2020 5f71 7565 7279 5f70          _query_p
-0000d270: 6172 616d 6574 6572 7320 3d20 7b0d 0a20  arameters = {.. 
-0000d280: 2020 2020 2020 2020 2020 2027 7061 6765             'page
-0000d290: 273a 2070 6167 652c 0d0a 2020 2020 2020  ': page,..      
-0000d2a0: 2020 2020 2020 2773 697a 6527 3a20 7369        'size': si
-0000d2b0: 7a65 2c0d 0a20 2020 2020 2020 2020 2020  ze,..           
-0000d2c0: 2027 636f 6465 273a 2063 6f64 652c 0d0a   'code': code,..
-0000d2d0: 2020 2020 2020 2020 2020 2020 2767 726f              'gro
-0000d2e0: 7570 273a 2067 726f 7570 2c0d 0a20 2020  up': group,..   
-0000d2f0: 2020 2020 2020 2020 2027 7573 6564 5f73           'used_s
-0000d300: 696e 6365 273a 2041 5049 4865 6c70 6572  ince': APIHelper
-0000d310: 2e77 6865 6e5f 6465 6669 6e65 6428 4150  .when_defined(AP
-0000d320: 4948 656c 7065 722e 5246 4333 3333 3944  IHelper.RFC3339D
-0000d330: 6174 6554 696d 652c 2075 7365 645f 7369  ateTime, used_si
-0000d340: 6e63 6529 2c0d 0a20 2020 2020 2020 2020  nce),..         
-0000d350: 2020 2027 7573 6564 5f75 6e74 696c 273a     'used_until':
-0000d360: 2041 5049 4865 6c70 6572 2e77 6865 6e5f   APIHelper.when_
-0000d370: 6465 6669 6e65 6428 4150 4948 656c 7065  defined(APIHelpe
-0000d380: 722e 5246 4333 3333 3944 6174 6554 696d  r.RFC3339DateTim
-0000d390: 652c 2075 7365 645f 756e 7469 6c29 0d0a  e, used_until)..
-0000d3a0: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
-0000d3b0: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
-0000d3c0: 7220 3d20 4150 4948 656c 7065 722e 6170  r = APIHelper.ap
-0000d3d0: 7065 6e64 5f75 726c 5f77 6974 685f 7175  pend_url_with_qu
-0000d3e0: 6572 795f 7061 7261 6d65 7465 7273 285f  ery_parameters(_
-0000d3f0: 7175 6572 795f 6275 696c 6465 722c 0d0a  query_builder,..
-0000d400: 2020 2020 2020 2020 2020 2020 5f71 7565              _que
-0000d410: 7279 5f70 6172 616d 6574 6572 732c 2043  ry_parameters, C
-0000d420: 6f6e 6669 6775 7261 7469 6f6e 2e61 7272  onfiguration.arr
-0000d430: 6179 5f73 6572 6961 6c69 7a61 7469 6f6e  ay_serialization
-0000d440: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
-0000d450: 795f 7572 6c20 3d20 4150 4948 656c 7065  y_url = APIHelpe
-0000d460: 722e 636c 6561 6e5f 7572 6c28 5f71 7565  r.clean_url(_que
-0000d470: 7279 5f62 7569 6c64 6572 290d 0a0d 0a20  ry_builder).... 
-0000d480: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-0000d490: 2068 6561 6465 7273 0d0a 2020 2020 2020   headers..      
-0000d4a0: 2020 5f68 6561 6465 7273 203d 207b 0d0a    _headers = {..
-0000d4b0: 2020 2020 2020 2020 2020 2020 2761 6363              'acc
-0000d4c0: 6570 7427 3a20 2761 7070 6c69 6361 7469  ept': 'applicati
-0000d4d0: 6f6e 2f6a 736f 6e27 0d0a 2020 2020 2020  on/json'..      
-0000d4e0: 2020 7d0d 0a0d 0a20 2020 2020 2020 2023    }....        #
-0000d4f0: 2050 7265 7061 7265 2061 6e64 2065 7865   Prepare and exe
-0000d500: 6375 7465 2072 6571 7565 7374 0d0a 2020  cute request..  
-0000d510: 2020 2020 2020 5f72 6571 7565 7374 203d        _request =
-0000d520: 2073 656c 662e 6874 7470 5f63 6c69 656e   self.http_clien
-0000d530: 742e 6765 7428 5f71 7565 7279 5f75 726c  t.get(_query_url
-0000d540: 2c20 6865 6164 6572 733d 5f68 6561 6465  , headers=_heade
-0000d550: 7273 290d 0a20 2020 2020 2020 2042 6173  rs)..        Bas
-0000d560: 6963 4175 7468 2e61 7070 6c79 285f 7265  icAuth.apply(_re
-0000d570: 7175 6573 7429 0d0a 2020 2020 2020 2020  quest)..        
-0000d580: 5f63 6f6e 7465 7874 203d 2073 656c 662e  _context = self.
-0000d590: 6578 6563 7574 655f 7265 7175 6573 7428  execute_request(
-0000d5a0: 5f72 6571 7565 7374 290d 0a0d 0a20 2020  _request)....   
-0000d5b0: 2020 2020 2023 2045 6e64 706f 696e 7420       # Endpoint 
-0000d5c0: 616e 6420 676c 6f62 616c 2065 7272 6f72  and global error
-0000d5d0: 2068 616e 646c 696e 6720 7573 696e 6720   handling using 
-0000d5e0: 4854 5450 2073 7461 7475 7320 636f 6465  HTTP status code
-0000d5f0: 732e 0d0a 2020 2020 2020 2020 6966 205f  s...        if _
-0000d600: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-0000d610: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-0000d620: 3430 303a 0d0a 2020 2020 2020 2020 2020  400:..          
-0000d630: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-0000d640: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-0000d650: 7265 7175 6573 7427 2c20 5f63 6f6e 7465  request', _conte
-0000d660: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-0000d670: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-0000d680: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-0000d690: 3d3d 2034 3031 3a0d 0a20 2020 2020 2020  == 401:..       
-0000d6a0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-0000d6b0: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
-0000d6c0: 6964 2041 5049 206b 6579 272c 205f 636f  id API key', _co
-0000d6d0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-0000d6e0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-0000d6f0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-0000d700: 6465 203d 3d20 3430 343a 0d0a 2020 2020  de == 404:..    
-0000d710: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-0000d720: 726f 7245 7863 6570 7469 6f6e 2827 416e  rorException('An
-0000d730: 2069 6e66 6f72 6d65 6420 7265 736f 7572   informed resour
-0000d740: 6365 2077 6173 206e 6f74 2066 6f75 6e64  ce was not found
-0000d750: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-0000d760: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-0000d770: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-0000d780: 7475 735f 636f 6465 203d 3d20 3431 323a  tus_code == 412:
-0000d790: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-0000d7a0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-0000d7b0: 6f6e 2827 4275 7369 6e65 7373 2076 616c  on('Business val
-0000d7c0: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
-0000d7d0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-0000d7e0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-0000d7f0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-0000d800: 5f63 6f64 6520 3d3d 2034 3232 3a0d 0a20  _code == 422:.. 
-0000d810: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0000d820: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-0000d830: 2743 6f6e 7472 6163 7420 7661 6c69 6461  'Contract valida
-0000d840: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-0000d850: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-0000d860: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-0000d870: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-0000d880: 6465 203d 3d20 3530 303a 0d0a 2020 2020  de == 500:..    
-0000d890: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-0000d8a0: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
-0000d8b0: 7465 726e 616c 2073 6572 7665 7220 6572  ternal server er
-0000d8c0: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-0000d8d0: 0a20 2020 2020 2020 2073 656c 662e 7661  .        self.va
-0000d8e0: 6c69 6461 7465 5f72 6573 706f 6e73 6528  lidate_response(
-0000d8f0: 5f63 6f6e 7465 7874 290d 0a0d 0a20 2020  _context)....   
-0000d900: 2020 2020 2023 2052 6574 7572 6e20 6170       # Return ap
-0000d910: 7072 6f70 7269 6174 6520 7479 7065 0d0a  propriate type..
-0000d920: 2020 2020 2020 2020 7265 7475 726e 2041          return A
-0000d930: 5049 4865 6c70 6572 2e6a 736f 6e5f 6465  PIHelper.json_de
-0000d940: 7365 7269 616c 697a 6528 5f63 6f6e 7465  serialize(_conte
-0000d950: 7874 2e72 6573 706f 6e73 652e 7261 775f  xt.response.raw_
-0000d960: 626f 6479 2c20 5375 6273 6372 6970 7469  body, Subscripti
-0000d970: 6f6e 7349 7465 6d73 5573 6167 6573 5265  onsItemsUsagesRe
-0000d980: 7370 6f6e 7365 312e 6672 6f6d 5f64 6963  sponse1.from_dic
-0000d990: 7469 6f6e 6172 7929 0d0a 0d0a 2020 2020  tionary)....    
-0000d9a0: 6465 6620 6465 6c65 7465 5f64 6973 636f  def delete_disco
-0000d9b0: 756e 7428 7365 6c66 2c0d 0a20 2020 2020  unt(self,..     
-0000d9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d9d0: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
-0000d9e0: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
-0000d9f0: 2020 2020 2020 2020 2020 2020 2064 6973               dis
-0000da00: 636f 756e 745f 6964 2c0d 0a20 2020 2020  count_id,..     
-0000da10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000da20: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
-0000da30: 6579 3d4e 6f6e 6529 3a0d 0a20 2020 2020  ey=None):..     
-0000da40: 2020 2022 2222 446f 6573 2061 2044 454c     """Does a DEL
-0000da50: 4554 4520 7265 7175 6573 7420 746f 202f  ETE request to /
-0000da60: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
-0000da70: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
-0000da80: 6469 7363 6f75 6e74 732f 7b64 6973 636f  discounts/{disco
-0000da90: 756e 745f 6964 7d2e 0d0a 0d0a 2020 2020  unt_id}.....    
-0000daa0: 2020 2020 4465 6c65 7465 7320 6120 6469      Deletes a di
-0000dab0: 7363 6f75 6e74 0d0a 0d0a 2020 2020 2020  scount....      
-0000dac0: 2020 4172 6773 3a0d 0a20 2020 2020 2020    Args:..       
-0000dad0: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
-0000dae0: 6e5f 6964 2028 7374 7269 6e67 293a 2053  n_id (string): S
-0000daf0: 7562 7363 7269 7074 696f 6e20 6964 0d0a  ubscription id..
-0000db00: 2020 2020 2020 2020 2020 2020 6469 7363              disc
-0000db10: 6f75 6e74 5f69 6420 2873 7472 696e 6729  ount_id (string)
-0000db20: 3a20 4469 7363 6f75 6e74 2049 640d 0a20  : Discount Id.. 
-0000db30: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
-0000db40: 6f74 656e 6379 5f6b 6579 2028 7374 7269  otency_key (stri
-0000db50: 6e67 2c20 6f70 7469 6f6e 616c 293a 2054  ng, optional): T
-0000db60: 4f44 4f3a 2074 7970 6520 6465 7363 7269  ODO: type descri
-0000db70: 7074 696f 6e20 6865 7265 2e0d 0a20 2020  ption here...   
-0000db80: 2020 2020 2020 2020 2020 2020 2045 7861               Exa
-0000db90: 6d70 6c65 3a20 0d0a 0d0a 2020 2020 2020  mple: ....      
-0000dba0: 2020 5265 7475 726e 733a 0d0a 2020 2020    Returns:..    
-0000dbb0: 2020 2020 2020 2020 5375 6273 6372 6970          Subscrip
-0000dbc0: 7469 6f6e 7344 6973 636f 756e 7473 5265  tionsDiscountsRe
-0000dbd0: 7370 6f6e 7365 3a20 5265 7370 6f6e 7365  sponse: Response
-0000dbe0: 2066 726f 6d20 7468 6520 4150 492e 200d   from the API. .
-0000dbf0: 0a0d 0a20 2020 2020 2020 2052 6169 7365  ...        Raise
-0000dc00: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-0000dc10: 4150 4945 7863 6570 7469 6f6e 3a20 5768  APIException: Wh
-0000dc20: 656e 2061 6e20 6572 726f 7220 6f63 6375  en an error occu
-0000dc30: 7273 2077 6869 6c65 2066 6574 6368 696e  rs while fetchin
-0000dc40: 6720 7468 6520 6461 7461 2066 726f 6d0d  g the data from.
-0000dc50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000dc60: 2074 6865 2072 656d 6f74 6520 4150 492e   the remote API.
-0000dc70: 2054 6869 7320 6578 6365 7074 696f 6e20   This exception 
-0000dc80: 696e 636c 7564 6573 2074 6865 2048 5454  includes the HTT
-0000dc90: 5020 5265 7370 6f6e 7365 0d0a 2020 2020  P Response..    
-0000dca0: 2020 2020 2020 2020 2020 2020 636f 6465              code
-0000dcb0: 2c20 616e 2065 7272 6f72 206d 6573 7361  , an error messa
-0000dcc0: 6765 2c20 616e 6420 7468 6520 4854 5450  ge, and the HTTP
-0000dcd0: 2062 6f64 7920 7468 6174 2077 6173 2072   body that was r
-0000dce0: 6563 6569 7665 6420 696e 0d0a 2020 2020  eceived in..    
-0000dcf0: 2020 2020 2020 2020 2020 2020 7468 6520              the 
-0000dd00: 7265 7175 6573 742e 0d0a 0d0a 2020 2020  request.....    
-0000dd10: 2020 2020 2222 220d 0a0d 0a20 2020 2020      """....     
-0000dd20: 2020 2023 2050 7265 7061 7265 2071 7565     # Prepare que
-0000dd30: 7279 2055 524c 0d0a 2020 2020 2020 2020  ry URL..        
-0000dd40: 5f75 726c 5f70 6174 6820 3d20 272f 7375  _url_path = '/su
-0000dd50: 6273 6372 6970 7469 6f6e 732f 7b73 7562  bscriptions/{sub
-0000dd60: 7363 7269 7074 696f 6e5f 6964 7d2f 6469  scription_id}/di
-0000dd70: 7363 6f75 6e74 732f 7b64 6973 636f 756e  scounts/{discoun
-0000dd80: 745f 6964 7d27 0d0a 2020 2020 2020 2020  t_id}'..        
-0000dd90: 5f75 726c 5f70 6174 6820 3d20 4150 4948  _url_path = APIH
-0000dda0: 656c 7065 722e 6170 7065 6e64 5f75 726c  elper.append_url
-0000ddb0: 5f77 6974 685f 7465 6d70 6c61 7465 5f70  _with_template_p
-0000ddc0: 6172 616d 6574 6572 7328 5f75 726c 5f70  arameters(_url_p
-0000ddd0: 6174 682c 207b 200d 0a20 2020 2020 2020  ath, { ..       
-0000dde0: 2020 2020 2027 7375 6273 6372 6970 7469       'subscripti
-0000ddf0: 6f6e 5f69 6427 3a20 7375 6273 6372 6970  on_id': subscrip
-0000de00: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
-0000de10: 2020 2020 2020 2764 6973 636f 756e 745f        'discount_
-0000de20: 6964 273a 2064 6973 636f 756e 745f 6964  id': discount_id
-0000de30: 0d0a 2020 2020 2020 2020 7d29 0d0a 2020  ..        })..  
-0000de40: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
-0000de50: 6c64 6572 203d 2043 6f6e 6669 6775 7261  lder = Configura
-0000de60: 7469 6f6e 2e62 6173 655f 7572 690d 0a20  tion.base_uri.. 
-0000de70: 2020 2020 2020 205f 7175 6572 795f 6275         _query_bu
-0000de80: 696c 6465 7220 2b3d 205f 7572 6c5f 7061  ilder += _url_pa
-0000de90: 7468 0d0a 2020 2020 2020 2020 5f71 7565  th..        _que
-0000dea0: 7279 5f75 726c 203d 2041 5049 4865 6c70  ry_url = APIHelp
-0000deb0: 6572 2e63 6c65 616e 5f75 726c 285f 7175  er.clean_url(_qu
-0000dec0: 6572 795f 6275 696c 6465 7229 0d0a 0d0a  ery_builder)....
-0000ded0: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-0000dee0: 6520 6865 6164 6572 730d 0a20 2020 2020  e headers..     
-0000def0: 2020 205f 6865 6164 6572 7320 3d20 7b0d     _headers = {.
-0000df00: 0a20 2020 2020 2020 2020 2020 2027 6163  .            'ac
-0000df10: 6365 7074 273a 2027 6170 706c 6963 6174  cept': 'applicat
-0000df20: 696f 6e2f 6a73 6f6e 272c 0d0a 2020 2020  ion/json',..    
-0000df30: 2020 2020 2020 2020 2769 6465 6d70 6f74          'idempot
-0000df40: 656e 6379 2d6b 6579 273a 2069 6465 6d70  ency-key': idemp
-0000df50: 6f74 656e 6379 5f6b 6579 0d0a 2020 2020  otency_key..    
-0000df60: 2020 2020 7d0d 0a0d 0a20 2020 2020 2020      }....       
-0000df70: 2023 2050 7265 7061 7265 2061 6e64 2065   # Prepare and e
-0000df80: 7865 6375 7465 2072 6571 7565 7374 0d0a  xecute request..
-0000df90: 2020 2020 2020 2020 5f72 6571 7565 7374          _request
-0000dfa0: 203d 2073 656c 662e 6874 7470 5f63 6c69   = self.http_cli
-0000dfb0: 656e 742e 6465 6c65 7465 285f 7175 6572  ent.delete(_quer
-0000dfc0: 795f 7572 6c2c 2068 6561 6465 7273 3d5f  y_url, headers=_
-0000dfd0: 6865 6164 6572 7329 0d0a 2020 2020 2020  headers)..      
-0000dfe0: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
-0000dff0: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
-0000e000: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
-0000e010: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
-0000e020: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
-0000e030: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
-0000e040: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
-0000e050: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
-0000e060: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
-0000e070: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
-0000e080: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
-0000e090: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-0000e0a0: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
-0000e0b0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-0000e0c0: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
-0000e0d0: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
-0000e0e0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-0000e0f0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-0000e100: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-0000e110: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
-0000e120: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0000e130: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-0000e140: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
-0000e150: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-0000e160: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-0000e170: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-0000e180: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
-0000e190: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0000e1a0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-0000e1b0: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
-0000e1c0: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
-0000e1d0: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
-0000e1e0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-0000e1f0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-0000e200: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-0000e210: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
-0000e220: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-0000e230: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
-0000e240: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
-0000e250: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
-0000e260: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-0000e270: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-0000e280: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
-0000e290: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
-0000e2a0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-0000e2b0: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
-0000e2c0: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
-0000e2d0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-0000e2e0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-0000e2f0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-0000e300: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
-0000e310: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0000e320: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-0000e330: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
-0000e340: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
-0000e350: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
-0000e360: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
-0000e370: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
-0000e380: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
-0000e390: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
-0000e3a0: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
-0000e3b0: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
-0000e3c0: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
-0000e3d0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-0000e3e0: 2e72 6177 5f62 6f64 792c 2053 7562 7363  .raw_body, Subsc
-0000e3f0: 7269 7074 696f 6e73 4469 7363 6f75 6e74  riptionsDiscount
-0000e400: 7352 6573 706f 6e73 652e 6672 6f6d 5f64  sResponse.from_d
-0000e410: 6963 7469 6f6e 6172 7929 0d0a 0d0a 2020  ictionary)....  
-0000e420: 2020 6465 6620 6765 745f 696e 6372 656d    def get_increm
-0000e430: 656e 7473 2873 656c 662c 0d0a 2020 2020  ents(self,..    
-0000e440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e450: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
-0000e460: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
-0000e470: 2020 2020 2020 2020 2020 2020 7061 6765              page
-0000e480: 3d4e 6f6e 652c 0d0a 2020 2020 2020 2020  =None,..        
-0000e490: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000e4a0: 697a 653d 4e6f 6e65 293a 0d0a 2020 2020  ize=None):..    
-0000e4b0: 2020 2020 2222 2244 6f65 7320 6120 4745      """Does a GE
-0000e4c0: 5420 7265 7175 6573 7420 746f 202f 7375  T request to /su
-0000e4d0: 6273 6372 6970 7469 6f6e 732f 7b73 7562  bscriptions/{sub
-0000e4e0: 7363 7269 7074 696f 6e5f 6964 7d2f 696e  scription_id}/in
-0000e4f0: 6372 656d 656e 7473 2f2e 0d0a 0d0a 2020  crements/.....  
-0000e500: 2020 2020 2020 4765 7449 6e63 7265 6d65        GetIncreme
-0000e510: 6e74 730d 0a0d 0a20 2020 2020 2020 2041  nts....        A
-0000e520: 7267 733a 0d0a 2020 2020 2020 2020 2020  rgs:..          
-0000e530: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
-0000e540: 6420 2873 7472 696e 6729 3a20 5468 6520  d (string): The 
-0000e550: 7375 6273 6372 6970 7469 6f6e 2069 640d  subscription id.
-0000e560: 0a20 2020 2020 2020 2020 2020 2070 6167  .            pag
-0000e570: 6520 2869 6e74 2c20 6f70 7469 6f6e 616c  e (int, optional
-0000e580: 293a 2050 6167 6520 6e75 6d62 6572 0d0a  ): Page number..
-0000e590: 2020 2020 2020 2020 2020 2020 7369 7a65              size
-0000e5a0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-0000e5b0: 3a20 5061 6765 2073 697a 650d 0a0d 0a20  : Page size.... 
-0000e5c0: 2020 2020 2020 2052 6574 7572 6e73 3a0d         Returns:.
-0000e5d0: 0a20 2020 2020 2020 2020 2020 204c 6973  .            Lis
-0000e5e0: 7449 6e63 7265 6d65 6e74 7352 6573 706f  tIncrementsRespo
-0000e5f0: 6e73 653a 2052 6573 706f 6e73 6520 6672  nse: Response fr
-0000e600: 6f6d 2074 6865 2041 5049 2e20 0d0a 0d0a  om the API. ....
-0000e610: 2020 2020 2020 2020 5261 6973 6573 3a0d          Raises:.
-0000e620: 0a20 2020 2020 2020 2020 2020 2041 5049  .            API
-0000e630: 4578 6365 7074 696f 6e3a 2057 6865 6e20  Exception: When 
-0000e640: 616e 2065 7272 6f72 206f 6363 7572 7320  an error occurs 
-0000e650: 7768 696c 6520 6665 7463 6869 6e67 2074  while fetching t
-0000e660: 6865 2064 6174 6120 6672 6f6d 0d0a 2020  he data from..  
-0000e670: 2020 2020 2020 2020 2020 2020 2020 7468                th
-0000e680: 6520 7265 6d6f 7465 2041 5049 2e20 5468  e remote API. Th
-0000e690: 6973 2065 7863 6570 7469 6f6e 2069 6e63  is exception inc
-0000e6a0: 6c75 6465 7320 7468 6520 4854 5450 2052  ludes the HTTP R
-0000e6b0: 6573 706f 6e73 650d 0a20 2020 2020 2020  esponse..       
-0000e6c0: 2020 2020 2020 2020 2063 6f64 652c 2061           code, a
-0000e6d0: 6e20 6572 726f 7220 6d65 7373 6167 652c  n error message,
-0000e6e0: 2061 6e64 2074 6865 2048 5454 5020 626f   and the HTTP bo
-0000e6f0: 6479 2074 6861 7420 7761 7320 7265 6365  dy that was rece
-0000e700: 6976 6564 2069 6e0d 0a20 2020 2020 2020  ived in..       
-0000e710: 2020 2020 2020 2020 2074 6865 2072 6571           the req
-0000e720: 7565 7374 2e0d 0a0d 0a20 2020 2020 2020  uest.....       
-0000e730: 2022 2222 0d0a 0d0a 2020 2020 2020 2020   """....        
-0000e740: 2320 5072 6570 6172 6520 7175 6572 7920  # Prepare query 
-0000e750: 5552 4c0d 0a20 2020 2020 2020 205f 7572  URL..        _ur
-0000e760: 6c5f 7061 7468 203d 2027 2f73 7562 7363  l_path = '/subsc
-0000e770: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
-0000e780: 6970 7469 6f6e 5f69 647d 2f69 6e63 7265  iption_id}/incre
-0000e790: 6d65 6e74 732f 270d 0a20 2020 2020 2020  ments/'..       
-0000e7a0: 205f 7572 6c5f 7061 7468 203d 2041 5049   _url_path = API
-0000e7b0: 4865 6c70 6572 2e61 7070 656e 645f 7572  Helper.append_ur
-0000e7c0: 6c5f 7769 7468 5f74 656d 706c 6174 655f  l_with_template_
-0000e7d0: 7061 7261 6d65 7465 7273 285f 7572 6c5f  parameters(_url_
-0000e7e0: 7061 7468 2c20 7b20 0d0a 2020 2020 2020  path, { ..      
-0000e7f0: 2020 2020 2020 2773 7562 7363 7269 7074        'subscript
-0000e800: 696f 6e5f 6964 273a 2073 7562 7363 7269  ion_id': subscri
-0000e810: 7074 696f 6e5f 6964 0d0a 2020 2020 2020  ption_id..      
-0000e820: 2020 7d29 0d0a 2020 2020 2020 2020 5f71    })..        _q
-0000e830: 7565 7279 5f62 7569 6c64 6572 203d 2043  uery_builder = C
-0000e840: 6f6e 6669 6775 7261 7469 6f6e 2e62 6173  onfiguration.bas
-0000e850: 655f 7572 690d 0a20 2020 2020 2020 205f  e_uri..        _
-0000e860: 7175 6572 795f 6275 696c 6465 7220 2b3d  query_builder +=
-0000e870: 205f 7572 6c5f 7061 7468 0d0a 2020 2020   _url_path..    
-0000e880: 2020 2020 5f71 7565 7279 5f70 6172 616d      _query_param
-0000e890: 6574 6572 7320 3d20 7b0d 0a20 2020 2020  eters = {..     
-0000e8a0: 2020 2020 2020 2027 7061 6765 273a 2070         'page': p
-0000e8b0: 6167 652c 0d0a 2020 2020 2020 2020 2020  age,..          
-0000e8c0: 2020 2773 697a 6527 3a20 7369 7a65 0d0a    'size': size..
-0000e8d0: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
-0000e8e0: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
-0000e8f0: 7220 3d20 4150 4948 656c 7065 722e 6170  r = APIHelper.ap
-0000e900: 7065 6e64 5f75 726c 5f77 6974 685f 7175  pend_url_with_qu
-0000e910: 6572 795f 7061 7261 6d65 7465 7273 285f  ery_parameters(_
-0000e920: 7175 6572 795f 6275 696c 6465 722c 0d0a  query_builder,..
-0000e930: 2020 2020 2020 2020 2020 2020 5f71 7565              _que
-0000e940: 7279 5f70 6172 616d 6574 6572 732c 2043  ry_parameters, C
-0000e950: 6f6e 6669 6775 7261 7469 6f6e 2e61 7272  onfiguration.arr
-0000e960: 6179 5f73 6572 6961 6c69 7a61 7469 6f6e  ay_serialization
-0000e970: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
-0000e980: 795f 7572 6c20 3d20 4150 4948 656c 7065  y_url = APIHelpe
-0000e990: 722e 636c 6561 6e5f 7572 6c28 5f71 7565  r.clean_url(_que
-0000e9a0: 7279 5f62 7569 6c64 6572 290d 0a0d 0a20  ry_builder).... 
-0000e9b0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-0000e9c0: 2068 6561 6465 7273 0d0a 2020 2020 2020   headers..      
-0000e9d0: 2020 5f68 6561 6465 7273 203d 207b 0d0a    _headers = {..
-0000e9e0: 2020 2020 2020 2020 2020 2020 2761 6363              'acc
-0000e9f0: 6570 7427 3a20 2761 7070 6c69 6361 7469  ept': 'applicati
-0000ea00: 6f6e 2f6a 736f 6e27 0d0a 2020 2020 2020  on/json'..      
-0000ea10: 2020 7d0d 0a0d 0a20 2020 2020 2020 2023    }....        #
-0000ea20: 2050 7265 7061 7265 2061 6e64 2065 7865   Prepare and exe
-0000ea30: 6375 7465 2072 6571 7565 7374 0d0a 2020  cute request..  
-0000ea40: 2020 2020 2020 5f72 6571 7565 7374 203d        _request =
-0000ea50: 2073 656c 662e 6874 7470 5f63 6c69 656e   self.http_clien
-0000ea60: 742e 6765 7428 5f71 7565 7279 5f75 726c  t.get(_query_url
-0000ea70: 2c20 6865 6164 6572 733d 5f68 6561 6465  , headers=_heade
-0000ea80: 7273 290d 0a20 2020 2020 2020 2042 6173  rs)..        Bas
-0000ea90: 6963 4175 7468 2e61 7070 6c79 285f 7265  icAuth.apply(_re
-0000eaa0: 7175 6573 7429 0d0a 2020 2020 2020 2020  quest)..        
-0000eab0: 5f63 6f6e 7465 7874 203d 2073 656c 662e  _context = self.
-0000eac0: 6578 6563 7574 655f 7265 7175 6573 7428  execute_request(
-0000ead0: 5f72 6571 7565 7374 290d 0a0d 0a20 2020  _request)....   
-0000eae0: 2020 2020 2023 2045 6e64 706f 696e 7420       # Endpoint 
-0000eaf0: 616e 6420 676c 6f62 616c 2065 7272 6f72  and global error
-0000eb00: 2068 616e 646c 696e 6720 7573 696e 6720   handling using 
-0000eb10: 4854 5450 2073 7461 7475 7320 636f 6465  HTTP status code
-0000eb20: 732e 0d0a 2020 2020 2020 2020 6966 205f  s...        if _
-0000eb30: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-0000eb40: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-0000eb50: 3430 303a 0d0a 2020 2020 2020 2020 2020  400:..          
-0000eb60: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-0000eb70: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-0000eb80: 7265 7175 6573 7427 2c20 5f63 6f6e 7465  request', _conte
-0000eb90: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-0000eba0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-0000ebb0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-0000ebc0: 3d3d 2034 3031 3a0d 0a20 2020 2020 2020  == 401:..       
-0000ebd0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-0000ebe0: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
-0000ebf0: 6964 2041 5049 206b 6579 272c 205f 636f  id API key', _co
-0000ec00: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-0000ec10: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-0000ec20: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-0000ec30: 6465 203d 3d20 3430 343a 0d0a 2020 2020  de == 404:..    
-0000ec40: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-0000ec50: 726f 7245 7863 6570 7469 6f6e 2827 416e  rorException('An
-0000ec60: 2069 6e66 6f72 6d65 6420 7265 736f 7572   informed resour
-0000ec70: 6365 2077 6173 206e 6f74 2066 6f75 6e64  ce was not found
-0000ec80: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-0000ec90: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-0000eca0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-0000ecb0: 7475 735f 636f 6465 203d 3d20 3431 323a  tus_code == 412:
-0000ecc0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-0000ecd0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-0000ece0: 6f6e 2827 4275 7369 6e65 7373 2076 616c  on('Business val
-0000ecf0: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
-0000ed00: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-0000ed10: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-0000ed20: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-0000ed30: 5f63 6f64 6520 3d3d 2034 3232 3a0d 0a20  _code == 422:.. 
-0000ed40: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0000ed50: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-0000ed60: 2743 6f6e 7472 6163 7420 7661 6c69 6461  'Contract valida
-0000ed70: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-0000ed80: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-0000ed90: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-0000eda0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-0000edb0: 6465 203d 3d20 3530 303a 0d0a 2020 2020  de == 500:..    
-0000edc0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-0000edd0: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
-0000ede0: 7465 726e 616c 2073 6572 7665 7220 6572  ternal server er
-0000edf0: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-0000ee00: 0a20 2020 2020 2020 2073 656c 662e 7661  .        self.va
-0000ee10: 6c69 6461 7465 5f72 6573 706f 6e73 6528  lidate_response(
-0000ee20: 5f63 6f6e 7465 7874 290d 0a0d 0a20 2020  _context)....   
-0000ee30: 2020 2020 2023 2052 6574 7572 6e20 6170       # Return ap
-0000ee40: 7072 6f70 7269 6174 6520 7479 7065 0d0a  propriate type..
-0000ee50: 2020 2020 2020 2020 7265 7475 726e 2041          return A
-0000ee60: 5049 4865 6c70 6572 2e6a 736f 6e5f 6465  PIHelper.json_de
-0000ee70: 7365 7269 616c 697a 6528 5f63 6f6e 7465  serialize(_conte
-0000ee80: 7874 2e72 6573 706f 6e73 652e 7261 775f  xt.response.raw_
-0000ee90: 626f 6479 2c20 4c69 7374 496e 6372 656d  body, ListIncrem
-0000eea0: 656e 7473 5265 7370 6f6e 7365 2e66 726f  entsResponse.fro
-0000eeb0: 6d5f 6469 6374 696f 6e61 7279 290d 0a0d  m_dictionary)...
-0000eec0: 0a20 2020 2064 6566 2063 7265 6174 655f  .    def create_
-0000eed0: 7375 6273 6372 6970 7469 6f6e 5f69 7465  subscription_ite
-0000eee0: 6d28 7365 6c66 2c0d 0a20 2020 2020 2020  m(self,..       
-0000eef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ef00: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
-0000ef10: 6970 7469 6f6e 5f69 642c 0d0a 2020 2020  iption_id,..    
-0000ef20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ef30: 2020 2020 2020 2020 2020 2020 2062 6f64               bod
-0000ef40: 792c 0d0a 2020 2020 2020 2020 2020 2020  y,..            
-0000ef50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ef60: 2020 2020 2069 6465 6d70 6f74 656e 6379       idempotency
-0000ef70: 5f6b 6579 3d4e 6f6e 6529 3a0d 0a20 2020  _key=None):..   
-0000ef80: 2020 2020 2022 2222 446f 6573 2061 2050       """Does a P
-0000ef90: 4f53 5420 7265 7175 6573 7420 746f 202f  OST request to /
-0000efa0: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
-0000efb0: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
-0000efc0: 6974 656d 732e 0d0a 0d0a 2020 2020 2020  items.....      
-0000efd0: 2020 4372 6561 7465 7320 6120 6e65 7720    Creates a new 
-0000efe0: 5375 6273 6372 6970 7469 6f6e 2069 7465  Subscription ite
-0000eff0: 6d0d 0a0d 0a20 2020 2020 2020 2041 7267  m....        Arg
-0000f000: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-0000f010: 7375 6273 6372 6970 7469 6f6e 5f69 6420  subscription_id 
-0000f020: 2873 7472 696e 6729 3a20 5375 6273 6372  (string): Subscr
-0000f030: 6970 7469 6f6e 2069 640d 0a20 2020 2020  iption id..     
-0000f040: 2020 2020 2020 2062 6f64 7920 2853 7562         body (Sub
-0000f050: 7363 7269 7074 696f 6e73 4974 656d 7352  scriptionsItemsR
-0000f060: 6571 7565 7374 3129 3a20 5265 7175 6573  equest1): Reques
-0000f070: 7420 666f 7220 6372 6561 7469 6e67 2061  t for creating a
-0000f080: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0000f090: 2020 7375 6273 6372 6970 7469 6f6e 2069    subscription i
-0000f0a0: 7465 6d0d 0a20 2020 2020 2020 2020 2020  tem..           
-0000f0b0: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
-0000f0c0: 2028 7374 7269 6e67 2c20 6f70 7469 6f6e   (string, option
-0000f0d0: 616c 293a 2054 4f44 4f3a 2074 7970 6520  al): TODO: type 
-0000f0e0: 6465 7363 7269 7074 696f 6e20 6865 7265  description here
-0000f0f0: 2e0d 0a20 2020 2020 2020 2020 2020 2020  ...             
-0000f100: 2020 2045 7861 6d70 6c65 3a20 0d0a 0d0a     Example: ....
-0000f110: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-0000f120: 0d0a 2020 2020 2020 2020 2020 2020 4765  ..            Ge
-0000f130: 7453 7562 7363 7269 7074 696f 6e49 7465  tSubscriptionIte
-0000f140: 6d52 6573 706f 6e73 653a 2052 6573 706f  mResponse: Respo
-0000f150: 6e73 6520 6672 6f6d 2074 6865 2041 5049  nse from the API
-0000f160: 2e20 0d0a 0d0a 2020 2020 2020 2020 5261  . ....        Ra
-0000f170: 6973 6573 3a0d 0a20 2020 2020 2020 2020  ises:..         
-0000f180: 2020 2041 5049 4578 6365 7074 696f 6e3a     APIException:
-0000f190: 2057 6865 6e20 616e 2065 7272 6f72 206f   When an error o
-0000f1a0: 6363 7572 7320 7768 696c 6520 6665 7463  ccurs while fetc
-0000f1b0: 6869 6e67 2074 6865 2064 6174 6120 6672  hing the data fr
-0000f1c0: 6f6d 0d0a 2020 2020 2020 2020 2020 2020  om..            
-0000f1d0: 2020 2020 7468 6520 7265 6d6f 7465 2041      the remote A
-0000f1e0: 5049 2e20 5468 6973 2065 7863 6570 7469  PI. This excepti
-0000f1f0: 6f6e 2069 6e63 6c75 6465 7320 7468 6520  on includes the 
-0000f200: 4854 5450 2052 6573 706f 6e73 650d 0a20  HTTP Response.. 
-0000f210: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0000f220: 6f64 652c 2061 6e20 6572 726f 7220 6d65  ode, an error me
-0000f230: 7373 6167 652c 2061 6e64 2074 6865 2048  ssage, and the H
-0000f240: 5454 5020 626f 6479 2074 6861 7420 7761  TTP body that wa
-0000f250: 7320 7265 6365 6976 6564 2069 6e0d 0a20  s received in.. 
-0000f260: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0000f270: 6865 2072 6571 7565 7374 2e0d 0a0d 0a20  he request..... 
-0000f280: 2020 2020 2020 2022 2222 0d0a 0d0a 2020         """....  
-0000f290: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-0000f2a0: 7175 6572 7920 5552 4c0d 0a20 2020 2020  query URL..     
-0000f2b0: 2020 205f 7572 6c5f 7061 7468 203d 2027     _url_path = '
-0000f2c0: 2f73 7562 7363 7269 7074 696f 6e73 2f7b  /subscriptions/{
-0000f2d0: 7375 6273 6372 6970 7469 6f6e 5f69 647d  subscription_id}
-0000f2e0: 2f69 7465 6d73 270d 0a20 2020 2020 2020  /items'..       
-0000f2f0: 205f 7572 6c5f 7061 7468 203d 2041 5049   _url_path = API
-0000f300: 4865 6c70 6572 2e61 7070 656e 645f 7572  Helper.append_ur
-0000f310: 6c5f 7769 7468 5f74 656d 706c 6174 655f  l_with_template_
-0000f320: 7061 7261 6d65 7465 7273 285f 7572 6c5f  parameters(_url_
-0000f330: 7061 7468 2c20 7b20 0d0a 2020 2020 2020  path, { ..      
-0000f340: 2020 2020 2020 2773 7562 7363 7269 7074        'subscript
-0000f350: 696f 6e5f 6964 273a 2073 7562 7363 7269  ion_id': subscri
-0000f360: 7074 696f 6e5f 6964 0d0a 2020 2020 2020  ption_id..      
-0000f370: 2020 7d29 0d0a 2020 2020 2020 2020 5f71    })..        _q
-0000f380: 7565 7279 5f62 7569 6c64 6572 203d 2043  uery_builder = C
-0000f390: 6f6e 6669 6775 7261 7469 6f6e 2e62 6173  onfiguration.bas
-0000f3a0: 655f 7572 690d 0a20 2020 2020 2020 205f  e_uri..        _
-0000f3b0: 7175 6572 795f 6275 696c 6465 7220 2b3d  query_builder +=
-0000f3c0: 205f 7572 6c5f 7061 7468 0d0a 2020 2020   _url_path..    
-0000f3d0: 2020 2020 5f71 7565 7279 5f75 726c 203d      _query_url =
-0000f3e0: 2041 5049 4865 6c70 6572 2e63 6c65 616e   APIHelper.clean
-0000f3f0: 5f75 726c 285f 7175 6572 795f 6275 696c  _url(_query_buil
-0000f400: 6465 7229 0d0a 0d0a 2020 2020 2020 2020  der)....        
-0000f410: 2320 5072 6570 6172 6520 6865 6164 6572  # Prepare header
-0000f420: 730d 0a20 2020 2020 2020 205f 6865 6164  s..        _head
-0000f430: 6572 7320 3d20 7b0d 0a20 2020 2020 2020  ers = {..       
-0000f440: 2020 2020 2027 6163 6365 7074 273a 2027       'accept': '
-0000f450: 6170 706c 6963 6174 696f 6e2f 6a73 6f6e  application/json
-0000f460: 272c 0d0a 2020 2020 2020 2020 2020 2020  ',..            
-0000f470: 2743 6f6e 7465 6e74 2d54 7970 6527 3a20  'Content-Type': 
-0000f480: 2761 7070 6c69 6361 7469 6f6e 2f6a 736f  'application/jso
-0000f490: 6e27 2c0d 0a20 2020 2020 2020 2020 2020  n',..           
-0000f4a0: 2027 6964 656d 706f 7465 6e63 792d 6b65   'idempotency-ke
-0000f4b0: 7927 3a20 6964 656d 706f 7465 6e63 795f  y': idempotency_
-0000f4c0: 6b65 790d 0a20 2020 2020 2020 207d 0d0a  key..        }..
-0000f4d0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-0000f4e0: 6172 6520 616e 6420 6578 6563 7574 6520  are and execute 
-0000f4f0: 7265 7175 6573 740d 0a20 2020 2020 2020  request..       
-0000f500: 205f 7265 7175 6573 7420 3d20 7365 6c66   _request = self
-0000f510: 2e68 7474 705f 636c 6965 6e74 2e70 6f73  .http_client.pos
-0000f520: 7428 5f71 7565 7279 5f75 726c 2c20 6865  t(_query_url, he
-0000f530: 6164 6572 733d 5f68 6561 6465 7273 2c20  aders=_headers, 
-0000f540: 7061 7261 6d65 7465 7273 3d41 5049 4865  parameters=APIHe
-0000f550: 6c70 6572 2e6a 736f 6e5f 7365 7269 616c  lper.json_serial
-0000f560: 697a 6528 626f 6479 2929 0d0a 2020 2020  ize(body))..    
-0000f570: 2020 2020 4261 7369 6341 7574 682e 6170      BasicAuth.ap
-0000f580: 706c 7928 5f72 6571 7565 7374 290d 0a20  ply(_request).. 
-0000f590: 2020 2020 2020 205f 636f 6e74 6578 7420         _context 
-0000f5a0: 3d20 7365 6c66 2e65 7865 6375 7465 5f72  = self.execute_r
-0000f5b0: 6571 7565 7374 285f 7265 7175 6573 7429  equest(_request)
-0000f5c0: 0d0a 0d0a 2020 2020 2020 2020 2320 456e  ....        # En
-0000f5d0: 6470 6f69 6e74 2061 6e64 2067 6c6f 6261  dpoint and globa
-0000f5e0: 6c20 6572 726f 7220 6861 6e64 6c69 6e67  l error handling
-0000f5f0: 2075 7369 6e67 2048 5454 5020 7374 6174   using HTTP stat
-0000f600: 7573 2063 6f64 6573 2e0d 0a20 2020 2020  us codes...     
-0000f610: 2020 2069 6620 5f63 6f6e 7465 7874 2e72     if _context.r
-0000f620: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-0000f630: 6f64 6520 3d3d 2034 3030 3a0d 0a20 2020  ode == 400:..   
-0000f640: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-0000f650: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-0000f660: 6e76 616c 6964 2072 6571 7565 7374 272c  nvalid request',
-0000f670: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-0000f680: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-0000f690: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-0000f6a0: 735f 636f 6465 203d 3d20 3430 313a 0d0a  s_code == 401:..
-0000f6b0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000f6c0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-0000f6d0: 2827 496e 7661 6c69 6420 4150 4920 6b65  ('Invalid API ke
-0000f6e0: 7927 2c20 5f63 6f6e 7465 7874 290d 0a20  y', _context).. 
-0000f6f0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-0000f700: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-0000f710: 6174 7573 5f63 6f64 6520 3d3d 2034 3034  atus_code == 404
-0000f720: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-0000f730: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-0000f740: 696f 6e28 2741 6e20 696e 666f 726d 6564  ion('An informed
-0000f750: 2072 6573 6f75 7263 6520 7761 7320 6e6f   resource was no
-0000f760: 7420 666f 756e 6427 2c20 5f63 6f6e 7465  t found', _conte
-0000f770: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-0000f780: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-0000f790: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-0000f7a0: 3d3d 2034 3132 3a0d 0a20 2020 2020 2020  == 412:..       
-0000f7b0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-0000f7c0: 4578 6365 7074 696f 6e28 2742 7573 696e  Exception('Busin
-0000f7d0: 6573 7320 7661 6c69 6461 7469 6f6e 2065  ess validation e
-0000f7e0: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-0000f7f0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-0000f800: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-0000f810: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-0000f820: 3432 323a 0d0a 2020 2020 2020 2020 2020  422:..          
-0000f830: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-0000f840: 6570 7469 6f6e 2827 436f 6e74 7261 6374  eption('Contract
-0000f850: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
-0000f860: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-0000f870: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-0000f880: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-0000f890: 6174 7573 5f63 6f64 6520 3d3d 2035 3030  atus_code == 500
-0000f8a0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-0000f8b0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-0000f8c0: 696f 6e28 2749 6e74 6572 6e61 6c20 7365  ion('Internal se
-0000f8d0: 7276 6572 2065 7272 6f72 272c 205f 636f  rver error', _co
-0000f8e0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-0000f8f0: 7365 6c66 2e76 616c 6964 6174 655f 7265  self.validate_re
-0000f900: 7370 6f6e 7365 285f 636f 6e74 6578 7429  sponse(_context)
-0000f910: 0d0a 0d0a 2020 2020 2020 2020 2320 5265  ....        # Re
-0000f920: 7475 726e 2061 7070 726f 7072 6961 7465  turn appropriate
-0000f930: 2074 7970 650d 0a20 2020 2020 2020 2072   type..        r
-0000f940: 6574 7572 6e20 4150 4948 656c 7065 722e  eturn APIHelper.
-0000f950: 6a73 6f6e 5f64 6573 6572 6961 6c69 7a65  json_deserialize
-0000f960: 285f 636f 6e74 6578 742e 7265 7370 6f6e  (_context.respon
-0000f970: 7365 2e72 6177 5f62 6f64 792c 2047 6574  se.raw_body, Get
-0000f980: 5375 6273 6372 6970 7469 6f6e 4974 656d  SubscriptionItem
-0000f990: 5265 7370 6f6e 7365 2e66 726f 6d5f 6469  Response.from_di
-0000f9a0: 6374 696f 6e61 7279 290d 0a0d 0a20 2020  ctionary)....   
-0000f9b0: 2064 6566 2067 6574 5f73 7562 7363 7269   def get_subscri
-0000f9c0: 7074 696f 6e5f 6974 656d 7328 7365 6c66  ption_items(self
-0000f9d0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0000f9e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f9f0: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
-0000fa00: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
-0000fa10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fa20: 2020 2070 6167 653d 4e6f 6e65 2c0d 0a20     page=None,.. 
-0000fa30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fa40: 2020 2020 2020 2020 2020 2020 2020 7369                si
-0000fa50: 7a65 3d4e 6f6e 652c 0d0a 2020 2020 2020  ze=None,..      
-0000fa60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fa70: 2020 2020 2020 2020 206e 616d 653d 4e6f           name=No
-0000fa80: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
-0000fa90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000faa0: 2020 2020 636f 6465 3d4e 6f6e 652c 0d0a      code=None,..
-0000fab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fac0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000fad0: 7461 7475 733d 4e6f 6e65 2c0d 0a20 2020  tatus=None,..   
-0000fae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000faf0: 2020 2020 2020 2020 2020 2020 6465 7363              desc
-0000fb00: 7269 7074 696f 6e3d 4e6f 6e65 2c0d 0a20  ription=None,.. 
-0000fb10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fb20: 2020 2020 2020 2020 2020 2020 2020 6372                cr
-0000fb30: 6561 7465 645f 7369 6e63 653d 4e6f 6e65  eated_since=None
-0000fb40: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-0000fb50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fb60: 2020 6372 6561 7465 645f 756e 7469 6c3d    created_until=
-0000fb70: 4e6f 6e65 293a 0d0a 2020 2020 2020 2020  None):..        
-0000fb80: 2222 2244 6f65 7320 6120 4745 5420 7265  """Does a GET re
-0000fb90: 7175 6573 7420 746f 202f 7375 6273 6372  quest to /subscr
-0000fba0: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
-0000fbb0: 7074 696f 6e5f 6964 7d2f 6974 656d 732e  ption_id}/items.
-0000fbc0: 0d0a 0d0a 2020 2020 2020 2020 4765 7420  ....        Get 
-0000fbd0: 5375 6273 6372 6970 7469 6f6e 2049 7465  Subscription Ite
-0000fbe0: 6d73 0d0a 0d0a 2020 2020 2020 2020 4172  ms....        Ar
-0000fbf0: 6773 3a0d 0a20 2020 2020 2020 2020 2020  gs:..           
-0000fc00: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
-0000fc10: 2028 7374 7269 6e67 293a 2054 6865 2073   (string): The s
-0000fc20: 7562 7363 7269 7074 696f 6e20 6964 0d0a  ubscription id..
-0000fc30: 2020 2020 2020 2020 2020 2020 7061 6765              page
-0000fc40: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-0000fc50: 3a20 5061 6765 206e 756d 6265 720d 0a20  : Page number.. 
-0000fc60: 2020 2020 2020 2020 2020 2073 697a 6520             size 
-0000fc70: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-0000fc80: 2050 6167 6520 7369 7a65 0d0a 2020 2020   Page size..    
-0000fc90: 2020 2020 2020 2020 6e61 6d65 2028 7374          name (st
-0000fca0: 7269 6e67 2c20 6f70 7469 6f6e 616c 293a  ring, optional):
-0000fcb0: 2054 6865 2069 7465 6d20 6e61 6d65 0d0a   The item name..
-0000fcc0: 2020 2020 2020 2020 2020 2020 636f 6465              code
-0000fcd0: 2028 7374 7269 6e67 2c20 6f70 7469 6f6e   (string, option
-0000fce0: 616c 293a 2049 6465 6e74 6966 6963 6174  al): Identificat
-0000fcf0: 696f 6e20 636f 6465 2069 6e20 7468 6520  ion code in the 
-0000fd00: 636c 6965 6e74 2073 7973 7465 6d0d 0a20  client system.. 
-0000fd10: 2020 2020 2020 2020 2020 2073 7461 7475             statu
-0000fd20: 7320 2873 7472 696e 672c 206f 7074 696f  s (string, optio
-0000fd30: 6e61 6c29 3a20 5468 6520 6974 656d 2073  nal): The item s
-0000fd40: 7461 7469 730d 0a20 2020 2020 2020 2020  tatis..         
-0000fd50: 2020 2064 6573 6372 6970 7469 6f6e 2028     description (
-0000fd60: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
-0000fd70: 293a 2054 6865 2069 7465 6d20 6465 7363  ): The item desc
-0000fd80: 7269 7074 696f 6e0d 0a20 2020 2020 2020  ription..       
-0000fd90: 2020 2020 2063 7265 6174 6564 5f73 696e       created_sin
-0000fda0: 6365 2028 7374 7269 6e67 2c20 6f70 7469  ce (string, opti
-0000fdb0: 6f6e 616c 293a 2046 696c 7465 7220 666f  onal): Filter fo
-0000fdc0: 7220 6974 656d 2773 2063 7265 6174 696f  r item's creatio
-0000fdd0: 6e20 6461 7465 0d0a 2020 2020 2020 2020  n date..        
-0000fde0: 2020 2020 2020 2020 7374 6172 7420 7261          start ra
-0000fdf0: 6e67 650d 0a20 2020 2020 2020 2020 2020  nge..           
-0000fe00: 2063 7265 6174 6564 5f75 6e74 696c 2028   created_until (
-0000fe10: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
-0000fe20: 293a 2046 696c 7465 7220 666f 7220 6974  ): Filter for it
-0000fe30: 656d 2773 2063 7265 6174 696f 6e20 6461  em's creation da
-0000fe40: 7465 0d0a 2020 2020 2020 2020 2020 2020  te..            
-0000fe50: 2020 2020 656e 6420 7261 6e67 650d 0a0d      end range...
-0000fe60: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-0000fe70: 3a0d 0a20 2020 2020 2020 2020 2020 2053  :..            S
-0000fe80: 7562 7363 7269 7074 696f 6e73 4974 656d  ubscriptionsItem
-0000fe90: 7352 6573 706f 6e73 6533 3a20 5265 7370  sResponse3: Resp
-0000fea0: 6f6e 7365 2066 726f 6d20 7468 6520 4150  onse from the AP
-0000feb0: 492e 200d 0a0d 0a20 2020 2020 2020 2052  I. ....        R
-0000fec0: 6169 7365 733a 0d0a 2020 2020 2020 2020  aises:..        
-0000fed0: 2020 2020 4150 4945 7863 6570 7469 6f6e      APIException
-0000fee0: 3a20 5768 656e 2061 6e20 6572 726f 7220  : When an error 
-0000fef0: 6f63 6375 7273 2077 6869 6c65 2066 6574  occurs while fet
-0000ff00: 6368 696e 6720 7468 6520 6461 7461 2066  ching the data f
-0000ff10: 726f 6d0d 0a20 2020 2020 2020 2020 2020  rom..           
-0000ff20: 2020 2020 2074 6865 2072 656d 6f74 6520       the remote 
-0000ff30: 4150 492e 2054 6869 7320 6578 6365 7074  API. This except
-0000ff40: 696f 6e20 696e 636c 7564 6573 2074 6865  ion includes the
-0000ff50: 2048 5454 5020 5265 7370 6f6e 7365 0d0a   HTTP Response..
-0000ff60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ff70: 636f 6465 2c20 616e 2065 7272 6f72 206d  code, an error m
-0000ff80: 6573 7361 6765 2c20 616e 6420 7468 6520  essage, and the 
-0000ff90: 4854 5450 2062 6f64 7920 7468 6174 2077  HTTP body that w
-0000ffa0: 6173 2072 6563 6569 7665 6420 696e 0d0a  as received in..
-0000ffb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ffc0: 7468 6520 7265 7175 6573 742e 0d0a 0d0a  the request.....
-0000ffd0: 2020 2020 2020 2020 2222 220d 0a0d 0a20          """.... 
-0000ffe0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-0000fff0: 2071 7565 7279 2055 524c 0d0a 2020 2020   query URL..    
-00010000: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
-00010010: 272f 7375 6273 6372 6970 7469 6f6e 732f  '/subscriptions/
-00010020: 7b73 7562 7363 7269 7074 696f 6e5f 6964  {subscription_id
-00010030: 7d2f 6974 656d 7327 0d0a 2020 2020 2020  }/items'..      
-00010040: 2020 5f75 726c 5f70 6174 6820 3d20 4150    _url_path = AP
-00010050: 4948 656c 7065 722e 6170 7065 6e64 5f75  IHelper.append_u
-00010060: 726c 5f77 6974 685f 7465 6d70 6c61 7465  rl_with_template
-00010070: 5f70 6172 616d 6574 6572 7328 5f75 726c  _parameters(_url
-00010080: 5f70 6174 682c 207b 200d 0a20 2020 2020  _path, { ..     
-00010090: 2020 2020 2020 2027 7375 6273 6372 6970         'subscrip
-000100a0: 7469 6f6e 5f69 6427 3a20 7375 6273 6372  tion_id': subscr
-000100b0: 6970 7469 6f6e 5f69 640d 0a20 2020 2020  iption_id..     
-000100c0: 2020 207d 290d 0a20 2020 2020 2020 205f     })..        _
-000100d0: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
-000100e0: 436f 6e66 6967 7572 6174 696f 6e2e 6261  Configuration.ba
-000100f0: 7365 5f75 7269 0d0a 2020 2020 2020 2020  se_uri..        
-00010100: 5f71 7565 7279 5f62 7569 6c64 6572 202b  _query_builder +
-00010110: 3d20 5f75 726c 5f70 6174 680d 0a20 2020  = _url_path..   
-00010120: 2020 2020 205f 7175 6572 795f 7061 7261       _query_para
-00010130: 6d65 7465 7273 203d 207b 0d0a 2020 2020  meters = {..    
-00010140: 2020 2020 2020 2020 2770 6167 6527 3a20          'page': 
-00010150: 7061 6765 2c0d 0a20 2020 2020 2020 2020  page,..         
-00010160: 2020 2027 7369 7a65 273a 2073 697a 652c     'size': size,
-00010170: 0d0a 2020 2020 2020 2020 2020 2020 276e  ..            'n
-00010180: 616d 6527 3a20 6e61 6d65 2c0d 0a20 2020  ame': name,..   
-00010190: 2020 2020 2020 2020 2027 636f 6465 273a           'code':
-000101a0: 2063 6f64 652c 0d0a 2020 2020 2020 2020   code,..        
-000101b0: 2020 2020 2773 7461 7475 7327 3a20 7374      'status': st
-000101c0: 6174 7573 2c0d 0a20 2020 2020 2020 2020  atus,..         
-000101d0: 2020 2027 6465 7363 7269 7074 696f 6e27     'description'
-000101e0: 3a20 6465 7363 7269 7074 696f 6e2c 0d0a  : description,..
-000101f0: 2020 2020 2020 2020 2020 2020 2763 7265              'cre
-00010200: 6174 6564 5f73 696e 6365 273a 2063 7265  ated_since': cre
-00010210: 6174 6564 5f73 696e 6365 2c0d 0a20 2020  ated_since,..   
-00010220: 2020 2020 2020 2020 2027 6372 6561 7465           'create
-00010230: 645f 756e 7469 6c27 3a20 6372 6561 7465  d_until': create
-00010240: 645f 756e 7469 6c0d 0a20 2020 2020 2020  d_until..       
-00010250: 207d 0d0a 2020 2020 2020 2020 5f71 7565   }..        _que
-00010260: 7279 5f62 7569 6c64 6572 203d 2041 5049  ry_builder = API
-00010270: 4865 6c70 6572 2e61 7070 656e 645f 7572  Helper.append_ur
-00010280: 6c5f 7769 7468 5f71 7565 7279 5f70 6172  l_with_query_par
-00010290: 616d 6574 6572 7328 5f71 7565 7279 5f62  ameters(_query_b
-000102a0: 7569 6c64 6572 2c0d 0a20 2020 2020 2020  uilder,..       
-000102b0: 2020 2020 205f 7175 6572 795f 7061 7261       _query_para
-000102c0: 6d65 7465 7273 2c20 436f 6e66 6967 7572  meters, Configur
-000102d0: 6174 696f 6e2e 6172 7261 795f 7365 7269  ation.array_seri
-000102e0: 616c 697a 6174 696f 6e29 0d0a 2020 2020  alization)..    
-000102f0: 2020 2020 5f71 7565 7279 5f75 726c 203d      _query_url =
-00010300: 2041 5049 4865 6c70 6572 2e63 6c65 616e   APIHelper.clean
-00010310: 5f75 726c 285f 7175 6572 795f 6275 696c  _url(_query_buil
-00010320: 6465 7229 0d0a 0d0a 2020 2020 2020 2020  der)....        
-00010330: 2320 5072 6570 6172 6520 6865 6164 6572  # Prepare header
-00010340: 730d 0a20 2020 2020 2020 205f 6865 6164  s..        _head
-00010350: 6572 7320 3d20 7b0d 0a20 2020 2020 2020  ers = {..       
-00010360: 2020 2020 2027 6163 6365 7074 273a 2027       'accept': '
-00010370: 6170 706c 6963 6174 696f 6e2f 6a73 6f6e  application/json
-00010380: 270d 0a20 2020 2020 2020 207d 0d0a 0d0a  '..        }....
-00010390: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-000103a0: 6520 616e 6420 6578 6563 7574 6520 7265  e and execute re
-000103b0: 7175 6573 740d 0a20 2020 2020 2020 205f  quest..        _
-000103c0: 7265 7175 6573 7420 3d20 7365 6c66 2e68  request = self.h
-000103d0: 7474 705f 636c 6965 6e74 2e67 6574 285f  ttp_client.get(_
-000103e0: 7175 6572 795f 7572 6c2c 2068 6561 6465  query_url, heade
-000103f0: 7273 3d5f 6865 6164 6572 7329 0d0a 2020  rs=_headers)..  
-00010400: 2020 2020 2020 4261 7369 6341 7574 682e        BasicAuth.
-00010410: 6170 706c 7928 5f72 6571 7565 7374 290d  apply(_request).
-00010420: 0a20 2020 2020 2020 205f 636f 6e74 6578  .        _contex
-00010430: 7420 3d20 7365 6c66 2e65 7865 6375 7465  t = self.execute
-00010440: 5f72 6571 7565 7374 285f 7265 7175 6573  _request(_reques
-00010450: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
-00010460: 456e 6470 6f69 6e74 2061 6e64 2067 6c6f  Endpoint and glo
-00010470: 6261 6c20 6572 726f 7220 6861 6e64 6c69  bal error handli
-00010480: 6e67 2075 7369 6e67 2048 5454 5020 7374  ng using HTTP st
-00010490: 6174 7573 2063 6f64 6573 2e0d 0a20 2020  atus codes...   
-000104a0: 2020 2020 2069 6620 5f63 6f6e 7465 7874       if _context
-000104b0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-000104c0: 5f63 6f64 6520 3d3d 2034 3030 3a0d 0a20  _code == 400:.. 
-000104d0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-000104e0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-000104f0: 2749 6e76 616c 6964 2072 6571 7565 7374  'Invalid request
-00010500: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00010510: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-00010520: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00010530: 7475 735f 636f 6465 203d 3d20 3430 313a  tus_code == 401:
-00010540: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00010550: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00010560: 6f6e 2827 496e 7661 6c69 6420 4150 4920  on('Invalid API 
-00010570: 6b65 7927 2c20 5f63 6f6e 7465 7874 290d  key', _context).
-00010580: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-00010590: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-000105a0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-000105b0: 3034 3a0d 0a20 2020 2020 2020 2020 2020  04:..           
-000105c0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-000105d0: 7074 696f 6e28 2741 6e20 696e 666f 726d  ption('An inform
-000105e0: 6564 2072 6573 6f75 7263 6520 7761 7320  ed resource was 
-000105f0: 6e6f 7420 666f 756e 6427 2c20 5f63 6f6e  not found', _con
-00010600: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-00010610: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-00010620: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00010630: 6520 3d3d 2034 3132 3a0d 0a20 2020 2020  e == 412:..     
-00010640: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00010650: 6f72 4578 6365 7074 696f 6e28 2742 7573  orException('Bus
-00010660: 696e 6573 7320 7661 6c69 6461 7469 6f6e  iness validation
-00010670: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
-00010680: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-00010690: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-000106a0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-000106b0: 3d20 3432 323a 0d0a 2020 2020 2020 2020  = 422:..        
-000106c0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-000106d0: 7863 6570 7469 6f6e 2827 436f 6e74 7261  xception('Contra
-000106e0: 6374 2076 616c 6964 6174 696f 6e20 6572  ct validation er
-000106f0: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-00010700: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-00010710: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-00010720: 7374 6174 7573 5f63 6f64 6520 3d3d 2035  status_code == 5
-00010730: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
-00010740: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-00010750: 7074 696f 6e28 2749 6e74 6572 6e61 6c20  ption('Internal 
-00010760: 7365 7276 6572 2065 7272 6f72 272c 205f  server error', _
-00010770: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00010780: 2020 7365 6c66 2e76 616c 6964 6174 655f    self.validate_
-00010790: 7265 7370 6f6e 7365 285f 636f 6e74 6578  response(_contex
-000107a0: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
-000107b0: 5265 7475 726e 2061 7070 726f 7072 6961  Return appropria
-000107c0: 7465 2074 7970 650d 0a20 2020 2020 2020  te type..       
-000107d0: 2072 6574 7572 6e20 4150 4948 656c 7065   return APIHelpe
-000107e0: 722e 6a73 6f6e 5f64 6573 6572 6961 6c69  r.json_deseriali
-000107f0: 7a65 285f 636f 6e74 6578 742e 7265 7370  ze(_context.resp
-00010800: 6f6e 7365 2e72 6177 5f62 6f64 792c 2053  onse.raw_body, S
-00010810: 7562 7363 7269 7074 696f 6e73 4974 656d  ubscriptionsItem
-00010820: 7352 6573 706f 6e73 6533 2e66 726f 6d5f  sResponse3.from_
-00010830: 6469 6374 696f 6e61 7279 290d 0a0d 0a20  dictionary).... 
-00010840: 2020 2064 6566 2075 7064 6174 655f 7375     def update_su
-00010850: 6273 6372 6970 7469 6f6e 5f62 696c 6c69  bscription_billi
-00010860: 6e67 5f64 6174 6528 7365 6c66 2c0d 0a20  ng_date(self,.. 
-00010870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010890: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
-000108a0: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
-000108b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000108c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000108d0: 2020 2062 6f64 792c 0d0a 2020 2020 2020     body,..      
-000108e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000108f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010900: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
-00010910: 6579 3d4e 6f6e 6529 3a0d 0a20 2020 2020  ey=None):..     
-00010920: 2020 2022 2222 446f 6573 2061 2050 4154     """Does a PAT
-00010930: 4348 2072 6571 7565 7374 2074 6f20 2f73  CH request to /s
-00010940: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-00010950: 6273 6372 6970 7469 6f6e 5f69 647d 2f62  bscription_id}/b
-00010960: 696c 6c69 6e67 2d64 6174 652e 0d0a 0d0a  illing-date.....
-00010970: 2020 2020 2020 2020 5570 6461 7465 7320          Updates 
-00010980: 7468 6520 6269 6c6c 696e 6720 6461 7465  the billing date
-00010990: 2066 726f 6d20 6120 7375 6273 6372 6970   from a subscrip
-000109a0: 7469 6f6e 0d0a 0d0a 2020 2020 2020 2020  tion....        
-000109b0: 4172 6773 3a0d 0a20 2020 2020 2020 2020  Args:..         
-000109c0: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
-000109d0: 6964 2028 7374 7269 6e67 293a 2054 6865  id (string): The
-000109e0: 2073 7562 7363 7269 7074 696f 6e20 6964   subscription id
-000109f0: 0d0a 2020 2020 2020 2020 2020 2020 626f  ..            bo
-00010a00: 6479 2028 5375 6273 6372 6970 7469 6f6e  dy (Subscription
-00010a10: 7342 696c 6c69 6e67 4461 7465 5265 7175  sBillingDateRequ
-00010a20: 6573 7429 3a20 5265 7175 6573 7420 666f  est): Request fo
-00010a30: 7220 7570 6461 7469 6e67 2074 6865 0d0a  r updating the..
-00010a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010a50: 7375 6273 6372 6970 7469 6f6e 2062 696c  subscription bil
-00010a60: 6c69 6e67 2064 6174 650d 0a20 2020 2020  ling date..     
-00010a70: 2020 2020 2020 2069 6465 6d70 6f74 656e         idempoten
-00010a80: 6379 5f6b 6579 2028 7374 7269 6e67 2c20  cy_key (string, 
-00010a90: 6f70 7469 6f6e 616c 293a 2054 4f44 4f3a  optional): TODO:
-00010aa0: 2074 7970 6520 6465 7363 7269 7074 696f   type descriptio
-00010ab0: 6e20 6865 7265 2e0d 0a20 2020 2020 2020  n here...       
-00010ac0: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
-00010ad0: 3a20 0d0a 0d0a 2020 2020 2020 2020 5265  : ....        Re
-00010ae0: 7475 726e 733a 0d0a 2020 2020 2020 2020  turns:..        
-00010af0: 2020 2020 4765 7453 7562 7363 7269 7074      GetSubscript
-00010b00: 696f 6e52 6573 706f 6e73 653a 2052 6573  ionResponse: Res
-00010b10: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
-00010b20: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
-00010b30: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
-00010b40: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
-00010b50: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
-00010b60: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
-00010b70: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
-00010b80: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
-00010b90: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
-00010ba0: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
-00010bb0: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
-00010bc0: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
-00010bd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010be0: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
-00010bf0: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
-00010c00: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
-00010c10: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
-00010c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010c30: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
-00010c40: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
-00010c50: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-00010c60: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
-00010c70: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
-00010c80: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
-00010c90: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
-00010ca0: 647d 2f62 696c 6c69 6e67 2d64 6174 6527  d}/billing-date'
-00010cb0: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
-00010cc0: 6174 6820 3d20 4150 4948 656c 7065 722e  ath = APIHelper.
-00010cd0: 6170 7065 6e64 5f75 726c 5f77 6974 685f  append_url_with_
-00010ce0: 7465 6d70 6c61 7465 5f70 6172 616d 6574  template_paramet
-00010cf0: 6572 7328 5f75 726c 5f70 6174 682c 207b  ers(_url_path, {
-00010d00: 200d 0a20 2020 2020 2020 2020 2020 2027   ..            '
-00010d10: 7375 6273 6372 6970 7469 6f6e 5f69 6427  subscription_id'
-00010d20: 3a20 7375 6273 6372 6970 7469 6f6e 5f69  : subscription_i
-00010d30: 640d 0a20 2020 2020 2020 207d 290d 0a20  d..        }).. 
-00010d40: 2020 2020 2020 205f 7175 6572 795f 6275         _query_bu
-00010d50: 696c 6465 7220 3d20 436f 6e66 6967 7572  ilder = Configur
-00010d60: 6174 696f 6e2e 6261 7365 5f75 7269 0d0a  ation.base_uri..
-00010d70: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
-00010d80: 7569 6c64 6572 202b 3d20 5f75 726c 5f70  uilder += _url_p
-00010d90: 6174 680d 0a20 2020 2020 2020 205f 7175  ath..        _qu
-00010da0: 6572 795f 7572 6c20 3d20 4150 4948 656c  ery_url = APIHel
-00010db0: 7065 722e 636c 6561 6e5f 7572 6c28 5f71  per.clean_url(_q
-00010dc0: 7565 7279 5f62 7569 6c64 6572 290d 0a0d  uery_builder)...
-00010dd0: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
-00010de0: 7265 2068 6561 6465 7273 0d0a 2020 2020  re headers..    
-00010df0: 2020 2020 5f68 6561 6465 7273 203d 207b      _headers = {
-00010e00: 0d0a 2020 2020 2020 2020 2020 2020 2761  ..            'a
-00010e10: 6363 6570 7427 3a20 2761 7070 6c69 6361  ccept': 'applica
-00010e20: 7469 6f6e 2f6a 736f 6e27 2c0d 0a20 2020  tion/json',..   
-00010e30: 2020 2020 2020 2020 2027 436f 6e74 656e           'Conten
-00010e40: 742d 5479 7065 273a 2027 6170 706c 6963  t-Type': 'applic
-00010e50: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
-00010e60: 2020 2020 2020 2020 2020 2769 6465 6d70            'idemp
-00010e70: 6f74 656e 6379 2d6b 6579 273a 2069 6465  otency-key': ide
-00010e80: 6d70 6f74 656e 6379 5f6b 6579 0d0a 2020  mpotency_key..  
-00010e90: 2020 2020 2020 7d0d 0a0d 0a20 2020 2020        }....     
-00010ea0: 2020 2023 2050 7265 7061 7265 2061 6e64     # Prepare and
-00010eb0: 2065 7865 6375 7465 2072 6571 7565 7374   execute request
-00010ec0: 0d0a 2020 2020 2020 2020 5f72 6571 7565  ..        _reque
-00010ed0: 7374 203d 2073 656c 662e 6874 7470 5f63  st = self.http_c
-00010ee0: 6c69 656e 742e 7061 7463 6828 5f71 7565  lient.patch(_que
-00010ef0: 7279 5f75 726c 2c20 6865 6164 6572 733d  ry_url, headers=
-00010f00: 5f68 6561 6465 7273 2c20 7061 7261 6d65  _headers, parame
-00010f10: 7465 7273 3d41 5049 4865 6c70 6572 2e6a  ters=APIHelper.j
-00010f20: 736f 6e5f 7365 7269 616c 697a 6528 626f  son_serialize(bo
-00010f30: 6479 2929 0d0a 2020 2020 2020 2020 4261  dy))..        Ba
-00010f40: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
-00010f50: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
-00010f60: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
-00010f70: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
-00010f80: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
-00010f90: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
-00010fa0: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
-00010fb0: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
-00010fc0: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
-00010fd0: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
-00010fe0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00010ff0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00011000: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
-00011010: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00011020: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
-00011030: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
-00011040: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-00011050: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00011060: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00011070: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
-00011080: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-00011090: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-000110a0: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
-000110b0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-000110c0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-000110d0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-000110e0: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
-000110f0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00011100: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
-00011110: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
-00011120: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
-00011130: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
-00011140: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00011150: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00011160: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
-00011170: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00011180: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00011190: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
-000111a0: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-000111b0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-000111c0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-000111d0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-000111e0: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
-000111f0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00011200: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00011210: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
-00011220: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
-00011230: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00011240: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00011250: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00011260: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
-00011270: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00011280: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-00011290: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
-000112a0: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-000112b0: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
-000112c0: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
-000112d0: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
-000112e0: 2020 2020 2020 2320 5265 7475 726e 2061        # Return a
-000112f0: 7070 726f 7072 6961 7465 2074 7970 650d  ppropriate type.
-00011300: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00011310: 4150 4948 656c 7065 722e 6a73 6f6e 5f64  APIHelper.json_d
-00011320: 6573 6572 6961 6c69 7a65 285f 636f 6e74  eserialize(_cont
-00011330: 6578 742e 7265 7370 6f6e 7365 2e72 6177  ext.response.raw
-00011340: 5f62 6f64 792c 2047 6574 5375 6273 6372  _body, GetSubscr
-00011350: 6970 7469 6f6e 5265 7370 6f6e 7365 2e66  iptionResponse.f
-00011360: 726f 6d5f 6469 6374 696f 6e61 7279 290d  rom_dictionary).
-00011370: 0a0d 0a20 2020 2064 6566 2075 7064 6174  ...    def updat
-00011380: 655f 6c61 7465 7374 5f70 6572 696f 645f  e_latest_period_
-00011390: 656e 645f 6174 2873 656c 662c 0d0a 2020  end_at(self,..  
-000113a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000113b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000113c0: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
-000113d0: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
-000113e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000113f0: 2020 2020 2020 2020 626f 6479 2c0d 0a20          body,.. 
-00011400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011420: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
-00011430: 6579 3d4e 6f6e 6529 3a0d 0a20 2020 2020  ey=None):..     
-00011440: 2020 2022 2222 446f 6573 2061 2050 4154     """Does a PAT
-00011450: 4348 2072 6571 7565 7374 2074 6f20 2f73  CH request to /s
-00011460: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-00011470: 6273 6372 6970 7469 6f6e 5f69 647d 2f70  bscription_id}/p
-00011480: 6572 696f 6473 2f6c 6174 6573 742f 656e  eriods/latest/en
-00011490: 642d 6174 2e0d 0a0d 0a20 2020 2020 2020  d-at.....       
-000114a0: 2055 7064 6174 654c 6174 6573 7450 6572   UpdateLatestPer
-000114b0: 696f 6445 6e64 4174 0d0a 0d0a 2020 2020  iodEndAt....    
-000114c0: 2020 2020 4172 6773 3a0d 0a20 2020 2020      Args:..     
-000114d0: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
-000114e0: 696f 6e5f 6964 2028 7374 7269 6e67 293a  ion_id (string):
-000114f0: 2054 4f44 4f3a 2074 7970 6520 6465 7363   TODO: type desc
-00011500: 7269 7074 696f 6e20 6865 7265 2e20 4578  ription here. Ex
-00011510: 616d 706c 653a 200d 0a20 2020 2020 2020  ample: ..       
-00011520: 2020 2020 2062 6f64 7920 2853 7562 7363       body (Subsc
-00011530: 7269 7074 696f 6e73 5065 7269 6f64 734c  riptionsPeriodsL
-00011540: 6174 6573 7445 6e64 4174 5265 7175 6573  atestEndAtReques
-00011550: 7429 3a20 5265 7175 6573 7420 666f 720d  t): Request for.
-00011560: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011570: 2075 7064 6174 696e 6720 7468 6520 656e   updating the en
-00011580: 6420 6461 7465 206f 6620 7468 6520 6375  d date of the cu
-00011590: 7272 656e 7420 7369 676e 6174 7572 6520  rrent signature 
-000115a0: 6379 636c 650d 0a20 2020 2020 2020 2020  cycle..         
-000115b0: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
-000115c0: 6579 2028 7374 7269 6e67 2c20 6f70 7469  ey (string, opti
-000115d0: 6f6e 616c 293a 2054 4f44 4f3a 2074 7970  onal): TODO: typ
-000115e0: 6520 6465 7363 7269 7074 696f 6e20 6865  e description he
-000115f0: 7265 2e0d 0a20 2020 2020 2020 2020 2020  re...           
-00011600: 2020 2020 2045 7861 6d70 6c65 3a20 0d0a       Example: ..
-00011610: 0d0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00011620: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-00011630: 4765 7453 7562 7363 7269 7074 696f 6e52  GetSubscriptionR
-00011640: 6573 706f 6e73 653a 2052 6573 706f 6e73  esponse: Respons
-00011650: 6520 6672 6f6d 2074 6865 2041 5049 2e20  e from the API. 
-00011660: 0d0a 0d0a 2020 2020 2020 2020 5261 6973  ....        Rais
-00011670: 6573 3a0d 0a20 2020 2020 2020 2020 2020  es:..           
-00011680: 2041 5049 4578 6365 7074 696f 6e3a 2057   APIException: W
-00011690: 6865 6e20 616e 2065 7272 6f72 206f 6363  hen an error occ
-000116a0: 7572 7320 7768 696c 6520 6665 7463 6869  urs while fetchi
-000116b0: 6e67 2074 6865 2064 6174 6120 6672 6f6d  ng the data from
-000116c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000116d0: 2020 7468 6520 7265 6d6f 7465 2041 5049    the remote API
-000116e0: 2e20 5468 6973 2065 7863 6570 7469 6f6e  . This exception
-000116f0: 2069 6e63 6c75 6465 7320 7468 6520 4854   includes the HT
-00011700: 5450 2052 6573 706f 6e73 650d 0a20 2020  TP Response..   
-00011710: 2020 2020 2020 2020 2020 2020 2063 6f64               cod
-00011720: 652c 2061 6e20 6572 726f 7220 6d65 7373  e, an error mess
-00011730: 6167 652c 2061 6e64 2074 6865 2048 5454  age, and the HTT
-00011740: 5020 626f 6479 2074 6861 7420 7761 7320  P body that was 
-00011750: 7265 6365 6976 6564 2069 6e0d 0a20 2020  received in..   
-00011760: 2020 2020 2020 2020 2020 2020 2074 6865               the
-00011770: 2072 6571 7565 7374 2e0d 0a0d 0a20 2020   request.....   
-00011780: 2020 2020 2022 2222 0d0a 0d0a 2020 2020       """....    
-00011790: 2020 2020 2320 5072 6570 6172 6520 7175      # Prepare qu
-000117a0: 6572 7920 5552 4c0d 0a20 2020 2020 2020  ery URL..       
-000117b0: 205f 7572 6c5f 7061 7468 203d 2027 2f73   _url_path = '/s
-000117c0: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-000117d0: 6273 6372 6970 7469 6f6e 5f69 647d 2f70  bscription_id}/p
-000117e0: 6572 696f 6473 2f6c 6174 6573 742f 656e  eriods/latest/en
-000117f0: 642d 6174 270d 0a20 2020 2020 2020 205f  d-at'..        _
-00011800: 7572 6c5f 7061 7468 203d 2041 5049 4865  url_path = APIHe
-00011810: 6c70 6572 2e61 7070 656e 645f 7572 6c5f  lper.append_url_
-00011820: 7769 7468 5f74 656d 706c 6174 655f 7061  with_template_pa
-00011830: 7261 6d65 7465 7273 285f 7572 6c5f 7061  rameters(_url_pa
-00011840: 7468 2c20 7b20 0d0a 2020 2020 2020 2020  th, { ..        
-00011850: 2020 2020 2773 7562 7363 7269 7074 696f      'subscriptio
-00011860: 6e5f 6964 273a 2073 7562 7363 7269 7074  n_id': subscript
-00011870: 696f 6e5f 6964 0d0a 2020 2020 2020 2020  ion_id..        
-00011880: 7d29 0d0a 2020 2020 2020 2020 5f71 7565  })..        _que
-00011890: 7279 5f62 7569 6c64 6572 203d 2043 6f6e  ry_builder = Con
-000118a0: 6669 6775 7261 7469 6f6e 2e62 6173 655f  figuration.base_
-000118b0: 7572 690d 0a20 2020 2020 2020 205f 7175  uri..        _qu
-000118c0: 6572 795f 6275 696c 6465 7220 2b3d 205f  ery_builder += _
-000118d0: 7572 6c5f 7061 7468 0d0a 2020 2020 2020  url_path..      
-000118e0: 2020 5f71 7565 7279 5f75 726c 203d 2041    _query_url = A
-000118f0: 5049 4865 6c70 6572 2e63 6c65 616e 5f75  PIHelper.clean_u
-00011900: 726c 285f 7175 6572 795f 6275 696c 6465  rl(_query_builde
-00011910: 7229 0d0a 0d0a 2020 2020 2020 2020 2320  r)....        # 
-00011920: 5072 6570 6172 6520 6865 6164 6572 730d  Prepare headers.
-00011930: 0a20 2020 2020 2020 205f 6865 6164 6572  .        _header
-00011940: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
-00011950: 2020 2027 6163 6365 7074 273a 2027 6170     'accept': 'ap
-00011960: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
-00011970: 0d0a 2020 2020 2020 2020 2020 2020 2743  ..            'C
-00011980: 6f6e 7465 6e74 2d54 7970 6527 3a20 2761  ontent-Type': 'a
-00011990: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
-000119a0: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
-000119b0: 6964 656d 706f 7465 6e63 792d 6b65 7927  idempotency-key'
-000119c0: 3a20 6964 656d 706f 7465 6e63 795f 6b65  : idempotency_ke
-000119d0: 790d 0a20 2020 2020 2020 207d 0d0a 0d0a  y..        }....
-000119e0: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-000119f0: 6520 616e 6420 6578 6563 7574 6520 7265  e and execute re
-00011a00: 7175 6573 740d 0a20 2020 2020 2020 205f  quest..        _
-00011a10: 7265 7175 6573 7420 3d20 7365 6c66 2e68  request = self.h
-00011a20: 7474 705f 636c 6965 6e74 2e70 6174 6368  ttp_client.patch
-00011a30: 285f 7175 6572 795f 7572 6c2c 2068 6561  (_query_url, hea
-00011a40: 6465 7273 3d5f 6865 6164 6572 732c 2070  ders=_headers, p
-00011a50: 6172 616d 6574 6572 733d 4150 4948 656c  arameters=APIHel
-00011a60: 7065 722e 6a73 6f6e 5f73 6572 6961 6c69  per.json_seriali
-00011a70: 7a65 2862 6f64 7929 290d 0a20 2020 2020  ze(body))..     
-00011a80: 2020 2042 6173 6963 4175 7468 2e61 7070     BasicAuth.app
-00011a90: 6c79 285f 7265 7175 6573 7429 0d0a 2020  ly(_request)..  
-00011aa0: 2020 2020 2020 5f63 6f6e 7465 7874 203d        _context =
-00011ab0: 2073 656c 662e 6578 6563 7574 655f 7265   self.execute_re
-00011ac0: 7175 6573 7428 5f72 6571 7565 7374 290d  quest(_request).
-00011ad0: 0a0d 0a20 2020 2020 2020 2023 2045 6e64  ...        # End
-00011ae0: 706f 696e 7420 616e 6420 676c 6f62 616c  point and global
-00011af0: 2065 7272 6f72 2068 616e 646c 696e 6720   error handling 
-00011b00: 7573 696e 6720 4854 5450 2073 7461 7475  using HTTP statu
-00011b10: 7320 636f 6465 732e 0d0a 2020 2020 2020  s codes...      
-00011b20: 2020 6966 205f 636f 6e74 6578 742e 7265    if _context.re
-00011b30: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00011b40: 6465 203d 3d20 3430 303a 0d0a 2020 2020  de == 400:..    
-00011b50: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00011b60: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
-00011b70: 7661 6c69 6420 7265 7175 6573 7427 2c20  valid request', 
-00011b80: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00011b90: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-00011ba0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00011bb0: 5f63 6f64 6520 3d3d 2034 3031 3a0d 0a20  _code == 401:.. 
-00011bc0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00011bd0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00011be0: 2749 6e76 616c 6964 2041 5049 206b 6579  'Invalid API key
-00011bf0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00011c00: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-00011c10: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00011c20: 7475 735f 636f 6465 203d 3d20 3430 343a  tus_code == 404:
-00011c30: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00011c40: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00011c50: 6f6e 2827 416e 2069 6e66 6f72 6d65 6420  on('An informed 
-00011c60: 7265 736f 7572 6365 2077 6173 206e 6f74  resource was not
-00011c70: 2066 6f75 6e64 272c 205f 636f 6e74 6578   found', _contex
-00011c80: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-00011c90: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00011ca0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00011cb0: 3d20 3431 323a 0d0a 2020 2020 2020 2020  = 412:..        
-00011cc0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-00011cd0: 7863 6570 7469 6f6e 2827 4275 7369 6e65  xception('Busine
-00011ce0: 7373 2076 616c 6964 6174 696f 6e20 6572  ss validation er
-00011cf0: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-00011d00: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-00011d10: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-00011d20: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-00011d30: 3232 3a0d 0a20 2020 2020 2020 2020 2020  22:..           
-00011d40: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-00011d50: 7074 696f 6e28 2743 6f6e 7472 6163 7420  ption('Contract 
-00011d60: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
-00011d70: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00011d80: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-00011d90: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00011da0: 7475 735f 636f 6465 203d 3d20 3530 303a  tus_code == 500:
-00011db0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00011dc0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00011dd0: 6f6e 2827 496e 7465 726e 616c 2073 6572  on('Internal ser
-00011de0: 7665 7220 6572 726f 7227 2c20 5f63 6f6e  ver error', _con
-00011df0: 7465 7874 290d 0a20 2020 2020 2020 2073  text)..        s
-00011e00: 656c 662e 7661 6c69 6461 7465 5f72 6573  elf.validate_res
-00011e10: 706f 6e73 6528 5f63 6f6e 7465 7874 290d  ponse(_context).
-00011e20: 0a0d 0a20 2020 2020 2020 2023 2052 6574  ...        # Ret
-00011e30: 7572 6e20 6170 7072 6f70 7269 6174 6520  urn appropriate 
-00011e40: 7479 7065 0d0a 2020 2020 2020 2020 7265  type..        re
-00011e50: 7475 726e 2041 5049 4865 6c70 6572 2e6a  turn APIHelper.j
-00011e60: 736f 6e5f 6465 7365 7269 616c 697a 6528  son_deserialize(
-00011e70: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00011e80: 652e 7261 775f 626f 6479 2c20 4765 7453  e.raw_body, GetS
-00011e90: 7562 7363 7269 7074 696f 6e52 6573 706f  ubscriptionRespo
-00011ea0: 6e73 652e 6672 6f6d 5f64 6963 7469 6f6e  nse.from_diction
-00011eb0: 6172 7929 0d0a 0d0a 2020 2020 6465 6620  ary)....    def 
-00011ec0: 7570 6461 7465 5f73 7562 7363 7269 7074  update_subscript
-00011ed0: 696f 6e5f 6166 6669 6c69 6174 696f 6e5f  ion_affiliation_
-00011ee0: 6964 2873 656c 662c 0d0a 2020 2020 2020  id(self,..      
-00011ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f10: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
-00011f20: 6e5f 6964 2c0d 0a20 2020 2020 2020 2020  n_id,..         
-00011f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f50: 2020 626f 6479 2c0d 0a20 2020 2020 2020    body,..       
-00011f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f80: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
-00011f90: 6b65 793d 4e6f 6e65 293a 0d0a 2020 2020  key=None):..    
-00011fa0: 2020 2020 2222 2244 6f65 7320 6120 5041      """Does a PA
-00011fb0: 5443 4820 7265 7175 6573 7420 746f 202f  TCH request to /
-00011fc0: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
-00011fd0: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
-00011fe0: 6761 7465 7761 792d 6166 6669 6c69 6174  gateway-affiliat
-00011ff0: 696f 6e2d 6964 2e0d 0a0d 0a20 2020 2020  ion-id.....     
-00012000: 2020 2055 7064 6174 6553 7562 7363 7269     UpdateSubscri
-00012010: 7074 696f 6e41 6666 696c 6961 7469 6f6e  ptionAffiliation
-00012020: 4964 0d0a 0d0a 2020 2020 2020 2020 4172  Id....        Ar
-00012030: 6773 3a0d 0a20 2020 2020 2020 2020 2020  gs:..           
-00012040: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
-00012050: 2028 7374 7269 6e67 293a 2054 4f44 4f3a   (string): TODO:
-00012060: 2074 7970 6520 6465 7363 7269 7074 696f   type descriptio
-00012070: 6e20 6865 7265 2e20 4578 616d 706c 653a  n here. Example:
-00012080: 200d 0a20 2020 2020 2020 2020 2020 2062   ..            b
-00012090: 6f64 7920 2853 7562 7363 7269 7074 696f  ody (Subscriptio
-000120a0: 6e73 4761 7465 7761 7941 6666 696c 6961  nsGatewayAffilia
-000120b0: 7469 6f6e 4964 5265 7175 6573 7429 3a20  tionIdRequest): 
-000120c0: 5265 7175 6573 7420 666f 720d 0a20 2020  Request for..   
-000120d0: 2020 2020 2020 2020 2020 2020 2075 7064               upd
-000120e0: 6174 696e 6720 6120 7375 6273 6372 6970  ating a subscrip
-000120f0: 7469 6f6e 2061 6666 696c 6961 7469 6f6e  tion affiliation
-00012100: 2069 640d 0a20 2020 2020 2020 2020 2020   id..           
-00012110: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
-00012120: 2028 7374 7269 6e67 2c20 6f70 7469 6f6e   (string, option
-00012130: 616c 293a 2054 4f44 4f3a 2074 7970 6520  al): TODO: type 
-00012140: 6465 7363 7269 7074 696f 6e20 6865 7265  description here
-00012150: 2e0d 0a20 2020 2020 2020 2020 2020 2020  ...             
-00012160: 2020 2045 7861 6d70 6c65 3a20 0d0a 0d0a     Example: ....
-00012170: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00012180: 0d0a 2020 2020 2020 2020 2020 2020 4765  ..            Ge
-00012190: 7453 7562 7363 7269 7074 696f 6e52 6573  tSubscriptionRes
-000121a0: 706f 6e73 653a 2052 6573 706f 6e73 6520  ponse: Response 
-000121b0: 6672 6f6d 2074 6865 2041 5049 2e20 0d0a  from the API. ..
-000121c0: 0d0a 2020 2020 2020 2020 5261 6973 6573  ..        Raises
-000121d0: 3a0d 0a20 2020 2020 2020 2020 2020 2041  :..            A
-000121e0: 5049 4578 6365 7074 696f 6e3a 2057 6865  PIException: Whe
-000121f0: 6e20 616e 2065 7272 6f72 206f 6363 7572  n an error occur
-00012200: 7320 7768 696c 6520 6665 7463 6869 6e67  s while fetching
-00012210: 2074 6865 2064 6174 6120 6672 6f6d 0d0a   the data from..
-00012220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012230: 7468 6520 7265 6d6f 7465 2041 5049 2e20  the remote API. 
-00012240: 5468 6973 2065 7863 6570 7469 6f6e 2069  This exception i
-00012250: 6e63 6c75 6465 7320 7468 6520 4854 5450  ncludes the HTTP
-00012260: 2052 6573 706f 6e73 650d 0a20 2020 2020   Response..     
-00012270: 2020 2020 2020 2020 2020 2063 6f64 652c             code,
-00012280: 2061 6e20 6572 726f 7220 6d65 7373 6167   an error messag
-00012290: 652c 2061 6e64 2074 6865 2048 5454 5020  e, and the HTTP 
-000122a0: 626f 6479 2074 6861 7420 7761 7320 7265  body that was re
-000122b0: 6365 6976 6564 2069 6e0d 0a20 2020 2020  ceived in..     
-000122c0: 2020 2020 2020 2020 2020 2074 6865 2072             the r
-000122d0: 6571 7565 7374 2e0d 0a0d 0a20 2020 2020  equest.....     
-000122e0: 2020 2022 2222 0d0a 0d0a 2020 2020 2020     """....      
-000122f0: 2020 2320 5072 6570 6172 6520 7175 6572    # Prepare quer
-00012300: 7920 5552 4c0d 0a20 2020 2020 2020 205f  y URL..        _
-00012310: 7572 6c5f 7061 7468 203d 2027 2f73 7562  url_path = '/sub
-00012320: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
-00012330: 6372 6970 7469 6f6e 5f69 647d 2f67 6174  cription_id}/gat
-00012340: 6577 6179 2d61 6666 696c 6961 7469 6f6e  eway-affiliation
-00012350: 2d69 6427 0d0a 2020 2020 2020 2020 5f75  -id'..        _u
-00012360: 726c 5f70 6174 6820 3d20 4150 4948 656c  rl_path = APIHel
-00012370: 7065 722e 6170 7065 6e64 5f75 726c 5f77  per.append_url_w
-00012380: 6974 685f 7465 6d70 6c61 7465 5f70 6172  ith_template_par
-00012390: 616d 6574 6572 7328 5f75 726c 5f70 6174  ameters(_url_pat
-000123a0: 682c 207b 200d 0a20 2020 2020 2020 2020  h, { ..         
-000123b0: 2020 2027 7375 6273 6372 6970 7469 6f6e     'subscription
-000123c0: 5f69 6427 3a20 7375 6273 6372 6970 7469  _id': subscripti
-000123d0: 6f6e 5f69 640d 0a20 2020 2020 2020 207d  on_id..        }
-000123e0: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
-000123f0: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
-00012400: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
-00012410: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
-00012420: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
-00012430: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
-00012440: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
-00012450: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
-00012460: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
-00012470: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
-00012480: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
-00012490: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
-000124a0: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-000124b0: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
-000124c0: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
-000124d0: 0a20 2020 2020 2020 2020 2020 2027 436f  .            'Co
-000124e0: 6e74 656e 742d 5479 7065 273a 2027 6170  ntent-Type': 'ap
-000124f0: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
-00012500: 0d0a 2020 2020 2020 2020 2020 2020 2769  ..            'i
-00012510: 6465 6d70 6f74 656e 6379 2d6b 6579 273a  dempotency-key':
-00012520: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
-00012530: 0d0a 2020 2020 2020 2020 7d0d 0a0d 0a20  ..        }.... 
-00012540: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-00012550: 2061 6e64 2065 7865 6375 7465 2072 6571   and execute req
-00012560: 7565 7374 0d0a 2020 2020 2020 2020 5f72  uest..        _r
-00012570: 6571 7565 7374 203d 2073 656c 662e 6874  equest = self.ht
-00012580: 7470 5f63 6c69 656e 742e 7061 7463 6828  tp_client.patch(
-00012590: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
-000125a0: 6572 733d 5f68 6561 6465 7273 2c20 7061  ers=_headers, pa
-000125b0: 7261 6d65 7465 7273 3d41 5049 4865 6c70  rameters=APIHelp
-000125c0: 6572 2e6a 736f 6e5f 7365 7269 616c 697a  er.json_serializ
-000125d0: 6528 626f 6479 2929 0d0a 2020 2020 2020  e(body))..      
-000125e0: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
-000125f0: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
-00012600: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
-00012610: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
-00012620: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
-00012630: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
-00012640: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
-00012650: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
-00012660: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
-00012670: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
-00012680: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
-00012690: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-000126a0: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
-000126b0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-000126c0: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
-000126d0: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
-000126e0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-000126f0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00012700: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00012710: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
-00012720: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00012730: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00012740: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
-00012750: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00012760: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-00012770: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00012780: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
-00012790: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-000127a0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-000127b0: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
-000127c0: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
-000127d0: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
-000127e0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-000127f0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00012800: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00012810: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
-00012820: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00012830: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
-00012840: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
-00012850: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
-00012860: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-00012870: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-00012880: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
-00012890: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
-000128a0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-000128b0: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
-000128c0: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
-000128d0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-000128e0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-000128f0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00012900: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
-00012910: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00012920: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00012930: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
-00012940: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
-00012950: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
-00012960: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
-00012970: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
-00012980: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
-00012990: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
-000129a0: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
-000129b0: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
-000129c0: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
-000129d0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-000129e0: 2e72 6177 5f62 6f64 792c 2047 6574 5375  .raw_body, GetSu
-000129f0: 6273 6372 6970 7469 6f6e 5265 7370 6f6e  bscriptionRespon
-00012a00: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
-00012a10: 7279 290d 0a0d 0a20 2020 2064 6566 2064  ry)....    def d
-00012a20: 656c 6574 655f 7375 6273 6372 6970 7469  elete_subscripti
-00012a30: 6f6e 5f69 7465 6d28 7365 6c66 2c0d 0a20  on_item(self,.. 
-00012a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012a60: 7375 6273 6372 6970 7469 6f6e 5f69 642c  subscription_id,
-00012a70: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00012a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012a90: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
-00012aa0: 6974 656d 5f69 642c 0d0a 2020 2020 2020  item_id,..      
-00012ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012ac0: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
-00012ad0: 6f74 656e 6379 5f6b 6579 3d4e 6f6e 6529  otency_key=None)
-00012ae0: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
-00012af0: 6573 2061 2044 454c 4554 4520 7265 7175  es a DELETE requ
-00012b00: 6573 7420 746f 202f 7375 6273 6372 6970  est to /subscrip
-00012b10: 7469 6f6e 732f 7b73 7562 7363 7269 7074  tions/{subscript
-00012b20: 696f 6e5f 6964 7d2f 6974 656d 732f 7b73  ion_id}/items/{s
-00012b30: 7562 7363 7269 7074 696f 6e5f 6974 656d  ubscription_item
-00012b40: 5f69 647d 2e0d 0a0d 0a20 2020 2020 2020  _id}.....       
-00012b50: 2044 656c 6574 6573 2061 2073 7562 7363   Deletes a subsc
-00012b60: 7269 7074 696f 6e20 6974 656d 0d0a 0d0a  ription item....
-00012b70: 2020 2020 2020 2020 4172 6773 3a0d 0a20          Args:.. 
-00012b80: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
-00012b90: 7269 7074 696f 6e5f 6964 2028 7374 7269  ription_id (stri
-00012ba0: 6e67 293a 2053 7562 7363 7269 7074 696f  ng): Subscriptio
-00012bb0: 6e20 6964 0d0a 2020 2020 2020 2020 2020  n id..          
-00012bc0: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
-00012bd0: 7465 6d5f 6964 2028 7374 7269 6e67 293a  tem_id (string):
-00012be0: 2053 7562 7363 7269 7074 696f 6e20 6974   Subscription it
-00012bf0: 656d 2069 640d 0a20 2020 2020 2020 2020  em id..         
-00012c00: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
-00012c10: 6579 2028 7374 7269 6e67 2c20 6f70 7469  ey (string, opti
-00012c20: 6f6e 616c 293a 2054 4f44 4f3a 2074 7970  onal): TODO: typ
-00012c30: 6520 6465 7363 7269 7074 696f 6e20 6865  e description he
-00012c40: 7265 2e0d 0a20 2020 2020 2020 2020 2020  re...           
-00012c50: 2020 2020 2045 7861 6d70 6c65 3a20 0d0a       Example: ..
-00012c60: 0d0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00012c70: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-00012c80: 4765 7453 7562 7363 7269 7074 696f 6e49  GetSubscriptionI
-00012c90: 7465 6d52 6573 706f 6e73 653a 2052 6573  temResponse: Res
-00012ca0: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
-00012cb0: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
-00012cc0: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
-00012cd0: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
-00012ce0: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
-00012cf0: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
-00012d00: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
-00012d10: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
-00012d20: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
-00012d30: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
-00012d40: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
-00012d50: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
-00012d60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012d70: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
-00012d80: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
-00012d90: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
-00012da0: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
-00012db0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012dc0: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
-00012dd0: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
-00012de0: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-00012df0: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
-00012e00: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
-00012e10: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
-00012e20: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
-00012e30: 647d 2f69 7465 6d73 2f7b 7375 6273 6372  d}/items/{subscr
-00012e40: 6970 7469 6f6e 5f69 7465 6d5f 6964 7d27  iption_item_id}'
-00012e50: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
-00012e60: 6174 6820 3d20 4150 4948 656c 7065 722e  ath = APIHelper.
-00012e70: 6170 7065 6e64 5f75 726c 5f77 6974 685f  append_url_with_
-00012e80: 7465 6d70 6c61 7465 5f70 6172 616d 6574  template_paramet
-00012e90: 6572 7328 5f75 726c 5f70 6174 682c 207b  ers(_url_path, {
-00012ea0: 200d 0a20 2020 2020 2020 2020 2020 2027   ..            '
-00012eb0: 7375 6273 6372 6970 7469 6f6e 5f69 6427  subscription_id'
-00012ec0: 3a20 7375 6273 6372 6970 7469 6f6e 5f69  : subscription_i
-00012ed0: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
-00012ee0: 2773 7562 7363 7269 7074 696f 6e5f 6974  'subscription_it
-00012ef0: 656d 5f69 6427 3a20 7375 6273 6372 6970  em_id': subscrip
-00012f00: 7469 6f6e 5f69 7465 6d5f 6964 0d0a 2020  tion_item_id..  
-00012f10: 2020 2020 2020 7d29 0d0a 2020 2020 2020        })..      
-00012f20: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
-00012f30: 203d 2043 6f6e 6669 6775 7261 7469 6f6e   = Configuration
-00012f40: 2e62 6173 655f 7572 690d 0a20 2020 2020  .base_uri..     
-00012f50: 2020 205f 7175 6572 795f 6275 696c 6465     _query_builde
-00012f60: 7220 2b3d 205f 7572 6c5f 7061 7468 0d0a  r += _url_path..
-00012f70: 2020 2020 2020 2020 5f71 7565 7279 5f75          _query_u
-00012f80: 726c 203d 2041 5049 4865 6c70 6572 2e63  rl = APIHelper.c
-00012f90: 6c65 616e 5f75 726c 285f 7175 6572 795f  lean_url(_query_
-00012fa0: 6275 696c 6465 7229 0d0a 0d0a 2020 2020  builder)....    
-00012fb0: 2020 2020 2320 5072 6570 6172 6520 6865      # Prepare he
-00012fc0: 6164 6572 730d 0a20 2020 2020 2020 205f  aders..        _
-00012fd0: 6865 6164 6572 7320 3d20 7b0d 0a20 2020  headers = {..   
-00012fe0: 2020 2020 2020 2020 2027 6163 6365 7074           'accept
-00012ff0: 273a 2027 6170 706c 6963 6174 696f 6e2f  ': 'application/
-00013000: 6a73 6f6e 272c 0d0a 2020 2020 2020 2020  json',..        
-00013010: 2020 2020 2769 6465 6d70 6f74 656e 6379      'idempotency
-00013020: 2d6b 6579 273a 2069 6465 6d70 6f74 656e  -key': idempoten
-00013030: 6379 5f6b 6579 0d0a 2020 2020 2020 2020  cy_key..        
-00013040: 7d0d 0a0d 0a20 2020 2020 2020 2023 2050  }....        # P
-00013050: 7265 7061 7265 2061 6e64 2065 7865 6375  repare and execu
-00013060: 7465 2072 6571 7565 7374 0d0a 2020 2020  te request..    
-00013070: 2020 2020 5f72 6571 7565 7374 203d 2073      _request = s
-00013080: 656c 662e 6874 7470 5f63 6c69 656e 742e  elf.http_client.
-00013090: 6465 6c65 7465 285f 7175 6572 795f 7572  delete(_query_ur
-000130a0: 6c2c 2068 6561 6465 7273 3d5f 6865 6164  l, headers=_head
-000130b0: 6572 7329 0d0a 2020 2020 2020 2020 4261  ers)..        Ba
-000130c0: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
-000130d0: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
-000130e0: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
-000130f0: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
-00013100: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
-00013110: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
-00013120: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
-00013130: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
-00013140: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
-00013150: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
-00013160: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00013170: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00013180: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
-00013190: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-000131a0: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
-000131b0: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
-000131c0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-000131d0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-000131e0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-000131f0: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
-00013200: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-00013210: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-00013220: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
-00013230: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00013240: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00013250: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00013260: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
-00013270: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00013280: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
-00013290: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
-000132a0: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
-000132b0: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
-000132c0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-000132d0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-000132e0: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
-000132f0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00013300: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00013310: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
-00013320: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-00013330: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00013340: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00013350: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00013360: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
-00013370: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00013380: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00013390: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
-000133a0: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
-000133b0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-000133c0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-000133d0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-000133e0: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
-000133f0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00013400: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-00013410: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
-00013420: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-00013430: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
-00013440: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
-00013450: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
-00013460: 2020 2020 2020 2320 5265 7475 726e 2061        # Return a
-00013470: 7070 726f 7072 6961 7465 2074 7970 650d  ppropriate type.
-00013480: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00013490: 4150 4948 656c 7065 722e 6a73 6f6e 5f64  APIHelper.json_d
-000134a0: 6573 6572 6961 6c69 7a65 285f 636f 6e74  eserialize(_cont
-000134b0: 6578 742e 7265 7370 6f6e 7365 2e72 6177  ext.response.raw
-000134c0: 5f62 6f64 792c 2047 6574 5375 6273 6372  _body, GetSubscr
-000134d0: 6970 7469 6f6e 4974 656d 5265 7370 6f6e  iptionItemRespon
-000134e0: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
-000134f0: 7279 290d 0a0d 0a20 2020 2064 6566 2075  ry)....    def u
-00013500: 7064 6174 655f 7375 6273 6372 6970 7469  pdate_subscripti
-00013510: 6f6e 5f63 6172 6428 7365 6c66 2c0d 0a20  on_card(self,.. 
-00013520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013540: 7375 6273 6372 6970 7469 6f6e 5f69 642c  subscription_id,
-00013550: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00013560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013570: 2020 2062 6f64 792c 0d0a 2020 2020 2020     body,..      
-00013580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013590: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
-000135a0: 6f74 656e 6379 5f6b 6579 3d4e 6f6e 6529  otency_key=None)
-000135b0: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
-000135c0: 6573 2061 2050 4154 4348 2072 6571 7565  es a PATCH reque
-000135d0: 7374 2074 6f20 2f73 7562 7363 7269 7074  st to /subscript
-000135e0: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
-000135f0: 6f6e 5f69 647d 2f63 6172 642e 0d0a 0d0a  on_id}/card.....
-00013600: 2020 2020 2020 2020 5570 6461 7465 7320          Updates 
-00013610: 7468 6520 6372 6564 6974 2063 6172 6420  the credit card 
-00013620: 6672 6f6d 2061 2073 7562 7363 7269 7074  from a subscript
-00013630: 696f 6e0d 0a0d 0a20 2020 2020 2020 2041  ion....        A
-00013640: 7267 733a 0d0a 2020 2020 2020 2020 2020  rgs:..          
-00013650: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
-00013660: 6420 2873 7472 696e 6729 3a20 5375 6273  d (string): Subs
-00013670: 6372 6970 7469 6f6e 2069 640d 0a20 2020  cription id..   
-00013680: 2020 2020 2020 2020 2062 6f64 7920 2853           body (S
-00013690: 7562 7363 7269 7074 696f 6e73 4361 7264  ubscriptionsCard
-000136a0: 5265 7175 6573 7429 3a20 5265 7175 6573  Request): Reques
-000136b0: 7420 666f 7220 7570 6461 7469 6e67 2061  t for updating a
-000136c0: 2063 6172 640d 0a20 2020 2020 2020 2020   card..         
-000136d0: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
-000136e0: 6579 2028 7374 7269 6e67 2c20 6f70 7469  ey (string, opti
-000136f0: 6f6e 616c 293a 2054 4f44 4f3a 2074 7970  onal): TODO: typ
-00013700: 6520 6465 7363 7269 7074 696f 6e20 6865  e description he
-00013710: 7265 2e0d 0a20 2020 2020 2020 2020 2020  re...           
-00013720: 2020 2020 2045 7861 6d70 6c65 3a20 0d0a       Example: ..
-00013730: 0d0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00013740: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-00013750: 4765 7453 7562 7363 7269 7074 696f 6e52  GetSubscriptionR
-00013760: 6573 706f 6e73 653a 2052 6573 706f 6e73  esponse: Respons
-00013770: 6520 6672 6f6d 2074 6865 2041 5049 2e20  e from the API. 
-00013780: 0d0a 0d0a 2020 2020 2020 2020 5261 6973  ....        Rais
-00013790: 6573 3a0d 0a20 2020 2020 2020 2020 2020  es:..           
-000137a0: 2041 5049 4578 6365 7074 696f 6e3a 2057   APIException: W
-000137b0: 6865 6e20 616e 2065 7272 6f72 206f 6363  hen an error occ
-000137c0: 7572 7320 7768 696c 6520 6665 7463 6869  urs while fetchi
-000137d0: 6e67 2074 6865 2064 6174 6120 6672 6f6d  ng the data from
-000137e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000137f0: 2020 7468 6520 7265 6d6f 7465 2041 5049    the remote API
-00013800: 2e20 5468 6973 2065 7863 6570 7469 6f6e  . This exception
-00013810: 2069 6e63 6c75 6465 7320 7468 6520 4854   includes the HT
-00013820: 5450 2052 6573 706f 6e73 650d 0a20 2020  TP Response..   
-00013830: 2020 2020 2020 2020 2020 2020 2063 6f64               cod
-00013840: 652c 2061 6e20 6572 726f 7220 6d65 7373  e, an error mess
-00013850: 6167 652c 2061 6e64 2074 6865 2048 5454  age, and the HTT
-00013860: 5020 626f 6479 2074 6861 7420 7761 7320  P body that was 
-00013870: 7265 6365 6976 6564 2069 6e0d 0a20 2020  received in..   
-00013880: 2020 2020 2020 2020 2020 2020 2074 6865               the
-00013890: 2072 6571 7565 7374 2e0d 0a0d 0a20 2020   request.....   
-000138a0: 2020 2020 2022 2222 0d0a 0d0a 2020 2020       """....    
-000138b0: 2020 2020 2320 5072 6570 6172 6520 7175      # Prepare qu
-000138c0: 6572 7920 5552 4c0d 0a20 2020 2020 2020  ery URL..       
-000138d0: 205f 7572 6c5f 7061 7468 203d 2027 2f73   _url_path = '/s
-000138e0: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
-000138f0: 6273 6372 6970 7469 6f6e 5f69 647d 2f63  bscription_id}/c
-00013900: 6172 6427 0d0a 2020 2020 2020 2020 5f75  ard'..        _u
-00013910: 726c 5f70 6174 6820 3d20 4150 4948 656c  rl_path = APIHel
-00013920: 7065 722e 6170 7065 6e64 5f75 726c 5f77  per.append_url_w
-00013930: 6974 685f 7465 6d70 6c61 7465 5f70 6172  ith_template_par
-00013940: 616d 6574 6572 7328 5f75 726c 5f70 6174  ameters(_url_pat
-00013950: 682c 207b 200d 0a20 2020 2020 2020 2020  h, { ..         
-00013960: 2020 2027 7375 6273 6372 6970 7469 6f6e     'subscription
-00013970: 5f69 6427 3a20 7375 6273 6372 6970 7469  _id': subscripti
-00013980: 6f6e 5f69 640d 0a20 2020 2020 2020 207d  on_id..        }
-00013990: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
-000139a0: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
-000139b0: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
-000139c0: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
-000139d0: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
-000139e0: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
-000139f0: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
-00013a00: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
-00013a10: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
-00013a20: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
-00013a30: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
-00013a40: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
-00013a50: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-00013a60: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
-00013a70: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
-00013a80: 0a20 2020 2020 2020 2020 2020 2027 436f  .            'Co
-00013a90: 6e74 656e 742d 5479 7065 273a 2027 6170  ntent-Type': 'ap
-00013aa0: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
-00013ab0: 0d0a 2020 2020 2020 2020 2020 2020 2769  ..            'i
-00013ac0: 6465 6d70 6f74 656e 6379 2d6b 6579 273a  dempotency-key':
-00013ad0: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
-00013ae0: 0d0a 2020 2020 2020 2020 7d0d 0a0d 0a20  ..        }.... 
-00013af0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-00013b00: 2061 6e64 2065 7865 6375 7465 2072 6571   and execute req
-00013b10: 7565 7374 0d0a 2020 2020 2020 2020 5f72  uest..        _r
-00013b20: 6571 7565 7374 203d 2073 656c 662e 6874  equest = self.ht
-00013b30: 7470 5f63 6c69 656e 742e 7061 7463 6828  tp_client.patch(
-00013b40: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
-00013b50: 6572 733d 5f68 6561 6465 7273 2c20 7061  ers=_headers, pa
-00013b60: 7261 6d65 7465 7273 3d41 5049 4865 6c70  rameters=APIHelp
-00013b70: 6572 2e6a 736f 6e5f 7365 7269 616c 697a  er.json_serializ
-00013b80: 6528 626f 6479 2929 0d0a 2020 2020 2020  e(body))..      
-00013b90: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
-00013ba0: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
-00013bb0: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
-00013bc0: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
-00013bd0: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
-00013be0: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
-00013bf0: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
-00013c00: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
-00013c10: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
-00013c20: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
-00013c30: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
-00013c40: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00013c50: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
-00013c60: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00013c70: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
-00013c80: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
-00013c90: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00013ca0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00013cb0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00013cc0: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
-00013cd0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00013ce0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00013cf0: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
-00013d00: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00013d10: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-00013d20: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00013d30: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
-00013d40: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00013d50: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00013d60: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
-00013d70: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
-00013d80: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
-00013d90: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-00013da0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00013db0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00013dc0: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
-00013dd0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00013de0: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
-00013df0: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
-00013e00: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
-00013e10: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-00013e20: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-00013e30: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
-00013e40: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
-00013e50: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-00013e60: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
-00013e70: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
-00013e80: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00013e90: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-00013ea0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00013eb0: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
-00013ec0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00013ed0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00013ee0: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
-00013ef0: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
-00013f00: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
-00013f10: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
-00013f20: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
-00013f30: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
-00013f40: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
-00013f50: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
-00013f60: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
-00013f70: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
-00013f80: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00013f90: 2e72 6177 5f62 6f64 792c 2047 6574 5375  .raw_body, GetSu
-00013fa0: 6273 6372 6970 7469 6f6e 5265 7370 6f6e  bscriptionRespon
-00013fb0: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
-00013fc0: 7279 290d 0a0d 0a20 2020 2064 6566 2075  ry)....    def u
-00013fd0: 7064 6174 655f 7375 6273 6372 6970 7469  pdate_subscripti
-00013fe0: 6f6e 5f6d 6574 6164 6174 6128 7365 6c66  on_metadata(self
-00013ff0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00014000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014010: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
-00014020: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
-00014030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014040: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-00014050: 6f64 792c 0d0a 2020 2020 2020 2020 2020  ody,..          
-00014060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014070: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
-00014080: 6f74 656e 6379 5f6b 6579 3d4e 6f6e 6529  otency_key=None)
-00014090: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
-000140a0: 6573 2061 2050 4154 4348 2072 6571 7565  es a PATCH reque
-000140b0: 7374 2074 6f20 2f53 7562 7363 7269 7074  st to /Subscript
-000140c0: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
-000140d0: 6f6e 5f69 647d 2f6d 6574 6164 6174 612e  on_id}/metadata.
-000140e0: 0d0a 0d0a 2020 2020 2020 2020 5570 6461  ....        Upda
-000140f0: 7465 7320 7468 6520 6d65 7461 6461 7461  tes the metadata
-00014100: 2066 726f 6d20 6120 7375 6273 6372 6970   from a subscrip
-00014110: 7469 6f6e 0d0a 0d0a 2020 2020 2020 2020  tion....        
-00014120: 4172 6773 3a0d 0a20 2020 2020 2020 2020  Args:..         
-00014130: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
-00014140: 6964 2028 7374 7269 6e67 293a 2054 6865  id (string): The
-00014150: 2073 7562 7363 7269 7074 696f 6e20 6964   subscription id
-00014160: 0d0a 2020 2020 2020 2020 2020 2020 626f  ..            bo
-00014170: 6479 2028 5375 6273 6372 6970 7469 6f6e  dy (Subscription
-00014180: 734d 6574 6164 6174 6152 6571 7565 7374  sMetadataRequest
-00014190: 293a 2052 6571 7565 7374 2066 6f72 2075  ): Request for u
-000141a0: 7064 6174 696e 6720 7468 650d 0a20 2020  pdating the..   
-000141b0: 2020 2020 2020 2020 2020 2020 2073 7562               sub
-000141c0: 7363 7270 7469 6f6e 206d 6574 6164 6174  scrption metadat
-000141d0: 610d 0a20 2020 2020 2020 2020 2020 2069  a..            i
-000141e0: 6465 6d70 6f74 656e 6379 5f6b 6579 2028  dempotency_key (
-000141f0: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
-00014200: 293a 2054 4f44 4f3a 2074 7970 6520 6465  ): TODO: type de
-00014210: 7363 7269 7074 696f 6e20 6865 7265 2e0d  scription here..
-00014220: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014230: 2045 7861 6d70 6c65 3a20 0d0a 0d0a 2020   Example: ....  
-00014240: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
-00014250: 2020 2020 2020 2020 2020 2020 4765 7453              GetS
-00014260: 7562 7363 7269 7074 696f 6e52 6573 706f  ubscriptionRespo
-00014270: 6e73 653a 2052 6573 706f 6e73 6520 6672  nse: Response fr
-00014280: 6f6d 2074 6865 2041 5049 2e20 0d0a 0d0a  om the API. ....
-00014290: 2020 2020 2020 2020 5261 6973 6573 3a0d          Raises:.
-000142a0: 0a20 2020 2020 2020 2020 2020 2041 5049  .            API
-000142b0: 4578 6365 7074 696f 6e3a 2057 6865 6e20  Exception: When 
-000142c0: 616e 2065 7272 6f72 206f 6363 7572 7320  an error occurs 
-000142d0: 7768 696c 6520 6665 7463 6869 6e67 2074  while fetching t
-000142e0: 6865 2064 6174 6120 6672 6f6d 0d0a 2020  he data from..  
-000142f0: 2020 2020 2020 2020 2020 2020 2020 7468                th
-00014300: 6520 7265 6d6f 7465 2041 5049 2e20 5468  e remote API. Th
-00014310: 6973 2065 7863 6570 7469 6f6e 2069 6e63  is exception inc
-00014320: 6c75 6465 7320 7468 6520 4854 5450 2052  ludes the HTTP R
-00014330: 6573 706f 6e73 650d 0a20 2020 2020 2020  esponse..       
-00014340: 2020 2020 2020 2020 2063 6f64 652c 2061           code, a
-00014350: 6e20 6572 726f 7220 6d65 7373 6167 652c  n error message,
-00014360: 2061 6e64 2074 6865 2048 5454 5020 626f   and the HTTP bo
-00014370: 6479 2074 6861 7420 7761 7320 7265 6365  dy that was rece
-00014380: 6976 6564 2069 6e0d 0a20 2020 2020 2020  ived in..       
-00014390: 2020 2020 2020 2020 2074 6865 2072 6571           the req
-000143a0: 7565 7374 2e0d 0a0d 0a20 2020 2020 2020  uest.....       
-000143b0: 2022 2222 0d0a 0d0a 2020 2020 2020 2020   """....        
-000143c0: 2320 5072 6570 6172 6520 7175 6572 7920  # Prepare query 
-000143d0: 5552 4c0d 0a20 2020 2020 2020 205f 7572  URL..        _ur
-000143e0: 6c5f 7061 7468 203d 2027 2f53 7562 7363  l_path = '/Subsc
-000143f0: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
-00014400: 6970 7469 6f6e 5f69 647d 2f6d 6574 6164  iption_id}/metad
-00014410: 6174 6127 0d0a 2020 2020 2020 2020 5f75  ata'..        _u
-00014420: 726c 5f70 6174 6820 3d20 4150 4948 656c  rl_path = APIHel
-00014430: 7065 722e 6170 7065 6e64 5f75 726c 5f77  per.append_url_w
-00014440: 6974 685f 7465 6d70 6c61 7465 5f70 6172  ith_template_par
-00014450: 616d 6574 6572 7328 5f75 726c 5f70 6174  ameters(_url_pat
-00014460: 682c 207b 200d 0a20 2020 2020 2020 2020  h, { ..         
-00014470: 2020 2027 7375 6273 6372 6970 7469 6f6e     'subscription
-00014480: 5f69 6427 3a20 7375 6273 6372 6970 7469  _id': subscripti
-00014490: 6f6e 5f69 640d 0a20 2020 2020 2020 207d  on_id..        }
-000144a0: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
-000144b0: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
-000144c0: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
-000144d0: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
-000144e0: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
-000144f0: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
-00014500: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
-00014510: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
-00014520: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
-00014530: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
-00014540: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
-00014550: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
-00014560: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
-00014570: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
-00014580: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
-00014590: 0a20 2020 2020 2020 2020 2020 2027 436f  .            'Co
-000145a0: 6e74 656e 742d 5479 7065 273a 2027 6170  ntent-Type': 'ap
-000145b0: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
-000145c0: 0d0a 2020 2020 2020 2020 2020 2020 2769  ..            'i
-000145d0: 6465 6d70 6f74 656e 6379 2d6b 6579 273a  dempotency-key':
-000145e0: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
-000145f0: 0d0a 2020 2020 2020 2020 7d0d 0a0d 0a20  ..        }.... 
-00014600: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-00014610: 2061 6e64 2065 7865 6375 7465 2072 6571   and execute req
-00014620: 7565 7374 0d0a 2020 2020 2020 2020 5f72  uest..        _r
-00014630: 6571 7565 7374 203d 2073 656c 662e 6874  equest = self.ht
-00014640: 7470 5f63 6c69 656e 742e 7061 7463 6828  tp_client.patch(
-00014650: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
-00014660: 6572 733d 5f68 6561 6465 7273 2c20 7061  ers=_headers, pa
-00014670: 7261 6d65 7465 7273 3d41 5049 4865 6c70  rameters=APIHelp
-00014680: 6572 2e6a 736f 6e5f 7365 7269 616c 697a  er.json_serializ
-00014690: 6528 626f 6479 2929 0d0a 2020 2020 2020  e(body))..      
-000146a0: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
-000146b0: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
-000146c0: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
-000146d0: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
-000146e0: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
-000146f0: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
-00014700: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
-00014710: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
-00014720: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
-00014730: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
-00014740: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
-00014750: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00014760: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
-00014770: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00014780: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
-00014790: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
-000147a0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-000147b0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-000147c0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-000147d0: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
-000147e0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-000147f0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00014800: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
-00014810: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00014820: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-00014830: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00014840: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
-00014850: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00014860: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00014870: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
-00014880: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
-00014890: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
-000148a0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-000148b0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-000148c0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-000148d0: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
-000148e0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-000148f0: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
-00014900: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
-00014910: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
-00014920: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-00014930: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-00014940: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
-00014950: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
-00014960: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-00014970: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
-00014980: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
-00014990: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-000149a0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-000149b0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-000149c0: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
-000149d0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-000149e0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-000149f0: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
-00014a00: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
-00014a10: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
-00014a20: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
-00014a30: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
-00014a40: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
-00014a50: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
-00014a60: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
-00014a70: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
-00014a80: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
-00014a90: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00014aa0: 2e72 6177 5f62 6f64 792c 2047 6574 5375  .raw_body, GetSu
-00014ab0: 6273 6372 6970 7469 6f6e 5265 7370 6f6e  bscriptionRespon
-00014ac0: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
-00014ad0: 7279 290d 0a0d 0a20 2020 2064 6566 2075  ry)....    def u
-00014ae0: 7064 6174 655f 7375 6273 6372 6970 7469  pdate_subscripti
-00014af0: 6f6e 5f64 7565 5f64 6179 7328 7365 6c66  on_due_days(self
-00014b00: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00014b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014b20: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
-00014b30: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
-00014b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014b50: 2020 2020 2020 2020 2020 2020 2020 2062                 b
-00014b60: 6f64 792c 0d0a 2020 2020 2020 2020 2020  ody,..          
-00014b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014b80: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
-00014b90: 6f74 656e 6379 5f6b 6579 3d4e 6f6e 6529  otency_key=None)
-00014ba0: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
-00014bb0: 6573 2061 2050 4154 4348 2072 6571 7565  es a PATCH reque
-00014bc0: 7374 2074 6f20 2f73 7562 7363 7269 7074  st to /subscript
-00014bd0: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
-00014be0: 6f6e 5f69 647d 2f62 6f6c 6574 6f2d 6475  on_id}/boleto-du
-00014bf0: 652d 6461 7973 2e0d 0a0d 0a20 2020 2020  e-days.....     
-00014c00: 2020 2055 7064 6174 6573 2074 6865 2062     Updates the b
-00014c10: 6f6c 6574 6f20 6475 6520 6461 7973 2066  oleto due days f
-00014c20: 726f 6d20 6120 7375 6273 6372 6970 7469  rom a subscripti
-00014c30: 6f6e 0d0a 0d0a 2020 2020 2020 2020 4172  on....        Ar
-00014c40: 6773 3a0d 0a20 2020 2020 2020 2020 2020  gs:..           
-00014c50: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
-00014c60: 2028 7374 7269 6e67 293a 2053 7562 7363   (string): Subsc
-00014c70: 7269 7074 696f 6e20 4964 0d0a 2020 2020  ription Id..    
-00014c80: 2020 2020 2020 2020 626f 6479 2028 5570          body (Up
-00014c90: 6461 7465 5375 6273 6372 6970 7469 6f6e  dateSubscription
-00014ca0: 4475 6544 6179 7352 6571 7565 7374 293a  DueDaysRequest):
-00014cb0: 2054 4f44 4f3a 2074 7970 6520 6465 7363   TODO: type desc
-00014cc0: 7269 7074 696f 6e0d 0a20 2020 2020 2020  ription..       
-00014cd0: 2020 2020 2020 2020 2068 6572 652e 2045           here. E
-00014ce0: 7861 6d70 6c65 3a20 0d0a 2020 2020 2020  xample: ..      
-00014cf0: 2020 2020 2020 6964 656d 706f 7465 6e63        idempotenc
-00014d00: 795f 6b65 7920 2873 7472 696e 672c 206f  y_key (string, o
-00014d10: 7074 696f 6e61 6c29 3a20 544f 444f 3a20  ptional): TODO: 
-00014d20: 7479 7065 2064 6573 6372 6970 7469 6f6e  type description
-00014d30: 2068 6572 652e 0d0a 2020 2020 2020 2020   here...        
-00014d40: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
-00014d50: 200d 0a0d 0a20 2020 2020 2020 2052 6574   ....        Ret
-00014d60: 7572 6e73 3a0d 0a20 2020 2020 2020 2020  urns:..         
-00014d70: 2020 2047 6574 5375 6273 6372 6970 7469     GetSubscripti
-00014d80: 6f6e 5265 7370 6f6e 7365 3a20 5265 7370  onResponse: Resp
-00014d90: 6f6e 7365 2066 726f 6d20 7468 6520 4150  onse from the AP
-00014da0: 492e 200d 0a0d 0a20 2020 2020 2020 2052  I. ....        R
-00014db0: 6169 7365 733a 0d0a 2020 2020 2020 2020  aises:..        
-00014dc0: 2020 2020 4150 4945 7863 6570 7469 6f6e      APIException
-00014dd0: 3a20 5768 656e 2061 6e20 6572 726f 7220  : When an error 
-00014de0: 6f63 6375 7273 2077 6869 6c65 2066 6574  occurs while fet
-00014df0: 6368 696e 6720 7468 6520 6461 7461 2066  ching the data f
-00014e00: 726f 6d0d 0a20 2020 2020 2020 2020 2020  rom..           
-00014e10: 2020 2020 2074 6865 2072 656d 6f74 6520       the remote 
-00014e20: 4150 492e 2054 6869 7320 6578 6365 7074  API. This except
-00014e30: 696f 6e20 696e 636c 7564 6573 2074 6865  ion includes the
-00014e40: 2048 5454 5020 5265 7370 6f6e 7365 0d0a   HTTP Response..
-00014e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014e60: 636f 6465 2c20 616e 2065 7272 6f72 206d  code, an error m
-00014e70: 6573 7361 6765 2c20 616e 6420 7468 6520  essage, and the 
-00014e80: 4854 5450 2062 6f64 7920 7468 6174 2077  HTTP body that w
-00014e90: 6173 2072 6563 6569 7665 6420 696e 0d0a  as received in..
-00014ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014eb0: 7468 6520 7265 7175 6573 742e 0d0a 0d0a  the request.....
-00014ec0: 2020 2020 2020 2020 2222 220d 0a0d 0a20          """.... 
-00014ed0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
-00014ee0: 2071 7565 7279 2055 524c 0d0a 2020 2020   query URL..    
-00014ef0: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
-00014f00: 272f 7375 6273 6372 6970 7469 6f6e 732f  '/subscriptions/
-00014f10: 7b73 7562 7363 7269 7074 696f 6e5f 6964  {subscription_id
-00014f20: 7d2f 626f 6c65 746f 2d64 7565 2d64 6179  }/boleto-due-day
-00014f30: 7327 0d0a 2020 2020 2020 2020 5f75 726c  s'..        _url
-00014f40: 5f70 6174 6820 3d20 4150 4948 656c 7065  _path = APIHelpe
-00014f50: 722e 6170 7065 6e64 5f75 726c 5f77 6974  r.append_url_wit
-00014f60: 685f 7465 6d70 6c61 7465 5f70 6172 616d  h_template_param
-00014f70: 6574 6572 7328 5f75 726c 5f70 6174 682c  eters(_url_path,
-00014f80: 207b 200d 0a20 2020 2020 2020 2020 2020   { ..           
-00014f90: 2027 7375 6273 6372 6970 7469 6f6e 5f69   'subscription_i
-00014fa0: 6427 3a20 7375 6273 6372 6970 7469 6f6e  d': subscription
-00014fb0: 5f69 640d 0a20 2020 2020 2020 207d 290d  _id..        }).
-00014fc0: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
-00014fd0: 6275 696c 6465 7220 3d20 436f 6e66 6967  builder = Config
-00014fe0: 7572 6174 696f 6e2e 6261 7365 5f75 7269  uration.base_uri
-00014ff0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
-00015000: 5f62 7569 6c64 6572 202b 3d20 5f75 726c  _builder += _url
-00015010: 5f70 6174 680d 0a20 2020 2020 2020 205f  _path..        _
-00015020: 7175 6572 795f 7572 6c20 3d20 4150 4948  query_url = APIH
-00015030: 656c 7065 722e 636c 6561 6e5f 7572 6c28  elper.clean_url(
-00015040: 5f71 7565 7279 5f62 7569 6c64 6572 290d  _query_builder).
-00015050: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
-00015060: 7061 7265 2068 6561 6465 7273 0d0a 2020  pare headers..  
-00015070: 2020 2020 2020 5f68 6561 6465 7273 203d        _headers =
-00015080: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
-00015090: 2761 6363 6570 7427 3a20 2761 7070 6c69  'accept': 'appli
-000150a0: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
-000150b0: 2020 2020 2020 2020 2020 2027 436f 6e74             'Cont
-000150c0: 656e 742d 5479 7065 273a 2027 6170 706c  ent-Type': 'appl
-000150d0: 6963 6174 696f 6e2f 6a73 6f6e 272c 0d0a  ication/json',..
-000150e0: 2020 2020 2020 2020 2020 2020 2769 6465              'ide
-000150f0: 6d70 6f74 656e 6379 2d6b 6579 273a 2069  mpotency-key': i
-00015100: 6465 6d70 6f74 656e 6379 5f6b 6579 0d0a  dempotency_key..
-00015110: 2020 2020 2020 2020 7d0d 0a0d 0a20 2020          }....   
-00015120: 2020 2020 2023 2050 7265 7061 7265 2061       # Prepare a
-00015130: 6e64 2065 7865 6375 7465 2072 6571 7565  nd execute reque
-00015140: 7374 0d0a 2020 2020 2020 2020 5f72 6571  st..        _req
-00015150: 7565 7374 203d 2073 656c 662e 6874 7470  uest = self.http
-00015160: 5f63 6c69 656e 742e 7061 7463 6828 5f71  _client.patch(_q
-00015170: 7565 7279 5f75 726c 2c20 6865 6164 6572  uery_url, header
-00015180: 733d 5f68 6561 6465 7273 2c20 7061 7261  s=_headers, para
-00015190: 6d65 7465 7273 3d41 5049 4865 6c70 6572  meters=APIHelper
-000151a0: 2e6a 736f 6e5f 7365 7269 616c 697a 6528  .json_serialize(
-000151b0: 626f 6479 2929 0d0a 2020 2020 2020 2020  body))..        
-000151c0: 4261 7369 6341 7574 682e 6170 706c 7928  BasicAuth.apply(
-000151d0: 5f72 6571 7565 7374 290d 0a20 2020 2020  _request)..     
-000151e0: 2020 205f 636f 6e74 6578 7420 3d20 7365     _context = se
-000151f0: 6c66 2e65 7865 6375 7465 5f72 6571 7565  lf.execute_reque
-00015200: 7374 285f 7265 7175 6573 7429 0d0a 0d0a  st(_request)....
-00015210: 2020 2020 2020 2020 2320 456e 6470 6f69          # Endpoi
-00015220: 6e74 2061 6e64 2067 6c6f 6261 6c20 6572  nt and global er
-00015230: 726f 7220 6861 6e64 6c69 6e67 2075 7369  ror handling usi
-00015240: 6e67 2048 5454 5020 7374 6174 7573 2063  ng HTTP status c
-00015250: 6f64 6573 2e0d 0a20 2020 2020 2020 2069  odes...        i
-00015260: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00015270: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00015280: 3d3d 2034 3030 3a0d 0a20 2020 2020 2020  == 400:..       
-00015290: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-000152a0: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
-000152b0: 6964 2072 6571 7565 7374 272c 205f 636f  id request', _co
-000152c0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-000152d0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-000152e0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-000152f0: 6465 203d 3d20 3430 313a 0d0a 2020 2020  de == 401:..    
-00015300: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00015310: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
-00015320: 7661 6c69 6420 4150 4920 6b65 7927 2c20  valid API key', 
-00015330: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-00015340: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-00015350: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00015360: 5f63 6f64 6520 3d3d 2034 3034 3a0d 0a20  _code == 404:.. 
-00015370: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00015380: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00015390: 2741 6e20 696e 666f 726d 6564 2072 6573  'An informed res
-000153a0: 6f75 7263 6520 7761 7320 6e6f 7420 666f  ource was not fo
-000153b0: 756e 6427 2c20 5f63 6f6e 7465 7874 290d  und', _context).
-000153c0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-000153d0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-000153e0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-000153f0: 3132 3a0d 0a20 2020 2020 2020 2020 2020  12:..           
-00015400: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-00015410: 7074 696f 6e28 2742 7573 696e 6573 7320  ption('Business 
-00015420: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
-00015430: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00015440: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-00015450: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00015460: 7475 735f 636f 6465 203d 3d20 3432 323a  tus_code == 422:
-00015470: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00015480: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00015490: 6f6e 2827 436f 6e74 7261 6374 2076 616c  on('Contract val
-000154a0: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
-000154b0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-000154c0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-000154d0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-000154e0: 5f63 6f64 6520 3d3d 2035 3030 3a0d 0a20  _code == 500:.. 
-000154f0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-00015500: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-00015510: 2749 6e74 6572 6e61 6c20 7365 7276 6572  'Internal server
-00015520: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
-00015530: 7429 0d0a 2020 2020 2020 2020 7365 6c66  t)..        self
-00015540: 2e76 616c 6964 6174 655f 7265 7370 6f6e  .validate_respon
-00015550: 7365 285f 636f 6e74 6578 7429 0d0a 0d0a  se(_context)....
-00015560: 2020 2020 2020 2020 2320 5265 7475 726e          # Return
-00015570: 2061 7070 726f 7072 6961 7465 2074 7970   appropriate typ
-00015580: 650d 0a20 2020 2020 2020 2072 6574 7572  e..        retur
-00015590: 6e20 4150 4948 656c 7065 722e 6a73 6f6e  n APIHelper.json
-000155a0: 5f64 6573 6572 6961 6c69 7a65 285f 636f  _deserialize(_co
-000155b0: 6e74 6578 742e 7265 7370 6f6e 7365 2e72  ntext.response.r
-000155c0: 6177 5f62 6f64 792c 2047 6574 5375 6273  aw_body, GetSubs
-000155d0: 6372 6970 7469 6f6e 5265 7370 6f6e 7365  criptionResponse
-000155e0: 2e66 726f 6d5f 6469 6374 696f 6e61 7279  .from_dictionary
-000155f0: 290d 0a0d 0a20 2020 2064 6566 2067 6574  )....    def get
-00015600: 5f64 6973 636f 756e 7473 2873 656c 662c  _discounts(self,
-00015610: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00015620: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
-00015630: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
-00015640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015650: 7061 6765 2c0d 0a20 2020 2020 2020 2020  page,..         
-00015660: 2020 2020 2020 2020 2020 2020 2073 697a               siz
-00015670: 6529 3a0d 0a20 2020 2020 2020 2022 2222  e):..        """
-00015680: 446f 6573 2061 2047 4554 2072 6571 7565  Does a GET reque
-00015690: 7374 2074 6f20 2f73 7562 7363 7269 7074  st to /subscript
-000156a0: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
-000156b0: 6f6e 5f69 647d 2f64 6973 636f 756e 7473  on_id}/discounts
-000156c0: 2f2e 0d0a 0d0a 2020 2020 2020 2020 4765  /.....        Ge
-000156d0: 7444 6973 636f 756e 7473 0d0a 0d0a 2020  tDiscounts....  
-000156e0: 2020 2020 2020 4172 6773 3a0d 0a20 2020        Args:..   
-000156f0: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-00015700: 7074 696f 6e5f 6964 2028 7374 7269 6e67  ption_id (string
-00015710: 293a 2054 6865 2073 7562 7363 7269 7074  ): The subscript
-00015720: 696f 6e20 6964 0d0a 2020 2020 2020 2020  ion id..        
-00015730: 2020 2020 7061 6765 2028 696e 7429 3a20      page (int): 
-00015740: 5061 6765 206e 756d 6265 720d 0a20 2020  Page number..   
-00015750: 2020 2020 2020 2020 2073 697a 6520 2869           size (i
-00015760: 6e74 293a 2050 6167 6520 7369 7a65 0d0a  nt): Page size..
-00015770: 0d0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00015780: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-00015790: 4c69 7374 4469 7363 6f75 6e74 7352 6573  ListDiscountsRes
-000157a0: 706f 6e73 653a 2052 6573 706f 6e73 6520  ponse: Response 
-000157b0: 6672 6f6d 2074 6865 2041 5049 2e20 0d0a  from the API. ..
-000157c0: 0d0a 2020 2020 2020 2020 5261 6973 6573  ..        Raises
-000157d0: 3a0d 0a20 2020 2020 2020 2020 2020 2041  :..            A
-000157e0: 5049 4578 6365 7074 696f 6e3a 2057 6865  PIException: Whe
-000157f0: 6e20 616e 2065 7272 6f72 206f 6363 7572  n an error occur
-00015800: 7320 7768 696c 6520 6665 7463 6869 6e67  s while fetching
-00015810: 2074 6865 2064 6174 6120 6672 6f6d 0d0a   the data from..
-00015820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015830: 7468 6520 7265 6d6f 7465 2041 5049 2e20  the remote API. 
-00015840: 5468 6973 2065 7863 6570 7469 6f6e 2069  This exception i
-00015850: 6e63 6c75 6465 7320 7468 6520 4854 5450  ncludes the HTTP
-00015860: 2052 6573 706f 6e73 650d 0a20 2020 2020   Response..     
-00015870: 2020 2020 2020 2020 2020 2063 6f64 652c             code,
-00015880: 2061 6e20 6572 726f 7220 6d65 7373 6167   an error messag
-00015890: 652c 2061 6e64 2074 6865 2048 5454 5020  e, and the HTTP 
-000158a0: 626f 6479 2074 6861 7420 7761 7320 7265  body that was re
-000158b0: 6365 6976 6564 2069 6e0d 0a20 2020 2020  ceived in..     
-000158c0: 2020 2020 2020 2020 2020 2074 6865 2072             the r
-000158d0: 6571 7565 7374 2e0d 0a0d 0a20 2020 2020  equest.....     
-000158e0: 2020 2022 2222 0d0a 0d0a 2020 2020 2020     """....      
-000158f0: 2020 2320 5072 6570 6172 6520 7175 6572    # Prepare quer
-00015900: 7920 5552 4c0d 0a20 2020 2020 2020 205f  y URL..        _
-00015910: 7572 6c5f 7061 7468 203d 2027 2f73 7562  url_path = '/sub
-00015920: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
-00015930: 6372 6970 7469 6f6e 5f69 647d 2f64 6973  cription_id}/dis
-00015940: 636f 756e 7473 2f27 0d0a 2020 2020 2020  counts/'..      
-00015950: 2020 5f75 726c 5f70 6174 6820 3d20 4150    _url_path = AP
-00015960: 4948 656c 7065 722e 6170 7065 6e64 5f75  IHelper.append_u
-00015970: 726c 5f77 6974 685f 7465 6d70 6c61 7465  rl_with_template
-00015980: 5f70 6172 616d 6574 6572 7328 5f75 726c  _parameters(_url
-00015990: 5f70 6174 682c 207b 200d 0a20 2020 2020  _path, { ..     
-000159a0: 2020 2020 2020 2027 7375 6273 6372 6970         'subscrip
-000159b0: 7469 6f6e 5f69 6427 3a20 7375 6273 6372  tion_id': subscr
-000159c0: 6970 7469 6f6e 5f69 640d 0a20 2020 2020  iption_id..     
-000159d0: 2020 207d 290d 0a20 2020 2020 2020 205f     })..        _
-000159e0: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
-000159f0: 436f 6e66 6967 7572 6174 696f 6e2e 6261  Configuration.ba
-00015a00: 7365 5f75 7269 0d0a 2020 2020 2020 2020  se_uri..        
-00015a10: 5f71 7565 7279 5f62 7569 6c64 6572 202b  _query_builder +
-00015a20: 3d20 5f75 726c 5f70 6174 680d 0a20 2020  = _url_path..   
-00015a30: 2020 2020 205f 7175 6572 795f 7061 7261       _query_para
-00015a40: 6d65 7465 7273 203d 207b 0d0a 2020 2020  meters = {..    
-00015a50: 2020 2020 2020 2020 2770 6167 6527 3a20          'page': 
-00015a60: 7061 6765 2c0d 0a20 2020 2020 2020 2020  page,..         
-00015a70: 2020 2027 7369 7a65 273a 2073 697a 650d     'size': size.
-00015a80: 0a20 2020 2020 2020 207d 0d0a 2020 2020  .        }..    
-00015a90: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
-00015aa0: 6572 203d 2041 5049 4865 6c70 6572 2e61  er = APIHelper.a
-00015ab0: 7070 656e 645f 7572 6c5f 7769 7468 5f71  ppend_url_with_q
-00015ac0: 7565 7279 5f70 6172 616d 6574 6572 7328  uery_parameters(
-00015ad0: 5f71 7565 7279 5f62 7569 6c64 6572 2c0d  _query_builder,.
-00015ae0: 0a20 2020 2020 2020 2020 2020 205f 7175  .            _qu
-00015af0: 6572 795f 7061 7261 6d65 7465 7273 2c20  ery_parameters, 
-00015b00: 436f 6e66 6967 7572 6174 696f 6e2e 6172  Configuration.ar
-00015b10: 7261 795f 7365 7269 616c 697a 6174 696f  ray_serializatio
-00015b20: 6e29 0d0a 2020 2020 2020 2020 5f71 7565  n)..        _que
-00015b30: 7279 5f75 726c 203d 2041 5049 4865 6c70  ry_url = APIHelp
-00015b40: 6572 2e63 6c65 616e 5f75 726c 285f 7175  er.clean_url(_qu
-00015b50: 6572 795f 6275 696c 6465 7229 0d0a 0d0a  ery_builder)....
-00015b60: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-00015b70: 6520 6865 6164 6572 730d 0a20 2020 2020  e headers..     
-00015b80: 2020 205f 6865 6164 6572 7320 3d20 7b0d     _headers = {.
-00015b90: 0a20 2020 2020 2020 2020 2020 2027 6163  .            'ac
-00015ba0: 6365 7074 273a 2027 6170 706c 6963 6174  cept': 'applicat
-00015bb0: 696f 6e2f 6a73 6f6e 270d 0a20 2020 2020  ion/json'..     
-00015bc0: 2020 207d 0d0a 0d0a 2020 2020 2020 2020     }....        
-00015bd0: 2320 5072 6570 6172 6520 616e 6420 6578  # Prepare and ex
-00015be0: 6563 7574 6520 7265 7175 6573 740d 0a20  ecute request.. 
-00015bf0: 2020 2020 2020 205f 7265 7175 6573 7420         _request 
-00015c00: 3d20 7365 6c66 2e68 7474 705f 636c 6965  = self.http_clie
-00015c10: 6e74 2e67 6574 285f 7175 6572 795f 7572  nt.get(_query_ur
-00015c20: 6c2c 2068 6561 6465 7273 3d5f 6865 6164  l, headers=_head
-00015c30: 6572 7329 0d0a 2020 2020 2020 2020 4261  ers)..        Ba
-00015c40: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
-00015c50: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
-00015c60: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
-00015c70: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
-00015c80: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
-00015c90: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
-00015ca0: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
-00015cb0: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
-00015cc0: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
-00015cd0: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
-00015ce0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00015cf0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00015d00: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
-00015d10: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00015d20: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
-00015d30: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
-00015d40: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-00015d50: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00015d60: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00015d70: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
-00015d80: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-00015d90: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-00015da0: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
-00015db0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00015dc0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00015dd0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00015de0: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
-00015df0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00015e00: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
-00015e10: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
-00015e20: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
-00015e30: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
-00015e40: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00015e50: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00015e60: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
-00015e70: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00015e80: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00015e90: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
-00015ea0: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-00015eb0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00015ec0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00015ed0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00015ee0: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
-00015ef0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00015f00: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00015f10: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
-00015f20: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
-00015f30: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00015f40: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00015f50: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00015f60: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
-00015f70: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00015f80: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-00015f90: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
-00015fa0: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
-00015fb0: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
-00015fc0: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
-00015fd0: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
-00015fe0: 2020 2020 2020 2320 5265 7475 726e 2061        # Return a
-00015ff0: 7070 726f 7072 6961 7465 2074 7970 650d  ppropriate type.
-00016000: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00016010: 4150 4948 656c 7065 722e 6a73 6f6e 5f64  APIHelper.json_d
-00016020: 6573 6572 6961 6c69 7a65 285f 636f 6e74  eserialize(_cont
-00016030: 6578 742e 7265 7370 6f6e 7365 2e72 6177  ext.response.raw
-00016040: 5f62 6f64 792c 204c 6973 7444 6973 636f  _body, ListDisco
-00016050: 756e 7473 5265 7370 6f6e 7365 2e66 726f  untsResponse.fro
-00016060: 6d5f 6469 6374 696f 6e61 7279 290d 0a0d  m_dictionary)...
-00016070: 0a20 2020 2064 6566 2063 7265 6174 655f  .    def create_
-00016080: 696e 6372 656d 656e 7428 7365 6c66 2c0d  increment(self,.
-00016090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000160a0: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
-000160b0: 6970 7469 6f6e 5f69 642c 0d0a 2020 2020  iption_id,..    
-000160c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000160d0: 2020 2020 2062 6f64 792c 0d0a 2020 2020       body,..    
-000160e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000160f0: 2020 2020 2069 6465 6d70 6f74 656e 6379       idempotency
-00016100: 5f6b 6579 3d4e 6f6e 6529 3a0d 0a20 2020  _key=None):..   
-00016110: 2020 2020 2022 2222 446f 6573 2061 2050       """Does a P
-00016120: 4f53 5420 7265 7175 6573 7420 746f 202f  OST request to /
-00016130: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
-00016140: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
-00016150: 696e 6372 656d 656e 7473 2e0d 0a0d 0a20  increments..... 
-00016160: 2020 2020 2020 2043 7265 6174 6573 2061         Creates a
-00016170: 2069 6e63 7265 6d65 6e74 0d0a 0d0a 2020   increment....  
-00016180: 2020 2020 2020 4172 6773 3a0d 0a20 2020        Args:..   
-00016190: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-000161a0: 7074 696f 6e5f 6964 2028 7374 7269 6e67  ption_id (string
-000161b0: 293a 2053 7562 7363 7269 7074 696f 6e20  ): Subscription 
-000161c0: 6964 0d0a 2020 2020 2020 2020 2020 2020  id..            
-000161d0: 626f 6479 2028 5375 6273 6372 6970 7469  body (Subscripti
-000161e0: 6f6e 7349 6e63 7265 6d65 6e74 7352 6571  onsIncrementsReq
-000161f0: 7565 7374 293a 2052 6571 7565 7374 2066  uest): Request f
-00016200: 6f72 2063 7265 6174 696e 6720 610d 0a20  or creating a.. 
-00016210: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00016220: 6e63 7265 6d65 6e74 0d0a 2020 2020 2020  ncrement..      
-00016230: 2020 2020 2020 6964 656d 706f 7465 6e63        idempotenc
-00016240: 795f 6b65 7920 2873 7472 696e 672c 206f  y_key (string, o
-00016250: 7074 696f 6e61 6c29 3a20 544f 444f 3a20  ptional): TODO: 
-00016260: 7479 7065 2064 6573 6372 6970 7469 6f6e  type description
-00016270: 2068 6572 652e 0d0a 2020 2020 2020 2020   here...        
-00016280: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
-00016290: 200d 0a0d 0a20 2020 2020 2020 2052 6574   ....        Ret
-000162a0: 7572 6e73 3a0d 0a20 2020 2020 2020 2020  urns:..         
-000162b0: 2020 2053 7562 7363 7269 7074 696f 6e73     Subscriptions
-000162c0: 496e 6372 656d 656e 7473 5265 7370 6f6e  IncrementsRespon
-000162d0: 7365 3a20 5265 7370 6f6e 7365 2066 726f  se: Response fro
-000162e0: 6d20 7468 6520 4150 492e 200d 0a0d 0a20  m the API. .... 
-000162f0: 2020 2020 2020 2052 6169 7365 733a 0d0a         Raises:..
-00016300: 2020 2020 2020 2020 2020 2020 4150 4945              APIE
-00016310: 7863 6570 7469 6f6e 3a20 5768 656e 2061  xception: When a
-00016320: 6e20 6572 726f 7220 6f63 6375 7273 2077  n error occurs w
-00016330: 6869 6c65 2066 6574 6368 696e 6720 7468  hile fetching th
-00016340: 6520 6461 7461 2066 726f 6d0d 0a20 2020  e data from..   
-00016350: 2020 2020 2020 2020 2020 2020 2074 6865               the
-00016360: 2072 656d 6f74 6520 4150 492e 2054 6869   remote API. Thi
-00016370: 7320 6578 6365 7074 696f 6e20 696e 636c  s exception incl
-00016380: 7564 6573 2074 6865 2048 5454 5020 5265  udes the HTTP Re
-00016390: 7370 6f6e 7365 0d0a 2020 2020 2020 2020  sponse..        
-000163a0: 2020 2020 2020 2020 636f 6465 2c20 616e          code, an
-000163b0: 2065 7272 6f72 206d 6573 7361 6765 2c20   error message, 
-000163c0: 616e 6420 7468 6520 4854 5450 2062 6f64  and the HTTP bod
-000163d0: 7920 7468 6174 2077 6173 2072 6563 6569  y that was recei
-000163e0: 7665 6420 696e 0d0a 2020 2020 2020 2020  ved in..        
-000163f0: 2020 2020 2020 2020 7468 6520 7265 7175          the requ
-00016400: 6573 742e 0d0a 0d0a 2020 2020 2020 2020  est.....        
-00016410: 2222 220d 0a0d 0a20 2020 2020 2020 2023  """....        #
-00016420: 2050 7265 7061 7265 2071 7565 7279 2055   Prepare query U
-00016430: 524c 0d0a 2020 2020 2020 2020 5f75 726c  RL..        _url
-00016440: 5f70 6174 6820 3d20 272f 7375 6273 6372  _path = '/subscr
-00016450: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
-00016460: 7074 696f 6e5f 6964 7d2f 696e 6372 656d  ption_id}/increm
-00016470: 656e 7473 270d 0a20 2020 2020 2020 205f  ents'..        _
-00016480: 7572 6c5f 7061 7468 203d 2041 5049 4865  url_path = APIHe
-00016490: 6c70 6572 2e61 7070 656e 645f 7572 6c5f  lper.append_url_
-000164a0: 7769 7468 5f74 656d 706c 6174 655f 7061  with_template_pa
-000164b0: 7261 6d65 7465 7273 285f 7572 6c5f 7061  rameters(_url_pa
-000164c0: 7468 2c20 7b20 0d0a 2020 2020 2020 2020  th, { ..        
-000164d0: 2020 2020 2773 7562 7363 7269 7074 696f      'subscriptio
-000164e0: 6e5f 6964 273a 2073 7562 7363 7269 7074  n_id': subscript
-000164f0: 696f 6e5f 6964 0d0a 2020 2020 2020 2020  ion_id..        
-00016500: 7d29 0d0a 2020 2020 2020 2020 5f71 7565  })..        _que
-00016510: 7279 5f62 7569 6c64 6572 203d 2043 6f6e  ry_builder = Con
-00016520: 6669 6775 7261 7469 6f6e 2e62 6173 655f  figuration.base_
-00016530: 7572 690d 0a20 2020 2020 2020 205f 7175  uri..        _qu
-00016540: 6572 795f 6275 696c 6465 7220 2b3d 205f  ery_builder += _
-00016550: 7572 6c5f 7061 7468 0d0a 2020 2020 2020  url_path..      
-00016560: 2020 5f71 7565 7279 5f75 726c 203d 2041    _query_url = A
-00016570: 5049 4865 6c70 6572 2e63 6c65 616e 5f75  PIHelper.clean_u
-00016580: 726c 285f 7175 6572 795f 6275 696c 6465  rl(_query_builde
-00016590: 7229 0d0a 0d0a 2020 2020 2020 2020 2320  r)....        # 
-000165a0: 5072 6570 6172 6520 6865 6164 6572 730d  Prepare headers.
-000165b0: 0a20 2020 2020 2020 205f 6865 6164 6572  .        _header
-000165c0: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
-000165d0: 2020 2027 6163 6365 7074 273a 2027 6170     'accept': 'ap
-000165e0: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
-000165f0: 0d0a 2020 2020 2020 2020 2020 2020 2743  ..            'C
-00016600: 6f6e 7465 6e74 2d54 7970 6527 3a20 2761  ontent-Type': 'a
-00016610: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
-00016620: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
-00016630: 6964 656d 706f 7465 6e63 792d 6b65 7927  idempotency-key'
-00016640: 3a20 6964 656d 706f 7465 6e63 795f 6b65  : idempotency_ke
-00016650: 790d 0a20 2020 2020 2020 207d 0d0a 0d0a  y..        }....
-00016660: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-00016670: 6520 616e 6420 6578 6563 7574 6520 7265  e and execute re
-00016680: 7175 6573 740d 0a20 2020 2020 2020 205f  quest..        _
-00016690: 7265 7175 6573 7420 3d20 7365 6c66 2e68  request = self.h
-000166a0: 7474 705f 636c 6965 6e74 2e70 6f73 7428  ttp_client.post(
-000166b0: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
-000166c0: 6572 733d 5f68 6561 6465 7273 2c20 7061  ers=_headers, pa
-000166d0: 7261 6d65 7465 7273 3d41 5049 4865 6c70  rameters=APIHelp
-000166e0: 6572 2e6a 736f 6e5f 7365 7269 616c 697a  er.json_serializ
-000166f0: 6528 626f 6479 2929 0d0a 2020 2020 2020  e(body))..      
-00016700: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
-00016710: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
-00016720: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
-00016730: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
-00016740: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
-00016750: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
-00016760: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
-00016770: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
-00016780: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
-00016790: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
-000167a0: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
-000167b0: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-000167c0: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
-000167d0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-000167e0: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
-000167f0: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
-00016800: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00016810: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
-00016820: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
-00016830: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
-00016840: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00016850: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
-00016860: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
-00016870: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00016880: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-00016890: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-000168a0: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
-000168b0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-000168c0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-000168d0: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
-000168e0: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
-000168f0: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
-00016900: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-00016910: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00016920: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00016930: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
-00016940: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00016950: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
-00016960: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
-00016970: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
-00016980: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-00016990: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-000169a0: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
-000169b0: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
-000169c0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-000169d0: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
-000169e0: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
-000169f0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
-00016a00: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
-00016a10: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00016a20: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
-00016a30: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00016a40: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-00016a50: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
-00016a60: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
-00016a70: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
-00016a80: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
-00016a90: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
-00016aa0: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
-00016ab0: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
-00016ac0: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
-00016ad0: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
-00016ae0: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
-00016af0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00016b00: 2e72 6177 5f62 6f64 792c 2053 7562 7363  .raw_body, Subsc
-00016b10: 7269 7074 696f 6e73 496e 6372 656d 656e  riptionsIncremen
-00016b20: 7473 5265 7370 6f6e 7365 2e66 726f 6d5f  tsResponse.from_
-00016b30: 6469 6374 696f 6e61 7279 290d 0a0d 0a20  dictionary).... 
-00016b40: 2020 2064 6566 2067 6574 5f64 6973 636f     def get_disco
-00016b50: 756e 745f 6279 5f69 6428 7365 6c66 2c0d  unt_by_id(self,.
-00016b60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016b70: 2020 2020 2020 2020 2020 2020 7375 6273              subs
-00016b80: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
-00016b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016ba0: 2020 2020 2020 2020 2064 6973 636f 756e           discoun
-00016bb0: 745f 6964 293a 0d0a 2020 2020 2020 2020  t_id):..        
-00016bc0: 2222 2244 6f65 7320 6120 4745 5420 7265  """Does a GET re
-00016bd0: 7175 6573 7420 746f 202f 7375 6273 6372  quest to /subscr
-00016be0: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
-00016bf0: 7074 696f 6e5f 6964 7d2f 6469 7363 6f75  ption_id}/discou
-00016c00: 6e74 732f 7b64 6973 636f 756e 7449 647d  nts/{discountId}
-00016c10: 2e0d 0a0d 0a20 2020 2020 2020 2047 6574  .....        Get
-00016c20: 4469 7363 6f75 6e74 4279 4964 0d0a 0d0a  DiscountById....
-00016c30: 2020 2020 2020 2020 4172 6773 3a0d 0a20          Args:.. 
-00016c40: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
-00016c50: 7269 7074 696f 6e5f 6964 2028 7374 7269  ription_id (stri
-00016c60: 6e67 293a 2054 6865 2073 7562 7363 7269  ng): The subscri
-00016c70: 7074 696f 6e20 6964 0d0a 2020 2020 2020  ption id..      
-00016c80: 2020 2020 2020 6469 7363 6f75 6e74 5f69        discount_i
-00016c90: 6420 2873 7472 696e 6729 3a20 544f 444f  d (string): TODO
-00016ca0: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
-00016cb0: 6f6e 2068 6572 652e 2045 7861 6d70 6c65  on here. Example
-00016cc0: 3a20 0d0a 0d0a 2020 2020 2020 2020 5265  : ....        Re
-00016cd0: 7475 726e 733a 0d0a 2020 2020 2020 2020  turns:..        
-00016ce0: 2020 2020 5375 6273 6372 6970 7469 6f6e      Subscription
-00016cf0: 7344 6973 636f 756e 7473 5265 7370 6f6e  sDiscountsRespon
-00016d00: 7365 3a20 5265 7370 6f6e 7365 2066 726f  se: Response fro
-00016d10: 6d20 7468 6520 4150 492e 200d 0a0d 0a20  m the API. .... 
-00016d20: 2020 2020 2020 2052 6169 7365 733a 0d0a         Raises:..
-00016d30: 2020 2020 2020 2020 2020 2020 4150 4945              APIE
-00016d40: 7863 6570 7469 6f6e 3a20 5768 656e 2061  xception: When a
-00016d50: 6e20 6572 726f 7220 6f63 6375 7273 2077  n error occurs w
-00016d60: 6869 6c65 2066 6574 6368 696e 6720 7468  hile fetching th
-00016d70: 6520 6461 7461 2066 726f 6d0d 0a20 2020  e data from..   
-00016d80: 2020 2020 2020 2020 2020 2020 2074 6865               the
-00016d90: 2072 656d 6f74 6520 4150 492e 2054 6869   remote API. Thi
-00016da0: 7320 6578 6365 7074 696f 6e20 696e 636c  s exception incl
-00016db0: 7564 6573 2074 6865 2048 5454 5020 5265  udes the HTTP Re
-00016dc0: 7370 6f6e 7365 0d0a 2020 2020 2020 2020  sponse..        
-00016dd0: 2020 2020 2020 2020 636f 6465 2c20 616e          code, an
-00016de0: 2065 7272 6f72 206d 6573 7361 6765 2c20   error message, 
-00016df0: 616e 6420 7468 6520 4854 5450 2062 6f64  and the HTTP bod
-00016e00: 7920 7468 6174 2077 6173 2072 6563 6569  y that was recei
-00016e10: 7665 6420 696e 0d0a 2020 2020 2020 2020  ved in..        
-00016e20: 2020 2020 2020 2020 7468 6520 7265 7175          the requ
-00016e30: 6573 742e 0d0a 0d0a 2020 2020 2020 2020  est.....        
-00016e40: 2222 220d 0a0d 0a20 2020 2020 2020 2023  """....        #
-00016e50: 2050 7265 7061 7265 2071 7565 7279 2055   Prepare query U
-00016e60: 524c 0d0a 2020 2020 2020 2020 5f75 726c  RL..        _url
-00016e70: 5f70 6174 6820 3d20 272f 7375 6273 6372  _path = '/subscr
-00016e80: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
-00016e90: 7074 696f 6e5f 6964 7d2f 6469 7363 6f75  ption_id}/discou
-00016ea0: 6e74 732f 7b64 6973 636f 756e 7449 647d  nts/{discountId}
-00016eb0: 270d 0a20 2020 2020 2020 205f 7572 6c5f  '..        _url_
-00016ec0: 7061 7468 203d 2041 5049 4865 6c70 6572  path = APIHelper
-00016ed0: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
-00016ee0: 5f74 656d 706c 6174 655f 7061 7261 6d65  _template_parame
-00016ef0: 7465 7273 285f 7572 6c5f 7061 7468 2c20  ters(_url_path, 
-00016f00: 7b20 0d0a 2020 2020 2020 2020 2020 2020  { ..            
-00016f10: 2773 7562 7363 7269 7074 696f 6e5f 6964  'subscription_id
-00016f20: 273a 2073 7562 7363 7269 7074 696f 6e5f  ': subscription_
-00016f30: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
-00016f40: 2027 6469 7363 6f75 6e74 4964 273a 2064   'discountId': d
-00016f50: 6973 636f 756e 745f 6964 0d0a 2020 2020  iscount_id..    
-00016f60: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
-00016f70: 5f71 7565 7279 5f62 7569 6c64 6572 203d  _query_builder =
-00016f80: 2043 6f6e 6669 6775 7261 7469 6f6e 2e62   Configuration.b
-00016f90: 6173 655f 7572 690d 0a20 2020 2020 2020  ase_uri..       
-00016fa0: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
-00016fb0: 2b3d 205f 7572 6c5f 7061 7468 0d0a 2020  += _url_path..  
-00016fc0: 2020 2020 2020 5f71 7565 7279 5f75 726c        _query_url
-00016fd0: 203d 2041 5049 4865 6c70 6572 2e63 6c65   = APIHelper.cle
-00016fe0: 616e 5f75 726c 285f 7175 6572 795f 6275  an_url(_query_bu
-00016ff0: 696c 6465 7229 0d0a 0d0a 2020 2020 2020  ilder)....      
-00017000: 2020 2320 5072 6570 6172 6520 6865 6164    # Prepare head
-00017010: 6572 730d 0a20 2020 2020 2020 205f 6865  ers..        _he
-00017020: 6164 6572 7320 3d20 7b0d 0a20 2020 2020  aders = {..     
-00017030: 2020 2020 2020 2027 6163 6365 7074 273a         'accept':
-00017040: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
-00017050: 6f6e 270d 0a20 2020 2020 2020 207d 0d0a  on'..        }..
-00017060: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-00017070: 6172 6520 616e 6420 6578 6563 7574 6520  are and execute 
-00017080: 7265 7175 6573 740d 0a20 2020 2020 2020  request..       
-00017090: 205f 7265 7175 6573 7420 3d20 7365 6c66   _request = self
-000170a0: 2e68 7474 705f 636c 6965 6e74 2e67 6574  .http_client.get
-000170b0: 285f 7175 6572 795f 7572 6c2c 2068 6561  (_query_url, hea
-000170c0: 6465 7273 3d5f 6865 6164 6572 7329 0d0a  ders=_headers)..
-000170d0: 2020 2020 2020 2020 4261 7369 6341 7574          BasicAut
-000170e0: 682e 6170 706c 7928 5f72 6571 7565 7374  h.apply(_request
-000170f0: 290d 0a20 2020 2020 2020 205f 636f 6e74  )..        _cont
-00017100: 6578 7420 3d20 7365 6c66 2e65 7865 6375  ext = self.execu
-00017110: 7465 5f72 6571 7565 7374 285f 7265 7175  te_request(_requ
-00017120: 6573 7429 0d0a 0d0a 2020 2020 2020 2020  est)....        
-00017130: 2320 456e 6470 6f69 6e74 2061 6e64 2067  # Endpoint and g
-00017140: 6c6f 6261 6c20 6572 726f 7220 6861 6e64  lobal error hand
-00017150: 6c69 6e67 2075 7369 6e67 2048 5454 5020  ling using HTTP 
-00017160: 7374 6174 7573 2063 6f64 6573 2e0d 0a20  status codes... 
-00017170: 2020 2020 2020 2069 6620 5f63 6f6e 7465         if _conte
-00017180: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
-00017190: 7573 5f63 6f64 6520 3d3d 2034 3030 3a0d  us_code == 400:.
-000171a0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-000171b0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
-000171c0: 6e28 2749 6e76 616c 6964 2072 6571 7565  n('Invalid reque
-000171d0: 7374 272c 205f 636f 6e74 6578 7429 0d0a  st', _context)..
-000171e0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
-000171f0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
-00017200: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
-00017210: 313a 0d0a 2020 2020 2020 2020 2020 2020  1:..            
-00017220: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
-00017230: 7469 6f6e 2827 496e 7661 6c69 6420 4150  tion('Invalid AP
-00017240: 4920 6b65 7927 2c20 5f63 6f6e 7465 7874  I key', _context
-00017250: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-00017260: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-00017270: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00017280: 2034 3034 3a0d 0a20 2020 2020 2020 2020   404:..         
-00017290: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-000172a0: 6365 7074 696f 6e28 2741 6e20 696e 666f  ception('An info
-000172b0: 726d 6564 2072 6573 6f75 7263 6520 7761  rmed resource wa
-000172c0: 7320 6e6f 7420 666f 756e 6427 2c20 5f63  s not found', _c
-000172d0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-000172e0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-000172f0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00017300: 6f64 6520 3d3d 2034 3132 3a0d 0a20 2020  ode == 412:..   
-00017310: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00017320: 7272 6f72 4578 6365 7074 696f 6e28 2742  rrorException('B
-00017330: 7573 696e 6573 7320 7661 6c69 6461 7469  usiness validati
-00017340: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
-00017350: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
-00017360: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00017370: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00017380: 203d 3d20 3432 323a 0d0a 2020 2020 2020   == 422:..      
-00017390: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-000173a0: 7245 7863 6570 7469 6f6e 2827 436f 6e74  rException('Cont
-000173b0: 7261 6374 2076 616c 6964 6174 696f 6e20  ract validation 
-000173c0: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
-000173d0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
-000173e0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
-000173f0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
-00017400: 2035 3030 3a0d 0a20 2020 2020 2020 2020   500:..         
-00017410: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
-00017420: 6365 7074 696f 6e28 2749 6e74 6572 6e61  ception('Interna
-00017430: 6c20 7365 7276 6572 2065 7272 6f72 272c  l server error',
-00017440: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00017450: 2020 2020 7365 6c66 2e76 616c 6964 6174      self.validat
-00017460: 655f 7265 7370 6f6e 7365 285f 636f 6e74  e_response(_cont
-00017470: 6578 7429 0d0a 0d0a 2020 2020 2020 2020  ext)....        
-00017480: 2320 5265 7475 726e 2061 7070 726f 7072  # Return appropr
-00017490: 6961 7465 2074 7970 650d 0a20 2020 2020  iate type..     
-000174a0: 2020 2072 6574 7572 6e20 4150 4948 656c     return APIHel
-000174b0: 7065 722e 6a73 6f6e 5f64 6573 6572 6961  per.json_deseria
-000174c0: 6c69 7a65 285f 636f 6e74 6578 742e 7265  lize(_context.re
-000174d0: 7370 6f6e 7365 2e72 6177 5f62 6f64 792c  sponse.raw_body,
-000174e0: 2053 7562 7363 7269 7074 696f 6e73 4469   SubscriptionsDi
-000174f0: 7363 6f75 6e74 7352 6573 706f 6e73 652e  scountsResponse.
-00017500: 6672 6f6d 5f64 6963 7469 6f6e 6172 7929  from_dictionary)
-00017510: 0d0a 0d0a 2020 2020 6465 6620 7570 6461  ....    def upda
-00017520: 7465 5f73 7562 7363 7269 7074 696f 6e5f  te_subscription_
-00017530: 6d69 6e69 756d 5f70 7269 6365 2873 656c  minium_price(sel
-00017540: 662c 0d0a 2020 2020 2020 2020 2020 2020  f,..            
-00017550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017560: 2020 2020 2020 2020 2020 2020 2073 7562               sub
-00017570: 7363 7269 7074 696f 6e5f 6964 2c0d 0a20  scription_id,.. 
-00017580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000175a0: 2020 2020 2020 2020 626f 6479 2c0d 0a20          body,.. 
-000175b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000175c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000175d0: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
-000175e0: 6e63 795f 6b65 793d 4e6f 6e65 293a 0d0a  ncy_key=None):..
-000175f0: 2020 2020 2020 2020 2222 2244 6f65 7320          """Does 
-00017600: 6120 5041 5443 4820 7265 7175 6573 7420  a PATCH request 
-00017610: 746f 202f 7375 6273 6372 6970 7469 6f6e  to /subscription
-00017620: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
-00017630: 6964 7d2f 6d69 6e69 6d75 6d5f 7072 6963  id}/minimum_pric
-00017640: 652e 0d0a 0d0a 2020 2020 2020 2020 4174  e.....        At
-00017650: 7561 6c69 7a61 c3a7 c3a3 6f20 646f 2076  ualiza....o do v
-00017660: 616c 6f72 206d c3ad 6e69 6d6f 2064 6120  alor m..nimo da 
-00017670: 6173 7369 6e61 7475 7261 0d0a 0d0a 2020  assinatura....  
-00017680: 2020 2020 2020 4172 6773 3a0d 0a20 2020        Args:..   
-00017690: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
-000176a0: 7074 696f 6e5f 6964 2028 7374 7269 6e67  ption_id (string
-000176b0: 293a 2053 7562 7363 7269 7074 696f 6e20  ): Subscription 
-000176c0: 4964 0d0a 2020 2020 2020 2020 2020 2020  Id..            
-000176d0: 626f 6479 2028 5375 6273 6372 6970 7469  body (Subscripti
-000176e0: 6f6e 734d 696e 696d 756d 5072 6963 6552  onsMinimumPriceR
-000176f0: 6571 7565 7374 293a 2052 6571 7565 7374  equest): Request
-00017700: 2064 6120 7265 7175 6973 69c3 a7c3 a36f   da requisi....o
-00017710: 2063 6f6d 0d0a 2020 2020 2020 2020 2020   com..          
-00017720: 2020 2020 2020 6f20 7661 6c6f 7220 6dc3        o valor m.
-00017730: ad6e 696d 6f20 7175 6520 7365 72c3 a120  .nimo que ser.. 
-00017740: 636f 6e66 6967 7572 6164 6f0d 0a20 2020  configurado..   
-00017750: 2020 2020 2020 2020 2069 6465 6d70 6f74           idempot
-00017760: 656e 6379 5f6b 6579 2028 7374 7269 6e67  ency_key (string
-00017770: 2c20 6f70 7469 6f6e 616c 293a 2054 4f44  , optional): TOD
-00017780: 4f3a 2074 7970 6520 6465 7363 7269 7074  O: type descript
-00017790: 696f 6e20 6865 7265 2e0d 0a20 2020 2020  ion here...     
-000177a0: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
-000177b0: 6c65 3a20 0d0a 0d0a 2020 2020 2020 2020  le: ....        
-000177c0: 5265 7475 726e 733a 0d0a 2020 2020 2020  Returns:..      
-000177d0: 2020 2020 2020 4765 7453 7562 7363 7269        GetSubscri
-000177e0: 7074 696f 6e52 6573 706f 6e73 653a 2052  ptionResponse: R
-000177f0: 6573 706f 6e73 6520 6672 6f6d 2074 6865  esponse from the
-00017800: 2041 5049 2e20 0d0a 0d0a 2020 2020 2020   API. ....      
-00017810: 2020 5261 6973 6573 3a0d 0a20 2020 2020    Raises:..     
-00017820: 2020 2020 2020 2041 5049 4578 6365 7074         APIExcept
-00017830: 696f 6e3a 2057 6865 6e20 616e 2065 7272  ion: When an err
-00017840: 6f72 206f 6363 7572 7320 7768 696c 6520  or occurs while 
-00017850: 6665 7463 6869 6e67 2074 6865 2064 6174  fetching the dat
-00017860: 6120 6672 6f6d 0d0a 2020 2020 2020 2020  a from..        
-00017870: 2020 2020 2020 2020 7468 6520 7265 6d6f          the remo
-00017880: 7465 2041 5049 2e20 5468 6973 2065 7863  te API. This exc
-00017890: 6570 7469 6f6e 2069 6e63 6c75 6465 7320  eption includes 
-000178a0: 7468 6520 4854 5450 2052 6573 706f 6e73  the HTTP Respons
-000178b0: 650d 0a20 2020 2020 2020 2020 2020 2020  e..             
-000178c0: 2020 2063 6f64 652c 2061 6e20 6572 726f     code, an erro
-000178d0: 7220 6d65 7373 6167 652c 2061 6e64 2074  r message, and t
-000178e0: 6865 2048 5454 5020 626f 6479 2074 6861  he HTTP body tha
-000178f0: 7420 7761 7320 7265 6365 6976 6564 2069  t was received i
-00017900: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
-00017910: 2020 2074 6865 2072 6571 7565 7374 2e0d     the request..
-00017920: 0a0d 0a20 2020 2020 2020 2022 2222 0d0a  ...        """..
-00017930: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
-00017940: 6172 6520 7175 6572 7920 5552 4c0d 0a20  are query URL.. 
-00017950: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
-00017960: 203d 2027 2f73 7562 7363 7269 7074 696f   = '/subscriptio
-00017970: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
-00017980: 5f69 647d 2f6d 696e 696d 756d 5f70 7269  _id}/minimum_pri
-00017990: 6365 270d 0a20 2020 2020 2020 205f 7572  ce'..        _ur
-000179a0: 6c5f 7061 7468 203d 2041 5049 4865 6c70  l_path = APIHelp
-000179b0: 6572 2e61 7070 656e 645f 7572 6c5f 7769  er.append_url_wi
-000179c0: 7468 5f74 656d 706c 6174 655f 7061 7261  th_template_para
-000179d0: 6d65 7465 7273 285f 7572 6c5f 7061 7468  meters(_url_path
-000179e0: 2c20 7b20 0d0a 2020 2020 2020 2020 2020  , { ..          
-000179f0: 2020 2773 7562 7363 7269 7074 696f 6e5f    'subscription_
-00017a00: 6964 273a 2073 7562 7363 7269 7074 696f  id': subscriptio
-00017a10: 6e5f 6964 0d0a 2020 2020 2020 2020 7d29  n_id..        })
-00017a20: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
-00017a30: 5f62 7569 6c64 6572 203d 2043 6f6e 6669  _builder = Confi
-00017a40: 6775 7261 7469 6f6e 2e62 6173 655f 7572  guration.base_ur
-00017a50: 690d 0a20 2020 2020 2020 205f 7175 6572  i..        _quer
-00017a60: 795f 6275 696c 6465 7220 2b3d 205f 7572  y_builder += _ur
-00017a70: 6c5f 7061 7468 0d0a 2020 2020 2020 2020  l_path..        
-00017a80: 5f71 7565 7279 5f75 726c 203d 2041 5049  _query_url = API
-00017a90: 4865 6c70 6572 2e63 6c65 616e 5f75 726c  Helper.clean_url
-00017aa0: 285f 7175 6572 795f 6275 696c 6465 7229  (_query_builder)
-00017ab0: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
-00017ac0: 6570 6172 6520 6865 6164 6572 730d 0a20  epare headers.. 
-00017ad0: 2020 2020 2020 205f 6865 6164 6572 7320         _headers 
-00017ae0: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
-00017af0: 2027 6163 6365 7074 273a 2027 6170 706c   'accept': 'appl
-00017b00: 6963 6174 696f 6e2f 6a73 6f6e 272c 0d0a  ication/json',..
-00017b10: 2020 2020 2020 2020 2020 2020 2743 6f6e              'Con
-00017b20: 7465 6e74 2d54 7970 6527 3a20 2761 7070  tent-Type': 'app
-00017b30: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
-00017b40: 0a20 2020 2020 2020 2020 2020 2027 6964  .            'id
-00017b50: 656d 706f 7465 6e63 792d 6b65 7927 3a20  empotency-key': 
-00017b60: 6964 656d 706f 7465 6e63 795f 6b65 790d  idempotency_key.
-00017b70: 0a20 2020 2020 2020 207d 0d0a 0d0a 2020  .        }....  
-00017b80: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-00017b90: 616e 6420 6578 6563 7574 6520 7265 7175  and execute requ
-00017ba0: 6573 740d 0a20 2020 2020 2020 205f 7265  est..        _re
-00017bb0: 7175 6573 7420 3d20 7365 6c66 2e68 7474  quest = self.htt
-00017bc0: 705f 636c 6965 6e74 2e70 6174 6368 285f  p_client.patch(_
-00017bd0: 7175 6572 795f 7572 6c2c 2068 6561 6465  query_url, heade
-00017be0: 7273 3d5f 6865 6164 6572 732c 2070 6172  rs=_headers, par
-00017bf0: 616d 6574 6572 733d 4150 4948 656c 7065  ameters=APIHelpe
-00017c00: 722e 6a73 6f6e 5f73 6572 6961 6c69 7a65  r.json_serialize
-00017c10: 2862 6f64 7929 290d 0a20 2020 2020 2020  (body))..       
-00017c20: 2042 6173 6963 4175 7468 2e61 7070 6c79   BasicAuth.apply
-00017c30: 285f 7265 7175 6573 7429 0d0a 2020 2020  (_request)..    
-00017c40: 2020 2020 5f63 6f6e 7465 7874 203d 2073      _context = s
-00017c50: 656c 662e 6578 6563 7574 655f 7265 7175  elf.execute_requ
-00017c60: 6573 7428 5f72 6571 7565 7374 290d 0a0d  est(_request)...
-00017c70: 0a20 2020 2020 2020 2023 2045 6e64 706f  .        # Endpo
-00017c80: 696e 7420 616e 6420 676c 6f62 616c 2065  int and global e
-00017c90: 7272 6f72 2068 616e 646c 696e 6720 7573  rror handling us
-00017ca0: 696e 6720 4854 5450 2073 7461 7475 7320  ing HTTP status 
-00017cb0: 636f 6465 732e 0d0a 2020 2020 2020 2020  codes...        
-00017cc0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
-00017cd0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
-00017ce0: 203d 3d20 3430 303a 0d0a 2020 2020 2020   == 400:..      
-00017cf0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
-00017d00: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
-00017d10: 6c69 6420 7265 7175 6573 7427 2c20 5f63  lid request', _c
-00017d20: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
-00017d30: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
-00017d40: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
-00017d50: 6f64 6520 3d3d 2034 3031 3a0d 0a20 2020  ode == 401:..   
-00017d60: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
-00017d70: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
-00017d80: 6e76 616c 6964 2041 5049 206b 6579 272c  nvalid API key',
-00017d90: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00017da0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00017db0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00017dc0: 735f 636f 6465 203d 3d20 3430 343a 0d0a  s_code == 404:..
-00017dd0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00017de0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00017df0: 2827 416e 2069 6e66 6f72 6d65 6420 7265  ('An informed re
-00017e00: 736f 7572 6365 2077 6173 206e 6f74 2066  source was not f
-00017e10: 6f75 6e64 272c 205f 636f 6e74 6578 7429  ound', _context)
-00017e20: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-00017e30: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-00017e40: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-00017e50: 3431 323a 0d0a 2020 2020 2020 2020 2020  412:..          
-00017e60: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-00017e70: 6570 7469 6f6e 2827 4275 7369 6e65 7373  eption('Business
-00017e80: 2076 616c 6964 6174 696f 6e20 6572 726f   validation erro
-00017e90: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
-00017ea0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
-00017eb0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00017ec0: 6174 7573 5f63 6f64 6520 3d3d 2034 3232  atus_code == 422
-00017ed0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00017ee0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00017ef0: 696f 6e28 2743 6f6e 7472 6163 7420 7661  ion('Contract va
-00017f00: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
-00017f10: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
-00017f20: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
-00017f30: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
-00017f40: 735f 636f 6465 203d 3d20 3530 303a 0d0a  s_code == 500:..
-00017f50: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00017f60: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
-00017f70: 2827 496e 7465 726e 616c 2073 6572 7665  ('Internal serve
-00017f80: 7220 6572 726f 7227 2c20 5f63 6f6e 7465  r error', _conte
-00017f90: 7874 290d 0a20 2020 2020 2020 2073 656c  xt)..        sel
-00017fa0: 662e 7661 6c69 6461 7465 5f72 6573 706f  f.validate_respo
-00017fb0: 6e73 6528 5f63 6f6e 7465 7874 290d 0a0d  nse(_context)...
-00017fc0: 0a20 2020 2020 2020 2023 2052 6574 7572  .        # Retur
-00017fd0: 6e20 6170 7072 6f70 7269 6174 6520 7479  n appropriate ty
-00017fe0: 7065 0d0a 2020 2020 2020 2020 7265 7475  pe..        retu
-00017ff0: 726e 2041 5049 4865 6c70 6572 2e6a 736f  rn APIHelper.jso
-00018000: 6e5f 6465 7365 7269 616c 697a 6528 5f63  n_deserialize(_c
-00018010: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-00018020: 7261 775f 626f 6479 2c20 4765 7453 7562  raw_body, GetSub
-00018030: 7363 7269 7074 696f 6e52 6573 706f 6e73  scriptionRespons
-00018040: 652e 6672 6f6d 5f64 6963 7469 6f6e 6172  e.from_dictionar
-00018050: 7929 0d0a 0d0a 2020 2020 6465 6620 6765  y)....    def ge
-00018060: 745f 7573 6167 655f 7265 706f 7274 2873  t_usage_report(s
-00018070: 656c 662c 0d0a 2020 2020 2020 2020 2020  elf,..          
-00018080: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00018090: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
-000180a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000180b0: 2020 2020 2020 2020 2020 7065 7269 6f64            period
-000180c0: 5f69 6429 3a0d 0a20 2020 2020 2020 2022  _id):..        "
-000180d0: 2222 446f 6573 2061 2047 4554 2072 6571  ""Does a GET req
-000180e0: 7565 7374 2074 6f20 2f73 7562 7363 7269  uest to /subscri
-000180f0: 7074 696f 6e73 2f7b 7375 6273 6372 6970  ptions/{subscrip
-00018100: 7469 6f6e 5f69 647d 2f70 6572 696f 6473  tion_id}/periods
-00018110: 2f7b 7065 7269 6f64 5f69 647d 2f75 7361  /{period_id}/usa
-00018120: 6765 732f 7265 706f 7274 2e0d 0a0d 0a20  ges/report..... 
-00018130: 2020 2020 2020 2047 6574 5573 6167 6552         GetUsageR
-00018140: 6570 6f72 740d 0a0d 0a20 2020 2020 2020  eport....       
-00018150: 2041 7267 733a 0d0a 2020 2020 2020 2020   Args:..        
-00018160: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
-00018170: 5f69 6420 2873 7472 696e 6729 3a20 5468  _id (string): Th
-00018180: 6520 7375 6273 6372 6970 7469 6f6e 2049  e subscription I
-00018190: 640d 0a20 2020 2020 2020 2020 2020 2070  d..            p
-000181a0: 6572 696f 645f 6964 2028 7374 7269 6e67  eriod_id (string
-000181b0: 293a 2054 6865 2070 6572 696f 6420 4964  ): The period Id
-000181c0: 0d0a 0d0a 2020 2020 2020 2020 5265 7475  ....        Retu
-000181d0: 726e 733a 0d0a 2020 2020 2020 2020 2020  rns:..          
-000181e0: 2020 4765 7455 7361 6765 5265 706f 7274    GetUsageReport
-000181f0: 5265 7370 6f6e 7365 3a20 5265 7370 6f6e  Response: Respon
-00018200: 7365 2066 726f 6d20 7468 6520 4150 492e  se from the API.
-00018210: 200d 0a0d 0a20 2020 2020 2020 2052 6169   ....        Rai
-00018220: 7365 733a 0d0a 2020 2020 2020 2020 2020  ses:..          
-00018230: 2020 4150 4945 7863 6570 7469 6f6e 3a20    APIException: 
-00018240: 5768 656e 2061 6e20 6572 726f 7220 6f63  When an error oc
-00018250: 6375 7273 2077 6869 6c65 2066 6574 6368  curs while fetch
-00018260: 696e 6720 7468 6520 6461 7461 2066 726f  ing the data fro
-00018270: 6d0d 0a20 2020 2020 2020 2020 2020 2020  m..             
-00018280: 2020 2074 6865 2072 656d 6f74 6520 4150     the remote AP
-00018290: 492e 2054 6869 7320 6578 6365 7074 696f  I. This exceptio
-000182a0: 6e20 696e 636c 7564 6573 2074 6865 2048  n includes the H
-000182b0: 5454 5020 5265 7370 6f6e 7365 0d0a 2020  TTP Response..  
-000182c0: 2020 2020 2020 2020 2020 2020 2020 636f                co
-000182d0: 6465 2c20 616e 2065 7272 6f72 206d 6573  de, an error mes
-000182e0: 7361 6765 2c20 616e 6420 7468 6520 4854  sage, and the HT
-000182f0: 5450 2062 6f64 7920 7468 6174 2077 6173  TP body that was
-00018300: 2072 6563 6569 7665 6420 696e 0d0a 2020   received in..  
-00018310: 2020 2020 2020 2020 2020 2020 2020 7468                th
-00018320: 6520 7265 7175 6573 742e 0d0a 0d0a 2020  e request.....  
-00018330: 2020 2020 2020 2222 220d 0a0d 0a20 2020        """....   
-00018340: 2020 2020 2023 2050 7265 7061 7265 2071       # Prepare q
-00018350: 7565 7279 2055 524c 0d0a 2020 2020 2020  uery URL..      
-00018360: 2020 5f75 726c 5f70 6174 6820 3d20 272f    _url_path = '/
-00018370: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
-00018380: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
-00018390: 7065 7269 6f64 732f 7b70 6572 696f 645f  periods/{period_
-000183a0: 6964 7d2f 7573 6167 6573 2f72 6570 6f72  id}/usages/repor
-000183b0: 7427 0d0a 2020 2020 2020 2020 5f75 726c  t'..        _url
-000183c0: 5f70 6174 6820 3d20 4150 4948 656c 7065  _path = APIHelpe
-000183d0: 722e 6170 7065 6e64 5f75 726c 5f77 6974  r.append_url_wit
-000183e0: 685f 7465 6d70 6c61 7465 5f70 6172 616d  h_template_param
-000183f0: 6574 6572 7328 5f75 726c 5f70 6174 682c  eters(_url_path,
-00018400: 207b 200d 0a20 2020 2020 2020 2020 2020   { ..           
-00018410: 2027 7375 6273 6372 6970 7469 6f6e 5f69   'subscription_i
-00018420: 6427 3a20 7375 6273 6372 6970 7469 6f6e  d': subscription
-00018430: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
-00018440: 2020 2770 6572 696f 645f 6964 273a 2070    'period_id': p
-00018450: 6572 696f 645f 6964 0d0a 2020 2020 2020  eriod_id..      
-00018460: 2020 7d29 0d0a 2020 2020 2020 2020 5f71    })..        _q
-00018470: 7565 7279 5f62 7569 6c64 6572 203d 2043  uery_builder = C
-00018480: 6f6e 6669 6775 7261 7469 6f6e 2e62 6173  onfiguration.bas
-00018490: 655f 7572 690d 0a20 2020 2020 2020 205f  e_uri..        _
-000184a0: 7175 6572 795f 6275 696c 6465 7220 2b3d  query_builder +=
-000184b0: 205f 7572 6c5f 7061 7468 0d0a 2020 2020   _url_path..    
-000184c0: 2020 2020 5f71 7565 7279 5f75 726c 203d      _query_url =
-000184d0: 2041 5049 4865 6c70 6572 2e63 6c65 616e   APIHelper.clean
-000184e0: 5f75 726c 285f 7175 6572 795f 6275 696c  _url(_query_buil
-000184f0: 6465 7229 0d0a 0d0a 2020 2020 2020 2020  der)....        
-00018500: 2320 5072 6570 6172 6520 6865 6164 6572  # Prepare header
-00018510: 730d 0a20 2020 2020 2020 205f 6865 6164  s..        _head
-00018520: 6572 7320 3d20 7b0d 0a20 2020 2020 2020  ers = {..       
-00018530: 2020 2020 2027 6163 6365 7074 273a 2027       'accept': '
-00018540: 6170 706c 6963 6174 696f 6e2f 6a73 6f6e  application/json
-00018550: 270d 0a20 2020 2020 2020 207d 0d0a 0d0a  '..        }....
-00018560: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
-00018570: 6520 616e 6420 6578 6563 7574 6520 7265  e and execute re
-00018580: 7175 6573 740d 0a20 2020 2020 2020 205f  quest..        _
-00018590: 7265 7175 6573 7420 3d20 7365 6c66 2e68  request = self.h
-000185a0: 7474 705f 636c 6965 6e74 2e67 6574 285f  ttp_client.get(_
-000185b0: 7175 6572 795f 7572 6c2c 2068 6561 6465  query_url, heade
-000185c0: 7273 3d5f 6865 6164 6572 7329 0d0a 2020  rs=_headers)..  
-000185d0: 2020 2020 2020 4261 7369 6341 7574 682e        BasicAuth.
-000185e0: 6170 706c 7928 5f72 6571 7565 7374 290d  apply(_request).
-000185f0: 0a20 2020 2020 2020 205f 636f 6e74 6578  .        _contex
-00018600: 7420 3d20 7365 6c66 2e65 7865 6375 7465  t = self.execute
-00018610: 5f72 6571 7565 7374 285f 7265 7175 6573  _request(_reques
-00018620: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
-00018630: 456e 6470 6f69 6e74 2061 6e64 2067 6c6f  Endpoint and glo
-00018640: 6261 6c20 6572 726f 7220 6861 6e64 6c69  bal error handli
-00018650: 6e67 2075 7369 6e67 2048 5454 5020 7374  ng using HTTP st
-00018660: 6174 7573 2063 6f64 6573 2e0d 0a20 2020  atus codes...   
-00018670: 2020 2020 2069 6620 5f63 6f6e 7465 7874       if _context
-00018680: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-00018690: 5f63 6f64 6520 3d3d 2034 3030 3a0d 0a20  _code == 400:.. 
-000186a0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-000186b0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-000186c0: 2749 6e76 616c 6964 2072 6571 7565 7374  'Invalid request
-000186d0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-000186e0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
-000186f0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
-00018700: 7475 735f 636f 6465 203d 3d20 3430 313a  tus_code == 401:
-00018710: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
-00018720: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
-00018730: 6f6e 2827 496e 7661 6c69 6420 4150 4920  on('Invalid API 
-00018740: 6b65 7927 2c20 5f63 6f6e 7465 7874 290d  key', _context).
-00018750: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-00018760: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-00018770: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
-00018780: 3034 3a0d 0a20 2020 2020 2020 2020 2020  04:..           
-00018790: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-000187a0: 7074 696f 6e28 2741 6e20 696e 666f 726d  ption('An inform
-000187b0: 6564 2072 6573 6f75 7263 6520 7761 7320  ed resource was 
-000187c0: 6e6f 7420 666f 756e 6427 2c20 5f63 6f6e  not found', _con
-000187d0: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
-000187e0: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
-000187f0: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
-00018800: 6520 3d3d 2034 3132 3a0d 0a20 2020 2020  e == 412:..     
-00018810: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
-00018820: 6f72 4578 6365 7074 696f 6e28 2742 7573  orException('Bus
-00018830: 696e 6573 7320 7661 6c69 6461 7469 6f6e  iness validation
-00018840: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
-00018850: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
-00018860: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
-00018870: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
-00018880: 3d20 3432 323a 0d0a 2020 2020 2020 2020  = 422:..        
-00018890: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
-000188a0: 7863 6570 7469 6f6e 2827 436f 6e74 7261  xception('Contra
-000188b0: 6374 2076 616c 6964 6174 696f 6e20 6572  ct validation er
-000188c0: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
-000188d0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
-000188e0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
-000188f0: 7374 6174 7573 5f63 6f64 6520 3d3d 2035  status_code == 5
-00018900: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
-00018910: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
-00018920: 7074 696f 6e28 2749 6e74 6572 6e61 6c20  ption('Internal 
-00018930: 7365 7276 6572 2065 7272 6f72 272c 205f  server error', _
-00018940: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
-00018950: 2020 7365 6c66 2e76 616c 6964 6174 655f    self.validate_
-00018960: 7265 7370 6f6e 7365 285f 636f 6e74 6578  response(_contex
-00018970: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
-00018980: 5265 7475 726e 2061 7070 726f 7072 6961  Return appropria
-00018990: 7465 2074 7970 650d 0a20 2020 2020 2020  te type..       
-000189a0: 2072 6574 7572 6e20 4150 4948 656c 7065   return APIHelpe
-000189b0: 722e 6a73 6f6e 5f64 6573 6572 6961 6c69  r.json_deseriali
-000189c0: 7a65 285f 636f 6e74 6578 742e 7265 7370  ze(_context.resp
-000189d0: 6f6e 7365 2e72 6177 5f62 6f64 792c 2047  onse.raw_body, G
-000189e0: 6574 5573 6167 6552 6570 6f72 7452 6573  etUsageReportRes
-000189f0: 706f 6e73 652e 6672 6f6d 5f64 6963 7469  ponse.from_dicti
-00018a00: 6f6e 6172 7929 0d0a 0d0a 2020 2020 6465  onary)....    de
-00018a10: 6620 7570 6461 7465 5f73 706c 6974 5f73  f update_split_s
-00018a20: 7562 7363 7269 7074 696f 6e28 7365 6c66  ubscription(self
-00018a30: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
-00018a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018a50: 2020 2020 2069 642c 0d0a 2020 2020 2020       id,..      
-00018a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018a70: 2020 2020 2020 2020 2020 2020 626f 6479              body
-00018a80: 293a 0d0a 2020 2020 2020 2020 2222 2244  ):..        """D
-00018a90: 6f65 7320 6120 5041 5443 4820 7265 7175  oes a PATCH requ
-00018aa0: 6573 7420 746f 202f 7375 6273 6372 6970  est to /subscrip
-00018ab0: 7469 6f6e 732f 7b69 647d 2f73 706c 6974  tions/{id}/split
-00018ac0: 2e0d 0a0d 0a20 2020 2020 2020 2055 7064  .....        Upd
-00018ad0: 6174 6553 706c 6974 5375 6273 6372 6970  ateSplitSubscrip
-00018ae0: 7469 6f6e 0d0a 0d0a 2020 2020 2020 2020  tion....        
-00018af0: 4172 6773 3a0d 0a20 2020 2020 2020 2020  Args:..         
-00018b00: 2020 2069 6420 2873 7472 696e 6729 3a20     id (string): 
-00018b10: 5375 6273 6372 6970 7469 6f6e 2773 2069  Subscription's i
-00018b20: 640d 0a20 2020 2020 2020 2020 2020 2062  d..            b
-00018b30: 6f64 7920 2855 7064 6174 6553 7562 7363  ody (UpdateSubsc
-00018b40: 7269 7074 696f 6e53 706c 6974 5265 7175  riptionSplitRequ
-00018b50: 6573 7429 3a20 544f 444f 3a20 7479 7065  est): TODO: type
-00018b60: 2064 6573 6372 6970 7469 6f6e 0d0a 2020   description..  
-00018b70: 2020 2020 2020 2020 2020 2020 2020 6865                he
-00018b80: 7265 2e20 4578 616d 706c 653a 200d 0a0d  re. Example: ...
-00018b90: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-00018ba0: 3a0d 0a20 2020 2020 2020 2020 2020 2047  :..            G
-00018bb0: 6574 5375 6273 6372 6970 7469 6f6e 5265  etSubscriptionRe
-00018bc0: 7370 6f6e 7365 3a20 5265 7370 6f6e 7365  sponse: Response
-00018bd0: 2066 726f 6d20 7468 6520 4150 492e 200d   from the API. .
-00018be0: 0a0d 0a20 2020 2020 2020 2052 6169 7365  ...        Raise
-00018bf0: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
-00018c00: 4150 4945 7863 6570 7469 6f6e 3a20 5768  APIException: Wh
-00018c10: 656e 2061 6e20 6572 726f 7220 6f63 6375  en an error occu
-00018c20: 7273 2077 6869 6c65 2066 6574 6368 696e  rs while fetchin
-00018c30: 6720 7468 6520 6461 7461 2066 726f 6d0d  g the data from.
-00018c40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00018c50: 2074 6865 2072 656d 6f74 6520 4150 492e   the remote API.
-00018c60: 2054 6869 7320 6578 6365 7074 696f 6e20   This exception 
-00018c70: 696e 636c 7564 6573 2074 6865 2048 5454  includes the HTT
-00018c80: 5020 5265 7370 6f6e 7365 0d0a 2020 2020  P Response..    
-00018c90: 2020 2020 2020 2020 2020 2020 636f 6465              code
-00018ca0: 2c20 616e 2065 7272 6f72 206d 6573 7361  , an error messa
-00018cb0: 6765 2c20 616e 6420 7468 6520 4854 5450  ge, and the HTTP
-00018cc0: 2062 6f64 7920 7468 6174 2077 6173 2072   body that was r
-00018cd0: 6563 6569 7665 6420 696e 0d0a 2020 2020  eceived in..    
-00018ce0: 2020 2020 2020 2020 2020 2020 7468 6520              the 
-00018cf0: 7265 7175 6573 742e 0d0a 0d0a 2020 2020  request.....    
-00018d00: 2020 2020 2222 220d 0a0d 0a20 2020 2020      """....     
-00018d10: 2020 2023 2050 7265 7061 7265 2071 7565     # Prepare que
-00018d20: 7279 2055 524c 0d0a 2020 2020 2020 2020  ry URL..        
-00018d30: 5f75 726c 5f70 6174 6820 3d20 272f 7375  _url_path = '/su
-00018d40: 6273 6372 6970 7469 6f6e 732f 7b69 647d  bscriptions/{id}
-00018d50: 2f73 706c 6974 270d 0a20 2020 2020 2020  /split'..       
-00018d60: 205f 7572 6c5f 7061 7468 203d 2041 5049   _url_path = API
-00018d70: 4865 6c70 6572 2e61 7070 656e 645f 7572  Helper.append_ur
-00018d80: 6c5f 7769 7468 5f74 656d 706c 6174 655f  l_with_template_
-00018d90: 7061 7261 6d65 7465 7273 285f 7572 6c5f  parameters(_url_
-00018da0: 7061 7468 2c20 7b20 0d0a 2020 2020 2020  path, { ..      
-00018db0: 2020 2020 2020 2769 6427 3a20 6964 0d0a        'id': id..
-00018dc0: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
-00018dd0: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
-00018de0: 6572 203d 2043 6f6e 6669 6775 7261 7469  er = Configurati
-00018df0: 6f6e 2e62 6173 655f 7572 690d 0a20 2020  on.base_uri..   
-00018e00: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
-00018e10: 6465 7220 2b3d 205f 7572 6c5f 7061 7468  der += _url_path
-00018e20: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
-00018e30: 5f75 726c 203d 2041 5049 4865 6c70 6572  _url = APIHelper
-00018e40: 2e63 6c65 616e 5f75 726c 285f 7175 6572  .clean_url(_quer
-00018e50: 795f 6275 696c 6465 7229 0d0a 0d0a 2020  y_builder)....  
-00018e60: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
-00018e70: 6865 6164 6572 730d 0a20 2020 2020 2020  headers..       
-00018e80: 205f 6865 6164 6572 7320 3d20 7b0d 0a20   _headers = {.. 
-00018e90: 2020 2020 2020 2020 2020 2027 6163 6365             'acce
-00018ea0: 7074 273a 2027 6170 706c 6963 6174 696f  pt': 'applicatio
-00018eb0: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
-00018ec0: 2020 2020 2020 2743 6f6e 7465 6e74 2d54        'Content-T
-00018ed0: 7970 6527 3a20 2761 7070 6c69 6361 7469  ype': 'applicati
-00018ee0: 6f6e 2f6a 736f 6e27 0d0a 2020 2020 2020  on/json'..      
-00018ef0: 2020 7d0d 0a0d 0a20 2020 2020 2020 2023    }....        #
-00018f00: 2050 7265 7061 7265 2061 6e64 2065 7865   Prepare and exe
-00018f10: 6375 7465 2072 6571 7565 7374 0d0a 2020  cute request..  
-00018f20: 2020 2020 2020 5f72 6571 7565 7374 203d        _request =
-00018f30: 2073 656c 662e 6874 7470 5f63 6c69 656e   self.http_clien
-00018f40: 742e 7061 7463 6828 5f71 7565 7279 5f75  t.patch(_query_u
-00018f50: 726c 2c20 6865 6164 6572 733d 5f68 6561  rl, headers=_hea
-00018f60: 6465 7273 2c20 7061 7261 6d65 7465 7273  ders, parameters
-00018f70: 3d41 5049 4865 6c70 6572 2e6a 736f 6e5f  =APIHelper.json_
-00018f80: 7365 7269 616c 697a 6528 626f 6479 2929  serialize(body))
-00018f90: 0d0a 2020 2020 2020 2020 4261 7369 6341  ..        BasicA
-00018fa0: 7574 682e 6170 706c 7928 5f72 6571 7565  uth.apply(_reque
-00018fb0: 7374 290d 0a20 2020 2020 2020 205f 636f  st)..        _co
-00018fc0: 6e74 6578 7420 3d20 7365 6c66 2e65 7865  ntext = self.exe
-00018fd0: 6375 7465 5f72 6571 7565 7374 285f 7265  cute_request(_re
-00018fe0: 7175 6573 7429 0d0a 0d0a 2020 2020 2020  quest)....      
-00018ff0: 2020 2320 456e 6470 6f69 6e74 2061 6e64    # Endpoint and
-00019000: 2067 6c6f 6261 6c20 6572 726f 7220 6861   global error ha
-00019010: 6e64 6c69 6e67 2075 7369 6e67 2048 5454  ndling using HTT
-00019020: 5020 7374 6174 7573 2063 6f64 6573 2e0d  P status codes..
-00019030: 0a20 2020 2020 2020 2069 6620 5f63 6f6e  .        if _con
-00019040: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
-00019050: 6174 7573 5f63 6f64 6520 3d3d 2034 3030  atus_code == 400
-00019060: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
-00019070: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
-00019080: 696f 6e28 2749 6e76 616c 6964 2072 6571  ion('Invalid req
-00019090: 7565 7374 272c 205f 636f 6e74 6578 7429  uest', _context)
-000190a0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
-000190b0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
-000190c0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
-000190d0: 3430 313a 0d0a 2020 2020 2020 2020 2020  401:..          
-000190e0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
-000190f0: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
-00019100: 4150 4920 6b65 7927 2c20 5f63 6f6e 7465  API key', _conte
-00019110: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-00019120: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-00019130: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-00019140: 3d3d 2034 3034 3a0d 0a20 2020 2020 2020  == 404:..       
-00019150: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-00019160: 4578 6365 7074 696f 6e28 2741 6e20 696e  Exception('An in
-00019170: 666f 726d 6564 2072 6573 6f75 7263 6520  formed resource 
-00019180: 7761 7320 6e6f 7420 666f 756e 6427 2c20  was not found', 
-00019190: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
-000191a0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
-000191b0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
-000191c0: 5f63 6f64 6520 3d3d 2034 3132 3a0d 0a20  _code == 412:.. 
-000191d0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-000191e0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
-000191f0: 2742 7573 696e 6573 7320 7661 6c69 6461  'Business valida
-00019200: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
-00019210: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
-00019220: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
-00019230: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
-00019240: 6465 203d 3d20 3432 323a 0d0a 2020 2020  de == 422:..    
-00019250: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
-00019260: 726f 7245 7863 6570 7469 6f6e 2827 436f  rorException('Co
-00019270: 6e74 7261 6374 2076 616c 6964 6174 696f  ntract validatio
-00019280: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
-00019290: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
-000192a0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
-000192b0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
-000192c0: 3d3d 2035 3030 3a0d 0a20 2020 2020 2020  == 500:..       
-000192d0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
-000192e0: 4578 6365 7074 696f 6e28 2749 6e74 6572  Exception('Inter
-000192f0: 6e61 6c20 7365 7276 6572 2065 7272 6f72  nal server error
-00019300: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
-00019310: 2020 2020 2020 7365 6c66 2e76 616c 6964        self.valid
-00019320: 6174 655f 7265 7370 6f6e 7365 285f 636f  ate_response(_co
-00019330: 6e74 6578 7429 0d0a 0d0a 2020 2020 2020  ntext)....      
-00019340: 2020 2320 5265 7475 726e 2061 7070 726f    # Return appro
-00019350: 7072 6961 7465 2074 7970 650d 0a20 2020  priate type..   
-00019360: 2020 2020 2072 6574 7572 6e20 4150 4948       return APIH
-00019370: 656c 7065 722e 6a73 6f6e 5f64 6573 6572  elper.json_deser
-00019380: 6961 6c69 7a65 285f 636f 6e74 6578 742e  ialize(_context.
-00019390: 7265 7370 6f6e 7365 2e72 6177 5f62 6f64  response.raw_bod
-000193a0: 792c 2047 6574 5375 6273 6372 6970 7469  y, GetSubscripti
-000193b0: 6f6e 5265 7370 6f6e 7365 2e66 726f 6d5f  onResponse.from_
-000193c0: 6469 6374 696f 6e61 7279 290d 0a         dictionary)..
+0000d080: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
+0000d090: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
+0000d0a0: 2020 2020 2020 2020 2069 7465 6d5f 6964           item_id
+0000d0b0: 2c0d 0a20 2020 2020 2020 2020 2020 2020  ,..             
+0000d0c0: 2020 2020 2020 7061 6765 3d4e 6f6e 652c        page=None,
+0000d0d0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000d0e0: 2020 2020 2073 697a 653d 4e6f 6e65 2c0d       size=None,.
+0000d0f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d100: 2020 2020 636f 6465 3d4e 6f6e 652c 0d0a      code=None,..
+0000d110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d120: 2020 2067 726f 7570 3d4e 6f6e 652c 0d0a     group=None,..
+0000d130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d140: 2020 2075 7365 645f 7369 6e63 653d 4e6f     used_since=No
+0000d150: 6e65 2c0d 0a20 2020 2020 2020 2020 2020  ne,..           
+0000d160: 2020 2020 2020 2020 7573 6564 5f75 6e74          used_unt
+0000d170: 696c 3d4e 6f6e 6529 3a0d 0a20 2020 2020  il=None):..     
+0000d180: 2020 2022 2222 446f 6573 2061 2047 4554     """Does a GET
+0000d190: 2072 6571 7565 7374 2074 6f20 2f73 7562   request to /sub
+0000d1a0: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
+0000d1b0: 6372 6970 7469 6f6e 5f69 647d 2f69 7465  cription_id}/ite
+0000d1c0: 6d73 2f7b 6974 656d 5f69 647d 2f75 7361  ms/{item_id}/usa
+0000d1d0: 6765 732e 0d0a 0d0a 2020 2020 2020 2020  ges.....        
+0000d1e0: 4c69 7374 7320 616c 6c20 7573 6167 6573  Lists all usages
+0000d1f0: 2066 726f 6d20 6120 7375 6273 6372 6970   from a subscrip
+0000d200: 7469 6f6e 2069 7465 6d0d 0a0d 0a20 2020  tion item....   
+0000d210: 2020 2020 2041 7267 733a 0d0a 2020 2020       Args:..    
+0000d220: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
+0000d230: 7469 6f6e 5f69 6420 2873 7472 696e 6729  tion_id (string)
+0000d240: 3a20 5468 6520 7375 6273 6372 6970 7469  : The subscripti
+0000d250: 6f6e 2069 640d 0a20 2020 2020 2020 2020  on id..         
+0000d260: 2020 2069 7465 6d5f 6964 2028 7374 7269     item_id (stri
+0000d270: 6e67 293a 2054 6865 2073 7562 7363 7269  ng): The subscri
+0000d280: 7074 696f 6e20 6974 656d 2069 640d 0a20  ption item id.. 
+0000d290: 2020 2020 2020 2020 2020 2070 6167 6520             page 
+0000d2a0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+0000d2b0: 2050 6167 6520 6e75 6d62 6572 0d0a 2020   Page number..  
+0000d2c0: 2020 2020 2020 2020 2020 7369 7a65 2028            size (
+0000d2d0: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+0000d2e0: 5061 6765 2073 697a 650d 0a20 2020 2020  Page size..     
+0000d2f0: 2020 2020 2020 2063 6f64 6520 2873 7472         code (str
+0000d300: 696e 672c 206f 7074 696f 6e61 6c29 3a20  ing, optional): 
+0000d310: 4964 656e 7469 6669 6361 7469 6f6e 2063  Identification c
+0000d320: 6f64 6520 696e 2074 6865 2063 6c69 656e  ode in the clien
+0000d330: 7420 7379 7374 656d 0d0a 2020 2020 2020  t system..      
+0000d340: 2020 2020 2020 6772 6f75 7020 2873 7472        group (str
+0000d350: 696e 672c 206f 7074 696f 6e61 6c29 3a20  ing, optional): 
+0000d360: 4964 656e 7469 6669 6361 7469 6f6e 2067  Identification g
+0000d370: 726f 7570 2069 6e20 7468 6520 636c 6965  roup in the clie
+0000d380: 6e74 0d0a 2020 2020 2020 2020 2020 2020  nt..            
+0000d390: 2020 2020 7379 7374 656d 0d0a 2020 2020      system..    
+0000d3a0: 2020 2020 2020 2020 7573 6564 5f73 696e          used_sin
+0000d3b0: 6365 2028 6461 7465 7469 6d65 2c20 6f70  ce (datetime, op
+0000d3c0: 7469 6f6e 616c 293a 2054 4f44 4f3a 2074  tional): TODO: t
+0000d3d0: 7970 6520 6465 7363 7269 7074 696f 6e20  ype description 
+0000d3e0: 6865 7265 2e0d 0a20 2020 2020 2020 2020  here...         
+0000d3f0: 2020 2020 2020 2045 7861 6d70 6c65 3a20         Example: 
+0000d400: 0d0a 2020 2020 2020 2020 2020 2020 7573  ..            us
+0000d410: 6564 5f75 6e74 696c 2028 6461 7465 7469  ed_until (dateti
+0000d420: 6d65 2c20 6f70 7469 6f6e 616c 293a 2054  me, optional): T
+0000d430: 4f44 4f3a 2074 7970 6520 6465 7363 7269  ODO: type descri
+0000d440: 7074 696f 6e20 6865 7265 2e0d 0a20 2020  ption here...   
+0000d450: 2020 2020 2020 2020 2020 2020 2045 7861               Exa
+0000d460: 6d70 6c65 3a20 0d0a 0d0a 2020 2020 2020  mple: ....      
+0000d470: 2020 5265 7475 726e 733a 0d0a 2020 2020    Returns:..    
+0000d480: 2020 2020 2020 2020 5375 6273 6372 6970          Subscrip
+0000d490: 7469 6f6e 7349 7465 6d73 5573 6167 6573  tionsItemsUsages
+0000d4a0: 5265 7370 6f6e 7365 313a 2052 6573 706f  Response1: Respo
+0000d4b0: 6e73 6520 6672 6f6d 2074 6865 2041 5049  nse from the API
+0000d4c0: 2e20 0d0a 0d0a 2020 2020 2020 2020 5261  . ....        Ra
+0000d4d0: 6973 6573 3a0d 0a20 2020 2020 2020 2020  ises:..         
+0000d4e0: 2020 2041 5049 4578 6365 7074 696f 6e3a     APIException:
+0000d4f0: 2057 6865 6e20 616e 2065 7272 6f72 206f   When an error o
+0000d500: 6363 7572 7320 7768 696c 6520 6665 7463  ccurs while fetc
+0000d510: 6869 6e67 2074 6865 2064 6174 6120 6672  hing the data fr
+0000d520: 6f6d 0d0a 2020 2020 2020 2020 2020 2020  om..            
+0000d530: 2020 2020 7468 6520 7265 6d6f 7465 2041      the remote A
+0000d540: 5049 2e20 5468 6973 2065 7863 6570 7469  PI. This excepti
+0000d550: 6f6e 2069 6e63 6c75 6465 7320 7468 6520  on includes the 
+0000d560: 4854 5450 2052 6573 706f 6e73 650d 0a20  HTTP Response.. 
+0000d570: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0000d580: 6f64 652c 2061 6e20 6572 726f 7220 6d65  ode, an error me
+0000d590: 7373 6167 652c 2061 6e64 2074 6865 2048  ssage, and the H
+0000d5a0: 5454 5020 626f 6479 2074 6861 7420 7761  TTP body that wa
+0000d5b0: 7320 7265 6365 6976 6564 2069 6e0d 0a20  s received in.. 
+0000d5c0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0000d5d0: 6865 2072 6571 7565 7374 2e0d 0a0d 0a20  he request..... 
+0000d5e0: 2020 2020 2020 2022 2222 0d0a 0d0a 2020         """....  
+0000d5f0: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+0000d600: 7175 6572 7920 5552 4c0d 0a20 2020 2020  query URL..     
+0000d610: 2020 205f 7572 6c5f 7061 7468 203d 2027     _url_path = '
+0000d620: 2f73 7562 7363 7269 7074 696f 6e73 2f7b  /subscriptions/{
+0000d630: 7375 6273 6372 6970 7469 6f6e 5f69 647d  subscription_id}
+0000d640: 2f69 7465 6d73 2f7b 6974 656d 5f69 647d  /items/{item_id}
+0000d650: 2f75 7361 6765 7327 0d0a 2020 2020 2020  /usages'..      
+0000d660: 2020 5f75 726c 5f70 6174 6820 3d20 4150    _url_path = AP
+0000d670: 4948 656c 7065 722e 6170 7065 6e64 5f75  IHelper.append_u
+0000d680: 726c 5f77 6974 685f 7465 6d70 6c61 7465  rl_with_template
+0000d690: 5f70 6172 616d 6574 6572 7328 5f75 726c  _parameters(_url
+0000d6a0: 5f70 6174 682c 207b 200d 0a20 2020 2020  _path, { ..     
+0000d6b0: 2020 2020 2020 2027 7375 6273 6372 6970         'subscrip
+0000d6c0: 7469 6f6e 5f69 6427 3a20 7375 6273 6372  tion_id': subscr
+0000d6d0: 6970 7469 6f6e 5f69 642c 0d0a 2020 2020  iption_id,..    
+0000d6e0: 2020 2020 2020 2020 2769 7465 6d5f 6964          'item_id
+0000d6f0: 273a 2069 7465 6d5f 6964 0d0a 2020 2020  ': item_id..    
+0000d700: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
+0000d710: 5f71 7565 7279 5f62 7569 6c64 6572 203d  _query_builder =
+0000d720: 2043 6f6e 6669 6775 7261 7469 6f6e 2e62   Configuration.b
+0000d730: 6173 655f 7572 690d 0a20 2020 2020 2020  ase_uri..       
+0000d740: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
+0000d750: 2b3d 205f 7572 6c5f 7061 7468 0d0a 2020  += _url_path..  
+0000d760: 2020 2020 2020 5f71 7565 7279 5f70 6172        _query_par
+0000d770: 616d 6574 6572 7320 3d20 7b0d 0a20 2020  ameters = {..   
+0000d780: 2020 2020 2020 2020 2027 7061 6765 273a           'page':
+0000d790: 2070 6167 652c 0d0a 2020 2020 2020 2020   page,..        
+0000d7a0: 2020 2020 2773 697a 6527 3a20 7369 7a65      'size': size
+0000d7b0: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+0000d7c0: 636f 6465 273a 2063 6f64 652c 0d0a 2020  code': code,..  
+0000d7d0: 2020 2020 2020 2020 2020 2767 726f 7570            'group
+0000d7e0: 273a 2067 726f 7570 2c0d 0a20 2020 2020  ': group,..     
+0000d7f0: 2020 2020 2020 2027 7573 6564 5f73 696e         'used_sin
+0000d800: 6365 273a 2041 5049 4865 6c70 6572 2e77  ce': APIHelper.w
+0000d810: 6865 6e5f 6465 6669 6e65 6428 4150 4948  hen_defined(APIH
+0000d820: 656c 7065 722e 5246 4333 3333 3944 6174  elper.RFC3339Dat
+0000d830: 6554 696d 652c 2075 7365 645f 7369 6e63  eTime, used_sinc
+0000d840: 6529 2c0d 0a20 2020 2020 2020 2020 2020  e),..           
+0000d850: 2027 7573 6564 5f75 6e74 696c 273a 2041   'used_until': A
+0000d860: 5049 4865 6c70 6572 2e77 6865 6e5f 6465  PIHelper.when_de
+0000d870: 6669 6e65 6428 4150 4948 656c 7065 722e  fined(APIHelper.
+0000d880: 5246 4333 3333 3944 6174 6554 696d 652c  RFC3339DateTime,
+0000d890: 2075 7365 645f 756e 7469 6c29 0d0a 2020   used_until)..  
+0000d8a0: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
+0000d8b0: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
+0000d8c0: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
+0000d8d0: 6e64 5f75 726c 5f77 6974 685f 7175 6572  nd_url_with_quer
+0000d8e0: 795f 7061 7261 6d65 7465 7273 285f 7175  y_parameters(_qu
+0000d8f0: 6572 795f 6275 696c 6465 722c 0d0a 2020  ery_builder,..  
+0000d900: 2020 2020 2020 2020 2020 5f71 7565 7279            _query
+0000d910: 5f70 6172 616d 6574 6572 732c 2043 6f6e  _parameters, Con
+0000d920: 6669 6775 7261 7469 6f6e 2e61 7272 6179  figuration.array
+0000d930: 5f73 6572 6961 6c69 7a61 7469 6f6e 290d  _serialization).
+0000d940: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+0000d950: 7572 6c20 3d20 4150 4948 656c 7065 722e  url = APIHelper.
+0000d960: 636c 6561 6e5f 7572 6c28 5f71 7565 7279  clean_url(_query
+0000d970: 5f62 7569 6c64 6572 290d 0a0d 0a20 2020  _builder)....   
+0000d980: 2020 2020 2023 2050 7265 7061 7265 2068       # Prepare h
+0000d990: 6561 6465 7273 0d0a 2020 2020 2020 2020  eaders..        
+0000d9a0: 5f68 6561 6465 7273 203d 207b 0d0a 2020  _headers = {..  
+0000d9b0: 2020 2020 2020 2020 2020 2761 6363 6570            'accep
+0000d9c0: 7427 3a20 2761 7070 6c69 6361 7469 6f6e  t': 'application
+0000d9d0: 2f6a 736f 6e27 2c0d 0a20 2020 2020 2020  /json',..       
+0000d9e0: 2020 2020 2027 5365 7276 6963 6552 6566       'ServiceRef
+0000d9f0: 6572 6572 4e61 6d65 273a 2043 6f6e 6669  ererName': Confi
+0000da00: 6775 7261 7469 6f6e 2e73 6572 7669 6365  guration.service
+0000da10: 5f72 6566 6572 6572 5f6e 616d 650d 0a20  _referer_name.. 
+0000da20: 2020 2020 2020 207d 0d0a 0d0a 2020 2020         }....    
+0000da30: 2020 2020 2320 5072 6570 6172 6520 616e      # Prepare an
+0000da40: 6420 6578 6563 7574 6520 7265 7175 6573  d execute reques
+0000da50: 740d 0a20 2020 2020 2020 205f 7265 7175  t..        _requ
+0000da60: 6573 7420 3d20 7365 6c66 2e68 7474 705f  est = self.http_
+0000da70: 636c 6965 6e74 2e67 6574 285f 7175 6572  client.get(_quer
+0000da80: 795f 7572 6c2c 2068 6561 6465 7273 3d5f  y_url, headers=_
+0000da90: 6865 6164 6572 7329 0d0a 2020 2020 2020  headers)..      
+0000daa0: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
+0000dab0: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
+0000dac0: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
+0000dad0: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
+0000dae0: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
+0000daf0: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
+0000db00: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
+0000db10: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
+0000db20: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
+0000db30: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
+0000db40: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
+0000db50: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+0000db60: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
+0000db70: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+0000db80: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
+0000db90: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
+0000dba0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+0000dbb0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+0000dbc0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+0000dbd0: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
+0000dbe0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0000dbf0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+0000dc00: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
+0000dc10: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+0000dc20: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+0000dc30: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+0000dc40: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
+0000dc50: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0000dc60: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+0000dc70: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
+0000dc80: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
+0000dc90: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
+0000dca0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+0000dcb0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+0000dcc0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+0000dcd0: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
+0000dce0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+0000dcf0: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
+0000dd00: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
+0000dd10: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+0000dd20: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+0000dd30: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+0000dd40: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
+0000dd50: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
+0000dd60: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+0000dd70: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
+0000dd80: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
+0000dd90: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+0000dda0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+0000ddb0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+0000ddc0: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
+0000ddd0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0000dde0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+0000ddf0: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
+0000de00: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
+0000de10: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
+0000de20: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
+0000de30: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
+0000de40: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
+0000de50: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
+0000de60: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
+0000de70: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
+0000de80: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
+0000de90: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+0000dea0: 2e72 6177 5f62 6f64 792c 2053 7562 7363  .raw_body, Subsc
+0000deb0: 7269 7074 696f 6e73 4974 656d 7355 7361  riptionsItemsUsa
+0000dec0: 6765 7352 6573 706f 6e73 6531 2e66 726f  gesResponse1.fro
+0000ded0: 6d5f 6469 6374 696f 6e61 7279 290d 0a0d  m_dictionary)...
+0000dee0: 0a20 2020 2064 6566 2064 656c 6574 655f  .    def delete_
+0000def0: 6469 7363 6f75 6e74 2873 656c 662c 0d0a  discount(self,..
+0000df00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000df10: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
+0000df20: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
+0000df30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000df40: 2020 6469 7363 6f75 6e74 5f69 642c 0d0a    discount_id,..
+0000df50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000df60: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
+0000df70: 6e63 795f 6b65 793d 4e6f 6e65 293a 0d0a  ncy_key=None):..
+0000df80: 2020 2020 2020 2020 2222 2244 6f65 7320          """Does 
+0000df90: 6120 4445 4c45 5445 2072 6571 7565 7374  a DELETE request
+0000dfa0: 2074 6f20 2f73 7562 7363 7269 7074 696f   to /subscriptio
+0000dfb0: 6e73 2f7b 7375 6273 6372 6970 7469 6f6e  ns/{subscription
+0000dfc0: 5f69 647d 2f64 6973 636f 756e 7473 2f7b  _id}/discounts/{
+0000dfd0: 6469 7363 6f75 6e74 5f69 647d 2e0d 0a0d  discount_id}....
+0000dfe0: 0a20 2020 2020 2020 2044 656c 6574 6573  .        Deletes
+0000dff0: 2061 2064 6973 636f 756e 740d 0a0d 0a20   a discount.... 
+0000e000: 2020 2020 2020 2041 7267 733a 0d0a 2020         Args:..  
+0000e010: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
+0000e020: 6970 7469 6f6e 5f69 6420 2873 7472 696e  iption_id (strin
+0000e030: 6729 3a20 5375 6273 6372 6970 7469 6f6e  g): Subscription
+0000e040: 2069 640d 0a20 2020 2020 2020 2020 2020   id..           
+0000e050: 2064 6973 636f 756e 745f 6964 2028 7374   discount_id (st
+0000e060: 7269 6e67 293a 2044 6973 636f 756e 7420  ring): Discount 
+0000e070: 4964 0d0a 2020 2020 2020 2020 2020 2020  Id..            
+0000e080: 6964 656d 706f 7465 6e63 795f 6b65 7920  idempotency_key 
+0000e090: 2873 7472 696e 672c 206f 7074 696f 6e61  (string, optiona
+0000e0a0: 6c29 3a20 544f 444f 3a20 7479 7065 2064  l): TODO: type d
+0000e0b0: 6573 6372 6970 7469 6f6e 2068 6572 652e  escription here.
+0000e0c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000e0d0: 2020 4578 616d 706c 653a 200d 0a0d 0a20    Example: .... 
+0000e0e0: 2020 2020 2020 2052 6574 7572 6e73 3a0d         Returns:.
+0000e0f0: 0a20 2020 2020 2020 2020 2020 2053 7562  .            Sub
+0000e100: 7363 7269 7074 696f 6e73 4469 7363 6f75  scriptionsDiscou
+0000e110: 6e74 7352 6573 706f 6e73 653a 2052 6573  ntsResponse: Res
+0000e120: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
+0000e130: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
+0000e140: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
+0000e150: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
+0000e160: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
+0000e170: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
+0000e180: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
+0000e190: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
+0000e1a0: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
+0000e1b0: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
+0000e1c0: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
+0000e1d0: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
+0000e1e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e1f0: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
+0000e200: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
+0000e210: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
+0000e220: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
+0000e230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e240: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
+0000e250: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
+0000e260: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+0000e270: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
+0000e280: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
+0000e290: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
+0000e2a0: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
+0000e2b0: 647d 2f64 6973 636f 756e 7473 2f7b 6469  d}/discounts/{di
+0000e2c0: 7363 6f75 6e74 5f69 647d 270d 0a20 2020  scount_id}'..   
+0000e2d0: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
+0000e2e0: 2041 5049 4865 6c70 6572 2e61 7070 656e   APIHelper.appen
+0000e2f0: 645f 7572 6c5f 7769 7468 5f74 656d 706c  d_url_with_templ
+0000e300: 6174 655f 7061 7261 6d65 7465 7273 285f  ate_parameters(_
+0000e310: 7572 6c5f 7061 7468 2c20 7b20 0d0a 2020  url_path, { ..  
+0000e320: 2020 2020 2020 2020 2020 2773 7562 7363            'subsc
+0000e330: 7269 7074 696f 6e5f 6964 273a 2073 7562  ription_id': sub
+0000e340: 7363 7269 7074 696f 6e5f 6964 2c0d 0a20  scription_id,.. 
+0000e350: 2020 2020 2020 2020 2020 2027 6469 7363             'disc
+0000e360: 6f75 6e74 5f69 6427 3a20 6469 7363 6f75  ount_id': discou
+0000e370: 6e74 5f69 640d 0a20 2020 2020 2020 207d  nt_id..        }
+0000e380: 290d 0a20 2020 2020 2020 205f 7175 6572  )..        _quer
+0000e390: 795f 6275 696c 6465 7220 3d20 436f 6e66  y_builder = Conf
+0000e3a0: 6967 7572 6174 696f 6e2e 6261 7365 5f75  iguration.base_u
+0000e3b0: 7269 0d0a 2020 2020 2020 2020 5f71 7565  ri..        _que
+0000e3c0: 7279 5f62 7569 6c64 6572 202b 3d20 5f75  ry_builder += _u
+0000e3d0: 726c 5f70 6174 680d 0a20 2020 2020 2020  rl_path..       
+0000e3e0: 205f 7175 6572 795f 7572 6c20 3d20 4150   _query_url = AP
+0000e3f0: 4948 656c 7065 722e 636c 6561 6e5f 7572  IHelper.clean_ur
+0000e400: 6c28 5f71 7565 7279 5f62 7569 6c64 6572  l(_query_builder
+0000e410: 290d 0a0d 0a20 2020 2020 2020 2023 2050  )....        # P
+0000e420: 7265 7061 7265 2068 6561 6465 7273 0d0a  repare headers..
+0000e430: 2020 2020 2020 2020 5f68 6561 6465 7273          _headers
+0000e440: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+0000e450: 2020 2761 6363 6570 7427 3a20 2761 7070    'accept': 'app
+0000e460: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0d  lication/json',.
+0000e470: 0a20 2020 2020 2020 2020 2020 2027 5365  .            'Se
+0000e480: 7276 6963 6552 6566 6572 6572 4e61 6d65  rviceRefererName
+0000e490: 273a 2043 6f6e 6669 6775 7261 7469 6f6e  ': Configuration
+0000e4a0: 2e73 6572 7669 6365 5f72 6566 6572 6572  .service_referer
+0000e4b0: 5f6e 616d 652c 0d0a 2020 2020 2020 2020  _name,..        
+0000e4c0: 2020 2020 2769 6465 6d70 6f74 656e 6379      'idempotency
+0000e4d0: 2d6b 6579 273a 2069 6465 6d70 6f74 656e  -key': idempoten
+0000e4e0: 6379 5f6b 6579 0d0a 2020 2020 2020 2020  cy_key..        
+0000e4f0: 7d0d 0a0d 0a20 2020 2020 2020 2023 2050  }....        # P
+0000e500: 7265 7061 7265 2061 6e64 2065 7865 6375  repare and execu
+0000e510: 7465 2072 6571 7565 7374 0d0a 2020 2020  te request..    
+0000e520: 2020 2020 5f72 6571 7565 7374 203d 2073      _request = s
+0000e530: 656c 662e 6874 7470 5f63 6c69 656e 742e  elf.http_client.
+0000e540: 6465 6c65 7465 285f 7175 6572 795f 7572  delete(_query_ur
+0000e550: 6c2c 2068 6561 6465 7273 3d5f 6865 6164  l, headers=_head
+0000e560: 6572 7329 0d0a 2020 2020 2020 2020 4261  ers)..        Ba
+0000e570: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
+0000e580: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
+0000e590: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
+0000e5a0: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
+0000e5b0: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
+0000e5c0: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
+0000e5d0: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
+0000e5e0: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
+0000e5f0: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
+0000e600: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
+0000e610: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+0000e620: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+0000e630: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
+0000e640: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+0000e650: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+0000e660: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
+0000e670: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+0000e680: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+0000e690: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+0000e6a0: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
+0000e6b0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+0000e6c0: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
+0000e6d0: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
+0000e6e0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+0000e6f0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+0000e700: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+0000e710: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
+0000e720: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+0000e730: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
+0000e740: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
+0000e750: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
+0000e760: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
+0000e770: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+0000e780: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+0000e790: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
+0000e7a0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+0000e7b0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+0000e7c0: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
+0000e7d0: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
+0000e7e0: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+0000e7f0: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+0000e800: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+0000e810: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
+0000e820: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0000e830: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+0000e840: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
+0000e850: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+0000e860: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+0000e870: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+0000e880: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+0000e890: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
+0000e8a0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+0000e8b0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
+0000e8c0: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
+0000e8d0: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
+0000e8e0: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
+0000e8f0: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
+0000e900: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
+0000e910: 2020 2020 2020 2320 5265 7475 726e 2061        # Return a
+0000e920: 7070 726f 7072 6961 7465 2074 7970 650d  ppropriate type.
+0000e930: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0000e940: 4150 4948 656c 7065 722e 6a73 6f6e 5f64  APIHelper.json_d
+0000e950: 6573 6572 6961 6c69 7a65 285f 636f 6e74  eserialize(_cont
+0000e960: 6578 742e 7265 7370 6f6e 7365 2e72 6177  ext.response.raw
+0000e970: 5f62 6f64 792c 2053 7562 7363 7269 7074  _body, Subscript
+0000e980: 696f 6e73 4469 7363 6f75 6e74 7352 6573  ionsDiscountsRes
+0000e990: 706f 6e73 652e 6672 6f6d 5f64 6963 7469  ponse.from_dicti
+0000e9a0: 6f6e 6172 7929 0d0a 0d0a 2020 2020 6465  onary)....    de
+0000e9b0: 6620 6765 745f 696e 6372 656d 656e 7473  f get_increments
+0000e9c0: 2873 656c 662c 0d0a 2020 2020 2020 2020  (self,..        
+0000e9d0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0000e9e0: 7562 7363 7269 7074 696f 6e5f 6964 2c0d  ubscription_id,.
+0000e9f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000ea00: 2020 2020 2020 2020 7061 6765 3d4e 6f6e          page=Non
+0000ea10: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+0000ea20: 2020 2020 2020 2020 2020 2073 697a 653d             size=
+0000ea30: 4e6f 6e65 293a 0d0a 2020 2020 2020 2020  None):..        
+0000ea40: 2222 2244 6f65 7320 6120 4745 5420 7265  """Does a GET re
+0000ea50: 7175 6573 7420 746f 202f 7375 6273 6372  quest to /subscr
+0000ea60: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
+0000ea70: 7074 696f 6e5f 6964 7d2f 696e 6372 656d  ption_id}/increm
+0000ea80: 656e 7473 2f2e 0d0a 0d0a 2020 2020 2020  ents/.....      
+0000ea90: 2020 4765 7449 6e63 7265 6d65 6e74 730d    GetIncrements.
+0000eaa0: 0a0d 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+0000eab0: 0d0a 2020 2020 2020 2020 2020 2020 7375  ..            su
+0000eac0: 6273 6372 6970 7469 6f6e 5f69 6420 2873  bscription_id (s
+0000ead0: 7472 696e 6729 3a20 5468 6520 7375 6273  tring): The subs
+0000eae0: 6372 6970 7469 6f6e 2069 640d 0a20 2020  cription id..   
+0000eaf0: 2020 2020 2020 2020 2070 6167 6520 2869           page (i
+0000eb00: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
+0000eb10: 6167 6520 6e75 6d62 6572 0d0a 2020 2020  age number..    
+0000eb20: 2020 2020 2020 2020 7369 7a65 2028 696e          size (in
+0000eb30: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
+0000eb40: 6765 2073 697a 650d 0a0d 0a20 2020 2020  ge size....     
+0000eb50: 2020 2052 6574 7572 6e73 3a0d 0a20 2020     Returns:..   
+0000eb60: 2020 2020 2020 2020 204c 6973 7449 6e63           ListInc
+0000eb70: 7265 6d65 6e74 7352 6573 706f 6e73 653a  rementsResponse:
+0000eb80: 2052 6573 706f 6e73 6520 6672 6f6d 2074   Response from t
+0000eb90: 6865 2041 5049 2e20 0d0a 0d0a 2020 2020  he API. ....    
+0000eba0: 2020 2020 5261 6973 6573 3a0d 0a20 2020      Raises:..   
+0000ebb0: 2020 2020 2020 2020 2041 5049 4578 6365           APIExce
+0000ebc0: 7074 696f 6e3a 2057 6865 6e20 616e 2065  ption: When an e
+0000ebd0: 7272 6f72 206f 6363 7572 7320 7768 696c  rror occurs whil
+0000ebe0: 6520 6665 7463 6869 6e67 2074 6865 2064  e fetching the d
+0000ebf0: 6174 6120 6672 6f6d 0d0a 2020 2020 2020  ata from..      
+0000ec00: 2020 2020 2020 2020 2020 7468 6520 7265            the re
+0000ec10: 6d6f 7465 2041 5049 2e20 5468 6973 2065  mote API. This e
+0000ec20: 7863 6570 7469 6f6e 2069 6e63 6c75 6465  xception include
+0000ec30: 7320 7468 6520 4854 5450 2052 6573 706f  s the HTTP Respo
+0000ec40: 6e73 650d 0a20 2020 2020 2020 2020 2020  nse..           
+0000ec50: 2020 2020 2063 6f64 652c 2061 6e20 6572       code, an er
+0000ec60: 726f 7220 6d65 7373 6167 652c 2061 6e64  ror message, and
+0000ec70: 2074 6865 2048 5454 5020 626f 6479 2074   the HTTP body t
+0000ec80: 6861 7420 7761 7320 7265 6365 6976 6564  hat was received
+0000ec90: 2069 6e0d 0a20 2020 2020 2020 2020 2020   in..           
+0000eca0: 2020 2020 2074 6865 2072 6571 7565 7374       the request
+0000ecb0: 2e0d 0a0d 0a20 2020 2020 2020 2022 2222  .....        """
+0000ecc0: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
+0000ecd0: 6570 6172 6520 7175 6572 7920 5552 4c0d  epare query URL.
+0000ece0: 0a20 2020 2020 2020 205f 7572 6c5f 7061  .        _url_pa
+0000ecf0: 7468 203d 2027 2f73 7562 7363 7269 7074  th = '/subscript
+0000ed00: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
+0000ed10: 6f6e 5f69 647d 2f69 6e63 7265 6d65 6e74  on_id}/increment
+0000ed20: 732f 270d 0a20 2020 2020 2020 205f 7572  s/'..        _ur
+0000ed30: 6c5f 7061 7468 203d 2041 5049 4865 6c70  l_path = APIHelp
+0000ed40: 6572 2e61 7070 656e 645f 7572 6c5f 7769  er.append_url_wi
+0000ed50: 7468 5f74 656d 706c 6174 655f 7061 7261  th_template_para
+0000ed60: 6d65 7465 7273 285f 7572 6c5f 7061 7468  meters(_url_path
+0000ed70: 2c20 7b20 0d0a 2020 2020 2020 2020 2020  , { ..          
+0000ed80: 2020 2773 7562 7363 7269 7074 696f 6e5f    'subscription_
+0000ed90: 6964 273a 2073 7562 7363 7269 7074 696f  id': subscriptio
+0000eda0: 6e5f 6964 0d0a 2020 2020 2020 2020 7d29  n_id..        })
+0000edb0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+0000edc0: 5f62 7569 6c64 6572 203d 2043 6f6e 6669  _builder = Confi
+0000edd0: 6775 7261 7469 6f6e 2e62 6173 655f 7572  guration.base_ur
+0000ede0: 690d 0a20 2020 2020 2020 205f 7175 6572  i..        _quer
+0000edf0: 795f 6275 696c 6465 7220 2b3d 205f 7572  y_builder += _ur
+0000ee00: 6c5f 7061 7468 0d0a 2020 2020 2020 2020  l_path..        
+0000ee10: 5f71 7565 7279 5f70 6172 616d 6574 6572  _query_parameter
+0000ee20: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
+0000ee30: 2020 2027 7061 6765 273a 2070 6167 652c     'page': page,
+0000ee40: 0d0a 2020 2020 2020 2020 2020 2020 2773  ..            's
+0000ee50: 697a 6527 3a20 7369 7a65 0d0a 2020 2020  ize': size..    
+0000ee60: 2020 2020 7d0d 0a20 2020 2020 2020 205f      }..        _
+0000ee70: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
+0000ee80: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
+0000ee90: 5f75 726c 5f77 6974 685f 7175 6572 795f  _url_with_query_
+0000eea0: 7061 7261 6d65 7465 7273 285f 7175 6572  parameters(_quer
+0000eeb0: 795f 6275 696c 6465 722c 0d0a 2020 2020  y_builder,..    
+0000eec0: 2020 2020 2020 2020 5f71 7565 7279 5f70          _query_p
+0000eed0: 6172 616d 6574 6572 732c 2043 6f6e 6669  arameters, Confi
+0000eee0: 6775 7261 7469 6f6e 2e61 7272 6179 5f73  guration.array_s
+0000eef0: 6572 6961 6c69 7a61 7469 6f6e 290d 0a20  erialization).. 
+0000ef00: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
+0000ef10: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
+0000ef20: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
+0000ef30: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
+0000ef40: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
+0000ef50: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
+0000ef60: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
+0000ef70: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
+0000ef80: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
+0000ef90: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
+0000efa0: 2020 2027 5365 7276 6963 6552 6566 6572     'ServiceRefer
+0000efb0: 6572 4e61 6d65 273a 2043 6f6e 6669 6775  erName': Configu
+0000efc0: 7261 7469 6f6e 2e73 6572 7669 6365 5f72  ration.service_r
+0000efd0: 6566 6572 6572 5f6e 616d 650d 0a20 2020  eferer_name..   
+0000efe0: 2020 2020 207d 0d0a 0d0a 2020 2020 2020       }....      
+0000eff0: 2020 2320 5072 6570 6172 6520 616e 6420    # Prepare and 
+0000f000: 6578 6563 7574 6520 7265 7175 6573 740d  execute request.
+0000f010: 0a20 2020 2020 2020 205f 7265 7175 6573  .        _reques
+0000f020: 7420 3d20 7365 6c66 2e68 7474 705f 636c  t = self.http_cl
+0000f030: 6965 6e74 2e67 6574 285f 7175 6572 795f  ient.get(_query_
+0000f040: 7572 6c2c 2068 6561 6465 7273 3d5f 6865  url, headers=_he
+0000f050: 6164 6572 7329 0d0a 2020 2020 2020 2020  aders)..        
+0000f060: 4261 7369 6341 7574 682e 6170 706c 7928  BasicAuth.apply(
+0000f070: 5f72 6571 7565 7374 290d 0a20 2020 2020  _request)..     
+0000f080: 2020 205f 636f 6e74 6578 7420 3d20 7365     _context = se
+0000f090: 6c66 2e65 7865 6375 7465 5f72 6571 7565  lf.execute_reque
+0000f0a0: 7374 285f 7265 7175 6573 7429 0d0a 0d0a  st(_request)....
+0000f0b0: 2020 2020 2020 2020 2320 456e 6470 6f69          # Endpoi
+0000f0c0: 6e74 2061 6e64 2067 6c6f 6261 6c20 6572  nt and global er
+0000f0d0: 726f 7220 6861 6e64 6c69 6e67 2075 7369  ror handling usi
+0000f0e0: 6e67 2048 5454 5020 7374 6174 7573 2063  ng HTTP status c
+0000f0f0: 6f64 6573 2e0d 0a20 2020 2020 2020 2069  odes...        i
+0000f100: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+0000f110: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+0000f120: 3d3d 2034 3030 3a0d 0a20 2020 2020 2020  == 400:..       
+0000f130: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+0000f140: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
+0000f150: 6964 2072 6571 7565 7374 272c 205f 636f  id request', _co
+0000f160: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+0000f170: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+0000f180: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+0000f190: 6465 203d 3d20 3430 313a 0d0a 2020 2020  de == 401:..    
+0000f1a0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+0000f1b0: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+0000f1c0: 7661 6c69 6420 4150 4920 6b65 7927 2c20  valid API key', 
+0000f1d0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+0000f1e0: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+0000f1f0: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000f200: 5f63 6f64 6520 3d3d 2034 3034 3a0d 0a20  _code == 404:.. 
+0000f210: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000f220: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000f230: 2741 6e20 696e 666f 726d 6564 2072 6573  'An informed res
+0000f240: 6f75 7263 6520 7761 7320 6e6f 7420 666f  ource was not fo
+0000f250: 756e 6427 2c20 5f63 6f6e 7465 7874 290d  und', _context).
+0000f260: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+0000f270: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+0000f280: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+0000f290: 3132 3a0d 0a20 2020 2020 2020 2020 2020  12:..           
+0000f2a0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+0000f2b0: 7074 696f 6e28 2742 7573 696e 6573 7320  ption('Business 
+0000f2c0: 7661 6c69 6461 7469 6f6e 2065 7272 6f72  validation error
+0000f2d0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+0000f2e0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+0000f2f0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+0000f300: 7475 735f 636f 6465 203d 3d20 3432 323a  tus_code == 422:
+0000f310: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+0000f320: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+0000f330: 6f6e 2827 436f 6e74 7261 6374 2076 616c  on('Contract val
+0000f340: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
+0000f350: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+0000f360: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+0000f370: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+0000f380: 5f63 6f64 6520 3d3d 2035 3030 3a0d 0a20  _code == 500:.. 
+0000f390: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000f3a0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+0000f3b0: 2749 6e74 6572 6e61 6c20 7365 7276 6572  'Internal server
+0000f3c0: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+0000f3d0: 7429 0d0a 2020 2020 2020 2020 7365 6c66  t)..        self
+0000f3e0: 2e76 616c 6964 6174 655f 7265 7370 6f6e  .validate_respon
+0000f3f0: 7365 285f 636f 6e74 6578 7429 0d0a 0d0a  se(_context)....
+0000f400: 2020 2020 2020 2020 2320 5265 7475 726e          # Return
+0000f410: 2061 7070 726f 7072 6961 7465 2074 7970   appropriate typ
+0000f420: 650d 0a20 2020 2020 2020 2072 6574 7572  e..        retur
+0000f430: 6e20 4150 4948 656c 7065 722e 6a73 6f6e  n APIHelper.json
+0000f440: 5f64 6573 6572 6961 6c69 7a65 285f 636f  _deserialize(_co
+0000f450: 6e74 6578 742e 7265 7370 6f6e 7365 2e72  ntext.response.r
+0000f460: 6177 5f62 6f64 792c 204c 6973 7449 6e63  aw_body, ListInc
+0000f470: 7265 6d65 6e74 7352 6573 706f 6e73 652e  rementsResponse.
+0000f480: 6672 6f6d 5f64 6963 7469 6f6e 6172 7929  from_dictionary)
+0000f490: 0d0a 0d0a 2020 2020 6465 6620 6372 6561  ....    def crea
+0000f4a0: 7465 5f73 7562 7363 7269 7074 696f 6e5f  te_subscription_
+0000f4b0: 6974 656d 2873 656c 662c 0d0a 2020 2020  item(self,..    
+0000f4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f4d0: 2020 2020 2020 2020 2020 2020 2073 7562               sub
+0000f4e0: 7363 7269 7074 696f 6e5f 6964 2c0d 0a20  scription_id,.. 
+0000f4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f510: 626f 6479 2c0d 0a20 2020 2020 2020 2020  body,..         
+0000f520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f530: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
+0000f540: 6e63 795f 6b65 793d 4e6f 6e65 293a 0d0a  ncy_key=None):..
+0000f550: 2020 2020 2020 2020 2222 2244 6f65 7320          """Does 
+0000f560: 6120 504f 5354 2072 6571 7565 7374 2074  a POST request t
+0000f570: 6f20 2f73 7562 7363 7269 7074 696f 6e73  o /subscriptions
+0000f580: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
+0000f590: 647d 2f69 7465 6d73 2e0d 0a0d 0a20 2020  d}/items.....   
+0000f5a0: 2020 2020 2043 7265 6174 6573 2061 206e       Creates a n
+0000f5b0: 6577 2053 7562 7363 7269 7074 696f 6e20  ew Subscription 
+0000f5c0: 6974 656d 0d0a 0d0a 2020 2020 2020 2020  item....        
+0000f5d0: 4172 6773 3a0d 0a20 2020 2020 2020 2020  Args:..         
+0000f5e0: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
+0000f5f0: 6964 2028 7374 7269 6e67 293a 2053 7562  id (string): Sub
+0000f600: 7363 7269 7074 696f 6e20 6964 0d0a 2020  scription id..  
+0000f610: 2020 2020 2020 2020 2020 626f 6479 2028            body (
+0000f620: 5375 6273 6372 6970 7469 6f6e 7349 7465  SubscriptionsIte
+0000f630: 6d73 5265 7175 6573 7431 293a 2052 6571  msRequest1): Req
+0000f640: 7565 7374 2066 6f72 2063 7265 6174 696e  uest for creatin
+0000f650: 6720 610d 0a20 2020 2020 2020 2020 2020  g a..           
+0000f660: 2020 2020 2073 7562 7363 7269 7074 696f       subscriptio
+0000f670: 6e20 6974 656d 0d0a 2020 2020 2020 2020  n item..        
+0000f680: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
+0000f690: 6b65 7920 2873 7472 696e 672c 206f 7074  key (string, opt
+0000f6a0: 696f 6e61 6c29 3a20 544f 444f 3a20 7479  ional): TODO: ty
+0000f6b0: 7065 2064 6573 6372 6970 7469 6f6e 2068  pe description h
+0000f6c0: 6572 652e 0d0a 2020 2020 2020 2020 2020  ere...          
+0000f6d0: 2020 2020 2020 4578 616d 706c 653a 200d        Example: .
+0000f6e0: 0a0d 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+0000f6f0: 6e73 3a0d 0a20 2020 2020 2020 2020 2020  ns:..           
+0000f700: 2047 6574 5375 6273 6372 6970 7469 6f6e   GetSubscription
+0000f710: 4974 656d 5265 7370 6f6e 7365 3a20 5265  ItemResponse: Re
+0000f720: 7370 6f6e 7365 2066 726f 6d20 7468 6520  sponse from the 
+0000f730: 4150 492e 200d 0a0d 0a20 2020 2020 2020  API. ....       
+0000f740: 2052 6169 7365 733a 0d0a 2020 2020 2020   Raises:..      
+0000f750: 2020 2020 2020 4150 4945 7863 6570 7469        APIExcepti
+0000f760: 6f6e 3a20 5768 656e 2061 6e20 6572 726f  on: When an erro
+0000f770: 7220 6f63 6375 7273 2077 6869 6c65 2066  r occurs while f
+0000f780: 6574 6368 696e 6720 7468 6520 6461 7461  etching the data
+0000f790: 2066 726f 6d0d 0a20 2020 2020 2020 2020   from..         
+0000f7a0: 2020 2020 2020 2074 6865 2072 656d 6f74         the remot
+0000f7b0: 6520 4150 492e 2054 6869 7320 6578 6365  e API. This exce
+0000f7c0: 7074 696f 6e20 696e 636c 7564 6573 2074  ption includes t
+0000f7d0: 6865 2048 5454 5020 5265 7370 6f6e 7365  he HTTP Response
+0000f7e0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000f7f0: 2020 636f 6465 2c20 616e 2065 7272 6f72    code, an error
+0000f800: 206d 6573 7361 6765 2c20 616e 6420 7468   message, and th
+0000f810: 6520 4854 5450 2062 6f64 7920 7468 6174  e HTTP body that
+0000f820: 2077 6173 2072 6563 6569 7665 6420 696e   was received in
+0000f830: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0000f840: 2020 7468 6520 7265 7175 6573 742e 0d0a    the request...
+0000f850: 0d0a 2020 2020 2020 2020 2222 220d 0a0d  ..        """...
+0000f860: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
+0000f870: 7265 2071 7565 7279 2055 524c 0d0a 2020  re query URL..  
+0000f880: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
+0000f890: 3d20 272f 7375 6273 6372 6970 7469 6f6e  = '/subscription
+0000f8a0: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
+0000f8b0: 6964 7d2f 6974 656d 7327 0d0a 2020 2020  id}/items'..    
+0000f8c0: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
+0000f8d0: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
+0000f8e0: 5f75 726c 5f77 6974 685f 7465 6d70 6c61  _url_with_templa
+0000f8f0: 7465 5f70 6172 616d 6574 6572 7328 5f75  te_parameters(_u
+0000f900: 726c 5f70 6174 682c 207b 200d 0a20 2020  rl_path, { ..   
+0000f910: 2020 2020 2020 2020 2027 7375 6273 6372           'subscr
+0000f920: 6970 7469 6f6e 5f69 6427 3a20 7375 6273  iption_id': subs
+0000f930: 6372 6970 7469 6f6e 5f69 640d 0a20 2020  cription_id..   
+0000f940: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
+0000f950: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
+0000f960: 3d20 436f 6e66 6967 7572 6174 696f 6e2e  = Configuration.
+0000f970: 6261 7365 5f75 7269 0d0a 2020 2020 2020  base_uri..      
+0000f980: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
+0000f990: 202b 3d20 5f75 726c 5f70 6174 680d 0a20   += _url_path.. 
+0000f9a0: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
+0000f9b0: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
+0000f9c0: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
+0000f9d0: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
+0000f9e0: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
+0000f9f0: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
+0000fa00: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
+0000fa10: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
+0000fa20: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
+0000fa30: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
+0000fa40: 2020 2027 5365 7276 6963 6552 6566 6572     'ServiceRefer
+0000fa50: 6572 4e61 6d65 273a 2043 6f6e 6669 6775  erName': Configu
+0000fa60: 7261 7469 6f6e 2e73 6572 7669 6365 5f72  ration.service_r
+0000fa70: 6566 6572 6572 5f6e 616d 652c 0d0a 2020  eferer_name,..  
+0000fa80: 2020 2020 2020 2020 2020 2743 6f6e 7465            'Conte
+0000fa90: 6e74 2d54 7970 6527 3a20 2761 7070 6c69  nt-Type': 'appli
+0000faa0: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
+0000fab0: 2020 2020 2020 2020 2020 2027 6964 656d             'idem
+0000fac0: 706f 7465 6e63 792d 6b65 7927 3a20 6964  potency-key': id
+0000fad0: 656d 706f 7465 6e63 795f 6b65 790d 0a20  empotency_key.. 
+0000fae0: 2020 2020 2020 207d 0d0a 0d0a 2020 2020         }....    
+0000faf0: 2020 2020 2320 5072 6570 6172 6520 616e      # Prepare an
+0000fb00: 6420 6578 6563 7574 6520 7265 7175 6573  d execute reques
+0000fb10: 740d 0a20 2020 2020 2020 205f 7265 7175  t..        _requ
+0000fb20: 6573 7420 3d20 7365 6c66 2e68 7474 705f  est = self.http_
+0000fb30: 636c 6965 6e74 2e70 6f73 7428 5f71 7565  client.post(_que
+0000fb40: 7279 5f75 726c 2c20 6865 6164 6572 733d  ry_url, headers=
+0000fb50: 5f68 6561 6465 7273 2c20 7061 7261 6d65  _headers, parame
+0000fb60: 7465 7273 3d41 5049 4865 6c70 6572 2e6a  ters=APIHelper.j
+0000fb70: 736f 6e5f 7365 7269 616c 697a 6528 626f  son_serialize(bo
+0000fb80: 6479 2929 0d0a 2020 2020 2020 2020 4261  dy))..        Ba
+0000fb90: 7369 6341 7574 682e 6170 706c 7928 5f72  sicAuth.apply(_r
+0000fba0: 6571 7565 7374 290d 0a20 2020 2020 2020  equest)..       
+0000fbb0: 205f 636f 6e74 6578 7420 3d20 7365 6c66   _context = self
+0000fbc0: 2e65 7865 6375 7465 5f72 6571 7565 7374  .execute_request
+0000fbd0: 285f 7265 7175 6573 7429 0d0a 0d0a 2020  (_request)....  
+0000fbe0: 2020 2020 2020 2320 456e 6470 6f69 6e74        # Endpoint
+0000fbf0: 2061 6e64 2067 6c6f 6261 6c20 6572 726f   and global erro
+0000fc00: 7220 6861 6e64 6c69 6e67 2075 7369 6e67  r handling using
+0000fc10: 2048 5454 5020 7374 6174 7573 2063 6f64   HTTP status cod
+0000fc20: 6573 2e0d 0a20 2020 2020 2020 2069 6620  es...        if 
+0000fc30: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+0000fc40: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+0000fc50: 2034 3030 3a0d 0a20 2020 2020 2020 2020   400:..         
+0000fc60: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+0000fc70: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+0000fc80: 2072 6571 7565 7374 272c 205f 636f 6e74   request', _cont
+0000fc90: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+0000fca0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+0000fcb0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+0000fcc0: 203d 3d20 3430 313a 0d0a 2020 2020 2020   == 401:..      
+0000fcd0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+0000fce0: 7245 7863 6570 7469 6f6e 2827 496e 7661  rException('Inva
+0000fcf0: 6c69 6420 4150 4920 6b65 7927 2c20 5f63  lid API key', _c
+0000fd00: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+0000fd10: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+0000fd20: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+0000fd30: 6f64 6520 3d3d 2034 3034 3a0d 0a20 2020  ode == 404:..   
+0000fd40: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+0000fd50: 7272 6f72 4578 6365 7074 696f 6e28 2741  rrorException('A
+0000fd60: 6e20 696e 666f 726d 6564 2072 6573 6f75  n informed resou
+0000fd70: 7263 6520 7761 7320 6e6f 7420 666f 756e  rce was not foun
+0000fd80: 6427 2c20 5f63 6f6e 7465 7874 290d 0a20  d', _context).. 
+0000fd90: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+0000fda0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+0000fdb0: 6174 7573 5f63 6f64 6520 3d3d 2034 3132  atus_code == 412
+0000fdc0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+0000fdd0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+0000fde0: 696f 6e28 2742 7573 696e 6573 7320 7661  ion('Business va
+0000fdf0: 6c69 6461 7469 6f6e 2065 7272 6f72 272c  lidation error',
+0000fe00: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+0000fe10: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+0000fe20: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+0000fe30: 735f 636f 6465 203d 3d20 3432 323a 0d0a  s_code == 422:..
+0000fe40: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0000fe50: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+0000fe60: 2827 436f 6e74 7261 6374 2076 616c 6964  ('Contract valid
+0000fe70: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+0000fe80: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+0000fe90: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+0000fea0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+0000feb0: 6f64 6520 3d3d 2035 3030 3a0d 0a20 2020  ode == 500:..   
+0000fec0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+0000fed0: 7272 6f72 4578 6365 7074 696f 6e28 2749  rrorException('I
+0000fee0: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
+0000fef0: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
+0000ff00: 0d0a 2020 2020 2020 2020 7365 6c66 2e76  ..        self.v
+0000ff10: 616c 6964 6174 655f 7265 7370 6f6e 7365  alidate_response
+0000ff20: 285f 636f 6e74 6578 7429 0d0a 0d0a 2020  (_context)....  
+0000ff30: 2020 2020 2020 2320 5265 7475 726e 2061        # Return a
+0000ff40: 7070 726f 7072 6961 7465 2074 7970 650d  ppropriate type.
+0000ff50: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0000ff60: 4150 4948 656c 7065 722e 6a73 6f6e 5f64  APIHelper.json_d
+0000ff70: 6573 6572 6961 6c69 7a65 285f 636f 6e74  eserialize(_cont
+0000ff80: 6578 742e 7265 7370 6f6e 7365 2e72 6177  ext.response.raw
+0000ff90: 5f62 6f64 792c 2047 6574 5375 6273 6372  _body, GetSubscr
+0000ffa0: 6970 7469 6f6e 4974 656d 5265 7370 6f6e  iptionItemRespon
+0000ffb0: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
+0000ffc0: 7279 290d 0a0d 0a20 2020 2064 6566 2067  ry)....    def g
+0000ffd0: 6574 5f73 7562 7363 7269 7074 696f 6e5f  et_subscription_
+0000ffe0: 6974 656d 7328 7365 6c66 2c0d 0a20 2020  items(self,..   
+0000fff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010000: 2020 2020 2020 2020 2020 2020 7375 6273              subs
+00010010: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
+00010020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010030: 2020 2020 2020 2020 2020 2020 2070 6167               pag
+00010040: 653d 4e6f 6e65 2c0d 0a20 2020 2020 2020  e=None,..       
+00010050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010060: 2020 2020 2020 2020 7369 7a65 3d4e 6f6e          size=Non
+00010070: 652c 0d0a 2020 2020 2020 2020 2020 2020  e,..            
+00010080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010090: 2020 206e 616d 653d 4e6f 6e65 2c0d 0a20     name=None,.. 
+000100a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000100b0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+000100c0: 6465 3d4e 6f6e 652c 0d0a 2020 2020 2020  de=None,..      
+000100d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000100e0: 2020 2020 2020 2020 2073 7461 7475 733d           status=
+000100f0: 4e6f 6e65 2c0d 0a20 2020 2020 2020 2020  None,..         
+00010100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010110: 2020 2020 2020 6465 7363 7269 7074 696f        descriptio
+00010120: 6e3d 4e6f 6e65 2c0d 0a20 2020 2020 2020  n=None,..       
+00010130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010140: 2020 2020 2020 2020 6372 6561 7465 645f          created_
+00010150: 7369 6e63 653d 4e6f 6e65 2c0d 0a20 2020  since=None,..   
+00010160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010170: 2020 2020 2020 2020 2020 2020 6372 6561              crea
+00010180: 7465 645f 756e 7469 6c3d 4e6f 6e65 293a  ted_until=None):
+00010190: 0d0a 2020 2020 2020 2020 2222 2244 6f65  ..        """Doe
+000101a0: 7320 6120 4745 5420 7265 7175 6573 7420  s a GET request 
+000101b0: 746f 202f 7375 6273 6372 6970 7469 6f6e  to /subscription
+000101c0: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
+000101d0: 6964 7d2f 6974 656d 732e 0d0a 0d0a 2020  id}/items.....  
+000101e0: 2020 2020 2020 4765 7420 5375 6273 6372        Get Subscr
+000101f0: 6970 7469 6f6e 2049 7465 6d73 0d0a 0d0a  iption Items....
+00010200: 2020 2020 2020 2020 4172 6773 3a0d 0a20          Args:.. 
+00010210: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
+00010220: 7269 7074 696f 6e5f 6964 2028 7374 7269  ription_id (stri
+00010230: 6e67 293a 2054 6865 2073 7562 7363 7269  ng): The subscri
+00010240: 7074 696f 6e20 6964 0d0a 2020 2020 2020  ption id..      
+00010250: 2020 2020 2020 7061 6765 2028 696e 742c        page (int,
+00010260: 206f 7074 696f 6e61 6c29 3a20 5061 6765   optional): Page
+00010270: 206e 756d 6265 720d 0a20 2020 2020 2020   number..       
+00010280: 2020 2020 2073 697a 6520 2869 6e74 2c20       size (int, 
+00010290: 6f70 7469 6f6e 616c 293a 2050 6167 6520  optional): Page 
+000102a0: 7369 7a65 0d0a 2020 2020 2020 2020 2020  size..          
+000102b0: 2020 6e61 6d65 2028 7374 7269 6e67 2c20    name (string, 
+000102c0: 6f70 7469 6f6e 616c 293a 2054 6865 2069  optional): The i
+000102d0: 7465 6d20 6e61 6d65 0d0a 2020 2020 2020  tem name..      
+000102e0: 2020 2020 2020 636f 6465 2028 7374 7269        code (stri
+000102f0: 6e67 2c20 6f70 7469 6f6e 616c 293a 2049  ng, optional): I
+00010300: 6465 6e74 6966 6963 6174 696f 6e20 636f  dentification co
+00010310: 6465 2069 6e20 7468 6520 636c 6965 6e74  de in the client
+00010320: 2073 7973 7465 6d0d 0a20 2020 2020 2020   system..       
+00010330: 2020 2020 2073 7461 7475 7320 2873 7472       status (str
+00010340: 696e 672c 206f 7074 696f 6e61 6c29 3a20  ing, optional): 
+00010350: 5468 6520 6974 656d 2073 7461 7469 730d  The item statis.
+00010360: 0a20 2020 2020 2020 2020 2020 2064 6573  .            des
+00010370: 6372 6970 7469 6f6e 2028 7374 7269 6e67  cription (string
+00010380: 2c20 6f70 7469 6f6e 616c 293a 2054 6865  , optional): The
+00010390: 2069 7465 6d20 6465 7363 7269 7074 696f   item descriptio
+000103a0: 6e0d 0a20 2020 2020 2020 2020 2020 2063  n..            c
+000103b0: 7265 6174 6564 5f73 696e 6365 2028 7374  reated_since (st
+000103c0: 7269 6e67 2c20 6f70 7469 6f6e 616c 293a  ring, optional):
+000103d0: 2046 696c 7465 7220 666f 7220 6974 656d   Filter for item
+000103e0: 2773 2063 7265 6174 696f 6e20 6461 7465  's creation date
+000103f0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00010400: 2020 7374 6172 7420 7261 6e67 650d 0a20    start range.. 
+00010410: 2020 2020 2020 2020 2020 2063 7265 6174             creat
+00010420: 6564 5f75 6e74 696c 2028 7374 7269 6e67  ed_until (string
+00010430: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+00010440: 7465 7220 666f 7220 6974 656d 2773 2063  ter for item's c
+00010450: 7265 6174 696f 6e20 6461 7465 0d0a 2020  reation date..  
+00010460: 2020 2020 2020 2020 2020 2020 2020 656e                en
+00010470: 6420 7261 6e67 650d 0a0d 0a20 2020 2020  d range....     
+00010480: 2020 2052 6574 7572 6e73 3a0d 0a20 2020     Returns:..   
+00010490: 2020 2020 2020 2020 2053 7562 7363 7269           Subscri
+000104a0: 7074 696f 6e73 4974 656d 7352 6573 706f  ptionsItemsRespo
+000104b0: 6e73 6533 3a20 5265 7370 6f6e 7365 2066  nse3: Response f
+000104c0: 726f 6d20 7468 6520 4150 492e 200d 0a0d  rom the API. ...
+000104d0: 0a20 2020 2020 2020 2052 6169 7365 733a  .        Raises:
+000104e0: 0d0a 2020 2020 2020 2020 2020 2020 4150  ..            AP
+000104f0: 4945 7863 6570 7469 6f6e 3a20 5768 656e  IException: When
+00010500: 2061 6e20 6572 726f 7220 6f63 6375 7273   an error occurs
+00010510: 2077 6869 6c65 2066 6574 6368 696e 6720   while fetching 
+00010520: 7468 6520 6461 7461 2066 726f 6d0d 0a20  the data from.. 
+00010530: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00010540: 6865 2072 656d 6f74 6520 4150 492e 2054  he remote API. T
+00010550: 6869 7320 6578 6365 7074 696f 6e20 696e  his exception in
+00010560: 636c 7564 6573 2074 6865 2048 5454 5020  cludes the HTTP 
+00010570: 5265 7370 6f6e 7365 0d0a 2020 2020 2020  Response..      
+00010580: 2020 2020 2020 2020 2020 636f 6465 2c20            code, 
+00010590: 616e 2065 7272 6f72 206d 6573 7361 6765  an error message
+000105a0: 2c20 616e 6420 7468 6520 4854 5450 2062  , and the HTTP b
+000105b0: 6f64 7920 7468 6174 2077 6173 2072 6563  ody that was rec
+000105c0: 6569 7665 6420 696e 0d0a 2020 2020 2020  eived in..      
+000105d0: 2020 2020 2020 2020 2020 7468 6520 7265            the re
+000105e0: 7175 6573 742e 0d0a 0d0a 2020 2020 2020  quest.....      
+000105f0: 2020 2222 220d 0a0d 0a20 2020 2020 2020    """....       
+00010600: 2023 2050 7265 7061 7265 2071 7565 7279   # Prepare query
+00010610: 2055 524c 0d0a 2020 2020 2020 2020 5f75   URL..        _u
+00010620: 726c 5f70 6174 6820 3d20 272f 7375 6273  rl_path = '/subs
+00010630: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
+00010640: 7269 7074 696f 6e5f 6964 7d2f 6974 656d  ription_id}/item
+00010650: 7327 0d0a 2020 2020 2020 2020 5f75 726c  s'..        _url
+00010660: 5f70 6174 6820 3d20 4150 4948 656c 7065  _path = APIHelpe
+00010670: 722e 6170 7065 6e64 5f75 726c 5f77 6974  r.append_url_wit
+00010680: 685f 7465 6d70 6c61 7465 5f70 6172 616d  h_template_param
+00010690: 6574 6572 7328 5f75 726c 5f70 6174 682c  eters(_url_path,
+000106a0: 207b 200d 0a20 2020 2020 2020 2020 2020   { ..           
+000106b0: 2027 7375 6273 6372 6970 7469 6f6e 5f69   'subscription_i
+000106c0: 6427 3a20 7375 6273 6372 6970 7469 6f6e  d': subscription
+000106d0: 5f69 640d 0a20 2020 2020 2020 207d 290d  _id..        }).
+000106e0: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+000106f0: 6275 696c 6465 7220 3d20 436f 6e66 6967  builder = Config
+00010700: 7572 6174 696f 6e2e 6261 7365 5f75 7269  uration.base_uri
+00010710: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+00010720: 5f62 7569 6c64 6572 202b 3d20 5f75 726c  _builder += _url
+00010730: 5f70 6174 680d 0a20 2020 2020 2020 205f  _path..        _
+00010740: 7175 6572 795f 7061 7261 6d65 7465 7273  query_parameters
+00010750: 203d 207b 0d0a 2020 2020 2020 2020 2020   = {..          
+00010760: 2020 2770 6167 6527 3a20 7061 6765 2c0d    'page': page,.
+00010770: 0a20 2020 2020 2020 2020 2020 2027 7369  .            'si
+00010780: 7a65 273a 2073 697a 652c 0d0a 2020 2020  ze': size,..    
+00010790: 2020 2020 2020 2020 276e 616d 6527 3a20          'name': 
+000107a0: 6e61 6d65 2c0d 0a20 2020 2020 2020 2020  name,..         
+000107b0: 2020 2027 636f 6465 273a 2063 6f64 652c     'code': code,
+000107c0: 0d0a 2020 2020 2020 2020 2020 2020 2773  ..            's
+000107d0: 7461 7475 7327 3a20 7374 6174 7573 2c0d  tatus': status,.
+000107e0: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
+000107f0: 7363 7269 7074 696f 6e27 3a20 6465 7363  scription': desc
+00010800: 7269 7074 696f 6e2c 0d0a 2020 2020 2020  ription,..      
+00010810: 2020 2020 2020 2763 7265 6174 6564 5f73        'created_s
+00010820: 696e 6365 273a 2063 7265 6174 6564 5f73  ince': created_s
+00010830: 696e 6365 2c0d 0a20 2020 2020 2020 2020  ince,..         
+00010840: 2020 2027 6372 6561 7465 645f 756e 7469     'created_unti
+00010850: 6c27 3a20 6372 6561 7465 645f 756e 7469  l': created_unti
+00010860: 6c0d 0a20 2020 2020 2020 207d 0d0a 2020  l..        }..  
+00010870: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
+00010880: 6c64 6572 203d 2041 5049 4865 6c70 6572  lder = APIHelper
+00010890: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
+000108a0: 5f71 7565 7279 5f70 6172 616d 6574 6572  _query_parameter
+000108b0: 7328 5f71 7565 7279 5f62 7569 6c64 6572  s(_query_builder
+000108c0: 2c0d 0a20 2020 2020 2020 2020 2020 205f  ,..            _
+000108d0: 7175 6572 795f 7061 7261 6d65 7465 7273  query_parameters
+000108e0: 2c20 436f 6e66 6967 7572 6174 696f 6e2e  , Configuration.
+000108f0: 6172 7261 795f 7365 7269 616c 697a 6174  array_serializat
+00010900: 696f 6e29 0d0a 2020 2020 2020 2020 5f71  ion)..        _q
+00010910: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
+00010920: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
+00010930: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
+00010940: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+00010950: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
+00010960: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
+00010970: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
+00010980: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
+00010990: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
+000109a0: 2020 2020 2020 2020 2020 2753 6572 7669            'Servi
+000109b0: 6365 5265 6665 7265 724e 616d 6527 3a20  ceRefererName': 
+000109c0: 436f 6e66 6967 7572 6174 696f 6e2e 7365  Configuration.se
+000109d0: 7276 6963 655f 7265 6665 7265 725f 6e61  rvice_referer_na
+000109e0: 6d65 0d0a 2020 2020 2020 2020 7d0d 0a0d  me..        }...
+000109f0: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
+00010a00: 7265 2061 6e64 2065 7865 6375 7465 2072  re and execute r
+00010a10: 6571 7565 7374 0d0a 2020 2020 2020 2020  equest..        
+00010a20: 5f72 6571 7565 7374 203d 2073 656c 662e  _request = self.
+00010a30: 6874 7470 5f63 6c69 656e 742e 6765 7428  http_client.get(
+00010a40: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
+00010a50: 6572 733d 5f68 6561 6465 7273 290d 0a20  ers=_headers).. 
+00010a60: 2020 2020 2020 2042 6173 6963 4175 7468         BasicAuth
+00010a70: 2e61 7070 6c79 285f 7265 7175 6573 7429  .apply(_request)
+00010a80: 0d0a 2020 2020 2020 2020 5f63 6f6e 7465  ..        _conte
+00010a90: 7874 203d 2073 656c 662e 6578 6563 7574  xt = self.execut
+00010aa0: 655f 7265 7175 6573 7428 5f72 6571 7565  e_request(_reque
+00010ab0: 7374 290d 0a0d 0a20 2020 2020 2020 2023  st)....        #
+00010ac0: 2045 6e64 706f 696e 7420 616e 6420 676c   Endpoint and gl
+00010ad0: 6f62 616c 2065 7272 6f72 2068 616e 646c  obal error handl
+00010ae0: 696e 6720 7573 696e 6720 4854 5450 2073  ing using HTTP s
+00010af0: 7461 7475 7320 636f 6465 732e 0d0a 2020  tatus codes...  
+00010b00: 2020 2020 2020 6966 205f 636f 6e74 6578        if _contex
+00010b10: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00010b20: 735f 636f 6465 203d 3d20 3430 303a 0d0a  s_code == 400:..
+00010b30: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00010b40: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00010b50: 2827 496e 7661 6c69 6420 7265 7175 6573  ('Invalid reques
+00010b60: 7427 2c20 5f63 6f6e 7465 7874 290d 0a20  t', _context).. 
+00010b70: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+00010b80: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+00010b90: 6174 7573 5f63 6f64 6520 3d3d 2034 3031  atus_code == 401
+00010ba0: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00010bb0: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+00010bc0: 696f 6e28 2749 6e76 616c 6964 2041 5049  ion('Invalid API
+00010bd0: 206b 6579 272c 205f 636f 6e74 6578 7429   key', _context)
+00010be0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+00010bf0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00010c00: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00010c10: 3430 343a 0d0a 2020 2020 2020 2020 2020  404:..          
+00010c20: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00010c30: 6570 7469 6f6e 2827 416e 2069 6e66 6f72  eption('An infor
+00010c40: 6d65 6420 7265 736f 7572 6365 2077 6173  med resource was
+00010c50: 206e 6f74 2066 6f75 6e64 272c 205f 636f   not found', _co
+00010c60: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00010c70: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+00010c80: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00010c90: 6465 203d 3d20 3431 323a 0d0a 2020 2020  de == 412:..    
+00010ca0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00010cb0: 726f 7245 7863 6570 7469 6f6e 2827 4275  rorException('Bu
+00010cc0: 7369 6e65 7373 2076 616c 6964 6174 696f  siness validatio
+00010cd0: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
+00010ce0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+00010cf0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00010d00: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00010d10: 3d3d 2034 3232 3a0d 0a20 2020 2020 2020  == 422:..       
+00010d20: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00010d30: 4578 6365 7074 696f 6e28 2743 6f6e 7472  Exception('Contr
+00010d40: 6163 7420 7661 6c69 6461 7469 6f6e 2065  act validation e
+00010d50: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
+00010d60: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+00010d70: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00010d80: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00010d90: 3530 303a 0d0a 2020 2020 2020 2020 2020  500:..          
+00010da0: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00010db0: 6570 7469 6f6e 2827 496e 7465 726e 616c  eption('Internal
+00010dc0: 2073 6572 7665 7220 6572 726f 7227 2c20   server error', 
+00010dd0: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00010de0: 2020 2073 656c 662e 7661 6c69 6461 7465     self.validate
+00010df0: 5f72 6573 706f 6e73 6528 5f63 6f6e 7465  _response(_conte
+00010e00: 7874 290d 0a0d 0a20 2020 2020 2020 2023  xt)....        #
+00010e10: 2052 6574 7572 6e20 6170 7072 6f70 7269   Return appropri
+00010e20: 6174 6520 7479 7065 0d0a 2020 2020 2020  ate type..      
+00010e30: 2020 7265 7475 726e 2041 5049 4865 6c70    return APIHelp
+00010e40: 6572 2e6a 736f 6e5f 6465 7365 7269 616c  er.json_deserial
+00010e50: 697a 6528 5f63 6f6e 7465 7874 2e72 6573  ize(_context.res
+00010e60: 706f 6e73 652e 7261 775f 626f 6479 2c20  ponse.raw_body, 
+00010e70: 5375 6273 6372 6970 7469 6f6e 7349 7465  SubscriptionsIte
+00010e80: 6d73 5265 7370 6f6e 7365 332e 6672 6f6d  msResponse3.from
+00010e90: 5f64 6963 7469 6f6e 6172 7929 0d0a 0d0a  _dictionary)....
+00010ea0: 2020 2020 6465 6620 7570 6461 7465 5f73      def update_s
+00010eb0: 7562 7363 7269 7074 696f 6e5f 6269 6c6c  ubscription_bill
+00010ec0: 696e 675f 6461 7465 2873 656c 662c 0d0a  ing_date(self,..
+00010ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010ef0: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
+00010f00: 7074 696f 6e5f 6964 2c0d 0a20 2020 2020  ption_id,..     
+00010f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010f30: 2020 2020 626f 6479 2c0d 0a20 2020 2020      body,..     
+00010f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010f60: 2020 2020 6964 656d 706f 7465 6e63 795f      idempotency_
+00010f70: 6b65 793d 4e6f 6e65 293a 0d0a 2020 2020  key=None):..    
+00010f80: 2020 2020 2222 2244 6f65 7320 6120 5041      """Does a PA
+00010f90: 5443 4820 7265 7175 6573 7420 746f 202f  TCH request to /
+00010fa0: 7375 6273 6372 6970 7469 6f6e 732f 7b73  subscriptions/{s
+00010fb0: 7562 7363 7269 7074 696f 6e5f 6964 7d2f  ubscription_id}/
+00010fc0: 6269 6c6c 696e 672d 6461 7465 2e0d 0a0d  billing-date....
+00010fd0: 0a20 2020 2020 2020 2055 7064 6174 6573  .        Updates
+00010fe0: 2074 6865 2062 696c 6c69 6e67 2064 6174   the billing dat
+00010ff0: 6520 6672 6f6d 2061 2073 7562 7363 7269  e from a subscri
+00011000: 7074 696f 6e0d 0a0d 0a20 2020 2020 2020  ption....       
+00011010: 2041 7267 733a 0d0a 2020 2020 2020 2020   Args:..        
+00011020: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
+00011030: 5f69 6420 2873 7472 696e 6729 3a20 5468  _id (string): Th
+00011040: 6520 7375 6273 6372 6970 7469 6f6e 2069  e subscription i
+00011050: 640d 0a20 2020 2020 2020 2020 2020 2062  d..            b
+00011060: 6f64 7920 2853 7562 7363 7269 7074 696f  ody (Subscriptio
+00011070: 6e73 4269 6c6c 696e 6744 6174 6552 6571  nsBillingDateReq
+00011080: 7565 7374 293a 2052 6571 7565 7374 2066  uest): Request f
+00011090: 6f72 2075 7064 6174 696e 6720 7468 650d  or updating the.
+000110a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000110b0: 2073 7562 7363 7269 7074 696f 6e20 6269   subscription bi
+000110c0: 6c6c 696e 6720 6461 7465 0d0a 2020 2020  lling date..    
+000110d0: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
+000110e0: 6e63 795f 6b65 7920 2873 7472 696e 672c  ncy_key (string,
+000110f0: 206f 7074 696f 6e61 6c29 3a20 544f 444f   optional): TODO
+00011100: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
+00011110: 6f6e 2068 6572 652e 0d0a 2020 2020 2020  on here...      
+00011120: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
+00011130: 653a 200d 0a0d 0a20 2020 2020 2020 2052  e: ....        R
+00011140: 6574 7572 6e73 3a0d 0a20 2020 2020 2020  eturns:..       
+00011150: 2020 2020 2047 6574 5375 6273 6372 6970       GetSubscrip
+00011160: 7469 6f6e 5265 7370 6f6e 7365 3a20 5265  tionResponse: Re
+00011170: 7370 6f6e 7365 2066 726f 6d20 7468 6520  sponse from the 
+00011180: 4150 492e 200d 0a0d 0a20 2020 2020 2020  API. ....       
+00011190: 2052 6169 7365 733a 0d0a 2020 2020 2020   Raises:..      
+000111a0: 2020 2020 2020 4150 4945 7863 6570 7469        APIExcepti
+000111b0: 6f6e 3a20 5768 656e 2061 6e20 6572 726f  on: When an erro
+000111c0: 7220 6f63 6375 7273 2077 6869 6c65 2066  r occurs while f
+000111d0: 6574 6368 696e 6720 7468 6520 6461 7461  etching the data
+000111e0: 2066 726f 6d0d 0a20 2020 2020 2020 2020   from..         
+000111f0: 2020 2020 2020 2074 6865 2072 656d 6f74         the remot
+00011200: 6520 4150 492e 2054 6869 7320 6578 6365  e API. This exce
+00011210: 7074 696f 6e20 696e 636c 7564 6573 2074  ption includes t
+00011220: 6865 2048 5454 5020 5265 7370 6f6e 7365  he HTTP Response
+00011230: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00011240: 2020 636f 6465 2c20 616e 2065 7272 6f72    code, an error
+00011250: 206d 6573 7361 6765 2c20 616e 6420 7468   message, and th
+00011260: 6520 4854 5450 2062 6f64 7920 7468 6174  e HTTP body that
+00011270: 2077 6173 2072 6563 6569 7665 6420 696e   was received in
+00011280: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00011290: 2020 7468 6520 7265 7175 6573 742e 0d0a    the request...
+000112a0: 0d0a 2020 2020 2020 2020 2222 220d 0a0d  ..        """...
+000112b0: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
+000112c0: 7265 2071 7565 7279 2055 524c 0d0a 2020  re query URL..  
+000112d0: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
+000112e0: 3d20 272f 7375 6273 6372 6970 7469 6f6e  = '/subscription
+000112f0: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
+00011300: 6964 7d2f 6269 6c6c 696e 672d 6461 7465  id}/billing-date
+00011310: 270d 0a20 2020 2020 2020 205f 7572 6c5f  '..        _url_
+00011320: 7061 7468 203d 2041 5049 4865 6c70 6572  path = APIHelper
+00011330: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
+00011340: 5f74 656d 706c 6174 655f 7061 7261 6d65  _template_parame
+00011350: 7465 7273 285f 7572 6c5f 7061 7468 2c20  ters(_url_path, 
+00011360: 7b20 0d0a 2020 2020 2020 2020 2020 2020  { ..            
+00011370: 2773 7562 7363 7269 7074 696f 6e5f 6964  'subscription_id
+00011380: 273a 2073 7562 7363 7269 7074 696f 6e5f  ': subscription_
+00011390: 6964 0d0a 2020 2020 2020 2020 7d29 0d0a  id..        })..
+000113a0: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
+000113b0: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
+000113c0: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
+000113d0: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+000113e0: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
+000113f0: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
+00011400: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
+00011410: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
+00011420: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
+00011430: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+00011440: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
+00011450: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
+00011460: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
+00011470: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
+00011480: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
+00011490: 2020 2020 2020 2020 2020 2753 6572 7669            'Servi
+000114a0: 6365 5265 6665 7265 724e 616d 6527 3a20  ceRefererName': 
+000114b0: 436f 6e66 6967 7572 6174 696f 6e2e 7365  Configuration.se
+000114c0: 7276 6963 655f 7265 6665 7265 725f 6e61  rvice_referer_na
+000114d0: 6d65 2c0d 0a20 2020 2020 2020 2020 2020  me,..           
+000114e0: 2027 436f 6e74 656e 742d 5479 7065 273a   'Content-Type':
+000114f0: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
+00011500: 6f6e 272c 0d0a 2020 2020 2020 2020 2020  on',..          
+00011510: 2020 2769 6465 6d70 6f74 656e 6379 2d6b    'idempotency-k
+00011520: 6579 273a 2069 6465 6d70 6f74 656e 6379  ey': idempotency
+00011530: 5f6b 6579 0d0a 2020 2020 2020 2020 7d0d  _key..        }.
+00011540: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+00011550: 7061 7265 2061 6e64 2065 7865 6375 7465  pare and execute
+00011560: 2072 6571 7565 7374 0d0a 2020 2020 2020   request..      
+00011570: 2020 5f72 6571 7565 7374 203d 2073 656c    _request = sel
+00011580: 662e 6874 7470 5f63 6c69 656e 742e 7061  f.http_client.pa
+00011590: 7463 6828 5f71 7565 7279 5f75 726c 2c20  tch(_query_url, 
+000115a0: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
+000115b0: 2c20 7061 7261 6d65 7465 7273 3d41 5049  , parameters=API
+000115c0: 4865 6c70 6572 2e6a 736f 6e5f 7365 7269  Helper.json_seri
+000115d0: 616c 697a 6528 626f 6479 2929 0d0a 2020  alize(body))..  
+000115e0: 2020 2020 2020 4261 7369 6341 7574 682e        BasicAuth.
+000115f0: 6170 706c 7928 5f72 6571 7565 7374 290d  apply(_request).
+00011600: 0a20 2020 2020 2020 205f 636f 6e74 6578  .        _contex
+00011610: 7420 3d20 7365 6c66 2e65 7865 6375 7465  t = self.execute
+00011620: 5f72 6571 7565 7374 285f 7265 7175 6573  _request(_reques
+00011630: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
+00011640: 456e 6470 6f69 6e74 2061 6e64 2067 6c6f  Endpoint and glo
+00011650: 6261 6c20 6572 726f 7220 6861 6e64 6c69  bal error handli
+00011660: 6e67 2075 7369 6e67 2048 5454 5020 7374  ng using HTTP st
+00011670: 6174 7573 2063 6f64 6573 2e0d 0a20 2020  atus codes...   
+00011680: 2020 2020 2069 6620 5f63 6f6e 7465 7874       if _context
+00011690: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+000116a0: 5f63 6f64 6520 3d3d 2034 3030 3a0d 0a20  _code == 400:.. 
+000116b0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+000116c0: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+000116d0: 2749 6e76 616c 6964 2072 6571 7565 7374  'Invalid request
+000116e0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+000116f0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+00011700: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+00011710: 7475 735f 636f 6465 203d 3d20 3430 313a  tus_code == 401:
+00011720: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+00011730: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+00011740: 6f6e 2827 496e 7661 6c69 6420 4150 4920  on('Invalid API 
+00011750: 6b65 7927 2c20 5f63 6f6e 7465 7874 290d  key', _context).
+00011760: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00011770: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00011780: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00011790: 3034 3a0d 0a20 2020 2020 2020 2020 2020  04:..           
+000117a0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+000117b0: 7074 696f 6e28 2741 6e20 696e 666f 726d  ption('An inform
+000117c0: 6564 2072 6573 6f75 7263 6520 7761 7320  ed resource was 
+000117d0: 6e6f 7420 666f 756e 6427 2c20 5f63 6f6e  not found', _con
+000117e0: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+000117f0: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+00011800: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00011810: 6520 3d3d 2034 3132 3a0d 0a20 2020 2020  e == 412:..     
+00011820: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00011830: 6f72 4578 6365 7074 696f 6e28 2742 7573  orException('Bus
+00011840: 696e 6573 7320 7661 6c69 6461 7469 6f6e  iness validation
+00011850: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+00011860: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+00011870: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+00011880: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00011890: 3d20 3432 323a 0d0a 2020 2020 2020 2020  = 422:..        
+000118a0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+000118b0: 7863 6570 7469 6f6e 2827 436f 6e74 7261  xception('Contra
+000118c0: 6374 2076 616c 6964 6174 696f 6e20 6572  ct validation er
+000118d0: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
+000118e0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+000118f0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00011900: 7374 6174 7573 5f63 6f64 6520 3d3d 2035  status_code == 5
+00011910: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
+00011920: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+00011930: 7074 696f 6e28 2749 6e74 6572 6e61 6c20  ption('Internal 
+00011940: 7365 7276 6572 2065 7272 6f72 272c 205f  server error', _
+00011950: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00011960: 2020 7365 6c66 2e76 616c 6964 6174 655f    self.validate_
+00011970: 7265 7370 6f6e 7365 285f 636f 6e74 6578  response(_contex
+00011980: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
+00011990: 5265 7475 726e 2061 7070 726f 7072 6961  Return appropria
+000119a0: 7465 2074 7970 650d 0a20 2020 2020 2020  te type..       
+000119b0: 2072 6574 7572 6e20 4150 4948 656c 7065   return APIHelpe
+000119c0: 722e 6a73 6f6e 5f64 6573 6572 6961 6c69  r.json_deseriali
+000119d0: 7a65 285f 636f 6e74 6578 742e 7265 7370  ze(_context.resp
+000119e0: 6f6e 7365 2e72 6177 5f62 6f64 792c 2047  onse.raw_body, G
+000119f0: 6574 5375 6273 6372 6970 7469 6f6e 5265  etSubscriptionRe
+00011a00: 7370 6f6e 7365 2e66 726f 6d5f 6469 6374  sponse.from_dict
+00011a10: 696f 6e61 7279 290d 0a0d 0a20 2020 2064  ionary)....    d
+00011a20: 6566 2075 7064 6174 655f 6c61 7465 7374  ef update_latest
+00011a30: 5f70 6572 696f 645f 656e 645f 6174 2873  _period_end_at(s
+00011a40: 656c 662c 0d0a 2020 2020 2020 2020 2020  elf,..          
+00011a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011a60: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
+00011a70: 6970 7469 6f6e 5f69 642c 0d0a 2020 2020  iption_id,..    
+00011a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011aa0: 626f 6479 2c0d 0a20 2020 2020 2020 2020  body,..         
+00011ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011ac0: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
+00011ad0: 6f74 656e 6379 5f6b 6579 3d4e 6f6e 6529  otency_key=None)
+00011ae0: 3a0d 0a20 2020 2020 2020 2022 2222 446f  :..        """Do
+00011af0: 6573 2061 2050 4154 4348 2072 6571 7565  es a PATCH reque
+00011b00: 7374 2074 6f20 2f73 7562 7363 7269 7074  st to /subscript
+00011b10: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
+00011b20: 6f6e 5f69 647d 2f70 6572 696f 6473 2f6c  on_id}/periods/l
+00011b30: 6174 6573 742f 656e 642d 6174 2e0d 0a0d  atest/end-at....
+00011b40: 0a20 2020 2020 2020 2055 7064 6174 654c  .        UpdateL
+00011b50: 6174 6573 7450 6572 696f 6445 6e64 4174  atestPeriodEndAt
+00011b60: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
+00011b70: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
+00011b80: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
+00011b90: 7374 7269 6e67 293a 2054 4f44 4f3a 2074  string): TODO: t
+00011ba0: 7970 6520 6465 7363 7269 7074 696f 6e20  ype description 
+00011bb0: 6865 7265 2e20 4578 616d 706c 653a 200d  here. Example: .
+00011bc0: 0a20 2020 2020 2020 2020 2020 2062 6f64  .            bod
+00011bd0: 7920 2853 7562 7363 7269 7074 696f 6e73  y (Subscriptions
+00011be0: 5065 7269 6f64 734c 6174 6573 7445 6e64  PeriodsLatestEnd
+00011bf0: 4174 5265 7175 6573 7429 3a20 5265 7175  AtRequest): Requ
+00011c00: 6573 7420 666f 720d 0a20 2020 2020 2020  est for..       
+00011c10: 2020 2020 2020 2020 2075 7064 6174 696e           updatin
+00011c20: 6720 7468 6520 656e 6420 6461 7465 206f  g the end date o
+00011c30: 6620 7468 6520 6375 7272 656e 7420 7369  f the current si
+00011c40: 676e 6174 7572 6520 6379 636c 650d 0a20  gnature cycle.. 
+00011c50: 2020 2020 2020 2020 2020 2069 6465 6d70             idemp
+00011c60: 6f74 656e 6379 5f6b 6579 2028 7374 7269  otency_key (stri
+00011c70: 6e67 2c20 6f70 7469 6f6e 616c 293a 2054  ng, optional): T
+00011c80: 4f44 4f3a 2074 7970 6520 6465 7363 7269  ODO: type descri
+00011c90: 7074 696f 6e20 6865 7265 2e0d 0a20 2020  ption here...   
+00011ca0: 2020 2020 2020 2020 2020 2020 2045 7861               Exa
+00011cb0: 6d70 6c65 3a20 0d0a 0d0a 2020 2020 2020  mple: ....      
+00011cc0: 2020 5265 7475 726e 733a 0d0a 2020 2020    Returns:..    
+00011cd0: 2020 2020 2020 2020 4765 7453 7562 7363          GetSubsc
+00011ce0: 7269 7074 696f 6e52 6573 706f 6e73 653a  riptionResponse:
+00011cf0: 2052 6573 706f 6e73 6520 6672 6f6d 2074   Response from t
+00011d00: 6865 2041 5049 2e20 0d0a 0d0a 2020 2020  he API. ....    
+00011d10: 2020 2020 5261 6973 6573 3a0d 0a20 2020      Raises:..   
+00011d20: 2020 2020 2020 2020 2041 5049 4578 6365           APIExce
+00011d30: 7074 696f 6e3a 2057 6865 6e20 616e 2065  ption: When an e
+00011d40: 7272 6f72 206f 6363 7572 7320 7768 696c  rror occurs whil
+00011d50: 6520 6665 7463 6869 6e67 2074 6865 2064  e fetching the d
+00011d60: 6174 6120 6672 6f6d 0d0a 2020 2020 2020  ata from..      
+00011d70: 2020 2020 2020 2020 2020 7468 6520 7265            the re
+00011d80: 6d6f 7465 2041 5049 2e20 5468 6973 2065  mote API. This e
+00011d90: 7863 6570 7469 6f6e 2069 6e63 6c75 6465  xception include
+00011da0: 7320 7468 6520 4854 5450 2052 6573 706f  s the HTTP Respo
+00011db0: 6e73 650d 0a20 2020 2020 2020 2020 2020  nse..           
+00011dc0: 2020 2020 2063 6f64 652c 2061 6e20 6572       code, an er
+00011dd0: 726f 7220 6d65 7373 6167 652c 2061 6e64  ror message, and
+00011de0: 2074 6865 2048 5454 5020 626f 6479 2074   the HTTP body t
+00011df0: 6861 7420 7761 7320 7265 6365 6976 6564  hat was received
+00011e00: 2069 6e0d 0a20 2020 2020 2020 2020 2020   in..           
+00011e10: 2020 2020 2074 6865 2072 6571 7565 7374       the request
+00011e20: 2e0d 0a0d 0a20 2020 2020 2020 2022 2222  .....        """
+00011e30: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
+00011e40: 6570 6172 6520 7175 6572 7920 5552 4c0d  epare query URL.
+00011e50: 0a20 2020 2020 2020 205f 7572 6c5f 7061  .        _url_pa
+00011e60: 7468 203d 2027 2f73 7562 7363 7269 7074  th = '/subscript
+00011e70: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
+00011e80: 6f6e 5f69 647d 2f70 6572 696f 6473 2f6c  on_id}/periods/l
+00011e90: 6174 6573 742f 656e 642d 6174 270d 0a20  atest/end-at'.. 
+00011ea0: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
+00011eb0: 203d 2041 5049 4865 6c70 6572 2e61 7070   = APIHelper.app
+00011ec0: 656e 645f 7572 6c5f 7769 7468 5f74 656d  end_url_with_tem
+00011ed0: 706c 6174 655f 7061 7261 6d65 7465 7273  plate_parameters
+00011ee0: 285f 7572 6c5f 7061 7468 2c20 7b20 0d0a  (_url_path, { ..
+00011ef0: 2020 2020 2020 2020 2020 2020 2773 7562              'sub
+00011f00: 7363 7269 7074 696f 6e5f 6964 273a 2073  scription_id': s
+00011f10: 7562 7363 7269 7074 696f 6e5f 6964 0d0a  ubscription_id..
+00011f20: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
+00011f30: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
+00011f40: 6572 203d 2043 6f6e 6669 6775 7261 7469  er = Configurati
+00011f50: 6f6e 2e62 6173 655f 7572 690d 0a20 2020  on.base_uri..   
+00011f60: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
+00011f70: 6465 7220 2b3d 205f 7572 6c5f 7061 7468  der += _url_path
+00011f80: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+00011f90: 5f75 726c 203d 2041 5049 4865 6c70 6572  _url = APIHelper
+00011fa0: 2e63 6c65 616e 5f75 726c 285f 7175 6572  .clean_url(_quer
+00011fb0: 795f 6275 696c 6465 7229 0d0a 0d0a 2020  y_builder)....  
+00011fc0: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+00011fd0: 6865 6164 6572 730d 0a20 2020 2020 2020  headers..       
+00011fe0: 205f 6865 6164 6572 7320 3d20 7b0d 0a20   _headers = {.. 
+00011ff0: 2020 2020 2020 2020 2020 2027 6163 6365             'acce
+00012000: 7074 273a 2027 6170 706c 6963 6174 696f  pt': 'applicatio
+00012010: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
+00012020: 2020 2020 2020 2753 6572 7669 6365 5265        'ServiceRe
+00012030: 6665 7265 724e 616d 6527 3a20 436f 6e66  fererName': Conf
+00012040: 6967 7572 6174 696f 6e2e 7365 7276 6963  iguration.servic
+00012050: 655f 7265 6665 7265 725f 6e61 6d65 2c0d  e_referer_name,.
+00012060: 0a20 2020 2020 2020 2020 2020 2027 436f  .            'Co
+00012070: 6e74 656e 742d 5479 7065 273a 2027 6170  ntent-Type': 'ap
+00012080: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
+00012090: 0d0a 2020 2020 2020 2020 2020 2020 2769  ..            'i
+000120a0: 6465 6d70 6f74 656e 6379 2d6b 6579 273a  dempotency-key':
+000120b0: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
+000120c0: 0d0a 2020 2020 2020 2020 7d0d 0a0d 0a20  ..        }.... 
+000120d0: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
+000120e0: 2061 6e64 2065 7865 6375 7465 2072 6571   and execute req
+000120f0: 7565 7374 0d0a 2020 2020 2020 2020 5f72  uest..        _r
+00012100: 6571 7565 7374 203d 2073 656c 662e 6874  equest = self.ht
+00012110: 7470 5f63 6c69 656e 742e 7061 7463 6828  tp_client.patch(
+00012120: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
+00012130: 6572 733d 5f68 6561 6465 7273 2c20 7061  ers=_headers, pa
+00012140: 7261 6d65 7465 7273 3d41 5049 4865 6c70  rameters=APIHelp
+00012150: 6572 2e6a 736f 6e5f 7365 7269 616c 697a  er.json_serializ
+00012160: 6528 626f 6479 2929 0d0a 2020 2020 2020  e(body))..      
+00012170: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
+00012180: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
+00012190: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
+000121a0: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
+000121b0: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
+000121c0: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
+000121d0: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
+000121e0: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
+000121f0: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
+00012200: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
+00012210: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
+00012220: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00012230: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
+00012240: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00012250: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
+00012260: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
+00012270: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00012280: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00012290: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+000122a0: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
+000122b0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+000122c0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+000122d0: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
+000122e0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+000122f0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00012300: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00012310: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
+00012320: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00012330: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00012340: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
+00012350: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
+00012360: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
+00012370: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00012380: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00012390: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+000123a0: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
+000123b0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+000123c0: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
+000123d0: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
+000123e0: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+000123f0: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00012400: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00012410: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
+00012420: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
+00012430: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00012440: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
+00012450: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
+00012460: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00012470: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00012480: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00012490: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
+000124a0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+000124b0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+000124c0: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
+000124d0: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
+000124e0: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
+000124f0: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
+00012500: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
+00012510: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
+00012520: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
+00012530: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
+00012540: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
+00012550: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
+00012560: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00012570: 2e72 6177 5f62 6f64 792c 2047 6574 5375  .raw_body, GetSu
+00012580: 6273 6372 6970 7469 6f6e 5265 7370 6f6e  bscriptionRespon
+00012590: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
+000125a0: 7279 290d 0a0d 0a20 2020 2064 6566 2075  ry)....    def u
+000125b0: 7064 6174 655f 7375 6273 6372 6970 7469  pdate_subscripti
+000125c0: 6f6e 5f61 6666 696c 6961 7469 6f6e 5f69  on_affiliation_i
+000125d0: 6428 7365 6c66 2c0d 0a20 2020 2020 2020  d(self,..       
+000125e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000125f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012600: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
+00012610: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
+00012620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012640: 2062 6f64 792c 0d0a 2020 2020 2020 2020   body,..        
+00012650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012670: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
+00012680: 6579 3d4e 6f6e 6529 3a0d 0a20 2020 2020  ey=None):..     
+00012690: 2020 2022 2222 446f 6573 2061 2050 4154     """Does a PAT
+000126a0: 4348 2072 6571 7565 7374 2074 6f20 2f73  CH request to /s
+000126b0: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
+000126c0: 6273 6372 6970 7469 6f6e 5f69 647d 2f67  bscription_id}/g
+000126d0: 6174 6577 6179 2d61 6666 696c 6961 7469  ateway-affiliati
+000126e0: 6f6e 2d69 642e 0d0a 0d0a 2020 2020 2020  on-id.....      
+000126f0: 2020 5570 6461 7465 5375 6273 6372 6970    UpdateSubscrip
+00012700: 7469 6f6e 4166 6669 6c69 6174 696f 6e49  tionAffiliationI
+00012710: 640d 0a0d 0a20 2020 2020 2020 2041 7267  d....        Arg
+00012720: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+00012730: 7375 6273 6372 6970 7469 6f6e 5f69 6420  subscription_id 
+00012740: 2873 7472 696e 6729 3a20 544f 444f 3a20  (string): TODO: 
+00012750: 7479 7065 2064 6573 6372 6970 7469 6f6e  type description
+00012760: 2068 6572 652e 2045 7861 6d70 6c65 3a20   here. Example: 
+00012770: 0d0a 2020 2020 2020 2020 2020 2020 626f  ..            bo
+00012780: 6479 2028 5375 6273 6372 6970 7469 6f6e  dy (Subscription
+00012790: 7347 6174 6577 6179 4166 6669 6c69 6174  sGatewayAffiliat
+000127a0: 696f 6e49 6452 6571 7565 7374 293a 2052  ionIdRequest): R
+000127b0: 6571 7565 7374 2066 6f72 0d0a 2020 2020  equest for..    
+000127c0: 2020 2020 2020 2020 2020 2020 7570 6461              upda
+000127d0: 7469 6e67 2061 2073 7562 7363 7269 7074  ting a subscript
+000127e0: 696f 6e20 6166 6669 6c69 6174 696f 6e20  ion affiliation 
+000127f0: 6964 0d0a 2020 2020 2020 2020 2020 2020  id..            
+00012800: 6964 656d 706f 7465 6e63 795f 6b65 7920  idempotency_key 
+00012810: 2873 7472 696e 672c 206f 7074 696f 6e61  (string, optiona
+00012820: 6c29 3a20 544f 444f 3a20 7479 7065 2064  l): TODO: type d
+00012830: 6573 6372 6970 7469 6f6e 2068 6572 652e  escription here.
+00012840: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00012850: 2020 4578 616d 706c 653a 200d 0a0d 0a20    Example: .... 
+00012860: 2020 2020 2020 2052 6574 7572 6e73 3a0d         Returns:.
+00012870: 0a20 2020 2020 2020 2020 2020 2047 6574  .            Get
+00012880: 5375 6273 6372 6970 7469 6f6e 5265 7370  SubscriptionResp
+00012890: 6f6e 7365 3a20 5265 7370 6f6e 7365 2066  onse: Response f
+000128a0: 726f 6d20 7468 6520 4150 492e 200d 0a0d  rom the API. ...
+000128b0: 0a20 2020 2020 2020 2052 6169 7365 733a  .        Raises:
+000128c0: 0d0a 2020 2020 2020 2020 2020 2020 4150  ..            AP
+000128d0: 4945 7863 6570 7469 6f6e 3a20 5768 656e  IException: When
+000128e0: 2061 6e20 6572 726f 7220 6f63 6375 7273   an error occurs
+000128f0: 2077 6869 6c65 2066 6574 6368 696e 6720   while fetching 
+00012900: 7468 6520 6461 7461 2066 726f 6d0d 0a20  the data from.. 
+00012910: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00012920: 6865 2072 656d 6f74 6520 4150 492e 2054  he remote API. T
+00012930: 6869 7320 6578 6365 7074 696f 6e20 696e  his exception in
+00012940: 636c 7564 6573 2074 6865 2048 5454 5020  cludes the HTTP 
+00012950: 5265 7370 6f6e 7365 0d0a 2020 2020 2020  Response..      
+00012960: 2020 2020 2020 2020 2020 636f 6465 2c20            code, 
+00012970: 616e 2065 7272 6f72 206d 6573 7361 6765  an error message
+00012980: 2c20 616e 6420 7468 6520 4854 5450 2062  , and the HTTP b
+00012990: 6f64 7920 7468 6174 2077 6173 2072 6563  ody that was rec
+000129a0: 6569 7665 6420 696e 0d0a 2020 2020 2020  eived in..      
+000129b0: 2020 2020 2020 2020 2020 7468 6520 7265            the re
+000129c0: 7175 6573 742e 0d0a 0d0a 2020 2020 2020  quest.....      
+000129d0: 2020 2222 220d 0a0d 0a20 2020 2020 2020    """....       
+000129e0: 2023 2050 7265 7061 7265 2071 7565 7279   # Prepare query
+000129f0: 2055 524c 0d0a 2020 2020 2020 2020 5f75   URL..        _u
+00012a00: 726c 5f70 6174 6820 3d20 272f 7375 6273  rl_path = '/subs
+00012a10: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
+00012a20: 7269 7074 696f 6e5f 6964 7d2f 6761 7465  ription_id}/gate
+00012a30: 7761 792d 6166 6669 6c69 6174 696f 6e2d  way-affiliation-
+00012a40: 6964 270d 0a20 2020 2020 2020 205f 7572  id'..        _ur
+00012a50: 6c5f 7061 7468 203d 2041 5049 4865 6c70  l_path = APIHelp
+00012a60: 6572 2e61 7070 656e 645f 7572 6c5f 7769  er.append_url_wi
+00012a70: 7468 5f74 656d 706c 6174 655f 7061 7261  th_template_para
+00012a80: 6d65 7465 7273 285f 7572 6c5f 7061 7468  meters(_url_path
+00012a90: 2c20 7b20 0d0a 2020 2020 2020 2020 2020  , { ..          
+00012aa0: 2020 2773 7562 7363 7269 7074 696f 6e5f    'subscription_
+00012ab0: 6964 273a 2073 7562 7363 7269 7074 696f  id': subscriptio
+00012ac0: 6e5f 6964 0d0a 2020 2020 2020 2020 7d29  n_id..        })
+00012ad0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+00012ae0: 5f62 7569 6c64 6572 203d 2043 6f6e 6669  _builder = Confi
+00012af0: 6775 7261 7469 6f6e 2e62 6173 655f 7572  guration.base_ur
+00012b00: 690d 0a20 2020 2020 2020 205f 7175 6572  i..        _quer
+00012b10: 795f 6275 696c 6465 7220 2b3d 205f 7572  y_builder += _ur
+00012b20: 6c5f 7061 7468 0d0a 2020 2020 2020 2020  l_path..        
+00012b30: 5f71 7565 7279 5f75 726c 203d 2041 5049  _query_url = API
+00012b40: 4865 6c70 6572 2e63 6c65 616e 5f75 726c  Helper.clean_url
+00012b50: 285f 7175 6572 795f 6275 696c 6465 7229  (_query_builder)
+00012b60: 0d0a 0d0a 2020 2020 2020 2020 2320 5072  ....        # Pr
+00012b70: 6570 6172 6520 6865 6164 6572 730d 0a20  epare headers.. 
+00012b80: 2020 2020 2020 205f 6865 6164 6572 7320         _headers 
+00012b90: 3d20 7b0d 0a20 2020 2020 2020 2020 2020  = {..           
+00012ba0: 2027 6163 6365 7074 273a 2027 6170 706c   'accept': 'appl
+00012bb0: 6963 6174 696f 6e2f 6a73 6f6e 272c 0d0a  ication/json',..
+00012bc0: 2020 2020 2020 2020 2020 2020 2753 6572              'Ser
+00012bd0: 7669 6365 5265 6665 7265 724e 616d 6527  viceRefererName'
+00012be0: 3a20 436f 6e66 6967 7572 6174 696f 6e2e  : Configuration.
+00012bf0: 7365 7276 6963 655f 7265 6665 7265 725f  service_referer_
+00012c00: 6e61 6d65 2c0d 0a20 2020 2020 2020 2020  name,..         
+00012c10: 2020 2027 436f 6e74 656e 742d 5479 7065     'Content-Type
+00012c20: 273a 2027 6170 706c 6963 6174 696f 6e2f  ': 'application/
+00012c30: 6a73 6f6e 272c 0d0a 2020 2020 2020 2020  json',..        
+00012c40: 2020 2020 2769 6465 6d70 6f74 656e 6379      'idempotency
+00012c50: 2d6b 6579 273a 2069 6465 6d70 6f74 656e  -key': idempoten
+00012c60: 6379 5f6b 6579 0d0a 2020 2020 2020 2020  cy_key..        
+00012c70: 7d0d 0a0d 0a20 2020 2020 2020 2023 2050  }....        # P
+00012c80: 7265 7061 7265 2061 6e64 2065 7865 6375  repare and execu
+00012c90: 7465 2072 6571 7565 7374 0d0a 2020 2020  te request..    
+00012ca0: 2020 2020 5f72 6571 7565 7374 203d 2073      _request = s
+00012cb0: 656c 662e 6874 7470 5f63 6c69 656e 742e  elf.http_client.
+00012cc0: 7061 7463 6828 5f71 7565 7279 5f75 726c  patch(_query_url
+00012cd0: 2c20 6865 6164 6572 733d 5f68 6561 6465  , headers=_heade
+00012ce0: 7273 2c20 7061 7261 6d65 7465 7273 3d41  rs, parameters=A
+00012cf0: 5049 4865 6c70 6572 2e6a 736f 6e5f 7365  PIHelper.json_se
+00012d00: 7269 616c 697a 6528 626f 6479 2929 0d0a  rialize(body))..
+00012d10: 2020 2020 2020 2020 4261 7369 6341 7574          BasicAut
+00012d20: 682e 6170 706c 7928 5f72 6571 7565 7374  h.apply(_request
+00012d30: 290d 0a20 2020 2020 2020 205f 636f 6e74  )..        _cont
+00012d40: 6578 7420 3d20 7365 6c66 2e65 7865 6375  ext = self.execu
+00012d50: 7465 5f72 6571 7565 7374 285f 7265 7175  te_request(_requ
+00012d60: 6573 7429 0d0a 0d0a 2020 2020 2020 2020  est)....        
+00012d70: 2320 456e 6470 6f69 6e74 2061 6e64 2067  # Endpoint and g
+00012d80: 6c6f 6261 6c20 6572 726f 7220 6861 6e64  lobal error hand
+00012d90: 6c69 6e67 2075 7369 6e67 2048 5454 5020  ling using HTTP 
+00012da0: 7374 6174 7573 2063 6f64 6573 2e0d 0a20  status codes... 
+00012db0: 2020 2020 2020 2069 6620 5f63 6f6e 7465         if _conte
+00012dc0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00012dd0: 7573 5f63 6f64 6520 3d3d 2034 3030 3a0d  us_code == 400:.
+00012de0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00012df0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00012e00: 6e28 2749 6e76 616c 6964 2072 6571 7565  n('Invalid reque
+00012e10: 7374 272c 205f 636f 6e74 6578 7429 0d0a  st', _context)..
+00012e20: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00012e30: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00012e40: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+00012e50: 313a 0d0a 2020 2020 2020 2020 2020 2020  1:..            
+00012e60: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00012e70: 7469 6f6e 2827 496e 7661 6c69 6420 4150  tion('Invalid AP
+00012e80: 4920 6b65 7927 2c20 5f63 6f6e 7465 7874  I key', _context
+00012e90: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00012ea0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00012eb0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00012ec0: 2034 3034 3a0d 0a20 2020 2020 2020 2020   404:..         
+00012ed0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00012ee0: 6365 7074 696f 6e28 2741 6e20 696e 666f  ception('An info
+00012ef0: 726d 6564 2072 6573 6f75 7263 6520 7761  rmed resource wa
+00012f00: 7320 6e6f 7420 666f 756e 6427 2c20 5f63  s not found', _c
+00012f10: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00012f20: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00012f30: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00012f40: 6f64 6520 3d3d 2034 3132 3a0d 0a20 2020  ode == 412:..   
+00012f50: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00012f60: 7272 6f72 4578 6365 7074 696f 6e28 2742  rrorException('B
+00012f70: 7573 696e 6573 7320 7661 6c69 6461 7469  usiness validati
+00012f80: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
+00012f90: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00012fa0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00012fb0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00012fc0: 203d 3d20 3432 323a 0d0a 2020 2020 2020   == 422:..      
+00012fd0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00012fe0: 7245 7863 6570 7469 6f6e 2827 436f 6e74  rException('Cont
+00012ff0: 7261 6374 2076 616c 6964 6174 696f 6e20  ract validation 
+00013000: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
+00013010: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00013020: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00013030: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00013040: 2035 3030 3a0d 0a20 2020 2020 2020 2020   500:..         
+00013050: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00013060: 6365 7074 696f 6e28 2749 6e74 6572 6e61  ception('Interna
+00013070: 6c20 7365 7276 6572 2065 7272 6f72 272c  l server error',
+00013080: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00013090: 2020 2020 7365 6c66 2e76 616c 6964 6174      self.validat
+000130a0: 655f 7265 7370 6f6e 7365 285f 636f 6e74  e_response(_cont
+000130b0: 6578 7429 0d0a 0d0a 2020 2020 2020 2020  ext)....        
+000130c0: 2320 5265 7475 726e 2061 7070 726f 7072  # Return appropr
+000130d0: 6961 7465 2074 7970 650d 0a20 2020 2020  iate type..     
+000130e0: 2020 2072 6574 7572 6e20 4150 4948 656c     return APIHel
+000130f0: 7065 722e 6a73 6f6e 5f64 6573 6572 6961  per.json_deseria
+00013100: 6c69 7a65 285f 636f 6e74 6578 742e 7265  lize(_context.re
+00013110: 7370 6f6e 7365 2e72 6177 5f62 6f64 792c  sponse.raw_body,
+00013120: 2047 6574 5375 6273 6372 6970 7469 6f6e   GetSubscription
+00013130: 5265 7370 6f6e 7365 2e66 726f 6d5f 6469  Response.from_di
+00013140: 6374 696f 6e61 7279 290d 0a0d 0a20 2020  ctionary)....   
+00013150: 2064 6566 2064 656c 6574 655f 7375 6273   def delete_subs
+00013160: 6372 6970 7469 6f6e 5f69 7465 6d28 7365  cription_item(se
+00013170: 6c66 2c0d 0a20 2020 2020 2020 2020 2020  lf,..           
+00013180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013190: 2020 2020 2020 7375 6273 6372 6970 7469        subscripti
+000131a0: 6f6e 5f69 642c 0d0a 2020 2020 2020 2020  on_id,..        
+000131b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000131c0: 2020 2020 2020 2020 2073 7562 7363 7269           subscri
+000131d0: 7074 696f 6e5f 6974 656d 5f69 642c 0d0a  ption_item_id,..
+000131e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000131f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013200: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
+00013210: 3d4e 6f6e 6529 3a0d 0a20 2020 2020 2020  =None):..       
+00013220: 2022 2222 446f 6573 2061 2044 454c 4554   """Does a DELET
+00013230: 4520 7265 7175 6573 7420 746f 202f 7375  E request to /su
+00013240: 6273 6372 6970 7469 6f6e 732f 7b73 7562  bscriptions/{sub
+00013250: 7363 7269 7074 696f 6e5f 6964 7d2f 6974  scription_id}/it
+00013260: 656d 732f 7b73 7562 7363 7269 7074 696f  ems/{subscriptio
+00013270: 6e5f 6974 656d 5f69 647d 2e0d 0a0d 0a20  n_item_id}..... 
+00013280: 2020 2020 2020 2044 656c 6574 6573 2061         Deletes a
+00013290: 2073 7562 7363 7269 7074 696f 6e20 6974   subscription it
+000132a0: 656d 0d0a 0d0a 2020 2020 2020 2020 4172  em....        Ar
+000132b0: 6773 3a0d 0a20 2020 2020 2020 2020 2020  gs:..           
+000132c0: 2073 7562 7363 7269 7074 696f 6e5f 6964   subscription_id
+000132d0: 2028 7374 7269 6e67 293a 2053 7562 7363   (string): Subsc
+000132e0: 7269 7074 696f 6e20 6964 0d0a 2020 2020  ription id..    
+000132f0: 2020 2020 2020 2020 7375 6273 6372 6970          subscrip
+00013300: 7469 6f6e 5f69 7465 6d5f 6964 2028 7374  tion_item_id (st
+00013310: 7269 6e67 293a 2053 7562 7363 7269 7074  ring): Subscript
+00013320: 696f 6e20 6974 656d 2069 640d 0a20 2020  ion item id..   
+00013330: 2020 2020 2020 2020 2069 6465 6d70 6f74           idempot
+00013340: 656e 6379 5f6b 6579 2028 7374 7269 6e67  ency_key (string
+00013350: 2c20 6f70 7469 6f6e 616c 293a 2054 4f44  , optional): TOD
+00013360: 4f3a 2074 7970 6520 6465 7363 7269 7074  O: type descript
+00013370: 696f 6e20 6865 7265 2e0d 0a20 2020 2020  ion here...     
+00013380: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
+00013390: 6c65 3a20 0d0a 0d0a 2020 2020 2020 2020  le: ....        
+000133a0: 5265 7475 726e 733a 0d0a 2020 2020 2020  Returns:..      
+000133b0: 2020 2020 2020 4765 7453 7562 7363 7269        GetSubscri
+000133c0: 7074 696f 6e49 7465 6d52 6573 706f 6e73  ptionItemRespons
+000133d0: 653a 2052 6573 706f 6e73 6520 6672 6f6d  e: Response from
+000133e0: 2074 6865 2041 5049 2e20 0d0a 0d0a 2020   the API. ....  
+000133f0: 2020 2020 2020 5261 6973 6573 3a0d 0a20        Raises:.. 
+00013400: 2020 2020 2020 2020 2020 2041 5049 4578             APIEx
+00013410: 6365 7074 696f 6e3a 2057 6865 6e20 616e  ception: When an
+00013420: 2065 7272 6f72 206f 6363 7572 7320 7768   error occurs wh
+00013430: 696c 6520 6665 7463 6869 6e67 2074 6865  ile fetching the
+00013440: 2064 6174 6120 6672 6f6d 0d0a 2020 2020   data from..    
+00013450: 2020 2020 2020 2020 2020 2020 7468 6520              the 
+00013460: 7265 6d6f 7465 2041 5049 2e20 5468 6973  remote API. This
+00013470: 2065 7863 6570 7469 6f6e 2069 6e63 6c75   exception inclu
+00013480: 6465 7320 7468 6520 4854 5450 2052 6573  des the HTTP Res
+00013490: 706f 6e73 650d 0a20 2020 2020 2020 2020  ponse..         
+000134a0: 2020 2020 2020 2063 6f64 652c 2061 6e20         code, an 
+000134b0: 6572 726f 7220 6d65 7373 6167 652c 2061  error message, a
+000134c0: 6e64 2074 6865 2048 5454 5020 626f 6479  nd the HTTP body
+000134d0: 2074 6861 7420 7761 7320 7265 6365 6976   that was receiv
+000134e0: 6564 2069 6e0d 0a20 2020 2020 2020 2020  ed in..         
+000134f0: 2020 2020 2020 2074 6865 2072 6571 7565         the reque
+00013500: 7374 2e0d 0a0d 0a20 2020 2020 2020 2022  st.....        "
+00013510: 2222 0d0a 0d0a 2020 2020 2020 2020 2320  ""....        # 
+00013520: 5072 6570 6172 6520 7175 6572 7920 5552  Prepare query UR
+00013530: 4c0d 0a20 2020 2020 2020 205f 7572 6c5f  L..        _url_
+00013540: 7061 7468 203d 2027 2f73 7562 7363 7269  path = '/subscri
+00013550: 7074 696f 6e73 2f7b 7375 6273 6372 6970  ptions/{subscrip
+00013560: 7469 6f6e 5f69 647d 2f69 7465 6d73 2f7b  tion_id}/items/{
+00013570: 7375 6273 6372 6970 7469 6f6e 5f69 7465  subscription_ite
+00013580: 6d5f 6964 7d27 0d0a 2020 2020 2020 2020  m_id}'..        
+00013590: 5f75 726c 5f70 6174 6820 3d20 4150 4948  _url_path = APIH
+000135a0: 656c 7065 722e 6170 7065 6e64 5f75 726c  elper.append_url
+000135b0: 5f77 6974 685f 7465 6d70 6c61 7465 5f70  _with_template_p
+000135c0: 6172 616d 6574 6572 7328 5f75 726c 5f70  arameters(_url_p
+000135d0: 6174 682c 207b 200d 0a20 2020 2020 2020  ath, { ..       
+000135e0: 2020 2020 2027 7375 6273 6372 6970 7469       'subscripti
+000135f0: 6f6e 5f69 6427 3a20 7375 6273 6372 6970  on_id': subscrip
+00013600: 7469 6f6e 5f69 642c 0d0a 2020 2020 2020  tion_id,..      
+00013610: 2020 2020 2020 2773 7562 7363 7269 7074        'subscript
+00013620: 696f 6e5f 6974 656d 5f69 6427 3a20 7375  ion_item_id': su
+00013630: 6273 6372 6970 7469 6f6e 5f69 7465 6d5f  bscription_item_
+00013640: 6964 0d0a 2020 2020 2020 2020 7d29 0d0a  id..        })..
+00013650: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
+00013660: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
+00013670: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
+00013680: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+00013690: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
+000136a0: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
+000136b0: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
+000136c0: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
+000136d0: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
+000136e0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+000136f0: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
+00013700: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
+00013710: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
+00013720: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
+00013730: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
+00013740: 2020 2020 2020 2020 2020 2753 6572 7669            'Servi
+00013750: 6365 5265 6665 7265 724e 616d 6527 3a20  ceRefererName': 
+00013760: 436f 6e66 6967 7572 6174 696f 6e2e 7365  Configuration.se
+00013770: 7276 6963 655f 7265 6665 7265 725f 6e61  rvice_referer_na
+00013780: 6d65 2c0d 0a20 2020 2020 2020 2020 2020  me,..           
+00013790: 2027 6964 656d 706f 7465 6e63 792d 6b65   'idempotency-ke
+000137a0: 7927 3a20 6964 656d 706f 7465 6e63 795f  y': idempotency_
+000137b0: 6b65 790d 0a20 2020 2020 2020 207d 0d0a  key..        }..
+000137c0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+000137d0: 6172 6520 616e 6420 6578 6563 7574 6520  are and execute 
+000137e0: 7265 7175 6573 740d 0a20 2020 2020 2020  request..       
+000137f0: 205f 7265 7175 6573 7420 3d20 7365 6c66   _request = self
+00013800: 2e68 7474 705f 636c 6965 6e74 2e64 656c  .http_client.del
+00013810: 6574 6528 5f71 7565 7279 5f75 726c 2c20  ete(_query_url, 
+00013820: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
+00013830: 290d 0a20 2020 2020 2020 2042 6173 6963  )..        Basic
+00013840: 4175 7468 2e61 7070 6c79 285f 7265 7175  Auth.apply(_requ
+00013850: 6573 7429 0d0a 2020 2020 2020 2020 5f63  est)..        _c
+00013860: 6f6e 7465 7874 203d 2073 656c 662e 6578  ontext = self.ex
+00013870: 6563 7574 655f 7265 7175 6573 7428 5f72  ecute_request(_r
+00013880: 6571 7565 7374 290d 0a0d 0a20 2020 2020  equest)....     
+00013890: 2020 2023 2045 6e64 706f 696e 7420 616e     # Endpoint an
+000138a0: 6420 676c 6f62 616c 2065 7272 6f72 2068  d global error h
+000138b0: 616e 646c 696e 6720 7573 696e 6720 4854  andling using HT
+000138c0: 5450 2073 7461 7475 7320 636f 6465 732e  TP status codes.
+000138d0: 0d0a 2020 2020 2020 2020 6966 205f 636f  ..        if _co
+000138e0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+000138f0: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+00013900: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+00013910: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00013920: 7469 6f6e 2827 496e 7661 6c69 6420 7265  tion('Invalid re
+00013930: 7175 6573 7427 2c20 5f63 6f6e 7465 7874  quest', _context
+00013940: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00013950: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00013960: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00013970: 2034 3031 3a0d 0a20 2020 2020 2020 2020   401:..         
+00013980: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00013990: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+000139a0: 2041 5049 206b 6579 272c 205f 636f 6e74   API key', _cont
+000139b0: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+000139c0: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+000139d0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+000139e0: 203d 3d20 3430 343a 0d0a 2020 2020 2020   == 404:..      
+000139f0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00013a00: 7245 7863 6570 7469 6f6e 2827 416e 2069  rException('An i
+00013a10: 6e66 6f72 6d65 6420 7265 736f 7572 6365  nformed resource
+00013a20: 2077 6173 206e 6f74 2066 6f75 6e64 272c   was not found',
+00013a30: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00013a40: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+00013a50: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00013a60: 735f 636f 6465 203d 3d20 3431 323a 0d0a  s_code == 412:..
+00013a70: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00013a80: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+00013a90: 2827 4275 7369 6e65 7373 2076 616c 6964  ('Business valid
+00013aa0: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+00013ab0: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00013ac0: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00013ad0: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00013ae0: 6f64 6520 3d3d 2034 3232 3a0d 0a20 2020  ode == 422:..   
+00013af0: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00013b00: 7272 6f72 4578 6365 7074 696f 6e28 2743  rrorException('C
+00013b10: 6f6e 7472 6163 7420 7661 6c69 6461 7469  ontract validati
+00013b20: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
+00013b30: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00013b40: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00013b50: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00013b60: 203d 3d20 3530 303a 0d0a 2020 2020 2020   == 500:..      
+00013b70: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00013b80: 7245 7863 6570 7469 6f6e 2827 496e 7465  rException('Inte
+00013b90: 726e 616c 2073 6572 7665 7220 6572 726f  rnal server erro
+00013ba0: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
+00013bb0: 2020 2020 2020 2073 656c 662e 7661 6c69         self.vali
+00013bc0: 6461 7465 5f72 6573 706f 6e73 6528 5f63  date_response(_c
+00013bd0: 6f6e 7465 7874 290d 0a0d 0a20 2020 2020  ontext)....     
+00013be0: 2020 2023 2052 6574 7572 6e20 6170 7072     # Return appr
+00013bf0: 6f70 7269 6174 6520 7479 7065 0d0a 2020  opriate type..  
+00013c00: 2020 2020 2020 7265 7475 726e 2041 5049        return API
+00013c10: 4865 6c70 6572 2e6a 736f 6e5f 6465 7365  Helper.json_dese
+00013c20: 7269 616c 697a 6528 5f63 6f6e 7465 7874  rialize(_context
+00013c30: 2e72 6573 706f 6e73 652e 7261 775f 626f  .response.raw_bo
+00013c40: 6479 2c20 4765 7453 7562 7363 7269 7074  dy, GetSubscript
+00013c50: 696f 6e49 7465 6d52 6573 706f 6e73 652e  ionItemResponse.
+00013c60: 6672 6f6d 5f64 6963 7469 6f6e 6172 7929  from_dictionary)
+00013c70: 0d0a 0d0a 2020 2020 6465 6620 7570 6461  ....    def upda
+00013c80: 7465 5f73 7562 7363 7269 7074 696f 6e5f  te_subscription_
+00013c90: 6361 7264 2873 656c 662c 0d0a 2020 2020  card(self,..    
+00013ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013cb0: 2020 2020 2020 2020 2020 2020 2073 7562               sub
+00013cc0: 7363 7269 7074 696f 6e5f 6964 2c0d 0a20  scription_id,.. 
+00013cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013cf0: 626f 6479 2c0d 0a20 2020 2020 2020 2020  body,..         
+00013d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013d10: 2020 2020 2020 2020 6964 656d 706f 7465          idempote
+00013d20: 6e63 795f 6b65 793d 4e6f 6e65 293a 0d0a  ncy_key=None):..
+00013d30: 2020 2020 2020 2020 2222 2244 6f65 7320          """Does 
+00013d40: 6120 5041 5443 4820 7265 7175 6573 7420  a PATCH request 
+00013d50: 746f 202f 7375 6273 6372 6970 7469 6f6e  to /subscription
+00013d60: 732f 7b73 7562 7363 7269 7074 696f 6e5f  s/{subscription_
+00013d70: 6964 7d2f 6361 7264 2e0d 0a0d 0a20 2020  id}/card.....   
+00013d80: 2020 2020 2055 7064 6174 6573 2074 6865       Updates the
+00013d90: 2063 7265 6469 7420 6361 7264 2066 726f   credit card fro
+00013da0: 6d20 6120 7375 6273 6372 6970 7469 6f6e  m a subscription
+00013db0: 0d0a 0d0a 2020 2020 2020 2020 4172 6773  ....        Args
+00013dc0: 3a0d 0a20 2020 2020 2020 2020 2020 2073  :..            s
+00013dd0: 7562 7363 7269 7074 696f 6e5f 6964 2028  ubscription_id (
+00013de0: 7374 7269 6e67 293a 2053 7562 7363 7269  string): Subscri
+00013df0: 7074 696f 6e20 6964 0d0a 2020 2020 2020  ption id..      
+00013e00: 2020 2020 2020 626f 6479 2028 5375 6273        body (Subs
+00013e10: 6372 6970 7469 6f6e 7343 6172 6452 6571  criptionsCardReq
+00013e20: 7565 7374 293a 2052 6571 7565 7374 2066  uest): Request f
+00013e30: 6f72 2075 7064 6174 696e 6720 6120 6361  or updating a ca
+00013e40: 7264 0d0a 2020 2020 2020 2020 2020 2020  rd..            
+00013e50: 6964 656d 706f 7465 6e63 795f 6b65 7920  idempotency_key 
+00013e60: 2873 7472 696e 672c 206f 7074 696f 6e61  (string, optiona
+00013e70: 6c29 3a20 544f 444f 3a20 7479 7065 2064  l): TODO: type d
+00013e80: 6573 6372 6970 7469 6f6e 2068 6572 652e  escription here.
+00013e90: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00013ea0: 2020 4578 616d 706c 653a 200d 0a0d 0a20    Example: .... 
+00013eb0: 2020 2020 2020 2052 6574 7572 6e73 3a0d         Returns:.
+00013ec0: 0a20 2020 2020 2020 2020 2020 2047 6574  .            Get
+00013ed0: 5375 6273 6372 6970 7469 6f6e 5265 7370  SubscriptionResp
+00013ee0: 6f6e 7365 3a20 5265 7370 6f6e 7365 2066  onse: Response f
+00013ef0: 726f 6d20 7468 6520 4150 492e 200d 0a0d  rom the API. ...
+00013f00: 0a20 2020 2020 2020 2052 6169 7365 733a  .        Raises:
+00013f10: 0d0a 2020 2020 2020 2020 2020 2020 4150  ..            AP
+00013f20: 4945 7863 6570 7469 6f6e 3a20 5768 656e  IException: When
+00013f30: 2061 6e20 6572 726f 7220 6f63 6375 7273   an error occurs
+00013f40: 2077 6869 6c65 2066 6574 6368 696e 6720   while fetching 
+00013f50: 7468 6520 6461 7461 2066 726f 6d0d 0a20  the data from.. 
+00013f60: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00013f70: 6865 2072 656d 6f74 6520 4150 492e 2054  he remote API. T
+00013f80: 6869 7320 6578 6365 7074 696f 6e20 696e  his exception in
+00013f90: 636c 7564 6573 2074 6865 2048 5454 5020  cludes the HTTP 
+00013fa0: 5265 7370 6f6e 7365 0d0a 2020 2020 2020  Response..      
+00013fb0: 2020 2020 2020 2020 2020 636f 6465 2c20            code, 
+00013fc0: 616e 2065 7272 6f72 206d 6573 7361 6765  an error message
+00013fd0: 2c20 616e 6420 7468 6520 4854 5450 2062  , and the HTTP b
+00013fe0: 6f64 7920 7468 6174 2077 6173 2072 6563  ody that was rec
+00013ff0: 6569 7665 6420 696e 0d0a 2020 2020 2020  eived in..      
+00014000: 2020 2020 2020 2020 2020 7468 6520 7265            the re
+00014010: 7175 6573 742e 0d0a 0d0a 2020 2020 2020  quest.....      
+00014020: 2020 2222 220d 0a0d 0a20 2020 2020 2020    """....       
+00014030: 2023 2050 7265 7061 7265 2071 7565 7279   # Prepare query
+00014040: 2055 524c 0d0a 2020 2020 2020 2020 5f75   URL..        _u
+00014050: 726c 5f70 6174 6820 3d20 272f 7375 6273  rl_path = '/subs
+00014060: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
+00014070: 7269 7074 696f 6e5f 6964 7d2f 6361 7264  ription_id}/card
+00014080: 270d 0a20 2020 2020 2020 205f 7572 6c5f  '..        _url_
+00014090: 7061 7468 203d 2041 5049 4865 6c70 6572  path = APIHelper
+000140a0: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
+000140b0: 5f74 656d 706c 6174 655f 7061 7261 6d65  _template_parame
+000140c0: 7465 7273 285f 7572 6c5f 7061 7468 2c20  ters(_url_path, 
+000140d0: 7b20 0d0a 2020 2020 2020 2020 2020 2020  { ..            
+000140e0: 2773 7562 7363 7269 7074 696f 6e5f 6964  'subscription_id
+000140f0: 273a 2073 7562 7363 7269 7074 696f 6e5f  ': subscription_
+00014100: 6964 0d0a 2020 2020 2020 2020 7d29 0d0a  id..        })..
+00014110: 2020 2020 2020 2020 5f71 7565 7279 5f62          _query_b
+00014120: 7569 6c64 6572 203d 2043 6f6e 6669 6775  uilder = Configu
+00014130: 7261 7469 6f6e 2e62 6173 655f 7572 690d  ration.base_uri.
+00014140: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+00014150: 6275 696c 6465 7220 2b3d 205f 7572 6c5f  builder += _url_
+00014160: 7061 7468 0d0a 2020 2020 2020 2020 5f71  path..        _q
+00014170: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
+00014180: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
+00014190: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
+000141a0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+000141b0: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
+000141c0: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
+000141d0: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
+000141e0: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
+000141f0: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
+00014200: 2020 2020 2020 2020 2020 2753 6572 7669            'Servi
+00014210: 6365 5265 6665 7265 724e 616d 6527 3a20  ceRefererName': 
+00014220: 436f 6e66 6967 7572 6174 696f 6e2e 7365  Configuration.se
+00014230: 7276 6963 655f 7265 6665 7265 725f 6e61  rvice_referer_na
+00014240: 6d65 2c0d 0a20 2020 2020 2020 2020 2020  me,..           
+00014250: 2027 436f 6e74 656e 742d 5479 7065 273a   'Content-Type':
+00014260: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
+00014270: 6f6e 272c 0d0a 2020 2020 2020 2020 2020  on',..          
+00014280: 2020 2769 6465 6d70 6f74 656e 6379 2d6b    'idempotency-k
+00014290: 6579 273a 2069 6465 6d70 6f74 656e 6379  ey': idempotency
+000142a0: 5f6b 6579 0d0a 2020 2020 2020 2020 7d0d  _key..        }.
+000142b0: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+000142c0: 7061 7265 2061 6e64 2065 7865 6375 7465  pare and execute
+000142d0: 2072 6571 7565 7374 0d0a 2020 2020 2020   request..      
+000142e0: 2020 5f72 6571 7565 7374 203d 2073 656c    _request = sel
+000142f0: 662e 6874 7470 5f63 6c69 656e 742e 7061  f.http_client.pa
+00014300: 7463 6828 5f71 7565 7279 5f75 726c 2c20  tch(_query_url, 
+00014310: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
+00014320: 2c20 7061 7261 6d65 7465 7273 3d41 5049  , parameters=API
+00014330: 4865 6c70 6572 2e6a 736f 6e5f 7365 7269  Helper.json_seri
+00014340: 616c 697a 6528 626f 6479 2929 0d0a 2020  alize(body))..  
+00014350: 2020 2020 2020 4261 7369 6341 7574 682e        BasicAuth.
+00014360: 6170 706c 7928 5f72 6571 7565 7374 290d  apply(_request).
+00014370: 0a20 2020 2020 2020 205f 636f 6e74 6578  .        _contex
+00014380: 7420 3d20 7365 6c66 2e65 7865 6375 7465  t = self.execute
+00014390: 5f72 6571 7565 7374 285f 7265 7175 6573  _request(_reques
+000143a0: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
+000143b0: 456e 6470 6f69 6e74 2061 6e64 2067 6c6f  Endpoint and glo
+000143c0: 6261 6c20 6572 726f 7220 6861 6e64 6c69  bal error handli
+000143d0: 6e67 2075 7369 6e67 2048 5454 5020 7374  ng using HTTP st
+000143e0: 6174 7573 2063 6f64 6573 2e0d 0a20 2020  atus codes...   
+000143f0: 2020 2020 2069 6620 5f63 6f6e 7465 7874       if _context
+00014400: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00014410: 5f63 6f64 6520 3d3d 2034 3030 3a0d 0a20  _code == 400:.. 
+00014420: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00014430: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00014440: 2749 6e76 616c 6964 2072 6571 7565 7374  'Invalid request
+00014450: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00014460: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+00014470: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+00014480: 7475 735f 636f 6465 203d 3d20 3430 313a  tus_code == 401:
+00014490: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+000144a0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+000144b0: 6f6e 2827 496e 7661 6c69 6420 4150 4920  on('Invalid API 
+000144c0: 6b65 7927 2c20 5f63 6f6e 7465 7874 290d  key', _context).
+000144d0: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+000144e0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+000144f0: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00014500: 3034 3a0d 0a20 2020 2020 2020 2020 2020  04:..           
+00014510: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+00014520: 7074 696f 6e28 2741 6e20 696e 666f 726d  ption('An inform
+00014530: 6564 2072 6573 6f75 7263 6520 7761 7320  ed resource was 
+00014540: 6e6f 7420 666f 756e 6427 2c20 5f63 6f6e  not found', _con
+00014550: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+00014560: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+00014570: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00014580: 6520 3d3d 2034 3132 3a0d 0a20 2020 2020  e == 412:..     
+00014590: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+000145a0: 6f72 4578 6365 7074 696f 6e28 2742 7573  orException('Bus
+000145b0: 696e 6573 7320 7661 6c69 6461 7469 6f6e  iness validation
+000145c0: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+000145d0: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+000145e0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+000145f0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00014600: 3d20 3432 323a 0d0a 2020 2020 2020 2020  = 422:..        
+00014610: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00014620: 7863 6570 7469 6f6e 2827 436f 6e74 7261  xception('Contra
+00014630: 6374 2076 616c 6964 6174 696f 6e20 6572  ct validation er
+00014640: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
+00014650: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00014660: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00014670: 7374 6174 7573 5f63 6f64 6520 3d3d 2035  status_code == 5
+00014680: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
+00014690: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+000146a0: 7074 696f 6e28 2749 6e74 6572 6e61 6c20  ption('Internal 
+000146b0: 7365 7276 6572 2065 7272 6f72 272c 205f  server error', _
+000146c0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+000146d0: 2020 7365 6c66 2e76 616c 6964 6174 655f    self.validate_
+000146e0: 7265 7370 6f6e 7365 285f 636f 6e74 6578  response(_contex
+000146f0: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
+00014700: 5265 7475 726e 2061 7070 726f 7072 6961  Return appropria
+00014710: 7465 2074 7970 650d 0a20 2020 2020 2020  te type..       
+00014720: 2072 6574 7572 6e20 4150 4948 656c 7065   return APIHelpe
+00014730: 722e 6a73 6f6e 5f64 6573 6572 6961 6c69  r.json_deseriali
+00014740: 7a65 285f 636f 6e74 6578 742e 7265 7370  ze(_context.resp
+00014750: 6f6e 7365 2e72 6177 5f62 6f64 792c 2047  onse.raw_body, G
+00014760: 6574 5375 6273 6372 6970 7469 6f6e 5265  etSubscriptionRe
+00014770: 7370 6f6e 7365 2e66 726f 6d5f 6469 6374  sponse.from_dict
+00014780: 696f 6e61 7279 290d 0a0d 0a20 2020 2064  ionary)....    d
+00014790: 6566 2075 7064 6174 655f 7375 6273 6372  ef update_subscr
+000147a0: 6970 7469 6f6e 5f6d 6574 6164 6174 6128  iption_metadata(
+000147b0: 7365 6c66 2c0d 0a20 2020 2020 2020 2020  self,..         
+000147c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000147d0: 2020 2020 2020 2020 2020 2020 7375 6273              subs
+000147e0: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
+000147f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014810: 2020 2062 6f64 792c 0d0a 2020 2020 2020     body,..      
+00014820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014830: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00014840: 6465 6d70 6f74 656e 6379 5f6b 6579 3d4e  dempotency_key=N
+00014850: 6f6e 6529 3a0d 0a20 2020 2020 2020 2022  one):..        "
+00014860: 2222 446f 6573 2061 2050 4154 4348 2072  ""Does a PATCH r
+00014870: 6571 7565 7374 2074 6f20 2f53 7562 7363  equest to /Subsc
+00014880: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
+00014890: 6970 7469 6f6e 5f69 647d 2f6d 6574 6164  iption_id}/metad
+000148a0: 6174 612e 0d0a 0d0a 2020 2020 2020 2020  ata.....        
+000148b0: 5570 6461 7465 7320 7468 6520 6d65 7461  Updates the meta
+000148c0: 6461 7461 2066 726f 6d20 6120 7375 6273  data from a subs
+000148d0: 6372 6970 7469 6f6e 0d0a 0d0a 2020 2020  cription....    
+000148e0: 2020 2020 4172 6773 3a0d 0a20 2020 2020      Args:..     
+000148f0: 2020 2020 2020 2073 7562 7363 7269 7074         subscript
+00014900: 696f 6e5f 6964 2028 7374 7269 6e67 293a  ion_id (string):
+00014910: 2054 6865 2073 7562 7363 7269 7074 696f   The subscriptio
+00014920: 6e20 6964 0d0a 2020 2020 2020 2020 2020  n id..          
+00014930: 2020 626f 6479 2028 5375 6273 6372 6970    body (Subscrip
+00014940: 7469 6f6e 734d 6574 6164 6174 6152 6571  tionsMetadataReq
+00014950: 7565 7374 293a 2052 6571 7565 7374 2066  uest): Request f
+00014960: 6f72 2075 7064 6174 696e 6720 7468 650d  or updating the.
+00014970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014980: 2073 7562 7363 7270 7469 6f6e 206d 6574   subscrption met
+00014990: 6164 6174 610d 0a20 2020 2020 2020 2020  adata..         
+000149a0: 2020 2069 6465 6d70 6f74 656e 6379 5f6b     idempotency_k
+000149b0: 6579 2028 7374 7269 6e67 2c20 6f70 7469  ey (string, opti
+000149c0: 6f6e 616c 293a 2054 4f44 4f3a 2074 7970  onal): TODO: typ
+000149d0: 6520 6465 7363 7269 7074 696f 6e20 6865  e description he
+000149e0: 7265 2e0d 0a20 2020 2020 2020 2020 2020  re...           
+000149f0: 2020 2020 2045 7861 6d70 6c65 3a20 0d0a       Example: ..
+00014a00: 0d0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00014a10: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+00014a20: 4765 7453 7562 7363 7269 7074 696f 6e52  GetSubscriptionR
+00014a30: 6573 706f 6e73 653a 2052 6573 706f 6e73  esponse: Respons
+00014a40: 6520 6672 6f6d 2074 6865 2041 5049 2e20  e from the API. 
+00014a50: 0d0a 0d0a 2020 2020 2020 2020 5261 6973  ....        Rais
+00014a60: 6573 3a0d 0a20 2020 2020 2020 2020 2020  es:..           
+00014a70: 2041 5049 4578 6365 7074 696f 6e3a 2057   APIException: W
+00014a80: 6865 6e20 616e 2065 7272 6f72 206f 6363  hen an error occ
+00014a90: 7572 7320 7768 696c 6520 6665 7463 6869  urs while fetchi
+00014aa0: 6e67 2074 6865 2064 6174 6120 6672 6f6d  ng the data from
+00014ab0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00014ac0: 2020 7468 6520 7265 6d6f 7465 2041 5049    the remote API
+00014ad0: 2e20 5468 6973 2065 7863 6570 7469 6f6e  . This exception
+00014ae0: 2069 6e63 6c75 6465 7320 7468 6520 4854   includes the HT
+00014af0: 5450 2052 6573 706f 6e73 650d 0a20 2020  TP Response..   
+00014b00: 2020 2020 2020 2020 2020 2020 2063 6f64               cod
+00014b10: 652c 2061 6e20 6572 726f 7220 6d65 7373  e, an error mess
+00014b20: 6167 652c 2061 6e64 2074 6865 2048 5454  age, and the HTT
+00014b30: 5020 626f 6479 2074 6861 7420 7761 7320  P body that was 
+00014b40: 7265 6365 6976 6564 2069 6e0d 0a20 2020  received in..   
+00014b50: 2020 2020 2020 2020 2020 2020 2074 6865               the
+00014b60: 2072 6571 7565 7374 2e0d 0a0d 0a20 2020   request.....   
+00014b70: 2020 2020 2022 2222 0d0a 0d0a 2020 2020       """....    
+00014b80: 2020 2020 2320 5072 6570 6172 6520 7175      # Prepare qu
+00014b90: 6572 7920 5552 4c0d 0a20 2020 2020 2020  ery URL..       
+00014ba0: 205f 7572 6c5f 7061 7468 203d 2027 2f53   _url_path = '/S
+00014bb0: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
+00014bc0: 6273 6372 6970 7469 6f6e 5f69 647d 2f6d  bscription_id}/m
+00014bd0: 6574 6164 6174 6127 0d0a 2020 2020 2020  etadata'..      
+00014be0: 2020 5f75 726c 5f70 6174 6820 3d20 4150    _url_path = AP
+00014bf0: 4948 656c 7065 722e 6170 7065 6e64 5f75  IHelper.append_u
+00014c00: 726c 5f77 6974 685f 7465 6d70 6c61 7465  rl_with_template
+00014c10: 5f70 6172 616d 6574 6572 7328 5f75 726c  _parameters(_url
+00014c20: 5f70 6174 682c 207b 200d 0a20 2020 2020  _path, { ..     
+00014c30: 2020 2020 2020 2027 7375 6273 6372 6970         'subscrip
+00014c40: 7469 6f6e 5f69 6427 3a20 7375 6273 6372  tion_id': subscr
+00014c50: 6970 7469 6f6e 5f69 640d 0a20 2020 2020  iption_id..     
+00014c60: 2020 207d 290d 0a20 2020 2020 2020 205f     })..        _
+00014c70: 7175 6572 795f 6275 696c 6465 7220 3d20  query_builder = 
+00014c80: 436f 6e66 6967 7572 6174 696f 6e2e 6261  Configuration.ba
+00014c90: 7365 5f75 7269 0d0a 2020 2020 2020 2020  se_uri..        
+00014ca0: 5f71 7565 7279 5f62 7569 6c64 6572 202b  _query_builder +
+00014cb0: 3d20 5f75 726c 5f70 6174 680d 0a20 2020  = _url_path..   
+00014cc0: 2020 2020 205f 7175 6572 795f 7572 6c20       _query_url 
+00014cd0: 3d20 4150 4948 656c 7065 722e 636c 6561  = APIHelper.clea
+00014ce0: 6e5f 7572 6c28 5f71 7565 7279 5f62 7569  n_url(_query_bui
+00014cf0: 6c64 6572 290d 0a0d 0a20 2020 2020 2020  lder)....       
+00014d00: 2023 2050 7265 7061 7265 2068 6561 6465   # Prepare heade
+00014d10: 7273 0d0a 2020 2020 2020 2020 5f68 6561  rs..        _hea
+00014d20: 6465 7273 203d 207b 0d0a 2020 2020 2020  ders = {..      
+00014d30: 2020 2020 2020 2761 6363 6570 7427 3a20        'accept': 
+00014d40: 2761 7070 6c69 6361 7469 6f6e 2f6a 736f  'application/jso
+00014d50: 6e27 2c0d 0a20 2020 2020 2020 2020 2020  n',..           
+00014d60: 2027 5365 7276 6963 6552 6566 6572 6572   'ServiceReferer
+00014d70: 4e61 6d65 273a 2043 6f6e 6669 6775 7261  Name': Configura
+00014d80: 7469 6f6e 2e73 6572 7669 6365 5f72 6566  tion.service_ref
+00014d90: 6572 6572 5f6e 616d 652c 0d0a 2020 2020  erer_name,..    
+00014da0: 2020 2020 2020 2020 2743 6f6e 7465 6e74          'Content
+00014db0: 2d54 7970 6527 3a20 2761 7070 6c69 6361  -Type': 'applica
+00014dc0: 7469 6f6e 2f6a 736f 6e27 2c0d 0a20 2020  tion/json',..   
+00014dd0: 2020 2020 2020 2020 2027 6964 656d 706f           'idempo
+00014de0: 7465 6e63 792d 6b65 7927 3a20 6964 656d  tency-key': idem
+00014df0: 706f 7465 6e63 795f 6b65 790d 0a20 2020  potency_key..   
+00014e00: 2020 2020 207d 0d0a 0d0a 2020 2020 2020       }....      
+00014e10: 2020 2320 5072 6570 6172 6520 616e 6420    # Prepare and 
+00014e20: 6578 6563 7574 6520 7265 7175 6573 740d  execute request.
+00014e30: 0a20 2020 2020 2020 205f 7265 7175 6573  .        _reques
+00014e40: 7420 3d20 7365 6c66 2e68 7474 705f 636c  t = self.http_cl
+00014e50: 6965 6e74 2e70 6174 6368 285f 7175 6572  ient.patch(_quer
+00014e60: 795f 7572 6c2c 2068 6561 6465 7273 3d5f  y_url, headers=_
+00014e70: 6865 6164 6572 732c 2070 6172 616d 6574  headers, paramet
+00014e80: 6572 733d 4150 4948 656c 7065 722e 6a73  ers=APIHelper.js
+00014e90: 6f6e 5f73 6572 6961 6c69 7a65 2862 6f64  on_serialize(bod
+00014ea0: 7929 290d 0a20 2020 2020 2020 2042 6173  y))..        Bas
+00014eb0: 6963 4175 7468 2e61 7070 6c79 285f 7265  icAuth.apply(_re
+00014ec0: 7175 6573 7429 0d0a 2020 2020 2020 2020  quest)..        
+00014ed0: 5f63 6f6e 7465 7874 203d 2073 656c 662e  _context = self.
+00014ee0: 6578 6563 7574 655f 7265 7175 6573 7428  execute_request(
+00014ef0: 5f72 6571 7565 7374 290d 0a0d 0a20 2020  _request)....   
+00014f00: 2020 2020 2023 2045 6e64 706f 696e 7420       # Endpoint 
+00014f10: 616e 6420 676c 6f62 616c 2065 7272 6f72  and global error
+00014f20: 2068 616e 646c 696e 6720 7573 696e 6720   handling using 
+00014f30: 4854 5450 2073 7461 7475 7320 636f 6465  HTTP status code
+00014f40: 732e 0d0a 2020 2020 2020 2020 6966 205f  s...        if _
+00014f50: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00014f60: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00014f70: 3430 303a 0d0a 2020 2020 2020 2020 2020  400:..          
+00014f80: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00014f90: 6570 7469 6f6e 2827 496e 7661 6c69 6420  eption('Invalid 
+00014fa0: 7265 7175 6573 7427 2c20 5f63 6f6e 7465  request', _conte
+00014fb0: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+00014fc0: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00014fd0: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00014fe0: 3d3d 2034 3031 3a0d 0a20 2020 2020 2020  == 401:..       
+00014ff0: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+00015000: 4578 6365 7074 696f 6e28 2749 6e76 616c  Exception('Inval
+00015010: 6964 2041 5049 206b 6579 272c 205f 636f  id API key', _co
+00015020: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+00015030: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+00015040: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00015050: 6465 203d 3d20 3430 343a 0d0a 2020 2020  de == 404:..    
+00015060: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00015070: 726f 7245 7863 6570 7469 6f6e 2827 416e  rorException('An
+00015080: 2069 6e66 6f72 6d65 6420 7265 736f 7572   informed resour
+00015090: 6365 2077 6173 206e 6f74 2066 6f75 6e64  ce was not found
+000150a0: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+000150b0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+000150c0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+000150d0: 7475 735f 636f 6465 203d 3d20 3431 323a  tus_code == 412:
+000150e0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+000150f0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+00015100: 6f6e 2827 4275 7369 6e65 7373 2076 616c  on('Business val
+00015110: 6964 6174 696f 6e20 6572 726f 7227 2c20  idation error', 
+00015120: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00015130: 2020 2065 6c69 6620 5f63 6f6e 7465 7874     elif _context
+00015140: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00015150: 5f63 6f64 6520 3d3d 2034 3232 3a0d 0a20  _code == 422:.. 
+00015160: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00015170: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00015180: 2743 6f6e 7472 6163 7420 7661 6c69 6461  'Contract valida
+00015190: 7469 6f6e 2065 7272 6f72 272c 205f 636f  tion error', _co
+000151a0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+000151b0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+000151c0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+000151d0: 6465 203d 3d20 3530 303a 0d0a 2020 2020  de == 500:..    
+000151e0: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+000151f0: 726f 7245 7863 6570 7469 6f6e 2827 496e  rorException('In
+00015200: 7465 726e 616c 2073 6572 7665 7220 6572  ternal server er
+00015210: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
+00015220: 0a20 2020 2020 2020 2073 656c 662e 7661  .        self.va
+00015230: 6c69 6461 7465 5f72 6573 706f 6e73 6528  lidate_response(
+00015240: 5f63 6f6e 7465 7874 290d 0a0d 0a20 2020  _context)....   
+00015250: 2020 2020 2023 2052 6574 7572 6e20 6170       # Return ap
+00015260: 7072 6f70 7269 6174 6520 7479 7065 0d0a  propriate type..
+00015270: 2020 2020 2020 2020 7265 7475 726e 2041          return A
+00015280: 5049 4865 6c70 6572 2e6a 736f 6e5f 6465  PIHelper.json_de
+00015290: 7365 7269 616c 697a 6528 5f63 6f6e 7465  serialize(_conte
+000152a0: 7874 2e72 6573 706f 6e73 652e 7261 775f  xt.response.raw_
+000152b0: 626f 6479 2c20 4765 7453 7562 7363 7269  body, GetSubscri
+000152c0: 7074 696f 6e52 6573 706f 6e73 652e 6672  ptionResponse.fr
+000152d0: 6f6d 5f64 6963 7469 6f6e 6172 7929 0d0a  om_dictionary)..
+000152e0: 0d0a 2020 2020 6465 6620 7570 6461 7465  ..    def update
+000152f0: 5f73 7562 7363 7269 7074 696f 6e5f 6475  _subscription_du
+00015300: 655f 6461 7973 2873 656c 662c 0d0a 2020  e_days(self,..  
+00015310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015330: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
+00015340: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
+00015350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015360: 2020 2020 2020 2020 2020 626f 6479 2c0d            body,.
+00015370: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015390: 2020 2020 2020 6964 656d 706f 7465 6e63        idempotenc
+000153a0: 795f 6b65 793d 4e6f 6e65 293a 0d0a 2020  y_key=None):..  
+000153b0: 2020 2020 2020 2222 2244 6f65 7320 6120        """Does a 
+000153c0: 5041 5443 4820 7265 7175 6573 7420 746f  PATCH request to
+000153d0: 202f 7375 6273 6372 6970 7469 6f6e 732f   /subscriptions/
+000153e0: 7b73 7562 7363 7269 7074 696f 6e5f 6964  {subscription_id
+000153f0: 7d2f 626f 6c65 746f 2d64 7565 2d64 6179  }/boleto-due-day
+00015400: 732e 0d0a 0d0a 2020 2020 2020 2020 5570  s.....        Up
+00015410: 6461 7465 7320 7468 6520 626f 6c65 746f  dates the boleto
+00015420: 2064 7565 2064 6179 7320 6672 6f6d 2061   due days from a
+00015430: 2073 7562 7363 7269 7074 696f 6e0d 0a0d   subscription...
+00015440: 0a20 2020 2020 2020 2041 7267 733a 0d0a  .        Args:..
+00015450: 2020 2020 2020 2020 2020 2020 7375 6273              subs
+00015460: 6372 6970 7469 6f6e 5f69 6420 2873 7472  cription_id (str
+00015470: 696e 6729 3a20 5375 6273 6372 6970 7469  ing): Subscripti
+00015480: 6f6e 2049 640d 0a20 2020 2020 2020 2020  on Id..         
+00015490: 2020 2062 6f64 7920 2855 7064 6174 6553     body (UpdateS
+000154a0: 7562 7363 7269 7074 696f 6e44 7565 4461  ubscriptionDueDa
+000154b0: 7973 5265 7175 6573 7429 3a20 544f 444f  ysRequest): TODO
+000154c0: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
+000154d0: 6f6e 0d0a 2020 2020 2020 2020 2020 2020  on..            
+000154e0: 2020 2020 6865 7265 2e20 4578 616d 706c      here. Exampl
+000154f0: 653a 200d 0a20 2020 2020 2020 2020 2020  e: ..           
+00015500: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
+00015510: 2028 7374 7269 6e67 2c20 6f70 7469 6f6e   (string, option
+00015520: 616c 293a 2054 4f44 4f3a 2074 7970 6520  al): TODO: type 
+00015530: 6465 7363 7269 7074 696f 6e20 6865 7265  description here
+00015540: 2e0d 0a20 2020 2020 2020 2020 2020 2020  ...             
+00015550: 2020 2045 7861 6d70 6c65 3a20 0d0a 0d0a     Example: ....
+00015560: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00015570: 0d0a 2020 2020 2020 2020 2020 2020 4765  ..            Ge
+00015580: 7453 7562 7363 7269 7074 696f 6e52 6573  tSubscriptionRes
+00015590: 706f 6e73 653a 2052 6573 706f 6e73 6520  ponse: Response 
+000155a0: 6672 6f6d 2074 6865 2041 5049 2e20 0d0a  from the API. ..
+000155b0: 0d0a 2020 2020 2020 2020 5261 6973 6573  ..        Raises
+000155c0: 3a0d 0a20 2020 2020 2020 2020 2020 2041  :..            A
+000155d0: 5049 4578 6365 7074 696f 6e3a 2057 6865  PIException: Whe
+000155e0: 6e20 616e 2065 7272 6f72 206f 6363 7572  n an error occur
+000155f0: 7320 7768 696c 6520 6665 7463 6869 6e67  s while fetching
+00015600: 2074 6865 2064 6174 6120 6672 6f6d 0d0a   the data from..
+00015610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015620: 7468 6520 7265 6d6f 7465 2041 5049 2e20  the remote API. 
+00015630: 5468 6973 2065 7863 6570 7469 6f6e 2069  This exception i
+00015640: 6e63 6c75 6465 7320 7468 6520 4854 5450  ncludes the HTTP
+00015650: 2052 6573 706f 6e73 650d 0a20 2020 2020   Response..     
+00015660: 2020 2020 2020 2020 2020 2063 6f64 652c             code,
+00015670: 2061 6e20 6572 726f 7220 6d65 7373 6167   an error messag
+00015680: 652c 2061 6e64 2074 6865 2048 5454 5020  e, and the HTTP 
+00015690: 626f 6479 2074 6861 7420 7761 7320 7265  body that was re
+000156a0: 6365 6976 6564 2069 6e0d 0a20 2020 2020  ceived in..     
+000156b0: 2020 2020 2020 2020 2020 2074 6865 2072             the r
+000156c0: 6571 7565 7374 2e0d 0a0d 0a20 2020 2020  equest.....     
+000156d0: 2020 2022 2222 0d0a 0d0a 2020 2020 2020     """....      
+000156e0: 2020 2320 5072 6570 6172 6520 7175 6572    # Prepare quer
+000156f0: 7920 5552 4c0d 0a20 2020 2020 2020 205f  y URL..        _
+00015700: 7572 6c5f 7061 7468 203d 2027 2f73 7562  url_path = '/sub
+00015710: 7363 7269 7074 696f 6e73 2f7b 7375 6273  scriptions/{subs
+00015720: 6372 6970 7469 6f6e 5f69 647d 2f62 6f6c  cription_id}/bol
+00015730: 6574 6f2d 6475 652d 6461 7973 270d 0a20  eto-due-days'.. 
+00015740: 2020 2020 2020 205f 7572 6c5f 7061 7468         _url_path
+00015750: 203d 2041 5049 4865 6c70 6572 2e61 7070   = APIHelper.app
+00015760: 656e 645f 7572 6c5f 7769 7468 5f74 656d  end_url_with_tem
+00015770: 706c 6174 655f 7061 7261 6d65 7465 7273  plate_parameters
+00015780: 285f 7572 6c5f 7061 7468 2c20 7b20 0d0a  (_url_path, { ..
+00015790: 2020 2020 2020 2020 2020 2020 2773 7562              'sub
+000157a0: 7363 7269 7074 696f 6e5f 6964 273a 2073  scription_id': s
+000157b0: 7562 7363 7269 7074 696f 6e5f 6964 0d0a  ubscription_id..
+000157c0: 2020 2020 2020 2020 7d29 0d0a 2020 2020          })..    
+000157d0: 2020 2020 5f71 7565 7279 5f62 7569 6c64      _query_build
+000157e0: 6572 203d 2043 6f6e 6669 6775 7261 7469  er = Configurati
+000157f0: 6f6e 2e62 6173 655f 7572 690d 0a20 2020  on.base_uri..   
+00015800: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
+00015810: 6465 7220 2b3d 205f 7572 6c5f 7061 7468  der += _url_path
+00015820: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+00015830: 5f75 726c 203d 2041 5049 4865 6c70 6572  _url = APIHelper
+00015840: 2e63 6c65 616e 5f75 726c 285f 7175 6572  .clean_url(_quer
+00015850: 795f 6275 696c 6465 7229 0d0a 0d0a 2020  y_builder)....  
+00015860: 2020 2020 2020 2320 5072 6570 6172 6520        # Prepare 
+00015870: 6865 6164 6572 730d 0a20 2020 2020 2020  headers..       
+00015880: 205f 6865 6164 6572 7320 3d20 7b0d 0a20   _headers = {.. 
+00015890: 2020 2020 2020 2020 2020 2027 6163 6365             'acce
+000158a0: 7074 273a 2027 6170 706c 6963 6174 696f  pt': 'applicatio
+000158b0: 6e2f 6a73 6f6e 272c 0d0a 2020 2020 2020  n/json',..      
+000158c0: 2020 2020 2020 2753 6572 7669 6365 5265        'ServiceRe
+000158d0: 6665 7265 724e 616d 6527 3a20 436f 6e66  fererName': Conf
+000158e0: 6967 7572 6174 696f 6e2e 7365 7276 6963  iguration.servic
+000158f0: 655f 7265 6665 7265 725f 6e61 6d65 2c0d  e_referer_name,.
+00015900: 0a20 2020 2020 2020 2020 2020 2027 436f  .            'Co
+00015910: 6e74 656e 742d 5479 7065 273a 2027 6170  ntent-Type': 'ap
+00015920: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
+00015930: 0d0a 2020 2020 2020 2020 2020 2020 2769  ..            'i
+00015940: 6465 6d70 6f74 656e 6379 2d6b 6579 273a  dempotency-key':
+00015950: 2069 6465 6d70 6f74 656e 6379 5f6b 6579   idempotency_key
+00015960: 0d0a 2020 2020 2020 2020 7d0d 0a0d 0a20  ..        }.... 
+00015970: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
+00015980: 2061 6e64 2065 7865 6375 7465 2072 6571   and execute req
+00015990: 7565 7374 0d0a 2020 2020 2020 2020 5f72  uest..        _r
+000159a0: 6571 7565 7374 203d 2073 656c 662e 6874  equest = self.ht
+000159b0: 7470 5f63 6c69 656e 742e 7061 7463 6828  tp_client.patch(
+000159c0: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
+000159d0: 6572 733d 5f68 6561 6465 7273 2c20 7061  ers=_headers, pa
+000159e0: 7261 6d65 7465 7273 3d41 5049 4865 6c70  rameters=APIHelp
+000159f0: 6572 2e6a 736f 6e5f 7365 7269 616c 697a  er.json_serializ
+00015a00: 6528 626f 6479 2929 0d0a 2020 2020 2020  e(body))..      
+00015a10: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
+00015a20: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
+00015a30: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
+00015a40: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
+00015a50: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
+00015a60: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
+00015a70: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
+00015a80: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
+00015a90: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
+00015aa0: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
+00015ab0: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
+00015ac0: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00015ad0: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
+00015ae0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00015af0: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
+00015b00: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
+00015b10: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00015b20: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00015b30: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00015b40: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
+00015b50: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00015b60: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00015b70: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
+00015b80: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00015b90: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00015ba0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00015bb0: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
+00015bc0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00015bd0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00015be0: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
+00015bf0: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
+00015c00: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
+00015c10: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+00015c20: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00015c30: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00015c40: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
+00015c50: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00015c60: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
+00015c70: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
+00015c80: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+00015c90: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00015ca0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00015cb0: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
+00015cc0: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
+00015cd0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00015ce0: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
+00015cf0: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
+00015d00: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00015d10: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00015d20: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00015d30: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
+00015d40: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00015d50: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00015d60: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
+00015d70: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
+00015d80: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
+00015d90: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
+00015da0: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
+00015db0: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
+00015dc0: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
+00015dd0: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
+00015de0: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
+00015df0: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
+00015e00: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00015e10: 2e72 6177 5f62 6f64 792c 2047 6574 5375  .raw_body, GetSu
+00015e20: 6273 6372 6970 7469 6f6e 5265 7370 6f6e  bscriptionRespon
+00015e30: 7365 2e66 726f 6d5f 6469 6374 696f 6e61  se.from_dictiona
+00015e40: 7279 290d 0a0d 0a20 2020 2064 6566 2067  ry)....    def g
+00015e50: 6574 5f64 6973 636f 756e 7473 2873 656c  et_discounts(sel
+00015e60: 662c 0d0a 2020 2020 2020 2020 2020 2020  f,..            
+00015e70: 2020 2020 2020 2020 2020 7375 6273 6372            subscr
+00015e80: 6970 7469 6f6e 5f69 642c 0d0a 2020 2020  iption_id,..    
+00015e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015ea0: 2020 7061 6765 2c0d 0a20 2020 2020 2020    page,..       
+00015eb0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00015ec0: 697a 6529 3a0d 0a20 2020 2020 2020 2022  ize):..        "
+00015ed0: 2222 446f 6573 2061 2047 4554 2072 6571  ""Does a GET req
+00015ee0: 7565 7374 2074 6f20 2f73 7562 7363 7269  uest to /subscri
+00015ef0: 7074 696f 6e73 2f7b 7375 6273 6372 6970  ptions/{subscrip
+00015f00: 7469 6f6e 5f69 647d 2f64 6973 636f 756e  tion_id}/discoun
+00015f10: 7473 2f2e 0d0a 0d0a 2020 2020 2020 2020  ts/.....        
+00015f20: 4765 7444 6973 636f 756e 7473 0d0a 0d0a  GetDiscounts....
+00015f30: 2020 2020 2020 2020 4172 6773 3a0d 0a20          Args:.. 
+00015f40: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
+00015f50: 7269 7074 696f 6e5f 6964 2028 7374 7269  ription_id (stri
+00015f60: 6e67 293a 2054 6865 2073 7562 7363 7269  ng): The subscri
+00015f70: 7074 696f 6e20 6964 0d0a 2020 2020 2020  ption id..      
+00015f80: 2020 2020 2020 7061 6765 2028 696e 7429        page (int)
+00015f90: 3a20 5061 6765 206e 756d 6265 720d 0a20  : Page number.. 
+00015fa0: 2020 2020 2020 2020 2020 2073 697a 6520             size 
+00015fb0: 2869 6e74 293a 2050 6167 6520 7369 7a65  (int): Page size
+00015fc0: 0d0a 0d0a 2020 2020 2020 2020 5265 7475  ....        Retu
+00015fd0: 726e 733a 0d0a 2020 2020 2020 2020 2020  rns:..          
+00015fe0: 2020 4c69 7374 4469 7363 6f75 6e74 7352    ListDiscountsR
+00015ff0: 6573 706f 6e73 653a 2052 6573 706f 6e73  esponse: Respons
+00016000: 6520 6672 6f6d 2074 6865 2041 5049 2e20  e from the API. 
+00016010: 0d0a 0d0a 2020 2020 2020 2020 5261 6973  ....        Rais
+00016020: 6573 3a0d 0a20 2020 2020 2020 2020 2020  es:..           
+00016030: 2041 5049 4578 6365 7074 696f 6e3a 2057   APIException: W
+00016040: 6865 6e20 616e 2065 7272 6f72 206f 6363  hen an error occ
+00016050: 7572 7320 7768 696c 6520 6665 7463 6869  urs while fetchi
+00016060: 6e67 2074 6865 2064 6174 6120 6672 6f6d  ng the data from
+00016070: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00016080: 2020 7468 6520 7265 6d6f 7465 2041 5049    the remote API
+00016090: 2e20 5468 6973 2065 7863 6570 7469 6f6e  . This exception
+000160a0: 2069 6e63 6c75 6465 7320 7468 6520 4854   includes the HT
+000160b0: 5450 2052 6573 706f 6e73 650d 0a20 2020  TP Response..   
+000160c0: 2020 2020 2020 2020 2020 2020 2063 6f64               cod
+000160d0: 652c 2061 6e20 6572 726f 7220 6d65 7373  e, an error mess
+000160e0: 6167 652c 2061 6e64 2074 6865 2048 5454  age, and the HTT
+000160f0: 5020 626f 6479 2074 6861 7420 7761 7320  P body that was 
+00016100: 7265 6365 6976 6564 2069 6e0d 0a20 2020  received in..   
+00016110: 2020 2020 2020 2020 2020 2020 2074 6865               the
+00016120: 2072 6571 7565 7374 2e0d 0a0d 0a20 2020   request.....   
+00016130: 2020 2020 2022 2222 0d0a 0d0a 2020 2020       """....    
+00016140: 2020 2020 2320 5072 6570 6172 6520 7175      # Prepare qu
+00016150: 6572 7920 5552 4c0d 0a20 2020 2020 2020  ery URL..       
+00016160: 205f 7572 6c5f 7061 7468 203d 2027 2f73   _url_path = '/s
+00016170: 7562 7363 7269 7074 696f 6e73 2f7b 7375  ubscriptions/{su
+00016180: 6273 6372 6970 7469 6f6e 5f69 647d 2f64  bscription_id}/d
+00016190: 6973 636f 756e 7473 2f27 0d0a 2020 2020  iscounts/'..    
+000161a0: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
+000161b0: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
+000161c0: 5f75 726c 5f77 6974 685f 7465 6d70 6c61  _url_with_templa
+000161d0: 7465 5f70 6172 616d 6574 6572 7328 5f75  te_parameters(_u
+000161e0: 726c 5f70 6174 682c 207b 200d 0a20 2020  rl_path, { ..   
+000161f0: 2020 2020 2020 2020 2027 7375 6273 6372           'subscr
+00016200: 6970 7469 6f6e 5f69 6427 3a20 7375 6273  iption_id': subs
+00016210: 6372 6970 7469 6f6e 5f69 640d 0a20 2020  cription_id..   
+00016220: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
+00016230: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
+00016240: 3d20 436f 6e66 6967 7572 6174 696f 6e2e  = Configuration.
+00016250: 6261 7365 5f75 7269 0d0a 2020 2020 2020  base_uri..      
+00016260: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
+00016270: 202b 3d20 5f75 726c 5f70 6174 680d 0a20   += _url_path.. 
+00016280: 2020 2020 2020 205f 7175 6572 795f 7061         _query_pa
+00016290: 7261 6d65 7465 7273 203d 207b 0d0a 2020  rameters = {..  
+000162a0: 2020 2020 2020 2020 2020 2770 6167 6527            'page'
+000162b0: 3a20 7061 6765 2c0d 0a20 2020 2020 2020  : page,..       
+000162c0: 2020 2020 2027 7369 7a65 273a 2073 697a       'size': siz
+000162d0: 650d 0a20 2020 2020 2020 207d 0d0a 2020  e..        }..  
+000162e0: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
+000162f0: 6c64 6572 203d 2041 5049 4865 6c70 6572  lder = APIHelper
+00016300: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
+00016310: 5f71 7565 7279 5f70 6172 616d 6574 6572  _query_parameter
+00016320: 7328 5f71 7565 7279 5f62 7569 6c64 6572  s(_query_builder
+00016330: 2c0d 0a20 2020 2020 2020 2020 2020 205f  ,..            _
+00016340: 7175 6572 795f 7061 7261 6d65 7465 7273  query_parameters
+00016350: 2c20 436f 6e66 6967 7572 6174 696f 6e2e  , Configuration.
+00016360: 6172 7261 795f 7365 7269 616c 697a 6174  array_serializat
+00016370: 696f 6e29 0d0a 2020 2020 2020 2020 5f71  ion)..        _q
+00016380: 7565 7279 5f75 726c 203d 2041 5049 4865  uery_url = APIHe
+00016390: 6c70 6572 2e63 6c65 616e 5f75 726c 285f  lper.clean_url(_
+000163a0: 7175 6572 795f 6275 696c 6465 7229 0d0a  query_builder)..
+000163b0: 0d0a 2020 2020 2020 2020 2320 5072 6570  ..        # Prep
+000163c0: 6172 6520 6865 6164 6572 730d 0a20 2020  are headers..   
+000163d0: 2020 2020 205f 6865 6164 6572 7320 3d20       _headers = 
+000163e0: 7b0d 0a20 2020 2020 2020 2020 2020 2027  {..            '
+000163f0: 6163 6365 7074 273a 2027 6170 706c 6963  accept': 'applic
+00016400: 6174 696f 6e2f 6a73 6f6e 272c 0d0a 2020  ation/json',..  
+00016410: 2020 2020 2020 2020 2020 2753 6572 7669            'Servi
+00016420: 6365 5265 6665 7265 724e 616d 6527 3a20  ceRefererName': 
+00016430: 436f 6e66 6967 7572 6174 696f 6e2e 7365  Configuration.se
+00016440: 7276 6963 655f 7265 6665 7265 725f 6e61  rvice_referer_na
+00016450: 6d65 0d0a 2020 2020 2020 2020 7d0d 0a0d  me..        }...
+00016460: 0a20 2020 2020 2020 2023 2050 7265 7061  .        # Prepa
+00016470: 7265 2061 6e64 2065 7865 6375 7465 2072  re and execute r
+00016480: 6571 7565 7374 0d0a 2020 2020 2020 2020  equest..        
+00016490: 5f72 6571 7565 7374 203d 2073 656c 662e  _request = self.
+000164a0: 6874 7470 5f63 6c69 656e 742e 6765 7428  http_client.get(
+000164b0: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
+000164c0: 6572 733d 5f68 6561 6465 7273 290d 0a20  ers=_headers).. 
+000164d0: 2020 2020 2020 2042 6173 6963 4175 7468         BasicAuth
+000164e0: 2e61 7070 6c79 285f 7265 7175 6573 7429  .apply(_request)
+000164f0: 0d0a 2020 2020 2020 2020 5f63 6f6e 7465  ..        _conte
+00016500: 7874 203d 2073 656c 662e 6578 6563 7574  xt = self.execut
+00016510: 655f 7265 7175 6573 7428 5f72 6571 7565  e_request(_reque
+00016520: 7374 290d 0a0d 0a20 2020 2020 2020 2023  st)....        #
+00016530: 2045 6e64 706f 696e 7420 616e 6420 676c   Endpoint and gl
+00016540: 6f62 616c 2065 7272 6f72 2068 616e 646c  obal error handl
+00016550: 696e 6720 7573 696e 6720 4854 5450 2073  ing using HTTP s
+00016560: 7461 7475 7320 636f 6465 732e 0d0a 2020  tatus codes...  
+00016570: 2020 2020 2020 6966 205f 636f 6e74 6578        if _contex
+00016580: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+00016590: 735f 636f 6465 203d 3d20 3430 303a 0d0a  s_code == 400:..
+000165a0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+000165b0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+000165c0: 2827 496e 7661 6c69 6420 7265 7175 6573  ('Invalid reques
+000165d0: 7427 2c20 5f63 6f6e 7465 7874 290d 0a20  t', _context).. 
+000165e0: 2020 2020 2020 2065 6c69 6620 5f63 6f6e         elif _con
+000165f0: 7465 7874 2e72 6573 706f 6e73 652e 7374  text.response.st
+00016600: 6174 7573 5f63 6f64 6520 3d3d 2034 3031  atus_code == 401
+00016610: 3a0d 0a20 2020 2020 2020 2020 2020 2072  :..            r
+00016620: 6169 7365 2045 7272 6f72 4578 6365 7074  aise ErrorExcept
+00016630: 696f 6e28 2749 6e76 616c 6964 2041 5049  ion('Invalid API
+00016640: 206b 6579 272c 205f 636f 6e74 6578 7429   key', _context)
+00016650: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+00016660: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+00016670: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00016680: 3430 343a 0d0a 2020 2020 2020 2020 2020  404:..          
+00016690: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+000166a0: 6570 7469 6f6e 2827 416e 2069 6e66 6f72  eption('An infor
+000166b0: 6d65 6420 7265 736f 7572 6365 2077 6173  med resource was
+000166c0: 206e 6f74 2066 6f75 6e64 272c 205f 636f   not found', _co
+000166d0: 6e74 6578 7429 0d0a 2020 2020 2020 2020  ntext)..        
+000166e0: 656c 6966 205f 636f 6e74 6578 742e 7265  elif _context.re
+000166f0: 7370 6f6e 7365 2e73 7461 7475 735f 636f  sponse.status_co
+00016700: 6465 203d 3d20 3431 323a 0d0a 2020 2020  de == 412:..    
+00016710: 2020 2020 2020 2020 7261 6973 6520 4572          raise Er
+00016720: 726f 7245 7863 6570 7469 6f6e 2827 4275  rorException('Bu
+00016730: 7369 6e65 7373 2076 616c 6964 6174 696f  siness validatio
+00016740: 6e20 6572 726f 7227 2c20 5f63 6f6e 7465  n error', _conte
+00016750: 7874 290d 0a20 2020 2020 2020 2065 6c69  xt)..        eli
+00016760: 6620 5f63 6f6e 7465 7874 2e72 6573 706f  f _context.respo
+00016770: 6e73 652e 7374 6174 7573 5f63 6f64 6520  nse.status_code 
+00016780: 3d3d 2034 3232 3a0d 0a20 2020 2020 2020  == 422:..       
+00016790: 2020 2020 2072 6169 7365 2045 7272 6f72       raise Error
+000167a0: 4578 6365 7074 696f 6e28 2743 6f6e 7472  Exception('Contr
+000167b0: 6163 7420 7661 6c69 6461 7469 6f6e 2065  act validation e
+000167c0: 7272 6f72 272c 205f 636f 6e74 6578 7429  rror', _context)
+000167d0: 0d0a 2020 2020 2020 2020 656c 6966 205f  ..        elif _
+000167e0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+000167f0: 2e73 7461 7475 735f 636f 6465 203d 3d20  .status_code == 
+00016800: 3530 303a 0d0a 2020 2020 2020 2020 2020  500:..          
+00016810: 2020 7261 6973 6520 4572 726f 7245 7863    raise ErrorExc
+00016820: 6570 7469 6f6e 2827 496e 7465 726e 616c  eption('Internal
+00016830: 2073 6572 7665 7220 6572 726f 7227 2c20   server error', 
+00016840: 5f63 6f6e 7465 7874 290d 0a20 2020 2020  _context)..     
+00016850: 2020 2073 656c 662e 7661 6c69 6461 7465     self.validate
+00016860: 5f72 6573 706f 6e73 6528 5f63 6f6e 7465  _response(_conte
+00016870: 7874 290d 0a0d 0a20 2020 2020 2020 2023  xt)....        #
+00016880: 2052 6574 7572 6e20 6170 7072 6f70 7269   Return appropri
+00016890: 6174 6520 7479 7065 0d0a 2020 2020 2020  ate type..      
+000168a0: 2020 7265 7475 726e 2041 5049 4865 6c70    return APIHelp
+000168b0: 6572 2e6a 736f 6e5f 6465 7365 7269 616c  er.json_deserial
+000168c0: 697a 6528 5f63 6f6e 7465 7874 2e72 6573  ize(_context.res
+000168d0: 706f 6e73 652e 7261 775f 626f 6479 2c20  ponse.raw_body, 
+000168e0: 4c69 7374 4469 7363 6f75 6e74 7352 6573  ListDiscountsRes
+000168f0: 706f 6e73 652e 6672 6f6d 5f64 6963 7469  ponse.from_dicti
+00016900: 6f6e 6172 7929 0d0a 0d0a 2020 2020 6465  onary)....    de
+00016910: 6620 6372 6561 7465 5f69 6e63 7265 6d65  f create_increme
+00016920: 6e74 2873 656c 662c 0d0a 2020 2020 2020  nt(self,..      
+00016930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016940: 2020 2073 7562 7363 7269 7074 696f 6e5f     subscription_
+00016950: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
+00016960: 2020 2020 2020 2020 2020 2020 2020 626f                bo
+00016970: 6479 2c0d 0a20 2020 2020 2020 2020 2020  dy,..           
+00016980: 2020 2020 2020 2020 2020 2020 2020 6964                id
+00016990: 656d 706f 7465 6e63 795f 6b65 793d 4e6f  empotency_key=No
+000169a0: 6e65 293a 0d0a 2020 2020 2020 2020 2222  ne):..        ""
+000169b0: 2244 6f65 7320 6120 504f 5354 2072 6571  "Does a POST req
+000169c0: 7565 7374 2074 6f20 2f73 7562 7363 7269  uest to /subscri
+000169d0: 7074 696f 6e73 2f7b 7375 6273 6372 6970  ptions/{subscrip
+000169e0: 7469 6f6e 5f69 647d 2f69 6e63 7265 6d65  tion_id}/increme
+000169f0: 6e74 732e 0d0a 0d0a 2020 2020 2020 2020  nts.....        
+00016a00: 4372 6561 7465 7320 6120 696e 6372 656d  Creates a increm
+00016a10: 656e 740d 0a0d 0a20 2020 2020 2020 2041  ent....        A
+00016a20: 7267 733a 0d0a 2020 2020 2020 2020 2020  rgs:..          
+00016a30: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
+00016a40: 6420 2873 7472 696e 6729 3a20 5375 6273  d (string): Subs
+00016a50: 6372 6970 7469 6f6e 2069 640d 0a20 2020  cription id..   
+00016a60: 2020 2020 2020 2020 2062 6f64 7920 2853           body (S
+00016a70: 7562 7363 7269 7074 696f 6e73 496e 6372  ubscriptionsIncr
+00016a80: 656d 656e 7473 5265 7175 6573 7429 3a20  ementsRequest): 
+00016a90: 5265 7175 6573 7420 666f 7220 6372 6561  Request for crea
+00016aa0: 7469 6e67 2061 0d0a 2020 2020 2020 2020  ting a..        
+00016ab0: 2020 2020 2020 2020 696e 6372 656d 656e          incremen
+00016ac0: 740d 0a20 2020 2020 2020 2020 2020 2069  t..            i
+00016ad0: 6465 6d70 6f74 656e 6379 5f6b 6579 2028  dempotency_key (
+00016ae0: 7374 7269 6e67 2c20 6f70 7469 6f6e 616c  string, optional
+00016af0: 293a 2054 4f44 4f3a 2074 7970 6520 6465  ): TODO: type de
+00016b00: 7363 7269 7074 696f 6e20 6865 7265 2e0d  scription here..
+00016b10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016b20: 2045 7861 6d70 6c65 3a20 0d0a 0d0a 2020   Example: ....  
+00016b30: 2020 2020 2020 5265 7475 726e 733a 0d0a        Returns:..
+00016b40: 2020 2020 2020 2020 2020 2020 5375 6273              Subs
+00016b50: 6372 6970 7469 6f6e 7349 6e63 7265 6d65  criptionsIncreme
+00016b60: 6e74 7352 6573 706f 6e73 653a 2052 6573  ntsResponse: Res
+00016b70: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
+00016b80: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
+00016b90: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
+00016ba0: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
+00016bb0: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
+00016bc0: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
+00016bd0: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
+00016be0: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
+00016bf0: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
+00016c00: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
+00016c10: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
+00016c20: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
+00016c30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016c40: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
+00016c50: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
+00016c60: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
+00016c70: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
+00016c80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016c90: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
+00016ca0: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
+00016cb0: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+00016cc0: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
+00016cd0: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
+00016ce0: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
+00016cf0: 2f7b 7375 6273 6372 6970 7469 6f6e 5f69  /{subscription_i
+00016d00: 647d 2f69 6e63 7265 6d65 6e74 7327 0d0a  d}/increments'..
+00016d10: 2020 2020 2020 2020 5f75 726c 5f70 6174          _url_pat
+00016d20: 6820 3d20 4150 4948 656c 7065 722e 6170  h = APIHelper.ap
+00016d30: 7065 6e64 5f75 726c 5f77 6974 685f 7465  pend_url_with_te
+00016d40: 6d70 6c61 7465 5f70 6172 616d 6574 6572  mplate_parameter
+00016d50: 7328 5f75 726c 5f70 6174 682c 207b 200d  s(_url_path, { .
+00016d60: 0a20 2020 2020 2020 2020 2020 2027 7375  .            'su
+00016d70: 6273 6372 6970 7469 6f6e 5f69 6427 3a20  bscription_id': 
+00016d80: 7375 6273 6372 6970 7469 6f6e 5f69 640d  subscription_id.
+00016d90: 0a20 2020 2020 2020 207d 290d 0a20 2020  .        })..   
+00016da0: 2020 2020 205f 7175 6572 795f 6275 696c       _query_buil
+00016db0: 6465 7220 3d20 436f 6e66 6967 7572 6174  der = Configurat
+00016dc0: 696f 6e2e 6261 7365 5f75 7269 0d0a 2020  ion.base_uri..  
+00016dd0: 2020 2020 2020 5f71 7565 7279 5f62 7569        _query_bui
+00016de0: 6c64 6572 202b 3d20 5f75 726c 5f70 6174  lder += _url_pat
+00016df0: 680d 0a20 2020 2020 2020 205f 7175 6572  h..        _quer
+00016e00: 795f 7572 6c20 3d20 4150 4948 656c 7065  y_url = APIHelpe
+00016e10: 722e 636c 6561 6e5f 7572 6c28 5f71 7565  r.clean_url(_que
+00016e20: 7279 5f62 7569 6c64 6572 290d 0a0d 0a20  ry_builder).... 
+00016e30: 2020 2020 2020 2023 2050 7265 7061 7265         # Prepare
+00016e40: 2068 6561 6465 7273 0d0a 2020 2020 2020   headers..      
+00016e50: 2020 5f68 6561 6465 7273 203d 207b 0d0a    _headers = {..
+00016e60: 2020 2020 2020 2020 2020 2020 2761 6363              'acc
+00016e70: 6570 7427 3a20 2761 7070 6c69 6361 7469  ept': 'applicati
+00016e80: 6f6e 2f6a 736f 6e27 2c0d 0a20 2020 2020  on/json',..     
+00016e90: 2020 2020 2020 2027 5365 7276 6963 6552         'ServiceR
+00016ea0: 6566 6572 6572 4e61 6d65 273a 2043 6f6e  efererName': Con
+00016eb0: 6669 6775 7261 7469 6f6e 2e73 6572 7669  figuration.servi
+00016ec0: 6365 5f72 6566 6572 6572 5f6e 616d 652c  ce_referer_name,
+00016ed0: 0d0a 2020 2020 2020 2020 2020 2020 2743  ..            'C
+00016ee0: 6f6e 7465 6e74 2d54 7970 6527 3a20 2761  ontent-Type': 'a
+00016ef0: 7070 6c69 6361 7469 6f6e 2f6a 736f 6e27  pplication/json'
+00016f00: 2c0d 0a20 2020 2020 2020 2020 2020 2027  ,..            '
+00016f10: 6964 656d 706f 7465 6e63 792d 6b65 7927  idempotency-key'
+00016f20: 3a20 6964 656d 706f 7465 6e63 795f 6b65  : idempotency_ke
+00016f30: 790d 0a20 2020 2020 2020 207d 0d0a 0d0a  y..        }....
+00016f40: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+00016f50: 6520 616e 6420 6578 6563 7574 6520 7265  e and execute re
+00016f60: 7175 6573 740d 0a20 2020 2020 2020 205f  quest..        _
+00016f70: 7265 7175 6573 7420 3d20 7365 6c66 2e68  request = self.h
+00016f80: 7474 705f 636c 6965 6e74 2e70 6f73 7428  ttp_client.post(
+00016f90: 5f71 7565 7279 5f75 726c 2c20 6865 6164  _query_url, head
+00016fa0: 6572 733d 5f68 6561 6465 7273 2c20 7061  ers=_headers, pa
+00016fb0: 7261 6d65 7465 7273 3d41 5049 4865 6c70  rameters=APIHelp
+00016fc0: 6572 2e6a 736f 6e5f 7365 7269 616c 697a  er.json_serializ
+00016fd0: 6528 626f 6479 2929 0d0a 2020 2020 2020  e(body))..      
+00016fe0: 2020 4261 7369 6341 7574 682e 6170 706c    BasicAuth.appl
+00016ff0: 7928 5f72 6571 7565 7374 290d 0a20 2020  y(_request)..   
+00017000: 2020 2020 205f 636f 6e74 6578 7420 3d20       _context = 
+00017010: 7365 6c66 2e65 7865 6375 7465 5f72 6571  self.execute_req
+00017020: 7565 7374 285f 7265 7175 6573 7429 0d0a  uest(_request)..
+00017030: 0d0a 2020 2020 2020 2020 2320 456e 6470  ..        # Endp
+00017040: 6f69 6e74 2061 6e64 2067 6c6f 6261 6c20  oint and global 
+00017050: 6572 726f 7220 6861 6e64 6c69 6e67 2075  error handling u
+00017060: 7369 6e67 2048 5454 5020 7374 6174 7573  sing HTTP status
+00017070: 2063 6f64 6573 2e0d 0a20 2020 2020 2020   codes...       
+00017080: 2069 6620 5f63 6f6e 7465 7874 2e72 6573   if _context.res
+00017090: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+000170a0: 6520 3d3d 2034 3030 3a0d 0a20 2020 2020  e == 400:..     
+000170b0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+000170c0: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
+000170d0: 616c 6964 2072 6571 7565 7374 272c 205f  alid request', _
+000170e0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+000170f0: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00017100: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00017110: 636f 6465 203d 3d20 3430 313a 0d0a 2020  code == 401:..  
+00017120: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00017130: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00017140: 496e 7661 6c69 6420 4150 4920 6b65 7927  Invalid API key'
+00017150: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00017160: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00017170: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00017180: 7573 5f63 6f64 6520 3d3d 2034 3034 3a0d  us_code == 404:.
+00017190: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+000171a0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+000171b0: 6e28 2741 6e20 696e 666f 726d 6564 2072  n('An informed r
+000171c0: 6573 6f75 7263 6520 7761 7320 6e6f 7420  esource was not 
+000171d0: 666f 756e 6427 2c20 5f63 6f6e 7465 7874  found', _context
+000171e0: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+000171f0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+00017200: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+00017210: 2034 3132 3a0d 0a20 2020 2020 2020 2020   412:..         
+00017220: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+00017230: 6365 7074 696f 6e28 2742 7573 696e 6573  ception('Busines
+00017240: 7320 7661 6c69 6461 7469 6f6e 2065 7272  s validation err
+00017250: 6f72 272c 205f 636f 6e74 6578 7429 0d0a  or', _context)..
+00017260: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00017270: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00017280: 7461 7475 735f 636f 6465 203d 3d20 3432  tatus_code == 42
+00017290: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
+000172a0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+000172b0: 7469 6f6e 2827 436f 6e74 7261 6374 2076  tion('Contract v
+000172c0: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
+000172d0: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+000172e0: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+000172f0: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00017300: 7573 5f63 6f64 6520 3d3d 2035 3030 3a0d  us_code == 500:.
+00017310: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00017320: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00017330: 6e28 2749 6e74 6572 6e61 6c20 7365 7276  n('Internal serv
+00017340: 6572 2065 7272 6f72 272c 205f 636f 6e74  er error', _cont
+00017350: 6578 7429 0d0a 2020 2020 2020 2020 7365  ext)..        se
+00017360: 6c66 2e76 616c 6964 6174 655f 7265 7370  lf.validate_resp
+00017370: 6f6e 7365 285f 636f 6e74 6578 7429 0d0a  onse(_context)..
+00017380: 0d0a 2020 2020 2020 2020 2320 5265 7475  ..        # Retu
+00017390: 726e 2061 7070 726f 7072 6961 7465 2074  rn appropriate t
+000173a0: 7970 650d 0a20 2020 2020 2020 2072 6574  ype..        ret
+000173b0: 7572 6e20 4150 4948 656c 7065 722e 6a73  urn APIHelper.js
+000173c0: 6f6e 5f64 6573 6572 6961 6c69 7a65 285f  on_deserialize(_
+000173d0: 636f 6e74 6578 742e 7265 7370 6f6e 7365  context.response
+000173e0: 2e72 6177 5f62 6f64 792c 2053 7562 7363  .raw_body, Subsc
+000173f0: 7269 7074 696f 6e73 496e 6372 656d 656e  riptionsIncremen
+00017400: 7473 5265 7370 6f6e 7365 2e66 726f 6d5f  tsResponse.from_
+00017410: 6469 6374 696f 6e61 7279 290d 0a0d 0a20  dictionary).... 
+00017420: 2020 2064 6566 2067 6574 5f64 6973 636f     def get_disco
+00017430: 756e 745f 6279 5f69 6428 7365 6c66 2c0d  unt_by_id(self,.
+00017440: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017450: 2020 2020 2020 2020 2020 2020 7375 6273              subs
+00017460: 6372 6970 7469 6f6e 5f69 642c 0d0a 2020  cription_id,..  
+00017470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017480: 2020 2020 2020 2020 2064 6973 636f 756e           discoun
+00017490: 745f 6964 293a 0d0a 2020 2020 2020 2020  t_id):..        
+000174a0: 2222 2244 6f65 7320 6120 4745 5420 7265  """Does a GET re
+000174b0: 7175 6573 7420 746f 202f 7375 6273 6372  quest to /subscr
+000174c0: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
+000174d0: 7074 696f 6e5f 6964 7d2f 6469 7363 6f75  ption_id}/discou
+000174e0: 6e74 732f 7b64 6973 636f 756e 7449 647d  nts/{discountId}
+000174f0: 2e0d 0a0d 0a20 2020 2020 2020 2047 6574  .....        Get
+00017500: 4469 7363 6f75 6e74 4279 4964 0d0a 0d0a  DiscountById....
+00017510: 2020 2020 2020 2020 4172 6773 3a0d 0a20          Args:.. 
+00017520: 2020 2020 2020 2020 2020 2073 7562 7363             subsc
+00017530: 7269 7074 696f 6e5f 6964 2028 7374 7269  ription_id (stri
+00017540: 6e67 293a 2054 6865 2073 7562 7363 7269  ng): The subscri
+00017550: 7074 696f 6e20 6964 0d0a 2020 2020 2020  ption id..      
+00017560: 2020 2020 2020 6469 7363 6f75 6e74 5f69        discount_i
+00017570: 6420 2873 7472 696e 6729 3a20 544f 444f  d (string): TODO
+00017580: 3a20 7479 7065 2064 6573 6372 6970 7469  : type descripti
+00017590: 6f6e 2068 6572 652e 2045 7861 6d70 6c65  on here. Example
+000175a0: 3a20 0d0a 0d0a 2020 2020 2020 2020 5265  : ....        Re
+000175b0: 7475 726e 733a 0d0a 2020 2020 2020 2020  turns:..        
+000175c0: 2020 2020 5375 6273 6372 6970 7469 6f6e      Subscription
+000175d0: 7344 6973 636f 756e 7473 5265 7370 6f6e  sDiscountsRespon
+000175e0: 7365 3a20 5265 7370 6f6e 7365 2066 726f  se: Response fro
+000175f0: 6d20 7468 6520 4150 492e 200d 0a0d 0a20  m the API. .... 
+00017600: 2020 2020 2020 2052 6169 7365 733a 0d0a         Raises:..
+00017610: 2020 2020 2020 2020 2020 2020 4150 4945              APIE
+00017620: 7863 6570 7469 6f6e 3a20 5768 656e 2061  xception: When a
+00017630: 6e20 6572 726f 7220 6f63 6375 7273 2077  n error occurs w
+00017640: 6869 6c65 2066 6574 6368 696e 6720 7468  hile fetching th
+00017650: 6520 6461 7461 2066 726f 6d0d 0a20 2020  e data from..   
+00017660: 2020 2020 2020 2020 2020 2020 2074 6865               the
+00017670: 2072 656d 6f74 6520 4150 492e 2054 6869   remote API. Thi
+00017680: 7320 6578 6365 7074 696f 6e20 696e 636c  s exception incl
+00017690: 7564 6573 2074 6865 2048 5454 5020 5265  udes the HTTP Re
+000176a0: 7370 6f6e 7365 0d0a 2020 2020 2020 2020  sponse..        
+000176b0: 2020 2020 2020 2020 636f 6465 2c20 616e          code, an
+000176c0: 2065 7272 6f72 206d 6573 7361 6765 2c20   error message, 
+000176d0: 616e 6420 7468 6520 4854 5450 2062 6f64  and the HTTP bod
+000176e0: 7920 7468 6174 2077 6173 2072 6563 6569  y that was recei
+000176f0: 7665 6420 696e 0d0a 2020 2020 2020 2020  ved in..        
+00017700: 2020 2020 2020 2020 7468 6520 7265 7175          the requ
+00017710: 6573 742e 0d0a 0d0a 2020 2020 2020 2020  est.....        
+00017720: 2222 220d 0a0d 0a20 2020 2020 2020 2023  """....        #
+00017730: 2050 7265 7061 7265 2071 7565 7279 2055   Prepare query U
+00017740: 524c 0d0a 2020 2020 2020 2020 5f75 726c  RL..        _url
+00017750: 5f70 6174 6820 3d20 272f 7375 6273 6372  _path = '/subscr
+00017760: 6970 7469 6f6e 732f 7b73 7562 7363 7269  iptions/{subscri
+00017770: 7074 696f 6e5f 6964 7d2f 6469 7363 6f75  ption_id}/discou
+00017780: 6e74 732f 7b64 6973 636f 756e 7449 647d  nts/{discountId}
+00017790: 270d 0a20 2020 2020 2020 205f 7572 6c5f  '..        _url_
+000177a0: 7061 7468 203d 2041 5049 4865 6c70 6572  path = APIHelper
+000177b0: 2e61 7070 656e 645f 7572 6c5f 7769 7468  .append_url_with
+000177c0: 5f74 656d 706c 6174 655f 7061 7261 6d65  _template_parame
+000177d0: 7465 7273 285f 7572 6c5f 7061 7468 2c20  ters(_url_path, 
+000177e0: 7b20 0d0a 2020 2020 2020 2020 2020 2020  { ..            
+000177f0: 2773 7562 7363 7269 7074 696f 6e5f 6964  'subscription_id
+00017800: 273a 2073 7562 7363 7269 7074 696f 6e5f  ': subscription_
+00017810: 6964 2c0d 0a20 2020 2020 2020 2020 2020  id,..           
+00017820: 2027 6469 7363 6f75 6e74 4964 273a 2064   'discountId': d
+00017830: 6973 636f 756e 745f 6964 0d0a 2020 2020  iscount_id..    
+00017840: 2020 2020 7d29 0d0a 2020 2020 2020 2020      })..        
+00017850: 5f71 7565 7279 5f62 7569 6c64 6572 203d  _query_builder =
+00017860: 2043 6f6e 6669 6775 7261 7469 6f6e 2e62   Configuration.b
+00017870: 6173 655f 7572 690d 0a20 2020 2020 2020  ase_uri..       
+00017880: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
+00017890: 2b3d 205f 7572 6c5f 7061 7468 0d0a 2020  += _url_path..  
+000178a0: 2020 2020 2020 5f71 7565 7279 5f75 726c        _query_url
+000178b0: 203d 2041 5049 4865 6c70 6572 2e63 6c65   = APIHelper.cle
+000178c0: 616e 5f75 726c 285f 7175 6572 795f 6275  an_url(_query_bu
+000178d0: 696c 6465 7229 0d0a 0d0a 2020 2020 2020  ilder)....      
+000178e0: 2020 2320 5072 6570 6172 6520 6865 6164    # Prepare head
+000178f0: 6572 730d 0a20 2020 2020 2020 205f 6865  ers..        _he
+00017900: 6164 6572 7320 3d20 7b0d 0a20 2020 2020  aders = {..     
+00017910: 2020 2020 2020 2027 6163 6365 7074 273a         'accept':
+00017920: 2027 6170 706c 6963 6174 696f 6e2f 6a73   'application/js
+00017930: 6f6e 272c 0d0a 2020 2020 2020 2020 2020  on',..          
+00017940: 2020 2753 6572 7669 6365 5265 6665 7265    'ServiceRefere
+00017950: 724e 616d 6527 3a20 436f 6e66 6967 7572  rName': Configur
+00017960: 6174 696f 6e2e 7365 7276 6963 655f 7265  ation.service_re
+00017970: 6665 7265 725f 6e61 6d65 0d0a 2020 2020  ferer_name..    
+00017980: 2020 2020 7d0d 0a0d 0a20 2020 2020 2020      }....       
+00017990: 2023 2050 7265 7061 7265 2061 6e64 2065   # Prepare and e
+000179a0: 7865 6375 7465 2072 6571 7565 7374 0d0a  xecute request..
+000179b0: 2020 2020 2020 2020 5f72 6571 7565 7374          _request
+000179c0: 203d 2073 656c 662e 6874 7470 5f63 6c69   = self.http_cli
+000179d0: 656e 742e 6765 7428 5f71 7565 7279 5f75  ent.get(_query_u
+000179e0: 726c 2c20 6865 6164 6572 733d 5f68 6561  rl, headers=_hea
+000179f0: 6465 7273 290d 0a20 2020 2020 2020 2042  ders)..        B
+00017a00: 6173 6963 4175 7468 2e61 7070 6c79 285f  asicAuth.apply(_
+00017a10: 7265 7175 6573 7429 0d0a 2020 2020 2020  request)..      
+00017a20: 2020 5f63 6f6e 7465 7874 203d 2073 656c    _context = sel
+00017a30: 662e 6578 6563 7574 655f 7265 7175 6573  f.execute_reques
+00017a40: 7428 5f72 6571 7565 7374 290d 0a0d 0a20  t(_request).... 
+00017a50: 2020 2020 2020 2023 2045 6e64 706f 696e         # Endpoin
+00017a60: 7420 616e 6420 676c 6f62 616c 2065 7272  t and global err
+00017a70: 6f72 2068 616e 646c 696e 6720 7573 696e  or handling usin
+00017a80: 6720 4854 5450 2073 7461 7475 7320 636f  g HTTP status co
+00017a90: 6465 732e 0d0a 2020 2020 2020 2020 6966  des...        if
+00017aa0: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+00017ab0: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00017ac0: 3d20 3430 303a 0d0a 2020 2020 2020 2020  = 400:..        
+00017ad0: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00017ae0: 7863 6570 7469 6f6e 2827 496e 7661 6c69  xception('Invali
+00017af0: 6420 7265 7175 6573 7427 2c20 5f63 6f6e  d request', _con
+00017b00: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+00017b10: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+00017b20: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00017b30: 6520 3d3d 2034 3031 3a0d 0a20 2020 2020  e == 401:..     
+00017b40: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00017b50: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
+00017b60: 616c 6964 2041 5049 206b 6579 272c 205f  alid API key', _
+00017b70: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00017b80: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00017b90: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00017ba0: 636f 6465 203d 3d20 3430 343a 0d0a 2020  code == 404:..  
+00017bb0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00017bc0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00017bd0: 416e 2069 6e66 6f72 6d65 6420 7265 736f  An informed reso
+00017be0: 7572 6365 2077 6173 206e 6f74 2066 6f75  urce was not fou
+00017bf0: 6e64 272c 205f 636f 6e74 6578 7429 0d0a  nd', _context)..
+00017c00: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+00017c10: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00017c20: 7461 7475 735f 636f 6465 203d 3d20 3431  tatus_code == 41
+00017c30: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
+00017c40: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00017c50: 7469 6f6e 2827 4275 7369 6e65 7373 2076  tion('Business v
+00017c60: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
+00017c70: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00017c80: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00017c90: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00017ca0: 7573 5f63 6f64 6520 3d3d 2034 3232 3a0d  us_code == 422:.
+00017cb0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00017cc0: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00017cd0: 6e28 2743 6f6e 7472 6163 7420 7661 6c69  n('Contract vali
+00017ce0: 6461 7469 6f6e 2065 7272 6f72 272c 205f  dation error', _
+00017cf0: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00017d00: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00017d10: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00017d20: 636f 6465 203d 3d20 3530 303a 0d0a 2020  code == 500:..  
+00017d30: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00017d40: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00017d50: 496e 7465 726e 616c 2073 6572 7665 7220  Internal server 
+00017d60: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
+00017d70: 290d 0a20 2020 2020 2020 2073 656c 662e  )..        self.
+00017d80: 7661 6c69 6461 7465 5f72 6573 706f 6e73  validate_respons
+00017d90: 6528 5f63 6f6e 7465 7874 290d 0a0d 0a20  e(_context).... 
+00017da0: 2020 2020 2020 2023 2052 6574 7572 6e20         # Return 
+00017db0: 6170 7072 6f70 7269 6174 6520 7479 7065  appropriate type
+00017dc0: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00017dd0: 2041 5049 4865 6c70 6572 2e6a 736f 6e5f   APIHelper.json_
+00017de0: 6465 7365 7269 616c 697a 6528 5f63 6f6e  deserialize(_con
+00017df0: 7465 7874 2e72 6573 706f 6e73 652e 7261  text.response.ra
+00017e00: 775f 626f 6479 2c20 5375 6273 6372 6970  w_body, Subscrip
+00017e10: 7469 6f6e 7344 6973 636f 756e 7473 5265  tionsDiscountsRe
+00017e20: 7370 6f6e 7365 2e66 726f 6d5f 6469 6374  sponse.from_dict
+00017e30: 696f 6e61 7279 290d 0a0d 0a20 2020 2064  ionary)....    d
+00017e40: 6566 2075 7064 6174 655f 7375 6273 6372  ef update_subscr
+00017e50: 6970 7469 6f6e 5f6d 696e 6975 6d5f 7072  iption_minium_pr
+00017e60: 6963 6528 7365 6c66 2c0d 0a20 2020 2020  ice(self,..     
+00017e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017e90: 2020 2020 7375 6273 6372 6970 7469 6f6e      subscription
+00017ea0: 5f69 642c 0d0a 2020 2020 2020 2020 2020  _id,..          
+00017eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017ec0: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+00017ed0: 6f64 792c 0d0a 2020 2020 2020 2020 2020  ody,..          
+00017ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017ef0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00017f00: 6465 6d70 6f74 656e 6379 5f6b 6579 3d4e  dempotency_key=N
+00017f10: 6f6e 6529 3a0d 0a20 2020 2020 2020 2022  one):..        "
+00017f20: 2222 446f 6573 2061 2050 4154 4348 2072  ""Does a PATCH r
+00017f30: 6571 7565 7374 2074 6f20 2f73 7562 7363  equest to /subsc
+00017f40: 7269 7074 696f 6e73 2f7b 7375 6273 6372  riptions/{subscr
+00017f50: 6970 7469 6f6e 5f69 647d 2f6d 696e 696d  iption_id}/minim
+00017f60: 756d 5f70 7269 6365 2e0d 0a0d 0a20 2020  um_price.....   
+00017f70: 2020 2020 2041 7475 616c 697a 61c3 a7c3       Atualiza...
+00017f80: a36f 2064 6f20 7661 6c6f 7220 6dc3 ad6e  .o do valor m..n
+00017f90: 696d 6f20 6461 2061 7373 696e 6174 7572  imo da assinatur
+00017fa0: 610d 0a0d 0a20 2020 2020 2020 2041 7267  a....        Arg
+00017fb0: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+00017fc0: 7375 6273 6372 6970 7469 6f6e 5f69 6420  subscription_id 
+00017fd0: 2873 7472 696e 6729 3a20 5375 6273 6372  (string): Subscr
+00017fe0: 6970 7469 6f6e 2049 640d 0a20 2020 2020  iption Id..     
+00017ff0: 2020 2020 2020 2062 6f64 7920 2853 7562         body (Sub
+00018000: 7363 7269 7074 696f 6e73 4d69 6e69 6d75  scriptionsMinimu
+00018010: 6d50 7269 6365 5265 7175 6573 7429 3a20  mPriceRequest): 
+00018020: 5265 7175 6573 7420 6461 2072 6571 7569  Request da requi
+00018030: 7369 c3a7 c3a3 6f20 636f 6d0d 0a20 2020  si....o com..   
+00018040: 2020 2020 2020 2020 2020 2020 206f 2076               o v
+00018050: 616c 6f72 206d c3ad 6e69 6d6f 2071 7565  alor m..nimo que
+00018060: 2073 6572 c3a1 2063 6f6e 6669 6775 7261   ser.. configura
+00018070: 646f 0d0a 2020 2020 2020 2020 2020 2020  do..            
+00018080: 6964 656d 706f 7465 6e63 795f 6b65 7920  idempotency_key 
+00018090: 2873 7472 696e 672c 206f 7074 696f 6e61  (string, optiona
+000180a0: 6c29 3a20 544f 444f 3a20 7479 7065 2064  l): TODO: type d
+000180b0: 6573 6372 6970 7469 6f6e 2068 6572 652e  escription here.
+000180c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000180d0: 2020 4578 616d 706c 653a 200d 0a0d 0a20    Example: .... 
+000180e0: 2020 2020 2020 2052 6574 7572 6e73 3a0d         Returns:.
+000180f0: 0a20 2020 2020 2020 2020 2020 2047 6574  .            Get
+00018100: 5375 6273 6372 6970 7469 6f6e 5265 7370  SubscriptionResp
+00018110: 6f6e 7365 3a20 5265 7370 6f6e 7365 2066  onse: Response f
+00018120: 726f 6d20 7468 6520 4150 492e 200d 0a0d  rom the API. ...
+00018130: 0a20 2020 2020 2020 2052 6169 7365 733a  .        Raises:
+00018140: 0d0a 2020 2020 2020 2020 2020 2020 4150  ..            AP
+00018150: 4945 7863 6570 7469 6f6e 3a20 5768 656e  IException: When
+00018160: 2061 6e20 6572 726f 7220 6f63 6375 7273   an error occurs
+00018170: 2077 6869 6c65 2066 6574 6368 696e 6720   while fetching 
+00018180: 7468 6520 6461 7461 2066 726f 6d0d 0a20  the data from.. 
+00018190: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+000181a0: 6865 2072 656d 6f74 6520 4150 492e 2054  he remote API. T
+000181b0: 6869 7320 6578 6365 7074 696f 6e20 696e  his exception in
+000181c0: 636c 7564 6573 2074 6865 2048 5454 5020  cludes the HTTP 
+000181d0: 5265 7370 6f6e 7365 0d0a 2020 2020 2020  Response..      
+000181e0: 2020 2020 2020 2020 2020 636f 6465 2c20            code, 
+000181f0: 616e 2065 7272 6f72 206d 6573 7361 6765  an error message
+00018200: 2c20 616e 6420 7468 6520 4854 5450 2062  , and the HTTP b
+00018210: 6f64 7920 7468 6174 2077 6173 2072 6563  ody that was rec
+00018220: 6569 7665 6420 696e 0d0a 2020 2020 2020  eived in..      
+00018230: 2020 2020 2020 2020 2020 7468 6520 7265            the re
+00018240: 7175 6573 742e 0d0a 0d0a 2020 2020 2020  quest.....      
+00018250: 2020 2222 220d 0a0d 0a20 2020 2020 2020    """....       
+00018260: 2023 2050 7265 7061 7265 2071 7565 7279   # Prepare query
+00018270: 2055 524c 0d0a 2020 2020 2020 2020 5f75   URL..        _u
+00018280: 726c 5f70 6174 6820 3d20 272f 7375 6273  rl_path = '/subs
+00018290: 6372 6970 7469 6f6e 732f 7b73 7562 7363  criptions/{subsc
+000182a0: 7269 7074 696f 6e5f 6964 7d2f 6d69 6e69  ription_id}/mini
+000182b0: 6d75 6d5f 7072 6963 6527 0d0a 2020 2020  mum_price'..    
+000182c0: 2020 2020 5f75 726c 5f70 6174 6820 3d20      _url_path = 
+000182d0: 4150 4948 656c 7065 722e 6170 7065 6e64  APIHelper.append
+000182e0: 5f75 726c 5f77 6974 685f 7465 6d70 6c61  _url_with_templa
+000182f0: 7465 5f70 6172 616d 6574 6572 7328 5f75  te_parameters(_u
+00018300: 726c 5f70 6174 682c 207b 200d 0a20 2020  rl_path, { ..   
+00018310: 2020 2020 2020 2020 2027 7375 6273 6372           'subscr
+00018320: 6970 7469 6f6e 5f69 6427 3a20 7375 6273  iption_id': subs
+00018330: 6372 6970 7469 6f6e 5f69 640d 0a20 2020  cription_id..   
+00018340: 2020 2020 207d 290d 0a20 2020 2020 2020       })..       
+00018350: 205f 7175 6572 795f 6275 696c 6465 7220   _query_builder 
+00018360: 3d20 436f 6e66 6967 7572 6174 696f 6e2e  = Configuration.
+00018370: 6261 7365 5f75 7269 0d0a 2020 2020 2020  base_uri..      
+00018380: 2020 5f71 7565 7279 5f62 7569 6c64 6572    _query_builder
+00018390: 202b 3d20 5f75 726c 5f70 6174 680d 0a20   += _url_path.. 
+000183a0: 2020 2020 2020 205f 7175 6572 795f 7572         _query_ur
+000183b0: 6c20 3d20 4150 4948 656c 7065 722e 636c  l = APIHelper.cl
+000183c0: 6561 6e5f 7572 6c28 5f71 7565 7279 5f62  ean_url(_query_b
+000183d0: 7569 6c64 6572 290d 0a0d 0a20 2020 2020  uilder)....     
+000183e0: 2020 2023 2050 7265 7061 7265 2068 6561     # Prepare hea
+000183f0: 6465 7273 0d0a 2020 2020 2020 2020 5f68  ders..        _h
+00018400: 6561 6465 7273 203d 207b 0d0a 2020 2020  eaders = {..    
+00018410: 2020 2020 2020 2020 2761 6363 6570 7427          'accept'
+00018420: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
+00018430: 736f 6e27 2c0d 0a20 2020 2020 2020 2020  son',..         
+00018440: 2020 2027 5365 7276 6963 6552 6566 6572     'ServiceRefer
+00018450: 6572 4e61 6d65 273a 2043 6f6e 6669 6775  erName': Configu
+00018460: 7261 7469 6f6e 2e73 6572 7669 6365 5f72  ration.service_r
+00018470: 6566 6572 6572 5f6e 616d 652c 0d0a 2020  eferer_name,..  
+00018480: 2020 2020 2020 2020 2020 2743 6f6e 7465            'Conte
+00018490: 6e74 2d54 7970 6527 3a20 2761 7070 6c69  nt-Type': 'appli
+000184a0: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
+000184b0: 2020 2020 2020 2020 2020 2027 6964 656d             'idem
+000184c0: 706f 7465 6e63 792d 6b65 7927 3a20 6964  potency-key': id
+000184d0: 656d 706f 7465 6e63 795f 6b65 790d 0a20  empotency_key.. 
+000184e0: 2020 2020 2020 207d 0d0a 0d0a 2020 2020         }....    
+000184f0: 2020 2020 2320 5072 6570 6172 6520 616e      # Prepare an
+00018500: 6420 6578 6563 7574 6520 7265 7175 6573  d execute reques
+00018510: 740d 0a20 2020 2020 2020 205f 7265 7175  t..        _requ
+00018520: 6573 7420 3d20 7365 6c66 2e68 7474 705f  est = self.http_
+00018530: 636c 6965 6e74 2e70 6174 6368 285f 7175  client.patch(_qu
+00018540: 6572 795f 7572 6c2c 2068 6561 6465 7273  ery_url, headers
+00018550: 3d5f 6865 6164 6572 732c 2070 6172 616d  =_headers, param
+00018560: 6574 6572 733d 4150 4948 656c 7065 722e  eters=APIHelper.
+00018570: 6a73 6f6e 5f73 6572 6961 6c69 7a65 2862  json_serialize(b
+00018580: 6f64 7929 290d 0a20 2020 2020 2020 2042  ody))..        B
+00018590: 6173 6963 4175 7468 2e61 7070 6c79 285f  asicAuth.apply(_
+000185a0: 7265 7175 6573 7429 0d0a 2020 2020 2020  request)..      
+000185b0: 2020 5f63 6f6e 7465 7874 203d 2073 656c    _context = sel
+000185c0: 662e 6578 6563 7574 655f 7265 7175 6573  f.execute_reques
+000185d0: 7428 5f72 6571 7565 7374 290d 0a0d 0a20  t(_request).... 
+000185e0: 2020 2020 2020 2023 2045 6e64 706f 696e         # Endpoin
+000185f0: 7420 616e 6420 676c 6f62 616c 2065 7272  t and global err
+00018600: 6f72 2068 616e 646c 696e 6720 7573 696e  or handling usin
+00018610: 6720 4854 5450 2073 7461 7475 7320 636f  g HTTP status co
+00018620: 6465 732e 0d0a 2020 2020 2020 2020 6966  des...        if
+00018630: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+00018640: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00018650: 3d20 3430 303a 0d0a 2020 2020 2020 2020  = 400:..        
+00018660: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00018670: 7863 6570 7469 6f6e 2827 496e 7661 6c69  xception('Invali
+00018680: 6420 7265 7175 6573 7427 2c20 5f63 6f6e  d request', _con
+00018690: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+000186a0: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+000186b0: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+000186c0: 6520 3d3d 2034 3031 3a0d 0a20 2020 2020  e == 401:..     
+000186d0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+000186e0: 6f72 4578 6365 7074 696f 6e28 2749 6e76  orException('Inv
+000186f0: 616c 6964 2041 5049 206b 6579 272c 205f  alid API key', _
+00018700: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00018710: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+00018720: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+00018730: 636f 6465 203d 3d20 3430 343a 0d0a 2020  code == 404:..  
+00018740: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00018750: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+00018760: 416e 2069 6e66 6f72 6d65 6420 7265 736f  An informed reso
+00018770: 7572 6365 2077 6173 206e 6f74 2066 6f75  urce was not fou
+00018780: 6e64 272c 205f 636f 6e74 6578 7429 0d0a  nd', _context)..
+00018790: 2020 2020 2020 2020 656c 6966 205f 636f          elif _co
+000187a0: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+000187b0: 7461 7475 735f 636f 6465 203d 3d20 3431  tatus_code == 41
+000187c0: 323a 0d0a 2020 2020 2020 2020 2020 2020  2:..            
+000187d0: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+000187e0: 7469 6f6e 2827 4275 7369 6e65 7373 2076  tion('Business v
+000187f0: 616c 6964 6174 696f 6e20 6572 726f 7227  alidation error'
+00018800: 2c20 5f63 6f6e 7465 7874 290d 0a20 2020  , _context)..   
+00018810: 2020 2020 2065 6c69 6620 5f63 6f6e 7465       elif _conte
+00018820: 7874 2e72 6573 706f 6e73 652e 7374 6174  xt.response.stat
+00018830: 7573 5f63 6f64 6520 3d3d 2034 3232 3a0d  us_code == 422:.
+00018840: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00018850: 7365 2045 7272 6f72 4578 6365 7074 696f  se ErrorExceptio
+00018860: 6e28 2743 6f6e 7472 6163 7420 7661 6c69  n('Contract vali
+00018870: 6461 7469 6f6e 2065 7272 6f72 272c 205f  dation error', _
+00018880: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00018890: 2020 656c 6966 205f 636f 6e74 6578 742e    elif _context.
+000188a0: 7265 7370 6f6e 7365 2e73 7461 7475 735f  response.status_
+000188b0: 636f 6465 203d 3d20 3530 303a 0d0a 2020  code == 500:..  
+000188c0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+000188d0: 4572 726f 7245 7863 6570 7469 6f6e 2827  ErrorException('
+000188e0: 496e 7465 726e 616c 2073 6572 7665 7220  Internal server 
+000188f0: 6572 726f 7227 2c20 5f63 6f6e 7465 7874  error', _context
+00018900: 290d 0a20 2020 2020 2020 2073 656c 662e  )..        self.
+00018910: 7661 6c69 6461 7465 5f72 6573 706f 6e73  validate_respons
+00018920: 6528 5f63 6f6e 7465 7874 290d 0a0d 0a20  e(_context).... 
+00018930: 2020 2020 2020 2023 2052 6574 7572 6e20         # Return 
+00018940: 6170 7072 6f70 7269 6174 6520 7479 7065  appropriate type
+00018950: 0d0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00018960: 2041 5049 4865 6c70 6572 2e6a 736f 6e5f   APIHelper.json_
+00018970: 6465 7365 7269 616c 697a 6528 5f63 6f6e  deserialize(_con
+00018980: 7465 7874 2e72 6573 706f 6e73 652e 7261  text.response.ra
+00018990: 775f 626f 6479 2c20 4765 7453 7562 7363  w_body, GetSubsc
+000189a0: 7269 7074 696f 6e52 6573 706f 6e73 652e  riptionResponse.
+000189b0: 6672 6f6d 5f64 6963 7469 6f6e 6172 7929  from_dictionary)
+000189c0: 0d0a 0d0a 2020 2020 6465 6620 6765 745f  ....    def get_
+000189d0: 7573 6167 655f 7265 706f 7274 2873 656c  usage_report(sel
+000189e0: 662c 0d0a 2020 2020 2020 2020 2020 2020  f,..            
+000189f0: 2020 2020 2020 2020 2020 2020 2073 7562               sub
+00018a00: 7363 7269 7074 696f 6e5f 6964 2c0d 0a20  scription_id,.. 
+00018a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018a20: 2020 2020 2020 2020 7065 7269 6f64 5f69          period_i
+00018a30: 6429 3a0d 0a20 2020 2020 2020 2022 2222  d):..        """
+00018a40: 446f 6573 2061 2047 4554 2072 6571 7565  Does a GET reque
+00018a50: 7374 2074 6f20 2f73 7562 7363 7269 7074  st to /subscript
+00018a60: 696f 6e73 2f7b 7375 6273 6372 6970 7469  ions/{subscripti
+00018a70: 6f6e 5f69 647d 2f70 6572 696f 6473 2f7b  on_id}/periods/{
+00018a80: 7065 7269 6f64 5f69 647d 2f75 7361 6765  period_id}/usage
+00018a90: 732f 7265 706f 7274 2e0d 0a0d 0a20 2020  s/report.....   
+00018aa0: 2020 2020 2047 6574 5573 6167 6552 6570       GetUsageRep
+00018ab0: 6f72 740d 0a0d 0a20 2020 2020 2020 2041  ort....        A
+00018ac0: 7267 733a 0d0a 2020 2020 2020 2020 2020  rgs:..          
+00018ad0: 2020 7375 6273 6372 6970 7469 6f6e 5f69    subscription_i
+00018ae0: 6420 2873 7472 696e 6729 3a20 5468 6520  d (string): The 
+00018af0: 7375 6273 6372 6970 7469 6f6e 2049 640d  subscription Id.
+00018b00: 0a20 2020 2020 2020 2020 2020 2070 6572  .            per
+00018b10: 696f 645f 6964 2028 7374 7269 6e67 293a  iod_id (string):
+00018b20: 2054 6865 2070 6572 696f 6420 4964 0d0a   The period Id..
+00018b30: 0d0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00018b40: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+00018b50: 4765 7455 7361 6765 5265 706f 7274 5265  GetUsageReportRe
+00018b60: 7370 6f6e 7365 3a20 5265 7370 6f6e 7365  sponse: Response
+00018b70: 2066 726f 6d20 7468 6520 4150 492e 200d   from the API. .
+00018b80: 0a0d 0a20 2020 2020 2020 2052 6169 7365  ...        Raise
+00018b90: 733a 0d0a 2020 2020 2020 2020 2020 2020  s:..            
+00018ba0: 4150 4945 7863 6570 7469 6f6e 3a20 5768  APIException: Wh
+00018bb0: 656e 2061 6e20 6572 726f 7220 6f63 6375  en an error occu
+00018bc0: 7273 2077 6869 6c65 2066 6574 6368 696e  rs while fetchin
+00018bd0: 6720 7468 6520 6461 7461 2066 726f 6d0d  g the data from.
+00018be0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018bf0: 2074 6865 2072 656d 6f74 6520 4150 492e   the remote API.
+00018c00: 2054 6869 7320 6578 6365 7074 696f 6e20   This exception 
+00018c10: 696e 636c 7564 6573 2074 6865 2048 5454  includes the HTT
+00018c20: 5020 5265 7370 6f6e 7365 0d0a 2020 2020  P Response..    
+00018c30: 2020 2020 2020 2020 2020 2020 636f 6465              code
+00018c40: 2c20 616e 2065 7272 6f72 206d 6573 7361  , an error messa
+00018c50: 6765 2c20 616e 6420 7468 6520 4854 5450  ge, and the HTTP
+00018c60: 2062 6f64 7920 7468 6174 2077 6173 2072   body that was r
+00018c70: 6563 6569 7665 6420 696e 0d0a 2020 2020  eceived in..    
+00018c80: 2020 2020 2020 2020 2020 2020 7468 6520              the 
+00018c90: 7265 7175 6573 742e 0d0a 0d0a 2020 2020  request.....    
+00018ca0: 2020 2020 2222 220d 0a0d 0a20 2020 2020      """....     
+00018cb0: 2020 2023 2050 7265 7061 7265 2071 7565     # Prepare que
+00018cc0: 7279 2055 524c 0d0a 2020 2020 2020 2020  ry URL..        
+00018cd0: 5f75 726c 5f70 6174 6820 3d20 272f 7375  _url_path = '/su
+00018ce0: 6273 6372 6970 7469 6f6e 732f 7b73 7562  bscriptions/{sub
+00018cf0: 7363 7269 7074 696f 6e5f 6964 7d2f 7065  scription_id}/pe
+00018d00: 7269 6f64 732f 7b70 6572 696f 645f 6964  riods/{period_id
+00018d10: 7d2f 7573 6167 6573 2f72 6570 6f72 7427  }/usages/report'
+00018d20: 0d0a 2020 2020 2020 2020 5f75 726c 5f70  ..        _url_p
+00018d30: 6174 6820 3d20 4150 4948 656c 7065 722e  ath = APIHelper.
+00018d40: 6170 7065 6e64 5f75 726c 5f77 6974 685f  append_url_with_
+00018d50: 7465 6d70 6c61 7465 5f70 6172 616d 6574  template_paramet
+00018d60: 6572 7328 5f75 726c 5f70 6174 682c 207b  ers(_url_path, {
+00018d70: 200d 0a20 2020 2020 2020 2020 2020 2027   ..            '
+00018d80: 7375 6273 6372 6970 7469 6f6e 5f69 6427  subscription_id'
+00018d90: 3a20 7375 6273 6372 6970 7469 6f6e 5f69  : subscription_i
+00018da0: 642c 0d0a 2020 2020 2020 2020 2020 2020  d,..            
+00018db0: 2770 6572 696f 645f 6964 273a 2070 6572  'period_id': per
+00018dc0: 696f 645f 6964 0d0a 2020 2020 2020 2020  iod_id..        
+00018dd0: 7d29 0d0a 2020 2020 2020 2020 5f71 7565  })..        _que
+00018de0: 7279 5f62 7569 6c64 6572 203d 2043 6f6e  ry_builder = Con
+00018df0: 6669 6775 7261 7469 6f6e 2e62 6173 655f  figuration.base_
+00018e00: 7572 690d 0a20 2020 2020 2020 205f 7175  uri..        _qu
+00018e10: 6572 795f 6275 696c 6465 7220 2b3d 205f  ery_builder += _
+00018e20: 7572 6c5f 7061 7468 0d0a 2020 2020 2020  url_path..      
+00018e30: 2020 5f71 7565 7279 5f75 726c 203d 2041    _query_url = A
+00018e40: 5049 4865 6c70 6572 2e63 6c65 616e 5f75  PIHelper.clean_u
+00018e50: 726c 285f 7175 6572 795f 6275 696c 6465  rl(_query_builde
+00018e60: 7229 0d0a 0d0a 2020 2020 2020 2020 2320  r)....        # 
+00018e70: 5072 6570 6172 6520 6865 6164 6572 730d  Prepare headers.
+00018e80: 0a20 2020 2020 2020 205f 6865 6164 6572  .        _header
+00018e90: 7320 3d20 7b0d 0a20 2020 2020 2020 2020  s = {..         
+00018ea0: 2020 2027 6163 6365 7074 273a 2027 6170     'accept': 'ap
+00018eb0: 706c 6963 6174 696f 6e2f 6a73 6f6e 272c  plication/json',
+00018ec0: 0d0a 2020 2020 2020 2020 2020 2020 2753  ..            'S
+00018ed0: 6572 7669 6365 5265 6665 7265 724e 616d  erviceRefererNam
+00018ee0: 6527 3a20 436f 6e66 6967 7572 6174 696f  e': Configuratio
+00018ef0: 6e2e 7365 7276 6963 655f 7265 6665 7265  n.service_refere
+00018f00: 725f 6e61 6d65 0d0a 2020 2020 2020 2020  r_name..        
+00018f10: 7d0d 0a0d 0a20 2020 2020 2020 2023 2050  }....        # P
+00018f20: 7265 7061 7265 2061 6e64 2065 7865 6375  repare and execu
+00018f30: 7465 2072 6571 7565 7374 0d0a 2020 2020  te request..    
+00018f40: 2020 2020 5f72 6571 7565 7374 203d 2073      _request = s
+00018f50: 656c 662e 6874 7470 5f63 6c69 656e 742e  elf.http_client.
+00018f60: 6765 7428 5f71 7565 7279 5f75 726c 2c20  get(_query_url, 
+00018f70: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
+00018f80: 290d 0a20 2020 2020 2020 2042 6173 6963  )..        Basic
+00018f90: 4175 7468 2e61 7070 6c79 285f 7265 7175  Auth.apply(_requ
+00018fa0: 6573 7429 0d0a 2020 2020 2020 2020 5f63  est)..        _c
+00018fb0: 6f6e 7465 7874 203d 2073 656c 662e 6578  ontext = self.ex
+00018fc0: 6563 7574 655f 7265 7175 6573 7428 5f72  ecute_request(_r
+00018fd0: 6571 7565 7374 290d 0a0d 0a20 2020 2020  equest)....     
+00018fe0: 2020 2023 2045 6e64 706f 696e 7420 616e     # Endpoint an
+00018ff0: 6420 676c 6f62 616c 2065 7272 6f72 2068  d global error h
+00019000: 616e 646c 696e 6720 7573 696e 6720 4854  andling using HT
+00019010: 5450 2073 7461 7475 7320 636f 6465 732e  TP status codes.
+00019020: 0d0a 2020 2020 2020 2020 6966 205f 636f  ..        if _co
+00019030: 6e74 6578 742e 7265 7370 6f6e 7365 2e73  ntext.response.s
+00019040: 7461 7475 735f 636f 6465 203d 3d20 3430  tatus_code == 40
+00019050: 303a 0d0a 2020 2020 2020 2020 2020 2020  0:..            
+00019060: 7261 6973 6520 4572 726f 7245 7863 6570  raise ErrorExcep
+00019070: 7469 6f6e 2827 496e 7661 6c69 6420 7265  tion('Invalid re
+00019080: 7175 6573 7427 2c20 5f63 6f6e 7465 7874  quest', _context
+00019090: 290d 0a20 2020 2020 2020 2065 6c69 6620  )..        elif 
+000190a0: 5f63 6f6e 7465 7874 2e72 6573 706f 6e73  _context.respons
+000190b0: 652e 7374 6174 7573 5f63 6f64 6520 3d3d  e.status_code ==
+000190c0: 2034 3031 3a0d 0a20 2020 2020 2020 2020   401:..         
+000190d0: 2020 2072 6169 7365 2045 7272 6f72 4578     raise ErrorEx
+000190e0: 6365 7074 696f 6e28 2749 6e76 616c 6964  ception('Invalid
+000190f0: 2041 5049 206b 6579 272c 205f 636f 6e74   API key', _cont
+00019100: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00019110: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+00019120: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+00019130: 203d 3d20 3430 343a 0d0a 2020 2020 2020   == 404:..      
+00019140: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+00019150: 7245 7863 6570 7469 6f6e 2827 416e 2069  rException('An i
+00019160: 6e66 6f72 6d65 6420 7265 736f 7572 6365  nformed resource
+00019170: 2077 6173 206e 6f74 2066 6f75 6e64 272c   was not found',
+00019180: 205f 636f 6e74 6578 7429 0d0a 2020 2020   _context)..    
+00019190: 2020 2020 656c 6966 205f 636f 6e74 6578      elif _contex
+000191a0: 742e 7265 7370 6f6e 7365 2e73 7461 7475  t.response.statu
+000191b0: 735f 636f 6465 203d 3d20 3431 323a 0d0a  s_code == 412:..
+000191c0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+000191d0: 6520 4572 726f 7245 7863 6570 7469 6f6e  e ErrorException
+000191e0: 2827 4275 7369 6e65 7373 2076 616c 6964  ('Business valid
+000191f0: 6174 696f 6e20 6572 726f 7227 2c20 5f63  ation error', _c
+00019200: 6f6e 7465 7874 290d 0a20 2020 2020 2020  ontext)..       
+00019210: 2065 6c69 6620 5f63 6f6e 7465 7874 2e72   elif _context.r
+00019220: 6573 706f 6e73 652e 7374 6174 7573 5f63  esponse.status_c
+00019230: 6f64 6520 3d3d 2034 3232 3a0d 0a20 2020  ode == 422:..   
+00019240: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00019250: 7272 6f72 4578 6365 7074 696f 6e28 2743  rrorException('C
+00019260: 6f6e 7472 6163 7420 7661 6c69 6461 7469  ontract validati
+00019270: 6f6e 2065 7272 6f72 272c 205f 636f 6e74  on error', _cont
+00019280: 6578 7429 0d0a 2020 2020 2020 2020 656c  ext)..        el
+00019290: 6966 205f 636f 6e74 6578 742e 7265 7370  if _context.resp
+000192a0: 6f6e 7365 2e73 7461 7475 735f 636f 6465  onse.status_code
+000192b0: 203d 3d20 3530 303a 0d0a 2020 2020 2020   == 500:..      
+000192c0: 2020 2020 2020 7261 6973 6520 4572 726f        raise Erro
+000192d0: 7245 7863 6570 7469 6f6e 2827 496e 7465  rException('Inte
+000192e0: 726e 616c 2073 6572 7665 7220 6572 726f  rnal server erro
+000192f0: 7227 2c20 5f63 6f6e 7465 7874 290d 0a20  r', _context).. 
+00019300: 2020 2020 2020 2073 656c 662e 7661 6c69         self.vali
+00019310: 6461 7465 5f72 6573 706f 6e73 6528 5f63  date_response(_c
+00019320: 6f6e 7465 7874 290d 0a0d 0a20 2020 2020  ontext)....     
+00019330: 2020 2023 2052 6574 7572 6e20 6170 7072     # Return appr
+00019340: 6f70 7269 6174 6520 7479 7065 0d0a 2020  opriate type..  
+00019350: 2020 2020 2020 7265 7475 726e 2041 5049        return API
+00019360: 4865 6c70 6572 2e6a 736f 6e5f 6465 7365  Helper.json_dese
+00019370: 7269 616c 697a 6528 5f63 6f6e 7465 7874  rialize(_context
+00019380: 2e72 6573 706f 6e73 652e 7261 775f 626f  .response.raw_bo
+00019390: 6479 2c20 4765 7455 7361 6765 5265 706f  dy, GetUsageRepo
+000193a0: 7274 5265 7370 6f6e 7365 2e66 726f 6d5f  rtResponse.from_
+000193b0: 6469 6374 696f 6e61 7279 290d 0a0d 0a20  dictionary).... 
+000193c0: 2020 2064 6566 2075 7064 6174 655f 7370     def update_sp
+000193d0: 6c69 745f 7375 6273 6372 6970 7469 6f6e  lit_subscription
+000193e0: 2873 656c 662c 0d0a 2020 2020 2020 2020  (self,..        
+000193f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019400: 2020 2020 2020 2020 2020 6964 2c0d 0a20            id,.. 
+00019410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019430: 2062 6f64 7929 3a0d 0a20 2020 2020 2020   body):..       
+00019440: 2022 2222 446f 6573 2061 2050 4154 4348   """Does a PATCH
+00019450: 2072 6571 7565 7374 2074 6f20 2f73 7562   request to /sub
+00019460: 7363 7269 7074 696f 6e73 2f7b 6964 7d2f  scriptions/{id}/
+00019470: 7370 6c69 742e 0d0a 0d0a 2020 2020 2020  split.....      
+00019480: 2020 5570 6461 7465 5370 6c69 7453 7562    UpdateSplitSub
+00019490: 7363 7269 7074 696f 6e0d 0a0d 0a20 2020  scription....   
+000194a0: 2020 2020 2041 7267 733a 0d0a 2020 2020       Args:..    
+000194b0: 2020 2020 2020 2020 6964 2028 7374 7269          id (stri
+000194c0: 6e67 293a 2053 7562 7363 7269 7074 696f  ng): Subscriptio
+000194d0: 6e27 7320 6964 0d0a 2020 2020 2020 2020  n's id..        
+000194e0: 2020 2020 626f 6479 2028 5570 6461 7465      body (Update
+000194f0: 5375 6273 6372 6970 7469 6f6e 5370 6c69  SubscriptionSpli
+00019500: 7452 6571 7565 7374 293a 2054 4f44 4f3a  tRequest): TODO:
+00019510: 2074 7970 6520 6465 7363 7269 7074 696f   type descriptio
+00019520: 6e0d 0a20 2020 2020 2020 2020 2020 2020  n..             
+00019530: 2020 2068 6572 652e 2045 7861 6d70 6c65     here. Example
+00019540: 3a20 0d0a 0d0a 2020 2020 2020 2020 5265  : ....        Re
+00019550: 7475 726e 733a 0d0a 2020 2020 2020 2020  turns:..        
+00019560: 2020 2020 4765 7453 7562 7363 7269 7074      GetSubscript
+00019570: 696f 6e52 6573 706f 6e73 653a 2052 6573  ionResponse: Res
+00019580: 706f 6e73 6520 6672 6f6d 2074 6865 2041  ponse from the A
+00019590: 5049 2e20 0d0a 0d0a 2020 2020 2020 2020  PI. ....        
+000195a0: 5261 6973 6573 3a0d 0a20 2020 2020 2020  Raises:..       
+000195b0: 2020 2020 2041 5049 4578 6365 7074 696f       APIExceptio
+000195c0: 6e3a 2057 6865 6e20 616e 2065 7272 6f72  n: When an error
+000195d0: 206f 6363 7572 7320 7768 696c 6520 6665   occurs while fe
+000195e0: 7463 6869 6e67 2074 6865 2064 6174 6120  tching the data 
+000195f0: 6672 6f6d 0d0a 2020 2020 2020 2020 2020  from..          
+00019600: 2020 2020 2020 7468 6520 7265 6d6f 7465        the remote
+00019610: 2041 5049 2e20 5468 6973 2065 7863 6570   API. This excep
+00019620: 7469 6f6e 2069 6e63 6c75 6465 7320 7468  tion includes th
+00019630: 6520 4854 5450 2052 6573 706f 6e73 650d  e HTTP Response.
+00019640: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00019650: 2063 6f64 652c 2061 6e20 6572 726f 7220   code, an error 
+00019660: 6d65 7373 6167 652c 2061 6e64 2074 6865  message, and the
+00019670: 2048 5454 5020 626f 6479 2074 6861 7420   HTTP body that 
+00019680: 7761 7320 7265 6365 6976 6564 2069 6e0d  was received in.
+00019690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000196a0: 2074 6865 2072 6571 7565 7374 2e0d 0a0d   the request....
+000196b0: 0a20 2020 2020 2020 2022 2222 0d0a 0d0a  .        """....
+000196c0: 2020 2020 2020 2020 2320 5072 6570 6172          # Prepar
+000196d0: 6520 7175 6572 7920 5552 4c0d 0a20 2020  e query URL..   
+000196e0: 2020 2020 205f 7572 6c5f 7061 7468 203d       _url_path =
+000196f0: 2027 2f73 7562 7363 7269 7074 696f 6e73   '/subscriptions
+00019700: 2f7b 6964 7d2f 7370 6c69 7427 0d0a 2020  /{id}/split'..  
+00019710: 2020 2020 2020 5f75 726c 5f70 6174 6820        _url_path 
+00019720: 3d20 4150 4948 656c 7065 722e 6170 7065  = APIHelper.appe
+00019730: 6e64 5f75 726c 5f77 6974 685f 7465 6d70  nd_url_with_temp
+00019740: 6c61 7465 5f70 6172 616d 6574 6572 7328  late_parameters(
+00019750: 5f75 726c 5f70 6174 682c 207b 200d 0a20  _url_path, { .. 
+00019760: 2020 2020 2020 2020 2020 2027 6964 273a             'id':
+00019770: 2069 640d 0a20 2020 2020 2020 207d 290d   id..        }).
+00019780: 0a20 2020 2020 2020 205f 7175 6572 795f  .        _query_
+00019790: 6275 696c 6465 7220 3d20 436f 6e66 6967  builder = Config
+000197a0: 7572 6174 696f 6e2e 6261 7365 5f75 7269  uration.base_uri
+000197b0: 0d0a 2020 2020 2020 2020 5f71 7565 7279  ..        _query
+000197c0: 5f62 7569 6c64 6572 202b 3d20 5f75 726c  _builder += _url
+000197d0: 5f70 6174 680d 0a20 2020 2020 2020 205f  _path..        _
+000197e0: 7175 6572 795f 7572 6c20 3d20 4150 4948  query_url = APIH
+000197f0: 656c 7065 722e 636c 6561 6e5f 7572 6c28  elper.clean_url(
+00019800: 5f71 7565 7279 5f62 7569 6c64 6572 290d  _query_builder).
+00019810: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+00019820: 7061 7265 2068 6561 6465 7273 0d0a 2020  pare headers..  
+00019830: 2020 2020 2020 5f68 6561 6465 7273 203d        _headers =
+00019840: 207b 0d0a 2020 2020 2020 2020 2020 2020   {..            
+00019850: 2761 6363 6570 7427 3a20 2761 7070 6c69  'accept': 'appli
+00019860: 6361 7469 6f6e 2f6a 736f 6e27 2c0d 0a20  cation/json',.. 
+00019870: 2020 2020 2020 2020 2020 2027 5365 7276             'Serv
+00019880: 6963 6552 6566 6572 6572 4e61 6d65 273a  iceRefererName':
+00019890: 2043 6f6e 6669 6775 7261 7469 6f6e 2e73   Configuration.s
+000198a0: 6572 7669 6365 5f72 6566 6572 6572 5f6e  ervice_referer_n
+000198b0: 616d 652c 0d0a 2020 2020 2020 2020 2020  ame,..          
+000198c0: 2020 2743 6f6e 7465 6e74 2d54 7970 6527    'Content-Type'
+000198d0: 3a20 2761 7070 6c69 6361 7469 6f6e 2f6a  : 'application/j
+000198e0: 736f 6e27 0d0a 2020 2020 2020 2020 7d0d  son'..        }.
+000198f0: 0a0d 0a20 2020 2020 2020 2023 2050 7265  ...        # Pre
+00019900: 7061 7265 2061 6e64 2065 7865 6375 7465  pare and execute
+00019910: 2072 6571 7565 7374 0d0a 2020 2020 2020   request..      
+00019920: 2020 5f72 6571 7565 7374 203d 2073 656c    _request = sel
+00019930: 662e 6874 7470 5f63 6c69 656e 742e 7061  f.http_client.pa
+00019940: 7463 6828 5f71 7565 7279 5f75 726c 2c20  tch(_query_url, 
+00019950: 6865 6164 6572 733d 5f68 6561 6465 7273  headers=_headers
+00019960: 2c20 7061 7261 6d65 7465 7273 3d41 5049  , parameters=API
+00019970: 4865 6c70 6572 2e6a 736f 6e5f 7365 7269  Helper.json_seri
+00019980: 616c 697a 6528 626f 6479 2929 0d0a 2020  alize(body))..  
+00019990: 2020 2020 2020 4261 7369 6341 7574 682e        BasicAuth.
+000199a0: 6170 706c 7928 5f72 6571 7565 7374 290d  apply(_request).
+000199b0: 0a20 2020 2020 2020 205f 636f 6e74 6578  .        _contex
+000199c0: 7420 3d20 7365 6c66 2e65 7865 6375 7465  t = self.execute
+000199d0: 5f72 6571 7565 7374 285f 7265 7175 6573  _request(_reques
+000199e0: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
+000199f0: 456e 6470 6f69 6e74 2061 6e64 2067 6c6f  Endpoint and glo
+00019a00: 6261 6c20 6572 726f 7220 6861 6e64 6c69  bal error handli
+00019a10: 6e67 2075 7369 6e67 2048 5454 5020 7374  ng using HTTP st
+00019a20: 6174 7573 2063 6f64 6573 2e0d 0a20 2020  atus codes...   
+00019a30: 2020 2020 2069 6620 5f63 6f6e 7465 7874       if _context
+00019a40: 2e72 6573 706f 6e73 652e 7374 6174 7573  .response.status
+00019a50: 5f63 6f64 6520 3d3d 2034 3030 3a0d 0a20  _code == 400:.. 
+00019a60: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00019a70: 2045 7272 6f72 4578 6365 7074 696f 6e28   ErrorException(
+00019a80: 2749 6e76 616c 6964 2072 6571 7565 7374  'Invalid request
+00019a90: 272c 205f 636f 6e74 6578 7429 0d0a 2020  ', _context)..  
+00019aa0: 2020 2020 2020 656c 6966 205f 636f 6e74        elif _cont
+00019ab0: 6578 742e 7265 7370 6f6e 7365 2e73 7461  ext.response.sta
+00019ac0: 7475 735f 636f 6465 203d 3d20 3430 313a  tus_code == 401:
+00019ad0: 0d0a 2020 2020 2020 2020 2020 2020 7261  ..            ra
+00019ae0: 6973 6520 4572 726f 7245 7863 6570 7469  ise ErrorExcepti
+00019af0: 6f6e 2827 496e 7661 6c69 6420 4150 4920  on('Invalid API 
+00019b00: 6b65 7927 2c20 5f63 6f6e 7465 7874 290d  key', _context).
+00019b10: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00019b20: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00019b30: 7374 6174 7573 5f63 6f64 6520 3d3d 2034  status_code == 4
+00019b40: 3034 3a0d 0a20 2020 2020 2020 2020 2020  04:..           
+00019b50: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+00019b60: 7074 696f 6e28 2741 6e20 696e 666f 726d  ption('An inform
+00019b70: 6564 2072 6573 6f75 7263 6520 7761 7320  ed resource was 
+00019b80: 6e6f 7420 666f 756e 6427 2c20 5f63 6f6e  not found', _con
+00019b90: 7465 7874 290d 0a20 2020 2020 2020 2065  text)..        e
+00019ba0: 6c69 6620 5f63 6f6e 7465 7874 2e72 6573  lif _context.res
+00019bb0: 706f 6e73 652e 7374 6174 7573 5f63 6f64  ponse.status_cod
+00019bc0: 6520 3d3d 2034 3132 3a0d 0a20 2020 2020  e == 412:..     
+00019bd0: 2020 2020 2020 2072 6169 7365 2045 7272         raise Err
+00019be0: 6f72 4578 6365 7074 696f 6e28 2742 7573  orException('Bus
+00019bf0: 696e 6573 7320 7661 6c69 6461 7469 6f6e  iness validation
+00019c00: 2065 7272 6f72 272c 205f 636f 6e74 6578   error', _contex
+00019c10: 7429 0d0a 2020 2020 2020 2020 656c 6966  t)..        elif
+00019c20: 205f 636f 6e74 6578 742e 7265 7370 6f6e   _context.respon
+00019c30: 7365 2e73 7461 7475 735f 636f 6465 203d  se.status_code =
+00019c40: 3d20 3432 323a 0d0a 2020 2020 2020 2020  = 422:..        
+00019c50: 2020 2020 7261 6973 6520 4572 726f 7245      raise ErrorE
+00019c60: 7863 6570 7469 6f6e 2827 436f 6e74 7261  xception('Contra
+00019c70: 6374 2076 616c 6964 6174 696f 6e20 6572  ct validation er
+00019c80: 726f 7227 2c20 5f63 6f6e 7465 7874 290d  ror', _context).
+00019c90: 0a20 2020 2020 2020 2065 6c69 6620 5f63  .        elif _c
+00019ca0: 6f6e 7465 7874 2e72 6573 706f 6e73 652e  ontext.response.
+00019cb0: 7374 6174 7573 5f63 6f64 6520 3d3d 2035  status_code == 5
+00019cc0: 3030 3a0d 0a20 2020 2020 2020 2020 2020  00:..           
+00019cd0: 2072 6169 7365 2045 7272 6f72 4578 6365   raise ErrorExce
+00019ce0: 7074 696f 6e28 2749 6e74 6572 6e61 6c20  ption('Internal 
+00019cf0: 7365 7276 6572 2065 7272 6f72 272c 205f  server error', _
+00019d00: 636f 6e74 6578 7429 0d0a 2020 2020 2020  context)..      
+00019d10: 2020 7365 6c66 2e76 616c 6964 6174 655f    self.validate_
+00019d20: 7265 7370 6f6e 7365 285f 636f 6e74 6578  response(_contex
+00019d30: 7429 0d0a 0d0a 2020 2020 2020 2020 2320  t)....        # 
+00019d40: 5265 7475 726e 2061 7070 726f 7072 6961  Return appropria
+00019d50: 7465 2074 7970 650d 0a20 2020 2020 2020  te type..       
+00019d60: 2072 6574 7572 6e20 4150 4948 656c 7065   return APIHelpe
+00019d70: 722e 6a73 6f6e 5f64 6573 6572 6961 6c69  r.json_deseriali
+00019d80: 7a65 285f 636f 6e74 6578 742e 7265 7370  ze(_context.resp
+00019d90: 6f6e 7365 2e72 6177 5f62 6f64 792c 2047  onse.raw_body, G
+00019da0: 6574 5375 6273 6372 6970 7469 6f6e 5265  etSubscriptionRe
+00019db0: 7370 6f6e 7365 2e66 726f 6d5f 6469 6374  sponse.from_dict
+00019dc0: 696f 6e61 7279 290d 0a                   ionary)..
```

### Comparing `mundiapi-2.4.4/mundiapi/controllers/recipients_controller.py` & `mundiapi-2.4.5/mundiapi/controllers/recipients_controller.py`

 * *Files 3% similar despite different names*

```diff
@@ -65,14 +65,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -130,14 +131,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -191,15 +193,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -253,15 +256,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -311,14 +315,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -369,15 +374,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -458,15 +464,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -521,14 +528,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -585,14 +593,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -643,15 +652,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -706,14 +716,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -767,15 +778,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -845,15 +857,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -908,14 +921,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -976,15 +990,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -1037,14 +1052,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json'
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -1115,15 +1131,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -1175,15 +1192,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -1239,14 +1257,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -1297,15 +1316,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
```

### Comparing `mundiapi-2.4.4/mundiapi/controllers/transactions_controller.py` & `mundiapi-2.4.5/mundiapi/controllers/transactions_controller.py`

 * *Files 3% similar despite different names*

```diff
@@ -45,15 +45,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
```

### Comparing `mundiapi-2.4.4/mundiapi/controllers/invoices_controller.py` & `mundiapi-2.4.5/mundiapi/controllers/invoices_controller.py`

 * *Files 3% similar despite different names*

```diff
@@ -60,14 +60,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -118,15 +119,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -182,14 +184,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -240,15 +243,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -301,14 +305,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -365,14 +370,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -461,15 +467,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
```

### Comparing `mundiapi-2.4.4/mundiapi/controllers/plans_controller.py` & `mundiapi-2.4.5/mundiapi/controllers/plans_controller.py`

 * *Files 3% similar despite different names*

```diff
@@ -57,14 +57,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -122,14 +123,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -182,15 +184,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -245,14 +248,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -325,15 +329,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -383,14 +388,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -441,15 +447,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -504,14 +511,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -566,14 +574,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -630,14 +639,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
```

### Comparing `mundiapi-2.4.4/mundiapi/controllers/orders_controller.py` & `mundiapi-2.4.5/mundiapi/controllers/orders_controller.py`

 * *Files 6% similar despite different names*

```diff
@@ -56,14 +56,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -118,14 +119,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -181,14 +183,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -246,14 +249,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.patch(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -326,15 +330,16 @@
         }
         _query_builder = APIHelper.append_url_with_query_parameters(_query_builder,
             _query_parameters, Configuration.array_serialization)
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -384,14 +389,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.post(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -449,14 +455,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.delete(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
@@ -509,15 +516,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
 
@@ -575,14 +583,15 @@
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
             'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name,
             'Content-Type': 'application/json',
             'idempotency-key': idempotency_key
         }
 
         # Prepare and execute request
         _request = self.http_client.put(_query_url, headers=_headers, parameters=APIHelper.json_serialize(body))
         BasicAuth.apply(_request)
@@ -633,15 +642,16 @@
         })
         _query_builder = Configuration.base_uri
         _query_builder += _url_path
         _query_url = APIHelper.clean_url(_query_builder)
 
         # Prepare headers
         _headers = {
-            'accept': 'application/json'
+            'accept': 'application/json',
+            'ServiceRefererName': Configuration.service_referer_name
         }
 
         # Prepare and execute request
         _request = self.http_client.get(_query_url, headers=_headers)
         BasicAuth.apply(_request)
         _context = self.execute_request(_request)
```

### Comparing `mundiapi-2.4.4/mundiapi/controllers/base_controller.py` & `mundiapi-2.4.5/mundiapi/controllers/base_controller.py`

 * *Files 0% similar despite different names*

```diff
@@ -28,15 +28,15 @@
     """
 
     http_client = RequestsClient()
 
     http_call_back = None
 
     global_headers = {
-        'user-agent': 'MundiSDK - Python 2.4.4'
+        'user-agent': 'MundiSDK - Python 2.4.5'
     }
 
     def __init__(self, client=None, call_back=None):
         if client != None:
             self.http_client = client
         if call_back != None:
             self.http_call_back = call_back
```

### Comparing `mundiapi-2.4.4/mundiapi/controllers/sellers_controller.py` & `mundiapi-2.4.5/mundiapi/controllers/sellers_controller.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/http/requests_client.py` & `mundiapi-2.4.5/mundiapi/http/requests_client.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/http/http_method_enum.py` & `mundiapi-2.4.5/mundiapi/http/http_method_enum.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/http/auth/basic_auth.py` & `mundiapi-2.4.5/mundiapi/http/auth/basic_auth.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/http/http_request.py` & `mundiapi-2.4.5/mundiapi/http/http_request.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/http/http_context.py` & `mundiapi-2.4.5/mundiapi/http/http_context.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/http/http_client.py` & `mundiapi-2.4.5/mundiapi/http/http_client.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/http/http_call_back.py` & `mundiapi-2.4.5/mundiapi/http/http_call_back.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/mundiapi/http/http_response.py` & `mundiapi-2.4.5/mundiapi/http/http_response.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/tests/http_response_catcher.py` & `mundiapi-2.4.5/tests/http_response_catcher.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/tests/test_helper.py` & `mundiapi-2.4.5/tests/test_helper.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/tests/controllers/test_plans_controller.py` & `mundiapi-2.4.5/tests/controllers/test_plans_controller.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/tests/controllers/test_recipients_controller.py` & `mundiapi-2.4.5/tests/controllers/test_recipients_controller.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/tests/controllers/controller_test_base.py` & `mundiapi-2.4.5/tests/controllers/controller_test_base.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/tests/controllers/test_subscriptions_controller.py` & `mundiapi-2.4.5/tests/controllers/test_subscriptions_controller.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/tests/controllers/test_transfers_controller.py` & `mundiapi-2.4.5/tests/controllers/test_transfers_controller.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/tests/controllers/test_invoices_controller.py` & `mundiapi-2.4.5/tests/controllers/test_invoices_controller.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/tests/controllers/test_customers_controller.py` & `mundiapi-2.4.5/tests/controllers/test_customers_controller.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/tests/controllers/test_orders_controller.py` & `mundiapi-2.4.5/tests/controllers/test_orders_controller.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/tests/controllers/test_charges_controller.py` & `mundiapi-2.4.5/tests/controllers/test_charges_controller.py`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/setup.py` & `mundiapi-2.4.5/setup.py`

 * *Files 1% similar despite different names*

```diff
@@ -8,15 +8,15 @@
         long_description = fh.read()
 else:
     with open("README.md", "r", encoding="utf-8") as fh:
         long_description = fh.read()
 
 setup(
     name='mundiapi',
-    version='2.4.4',
+    version='2.4.5',
     description='Mundipagg API',
      
     long_description_content_type="text/markdown",
      author='Mundipagg',
     author_email='suporte@mundipagg.com',
     url='https://github.com/mundipagg/MundiAPI-PYTHON',
     packages=find_packages(),
```

### Comparing `mundiapi-2.4.4/mundiapi.egg-info/SOURCES.txt` & `mundiapi-2.4.5/mundiapi.egg-info/SOURCES.txt`

 * *Files identical despite different names*

### Comparing `mundiapi-2.4.4/README.md` & `mundiapi-2.4.5/README.md`

 * *Files 1% similar despite different names*

```diff
@@ -84,27 +84,29 @@
 ## Initialization
 
 ### Authentication
 In order to setup authentication and initialization of the API client, you need the following information.
 
 | Parameter | Description |
 |-----------|-------------|
+| service_referer_name | TODO: add a description |
 | basic_auth_user_name | The username to use with basic authentication |
 | basic_auth_password | The password to use with basic authentication |
 
 
 
 API client can be initialized as following.
 
 ```python
 # Configuration parameters and credentials
+service_referer_name = 'service_referer_name'
 basic_auth_user_name = 'basic_auth_user_name' # The username to use with basic authentication
 basic_auth_password = 'basic_auth_password' # The password to use with basic authentication
 
-client = MundiapiClient(basic_auth_user_name, basic_auth_password)
+client = MundiapiClient(service_referer_name, basic_auth_user_name, basic_auth_password)
 ```
 
 
 
 # Class Reference
 
 ## <a name="list_of_controllers"></a>List of Controllers
@@ -754,16 +756,16 @@
 | createdUntil |  ``` Optional ```  | Filter for subscriptions creation date end range |
 
 
 
 #### Example Usage
 
 ```python
-page = 180
-size = 180
+page = 142
+size = 142
 code = 'code'
 billing_type = 'billing_type'
 customer_id = 'customer_id'
 plan_id = 'plan_id'
 card_id = 'card_id'
 status = 'status'
 next_billing_since = datetime.now()
@@ -817,16 +819,16 @@
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
 cycle_id = 'cycle_id'
-size = 180
-page = 180
+size = 142
+page = 142
 item_id = 'item_id'
 group = 'group'
 
 result = subscriptions_controller.get_usages_details(subscription_id, cycle_id, size, page, item_id, group)
 
 ```
 
@@ -1011,16 +1013,16 @@
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
 item_id = 'item_id'
-page = 180
-size = 180
+page = 142
+size = 142
 code = 'code'
 group = 'group'
 used_since = datetime.now()
 used_until = datetime.now()
 
 result = subscriptions_controller.get_usages(subscription_id, item_id, page, size, code, group, used_since, used_until)
 
@@ -1107,16 +1109,16 @@
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-page = 180
-size = 180
+page = 142
+size = 142
 
 result = subscriptions_controller.get_increments(subscription_id, page, size)
 
 ```
 
 #### Errors
 
@@ -1211,16 +1213,16 @@
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-page = 180
-size = 180
+page = 142
+size = 142
 name = 'name'
 code = 'code'
 status = 'status'
 description = 'description'
 created_since = 'created_since'
 created_until = 'created_until'
 
@@ -1585,16 +1587,16 @@
 
 
 
 #### Example Usage
 
 ```python
 subscription_id = 'subscription_id'
-page = 16
-size = 16
+page = 142
+size = 142
 
 result = subscriptions_controller.get_discounts(subscription_id, page, size)
 
 ```
 
 #### Errors
 
@@ -2052,16 +2054,16 @@
 | customerId |  ``` Optional ```  | Filter for order's customer id |
 
 
 
 #### Example Usage
 
 ```python
-page = 16
-size = 16
+page = 233
+size = 233
 code = 'code'
 status = 'status'
 created_since = datetime.now()
 created_until = datetime.now()
 customer_id = 'customer_id'
 
 result = orders_controller.get_orders(page, size, code, status, created_since, created_until, customer_id)
@@ -2527,16 +2529,16 @@
 | createdUntil |  ``` Optional ```  | Filter for plan's creation date end range |
 
 
 
 #### Example Usage
 
 ```python
-page = 16
-size = 16
+page = 233
+size = 233
 name = 'name'
 status = 'status'
 billing_type = 'billing_type'
 created_since = datetime.now()
 created_until = datetime.now()
 
 result = plans_controller.get_plans(page, size, name, status, billing_type, created_since, created_until)
@@ -3087,16 +3089,16 @@
 | customerDocument |  ``` Optional ```  | Fillter for invoice's document |
 
 
 
 #### Example Usage
 
 ```python
-page = 230
-size = 230
+page = 191
+size = 191
 code = 'code'
 customer_id = 'customer_id'
 subscription_id = 'subscription_id'
 created_since = datetime.now()
 created_until = datetime.now()
 status = 'status'
 due_since = datetime.now()
@@ -3200,16 +3202,16 @@
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-page = 230
-size = 230
+page = 191
+size = 191
 
 result = customers_controller.get_access_tokens(customer_id, page, size)
 
 ```
 
 #### Errors
 
@@ -3372,16 +3374,16 @@
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-page = 230
-size = 230
+page = 191
+size = 191
 
 result = customers_controller.get_addresses(customer_id, page, size)
 
 ```
 
 #### Errors
 
@@ -3737,16 +3739,16 @@
 
 
 
 #### Example Usage
 
 ```python
 customer_id = 'customer_id'
-page = 230
-size = 230
+page = 191
+size = 191
 
 result = customers_controller.get_cards(customer_id, page, size)
 
 ```
 
 #### Errors
 
@@ -4312,16 +4314,16 @@
 | createdUntil |  ``` Optional ```  | Filter for the end of the range for charge's creation |
 
 
 
 #### Example Usage
 
 ```python
-page = 230
-size = 230
+page = 28
+size = 28
 code = 'code'
 status = 'status'
 payment_method = 'payment_method'
 customer_id = 'customer_id'
 order_id = 'order_id'
 created_since = datetime.now()
 created_until = datetime.now()
@@ -4635,16 +4637,16 @@
 
 
 
 #### Example Usage
 
 ```python
 charge_id = 'charge_id'
-page = 66
-size = 66
+page = 28
+size = 28
 
 result = charges_controller.get_charge_transactions(charge_id, page, size)
 
 ```
 
 #### Errors
 
@@ -4871,16 +4873,16 @@
 | size |  ``` Optional ```  | Page size |
 
 
 
 #### Example Usage
 
 ```python
-page = 66
-size = 66
+page = 28
+size = 28
 
 result = recipients_controller.get_recipients(page, size)
 
 ```
 
 #### Errors
 
@@ -5012,16 +5014,16 @@
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-page = 66
-size = 66
+page = 28
+size = 28
 status = 'status'
 timeframe = 'timeframe'
 payment_date_since = datetime.now()
 payment_date_until = datetime.now()
 created_since = datetime.now()
 created_until = datetime.now()
 
@@ -5291,16 +5293,16 @@
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-page = 66
-size = 66
+page = 28
+size = 28
 status = 'status'
 created_since = datetime.now()
 created_until = datetime.now()
 
 result = recipients_controller.get_transfers(recipient_id, page, size, status, created_since, created_until)
 
 ```
@@ -5481,16 +5483,16 @@
 
 
 
 #### Example Usage
 
 ```python
 recipient_id = 'recipient_id'
-page = 66
-size = 66
+page = 28
+size = 28
 status = 'status'
 created_since = datetime.now()
 created_until = datetime.now()
 
 result = recipients_controller.get_withdrawals(recipient_id, page, size, status, created_since, created_until)
 
 ```
```

