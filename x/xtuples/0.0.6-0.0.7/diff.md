# Comparing `tmp/xtuples-0.0.6.tar.gz` & `tmp/xtuples-0.0.7.tar.gz`

## Comparing `xtuples-0.0.6.tar` & `xtuples-0.0.7.tar`

### file list

```diff
@@ -1,16 +1,14 @@
--rw-r--r--   0        0        0      138 2020-02-02 00:00:00.000000 xtuples-0.0.6/docs/index.html
--rw-r--r--   0        0        0   240844 2020-02-02 00:00:00.000000 xtuples-0.0.6/docs/search.js
--rw-r--r--   0        0        0    36104 2020-02-02 00:00:00.000000 xtuples-0.0.6/docs/xtuples.html
--rw-r--r--   0        0        0    35654 2020-02-02 00:00:00.000000 xtuples-0.0.6/docs/xtuples/__about__.html
--rw-r--r--   0        0        0    94700 2020-02-02 00:00:00.000000 xtuples-0.0.6/docs/xtuples/json.html
--rw-r--r--   0        0        0   541716 2020-02-02 00:00:00.000000 xtuples-0.0.6/docs/xtuples/xtuples.html
--rw-r--r--   0        0        0      130 2020-02-02 00:00:00.000000 xtuples-0.0.6/src/xtuples/__about__.py
--rw-r--r--   0        0        0      230 2020-02-02 00:00:00.000000 xtuples-0.0.6/src/xtuples/__init__.py
--rw-r--r--   0        0        0     5819 2020-02-02 00:00:00.000000 xtuples-0.0.6/src/xtuples/json.py
--rw-r--r--   0        0        0    19708 2020-02-02 00:00:00.000000 xtuples-0.0.6/src/xtuples/xtuples.py
--rw-r--r--   0        0        0      107 2020-02-02 00:00:00.000000 xtuples-0.0.6/tests/__init__.py
--rw-r--r--   0        0        0     1943 2020-02-02 00:00:00.000000 xtuples-0.0.6/.gitignore
--rw-r--r--   0        0        0     1105 2020-02-02 00:00:00.000000 xtuples-0.0.6/LICENSE.txt
--rw-r--r--   0        0        0     2412 2020-02-02 00:00:00.000000 xtuples-0.0.6/README.md
--rw-r--r--   0        0        0     3110 2020-02-02 00:00:00.000000 xtuples-0.0.6/pyproject.toml
--rw-r--r--   0        0        0     3029 2020-02-02 00:00:00.000000 xtuples-0.0.6/PKG-INFO
+-rw-r--r--   0        0        0    26953 2020-02-02 00:00:00.000000 xtuples-0.0.7/README.ipynb
+-rw-r--r--   0        0        0     7004 2020-02-02 00:00:00.000000 xtuples-0.0.7/docs/index.html
+-rw-r--r--   0        0        0    22834 2020-02-02 00:00:00.000000 xtuples-0.0.7/docs/json.html
+-rw-r--r--   0        0        0   106349 2020-02-02 00:00:00.000000 xtuples-0.0.7/docs/xtuples.html
+-rw-r--r--   0        0        0      130 2020-02-02 00:00:00.000000 xtuples-0.0.7/src/xtuples/__about__.py
+-rw-r--r--   0        0        0      230 2020-02-02 00:00:00.000000 xtuples-0.0.7/src/xtuples/__init__.py
+-rw-r--r--   0        0        0     5845 2020-02-02 00:00:00.000000 xtuples-0.0.7/src/xtuples/json.py
+-rw-r--r--   0        0        0    21657 2020-02-02 00:00:00.000000 xtuples-0.0.7/src/xtuples/xtuples.py
+-rw-r--r--   0        0        0      107 2020-02-02 00:00:00.000000 xtuples-0.0.7/tests/__init__.py
+-rw-r--r--   0        0        0     1965 2020-02-02 00:00:00.000000 xtuples-0.0.7/.gitignore
+-rw-r--r--   0        0        0     1105 2020-02-02 00:00:00.000000 xtuples-0.0.7/LICENSE.txt
+-rw-r--r--   0        0        0    15119 2020-02-02 00:00:00.000000 xtuples-0.0.7/README.md
+-rw-r--r--   0        0        0     3110 2020-02-02 00:00:00.000000 xtuples-0.0.7/pyproject.toml
+-rw-r--r--   0        0        0    15265 2020-02-02 00:00:00.000000 xtuples-0.0.7/PKG-INFO
```

### Comparing `xtuples-0.0.6/src/xtuples/json.py` & `xtuples-0.0.7/src/xtuples/json.py`

 * *Files 3% similar despite different names*

```diff
@@ -2,363 +2,365 @@
 00000010: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
 00000020: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
 00000030: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
 00000040: 2d2d 2d0d 0a0d 0a69 6d70 6f72 7420 6a73  ---....import js
 00000050: 6f6e 0d0a 0d0a 6672 6f6d 202e 7874 7570  on....from .xtup
 00000060: 6c65 7320 696d 706f 7274 2052 4547 4953  les import REGIS
 00000070: 5452 592c 206e 5475 706c 652c 2069 5475  TRY, nTuple, iTu
-00000080: 706c 652c 2045 7861 6d70 6c65 0d0a 0d0a  ple, Example....
-00000090: 2320 2d2d 2d2d 2d0d 0a0d 0a64 6566 2063  # -----....def c
-000000a0: 6173 745f 6a73 6f6e 5f6e 5475 706c 6528  ast_json_nTuple(
-000000b0: 6f62 6a29 3a0d 0a20 2020 2022 2222 0d0a  obj):..    """..
-000000c0: 2020 2020 3e3e 3e20 6578 203d 2045 7861      >>> ex = Exa
-000000d0: 6d70 6c65 2831 2c20 2261 2229 0d0a 2020  mple(1, "a")..  
-000000e0: 2020 3e3e 3e20 6578 2e70 6970 6528 6361    >>> ex.pipe(ca
-000000f0: 7374 5f6a 736f 6e5f 6e54 7570 6c65 290d  st_json_nTuple).
-00000100: 0a20 2020 207b 2778 273a 2031 2c20 2773  .    {'x': 1, 's
-00000110: 273a 2027 6127 2c20 2769 7427 3a20 7b27  ': 'a', 'it': {'
-00000120: 5f5f 745f 5f27 3a20 2769 5475 706c 6527  __t__': 'iTuple'
-00000130: 2c20 2764 6174 6127 3a20 5b5d 7d2c 2027  , 'data': []}, '
-00000140: 5f5f 745f 5f27 3a20 2745 7861 6d70 6c65  __t__': 'Example
-00000150: 277d 0d0a 2020 2020 2222 220d 0a20 2020  '}..    """..   
-00000160: 2064 203d 207b 0d0a 2020 2020 2020 2020   d = {..        
-00000170: 6b3a 2063 6173 745f 6a73 6f6e 2876 290d  k: cast_json(v).
-00000180: 0a20 2020 2020 2020 2066 6f72 206b 2c20  .        for k, 
-00000190: 7620 696e 206f 626a 2e5f 6173 6469 6374  v in obj._asdict
-000001a0: 2829 2e69 7465 6d73 2829 0d0a 2020 2020  ().items()..    
-000001b0: 2020 2020 230d 0a20 2020 207d 0d0a 2020      #..    }..  
-000001c0: 2020 645b 225f 5f74 5f5f 225d 203d 2074    d["__t__"] = t
-000001d0: 7970 6528 6f62 6a29 2e5f 5f6e 616d 655f  ype(obj).__name_
-000001e0: 5f0d 0a20 2020 2072 6574 7572 6e20 640d  _..    return d.
-000001f0: 0a0d 0a64 6566 2075 6e63 6173 745f 6a73  ...def uncast_js
-00000200: 6f6e 5f6e 5475 706c 6528 636c 732c 206f  on_nTuple(cls, o
-00000210: 626a 293a 0d0a 2020 2020 2222 220d 0a20  bj):..    """.. 
-00000220: 2020 203e 3e3e 2065 7820 3d20 4578 616d     >>> ex = Exam
-00000230: 706c 6528 312c 2022 6122 290d 0a20 2020  ple(1, "a")..   
-00000240: 203e 3e3e 2075 6e63 6173 745f 6a73 6f6e   >>> uncast_json
-00000250: 5f6e 5475 706c 6528 4578 616d 706c 652c  _nTuple(Example,
-00000260: 2065 782e 7069 7065 2863 6173 745f 6a73   ex.pipe(cast_js
-00000270: 6f6e 5f6e 5475 706c 6529 290d 0a20 2020  on_nTuple))..   
-00000280: 2045 7861 6d70 6c65 2878 3d31 2c20 733d   Example(x=1, s=
-00000290: 2761 272c 2069 743d 6954 7570 6c65 2829  'a', it=iTuple()
-000002a0: 290d 0a20 2020 2022 2222 0d0a 2020 2020  )..    """..    
-000002b0: 6173 7365 7274 206f 626a 5b22 5f5f 745f  assert obj["__t_
-000002c0: 5f22 5d20 3d3d 2063 6c73 2e5f 5f6e 616d  _"] == cls.__nam
-000002d0: 655f 5f0d 0a20 2020 2072 6574 7572 6e20  e__..    return 
-000002e0: 636c 7328 0d0a 2020 2020 2020 2020 2a28  cls(..        *(
-000002f0: 0d0a 2020 2020 2020 2020 2020 2020 756e  ..            un
-00000300: 6361 7374 5f6a 736f 6e28 7629 0d0a 2020  cast_json(v)..  
-00000310: 2020 2020 2020 2020 2020 666f 7220 6b2c            for k,
-00000320: 2076 2069 6e20 6f62 6a2e 6974 656d 7328   v in obj.items(
-00000330: 2920 6966 206b 2021 3d20 225f 5f74 5f5f  ) if k != "__t__
-00000340: 220d 0a20 2020 2020 2020 2029 0d0a 2020  "..        )..  
-00000350: 2020 290d 0a0d 0a64 6566 2063 6173 745f    )....def cast_
-00000360: 6a73 6f6e 5f69 5475 706c 6528 7365 6c66  json_iTuple(self
-00000370: 293a 0d0a 2020 2020 2222 220d 0a20 2020  ):..    """..   
-00000380: 203e 3e3e 2069 5475 706c 652e 7261 6e67   >>> iTuple.rang
-00000390: 6528 3129 2e70 6970 6528 6361 7374 5f6a  e(1).pipe(cast_j
-000003a0: 736f 6e5f 6954 7570 6c65 290d 0a20 2020  son_iTuple)..   
-000003b0: 207b 275f 5f74 5f5f 273a 2027 6954 7570   {'__t__': 'iTup
-000003c0: 6c65 272c 2027 6461 7461 273a 205b 305d  le', 'data': [0]
-000003d0: 7d0d 0a20 2020 2022 2222 0d0a 2020 2020  }..    """..    
-000003e0: 7265 7475 726e 2064 6963 7428 0d0a 2020  return dict(..  
-000003f0: 2020 2020 2020 5f5f 745f 5f20 3d20 7479        __t__ = ty
-00000400: 7065 2873 656c 6629 2e5f 5f6e 616d 655f  pe(self).__name_
-00000410: 5f2c 0d0a 2020 2020 2020 2020 6461 7461  _,..        data
-00000420: 203d 206c 6973 7428 7365 6c66 2e6d 6170   = list(self.map
-00000430: 2863 6173 745f 6a73 6f6e 2929 2c0d 0a20  (cast_json)),.. 
-00000440: 2020 2029 0d0a 0d0a 6465 6620 756e 6361     )....def unca
-00000450: 7374 5f6a 736f 6e5f 6954 7570 6c65 2863  st_json_iTuple(c
-00000460: 6c73 2c20 6f62 6a29 3a0d 0a20 2020 2022  ls, obj):..    "
-00000470: 2222 0d0a 2020 2020 3e3e 3e20 756e 6361  ""..    >>> unca
-00000480: 7374 5f6a 736f 6e5f 6954 7570 6c65 2869  st_json_iTuple(i
-00000490: 5475 706c 652c 2069 5475 706c 652e 7261  Tuple, iTuple.ra
-000004a0: 6e67 6528 3129 2e70 6970 6528 6361 7374  nge(1).pipe(cast
-000004b0: 5f6a 736f 6e5f 6954 7570 6c65 2929 0d0a  _json_iTuple))..
-000004c0: 2020 2020 6954 7570 6c65 2830 290d 0a20      iTuple(0).. 
-000004d0: 2020 2022 2222 0d0a 2020 2020 6173 7365     """..    asse
-000004e0: 7274 206f 626a 5b22 5f5f 745f 5f22 5d20  rt obj["__t__"] 
-000004f0: 3d3d 2063 6c73 2e5f 5f6e 616d 655f 5f0d  == cls.__name__.
-00000500: 0a20 2020 2072 6574 7572 6e20 636c 7328  .    return cls(
-00000510: 6461 7461 3d6f 626a 5b22 6461 7461 225d  data=obj["data"]
-00000520: 290d 0a0d 0a0d 0a64 6566 2063 6173 745f  )......def cast_
-00000530: 6a73 6f6e 286f 626a 2c20 6465 6661 756c  json(obj, defaul
-00000540: 7420 3d20 6c61 6d62 6461 206f 626a 3a20  t = lambda obj: 
-00000550: 6f62 6a29 3a0d 0a20 2020 2022 2222 0d0a  obj):..    """..
-00000560: 2020 2020 3e3e 3e20 6578 203d 2045 7861      >>> ex = Exa
-00000570: 6d70 6c65 2831 2c20 2261 2229 0d0a 2020  mple(1, "a")..  
-00000580: 2020 3e3e 3e20 6578 2e70 6970 6528 6361    >>> ex.pipe(ca
-00000590: 7374 5f6a 736f 6e29 0d0a 2020 2020 7b27  st_json)..    {'
-000005a0: 7827 3a20 312c 2027 7327 3a20 2761 272c  x': 1, 's': 'a',
-000005b0: 2027 6974 273a 207b 275f 5f74 5f5f 273a   'it': {'__t__':
-000005c0: 2027 6954 7570 6c65 272c 2027 6461 7461   'iTuple', 'data
-000005d0: 273a 205b 5d7d 2c20 275f 5f74 5f5f 273a  ': []}, '__t__':
-000005e0: 2027 4578 616d 706c 6527 7d0d 0a20 2020   'Example'}..   
-000005f0: 203e 3e3e 2069 5475 706c 652e 7261 6e67   >>> iTuple.rang
-00000600: 6528 3129 2e70 6970 6528 6361 7374 5f6a  e(1).pipe(cast_j
-00000610: 736f 6e29 0d0a 2020 2020 7b27 5f5f 745f  son)..    {'__t_
-00000620: 5f27 3a20 2769 5475 706c 6527 2c20 2764  _': 'iTuple', 'd
-00000630: 6174 6127 3a20 5b30 5d7d 0d0a 2020 2020  ata': [0]}..    
-00000640: 2222 220d 0a20 2020 2069 6620 6e54 7570  """..    if nTup
-00000650: 6c65 2e69 735f 696e 7374 616e 6365 286f  le.is_instance(o
-00000660: 626a 293a 0d0a 2020 2020 2020 2020 7265  bj):..        re
-00000670: 7475 726e 2063 6173 745f 6a73 6f6e 5f6e  turn cast_json_n
-00000680: 5475 706c 6528 6f62 6a29 0d0a 2020 2020  Tuple(obj)..    
-00000690: 656c 6966 2069 7369 6e73 7461 6e63 6528  elif isinstance(
-000006a0: 6f62 6a2c 2069 5475 706c 6529 3a0d 0a20  obj, iTuple):.. 
-000006b0: 2020 2020 2020 2072 6574 7572 6e20 6361         return ca
-000006c0: 7374 5f6a 736f 6e5f 6954 7570 6c65 286f  st_json_iTuple(o
-000006d0: 626a 290d 0a20 2020 2072 6574 7572 6e20  bj)..    return 
-000006e0: 6465 6661 756c 7428 6f62 6a29 0d0a 0d0a  default(obj)....
-000006f0: 6465 6620 756e 6361 7374 5f6a 736f 6e28  def uncast_json(
-00000700: 6f62 6a29 3a0d 0a20 2020 2022 2222 0d0a  obj):..    """..
-00000710: 2020 2020 3e3e 3e20 6578 203d 2045 7861      >>> ex = Exa
-00000720: 6d70 6c65 2831 2c20 2261 2229 0d0a 2020  mple(1, "a")..  
-00000730: 2020 3e3e 3e20 756e 6361 7374 5f6a 736f    >>> uncast_jso
-00000740: 6e28 6578 2e70 6970 6528 6361 7374 5f6a  n(ex.pipe(cast_j
-00000750: 736f 6e29 290d 0a20 2020 2045 7861 6d70  son))..    Examp
-00000760: 6c65 2878 3d31 2c20 733d 2761 272c 2069  le(x=1, s='a', i
-00000770: 743d 6954 7570 6c65 2829 290d 0a20 2020  t=iTuple())..   
-00000780: 203e 3e3e 2075 6e63 6173 745f 6a73 6f6e   >>> uncast_json
-00000790: 2869 5475 706c 652e 7261 6e67 6528 3129  (iTuple.range(1)
-000007a0: 2e70 6970 6528 6361 7374 5f6a 736f 6e29  .pipe(cast_json)
-000007b0: 290d 0a20 2020 2069 5475 706c 6528 3029  )..    iTuple(0)
-000007c0: 0d0a 2020 2020 2222 220d 0a20 2020 2069  ..    """..    i
-000007d0: 6620 6e6f 7420 6973 696e 7374 616e 6365  f not isinstance
-000007e0: 286f 626a 2c20 6469 6374 293a 0d0a 2020  (obj, dict):..  
-000007f0: 2020 2020 2020 7265 7475 726e 206f 626a        return obj
-00000800: 0d0a 2020 2020 5f5f 745f 5f20 3d20 6f62  ..    __t__ = ob
-00000810: 6a2e 6765 7428 225f 5f74 5f5f 222c 204e  j.get("__t__", N
-00000820: 6f6e 6529 0d0a 2020 2020 6966 205f 5f74  one)..    if __t
-00000830: 5f5f 2069 7320 4e6f 6e65 3a0d 0a20 2020  __ is None:..   
-00000840: 2020 2020 2072 6574 7572 6e20 6f62 6a0d       return obj.
-00000850: 0a20 2020 2063 6c73 203d 2069 5475 706c  .    cls = iTupl
-00000860: 6520 6966 205f 5f74 5f5f 203d 3d20 2269  e if __t__ == "i
-00000870: 5475 706c 6522 2065 6c73 6520 5245 4749  Tuple" else REGI
-00000880: 5354 5259 5b5f 5f74 5f5f 5d0d 0a20 2020  STRY[__t__]..   
-00000890: 2069 6620 636c 7320 6973 2069 5475 706c   if cls is iTupl
-000008a0: 6520 6f72 2069 7373 7562 636c 6173 7328  e or issubclass(
-000008b0: 636c 732c 2069 5475 706c 6529 3a0d 0a20  cls, iTuple):.. 
-000008c0: 2020 2020 2020 2072 6574 7572 6e20 756e         return un
-000008d0: 6361 7374 5f6a 736f 6e5f 6954 7570 6c65  cast_json_iTuple
-000008e0: 2863 6c73 2c20 6f62 6a29 0d0a 2020 2020  (cls, obj)..    
-000008f0: 7265 7475 726e 2075 6e63 6173 745f 6a73  return uncast_js
-00000900: 6f6e 5f6e 5475 706c 6528 636c 732c 206f  on_nTuple(cls, o
-00000910: 626a 290d 0a0d 0a23 202d 2d2d 2d2d 2d2d  bj)....# -------
-00000920: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00000080: 706c 652c 205f 4578 616d 706c 650d 0a0d  ple, _Example...
+00000090: 0a23 202d 2d2d 2d2d 0d0a 0d0a 6465 6620  .# -----....def 
+000000a0: 6361 7374 5f6a 736f 6e5f 6e54 7570 6c65  cast_json_nTuple
+000000b0: 286f 626a 293a 0d0a 2020 2020 2222 220d  (obj):..    """.
+000000c0: 0a20 2020 203e 3e3e 2065 7820 3d20 5f45  .    >>> ex = _E
+000000d0: 7861 6d70 6c65 2831 2c20 2261 2229 0d0a  xample(1, "a")..
+000000e0: 2020 2020 3e3e 3e20 6578 2e70 6970 6528      >>> ex.pipe(
+000000f0: 6361 7374 5f6a 736f 6e5f 6e54 7570 6c65  cast_json_nTuple
+00000100: 290d 0a20 2020 207b 2778 273a 2031 2c20  )..    {'x': 1, 
+00000110: 2773 273a 2027 6127 2c20 2769 7427 3a20  's': 'a', 'it': 
+00000120: 7b27 5f5f 745f 5f27 3a20 2769 5475 706c  {'__t__': 'iTupl
+00000130: 6527 2c20 2764 6174 6127 3a20 5b5d 7d2c  e', 'data': []},
+00000140: 2027 5f5f 745f 5f27 3a20 275f 4578 616d   '__t__': '_Exam
+00000150: 706c 6527 7d0d 0a20 2020 2022 2222 0d0a  ple'}..    """..
+00000160: 2020 2020 6420 3d20 7b0d 0a20 2020 2020      d = {..     
+00000170: 2020 206b 3a20 6361 7374 5f6a 736f 6e28     k: cast_json(
+00000180: 7629 0d0a 2020 2020 2020 2020 666f 7220  v)..        for 
+00000190: 6b2c 2076 2069 6e20 6f62 6a2e 5f61 7364  k, v in obj._asd
+000001a0: 6963 7428 292e 6974 656d 7328 290d 0a20  ict().items().. 
+000001b0: 2020 2020 2020 2023 0d0a 2020 2020 7d0d         #..    }.
+000001c0: 0a20 2020 2064 5b22 5f5f 745f 5f22 5d20  .    d["__t__"] 
+000001d0: 3d20 7479 7065 286f 626a 292e 5f5f 6e61  = type(obj).__na
+000001e0: 6d65 5f5f 0d0a 2020 2020 7265 7475 726e  me__..    return
+000001f0: 2064 0d0a 0d0a 6465 6620 756e 6361 7374   d....def uncast
+00000200: 5f6a 736f 6e5f 6e54 7570 6c65 2863 6c73  _json_nTuple(cls
+00000210: 2c20 6f62 6a29 3a0d 0a20 2020 2022 2222  , obj):..    """
+00000220: 0d0a 2020 2020 3e3e 3e20 6578 203d 205f  ..    >>> ex = _
+00000230: 4578 616d 706c 6528 312c 2022 6122 290d  Example(1, "a").
+00000240: 0a20 2020 203e 3e3e 2075 6e63 6173 745f  .    >>> uncast_
+00000250: 6a73 6f6e 5f6e 5475 706c 6528 5f45 7861  json_nTuple(_Exa
+00000260: 6d70 6c65 2c20 6578 2e70 6970 6528 6361  mple, ex.pipe(ca
+00000270: 7374 5f6a 736f 6e5f 6e54 7570 6c65 2929  st_json_nTuple))
+00000280: 0d0a 2020 2020 5f45 7861 6d70 6c65 2878  ..    _Example(x
+00000290: 3d31 2c20 733d 2761 272c 2069 743d 6954  =1, s='a', it=iT
+000002a0: 7570 6c65 2829 290d 0a20 2020 2022 2222  uple())..    """
+000002b0: 0d0a 2020 2020 6173 7365 7274 206f 626a  ..    assert obj
+000002c0: 5b22 5f5f 745f 5f22 5d20 3d3d 2063 6c73  ["__t__"] == cls
+000002d0: 2e5f 5f6e 616d 655f 5f0d 0a20 2020 2072  .__name__..    r
+000002e0: 6574 7572 6e20 636c 7328 0d0a 2020 2020  eturn cls(..    
+000002f0: 2020 2020 2a28 0d0a 2020 2020 2020 2020      *(..        
+00000300: 2020 2020 756e 6361 7374 5f6a 736f 6e28      uncast_json(
+00000310: 7629 0d0a 2020 2020 2020 2020 2020 2020  v)..            
+00000320: 666f 7220 6b2c 2076 2069 6e20 6f62 6a2e  for k, v in obj.
+00000330: 6974 656d 7328 2920 6966 206b 2021 3d20  items() if k != 
+00000340: 225f 5f74 5f5f 220d 0a20 2020 2020 2020  "__t__"..       
+00000350: 2029 0d0a 2020 2020 290d 0a0d 0a64 6566   )..    )....def
+00000360: 2063 6173 745f 6a73 6f6e 5f69 5475 706c   cast_json_iTupl
+00000370: 6528 7365 6c66 293a 0d0a 2020 2020 2222  e(self):..    ""
+00000380: 220d 0a20 2020 203e 3e3e 2069 5475 706c  "..    >>> iTupl
+00000390: 652e 7261 6e67 6528 3129 2e70 6970 6528  e.range(1).pipe(
+000003a0: 6361 7374 5f6a 736f 6e5f 6954 7570 6c65  cast_json_iTuple
+000003b0: 290d 0a20 2020 207b 275f 5f74 5f5f 273a  )..    {'__t__':
+000003c0: 2027 6954 7570 6c65 272c 2027 6461 7461   'iTuple', 'data
+000003d0: 273a 205b 305d 7d0d 0a20 2020 2022 2222  ': [0]}..    """
+000003e0: 0d0a 2020 2020 7265 7475 726e 2064 6963  ..    return dic
+000003f0: 7428 0d0a 2020 2020 2020 2020 5f5f 745f  t(..        __t_
+00000400: 5f20 3d20 7479 7065 2873 656c 6629 2e5f  _ = type(self)._
+00000410: 5f6e 616d 655f 5f2c 0d0a 2020 2020 2020  _name__,..      
+00000420: 2020 6461 7461 203d 206c 6973 7428 7365    data = list(se
+00000430: 6c66 2e6d 6170 2863 6173 745f 6a73 6f6e  lf.map(cast_json
+00000440: 2929 2c0d 0a20 2020 2029 0d0a 0d0a 6465  )),..    )....de
+00000450: 6620 756e 6361 7374 5f6a 736f 6e5f 6954  f uncast_json_iT
+00000460: 7570 6c65 2863 6c73 2c20 6f62 6a29 3a0d  uple(cls, obj):.
+00000470: 0a20 2020 2022 2222 0d0a 2020 2020 3e3e  .    """..    >>
+00000480: 3e20 756e 6361 7374 5f6a 736f 6e5f 6954  > uncast_json_iT
+00000490: 7570 6c65 2869 5475 706c 652c 2069 5475  uple(iTuple, iTu
+000004a0: 706c 652e 7261 6e67 6528 3129 2e70 6970  ple.range(1).pip
+000004b0: 6528 6361 7374 5f6a 736f 6e5f 6954 7570  e(cast_json_iTup
+000004c0: 6c65 2929 0d0a 2020 2020 6954 7570 6c65  le))..    iTuple
+000004d0: 2830 290d 0a20 2020 2022 2222 0d0a 2020  (0)..    """..  
+000004e0: 2020 6173 7365 7274 206f 626a 5b22 5f5f    assert obj["__
+000004f0: 745f 5f22 5d20 3d3d 2063 6c73 2e5f 5f6e  t__"] == cls.__n
+00000500: 616d 655f 5f0d 0a20 2020 2072 6574 7572  ame__..    retur
+00000510: 6e20 636c 7328 6461 7461 3d6f 626a 5b22  n cls(data=obj["
+00000520: 6461 7461 225d 290d 0a0d 0a0d 0a64 6566  data"])......def
+00000530: 2063 6173 745f 6a73 6f6e 286f 626a 2c20   cast_json(obj, 
+00000540: 6465 6661 756c 7420 3d20 6c61 6d62 6461  default = lambda
+00000550: 206f 626a 3a20 6f62 6a29 3a0d 0a20 2020   obj: obj):..   
+00000560: 2022 2222 0d0a 2020 2020 3e3e 3e20 6578   """..    >>> ex
+00000570: 203d 205f 4578 616d 706c 6528 312c 2022   = _Example(1, "
+00000580: 6122 290d 0a20 2020 203e 3e3e 2065 782e  a")..    >>> ex.
+00000590: 7069 7065 2863 6173 745f 6a73 6f6e 290d  pipe(cast_json).
+000005a0: 0a20 2020 207b 2778 273a 2031 2c20 2773  .    {'x': 1, 's
+000005b0: 273a 2027 6127 2c20 2769 7427 3a20 7b27  ': 'a', 'it': {'
+000005c0: 5f5f 745f 5f27 3a20 2769 5475 706c 6527  __t__': 'iTuple'
+000005d0: 2c20 2764 6174 6127 3a20 5b5d 7d2c 2027  , 'data': []}, '
+000005e0: 5f5f 745f 5f27 3a20 275f 4578 616d 706c  __t__': '_Exampl
+000005f0: 6527 7d0d 0a20 2020 203e 3e3e 2069 5475  e'}..    >>> iTu
+00000600: 706c 652e 7261 6e67 6528 3129 2e70 6970  ple.range(1).pip
+00000610: 6528 6361 7374 5f6a 736f 6e29 0d0a 2020  e(cast_json)..  
+00000620: 2020 7b27 5f5f 745f 5f27 3a20 2769 5475    {'__t__': 'iTu
+00000630: 706c 6527 2c20 2764 6174 6127 3a20 5b30  ple', 'data': [0
+00000640: 5d7d 0d0a 2020 2020 2222 220d 0a20 2020  ]}..    """..   
+00000650: 2069 6620 6e54 7570 6c65 2e69 735f 696e   if nTuple.is_in
+00000660: 7374 616e 6365 286f 626a 293a 0d0a 2020  stance(obj):..  
+00000670: 2020 2020 2020 7265 7475 726e 2063 6173        return cas
+00000680: 745f 6a73 6f6e 5f6e 5475 706c 6528 6f62  t_json_nTuple(ob
+00000690: 6a29 0d0a 2020 2020 656c 6966 2069 7369  j)..    elif isi
+000006a0: 6e73 7461 6e63 6528 6f62 6a2c 2069 5475  nstance(obj, iTu
+000006b0: 706c 6529 3a0d 0a20 2020 2020 2020 2072  ple):..        r
+000006c0: 6574 7572 6e20 6361 7374 5f6a 736f 6e5f  eturn cast_json_
+000006d0: 6954 7570 6c65 286f 626a 290d 0a20 2020  iTuple(obj)..   
+000006e0: 2072 6574 7572 6e20 6465 6661 756c 7428   return default(
+000006f0: 6f62 6a29 0d0a 0d0a 6465 6620 756e 6361  obj)....def unca
+00000700: 7374 5f6a 736f 6e28 6f62 6a29 3a0d 0a20  st_json(obj):.. 
+00000710: 2020 2022 2222 0d0a 2020 2020 3e3e 3e20     """..    >>> 
+00000720: 6578 203d 205f 4578 616d 706c 6528 312c  ex = _Example(1,
+00000730: 2022 6122 290d 0a20 2020 203e 3e3e 2075   "a")..    >>> u
+00000740: 6e63 6173 745f 6a73 6f6e 2865 782e 7069  ncast_json(ex.pi
+00000750: 7065 2863 6173 745f 6a73 6f6e 2929 0d0a  pe(cast_json))..
+00000760: 2020 2020 5f45 7861 6d70 6c65 2878 3d31      _Example(x=1
+00000770: 2c20 733d 2761 272c 2069 743d 6954 7570  , s='a', it=iTup
+00000780: 6c65 2829 290d 0a20 2020 203e 3e3e 2075  le())..    >>> u
+00000790: 6e63 6173 745f 6a73 6f6e 2869 5475 706c  ncast_json(iTupl
+000007a0: 652e 7261 6e67 6528 3129 2e70 6970 6528  e.range(1).pipe(
+000007b0: 6361 7374 5f6a 736f 6e29 290d 0a20 2020  cast_json))..   
+000007c0: 2069 5475 706c 6528 3029 0d0a 2020 2020   iTuple(0)..    
+000007d0: 2222 220d 0a20 2020 2069 6620 6e6f 7420  """..    if not 
+000007e0: 6973 696e 7374 616e 6365 286f 626a 2c20  isinstance(obj, 
+000007f0: 6469 6374 293a 0d0a 2020 2020 2020 2020  dict):..        
+00000800: 7265 7475 726e 206f 626a 0d0a 2020 2020  return obj..    
+00000810: 5f5f 745f 5f20 3d20 6f62 6a2e 6765 7428  __t__ = obj.get(
+00000820: 225f 5f74 5f5f 222c 204e 6f6e 6529 0d0a  "__t__", None)..
+00000830: 2020 2020 6966 205f 5f74 5f5f 2069 7320      if __t__ is 
+00000840: 4e6f 6e65 3a0d 0a20 2020 2020 2020 2072  None:..        r
+00000850: 6574 7572 6e20 6f62 6a0d 0a20 2020 2063  eturn obj..    c
+00000860: 6c73 203d 2069 5475 706c 6520 6966 205f  ls = iTuple if _
+00000870: 5f74 5f5f 203d 3d20 2269 5475 706c 6522  _t__ == "iTuple"
+00000880: 2065 6c73 6520 5245 4749 5354 5259 5b5f   else REGISTRY[_
+00000890: 5f74 5f5f 5d0d 0a20 2020 2069 6620 636c  _t__]..    if cl
+000008a0: 7320 6973 2069 5475 706c 6520 6f72 2069  s is iTuple or i
+000008b0: 7373 7562 636c 6173 7328 636c 732c 2069  ssubclass(cls, i
+000008c0: 5475 706c 6529 3a0d 0a20 2020 2020 2020  Tuple):..       
+000008d0: 2072 6574 7572 6e20 756e 6361 7374 5f6a   return uncast_j
+000008e0: 736f 6e5f 6954 7570 6c65 2863 6c73 2c20  son_iTuple(cls, 
+000008f0: 6f62 6a29 0d0a 2020 2020 7265 7475 726e  obj)..    return
+00000900: 2075 6e63 6173 745f 6a73 6f6e 5f6e 5475   uncast_json_nTu
+00000910: 706c 6528 636c 732c 206f 626a 290d 0a0d  ple(cls, obj)...
+00000920: 0a23 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  .# -------------
 00000930: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
 00000940: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00000950: 2d2d 2d2d 2d2d 2d2d 0d0a 0d0a 636c 6173  --------....clas
-00000960: 7320 4a53 4f4e 456e 636f 6465 7228 6a73  s JSONEncoder(js
-00000970: 6f6e 2e4a 534f 4e45 6e63 6f64 6572 293a  on.JSONEncoder):
-00000980: 0d0a 0d0a 2020 2020 6465 6620 6974 6572  ....    def iter
-00000990: 656e 636f 6465 2873 656c 662c 206f 2c20  encode(self, o, 
-000009a0: 2a61 7267 732c 202a 2a6b 7761 7267 7329  *args, **kwargs)
-000009b0: 3a0d 0a20 2020 2020 2020 2066 6f72 2063  :..        for c
-000009c0: 6875 6e6b 2069 6e20 7375 7065 7228 292e  hunk in super().
-000009d0: 6974 6572 656e 636f 6465 280d 0a20 2020  iterencode(..   
-000009e0: 2020 2020 2020 2020 2063 6173 745f 6a73           cast_js
-000009f0: 6f6e 286f 292c 202a 6172 6773 2c20 2a2a  on(o), *args, **
-00000a00: 6b77 6172 6773 0d0a 2020 2020 2020 2020  kwargs..        
-00000a10: 293a 0d0a 2020 2020 2020 2020 2020 2020  ):..            
-00000a20: 7969 656c 6420 6368 756e 6b0d 0a0d 0a20  yield chunk.... 
-00000a30: 2020 2023 2064 6566 206d 6574 615f 6465     # def meta_de
-00000a40: 6661 756c 7428 7365 6c66 2c20 6f62 6a29  fault(self, obj)
-00000a50: 3a0d 0a20 2020 2023 2020 2020 2072 6574  :..    #     ret
-00000a60: 7572 6e20 6a73 6f6e 2e4a 534f 4e45 6e63  urn json.JSONEnc
-00000a70: 6f64 6572 2e64 6566 6175 6c74 2873 656c  oder.default(sel
-00000a80: 662c 206f 626a 290d 0a0d 0a20 2020 2023  f, obj)....    #
-00000a90: 2064 6566 2064 6566 6175 6c74 2873 656c   def default(sel
-00000aa0: 662c 206f 626a 293a 0d0a 2020 2020 2320  f, obj):..    # 
-00000ab0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-00000ac0: 6528 6f62 6a2c 2066 4469 6374 293a 0d0a  e(obj, fDict):..
-00000ad0: 2020 2020 2320 2020 2020 2020 2020 7265      #         re
-00000ae0: 7475 726e 2073 656c 662e 6d65 7461 5f64  turn self.meta_d
-00000af0: 6566 6175 6c74 286f 626a 2e64 6174 6129  efault(obj.data)
-00000b00: 0d0a 2020 2020 2320 2020 2020 7265 7475  ..    #     retu
-00000b10: 726e 2063 6173 745f 6a73 6f6e 286f 626a  rn cast_json(obj
-00000b20: 2c20 6465 6661 756c 743d 7365 6c66 2e6d  , default=self.m
-00000b30: 6574 615f 6465 6661 756c 7429 0d0a 0d0a  eta_default)....
-00000b40: 2320 2d2d 2d2d 2d0d 0a0d 0a63 6c61 7373  # -----....class
-00000b50: 204a 534f 4e44 6563 6f64 6572 286a 736f   JSONDecoder(jso
-00000b60: 6e2e 4a53 4f4e 4465 636f 6465 7229 3a0d  n.JSONDecoder):.
-00000b70: 0a0d 0a20 2020 2064 6566 205f 5f69 6e69  ...    def __ini
-00000b80: 745f 5f28 7365 6c66 2c20 2a61 7267 732c  t__(self, *args,
-00000b90: 202a 2a6b 7761 7267 7329 3a0d 0a20 2020   **kwargs):..   
-00000ba0: 2020 2020 206a 736f 6e2e 4a53 4f4e 4465       json.JSONDe
-00000bb0: 636f 6465 722e 5f5f 696e 6974 5f5f 280d  coder.__init__(.
-00000bc0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00000bd0: 662c 0d0a 2020 2020 2020 2020 2020 2020  f,..            
-00000be0: 6f62 6a65 6374 5f68 6f6f 6b3d 7365 6c66  object_hook=self
-00000bf0: 2e6f 626a 6563 745f 686f 6f6b 2c0d 0a20  .object_hook,.. 
-00000c00: 2020 2020 2020 2020 2020 202a 6172 6773             *args
-00000c10: 2c0d 0a20 2020 2020 2020 2020 2020 202a  ,..            *
-00000c20: 2a6b 7761 7267 730d 0a20 2020 2020 2020  *kwargs..       
-00000c30: 2020 2020 2023 0d0a 2020 2020 2020 2020       #..        
-00000c40: 290d 0a0d 0a20 2020 2040 636c 6173 736d  )....    @classm
-00000c50: 6574 686f 640d 0a20 2020 2064 6566 2078  ethod..    def x
-00000c60: 7475 706c 655f 6f62 6a65 6374 5f68 6f6f  tuple_object_hoo
-00000c70: 6b28 636c 732c 2064 293a 0d0a 2020 2020  k(cls, d):..    
-00000c80: 2020 2020 7265 7475 726e 2075 6e63 6173      return uncas
-00000c90: 745f 6a73 6f6e 2864 290d 0a0d 0a20 2020  t_json(d)....   
-00000ca0: 2064 6566 206f 626a 6563 745f 686f 6f6b   def object_hook
-00000cb0: 2873 656c 662c 2064 293a 0d0a 2020 2020  (self, d):..    
-00000cc0: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-00000cd0: 7874 7570 6c65 5f6f 626a 6563 745f 686f  xtuple_object_ho
-00000ce0: 6f6b 2864 290d 0a0d 0a23 202d 2d2d 2d2d  ok(d)....# -----
-00000cf0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00000950: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00000960: 2d2d 0d0a 0d0a 636c 6173 7320 4a53 4f4e  --....class JSON
+00000970: 456e 636f 6465 7228 6a73 6f6e 2e4a 534f  Encoder(json.JSO
+00000980: 4e45 6e63 6f64 6572 293a 0d0a 0d0a 2020  NEncoder):....  
+00000990: 2020 6465 6620 6974 6572 656e 636f 6465    def iterencode
+000009a0: 2873 656c 662c 206f 2c20 2a61 7267 732c  (self, o, *args,
+000009b0: 202a 2a6b 7761 7267 7329 3a0d 0a20 2020   **kwargs):..   
+000009c0: 2020 2020 2066 6f72 2063 6875 6e6b 2069       for chunk i
+000009d0: 6e20 7375 7065 7228 292e 6974 6572 656e  n super().iteren
+000009e0: 636f 6465 280d 0a20 2020 2020 2020 2020  code(..         
+000009f0: 2020 2063 6173 745f 6a73 6f6e 286f 292c     cast_json(o),
+00000a00: 202a 6172 6773 2c20 2a2a 6b77 6172 6773   *args, **kwargs
+00000a10: 0d0a 2020 2020 2020 2020 293a 0d0a 2020  ..        ):..  
+00000a20: 2020 2020 2020 2020 2020 7969 656c 6420            yield 
+00000a30: 6368 756e 6b0d 0a0d 0a20 2020 2023 2064  chunk....    # d
+00000a40: 6566 206d 6574 615f 6465 6661 756c 7428  ef meta_default(
+00000a50: 7365 6c66 2c20 6f62 6a29 3a0d 0a20 2020  self, obj):..   
+00000a60: 2023 2020 2020 2072 6574 7572 6e20 6a73   #     return js
+00000a70: 6f6e 2e4a 534f 4e45 6e63 6f64 6572 2e64  on.JSONEncoder.d
+00000a80: 6566 6175 6c74 2873 656c 662c 206f 626a  efault(self, obj
+00000a90: 290d 0a0d 0a20 2020 2023 2064 6566 2064  )....    # def d
+00000aa0: 6566 6175 6c74 2873 656c 662c 206f 626a  efault(self, obj
+00000ab0: 293a 0d0a 2020 2020 2320 2020 2020 6966  ):..    #     if
+00000ac0: 2069 7369 6e73 7461 6e63 6528 6f62 6a2c   isinstance(obj,
+00000ad0: 2066 4469 6374 293a 0d0a 2020 2020 2320   fDict):..    # 
+00000ae0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00000af0: 656c 662e 6d65 7461 5f64 6566 6175 6c74  elf.meta_default
+00000b00: 286f 626a 2e64 6174 6129 0d0a 2020 2020  (obj.data)..    
+00000b10: 2320 2020 2020 7265 7475 726e 2063 6173  #     return cas
+00000b20: 745f 6a73 6f6e 286f 626a 2c20 6465 6661  t_json(obj, defa
+00000b30: 756c 743d 7365 6c66 2e6d 6574 615f 6465  ult=self.meta_de
+00000b40: 6661 756c 7429 0d0a 0d0a 2320 2d2d 2d2d  fault)....# ----
+00000b50: 2d0d 0a0d 0a63 6c61 7373 204a 534f 4e44  -....class JSOND
+00000b60: 6563 6f64 6572 286a 736f 6e2e 4a53 4f4e  ecoder(json.JSON
+00000b70: 4465 636f 6465 7229 3a0d 0a0d 0a20 2020  Decoder):....   
+00000b80: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
+00000b90: 6c66 2c20 2a61 7267 732c 202a 2a6b 7761  lf, *args, **kwa
+00000ba0: 7267 7329 3a0d 0a20 2020 2020 2020 206a  rgs):..        j
+00000bb0: 736f 6e2e 4a53 4f4e 4465 636f 6465 722e  son.JSONDecoder.
+00000bc0: 5f5f 696e 6974 5f5f 280d 0a20 2020 2020  __init__(..     
+00000bd0: 2020 2020 2020 2073 656c 662c 0d0a 2020         self,..  
+00000be0: 2020 2020 2020 2020 2020 6f62 6a65 6374            object
+00000bf0: 5f68 6f6f 6b3d 7365 6c66 2e6f 626a 6563  _hook=self.objec
+00000c00: 745f 686f 6f6b 2c0d 0a20 2020 2020 2020  t_hook,..       
+00000c10: 2020 2020 202a 6172 6773 2c0d 0a20 2020       *args,..   
+00000c20: 2020 2020 2020 2020 202a 2a6b 7761 7267           **kwarg
+00000c30: 730d 0a20 2020 2020 2020 2020 2020 2023  s..            #
+00000c40: 0d0a 2020 2020 2020 2020 290d 0a0d 0a20  ..        ).... 
+00000c50: 2020 2040 636c 6173 736d 6574 686f 640d     @classmethod.
+00000c60: 0a20 2020 2064 6566 2078 7475 706c 655f  .    def xtuple_
+00000c70: 6f62 6a65 6374 5f68 6f6f 6b28 636c 732c  object_hook(cls,
+00000c80: 2064 293a 0d0a 2020 2020 2020 2020 7265   d):..        re
+00000c90: 7475 726e 2075 6e63 6173 745f 6a73 6f6e  turn uncast_json
+00000ca0: 2864 290d 0a0d 0a20 2020 2064 6566 206f  (d)....    def o
+00000cb0: 626a 6563 745f 686f 6f6b 2873 656c 662c  bject_hook(self,
+00000cc0: 2064 293a 0d0a 2020 2020 2020 2020 7265   d):..        re
+00000cd0: 7475 726e 2073 656c 662e 7874 7570 6c65  turn self.xtuple
+00000ce0: 5f6f 626a 6563 745f 686f 6f6b 2864 290d  _object_hook(d).
+00000cf0: 0a0d 0a23 202d 2d2d 2d2d 2d2d 2d2d 2d2d  ...# -----------
 00000d00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
 00000d10: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00000d20: 2d2d 2d2d 2d2d 2d2d 2d2d 0d0a 0d0a 2320  ----------....# 
-00000d30: 544f 444f 3a20 6653 7472 696e 6720 736f  TODO: fString so
-00000d40: 2063 616e 2064 6f20 2e70 6970 6520 3f0d   can do .pipe ?.
-00000d50: 0a64 6566 2074 6f5f 6a73 6f6e 2876 2c20  .def to_json(v, 
-00000d60: 2a2a 6b77 6172 6773 293a 0d0a 2020 2020  **kwargs):..    
-00000d70: 2222 220d 0a20 2020 203e 3e3e 2070 7269  """..    >>> pri
-00000d80: 6e74 2869 5475 706c 6528 5b45 7861 6d70  nt(iTuple([Examp
-00000d90: 6c65 2831 2c20 2261 2229 5d29 2e70 6970  le(1, "a")]).pip
-00000da0: 6528 746f 5f6a 736f 6e2c 2069 6e64 656e  e(to_json, inden
-00000db0: 743d 3229 290d 0a20 2020 207b 0d0a 2020  t=2))..    {..  
-00000dc0: 2020 2020 225f 5f74 5f5f 223a 2022 6954      "__t__": "iT
-00000dd0: 7570 6c65 222c 0d0a 2020 2020 2020 2264  uple",..      "d
-00000de0: 6174 6122 3a20 5b0d 0a20 2020 2020 2020  ata": [..       
-00000df0: 207b 0d0a 2020 2020 2020 2020 2020 2278   {..          "x
-00000e00: 223a 2031 2c0d 0a20 2020 2020 2020 2020  ": 1,..         
-00000e10: 2022 7322 3a20 2261 222c 0d0a 2020 2020   "s": "a",..    
-00000e20: 2020 2020 2020 2269 7422 3a20 7b0d 0a20        "it": {.. 
-00000e30: 2020 2020 2020 2020 2020 2022 5f5f 745f             "__t_
-00000e40: 5f22 3a20 2269 5475 706c 6522 2c0d 0a20  _": "iTuple",.. 
-00000e50: 2020 2020 2020 2020 2020 2022 6461 7461             "data
-00000e60: 223a 205b 5d0d 0a20 2020 2020 2020 2020  ": []..         
-00000e70: 207d 2c0d 0a20 2020 2020 2020 2020 2022   },..          "
-00000e80: 5f5f 745f 5f22 3a20 2245 7861 6d70 6c65  __t__": "Example
-00000e90: 220d 0a20 2020 2020 2020 207d 0d0a 2020  "..        }..  
-00000ea0: 2020 2020 5d0d 0a20 2020 207d 0d0a 2020      ]..    }..  
-00000eb0: 2020 3e3e 3e20 7072 696e 7428 6954 7570    >>> print(iTup
-00000ec0: 6c65 285b 0d0a 2020 2020 2e2e 2e20 2020  le([..    ...   
-00000ed0: 2020 6954 7570 6c65 285b 4578 616d 706c    iTuple([Exampl
-00000ee0: 6528 312c 2022 6122 295d 290d 0a20 2020  e(1, "a")])..   
-00000ef0: 202e 2e2e 205d 292e 7069 7065 2874 6f5f   ... ]).pipe(to_
-00000f00: 6a73 6f6e 2c20 696e 6465 6e74 3d32 2929  json, indent=2))
-00000f10: 0d0a 2020 2020 7b0d 0a20 2020 2020 2022  ..    {..      "
-00000f20: 5f5f 745f 5f22 3a20 2269 5475 706c 6522  __t__": "iTuple"
-00000f30: 2c0d 0a20 2020 2020 2022 6461 7461 223a  ,..      "data":
-00000f40: 205b 0d0a 2020 2020 2020 2020 7b0d 0a20   [..        {.. 
-00000f50: 2020 2020 2020 2020 2022 5f5f 745f 5f22           "__t__"
-00000f60: 3a20 2269 5475 706c 6522 2c0d 0a20 2020  : "iTuple",..   
-00000f70: 2020 2020 2020 2022 6461 7461 223a 205b         "data": [
-00000f80: 0d0a 2020 2020 2020 2020 2020 2020 7b0d  ..            {.
-00000f90: 0a20 2020 2020 2020 2020 2020 2020 2022  .              "
-00000fa0: 7822 3a20 312c 0d0a 2020 2020 2020 2020  x": 1,..        
-00000fb0: 2020 2020 2020 2273 223a 2022 6122 2c0d        "s": "a",.
-00000fc0: 0a20 2020 2020 2020 2020 2020 2020 2022  .              "
-00000fd0: 6974 223a 207b 0d0a 2020 2020 2020 2020  it": {..        
-00000fe0: 2020 2020 2020 2020 225f 5f74 5f5f 223a          "__t__":
-00000ff0: 2022 6954 7570 6c65 222c 0d0a 2020 2020   "iTuple",..    
-00001000: 2020 2020 2020 2020 2020 2020 2264 6174              "dat
-00001010: 6122 3a20 5b5d 0d0a 2020 2020 2020 2020  a": []..        
-00001020: 2020 2020 2020 7d2c 0d0a 2020 2020 2020        },..      
-00001030: 2020 2020 2020 2020 225f 5f74 5f5f 223a          "__t__":
-00001040: 2022 4578 616d 706c 6522 0d0a 2020 2020   "Example"..    
-00001050: 2020 2020 2020 2020 7d0d 0a20 2020 2020          }..     
-00001060: 2020 2020 205d 0d0a 2020 2020 2020 2020       ]..        
-00001070: 7d0d 0a20 2020 2020 205d 0d0a 2020 2020  }..      ]..    
-00001080: 7d0d 0a20 2020 203e 3e3e 2070 7269 6e74  }..    >>> print
-00001090: 2845 7861 6d70 6c65 2832 2c20 2262 222c  (Example(2, "b",
-000010a0: 2069 5475 706c 6528 5b0d 0a20 2020 202e   iTuple([..    .
-000010b0: 2e2e 2020 2020 2069 5475 706c 6528 5b45  ..     iTuple([E
-000010c0: 7861 6d70 6c65 2831 2c20 2261 2229 5d29  xample(1, "a")])
-000010d0: 0d0a 2020 2020 2e2e 2e20 5d29 292e 7069  ..    ... ])).pi
-000010e0: 7065 2874 6f5f 6a73 6f6e 2c20 696e 6465  pe(to_json, inde
-000010f0: 6e74 3d32 2929 0d0a 2020 2020 7b0d 0a20  nt=2))..    {.. 
-00001100: 2020 2020 2022 7822 3a20 322c 0d0a 2020       "x": 2,..  
-00001110: 2020 2020 2273 223a 2022 6222 2c0d 0a20      "s": "b",.. 
-00001120: 2020 2020 2022 6974 223a 207b 0d0a 2020       "it": {..  
-00001130: 2020 2020 2020 225f 5f74 5f5f 223a 2022        "__t__": "
-00001140: 6954 7570 6c65 222c 0d0a 2020 2020 2020  iTuple",..      
-00001150: 2020 2264 6174 6122 3a20 5b0d 0a20 2020    "data": [..   
-00001160: 2020 2020 2020 207b 0d0a 2020 2020 2020         {..      
-00001170: 2020 2020 2020 225f 5f74 5f5f 223a 2022        "__t__": "
-00001180: 6954 7570 6c65 222c 0d0a 2020 2020 2020  iTuple",..      
-00001190: 2020 2020 2020 2264 6174 6122 3a20 5b0d        "data": [.
-000011a0: 0a20 2020 2020 2020 2020 2020 2020 207b  .              {
-000011b0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
-000011c0: 2020 2278 223a 2031 2c0d 0a20 2020 2020    "x": 1,..     
-000011d0: 2020 2020 2020 2020 2020 2022 7322 3a20             "s": 
-000011e0: 2261 222c 0d0a 2020 2020 2020 2020 2020  "a",..          
-000011f0: 2020 2020 2020 2269 7422 3a20 7b0d 0a20        "it": {.. 
-00001200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001210: 2022 5f5f 745f 5f22 3a20 2269 5475 706c   "__t__": "iTupl
-00001220: 6522 2c0d 0a20 2020 2020 2020 2020 2020  e",..           
-00001230: 2020 2020 2020 2022 6461 7461 223a 205b         "data": [
-00001240: 5d0d 0a20 2020 2020 2020 2020 2020 2020  ]..             
-00001250: 2020 207d 2c0d 0a20 2020 2020 2020 2020     },..         
-00001260: 2020 2020 2020 2022 5f5f 745f 5f22 3a20         "__t__": 
-00001270: 2245 7861 6d70 6c65 220d 0a20 2020 2020  "Example"..     
-00001280: 2020 2020 2020 2020 207d 0d0a 2020 2020           }..    
-00001290: 2020 2020 2020 2020 5d0d 0a20 2020 2020          ]..     
-000012a0: 2020 2020 207d 0d0a 2020 2020 2020 2020       }..        
-000012b0: 5d0d 0a20 2020 2020 207d 2c0d 0a20 2020  ]..      },..   
-000012c0: 2020 2022 5f5f 745f 5f22 3a20 2245 7861     "__t__": "Exa
-000012d0: 6d70 6c65 220d 0a20 2020 207d 0d0a 2020  mple"..    }..  
-000012e0: 2020 2222 220d 0a20 2020 2072 6574 7572    """..    retur
-000012f0: 6e20 6a73 6f6e 2e64 756d 7073 2876 2c20  n json.dumps(v, 
-00001300: 636c 733d 4a53 4f4e 456e 636f 6465 722c  cls=JSONEncoder,
-00001310: 202a 2a6b 7761 7267 7329 0d0a 0d0a 6465   **kwargs)....de
-00001320: 6620 6672 6f6d 5f6a 736f 6e28 763a 2073  f from_json(v: s
-00001330: 7472 2c20 2a2a 6b77 6172 6773 293a 0d0a  tr, **kwargs):..
-00001340: 2020 2020 2222 220d 0a20 2020 203e 3e3e      """..    >>>
-00001350: 2065 7820 3d20 6954 7570 6c65 285b 4578   ex = iTuple([Ex
-00001360: 616d 706c 6528 312c 2022 6122 295d 290d  ample(1, "a")]).
-00001370: 0a20 2020 203e 3e3e 2066 726f 6d5f 6a73  .    >>> from_js
-00001380: 6f6e 2865 782e 7069 7065 2874 6f5f 6a73  on(ex.pipe(to_js
-00001390: 6f6e 2929 0d0a 2020 2020 6954 7570 6c65  on))..    iTuple
-000013a0: 2845 7861 6d70 6c65 2878 3d31 2c20 733d  (Example(x=1, s=
-000013b0: 2761 272c 2069 743d 6954 7570 6c65 2829  'a', it=iTuple()
-000013c0: 2929 0d0a 2020 2020 3e3e 3e20 6672 6f6d  ))..    >>> from
-000013d0: 5f6a 736f 6e28 0d0a 2020 2020 2e2e 2e20  _json(..    ... 
-000013e0: 2020 2020 6954 7570 6c65 285b 6954 7570      iTuple([iTup
-000013f0: 6c65 285b 4578 616d 706c 6528 312c 2022  le([Example(1, "
-00001400: 6122 295d 295d 292e 7069 7065 2874 6f5f  a")])]).pipe(to_
-00001410: 6a73 6f6e 290d 0a20 2020 202e 2e2e 2029  json)..    ... )
-00001420: 0d0a 2020 2020 6954 7570 6c65 2869 5475  ..    iTuple(iTu
-00001430: 706c 6528 4578 616d 706c 6528 783d 312c  ple(Example(x=1,
-00001440: 2073 3d27 6127 2c20 6974 3d69 5475 706c   s='a', it=iTupl
-00001450: 6528 2929 2929 0d0a 2020 2020 3e3e 3e20  e())))..    >>> 
-00001460: 6672 6f6d 5f6a 736f 6e28 0d0a 2020 2020  from_json(..    
-00001470: 2e2e 2e20 2020 2020 4578 616d 706c 6528  ...     Example(
-00001480: 322c 2022 6222 2c20 6954 7570 6c65 285b  2, "b", iTuple([
-00001490: 0d0a 2020 2020 2e2e 2e20 2020 2020 2020  ..    ...       
-000014a0: 2020 6954 7570 6c65 285b 4578 616d 706c    iTuple([Exampl
-000014b0: 6528 312c 2022 6122 295d 290d 0a20 2020  e(1, "a")])..   
-000014c0: 202e 2e2e 2020 2020 205d 2929 2e70 6970   ...     ])).pip
-000014d0: 6528 746f 5f6a 736f 6e29 0d0a 2020 2020  e(to_json)..    
-000014e0: 2e2e 2e20 290d 0a20 2020 2045 7861 6d70  ... )..    Examp
-000014f0: 6c65 2878 3d32 2c20 733d 2762 272c 2069  le(x=2, s='b', i
-00001500: 743d 6954 7570 6c65 2869 5475 706c 6528  t=iTuple(iTuple(
-00001510: 4578 616d 706c 6528 783d 312c 2073 3d27  Example(x=1, s='
-00001520: 6127 2c20 6974 3d69 5475 706c 6528 2929  a', it=iTuple())
-00001530: 2929 290d 0a20 2020 2022 2222 0d0a 2020  )))..    """..  
-00001540: 2020 7265 7475 726e 206a 736f 6e2e 6c6f    return json.lo
-00001550: 6164 7328 762c 2063 6c73 3d4a 534f 4e44  ads(v, cls=JSOND
-00001560: 6563 6f64 6572 2c20 2a2a 6b77 6172 6773  ecoder, **kwargs
-00001570: 290d 0a0d 0a64 6566 206c 6f61 645f 6a73  )....def load_js
-00001580: 6f6e 2866 293a 0d0a 2020 2020 7265 7475  on(f):..    retu
-00001590: 726e 206a 736f 6e2e 6c6f 6164 2866 2c20  rn json.load(f, 
-000015a0: 636c 733d 4a53 4f4e 4465 636f 6465 7229  cls=JSONDecoder)
-000015b0: 0d0a 0d0a 6465 6620 6475 6d70 5f6a 736f  ....def dump_jso
-000015c0: 6e28 662c 2076 293a 0d0a 2020 2020 7265  n(f, v):..    re
-000015d0: 7475 726e 206a 736f 6e2e 6475 6d70 2866  turn json.dump(f
-000015e0: 2c20 762c 2063 6c73 3d4a 534f 4e45 6e63  , v, cls=JSONEnc
-000015f0: 6f64 6572 290d 0a0d 0a23 202d 2d2d 2d2d  oder)....# -----
-00001600: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00001610: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00000d20: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00000d30: 2d2d 2d2d 0d0a 0d0a 2320 544f 444f 3a20  ----....# TODO: 
+00000d40: 6653 7472 696e 6720 736f 2063 616e 2064  fString so can d
+00000d50: 6f20 2e70 6970 6520 3f0d 0a64 6566 2074  o .pipe ?..def t
+00000d60: 6f5f 6a73 6f6e 2876 2c20 2a2a 6b77 6172  o_json(v, **kwar
+00000d70: 6773 293a 0d0a 2020 2020 2222 220d 0a20  gs):..    """.. 
+00000d80: 2020 203e 3e3e 2070 7269 6e74 2869 5475     >>> print(iTu
+00000d90: 706c 6528 5b5f 4578 616d 706c 6528 312c  ple([_Example(1,
+00000da0: 2022 6122 295d 292e 7069 7065 2874 6f5f   "a")]).pipe(to_
+00000db0: 6a73 6f6e 2c20 696e 6465 6e74 3d32 2929  json, indent=2))
+00000dc0: 0d0a 2020 2020 7b0d 0a20 2020 2020 2022  ..    {..      "
+00000dd0: 5f5f 745f 5f22 3a20 2269 5475 706c 6522  __t__": "iTuple"
+00000de0: 2c0d 0a20 2020 2020 2022 6461 7461 223a  ,..      "data":
+00000df0: 205b 0d0a 2020 2020 2020 2020 7b0d 0a20   [..        {.. 
+00000e00: 2020 2020 2020 2020 2022 7822 3a20 312c           "x": 1,
+00000e10: 0d0a 2020 2020 2020 2020 2020 2273 223a  ..          "s":
+00000e20: 2022 6122 2c0d 0a20 2020 2020 2020 2020   "a",..         
+00000e30: 2022 6974 223a 207b 0d0a 2020 2020 2020   "it": {..      
+00000e40: 2020 2020 2020 225f 5f74 5f5f 223a 2022        "__t__": "
+00000e50: 6954 7570 6c65 222c 0d0a 2020 2020 2020  iTuple",..      
+00000e60: 2020 2020 2020 2264 6174 6122 3a20 5b5d        "data": []
+00000e70: 0d0a 2020 2020 2020 2020 2020 7d2c 0d0a  ..          },..
+00000e80: 2020 2020 2020 2020 2020 225f 5f74 5f5f            "__t__
+00000e90: 223a 2022 5f45 7861 6d70 6c65 220d 0a20  ": "_Example".. 
+00000ea0: 2020 2020 2020 207d 0d0a 2020 2020 2020         }..      
+00000eb0: 5d0d 0a20 2020 207d 0d0a 2020 2020 3e3e  ]..    }..    >>
+00000ec0: 3e20 7072 696e 7428 6954 7570 6c65 285b  > print(iTuple([
+00000ed0: 0d0a 2020 2020 2e2e 2e20 2020 2020 6954  ..    ...     iT
+00000ee0: 7570 6c65 285b 5f45 7861 6d70 6c65 2831  uple([_Example(1
+00000ef0: 2c20 2261 2229 5d29 0d0a 2020 2020 2e2e  , "a")])..    ..
+00000f00: 2e20 5d29 2e70 6970 6528 746f 5f6a 736f  . ]).pipe(to_jso
+00000f10: 6e2c 2069 6e64 656e 743d 3229 290d 0a20  n, indent=2)).. 
+00000f20: 2020 207b 0d0a 2020 2020 2020 225f 5f74     {..      "__t
+00000f30: 5f5f 223a 2022 6954 7570 6c65 222c 0d0a  __": "iTuple",..
+00000f40: 2020 2020 2020 2264 6174 6122 3a20 5b0d        "data": [.
+00000f50: 0a20 2020 2020 2020 207b 0d0a 2020 2020  .        {..    
+00000f60: 2020 2020 2020 225f 5f74 5f5f 223a 2022        "__t__": "
+00000f70: 6954 7570 6c65 222c 0d0a 2020 2020 2020  iTuple",..      
+00000f80: 2020 2020 2264 6174 6122 3a20 5b0d 0a20      "data": [.. 
+00000f90: 2020 2020 2020 2020 2020 207b 0d0a 2020             {..  
+00000fa0: 2020 2020 2020 2020 2020 2020 2278 223a              "x":
+00000fb0: 2031 2c0d 0a20 2020 2020 2020 2020 2020   1,..           
+00000fc0: 2020 2022 7322 3a20 2261 222c 0d0a 2020     "s": "a",..  
+00000fd0: 2020 2020 2020 2020 2020 2020 2269 7422              "it"
+00000fe0: 3a20 7b0d 0a20 2020 2020 2020 2020 2020  : {..           
+00000ff0: 2020 2020 2022 5f5f 745f 5f22 3a20 2269       "__t__": "i
+00001000: 5475 706c 6522 2c0d 0a20 2020 2020 2020  Tuple",..       
+00001010: 2020 2020 2020 2020 2022 6461 7461 223a           "data":
+00001020: 205b 5d0d 0a20 2020 2020 2020 2020 2020   []..           
+00001030: 2020 207d 2c0d 0a20 2020 2020 2020 2020     },..         
+00001040: 2020 2020 2022 5f5f 745f 5f22 3a20 225f       "__t__": "_
+00001050: 4578 616d 706c 6522 0d0a 2020 2020 2020  Example"..      
+00001060: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
+00001070: 2020 205d 0d0a 2020 2020 2020 2020 7d0d     ]..        }.
+00001080: 0a20 2020 2020 205d 0d0a 2020 2020 7d0d  .      ]..    }.
+00001090: 0a20 2020 203e 3e3e 2070 7269 6e74 285f  .    >>> print(_
+000010a0: 4578 616d 706c 6528 322c 2022 6222 2c20  Example(2, "b", 
+000010b0: 6954 7570 6c65 285b 0d0a 2020 2020 2e2e  iTuple([..    ..
+000010c0: 2e20 2020 2020 6954 7570 6c65 285b 5f45  .     iTuple([_E
+000010d0: 7861 6d70 6c65 2831 2c20 2261 2229 5d29  xample(1, "a")])
+000010e0: 0d0a 2020 2020 2e2e 2e20 5d29 292e 7069  ..    ... ])).pi
+000010f0: 7065 2874 6f5f 6a73 6f6e 2c20 696e 6465  pe(to_json, inde
+00001100: 6e74 3d32 2929 0d0a 2020 2020 7b0d 0a20  nt=2))..    {.. 
+00001110: 2020 2020 2022 7822 3a20 322c 0d0a 2020       "x": 2,..  
+00001120: 2020 2020 2273 223a 2022 6222 2c0d 0a20      "s": "b",.. 
+00001130: 2020 2020 2022 6974 223a 207b 0d0a 2020       "it": {..  
+00001140: 2020 2020 2020 225f 5f74 5f5f 223a 2022        "__t__": "
+00001150: 6954 7570 6c65 222c 0d0a 2020 2020 2020  iTuple",..      
+00001160: 2020 2264 6174 6122 3a20 5b0d 0a20 2020    "data": [..   
+00001170: 2020 2020 2020 207b 0d0a 2020 2020 2020         {..      
+00001180: 2020 2020 2020 225f 5f74 5f5f 223a 2022        "__t__": "
+00001190: 6954 7570 6c65 222c 0d0a 2020 2020 2020  iTuple",..      
+000011a0: 2020 2020 2020 2264 6174 6122 3a20 5b0d        "data": [.
+000011b0: 0a20 2020 2020 2020 2020 2020 2020 207b  .              {
+000011c0: 0d0a 2020 2020 2020 2020 2020 2020 2020  ..              
+000011d0: 2020 2278 223a 2031 2c0d 0a20 2020 2020    "x": 1,..     
+000011e0: 2020 2020 2020 2020 2020 2022 7322 3a20             "s": 
+000011f0: 2261 222c 0d0a 2020 2020 2020 2020 2020  "a",..          
+00001200: 2020 2020 2020 2269 7422 3a20 7b0d 0a20        "it": {.. 
+00001210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001220: 2022 5f5f 745f 5f22 3a20 2269 5475 706c   "__t__": "iTupl
+00001230: 6522 2c0d 0a20 2020 2020 2020 2020 2020  e",..           
+00001240: 2020 2020 2020 2022 6461 7461 223a 205b         "data": [
+00001250: 5d0d 0a20 2020 2020 2020 2020 2020 2020  ]..             
+00001260: 2020 207d 2c0d 0a20 2020 2020 2020 2020     },..         
+00001270: 2020 2020 2020 2022 5f5f 745f 5f22 3a20         "__t__": 
+00001280: 225f 4578 616d 706c 6522 0d0a 2020 2020  "_Example"..    
+00001290: 2020 2020 2020 2020 2020 7d0d 0a20 2020            }..   
+000012a0: 2020 2020 2020 2020 205d 0d0a 2020 2020           ]..    
+000012b0: 2020 2020 2020 7d0d 0a20 2020 2020 2020        }..       
+000012c0: 205d 0d0a 2020 2020 2020 7d2c 0d0a 2020   ]..      },..  
+000012d0: 2020 2020 225f 5f74 5f5f 223a 2022 5f45      "__t__": "_E
+000012e0: 7861 6d70 6c65 220d 0a20 2020 207d 0d0a  xample"..    }..
+000012f0: 2020 2020 2222 220d 0a20 2020 2072 6574      """..    ret
+00001300: 7572 6e20 6a73 6f6e 2e64 756d 7073 2876  urn json.dumps(v
+00001310: 2c20 636c 733d 4a53 4f4e 456e 636f 6465  , cls=JSONEncode
+00001320: 722c 202a 2a6b 7761 7267 7329 0d0a 0d0a  r, **kwargs)....
+00001330: 6465 6620 6672 6f6d 5f6a 736f 6e28 763a  def from_json(v:
+00001340: 2073 7472 2c20 2a2a 6b77 6172 6773 293a   str, **kwargs):
+00001350: 0d0a 2020 2020 2222 220d 0a20 2020 203e  ..    """..    >
+00001360: 3e3e 2065 7820 3d20 6954 7570 6c65 285b  >> ex = iTuple([
+00001370: 5f45 7861 6d70 6c65 2831 2c20 2261 2229  _Example(1, "a")
+00001380: 5d29 0d0a 2020 2020 3e3e 3e20 6672 6f6d  ])..    >>> from
+00001390: 5f6a 736f 6e28 6578 2e70 6970 6528 746f  _json(ex.pipe(to
+000013a0: 5f6a 736f 6e29 290d 0a20 2020 2069 5475  _json))..    iTu
+000013b0: 706c 6528 5f45 7861 6d70 6c65 2878 3d31  ple(_Example(x=1
+000013c0: 2c20 733d 2761 272c 2069 743d 6954 7570  , s='a', it=iTup
+000013d0: 6c65 2829 2929 0d0a 2020 2020 3e3e 3e20  le()))..    >>> 
+000013e0: 6672 6f6d 5f6a 736f 6e28 0d0a 2020 2020  from_json(..    
+000013f0: 2e2e 2e20 2020 2020 6954 7570 6c65 285b  ...     iTuple([
+00001400: 6954 7570 6c65 285b 5f45 7861 6d70 6c65  iTuple([_Example
+00001410: 2831 2c20 2261 2229 5d29 5d29 2e70 6970  (1, "a")])]).pip
+00001420: 6528 746f 5f6a 736f 6e29 0d0a 2020 2020  e(to_json)..    
+00001430: 2e2e 2e20 290d 0a20 2020 2069 5475 706c  ... )..    iTupl
+00001440: 6528 6954 7570 6c65 285f 4578 616d 706c  e(iTuple(_Exampl
+00001450: 6528 783d 312c 2073 3d27 6127 2c20 6974  e(x=1, s='a', it
+00001460: 3d69 5475 706c 6528 2929 2929 0d0a 2020  =iTuple())))..  
+00001470: 2020 3e3e 3e20 6672 6f6d 5f6a 736f 6e28    >>> from_json(
+00001480: 0d0a 2020 2020 2e2e 2e20 2020 2020 5f45  ..    ...     _E
+00001490: 7861 6d70 6c65 2832 2c20 2262 222c 2069  xample(2, "b", i
+000014a0: 5475 706c 6528 5b0d 0a20 2020 202e 2e2e  Tuple([..    ...
+000014b0: 2020 2020 2020 2020 2069 5475 706c 6528           iTuple(
+000014c0: 5b5f 4578 616d 706c 6528 312c 2022 6122  [_Example(1, "a"
+000014d0: 295d 290d 0a20 2020 202e 2e2e 2020 2020  )])..    ...    
+000014e0: 205d 2929 2e70 6970 6528 746f 5f6a 736f   ])).pipe(to_jso
+000014f0: 6e29 0d0a 2020 2020 2e2e 2e20 290d 0a20  n)..    ... ).. 
+00001500: 2020 205f 4578 616d 706c 6528 783d 322c     _Example(x=2,
+00001510: 2073 3d27 6227 2c20 6974 3d69 5475 706c   s='b', it=iTupl
+00001520: 6528 6954 7570 6c65 285f 4578 616d 706c  e(iTuple(_Exampl
+00001530: 6528 783d 312c 2073 3d27 6127 2c20 6974  e(x=1, s='a', it
+00001540: 3d69 5475 706c 6528 2929 2929 290d 0a20  =iTuple())))).. 
+00001550: 2020 2022 2222 0d0a 2020 2020 7265 7475     """..    retu
+00001560: 726e 206a 736f 6e2e 6c6f 6164 7328 762c  rn json.loads(v,
+00001570: 2063 6c73 3d4a 534f 4e44 6563 6f64 6572   cls=JSONDecoder
+00001580: 2c20 2a2a 6b77 6172 6773 290d 0a0d 0a64  , **kwargs)....d
+00001590: 6566 206c 6f61 645f 6a73 6f6e 2866 293a  ef load_json(f):
+000015a0: 0d0a 2020 2020 7265 7475 726e 206a 736f  ..    return jso
+000015b0: 6e2e 6c6f 6164 2866 2c20 636c 733d 4a53  n.load(f, cls=JS
+000015c0: 4f4e 4465 636f 6465 7229 0d0a 0d0a 6465  ONDecoder)....de
+000015d0: 6620 6475 6d70 5f6a 736f 6e28 662c 2076  f dump_json(f, v
+000015e0: 293a 0d0a 2020 2020 7265 7475 726e 206a  ):..    return j
+000015f0: 736f 6e2e 6475 6d70 2866 2c20 762c 2063  son.dump(f, v, c
+00001600: 6c73 3d4a 534f 4e45 6e63 6f64 6572 290d  ls=JSONEncoder).
+00001610: 0a0d 0a23 202d 2d2d 2d2d 2d2d 2d2d 2d2d  ...# -----------
 00001620: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00001630: 2d2d 2d2d 2d2d 2d2d 2d2d 0d0a 0d0a 5f5f  ----------....__
-00001640: 616c 6c5f 5f20 3d20 5b0d 0a20 2020 2022  all__ = [..    "
-00001650: 4a53 4f4e 456e 636f 6465 7222 2c0d 0a20  JSONEncoder",.. 
-00001660: 2020 2022 4a53 4f4e 4465 636f 6465 7222     "JSONDecoder"
-00001670: 2c0d 0a5d 0d0a 0d0a 2320 2d2d 2d2d 2d2d  ,..]....# ------
-00001680: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00001690: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001630: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001640: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001650: 2d2d 2d2d 0d0a 0d0a 5f5f 616c 6c5f 5f20  ----....__all__ 
+00001660: 3d20 5b0d 0a20 2020 2022 4a53 4f4e 456e  = [..    "JSONEn
+00001670: 636f 6465 7222 2c0d 0a20 2020 2022 4a53  coder",..    "JS
+00001680: 4f4e 4465 636f 6465 7222 2c0d 0a5d 0d0a  ONDecoder",..]..
+00001690: 0d0a 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ..# ------------
 000016a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000016b0: 2d2d 2d2d 2d2d 2d2d 2d0d 0a              ---------..
+000016b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000016c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000016d0: 2d2d 2d0d 0a                             ---..
```

### Comparing `xtuples-0.0.6/src/xtuples/xtuples.py` & `xtuples-0.0.7/src/xtuples/xtuples.py`

 * *Files 2% similar despite different names*

```diff
@@ -20,23 +20,26 @@
 
 # ---------------------------------------------------------------
 
 REGISTRY = {}
 
 # ---------------------------------------------------------------
 
-def pipe(f, obj, *args, at = None, **kwargs):
+def pipe(f, obj, *args, at = None, discard=False, **kwargs):
     if at is None:
-        return f(obj, *args, **kwargs)
+        res = f(obj, *args, **kwargs)
     elif isinstance(at, int):
-        return f(*args[:at], obj, *args[at:], **kwargs)
+        res = f(*args[:at], obj, *args[at:], **kwargs)
     elif isinstance(at, str):
-        return f(*args, **{at: obj}, **kwargs)
+        res = f(*args, **{at: obj}, **kwargs)
     else:
         assert False, at
+    if not discard:
+        return res
+    return obj
 
 # ---------------------------------------------------------------
 
 
 # TODO: some kind of validation placeholder?
 # called in init, eg. quarter in [1 .. 4]
 
@@ -122,21 +125,28 @@
         >>> ex.pipe(ex.cls.as_dict)
         {'x': 1, 's': 'a', 'it': iTuple()}
         """
         return fDict(obj._asdict())
 
     @classmethod
     def decorate(meta, cls):
-        assert cls.__name__ not in REGISTRY
+        if cls.__name__ in REGISTRY:
+            print("NOTE, re-registering: {}".format(cls.__name__))
         cls.pipe = meta.pipe
         cls.partial = meta.partial
         cls.cls = meta
         REGISTRY[cls.__name__] = cls
         return cls
 
+    @classmethod
+    def replace(cls, *ks):
+        def f(obj, *vs):
+            return obj._replace(**{k: v for k, v in zip(ks, vs)})
+        return f
+
 # ---------------------------------------------------------------
 
 class fDict(collections.UserDict):
     __slots__ = ()
 
     data: dict
 
@@ -236,39 +246,37 @@
     @staticmethod
     def __new__(cls, data = None):
         # NOTE: we use cls not array
         # so sub-classing *does* change identity
         if isinstance(data, cls):
             return data
         return super().__new__(cls, data=data)
-
-    @staticmethod
-    def wrap_tuple(data):
-        return data if isinstance(data, tuple) else tuple(data)
     
     def __init__(self, data = None):
         # TODO: option for lazy init?
         self.data = (
             tuple() if data is None
-            else self.wrap_tuple(data)
+            else data if isinstance(data, tuple)
+            else tuple(data)
         )
 
     def __repr__(self):
         s = super().__repr__()
         return "{}({})".format(
             type(self).__name__,
             s[1:-2 if s[-2] == "," else -1],
         )
 
     def __hash__(self):
         return hash(self.data)
 
     @classmethod
     def decorate(meta, cls):
-        assert cls.__name__ not in REGISTRY
+        if cls.__name__ in REGISTRY:
+            print("NOTE, re-registering: {}".format(cls.__name__))
         REGISTRY[cls.__name__] = cls
         return cls
 
     # -----
 
     @classmethod
     def range(cls, *args, **kwargs):
@@ -325,83 +333,93 @@
         >>> f(3)
         iTuple(0, 3)
         """
         return functools.partial(f, self, *args, **kwargs)
 
     # -----
 
+    def __len__(self):
+        return len(self.data)
+
+    def __contains__(self, v):
+        return v in self.data
+
     def len(self):
         """
         >>> iTuple.range(3).len()
         3
         """
-        return len(self)
+        return len(self.data)
 
     def append(self, value, *values):
         """
         >>> iTuple.range(1).append(1)
         iTuple(0, 1)
         >>> iTuple.range(1).append(1, 2)
         iTuple(0, 1, 2)
         >>> iTuple.range(1).append(1, 2, 3)
         iTuple(0, 1, 2, 3)
         >>> iTuple.range(1).append(1, (2,))
         iTuple(0, 1, (2,))
         """
-        return self + (value, *values)
+        return iTuple(data=(*self.data, value, *values))
 
     def prepend(self, value, *values):
         """
         >>> iTuple.range(1).prepend(1)
         iTuple(1, 0)
         >>> iTuple.range(1).prepend(1, 2)
         iTuple(1, 2, 0)
         >>> iTuple.range(1).prepend(1, 2, 3)
         iTuple(1, 2, 3, 0)
         >>> iTuple.range(1).prepend(1, (2,))
         iTuple(1, (2,), 0)
         """
-        return (value, *values) + self
+        return iTuple(data=(value, *values, *self.data))
 
-    def zip(self, *itrs, lazy = False):
+    def zip(self, *itrs, lazy = False, at = None):
         """
         >>> iTuple([[1, 1], [2, 2], [3, 3]]).zip()
         iTuple((1, 2, 3), (1, 2, 3))
         >>> iTuple([iTuple.range(3), iTuple.range(1, 4)]).zip()
         iTuple((0, 1), (1, 2), (2, 3))
         >>> iTuple.range(3).zip(iTuple.range(1, 4))
         iTuple((0, 1), (1, 2), (2, 3))
         """
         if len(itrs) == 0:
             res = zip(*self)
-        else:
+        elif at is None:
             res = zip(self, *itrs)
+        elif isinstance(at, int):
+            res = zip(*itrs[:at], self, *itrs[at:])
+        else:
+            assert False, at
         return res if lazy else iTuple(data=res)
 
     def flatten(self):
         """
         >>> iTuple.range(3).map(lambda x: [x]).flatten()
         iTuple(0, 1, 2)
         """
-        return iTuple(itertools.chain(*self))
+        return iTuple(data=itertools.chain(*self))
 
     def extend(self, value, *values):
         """
         >>> iTuple.range(1).extend((1,))
         iTuple(0, 1)
         >>> iTuple.range(1).extend([1])
         iTuple(0, 1)
         >>> iTuple.range(1).extend([1], [2])
         iTuple(0, 1, 2)
         >>> iTuple.range(1).extend([1], [[2]])
         iTuple(0, 1, [2])
         >>> iTuple.range(1).extend([1], [[2]], [2])
         iTuple(0, 1, [2], 2)
         """
-        return iTuple(itertools.chain.from_iterable(
+        return iTuple(data=itertools.chain.from_iterable(
             (self, value, *values)
         ))
 
     def pretend(self, value, *values):
         """
         >>> iTuple.range(1).pretend((1,))
         iTuple(1, 0)
@@ -410,15 +428,15 @@
         >>> iTuple.range(1).pretend([1], [2])
         iTuple(1, 2, 0)
         >>> iTuple.range(1).pretend([1], [[2]])
         iTuple(1, [2], 0)
         >>> iTuple.range(1).pretend([1], [[2]], [2])
         iTuple(1, [2], 2, 0)
         """
-        return iTuple(itertools.chain.from_iterable(
+        return iTuple(data=itertools.chain.from_iterable(
             (value, *values, self)
         ))
 
     def filter_eq(self, v, f = None, eq = None, lazy = False):
         """
         >>> iTuple.range(3).filter_eq(1)
         iTuple(1)
@@ -434,23 +452,60 @@
         return res if lazy else type(self)(data=res)
 
     def filter(self, f, eq = None, lazy = False):
         """
         >>> iTuple.range(3).filter(lambda x: x > 1)
         iTuple(2)
         """
-        return self.filter_eq(True, f = f, eq = eq, lazy = lazy)
+        # res = []
+        # for v in self.iter():
+        #     if f(v):
+        #         res.append(v)
+        return iTuple(data=(
+            v for v in self.iter() if f(v)
+        ))
+        # return self.filter_eq(True, f = f, eq = eq, lazy = lazy)
 
-    def map(self, f, *iterables, lazy = False):
+    def map(self, f, *iterables, at = None, lazy = False):
         """
         >>> iTuple.range(3).map(lambda x: x * 2)
         iTuple(0, 2, 4)
         """
-        res = map(f, self, *iterables)
-        return res if lazy else iTuple(data=res)
+        # if lazy and at is None:
+        #     return map(f, self.data, *iterables)
+        if at is None:
+            return iTuple(data = map(f, self.data, *iterables))
+        elif isinstance(at, int):
+            return iTuple(data = map(
+                f, *iterables[:at], self.data, *iterables[at:]
+            ))
+        else:
+            assert False, at
+
+    # args, kwargs
+    def mapstar(self, f):
+        return iTuple(data=itertools.starmap(f, self.data))
+
+    def get(self, i):
+        return self.data[i]
+
+    def __getitem__(self, i):
+        return self.data[i]
+
+    def __iter__(self):
+        return iter(self.data)
+
+    def iter(self):
+        """
+        >>> for x in iTuple.range(3).iter(): print(x)
+        0
+        1
+        2
+        """
+        return iter(self.data)
 
     def enumerate(self):
         """
         >>> iTuple.range(3).enumerate()
         iTuple((0, 0), (1, 1), (2, 2))
         """
         # TODO: allow lazy
@@ -643,51 +698,63 @@
         >>> iTuple.range(3).accumulate(lambda acc, v: v)
         iTuple(0, 1, 2)
         >>> iTuple.range(3).accumulate(lambda acc, v: v, initial=0)
         iTuple(0, 0, 1, 2)
         >>> iTuple.range(3).accumulate(operator.add)
         iTuple(0, 1, 3)
         """
-        res = itertools.accumulate(self, func=f, initial=initial)
-        return res if lazy else iTuple(data=res)
+        if lazy:
+            return itertools.accumulate(self, func=f, initial=initial)
+        return iTuple(data=itertools.accumulate(
+            self, func=f, initial=initial
+        ))
 
-    def foldcum(self, *args, **kwargs):
+    def foldcum(self, *args, initial=None, **kwargs):
         """
         >>> iTuple.range(3).foldcum(lambda acc, v: v)
         iTuple(0, 1, 2)
         >>> iTuple.range(3).foldcum(operator.add)
         iTuple(0, 1, 3)
         """
+        # res = []
+        # acc = initial
+        # for x in self.iter():
+        #     acc = f(acc, x)
+        #     res.append(acc)
+        # return iTuple(data=tuple(res))
         return self.accumulate(*args, **kwargs)
 
     def fold(self, f, initial=None):
         """
         >>> iTuple.range(3).fold(lambda acc, v: v)
         2
         >>> iTuple.range(3).fold(lambda acc, v: v, initial=0)
         2
         >>> iTuple.range(3).fold(operator.add)
         3
         """
+        # acc = initial
+        # for v in self.iter():
+        #     acc = f(acc, v)
+        # return iTuple(data=tuple(acc))
         if initial is not None:
-            res = functools.reduce(f, self, initial)
+            return functools.reduce(f, self, initial)
         else:
-            res = functools.reduce(f, self)
-        return res
+            return functools.reduce(f, self)
 
     # -----
 
     # combinatorics
 
     # -----
 
 # ---------------------------------------------------------------
 
 @nTuple.decorate
-class Example(typing.NamedTuple):
+class _Example(typing.NamedTuple):
     """
     >>> ex = Example(1, "a")
     >>> ex
     Example(x=1, s='a', it=iTuple())
     >>> ex.cls
     <class 'xtuples.xtuples.nTuple'>
     >>> ex.pipe(lambda nt: nt.x)
@@ -722,11 +789,11 @@
 # TODO: context mananger to control
 # lazy default behaviour (ie. default to lazy or not)
 
 __all__ = [
     "iTuple",
     "nTuple",
     "fDict",
-    "Example",
+    # "_Example",
 ]
 
 # ---------------------------------------------------------------
```

### Comparing `xtuples-0.0.6/.gitignore` & `xtuples-0.0.7/.gitignore`

 * *Files 2% similar despite different names*

```diff
@@ -125,7 +125,10 @@
 .dmypy.json
 dmypy.json
 
 .mypy_cache
 
 # Pyre type checker
 .pyre/
+
+# other
+__local__/*
```

### Comparing `xtuples-0.0.6/LICENSE.txt` & `xtuples-0.0.7/LICENSE.txt`

 * *Files identical despite different names*

### Comparing `xtuples-0.0.6/pyproject.toml` & `xtuples-0.0.7/pyproject.toml`

 * *Files identical despite different names*

