# Comparing `tmp/pyparsing-3.1.0b1.tar.gz` & `tmp/pyparsing-3.1.0b2.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "pyparsing-3.1.0b1.tar", last modified: Sat Apr  8 19:01:08 2023, max compression
+gzip compressed data, was "pyparsing-3.1.0b2.tar", last modified: Sat May 20 02:42:08 2023, max compression
```

## Comparing `pyparsing-3.1.0b1.tar` & `pyparsing-3.1.0b2.tar`

### file list

```diff
@@ -1,160 +1,162 @@
--rw-r--r--   0        0        0      120 2023-04-08 05:25:24.240679 pyparsing-3.1.0b1/.coveragerc
--rw-r--r--   0        0        0     2282 2023-04-08 05:25:24.240679 pyparsing-3.1.0b1/.gitignore
--rw-r--r--   0        0        0      126 2023-04-08 05:25:24.240679 pyparsing-3.1.0b1/.pre-commit-config.yaml
--rw-r--r--   0        0        0      784 2023-04-08 05:25:24.240679 pyparsing-3.1.0b1/BUILDING.md
--rw-r--r--   0        0        0   172341 2023-04-08 17:31:07.743485 pyparsing-3.1.0b1/CHANGES
--rw-r--r--   0        0        0     3341 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/CODE_OF_CONDUCT.rst
--rw-r--r--   0        0        0     6891 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/CONTRIBUTING.md
--rw-r--r--   0        0        0     1023 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/LICENSE
--rw-r--r--   0        0        0     3463 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/README.rst
--rw-r--r--   0        0        0       36 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/docs/CODE_OF_CONDUCT.rst
--rw-r--r--   0        0        0    64281 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/docs/HowToUsePyparsing.rst
--rw-r--r--   0        0        0      606 2023-04-08 05:25:24.244679 pyparsing-3.1.0b1/docs/Makefile
--rw-r--r--   0        0        0   236402 2023-04-08 05:25:24.248679 pyparsing-3.1.0b1/docs/_static/pyparsingClassDiagram_1.5.2.jpg
--rw-r--r--   0        0        0   287969 2023-04-08 05:25:24.252679 pyparsing-3.1.0b1/docs/_static/pyparsingClassDiagram_3.0.9.jpg
--rw-r--r--   0        0        0    42634 2023-04-08 05:25:24.252679 pyparsing-3.1.0b1/docs/_static/sql_railroad.html
--rw-r--r--   0        0        0     5463 2023-04-08 05:25:24.252679 pyparsing-3.1.0b1/docs/conf.py
--rw-r--r--   0        0        0      537 2023-04-08 05:25:24.252679 pyparsing-3.1.0b1/docs/index.rst
--rw-r--r--   0        0        0       64 2023-04-08 05:25:24.252679 pyparsing-3.1.0b1/docs/modules.rst
--rw-r--r--   0        0        0      120 2023-04-08 05:25:24.252679 pyparsing-3.1.0b1/docs/pyparsing.rst
--rw-r--r--   0        0        0     5997 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/docs/pyparsing_class_diagram.puml
--rw-r--r--   0        0        0    31520 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/docs/whats_new_in_3_0_0.rst
--rw-r--r--   0        0        0    10531 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/0README.html
--rw-r--r--   0        0        0    39138 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/AcManForm.dfm
--rw-r--r--   0        0        0    21112 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/LAparser.py
--rw-r--r--   0        0        0     1443 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/Setup.ini
--rw-r--r--   0        0        0     3671 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/SimpleCalc.py
--rw-r--r--   0        0        0    43724 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/SingleForm.dfm
--rw-r--r--   0        0        0     7608 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/TAP.py
--rw-r--r--   0        0        0        0 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/__init__.py
--rw-r--r--   0        0        0    21862 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/adventureEngine.py
--rw-r--r--   0        0        0    11143 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/antlr_grammar.py
--rw-r--r--   0        0        0     2955 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/antlr_grammar_tests.py
--rw-r--r--   0        0        0     2251 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/apicheck.py
--rw-r--r--   0        0        0    64015 2023-04-08 05:25:24.256679 pyparsing-3.1.0b1/examples/bigquery_view_parser.py
--rw-r--r--   0        0        0    15575 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/booleansearchparser.py
--rw-r--r--   0        0        0     4257 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/btpyparse.py
--rw-r--r--   0        0        0      883 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/builtin_parse_action_demo.py
--rw-r--r--   0        0        0      853 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/cLibHeader.py
--rw-r--r--   0        0        0     3173 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/chemicalFormulas.py
--rw-r--r--   0        0        0      707 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/commasep.py
--rw-r--r--   0        0        0     2043 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/configParse.py
--rw-r--r--   0        0        0     1354 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/cpp_enum_parser.py
--rw-r--r--   0        0        0     2633 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/cuneiform_python.py
--rw-r--r--   0        0        0     2080 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/datetimeParseActions.py
--rw-r--r--   0        0        0     7591 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/decaf_parser.py
--rw-r--r--   0        0        0    16157 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/delta_time.py
--rw-r--r--   0        0        0     7212 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/dfmparse.py
--rw-r--r--   0        0        0     3048 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/dhcpd_leases_parser.py
--rw-r--r--   0        0        0     1776 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/dictExample.py
--rw-r--r--   0        0        0     2152 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/dictExample2.py
--rw-r--r--   0        0        0     4247 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/ebnf.py
--rw-r--r--   0        0        0     2403 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/ebnftest.py
--rw-r--r--   0        0        0     6316 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/eval_arith.py
--rw-r--r--   0        0        0     2475 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/excelExpr.py
--rw-r--r--   0        0        0    10518 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/fourFn.py
--rw-r--r--   0        0        0     5416 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/gen_ctypes.py
--rw-r--r--   0        0        0     1138 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/getNTPserversNew.py
--rw-r--r--   0        0        0      518 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/greeting.py
--rw-r--r--   0        0        0      425 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/greetingInGreek.py
--rw-r--r--   0        0        0      487 2023-04-08 05:25:24.260679 pyparsing-3.1.0b1/examples/greetingInKorean.py
--rw-r--r--   0        0        0      509 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/groupUsingListAllMatches.py
--rw-r--r--   0        0        0     2046 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/holaMundo.py
--rw-r--r--   0        0        0     1109 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/htmlStripper.py
--rw-r--r--   0        0        0     2096 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/htmlTableParser.py
--rw-r--r--   0        0        0     3565 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/httpServerLogParser.py
--rw-r--r--   0        0        0     7714 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/idlParse.py
--rw-r--r--   0        0        0     2688 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/include_preprocessor.py
--rw-r--r--   0        0        0     1022 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/indentedGrammarExample.py
--rw-r--r--   0        0        0      712 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/indented_block_example.py
--rw-r--r--   0        0        0     8279 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/inv_regex.py
--rw-r--r--   0        0        0    18536 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/javascript_grammar.g
--rw-r--r--   0        0        0     4809 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/jsonParser.py
--rw-r--r--   0        0        0     1439 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/left_recursion.py
--rw-r--r--   0        0        0     1563 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/linenoExample.py
--rw-r--r--   0        0        0     1612 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/listAllMatches.py
--rw-r--r--   0        0        0     7995 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/lua_parser.py
--rw-r--r--   0        0        0     8592 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/lucene_grammar.py
--rw-r--r--   0        0        0     1824 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/macroExpander.py
--rw-r--r--   0        0        0     1520 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/make_diagram.py
--rw-r--r--   0        0        0      586 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/matchPreviousDemo.py
--rw-r--r--   0        0        0      752 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/mozilla.ics
--rw-r--r--   0        0        0     2773 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/mozillaCalendarParser.py
--rw-r--r--   0        0        0      579 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/nested.py
--rw-r--r--   0        0        0     1892 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/nested_markup.py
--rw-r--r--   0        0        0     3859 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/number_words.py
--rw-r--r--   0        0        0     1374 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/numerics.py
--rw-r--r--   0        0        0     4445 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/oc.py
--rw-r--r--   0        0        0     1927 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/one_to_ninety_nine.py
--rw-r--r--   0        0        0     2156 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/parsePythonValue.py
--rw-r--r--   0        0        0      844 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/parseResultsSumExample.py
--rw-r--r--   0        0        0     1721 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/parseTabularData.py
--rw-r--r--   0        0        0     2400 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/partial_gene_match.py
--rw-r--r--   0        0        0     3416 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/pgn.py
--rw-r--r--   0        0        0     2221 2023-04-08 05:25:24.264679 pyparsing-3.1.0b1/examples/position.py
--rw-r--r--   0        0        0     3982 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/protobuf_parser.py
--rw-r--r--   0        0        0     8271 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/pythonGrammarParser.py
--rw-r--r--   0        0        0     1586 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/railroad_diagram_demo.py
--rw-r--r--   0        0        0     2147 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/rangeCheck.py
--rw-r--r--   0        0        0   123651 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/readJson.py
--rw-r--r--   0        0        0     1846 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/removeLineBreaks.py
--rw-r--r--   0        0        0     2493 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/romanNumerals.py
--rw-r--r--   0        0        0     7609 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/rosettacode.py
--rw-r--r--   0        0        0     2414 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/scanExamples.py
--rw-r--r--   0        0        0      962 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/searchParserAppDemo.py
--rw-r--r--   0        0        0    10654 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/searchparser.py
--rw-r--r--   0        0        0     8225 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/select_parser.py
--rw-r--r--   0        0        0     5351 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/sexpParser.py
--rw-r--r--   0        0        0     1729 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/shapes.py
--rw-r--r--   0        0        0     2477 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/simpleArith.py
--rw-r--r--   0        0        0     3275 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/simpleBool.py
--rw-r--r--   0        0        0     3234 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/simpleSQL.py
--rw-r--r--   0        0        0     1108 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/simpleWiki.py
--rw-r--r--   0        0        0    29375 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/snmp_api.h
--rw-r--r--   0        0        0     3141 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/sql2dot.py
--rw-r--r--   0        0        0     2795 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/stackish.py
--rw-r--r--   0        0        0     1145 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/statemachine/documentSignoffDemo.py
--rw-r--r--   0        0        0     2879 2023-04-08 05:25:24.268679 pyparsing-3.1.0b1/examples/statemachine/documentsignoffstate.pystate
--rw-r--r--   0        0        0     1759 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/libraryBookDemo.py
--rw-r--r--   0        0        0      542 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/librarybookstate.pystate
--rw-r--r--   0        0        0    12422 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/statemachine.py
--rw-r--r--   0        0        0      550 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/trafficLightDemo.py
--rw-r--r--   0        0        0     1149 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/trafficlightstate.pystate
--rw-r--r--   0        0        0     2441 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/vending_machine.py
--rw-r--r--   0        0        0     1192 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/video_demo.py
--rw-r--r--   0        0        0      861 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/statemachine/videostate.pystate
--rw-r--r--   0        0        0     8926 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/test_bibparse.py
--rw-r--r--   0        0        0     3790 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/unicode_denormalizer.py
--rw-r--r--   0        0        0     1054 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/urlExtractor.py
--rw-r--r--   0        0        0     2458 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/urlExtractorNew.py
--rw-r--r--   0        0        0    31898 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/verilog_parse.py
--rw-r--r--   0        0        0      912 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/withAttribute.py
--rw-r--r--   0        0        0     2995 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/examples/wordsToNum.py
--rw-r--r--   0        0        0     9104 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/pyparsing/__init__.py
--rw-r--r--   0        0        0     6567 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/pyparsing/actions.py
--rw-r--r--   0        0        0    13389 2023-04-08 05:25:24.272679 pyparsing-3.1.0b1/pyparsing/common.py
--rw-r--r--   0        0        0   224237 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/core.py
--rw-r--r--   0        0        0    24051 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/diagram/__init__.py
--rw-r--r--   0        0        0     9523 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/exceptions.py
--rw-r--r--   0        0        0    39342 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/helpers.py
--rw-r--r--   0        0        0        0 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/py.typed
--rw-r--r--   0        0        0    26694 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/results.py
--rw-r--r--   0        0        0    13488 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/testing.py
--rw-r--r--   0        0        0    10634 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/unicode.py
--rw-r--r--   0        0        0     8458 2023-04-08 05:25:24.276679 pyparsing-3.1.0b1/pyparsing/util.py
--rw-r--r--   0        0        0     1729 2023-04-08 17:31:07.743485 pyparsing-3.1.0b1/pyproject.toml
--rw-r--r--   0        0        0      500 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/README.md
--rw-r--r--   0        0        0        0 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/__init__.py
--rw-r--r--   0        0        0     2851 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/diag_embed.html
--rw-r--r--   0        0        0     2915 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/diag_no_embed.html
--rw-r--r--   0        0        0    12369 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/json_parser_tests.py
--rw-r--r--   0        0        0      347 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/karthik.ini
--rw-r--r--   0        0        0      667 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/mypy-ignore-cases/forward_methods.py
--rw-r--r--   0        0        0       11 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/parsefiletest_input_file.txt
--rw-r--r--   0        0        0       38 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/requirements.txt
--rw-r--r--   0        0        0     7000 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/test_diagram.py
--rw-r--r--   0        0        0     1025 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/test_examples.py
--rw-r--r--   0        0        0    25716 2023-04-08 05:25:24.280679 pyparsing-3.1.0b1/tests/test_simple_unit.py
--rw-r--r--   0        0        0   359787 2023-04-08 05:25:24.284679 pyparsing-3.1.0b1/tests/test_unit.py
--rw-r--r--   0        0        0      424 2023-04-08 17:31:07.747485 pyparsing-3.1.0b1/tox.ini
--rw-r--r--   0        0        0     4929 1970-01-01 00:00:00.000000 pyparsing-3.1.0b1/PKG-INFO
+-rw-r--r--   0        0        0      120 2023-04-08 05:25:24.240679 pyparsing-3.1.0b2/.coveragerc
+-rw-r--r--   0        0        0     2282 2023-04-08 05:25:24.240679 pyparsing-3.1.0b2/.gitignore
+-rw-r--r--   0        0        0      126 2023-04-08 05:25:24.240679 pyparsing-3.1.0b2/.pre-commit-config.yaml
+-rw-r--r--   0        0        0      784 2023-04-08 05:25:24.240679 pyparsing-3.1.0b2/BUILDING.md
+-rw-r--r--   0        0        0   173324 2023-05-20 02:38:31.673207 pyparsing-3.1.0b2/CHANGES
+-rw-r--r--   0        0        0     3341 2023-04-08 05:25:24.244679 pyparsing-3.1.0b2/CODE_OF_CONDUCT.rst
+-rw-r--r--   0        0        0     6891 2023-04-08 05:25:24.244679 pyparsing-3.1.0b2/CONTRIBUTING.md
+-rw-r--r--   0        0        0     1023 2023-04-08 05:25:24.244679 pyparsing-3.1.0b2/LICENSE
+-rw-r--r--   0        0        0     3463 2023-04-08 05:25:24.244679 pyparsing-3.1.0b2/README.rst
+-rw-r--r--   0        0        0       36 2023-04-08 05:25:24.244679 pyparsing-3.1.0b2/docs/CODE_OF_CONDUCT.rst
+-rw-r--r--   0        0        0    64360 2023-05-20 02:38:31.673207 pyparsing-3.1.0b2/docs/HowToUsePyparsing.rst
+-rw-r--r--   0        0        0      606 2023-04-08 05:25:24.244679 pyparsing-3.1.0b2/docs/Makefile
+-rw-r--r--   0        0        0   236402 2023-04-08 05:25:24.248679 pyparsing-3.1.0b2/docs/_static/pyparsingClassDiagram_1.5.2.jpg
+-rw-r--r--   0        0        0   287969 2023-04-08 05:25:24.252679 pyparsing-3.1.0b2/docs/_static/pyparsingClassDiagram_3.0.9.jpg
+-rw-r--r--   0        0        0    42634 2023-04-08 05:25:24.252679 pyparsing-3.1.0b2/docs/_static/sql_railroad.html
+-rw-r--r--   0        0        0     5463 2023-04-08 05:25:24.252679 pyparsing-3.1.0b2/docs/conf.py
+-rw-r--r--   0        0        0      537 2023-04-08 05:25:24.252679 pyparsing-3.1.0b2/docs/index.rst
+-rw-r--r--   0        0        0       34 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/docs/make_sphinx_docs.bat
+-rw-r--r--   0        0        0       64 2023-04-08 05:25:24.252679 pyparsing-3.1.0b2/docs/modules.rst
+-rw-r--r--   0        0        0      120 2023-04-08 05:25:24.252679 pyparsing-3.1.0b2/docs/pyparsing.rst
+-rw-r--r--   0        0        0     6039 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/docs/pyparsing_class_diagram.puml
+-rw-r--r--   0        0        0    31566 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/docs/whats_new_in_3_0_0.rst
+-rw-r--r--   0        0        0    10375 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/0README.html
+-rw-r--r--   0        0        0    39138 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/AcManForm.dfm
+-rw-r--r--   0        0        0    21112 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/LAparser.py
+-rw-r--r--   0        0        0     1443 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/Setup.ini
+-rw-r--r--   0        0        0     3671 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/SimpleCalc.py
+-rw-r--r--   0        0        0    43724 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/SingleForm.dfm
+-rw-r--r--   0        0        0     7608 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/TAP.py
+-rw-r--r--   0        0        0        0 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/__init__.py
+-rw-r--r--   0        0        0    21862 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/adventureEngine.py
+-rw-r--r--   0        0        0    11143 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/antlr_grammar.py
+-rw-r--r--   0        0        0     2955 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/antlr_grammar_tests.py
+-rw-r--r--   0        0        0     2251 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/apicheck.py
+-rw-r--r--   0        0        0     4188 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/bf.py
+-rw-r--r--   0        0        0    64015 2023-04-08 05:25:24.256679 pyparsing-3.1.0b2/examples/bigquery_view_parser.py
+-rw-r--r--   0        0        0    15575 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/booleansearchparser.py
+-rw-r--r--   0        0        0     4257 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/btpyparse.py
+-rw-r--r--   0        0        0      817 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/builtin_parse_action_demo.py
+-rw-r--r--   0        0        0      853 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/cLibHeader.py
+-rw-r--r--   0        0        0     3035 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/chemical_formulas.py
+-rw-r--r--   0        0        0      707 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/commasep.py
+-rw-r--r--   0        0        0     2043 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/configParse.py
+-rw-r--r--   0        0        0     1395 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/cpp_enum_parser.py
+-rw-r--r--   0        0        0     2633 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/cuneiform_python.py
+-rw-r--r--   0        0        0     2021 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/datetime_parse_actions.py
+-rw-r--r--   0        0        0     7591 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/decaf_parser.py
+-rw-r--r--   0        0        0    16157 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/delta_time.py
+-rw-r--r--   0        0        0     7212 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/dfmparse.py
+-rw-r--r--   0        0        0     3048 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/dhcpd_leases_parser.py
+-rw-r--r--   0        0        0     1776 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/dictExample.py
+-rw-r--r--   0        0        0     2152 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/dictExample2.py
+-rw-r--r--   0        0        0     4247 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/ebnf.py
+-rw-r--r--   0        0        0     2403 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/ebnftest.py
+-rw-r--r--   0        0        0     6316 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/eval_arith.py
+-rw-r--r--   0        0        0     2199 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/excel_expr.py
+-rw-r--r--   0        0        0    10518 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/fourFn.py
+-rw-r--r--   0        0        0     5416 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/gen_ctypes.py
+-rw-r--r--   0        0        0     1138 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/getNTPserversNew.py
+-rw-r--r--   0        0        0      518 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/greeting.py
+-rw-r--r--   0        0        0      425 2023-04-08 05:25:24.260679 pyparsing-3.1.0b2/examples/greetingInGreek.py
+-rw-r--r--   0        0        0      495 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/greetingInKorean.py
+-rw-r--r--   0        0        0      509 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/groupUsingListAllMatches.py
+-rw-r--r--   0        0        0     1977 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/hola_mundo.py
+-rw-r--r--   0        0        0     1109 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/htmlStripper.py
+-rw-r--r--   0        0        0     2096 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/htmlTableParser.py
+-rw-r--r--   0        0        0     3565 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/httpServerLogParser.py
+-rw-r--r--   0        0        0     7714 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/idlParse.py
+-rw-r--r--   0        0        0     2688 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/include_preprocessor.py
+-rw-r--r--   0        0        0     1022 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/indentedGrammarExample.py
+-rw-r--r--   0        0        0      712 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/indented_block_example.py
+-rw-r--r--   0        0        0     8279 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/inv_regex.py
+-rw-r--r--   0        0        0    18536 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/javascript_grammar.g
+-rw-r--r--   0        0        0     4809 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/jsonParser.py
+-rw-r--r--   0        0        0     1439 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/left_recursion.py
+-rw-r--r--   0        0        0     1563 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/linenoExample.py
+-rw-r--r--   0        0        0     1612 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/listAllMatches.py
+-rw-r--r--   0        0        0     7995 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/lua_parser.py
+-rw-r--r--   0        0        0     8592 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/lucene_grammar.py
+-rw-r--r--   0        0        0     1824 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/macroExpander.py
+-rw-r--r--   0        0        0     1520 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/make_diagram.py
+-rw-r--r--   0        0        0      586 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/matchPreviousDemo.py
+-rw-r--r--   0        0        0      752 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/mozilla.ics
+-rw-r--r--   0        0        0     2773 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/mozillaCalendarParser.py
+-rw-r--r--   0        0        0      579 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/nested.py
+-rw-r--r--   0        0        0     1892 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/nested_markup.py
+-rw-r--r--   0        0        0     3859 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/number_words.py
+-rw-r--r--   0        0        0     1374 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/numerics.py
+-rw-r--r--   0        0        0     4445 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/oc.py
+-rw-r--r--   0        0        0     1927 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/one_to_ninety_nine.py
+-rw-r--r--   0        0        0     1721 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/parseTabularData.py
+-rw-r--r--   0        0        0     2559 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/parse_python_value.py
+-rw-r--r--   0        0        0      853 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/parse_results_sum_example.py
+-rw-r--r--   0        0        0     2400 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/partial_gene_match.py
+-rw-r--r--   0        0        0     3416 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/pgn.py
+-rw-r--r--   0        0        0     2221 2023-04-08 05:25:24.264679 pyparsing-3.1.0b2/examples/position.py
+-rw-r--r--   0        0        0     3982 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/protobuf_parser.py
+-rw-r--r--   0        0        0     8271 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/pythonGrammarParser.py
+-rw-r--r--   0        0        0     1586 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/railroad_diagram_demo.py
+-rw-r--r--   0        0        0     2908 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/range_check.py
+-rw-r--r--   0        0        0   123651 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/readJson.py
+-rw-r--r--   0        0        0     1846 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/removeLineBreaks.py
+-rw-r--r--   0        0        0     2493 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/romanNumerals.py
+-rw-r--r--   0        0        0     7609 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/rosettacode.py
+-rw-r--r--   0        0        0     2414 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/scanExamples.py
+-rw-r--r--   0        0        0      962 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/searchParserAppDemo.py
+-rw-r--r--   0        0        0    10654 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/searchparser.py
+-rw-r--r--   0        0        0     8225 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/select_parser.py
+-rw-r--r--   0        0        0     5351 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/sexpParser.py
+-rw-r--r--   0        0        0     1729 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/shapes.py
+-rw-r--r--   0        0        0     2477 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/simpleArith.py
+-rw-r--r--   0        0        0     3275 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/simpleBool.py
+-rw-r--r--   0        0        0     3234 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/simpleSQL.py
+-rw-r--r--   0        0        0     1108 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/simpleWiki.py
+-rw-r--r--   0        0        0    29375 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/snmp_api.h
+-rw-r--r--   0        0        0     3141 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/sql2dot.py
+-rw-r--r--   0        0        0     2795 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/stackish.py
+-rw-r--r--   0        0        0     1145 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/statemachine/documentSignoffDemo.py
+-rw-r--r--   0        0        0     2879 2023-04-08 05:25:24.268679 pyparsing-3.1.0b2/examples/statemachine/documentsignoffstate.pystate
+-rw-r--r--   0        0        0     1759 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/libraryBookDemo.py
+-rw-r--r--   0        0        0      542 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/librarybookstate.pystate
+-rw-r--r--   0        0        0    12422 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/statemachine.py
+-rw-r--r--   0        0        0      550 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/trafficLightDemo.py
+-rw-r--r--   0        0        0     1149 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/trafficlightstate.pystate
+-rw-r--r--   0        0        0     2441 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/vending_machine.py
+-rw-r--r--   0        0        0     1192 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/video_demo.py
+-rw-r--r--   0        0        0      861 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/statemachine/videostate.pystate
+-rw-r--r--   0        0        0     8926 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/test_bibparse.py
+-rw-r--r--   0        0        0     5139 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/examples/unicode_denormalizer.py
+-rw-r--r--   0        0        0     1054 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/urlExtractor.py
+-rw-r--r--   0        0        0     2458 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/urlExtractorNew.py
+-rw-r--r--   0        0        0    31898 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/verilog_parse.py
+-rw-r--r--   0        0        0      912 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/withAttribute.py
+-rw-r--r--   0        0        0     2995 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/examples/wordsToNum.py
+-rw-r--r--   0        0        0     9103 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/pyparsing/__init__.py
+-rw-r--r--   0        0        0     6567 2023-04-08 05:25:24.272679 pyparsing-3.1.0b2/pyparsing/actions.py
+-rw-r--r--   0        0        0    13387 2023-05-20 02:38:31.677207 pyparsing-3.1.0b2/pyparsing/common.py
+-rw-r--r--   0        0        0   224460 2023-05-20 02:38:31.689207 pyparsing-3.1.0b2/pyparsing/core.py
+-rw-r--r--   0        0        0    24198 2023-05-20 02:38:31.689207 pyparsing-3.1.0b2/pyparsing/diagram/__init__.py
+-rw-r--r--   0        0        0     9523 2023-04-08 05:25:24.276679 pyparsing-3.1.0b2/pyparsing/exceptions.py
+-rw-r--r--   0        0        0    38646 2023-05-20 02:38:31.689207 pyparsing-3.1.0b2/pyparsing/helpers.py
+-rw-r--r--   0        0        0        0 2023-04-08 05:25:24.276679 pyparsing-3.1.0b2/pyparsing/py.typed
+-rw-r--r--   0        0        0    26692 2023-05-20 02:38:31.693207 pyparsing-3.1.0b2/pyparsing/results.py
+-rw-r--r--   0        0        0    13488 2023-04-08 05:25:24.276679 pyparsing-3.1.0b2/pyparsing/testing.py
+-rw-r--r--   0        0        0    10634 2023-04-08 05:25:24.276679 pyparsing-3.1.0b2/pyparsing/unicode.py
+-rw-r--r--   0        0        0     8670 2023-05-20 02:38:31.693207 pyparsing-3.1.0b2/pyparsing/util.py
+-rw-r--r--   0        0        0     1729 2023-04-08 17:31:07.743485 pyparsing-3.1.0b2/pyproject.toml
+-rw-r--r--   0        0        0      500 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/README.md
+-rw-r--r--   0        0        0        0 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/__init__.py
+-rw-r--r--   0        0        0     2851 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/diag_embed.html
+-rw-r--r--   0        0        0     2915 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/diag_no_embed.html
+-rw-r--r--   0        0        0    12369 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/json_parser_tests.py
+-rw-r--r--   0        0        0      347 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/karthik.ini
+-rw-r--r--   0        0        0      667 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/mypy-ignore-cases/forward_methods.py
+-rw-r--r--   0        0        0       11 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/parsefiletest_input_file.txt
+-rw-r--r--   0        0        0       38 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/requirements.txt
+-rw-r--r--   0        0        0     9994 2023-05-20 02:38:31.693207 pyparsing-3.1.0b2/tests/test_diagram.py
+-rw-r--r--   0        0        0     1092 2023-05-20 02:38:31.693207 pyparsing-3.1.0b2/tests/test_examples.py
+-rw-r--r--   0        0        0    25716 2023-04-08 05:25:24.280679 pyparsing-3.1.0b2/tests/test_simple_unit.py
+-rw-r--r--   0        0        0   363422 2023-05-20 02:38:31.705207 pyparsing-3.1.0b2/tests/test_unit.py
+-rw-r--r--   0        0        0      390 2023-04-14 11:55:53.228294 pyparsing-3.1.0b2/tox.ini
+-rw-r--r--   0        0        0     4929 1970-01-01 00:00:00.000000 pyparsing-3.1.0b2/PKG-INFO
```

### Comparing `pyparsing-3.1.0b1/.gitignore` & `pyparsing-3.1.0b2/.gitignore`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/BUILDING.md` & `pyparsing-3.1.0b2/BUILDING.md`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/CHANGES` & `pyparsing-3.1.0b2/CHANGES`

 * *Files 0% similar despite different names*

```diff
@@ -9,28 +9,50 @@
 at least late 2023 if not 2024. So there is plenty of time to convert existing parsers to
 the new function names before the old functions are completely removed. (Big
 help from Devin J. Pohly in structuring the code to enable this peaceful transition.)
 
 Version 3.2.0 will also discontinue support for Python versions 3.6 and 3.7.
 
 
+Version 3.1.0b2 - May, 2023
+---------------------------
+- Updated `create_diagram()` code to be compatible with railroad-diagrams package
+  version 3.0. Fixes Issue #477 (railroad diagrams generated with black bars),
+  reported by Sam Morley-Short.
+
+- Fixed bug in `NotAny`, where parse actions on the negated expr were not being run.
+  This could cause `NotAny` to incorrectly fail if the expr would normally match,
+  but would fail to match if a condition used as a parse action returned False.
+  Fixes Issue #482, raised by byaka, thank you!
+
+- Fixed `create_diagram()` to accept keyword args, to be passed through to the
+  `template.render()` method to generate the output HTML (PR submitted by Aussie Schnore,
+  good catch!)
+
+- Fixed bug in `python_quoted_string` regex.
+
+- Added `examples/bf.py` Brainf*ck parser/executor example. Illustrates using
+  a pyparsing grammar to parse language syntax, and attach executable AST nodes to
+  the parsed results.
+
+
 Version 3.1.0b1 - April, 2023
 -----------------------------
 - Added support for Python 3.12.
 
 - API CHANGE: A slight change has been implemented when unquoting a quoted string
-  parsed using the QuotedString class. Formerly, when unquoting and processing
+  parsed using the `QuotedString` class. Formerly, when unquoting and processing
   whitespace markers such as \t and \n, these substitutions would occur first, and
   then any additional '\' escaping would be done on the resulting string. This would
   parse "\\n" as "\<newline>". Now escapes and whitespace markers are all processed
   in a single pass working left to right, so the quoted string "\\n" would get unquoted
   to "\n" (a backslash followed by "n"). Fixes issue #474 raised by jakeanq,
   thanks!
 
-- Added named field "url" to pyparsing.common.url, returning the entire
+- Added named field "url" to `pyparsing.common.url`, returning the entire
   parsed URL string.
 
 - Fixed bug when parse actions returned an empty string for an expression that
   had a results name, that the results name was not saved. That is:
 
       expr = Literal("X").add_parse_action(lambda tokens: "")("value")
       result = expr.parse_string("X")
@@ -39,18 +61,18 @@
   would raise a `KeyError`. Now empty strings will be saved with the associated
   results name. Raised in Issue #470 by Nicco Kunzmann, thank you.
 
 - Fixed bug in `SkipTo` where ignore expressions were not properly handled while
   scanning for the target expression. Issue #475, reported by elkniwt, thanks
   (this bug has been there for a looooong time!).
 
-- Updated ci.yml permissions to limit default access to source - submitted by Joyce
+- Updated `ci.yml` permissions to limit default access to source - submitted by Joyce
   Brum of Google. Thanks so much!
 
-- Updated the lucene_grammar.py example (better support for '*' and '?' wildcards)
+- Updated the `lucene_grammar.py` example (better support for '*' and '?' wildcards)
   and corrected the test cases - brought to my attention by Elijah Nicol, good catch!
 
 
 Version 3.1.0a1 - March, 2023
 -----------------------------
 - API ENHANCEMENT: `Optional(expr)` may now be written as `expr | ""`
 
@@ -129,15 +151,15 @@
   slice, where the slice's stop value indicates a `stop_on`
   expression:
 
       test = "BEGIN aaa bbb ccc END"
       BEGIN, END = Keyword.using_each("BEGIN END".split())
       body_word = Word(alphas)
 
-      expr = BEGIN + Group(body_word[:END]) + END
+      expr = BEGIN + Group(body_word[...:END]) + END
       # equivalent to
       # expr = BEGIN + Group(ZeroOrMore(body_word, stop_on=END)) + END
 
       print(expr.parse_string(test))
 
   Prints:
 
@@ -184,18 +206,18 @@
 - Some documentation and error message clarifications on pyparsing's
   keyword logic, cited by Basil Peace.
 
 - General docstring cleanup for Sphinx doc generation, PRs submitted
   by Devin J. Pohly. A dirty job, but someone has to do it - much
   appreciated!
 
-- invRegex.py example renamed to inv_regex.py and updated to PEP-8
+- `invRegex.py` example renamed to `inv_regex.py` and updated to PEP-8
   variable and method naming. PR submitted by Ross J. Duff, thanks!
 
-- Removed examples sparser.py and pymicko.py, since each included its
+- Removed examples `sparser.py` and `pymicko.py`, since each included its
   own GPL license in the header. Since this conflicts with pyparsing's
   MIT license, they were removed from the distribution to avoid
   confusion among those making use of them in their own projects.
 
 
 Version 3.0.9 - May, 2022
 -------------------------
@@ -215,15 +237,15 @@
 
 - Fixed typo in jinja2 template for railroad diagrams, thanks for the
   catch Nioub (issue #388).
 
 - Removed use of deprecated `pkg_resources` package in
   railroad diagramming code (issue #391).
 
-- Updated bigquery_view_parser.py example to parse examples at
+- Updated `bigquery_view_parser.py` example to parse examples at
   https://cloud.google.com/bigquery/docs/reference/legacy-sql
 
 
 Version 3.0.8 - April, 2022
 ---------------------------
 - API CHANGE: modified `pyproject.toml` to require Python version
   3.6.8 or later for pyparsing 3.x. Earlier minor versions of 3.6
```

### Comparing `pyparsing-3.1.0b1/CODE_OF_CONDUCT.rst` & `pyparsing-3.1.0b2/CODE_OF_CONDUCT.rst`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/CONTRIBUTING.md` & `pyparsing-3.1.0b2/CONTRIBUTING.md`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/LICENSE` & `pyparsing-3.1.0b2/LICENSE`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/README.rst` & `pyparsing-3.1.0b2/README.rst`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/docs/HowToUsePyparsing.rst` & `pyparsing-3.1.0b2/docs/HowToUsePyparsing.rst`

 * *Files 0% similar despite different names*

```diff
@@ -2,15 +2,15 @@
 Using the pyparsing module
 ==========================
 
 :author: Paul McGuire
 :address: ptmcg.pm+pyparsing@gmail.com
 
 :revision: 3.1.0
-:date: March, 2023
+:date: April, 2023
 
 :copyright: Copyright |copy| 2003-2023 Paul McGuire.
 
 .. |copy| unicode:: 0xA9
 
 :abstract: This document provides how-to instructions for the
     pyparsing library, an easy-to-use Python module for constructing
@@ -32,15 +32,15 @@
 directory of the pyparsing GitHub repo.
 
 -----------
 
 **Note**: *In pyparsing 3.0, many method and function names which were
 originally written using camelCase have been converted to PEP8-compatible
 snake_case. So ``parseString()`` is being renamed to ``parse_string()``,
-``delimitedList`` to ``delimited_list``, and so on. You may see the old
+``delimitedList`` to DelimitedList_, and so on. You may see the old
 names in legacy parsers, and they will be supported for a time with
 synonyms, but the synonyms will be removed in a future release.*
 
 *If you are using this documentation, but working with a 2.4.x version of pyparsing,
 you'll need to convert methods and arguments from the documented snake_case
 names to the legacy camelCase names. In pyparsing 3.0.x, both forms are
 supported, but the legacy forms are deprecated; they will be dropped in a
@@ -230,15 +230,15 @@
   sublist.  This will help organize your results into more
   hierarchical form (the default behavior is to return matching
   tokens as a flat list of matching input strings).
 
 - Punctuation may be significant for matching, but is rarely of
   much interest in the parsed results.  Use the ``suppress()`` method
   to keep these tokens from cluttering up your returned lists of
-  tokens.  For example, ``delimited_list()`` matches a succession of
+  tokens.  For example, DelimitedList_ matches a succession of
   one or more expressions, separated by delimiters (commas by
   default), but only returns a list of the actual expressions -
   the delimiters are used for parsing, but are suppressed from the
   returned output.
 
 - Parse actions can be used to convert values from strings to
   other data types (ints, floats, booleans, etc.).
@@ -357,15 +357,15 @@
     FAIL: Expected numeric digits, found end of text  (at char 4), (line:1, col:5)
 
 .. _set_results_name:
 
 - ``set_results_name(string, list_all_matches=False)`` - name to be given
   to tokens matching
   the element; if multiple tokens within
-  a repetition group (such as ``ZeroOrMore`` or ``delimited_list``) the
+  a repetition group (such as ZeroOrMore_ or DelimitedList_) the
   default is to return only the last matching token - if ``list_all_matches``
   is set to True, then a list of all the matching tokens is returned.
 
   ``expr.set_results_name("key")`` can also be written ``expr("key")``
   (a results name with a trailing '*' character will be
   interpreted as setting ``list_all_matches`` to ``True``).
 
@@ -693,20 +693,38 @@
   be called if a match is found, or if a default is specified.
 
   (``Opt`` was formerly named ``Optional``, but since the standard Python
   library module ``typing`` now defines ``Optional``, the pyparsing class has
   been renamed to ``Opt``. A compatibility synonym ``Optional`` is defined,
   but will be removed in a future release.)
 
+.. _ZeroOrMore:
+
 - ``ZeroOrMore`` - similar to ``Opt``, but can be repeated; ``ZeroOrMore(expr)``
   can also be written as ``expr[...]``.
 
-- ``OneOrMore`` - similar to ``ZeroOrMore``, but at least one match must
+.. _OneOrMore:
+
+- ``OneOrMore`` - similar to ZeroOrMore_, but at least one match must
   be present; ``OneOrMore(expr)`` can also be written as ``expr[1, ...]``.
 
+.. _DelimitedList:
+
+- ``DelimitedList`` - used for
+  matching one or more occurrences of ``expr``, separated by ``delim``.
+  By default, the delimiters are suppressed, so the returned results contain
+  only the separate list elements.  Can optionally specify ``combine=True``,
+  indicating that the expressions and delimiters should be returned as one
+  combined value (useful for scoped variables, such as ``"a.b.c"``, or
+  ``"a::b::c"``, or paths such as ``"a/b/c"``). Can also optionally specify ``min` and ``max``
+  restrictions on the length of the list, and
+  ``allow_trailing_delim`` to accept a trailing delimiter at the end of the list.
+
+.. _FollowedBy:
+
 - ``FollowedBy`` - a lookahead expression, requires matching of the given
   expressions, but does not advance the parsing position within the input string
 
 .. _NotAny:
 
 - ``NotAny`` - a negative lookahead expression, prevents matching of named
   expressions, does not advance the parsing position within the input string;
@@ -782,15 +800,15 @@
   tokens (such as list delimiters)
 
 
 Special subclasses
 ------------------
 
 - ``Group`` - causes the matched tokens to be enclosed in a list;
-  useful in repeated elements like ``ZeroOrMore`` and ``OneOrMore`` to
+  useful in repeated elements like ZeroOrMore_ and OneOrMore_ to
   break up matched tokens into groups for each repeated pattern
 
 - ``Dict`` - like ``Group``, but also constructs a dictionary, using the
   ``[0]``'th elements of all enclosed token lists as the keys, and
   each token list as the value
 
 - ``Forward`` - placeholder token used to define recursive token
@@ -1028,23 +1046,14 @@
 
 Miscellaneous attributes and methods
 ====================================
 
 Helper methods
 --------------
 
-- ``delimited_list(expr, delim=',')`` - convenience function for
-  matching one or more occurrences of expr, separated by delim.
-  By default, the delimiters are suppressed, so the returned results contain
-  only the separate list elements.  Can optionally specify ``combine=True``,
-  indicating that the expressions and delimiters should be returned as one
-  combined value (useful for scoped variables, such as ``"a.b.c"``, or
-  ``"a::b::c"``, or paths such as ``"a/b/c"``). Can also optionally specify
-  ``allow_trailing_delim`` to accept a trailing delimiter at the end of the list.
-
 - ``counted_array(expr)`` - convenience function for a pattern where an list of
   instances of the given expression are preceded by an integer giving the count of
   elements in the list.  Returns an expression that parses the leading integer,
   reads exactly that many expressions, and returns the array of expressions in the
   parse results - the leading integer is suppressed from the results (although it
   is easily reconstructed by using len on the returned array).
 
@@ -1327,15 +1336,15 @@
 
 - ``c_style_comment`` - a comment block delimited by ``'/*'`` and ``'*/'`` sequences; can span
   multiple lines, but does not support nesting of comments
 
 - ``html_comment`` - a comment block delimited by ``'<!--'`` and ``'-->'`` sequences; can span
   multiple lines, but does not support nesting of comments
 
-- ``comma_separated_list`` - similar to ``delimited_list``, except that the
+- ``comma_separated_list`` - similar to DelimitedList_, except that the
   list expressions can be any text value, or a quoted string; quoted strings can
   safely include commas without incorrectly breaking the string into two tokens
 
 - ``rest_of_line`` - all remaining printable characters up to but not including the next
   newline
 
 - ``common.integer`` - an integer with no leading sign; parsed token is converted to int
```

### Comparing `pyparsing-3.1.0b1/docs/Makefile` & `pyparsing-3.1.0b2/docs/Makefile`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/docs/_static/pyparsingClassDiagram_1.5.2.jpg` & `pyparsing-3.1.0b2/docs/_static/pyparsingClassDiagram_1.5.2.jpg`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/docs/_static/pyparsingClassDiagram_3.0.9.jpg` & `pyparsing-3.1.0b2/docs/_static/pyparsingClassDiagram_3.0.9.jpg`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/docs/_static/sql_railroad.html` & `pyparsing-3.1.0b2/docs/_static/sql_railroad.html`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/docs/conf.py` & `pyparsing-3.1.0b2/docs/conf.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/docs/index.rst` & `pyparsing-3.1.0b2/docs/index.rst`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/docs/pyparsing_class_diagram.puml` & `pyparsing-3.1.0b2/docs/pyparsing_class_diagram.puml`

 * *Files 2% similar despite different names*

```diff
@@ -18,15 +18,14 @@
 
 package core {
 
 class globals {
 quoted_string
 sgl_quoted_string
 dbl_quoted_string
-delimited_list()
 counted_array()
 match_previous_literal()
 match_previous_expr()
 one_of()
 dict_of()
 original_text_for()
 ungroup()
@@ -181,14 +180,15 @@
 class And
 class Or
 class MatchFirst
 class Each
 
 class OneOrMore
 class ZeroOrMore
+class DelimitedList
 class SkipTo
 class Group
 class Forward {
 operator <<= ()
 }
 
 class LineStart
@@ -242,14 +242,15 @@
 
 ParseElementEnhance <|-- SkipTo
 ParseElementEnhance <|--- Forward
 ParseElementEnhance <|-- Located
 ParseElementEnhance <|--- _MultipleMatch
 _MultipleMatch <|-- OneOrMore
 _MultipleMatch <|-- ZeroOrMore
+ParseElementEnhance <|-- DelimitedList
 ParseElementEnhance <|--- NotAny
 ParseElementEnhance <|--- FollowedBy
 ParseElementEnhance <|--- PrecededBy
 ParseElementEnhance <|-- Opt
 ParseElementEnhance <|--- TokenConverter
 ParseElementEnhance <|-- AtStringStart
 ParseElementEnhance <|-- AtLineStart
```

### Comparing `pyparsing-3.1.0b1/docs/whats_new_in_3_0_0.rst` & `pyparsing-3.1.0b2/docs/whats_new_in_3_0_0.rst`

 * *Files 1% similar despite different names*

```diff
@@ -402,15 +402,15 @@
 
 Other new features
 ------------------
 - ``url`` expression added to ``pyparsing_common``, with named fields for
   common fields in URLs. See the updated ``urlExtractorNew.py`` file in the
   ``examples`` directory. Submitted by Wolfgang Fahl.
 
-- ``delimited_list`` now supports an additional flag ``allow_trailing_delim``,
+- ``DelimitedList`` now supports an additional flag ``allow_trailing_delim``,
   to optionally parse an additional delimiter at the end of the list.
   Submitted by Kazantcev Andrey.
 
 - Added global method ``autoname_elements()`` to call ``set_name()`` on all locally
   defined ``ParserElements`` that haven't been explicitly named using ``set_name()``, using
   their local variable name. Useful for setting names on multiple elements when
   creating a railroad diagram::
@@ -671,15 +671,16 @@
 c_style_comment                 cStyleComment
 common_html_entity              commonHTMLEntity
 condition_as_parse_action       conditionAsParseAction
 counted_array                   countedArray
 cpp_style_comment               cppStyleComment
 dbl_quoted_string               dblQuotedString
 dbl_slash_comment               dblSlashComment
-delimited_list                  delimitedList
+DelimitedList                   delimitedList
+DelimitedList                   delimited_list
 dict_of                         dictOf
 html_comment                    htmlComment
 infix_notation                  infixNotation
 java_style_comment              javaStyleComment
 line_end                        lineEnd
 line_start                      lineStart
 make_html_tags                  makeHTMLTags
```

#### html2text {}

```diff
@@ -188,15 +188,15 @@
 examples (``lua_parser.py``). - Demonstration of defining a custom Unicode set
 for cuneiform symbols, as well as simple Cuneiform->Python conversion is
 included in ``cuneiform_python.py``. - Fixed bug in ``delta_time.py`` example,
 when using a quantity of seconds/minutes/hours/days > 999. Other new features -
 ----------------- - ``url`` expression added to ``pyparsing_common``, with
 named fields for common fields in URLs. See the updated ``urlExtractorNew.py``
 file in the ``examples`` directory. Submitted by Wolfgang Fahl. -
-``delimited_list`` now supports an additional flag ``allow_trailing_delim``, to
+``DelimitedList`` now supports an additional flag ``allow_trailing_delim``, to
 optionally parse an additional delimiter at the end of the list. Submitted by
 Kazantcev Andrey. - Added global method ``autoname_elements()`` to call
 ``set_name()`` on all locally defined ``ParserElements`` that haven't been
 explicitly named using ``set_name()``, using their local variable name. Useful
 for setting names on multiple elements when creating a railroad diagram:: a =
 pp.Literal("a") b = pp.Literal("b").set_name("bbb") pp.autoname_elements()
 ``a`` will get named "a", while ``b`` will keep its name "bbb". - Enhanced
@@ -310,36 +310,37 @@
 set_whitespace_chars setWhitespaceChars - transform_string transformString -
 try_parse tryParse ParseResults - as_list asList - as_dict asDict - get_name
 getName ParseBaseException - parser_element parserElement any_open_tag
 anyOpenTag any_close_tag anyCloseTag c_style_comment cStyleComment
 common_html_entity commonHTMLEntity condition_as_parse_action
 conditionAsParseAction counted_array countedArray cpp_style_comment
 cppStyleComment dbl_quoted_string dblQuotedString dbl_slash_comment
-dblSlashComment delimited_list delimitedList dict_of dictOf html_comment
-htmlComment infix_notation infixNotation java_style_comment javaStyleComment
-line_end lineEnd line_start lineStart make_html_tags makeHTMLTags make_xml_tags
-makeXMLTags match_only_at_col matchOnlyAtCol match_previous_expr
-matchPreviousExpr match_previous_literal matchPreviousLiteral nested_expr
-nestedExpr null_debug_action nullDebugAction one_of oneOf OpAssoc opAssoc
-original_text_for originalTextFor python_style_comment pythonStyleComment
-quoted_string quotedString remove_quotes removeQuotes replace_html_entity
-replaceHTMLEntity replace_with replaceWith rest_of_line restOfLine
-sgl_quoted_string sglQuotedString string_end stringEnd string_start stringStart
-token_map tokenMap trace_parse_action traceParseAction unicode_string
-unicodeString with_attribute withAttribute with_class withClass
-============================== ================================ Discontinued
-Features ===================== Python 2.x no longer supported -----------------
-------------- Removed Py2.x support and other deprecated features. Pyparsing
-now requires Python 3.6.8 or later. If you are using an earlier version of
-Python, you must use a Pyparsing 2.4.x version. Other discontinued features ---
------------------------- - ``ParseResults.asXML()`` - if used for debugging,
-switch to using ``ParseResults.dump()``; if used for data transfer, use
-``ParseResults.as_dict()`` to convert to a nested Python dict, which can then
-be converted to XML or JSON or other transfer format - ``operatorPrecedence``
-synonym for ``infixNotation`` - convert to calling ``infix_notation`` -
+dblSlashComment DelimitedList delimitedList DelimitedList delimited_list
+dict_of dictOf html_comment htmlComment infix_notation infixNotation
+java_style_comment javaStyleComment line_end lineEnd line_start lineStart
+make_html_tags makeHTMLTags make_xml_tags makeXMLTags match_only_at_col
+matchOnlyAtCol match_previous_expr matchPreviousExpr match_previous_literal
+matchPreviousLiteral nested_expr nestedExpr null_debug_action nullDebugAction
+one_of oneOf OpAssoc opAssoc original_text_for originalTextFor
+python_style_comment pythonStyleComment quoted_string quotedString
+remove_quotes removeQuotes replace_html_entity replaceHTMLEntity replace_with
+replaceWith rest_of_line restOfLine sgl_quoted_string sglQuotedString
+string_end stringEnd string_start stringStart token_map tokenMap
+trace_parse_action traceParseAction unicode_string unicodeString with_attribute
+withAttribute with_class withClass ==============================
+================================ Discontinued Features =====================
+Python 2.x no longer supported ------------------------------ Removed Py2.x
+support and other deprecated features. Pyparsing now requires Python 3.6.8 or
+later. If you are using an earlier version of Python, you must use a Pyparsing
+2.4.x version. Other discontinued features --------------------------- -
+``ParseResults.asXML()`` - if used for debugging, switch to using
+``ParseResults.dump()``; if used for data transfer, use ``ParseResults.as_dict
+()`` to convert to a nested Python dict, which can then be converted to XML or
+JSON or other transfer format - ``operatorPrecedence`` synonym for
+``infixNotation`` - convert to calling ``infix_notation`` -
 ``commaSeparatedList`` - convert to using
 ``pyparsing_common.comma_separated_list`` - ``upcaseTokens`` and
 ``downcaseTokens`` - convert to using ``pyparsing_common.upcase_tokens`` and
 ``downcase_tokens`` - ``__compat__.collect_all_And_tokens`` will not be
 settable to ``False`` to revert to pre-2.3.1 results name behavior - review use
 of names for ``MatchFirst`` and Or expressions containing ``And`` expressions,
 as they will return the complete list of parsed tokens, not just the first one.
```

### Comparing `pyparsing-3.1.0b1/examples/0README.html` & `pyparsing-3.1.0b2/examples/0README.html`

 * *Files 3% similar despite different names*

```diff
@@ -17,20 +17,20 @@
 <p>
 
 <li><a href="greetingInGreek.py">greetingInGreek.py</a> <i>~ submission by ???</i><br>
 Unicode example to parse "Hello, World!" in Greek.
 </li>
 <p>
 
-<li><a href="holaMundo.py">holaMundo.py</a> <i>~ submission by Marco Alfonso</i><br>
+<li><a href="hola_mundo.py">hola_mundo.py</a> <i>~ submission by Marco Alfonso</i><br>
 "Hello, World!" example translated to Spanish, from Marco Alfonso's blog.
 </li>
 <p>
 
-<li><a href="chemicalFormulas.py">chemicalFormulas.py</a><br>
+<li><a href="chemical_formulas.py">chemical_formulas.py</a><br>
 Simple example to demonstrate the use of ParseResults returned from parseString().
 Parses a chemical formula (such as "H2O" or "C6H5OH"), and walks the returned list of tokens to calculate the molecular weight.
 </li>
 <p>
 
 <li><a href="wordsToNum.py">wordsToNum.py</a><br>
 A sample program that reads a number in words (such as "fifteen hundred and sixty four"), and returns the actual number (1564).
@@ -241,42 +241,37 @@
 
 <li><a href="stackish.py">stackish.py</a><br>
 A parser for the data representation format, Stackish.
 </li>
 <p>
 
 <li><a href="builtin_parse_action_demo.py">builtin_parse_action_demo.py</a><br>
-<b>New in version 1.5.7</b><br>
 Demonstration of using builtins (min, max, sum, len, etc.) as parse actions.
 </li>
 <p>
 
 <li><a href="antlr_grammar.py">antlr_grammar.py</a><i>~ submission by Luca DellOlio</i><br>
-<b>New in version 1.5.7</b><br>
 Pyparsing example parsing ANTLR .a files and generating a working pyparsing parser.
 </li>
 <p>
 
 <li><a href="shapes.py">shapes.py</a><br>
-<b>New in version 1.5.7</b><br>
 Parse actions example simple shape definition syntax, and returning the matched tokens as
 domain objects instead of just strings.
 </li>
 <p>
 
 <li><a href="datetimeParseActions.py">datetimeParseActions.py</a><br>
-<b>New in version 1.5.7</b><br>
 Parse actions example showing a parse action returning a datetime object instead of
 string tokens, and doing validation of the tokens, raising a ParseException if the
 given YYYY/MM/DD string does not represent a valid date.
 </li>
 <p>
 
 <li><a href="position.py">position.py</a><br>
-<b>New in version 1.5.7</b><br>
 Demonstration of a couple of different ways to capture the location a particular
 expression was found within the overall input string.
 </li>
 <p>
 
 
 </ul>
```

#### html2text {}

```diff
@@ -3,17 +3,17 @@
 learning to use pyparsing.
     * greeting.py
       Parse "Hello, World!".
     * greetingInKorean.py ~ submission by June Kim
       Unicode example to parse "Hello, World!" in Korean.
     * greetingInGreek.py ~ submission by ???
       Unicode example to parse "Hello, World!" in Greek.
-    * holaMundo.py ~ submission by Marco Alfonso
+    * hola_mundo.py ~ submission by Marco Alfonso
       "Hello, World!" example translated to Spanish, from Marco Alfonso's blog.
-    * chemicalFormulas.py
+    * chemical_formulas.py
       Simple example to demonstrate the use of ParseResults returned from
       parseString(). Parses a chemical formula (such as "H2O" or "C6H5OH"), and
       walks the returned list of tokens to calculate the molecular weight.
     * wordsToNum.py
       A sample program that reads a number in words (such as "fifteen hundred
       and sixty four"), and returns the actual number (1564). Also demonstrates
       some processing of ParseExceptions, including marking where the parse
@@ -139,28 +139,23 @@
     * withAttribute.py
       An example using withAttribute, a helper method to define parse actions
       to validate matched HTML tags using additional attributes. Especially
       helpful for matching common tags such as <DIV> and <TD>.
     * stackish.py
       A parser for the data representation format, Stackish.
     * builtin_parse_action_demo.py
-      New in version 1.5.7
       Demonstration of using builtins (min, max, sum, len, etc.) as parse
       actions.
     * antlr_grammar.py~ submission by Luca DellOlio
-      New in version 1.5.7
       Pyparsing example parsing ANTLR .a files and generating a working
       pyparsing parser.
     * shapes.py
-      New in version 1.5.7
       Parse actions example simple shape definition syntax, and returning the
       matched tokens as domain objects instead of just strings.
     * datetimeParseActions.py
-      New in version 1.5.7
       Parse actions example showing a parse action returning a datetime object
       instead of string tokens, and doing validation of the tokens, raising a
       ParseException if the given YYYY/MM/DD string does not represent a valid
       date.
     * position.py
-      New in version 1.5.7
       Demonstration of a couple of different ways to capture the location a
       particular expression was found within the overall input string.
```

### Comparing `pyparsing-3.1.0b1/examples/AcManForm.dfm` & `pyparsing-3.1.0b2/examples/AcManForm.dfm`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/LAparser.py` & `pyparsing-3.1.0b2/examples/LAparser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/Setup.ini` & `pyparsing-3.1.0b2/examples/Setup.ini`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/SimpleCalc.py` & `pyparsing-3.1.0b2/examples/SimpleCalc.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/SingleForm.dfm` & `pyparsing-3.1.0b2/examples/SingleForm.dfm`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/TAP.py` & `pyparsing-3.1.0b2/examples/TAP.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/adventureEngine.py` & `pyparsing-3.1.0b2/examples/adventureEngine.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/antlr_grammar.py` & `pyparsing-3.1.0b2/examples/antlr_grammar.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/antlr_grammar_tests.py` & `pyparsing-3.1.0b2/examples/antlr_grammar_tests.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/apicheck.py` & `pyparsing-3.1.0b2/examples/apicheck.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/bigquery_view_parser.py` & `pyparsing-3.1.0b2/examples/bigquery_view_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/booleansearchparser.py` & `pyparsing-3.1.0b2/examples/booleansearchparser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/btpyparse.py` & `pyparsing-3.1.0b2/examples/btpyparse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/builtin_parse_action_demo.py` & `pyparsing-3.1.0b2/examples/builtin_parse_action_demo.py`

 * *Files 22% similar despite different names*

```diff
@@ -1,29 +1,27 @@
 #
 #  builtin_parse_action_demo.py
 #  Copyright, 2012 - Paul McGuire
 #
 #  Simple example of using builtin functions as parse actions.
 #
 
-from pyparsing import *
-
-integer = Word(nums).setParseAction(lambda t: int(t[0]))
+import pyparsing as pp
+ppc = pp.common
 
 # make an expression that will match a list of ints (which
 # will be converted to actual ints by the parse action attached
 # to integer)
-nums = OneOrMore(integer)
+nums = ppc.integer[...]
 
 
 test = "2 54 34 2 211 66 43 2 0"
 print(test)
 
 # try each of these builtins as parse actions
 for fn in (sum, max, min, len, sorted, reversed, list, tuple, set, any, all):
-    fn_name = fn.__name__
     if fn is reversed:
         # reversed returns an iterator, we really want to show the list of items
         fn = lambda x: list(reversed(x))
 
     # show how each builtin works as a free-standing parse action
-    print(fn_name, nums.setParseAction(fn).parseString(test))
+    print(fn.__name__, nums.set_parse_action(fn).parse_string(test))
```

### Comparing `pyparsing-3.1.0b1/examples/cLibHeader.py` & `pyparsing-3.1.0b2/examples/cLibHeader.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/chemicalFormulas.py` & `pyparsing-3.1.0b2/examples/chemical_formulas.py`

 * *Files 17% similar despite different names*

```diff
@@ -1,121 +1,119 @@
-#
-# chemicalFormulas.py
-#
-# Copyright (c) 2003,2019 Paul McGuire
-#
-
-import pyparsing as pp
-
-atomicWeight = {
-    "O": 15.9994,
-    "H": 1.00794,
-    "Na": 22.9897,
-    "Cl": 35.4527,
-    "C": 12.0107,
-}
-
-digits = "0123456789"
-
-# Version 1
-element = pp.Word(pp.alphas.upper(), pp.alphas.lower(), max=2).set_name("element")
-# for stricter matching, use this Regex instead
-# element = Regex("A[cglmrstu]|B[aehikr]?|C[adeflmorsu]?|D[bsy]|"
-#                 "E[rsu]|F[emr]?|G[ade]|H[efgos]?|I[nr]?|Kr?|L[airu]|"
-#                 "M[dgnot]|N[abdeiop]?|Os?|P[abdmortu]?|R[abefghnu]|"
-#                 "S[bcegimnr]?|T[abcehilm]|U(u[bhopqst])?|V|W|Xe|Yb?|Z[nr]")
-elementRef = pp.Group(element + pp.Opt(pp.Word(digits), default="1"))
-formula = elementRef[...]
-
-
-def sum_atomic_weights(element_list):
-    return sum(atomicWeight[elem] * int(qty) for elem, qty in element_list)
-
-
-formula.runTests(
-    """\
-    H2O
-    C6H5OH
-    NaCl
-    """,
-    fullDump=False,
-    postParse=lambda _, tokens: "Molecular weight: {}".format(
-        sum_atomic_weights(tokens)
-    ),
-)
-print()
-
-# Version 2 - access parsed items by results name
-elementRef = pp.Group(
-    element("symbol") + pp.Opt(pp.Word(digits), default="1")("qty")
-)
-formula = elementRef[...]
-
-
-def sum_atomic_weights_by_results_name(element_list):
-    return sum(atomicWeight[elem.symbol] * int(elem.qty) for elem in element_list)
-
-
-formula.runTests(
-    """\
-    H2O
-    C6H5OH
-    NaCl
-    """,
-    fullDump=False,
-    postParse=lambda _, tokens: "Molecular weight: {}".format(
-        sum_atomic_weights_by_results_name(tokens)
-    ),
-)
-print()
-
-# Version 3 - convert integers during parsing process
-integer = pp.Word(digits).add_parse_action(lambda t: int(t[0])).set_name("integer")
-elementRef = pp.Group(element("symbol") + pp.Opt(integer, default=1)("qty"))
-formula = elementRef[...].set_name("chemical_formula")
-
-
-def sum_atomic_weights_by_results_name_with_converted_ints(element_list):
-    return sum(atomicWeight[elem.symbol] * int(elem.qty) for elem in element_list)
-
-
-formula.runTests(
-    """\
-    H2O
-    C6H5OH
-    NaCl
-    """,
-    fullDump=False,
-    postParse=lambda _, tokens: "Molecular weight: {}".format(
-        sum_atomic_weights_by_results_name_with_converted_ints(tokens)
-    ),
-)
-print()
-
-# Version 4 - parse and convert integers as subscript digits
-subscript_digits = ""
-subscript_int_map = {e[1]: e[0] for e in enumerate(subscript_digits)}
-
-
-def cvt_subscript_int(s):
-    ret = 0
-    for c in s[0]:
-        ret = ret * 10 + subscript_int_map[c]
-    return ret
-
-
-subscript_int = pp.Word(subscript_digits).add_parse_action(cvt_subscript_int).set_name("subscript")
-
-elementRef = pp.Group(element("symbol") + pp.Opt(subscript_int, default=1)("qty"))
-formula = elementRef[1, ...].set_name("chemical_formula")
-formula.runTests(
-    """\
-    HO
-    CHOH
-    NaCl
-    """,
-    fullDump=False,
-    postParse=lambda _, tokens: "Molecular weight: {}".format(
-        sum_atomic_weights_by_results_name_with_converted_ints(tokens)
-    ),
-)
-print()
+#
+# chemicalFormulas.py
+#
+# Copyright (c) 2003,2019 Paul McGuire
+#
+
+import pyparsing as pp
+
+atomic_weight = {
+    "O": 15.9994,
+    "H": 1.00794,
+    "Na": 22.9897,
+    "Cl": 35.4527,
+    "C": 12.0107,
+}
+
+digits = "0123456789"
+
+# Version 1
+element = pp.Word(pp.alphas.upper(), pp.alphas.lower(), max=2).set_name("element")
+# for stricter matching, use this Regex instead
+# element = Regex("A[cglmrstu]|B[aehikr]?|C[adeflmorsu]?|D[bsy]|"
+#                 "E[rsu]|F[emr]?|G[ade]|H[efgos]?|I[nr]?|Kr?|L[airu]|"
+#                 "M[dgnot]|N[abdeiop]?|Os?|P[abdmortu]?|R[abefghnu]|"
+#                 "S[bcegimnr]?|T[abcehilm]|U(u[bhopqst])?|V|W|Xe|Yb?|Z[nr]")
+element_ref = pp.Group(element + pp.Opt(pp.Word(digits), default="1"))
+formula = element_ref[...]
+
+
+def sum_atomic_weights(element_list):
+    return sum(atomic_weight[elem] * int(qty) for elem, qty in element_list)
+
+
+formula.run_tests(
+    """\
+    H2O
+    C6H5OH
+    NaCl
+    """,
+    full_dump=False,
+    post_parse=lambda _, tokens: f"Molecular weight: {sum_atomic_weights(tokens)}",
+)
+print()
+
+
+# Version 2 - access parsed items by results name
+element_ref = pp.Group(
+    element("symbol") + pp.Opt(pp.Word(digits), default="1")("qty")
+)
+formula = element_ref[...]
+
+
+def sum_atomic_weights_by_results_name(element_list):
+    return sum(atomic_weight[elem.symbol] * int(elem.qty) for elem in element_list)
+
+
+formula.run_tests(
+    """\
+    H2O
+    C6H5OH
+    NaCl
+    """,
+    full_dump=False,
+    post_parse=lambda _, tokens:
+        f"Molecular weight: {sum_atomic_weights_by_results_name(tokens)}",
+)
+print()
+
+# Version 3 - convert integers during parsing process
+integer = pp.Word(digits).set_name("integer")
+integer.add_parse_action(lambda t: int(t[0]))
+element_ref = pp.Group(element("symbol") + pp.Opt(integer, default=1)("qty"))
+formula = element_ref[...].set_name("chemical_formula")
+
+
+def sum_atomic_weights_by_results_name_with_converted_ints(element_list):
+    return sum(atomic_weight[elem.symbol] * int(elem.qty) for elem in element_list)
+
+
+formula.run_tests(
+    """\
+    H2O
+    C6H5OH
+    NaCl
+    """,
+    full_dump=False,
+    post_parse=lambda _, tokens:
+        f"Molecular weight: {sum_atomic_weights_by_results_name_with_converted_ints(tokens)}",
+)
+print()
+
+# Version 4 - parse and convert integers as subscript digits
+subscript_digits = ""
+subscript_int_map = {e[1]: e[0] for e in enumerate(subscript_digits)}
+
+
+def cvt_subscript_int(s):
+    ret = 0
+    for c in s[0]:
+        ret = ret * 10 + subscript_int_map[c]
+    return ret
+
+
+subscript_int = pp.Word(subscript_digits).set_name("subscript")
+subscript_int.add_parse_action(cvt_subscript_int)
+
+element_ref = pp.Group(element("symbol") + pp.Opt(subscript_int, default=1)("qty"))
+formula = element_ref[1, ...].set_name("chemical_formula")
+formula.run_tests(
+    """\
+    HO
+    CHOH
+    NaCl
+    """,
+    full_dump=False,
+    post_parse=lambda _, tokens:
+        f"Molecular weight: {sum_atomic_weights_by_results_name_with_converted_ints(tokens)}",
+)
+print()
```

### Comparing `pyparsing-3.1.0b1/examples/commasep.py` & `pyparsing-3.1.0b2/examples/commasep.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/configParse.py` & `pyparsing-3.1.0b2/examples/configParse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/cpp_enum_parser.py` & `pyparsing-3.1.0b2/examples/cpp_enum_parser.py`

 * *Files 20% similar despite different names*

```diff
@@ -5,15 +5,15 @@
 # Used with permission.
 #
 # Parser that scans through C or C++ code for enum definitions, and
 # generates corresponding Python constant definitions.
 #
 #
 
-from pyparsing import *
+import pyparsing as pp
 
 # sample string with enums and other stuff
 sample = """
     stuff before
     enum hello {
         Zero,
         One,
@@ -31,23 +31,23 @@
         gamma = 10 ,
         zeta = 50
         };
     at the end
     """
 
 # syntax we don't want to see in the final parse tree
-LBRACE, RBRACE, EQ, COMMA = map(Suppress, "{}=,")
-_enum = Suppress("enum")
-identifier = Word(alphas, alphanums + "_")
-integer = Word(nums)
-enumValue = Group(identifier("name") + Optional(EQ + integer("value")))
-enumList = Group(enumValue + ZeroOrMore(COMMA + enumValue))
+LBRACE, RBRACE, EQ, COMMA = pp.Suppress.using_each("{}=,")
+_enum = pp.Suppress("enum")
+identifier = pp.Word(pp.alphas + "_", pp.alphanums + "_")
+integer = pp.Word(pp.nums)
+enumValue = pp.Group(identifier("name") + pp.Optional(EQ + integer("value")))
+enumList = pp.Group(enumValue + (COMMA + enumValue)[...])
 enum = _enum + identifier("enum") + LBRACE + enumList("names") + RBRACE
 
 # find instances of enums ignoring other syntax
-for item, start, stop in enum.scanString(sample):
-    id = 0
+for item, start, stop in enum.scan_string(sample):
+    idx = 0
     for entry in item.names:
         if entry.value != "":
-            id = int(entry.value)
-        print("%s_%s = %d" % (item.enum.upper(), entry.name.upper(), id))
-        id += 1
+            idx = int(entry.value)
+        print("%s_%s = %d" % (item.enum.upper(), entry.name.upper(), idx))
+        idx += 1
```

### Comparing `pyparsing-3.1.0b1/examples/cuneiform_python.py` & `pyparsing-3.1.0b2/examples/cuneiform_python.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/decaf_parser.py` & `pyparsing-3.1.0b2/examples/decaf_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/delta_time.py` & `pyparsing-3.1.0b2/examples/delta_time.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/dfmparse.py` & `pyparsing-3.1.0b2/examples/dfmparse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/dhcpd_leases_parser.py` & `pyparsing-3.1.0b2/examples/dhcpd_leases_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/dictExample.py` & `pyparsing-3.1.0b2/examples/dictExample.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/dictExample2.py` & `pyparsing-3.1.0b2/examples/dictExample2.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/ebnf.py` & `pyparsing-3.1.0b2/examples/ebnf.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/ebnftest.py` & `pyparsing-3.1.0b2/examples/ebnftest.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/eval_arith.py` & `pyparsing-3.1.0b2/examples/eval_arith.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/fourFn.py` & `pyparsing-3.1.0b2/examples/fourFn.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/gen_ctypes.py` & `pyparsing-3.1.0b2/examples/gen_ctypes.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/getNTPserversNew.py` & `pyparsing-3.1.0b2/examples/getNTPserversNew.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/greeting.py` & `pyparsing-3.1.0b2/examples/greeting.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/holaMundo.py` & `pyparsing-3.1.0b2/examples/hola_mundo.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,67 +1,66 @@
-# escrito por Marco Alfonso, 2004 Noviembre
-
-# importamos los smbolos requeridos desde el mdulo
-from pyparsing import (
-    Word,
-    alphas,
-    oneOf,
-    nums,
-    Group,
-    OneOrMore,
-    pyparsing_unicode as ppu,
-)
-
-# usamos las letras en latin1, que incluye las como '', '', '', etc.
-alphas = ppu.Latin1.alphas
-
-# Aqui decimos que la gramatica "saludo" DEBE contener
-# una palabra compuesta de caracteres alfanumericos
-# (Word(alphas)) mas una ',' mas otra palabra alfanumerica,
-# mas '!' y esos seian nuestros tokens
-saludo = Word(alphas) + "," + Word(alphas) + oneOf("! . ?")
-tokens = saludo.parseString("Hola, Mundo !")
-
-# Ahora parseamos una cadena, "Hola, Mundo!",
-# el metodo parseString, nos devuelve una lista con los tokens
-# encontrados, en caso de no haber errores...
-for i, token in enumerate(tokens):
-    print("Token %d -> %s" % (i, token))
-
-# imprimimos cada uno de los tokens Y listooo!!, he aqu a salida
-# Token 0 -> Hola
-# Token 1 -> ,
-# Token 2-> Mundo
-# Token 3 -> !
-
-# ahora cambia el parseador, aceptando saludos con mas que una sola palabra antes que ','
-saludo = Group(OneOrMore(Word(alphas))) + "," + Word(alphas) + oneOf("! . ?")
-tokens = saludo.parseString("Hasta maana, Mundo !")
-
-for i, token in enumerate(tokens):
-    print("Token %d -> %s" % (i, token))
-
-# Ahora parseamos algunas cadenas, usando el metodo runTests
-saludo.runTests(
-    """\
-    Hola, Mundo!
-    Hasta maana, Mundo !
-""",
-    fullDump=False,
-)
-
-# Por supuesto, se pueden "reutilizar" gramticas, por ejemplo:
-numimag = Word(nums) + "i"
-numreal = Word(nums)
-numcomplex = numreal + "+" + numimag
-print(numcomplex.parseString("3+5i"))
-
-# Funcion para cambiar a complejo numero durante parsear:
-def hace_python_complejo(t):
-    valid_python = "".join(t).replace("i", "j")
-    return complex(valid_python)
-
-
-numcomplex.setParseAction(hace_python_complejo)
-print(numcomplex.parseString("3+5i"))
-
-# Excelente!!, bueno, los dejo, me voy a seguir tirando cdigo...
+# escrito por Marco Alfonso, 2004 Noviembre
+
+# importamos los smbolos requeridos desde el mdulo
+from pyparsing import (
+    Word,
+    one_of,
+    nums,
+    Group,
+    OneOrMore,
+    pyparsing_unicode as ppu,
+)
+
+# usamos las letras en latin1, que incluye las como '', '', '', etc.
+alphas = ppu.Latin1.alphas
+
+# Aqui decimos que la gramatica "saludo" DEBE contener
+# una palabra compuesta de caracteres alfanumericos
+# (Word(alphas)) mas una ',' mas otra palabra alfanumerica,
+# mas '!' y esos seian nuestros tokens
+saludo = Word(alphas) + "," + Word(alphas) + one_of("! . ?")
+tokens = saludo.parse_string("Hola, Mundo !")
+
+# Ahora parseamos una cadena, "Hola, Mundo!",
+# el metodo parseString, nos devuelve una lista con los tokens
+# encontrados, en caso de no haber errores...
+for i, token in enumerate(tokens):
+    print("Token %d -> %s" % (i, token))
+
+# imprimimos cada uno de los tokens Y listooo!!, he aqu a salida
+# Token 0 -> Hola
+# Token 1 -> ,
+# Token 2-> Mundo
+# Token 3 -> !
+
+# ahora cambia el parseador, aceptando saludos con mas que una sola palabra antes que ','
+saludo = Group(OneOrMore(Word(alphas))) + "," + Word(alphas) + one_of("! . ?")
+tokens = saludo.parse_string("Hasta maana, Mundo !")
+
+for i, token in enumerate(tokens):
+    print("Token %d -> %s" % (i, token))
+
+# Ahora parseamos algunas cadenas, usando el metodo runTests
+saludo.run_tests(
+    """\
+    Hola, Mundo!
+    Hasta maana, Mundo !
+""",
+    fullDump=False,
+)
+
+# Por supuesto, se pueden "reutilizar" gramticas, por ejemplo:
+numimag = Word(nums) + "i"
+numreal = Word(nums)
+numcomplex = numreal + "+" + numimag
+print(numcomplex.parse_string("3+5i"))
+
+# Funcion para cambiar a complejo numero durante parsear:
+def hace_python_complejo(t):
+    valid_python = "".join(t).replace("i", "j")
+    return complex(valid_python)
+
+
+numcomplex.set_parse_action(hace_python_complejo)
+print(numcomplex.parse_string("3+5i"))
+
+# Excelente!!, bueno, los dejo, me voy a seguir tirando cdigo...
```

### Comparing `pyparsing-3.1.0b1/examples/htmlStripper.py` & `pyparsing-3.1.0b2/examples/htmlStripper.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/htmlTableParser.py` & `pyparsing-3.1.0b2/examples/htmlTableParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/httpServerLogParser.py` & `pyparsing-3.1.0b2/examples/httpServerLogParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/idlParse.py` & `pyparsing-3.1.0b2/examples/idlParse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/include_preprocessor.py` & `pyparsing-3.1.0b2/examples/include_preprocessor.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/indentedGrammarExample.py` & `pyparsing-3.1.0b2/examples/indentedGrammarExample.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/indented_block_example.py` & `pyparsing-3.1.0b2/examples/indented_block_example.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/inv_regex.py` & `pyparsing-3.1.0b2/examples/inv_regex.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/javascript_grammar.g` & `pyparsing-3.1.0b2/examples/javascript_grammar.g`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/jsonParser.py` & `pyparsing-3.1.0b2/examples/jsonParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/left_recursion.py` & `pyparsing-3.1.0b2/examples/left_recursion.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/linenoExample.py` & `pyparsing-3.1.0b2/examples/linenoExample.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/listAllMatches.py` & `pyparsing-3.1.0b2/examples/listAllMatches.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/lua_parser.py` & `pyparsing-3.1.0b2/examples/lua_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/lucene_grammar.py` & `pyparsing-3.1.0b2/examples/lucene_grammar.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/macroExpander.py` & `pyparsing-3.1.0b2/examples/macroExpander.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/make_diagram.py` & `pyparsing-3.1.0b2/examples/make_diagram.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/matchPreviousDemo.py` & `pyparsing-3.1.0b2/examples/matchPreviousDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/mozilla.ics` & `pyparsing-3.1.0b2/examples/mozilla.ics`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/mozillaCalendarParser.py` & `pyparsing-3.1.0b2/examples/mozillaCalendarParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/nested.py` & `pyparsing-3.1.0b2/examples/nested.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/nested_markup.py` & `pyparsing-3.1.0b2/examples/nested_markup.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/number_words.py` & `pyparsing-3.1.0b2/examples/number_words.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/numerics.py` & `pyparsing-3.1.0b2/examples/numerics.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/oc.py` & `pyparsing-3.1.0b2/examples/oc.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/one_to_ninety_nine.py` & `pyparsing-3.1.0b2/examples/one_to_ninety_nine.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/parsePythonValue.py` & `pyparsing-3.1.0b2/examples/parse_python_value.py`

 * *Files 20% similar despite different names*

```diff
@@ -5,65 +5,76 @@
 import pyparsing as pp
 
 
 cvtBool = lambda t: t[0] == "True"
 cvtInt = lambda toks: int(toks[0])
 cvtReal = lambda toks: float(toks[0])
 cvtTuple = lambda toks: tuple(toks.as_list())
+cvtSet = lambda toks: set(toks.as_list())
 cvtDict = lambda toks: dict(toks.as_list())
 cvtList = lambda toks: [toks.as_list()]
 
 # define punctuation as suppressed literals
 lparen, rparen, lbrack, rbrack, lbrace, rbrace, colon, comma = pp.Suppress.using_each("()[]{}:,")
 
 integer = pp.Regex(r"[+-]?\d+").set_name("integer").add_parse_action(cvtInt)
 real = pp.Regex(r"[+-]?\d+\.\d*([Ee][+-]?\d+)?").set_name("real").add_parse_action(cvtReal)
-tupleStr = pp.Forward().set_name("tuple_expr")
-listStr = pp.Forward().set_name("list_expr")
-dictStr = pp.Forward().set_name("dict_expr")
+tuple_str = pp.Forward().set_name("tuple_expr")
+list_str = pp.Forward().set_name("list_expr")
+set_str = pp.Forward().set_name("set_expr")
+dict_str = pp.Forward().set_name("dict_expr")
 
 unistr = pp.unicodeString().add_parse_action(lambda t: t[0][2:-1])
 quoted_str = pp.quotedString().add_parse_action(lambda t: t[0][1:-1])
-boolLiteral = pp.oneOf("True False", as_keyword=True).add_parse_action(cvtBool)
-noneLiteral = pp.Keyword("None").add_parse_action(pp.replace_with(None))
+bool_literal = pp.oneOf("True False", as_keyword=True).add_parse_action(cvtBool)
+none_literal = pp.Keyword("None").add_parse_action(pp.replace_with(None))
 
-listItem = (
+list_item = (
     real
     | integer
     | quoted_str
     | unistr
-    | boolLiteral
-    | noneLiteral
-    | pp.Group(listStr)
-    | tupleStr
-    | dictStr
+    | bool_literal
+    | none_literal
+    | pp.Group(list_str)
+    | tuple_str
+    | set_str
+    | dict_str
 ).set_name("list_item")
 
-tupleStr <<= (
-    lparen + pp.Opt(pp.DelimitedList(listItem, allow_trailing_delim=True)) + rparen
+tuple_str <<= (
+    lparen + pp.Opt(pp.DelimitedList(list_item, allow_trailing_delim=True)) + rparen
 )
-tupleStr.add_parse_action(cvtTuple)
+tuple_str.add_parse_action(cvtTuple)
 
-listStr <<= (
-    lbrack + pp.Opt(pp.DelimitedList(listItem, allow_trailing_delim=True)) + rbrack
+set_str <<= (
+    lbrace + pp.DelimitedList(list_item, allow_trailing_delim=True) + rbrace
 )
-listStr.add_parse_action(cvtList, lambda t: t[0])
+set_str.add_parse_action(cvtSet)
 
-dictEntry = pp.Group(listItem + colon + listItem).set_name("dict_entry")
-dictStr <<= (
-    lbrace + pp.Opt(pp.DelimitedList(dictEntry, allow_trailing_delim=True)) + rbrace
+list_str <<= (
+    lbrack + pp.Opt(pp.DelimitedList(list_item, allow_trailing_delim=True)) + rbrack
 )
-dictStr.add_parse_action(cvtDict)
+list_str.add_parse_action(cvtList, lambda t: t[0])
+
+dict_entry = pp.Group(list_item + colon + list_item).set_name("dict_entry")
+dict_str <<= (
+    lbrace + pp.Opt(pp.DelimitedList(dict_entry, allow_trailing_delim=True)) + rbrace
+)
+dict_str.add_parse_action(cvtDict)
 
 if __name__ == "__main__":
 
     tests = """['a', 100, ('A', [101,102]), 3.14, [ +2.718, 'xyzzy', -1.414] ]
                [{0: [2], 1: []}, {0: [], 1: [], 2: []}, {0: [1, 2]}]
                { 'A':1, 'B':2, 'C': {'a': 1.2, 'b': 3.4} }
+               { 1, 2, 11, "blah" }
+               { 'A':1, 'B':2, 'C': {'a', 1.2, 'b', 3.4} }
                3.14159
                42
                6.02E23
                6.02e+023
                1.0e-7
                'a quoted string'"""
 
-    listItem.runTests(tests)
+    list_item.run_tests(tests)
+    list_item.create_diagram("parse_python_value.html")
```

### Comparing `pyparsing-3.1.0b1/examples/parseTabularData.py` & `pyparsing-3.1.0b2/examples/parseTabularData.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/partial_gene_match.py` & `pyparsing-3.1.0b2/examples/partial_gene_match.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/pgn.py` & `pyparsing-3.1.0b2/examples/pgn.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/position.py` & `pyparsing-3.1.0b2/examples/position.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/protobuf_parser.py` & `pyparsing-3.1.0b2/examples/protobuf_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/pythonGrammarParser.py` & `pyparsing-3.1.0b2/examples/pythonGrammarParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/railroad_diagram_demo.py` & `pyparsing-3.1.0b2/examples/railroad_diagram_demo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/readJson.py` & `pyparsing-3.1.0b2/examples/readJson.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/removeLineBreaks.py` & `pyparsing-3.1.0b2/examples/removeLineBreaks.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/romanNumerals.py` & `pyparsing-3.1.0b2/examples/romanNumerals.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/rosettacode.py` & `pyparsing-3.1.0b2/examples/rosettacode.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/scanExamples.py` & `pyparsing-3.1.0b2/examples/scanExamples.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/searchParserAppDemo.py` & `pyparsing-3.1.0b2/examples/searchParserAppDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/searchparser.py` & `pyparsing-3.1.0b2/examples/searchparser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/select_parser.py` & `pyparsing-3.1.0b2/examples/select_parser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/sexpParser.py` & `pyparsing-3.1.0b2/examples/sexpParser.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/shapes.py` & `pyparsing-3.1.0b2/examples/shapes.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/simpleArith.py` & `pyparsing-3.1.0b2/examples/simpleArith.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/simpleBool.py` & `pyparsing-3.1.0b2/examples/simpleBool.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/simpleSQL.py` & `pyparsing-3.1.0b2/examples/simpleSQL.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/simpleWiki.py` & `pyparsing-3.1.0b2/examples/simpleWiki.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/snmp_api.h` & `pyparsing-3.1.0b2/examples/snmp_api.h`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/sql2dot.py` & `pyparsing-3.1.0b2/examples/sql2dot.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/stackish.py` & `pyparsing-3.1.0b2/examples/stackish.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/statemachine/documentSignoffDemo.py` & `pyparsing-3.1.0b2/examples/statemachine/documentSignoffDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/statemachine/documentsignoffstate.pystate` & `pyparsing-3.1.0b2/examples/statemachine/documentsignoffstate.pystate`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/statemachine/libraryBookDemo.py` & `pyparsing-3.1.0b2/examples/statemachine/libraryBookDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/statemachine/librarybookstate.pystate` & `pyparsing-3.1.0b2/examples/statemachine/librarybookstate.pystate`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/statemachine/statemachine.py` & `pyparsing-3.1.0b2/examples/statemachine/statemachine.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/statemachine/trafficLightDemo.py` & `pyparsing-3.1.0b2/examples/statemachine/trafficLightDemo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/statemachine/trafficlightstate.pystate` & `pyparsing-3.1.0b2/examples/statemachine/trafficlightstate.pystate`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/statemachine/vending_machine.py` & `pyparsing-3.1.0b2/examples/statemachine/vending_machine.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/statemachine/video_demo.py` & `pyparsing-3.1.0b2/examples/statemachine/video_demo.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/statemachine/videostate.pystate` & `pyparsing-3.1.0b2/examples/statemachine/videostate.pystate`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/test_bibparse.py` & `pyparsing-3.1.0b2/examples/test_bibparse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/urlExtractor.py` & `pyparsing-3.1.0b2/examples/urlExtractor.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/urlExtractorNew.py` & `pyparsing-3.1.0b2/examples/urlExtractorNew.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/verilog_parse.py` & `pyparsing-3.1.0b2/examples/verilog_parse.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/withAttribute.py` & `pyparsing-3.1.0b2/examples/withAttribute.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/examples/wordsToNum.py` & `pyparsing-3.1.0b2/examples/wordsToNum.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/pyparsing/__init__.py` & `pyparsing-3.1.0b2/pyparsing/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -84,15 +84,15 @@
  - use :class:`'+'<And>`, :class:`'|'<MatchFirst>`, :class:`'^'<Or>`,
    and :class:`'&'<Each>` operators to combine simple expressions into
    more complex ones
  - associate names with your parsed results using
    :class:`ParserElement.set_results_name`
  - access the parsed data, which is returned as a :class:`ParseResults`
    object
- - find some helpful expression short-cuts like :class:`delimited_list`
+ - find some helpful expression short-cuts like :class:`DelimitedList`
    and :class:`one_of`
  - find more useful common expressions in the :class:`pyparsing_common`
    namespace class
 """
 from typing import NamedTuple
 
 
@@ -116,16 +116,16 @@
     def __str__(self):
         return f"{__name__} {self.__version__} / {__version_time__}"
 
     def __repr__(self):
         return f"{__name__}.{type(self).__name__}({', '.join('{}={!r}'.format(*nv) for nv in zip(self._fields, self))})"
 
 
-__version_info__ = version_info(3, 1, 0, "beta", 1)
-__version_time__ = "08 Apr 2023 05:16 UTC"
+__version_info__ = version_info(3, 1, 0, "beta", 2)
+__version_time__ = "20 May 2023 02:03 UTC"
 __version__ = __version_info__.__version__
 __versionTime__ = __version_time__
 __author__ = "Paul McGuire <ptmcg.gm+pyparsing@gmail.com>"
 
 from .util import *
 from .exceptions import *
 from .actions import *
```

### Comparing `pyparsing-3.1.0b1/pyparsing/actions.py` & `pyparsing-3.1.0b2/pyparsing/actions.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/pyparsing/common.py` & `pyparsing-3.1.0b2/pyparsing/common.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 # common.py
 from .core import *
-from .helpers import delimited_list, any_open_tag, any_close_tag
+from .helpers import DelimitedList, any_open_tag, any_close_tag
 from datetime import datetime
 
 
 # some other useful expressions - using lower-case class name since we are really using this as a namespace
 class pyparsing_common:
     """Here are some common low-level expressions that may be useful in
     jump-starting parser development:
@@ -344,15 +344,15 @@
                 + Word(printables, exclude_chars=",")
                 + Opt(White(" \t") + ~FollowedBy(LineEnd() | ","))
             )
         )
         .streamline()
         .set_name("commaItem")
     )
-    comma_separated_list = delimited_list(
+    comma_separated_list = DelimitedList(
         Opt(quoted_string.copy() | _commasepitem, default="")
     ).set_name("comma separated list")
     """Predefined expression of 1 or more printable words or quoted strings, separated by commas."""
 
     upcase_tokens = staticmethod(token_map(lambda t: t.upper()))
     """Parse action to convert tokens to upper case."""
```

### Comparing `pyparsing-3.1.0b1/pyparsing/core.py` & `pyparsing-3.1.0b2/pyparsing/core.py`

 * *Files 1% similar despite different names*

```diff
@@ -2133,11883 +2133,11897 @@
 00008540: 672c 2074 6f6b 656e 735f 7374 6172 742c  g, tokens_start,
 00008550: 206c 6f63 2c20 7365 6c66 2c20 7265 745f   loc, self, ret_
 00008560: 746f 6b65 6e73 2c20 4661 6c73 650a 2020  tokens, False.  
 00008570: 2020 2020 2020 2020 2020 2020 2020 290a                ).
 00008580: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
 00008590: 6c6f 632c 2072 6574 5f74 6f6b 656e 730a  loc, ret_tokens.
 000085a0: 0a20 2020 2064 6566 2074 7279 5f70 6172  .    def try_par
-000085b0: 7365 2873 656c 662c 2069 6e73 7472 696e  se(self, instrin
-000085c0: 673a 2073 7472 2c20 6c6f 633a 2069 6e74  g: str, loc: int
-000085d0: 2c20 7261 6973 655f 6661 7461 6c3a 2062  , raise_fatal: b
-000085e0: 6f6f 6c20 3d20 4661 6c73 6529 202d 3e20  ool = False) -> 
-000085f0: 696e 743a 0a20 2020 2020 2020 2074 7279  int:.        try
-00008600: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00008610: 7475 726e 2073 656c 662e 5f70 6172 7365  turn self._parse
-00008620: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-00008630: 646f 4163 7469 6f6e 733d 4661 6c73 6529  doActions=False)
-00008640: 5b30 5d0a 2020 2020 2020 2020 6578 6365  [0].        exce
-00008650: 7074 2050 6172 7365 4661 7461 6c45 7863  pt ParseFatalExc
-00008660: 6570 7469 6f6e 3a0a 2020 2020 2020 2020  eption:.        
-00008670: 2020 2020 6966 2072 6169 7365 5f66 6174      if raise_fat
-00008680: 616c 3a0a 2020 2020 2020 2020 2020 2020  al:.            
-00008690: 2020 2020 7261 6973 650a 2020 2020 2020      raise.      
-000086a0: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
-000086b0: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
-000086c0: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
-000086d0: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
-000086e0: 2020 6465 6620 6361 6e5f 7061 7273 655f    def can_parse_
-000086f0: 6e65 7874 2873 656c 662c 2069 6e73 7472  next(self, instr
-00008700: 696e 673a 2073 7472 2c20 6c6f 633a 2069  ing: str, loc: i
-00008710: 6e74 2920 2d3e 2062 6f6f 6c3a 0a20 2020  nt) -> bool:.   
-00008720: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00008730: 2020 2020 2020 7365 6c66 2e74 7279 5f70        self.try_p
-00008740: 6172 7365 2869 6e73 7472 696e 672c 206c  arse(instring, l
-00008750: 6f63 290a 2020 2020 2020 2020 6578 6365  oc).        exce
-00008760: 7074 2028 5061 7273 6545 7863 6570 7469  pt (ParseExcepti
-00008770: 6f6e 2c20 496e 6465 7845 7272 6f72 293a  on, IndexError):
-00008780: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00008790: 7572 6e20 4661 6c73 650a 2020 2020 2020  urn False.      
-000087a0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000087b0: 2020 2020 7265 7475 726e 2054 7275 650a      return True.
-000087c0: 0a20 2020 2023 2063 6163 6865 2066 6f72  .    # cache for
-000087d0: 206c 6566 742d 7265 6375 7273 696f 6e20   left-recursion 
-000087e0: 696e 2046 6f72 7761 7264 2072 6566 6572  in Forward refer
-000087f0: 656e 6365 730a 2020 2020 7265 6375 7273  ences.    recurs
-00008800: 696f 6e5f 6c6f 636b 203d 2052 4c6f 636b  ion_lock = RLock
-00008810: 2829 0a20 2020 2072 6563 7572 7369 6f6e  ().    recursion
-00008820: 5f6d 656d 6f73 3a20 7479 7069 6e67 2e44  _memos: typing.D
-00008830: 6963 745b 0a20 2020 2020 2020 2054 7570  ict[.        Tup
-00008840: 6c65 5b69 6e74 2c20 2246 6f72 7761 7264  le[int, "Forward
-00008850: 222c 2062 6f6f 6c5d 2c20 5475 706c 655b  ", bool], Tuple[
-00008860: 696e 742c 2055 6e69 6f6e 5b50 6172 7365  int, Union[Parse
-00008870: 5265 7375 6c74 732c 2045 7863 6570 7469  Results, Excepti
-00008880: 6f6e 5d5d 0a20 2020 205d 203d 207b 7d0a  on]].    ] = {}.
-00008890: 0a20 2020 2063 6c61 7373 205f 4361 6368  .    class _Cach
-000088a0: 6554 7970 6528 6469 6374 293a 0a20 2020  eType(dict):.   
-000088b0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000088c0: 2063 6c61 7373 2074 6f20 6865 6c70 2074   class to help t
-000088d0: 7970 6520 6368 6563 6b69 6e67 0a20 2020  ype checking.   
-000088e0: 2020 2020 2022 2222 0a0a 2020 2020 2020       """..      
-000088f0: 2020 6e6f 745f 696e 5f63 6163 6865 3a20    not_in_cache: 
-00008900: 626f 6f6c 0a0a 2020 2020 2020 2020 6465  bool..        de
-00008910: 6620 6765 7428 7365 6c66 2c20 2a61 7267  f get(self, *arg
-00008920: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
-00008930: 2e2e 2e0a 0a20 2020 2020 2020 2064 6566  .....        def
-00008940: 2073 6574 2873 656c 662c 202a 6172 6773   set(self, *args
-00008950: 293a 0a20 2020 2020 2020 2020 2020 202e  ):.            .
-00008960: 2e2e 0a0a 2020 2020 2320 6172 6775 6d65  ....    # argume
-00008970: 6e74 2063 6163 6865 2066 6f72 206f 7074  nt cache for opt
-00008980: 696d 697a 696e 6720 7265 7065 6174 6564  imizing repeated
-00008990: 2063 616c 6c73 2077 6865 6e20 6261 636b   calls when back
-000089a0: 7472 6163 6b69 6e67 2074 6872 6f75 6768  tracking through
-000089b0: 2072 6563 7572 7369 7665 2065 7870 7265   recursive expre
-000089c0: 7373 696f 6e73 0a20 2020 2070 6163 6b72  ssions.    packr
-000089d0: 6174 5f63 6163 6865 203d 2028 0a20 2020  at_cache = (.   
-000089e0: 2020 2020 205f 4361 6368 6554 7970 6528       _CacheType(
-000089f0: 290a 2020 2020 2920 2023 2073 6574 206c  ).    )  # set l
-00008a00: 6174 6572 2062 7920 656e 6162 6c65 5f70  ater by enable_p
-00008a10: 6163 6b72 6174 2829 3b20 7468 6973 2069  ackrat(); this i
-00008a20: 7320 6865 7265 2073 6f20 7468 6174 2072  s here so that r
-00008a30: 6573 6574 5f63 6163 6865 2829 2064 6f65  eset_cache() doe
-00008a40: 736e 2774 2066 6169 6c0a 2020 2020 7061  sn't fail.    pa
-00008a50: 636b 7261 745f 6361 6368 655f 6c6f 636b  ckrat_cache_lock
-00008a60: 203d 2052 4c6f 636b 2829 0a20 2020 2070   = RLock().    p
-00008a70: 6163 6b72 6174 5f63 6163 6865 5f73 7461  ackrat_cache_sta
-00008a80: 7473 203d 205b 302c 2030 5d0a 0a20 2020  ts = [0, 0]..   
-00008a90: 2023 2074 6869 7320 6d65 7468 6f64 2067   # this method g
-00008aa0: 6574 7320 7265 7065 6174 6564 6c79 2063  ets repeatedly c
-00008ab0: 616c 6c65 6420 6475 7269 6e67 2062 6163  alled during bac
-00008ac0: 6b74 7261 636b 696e 6720 7769 7468 2074  ktracking with t
-00008ad0: 6865 2073 616d 6520 6172 6775 6d65 6e74  he same argument
-00008ae0: 7320 2d0a 2020 2020 2320 7765 2063 616e  s -.    # we can
-00008af0: 2063 6163 6865 2074 6865 7365 2061 7267   cache these arg
-00008b00: 756d 656e 7473 2061 6e64 2073 6176 6520  uments and save 
-00008b10: 6f75 7273 656c 7665 7320 7468 6520 7472  ourselves the tr
-00008b20: 6f75 626c 6520 6f66 2072 652d 7061 7273  ouble of re-pars
-00008b30: 696e 6720 7468 6520 636f 6e74 6169 6e65  ing the containe
-00008b40: 6420 6578 7072 6573 7369 6f6e 0a20 2020  d expression.   
-00008b50: 2064 6566 205f 7061 7273 6543 6163 6865   def _parseCache
-00008b60: 280a 2020 2020 2020 2020 7365 6c66 2c20  (.        self, 
-00008b70: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
-00008b80: 6f41 6374 696f 6e73 3d54 7275 652c 2063  oActions=True, c
-00008b90: 616c 6c50 7265 5061 7273 653d 5472 7565  allPreParse=True
-00008ba0: 0a20 2020 2029 202d 3e20 5475 706c 655b  .    ) -> Tuple[
-00008bb0: 696e 742c 2050 6172 7365 5265 7375 6c74  int, ParseResult
-00008bc0: 735d 3a0a 2020 2020 2020 2020 4849 542c  s]:.        HIT,
-00008bd0: 204d 4953 5320 3d20 302c 2031 0a20 2020   MISS = 0, 1.   
-00008be0: 2020 2020 2054 5259 2c20 4d41 5443 482c       TRY, MATCH,
-00008bf0: 2046 4149 4c20 3d20 302c 2031 2c20 320a   FAIL = 0, 1, 2.
-00008c00: 2020 2020 2020 2020 6c6f 6f6b 7570 203d          lookup =
-00008c10: 2028 7365 6c66 2c20 696e 7374 7269 6e67   (self, instring
-00008c20: 2c20 6c6f 632c 2063 616c 6c50 7265 5061  , loc, callPrePa
-00008c30: 7273 652c 2064 6f41 6374 696f 6e73 290a  rse, doActions).
-00008c40: 2020 2020 2020 2020 7769 7468 2050 6172          with Par
-00008c50: 7365 7245 6c65 6d65 6e74 2e70 6163 6b72  serElement.packr
-00008c60: 6174 5f63 6163 6865 5f6c 6f63 6b3a 0a20  at_cache_lock:. 
-00008c70: 2020 2020 2020 2020 2020 2063 6163 6865             cache
-00008c80: 203d 2050 6172 7365 7245 6c65 6d65 6e74   = ParserElement
-00008c90: 2e70 6163 6b72 6174 5f63 6163 6865 0a20  .packrat_cache. 
-00008ca0: 2020 2020 2020 2020 2020 2076 616c 7565             value
-00008cb0: 203d 2063 6163 6865 2e67 6574 286c 6f6f   = cache.get(loo
-00008cc0: 6b75 7029 0a20 2020 2020 2020 2020 2020  kup).           
-00008cd0: 2069 6620 7661 6c75 6520 6973 2063 6163   if value is cac
-00008ce0: 6865 2e6e 6f74 5f69 6e5f 6361 6368 653a  he.not_in_cache:
-00008cf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008d00: 2050 6172 7365 7245 6c65 6d65 6e74 2e70   ParserElement.p
-00008d10: 6163 6b72 6174 5f63 6163 6865 5f73 7461  ackrat_cache_sta
-00008d20: 7473 5b4d 4953 535d 202b 3d20 310a 2020  ts[MISS] += 1.  
-00008d30: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-00008d40: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
-00008d50: 2020 2020 2020 2076 616c 7565 203d 2073         value = s
-00008d60: 656c 662e 5f70 6172 7365 4e6f 4361 6368  elf._parseNoCach
-00008d70: 6528 696e 7374 7269 6e67 2c20 6c6f 632c  e(instring, loc,
-00008d80: 2064 6f41 6374 696f 6e73 2c20 6361 6c6c   doActions, call
-00008d90: 5072 6550 6172 7365 290a 2020 2020 2020  PreParse).      
-00008da0: 2020 2020 2020 2020 2020 6578 6365 7074            except
-00008db0: 2050 6172 7365 4261 7365 4578 6365 7074   ParseBaseExcept
-00008dc0: 696f 6e20 6173 2070 653a 0a20 2020 2020  ion as pe:.     
-00008dd0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00008de0: 2063 6163 6865 2061 2063 6f70 7920 6f66   cache a copy of
-00008df0: 2074 6865 2065 7863 6570 7469 6f6e 2c20   the exception, 
-00008e00: 7769 7468 6f75 7420 7468 6520 7472 6163  without the trac
-00008e10: 6562 6163 6b0a 2020 2020 2020 2020 2020  eback.          
-00008e20: 2020 2020 2020 2020 2020 6361 6368 652e            cache.
-00008e30: 7365 7428 6c6f 6f6b 7570 2c20 7065 2e5f  set(lookup, pe._
-00008e40: 5f63 6c61 7373 5f5f 282a 7065 2e61 7267  _class__(*pe.arg
-00008e50: 7329 290a 2020 2020 2020 2020 2020 2020  s)).            
-00008e60: 2020 2020 2020 2020 7261 6973 650a 2020          raise.  
-00008e70: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00008e80: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00008e90: 2020 2020 2020 2020 6361 6368 652e 7365          cache.se
-00008ea0: 7428 6c6f 6f6b 7570 2c20 2876 616c 7565  t(lookup, (value
-00008eb0: 5b30 5d2c 2076 616c 7565 5b31 5d2e 636f  [0], value[1].co
-00008ec0: 7079 2829 2c20 6c6f 6329 290a 2020 2020  py(), loc)).    
-00008ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008ee0: 7265 7475 726e 2076 616c 7565 0a20 2020  return value.   
-00008ef0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00008f00: 2020 2020 2020 2020 2020 2020 2020 2050                 P
-00008f10: 6172 7365 7245 6c65 6d65 6e74 2e70 6163  arserElement.pac
-00008f20: 6b72 6174 5f63 6163 6865 5f73 7461 7473  krat_cache_stats
-00008f30: 5b48 4954 5d20 2b3d 2031 0a20 2020 2020  [HIT] += 1.     
-00008f40: 2020 2020 2020 2020 2020 2069 6620 7365             if se
-00008f50: 6c66 2e64 6562 7567 2061 6e64 2073 656c  lf.debug and sel
-00008f60: 662e 6465 6275 6741 6374 696f 6e73 2e64  f.debugActions.d
-00008f70: 6562 7567 5f74 7279 3a0a 2020 2020 2020  ebug_try:.      
-00008f80: 2020 2020 2020 2020 2020 2020 2020 7472                tr
-00008f90: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
-00008fa0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00008fb0: 6465 6275 6741 6374 696f 6e73 2e64 6562  debugActions.deb
-00008fc0: 7567 5f74 7279 2869 6e73 7472 696e 672c  ug_try(instring,
-00008fd0: 206c 6f63 2c20 7365 6c66 2c20 6361 6368   loc, self, cach
-00008fe0: 655f 6869 743d 5472 7565 2920 2023 2074  e_hit=True)  # t
-00008ff0: 7970 653a 2069 676e 6f72 6520 5b63 616c  ype: ignore [cal
-00009000: 6c2d 6172 675d 0a20 2020 2020 2020 2020  l-arg].         
-00009010: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-00009020: 7420 5479 7065 4572 726f 723a 0a20 2020  t TypeError:.   
-00009030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009040: 2020 2020 2070 6173 730a 2020 2020 2020       pass.      
-00009050: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
-00009060: 6e73 7461 6e63 6528 7661 6c75 652c 2045  nstance(value, E
-00009070: 7863 6570 7469 6f6e 293a 0a20 2020 2020  xception):.     
-00009080: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00009090: 6620 7365 6c66 2e64 6562 7567 2061 6e64  f self.debug and
-000090a0: 2073 656c 662e 6465 6275 6741 6374 696f   self.debugActio
-000090b0: 6e73 2e64 6562 7567 5f66 6169 6c3a 0a20  ns.debug_fail:. 
-000090c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000090d0: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
-000090e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000090f0: 2020 2020 2020 2020 7365 6c66 2e64 6562          self.deb
-00009100: 7567 4163 7469 6f6e 732e 6465 6275 675f  ugActions.debug_
-00009110: 6661 696c 280a 2020 2020 2020 2020 2020  fail(.          
-00009120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009130: 2020 2020 2020 696e 7374 7269 6e67 2c20        instring, 
-00009140: 6c6f 632c 2073 656c 662c 2076 616c 7565  loc, self, value
-00009150: 2c20 6361 6368 655f 6869 743d 5472 7565  , cache_hit=True
-00009160: 2020 2320 7479 7065 3a20 6967 6e6f 7265    # type: ignore
-00009170: 205b 6361 6c6c 2d61 7267 5d0a 2020 2020   [call-arg].    
-00009180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009190: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+000085b0: 7365 280a 2020 2020 2020 2020 7365 6c66  se(.        self
+000085c0: 2c0a 2020 2020 2020 2020 696e 7374 7269  ,.        instri
+000085d0: 6e67 3a20 7374 722c 0a20 2020 2020 2020  ng: str,.       
+000085e0: 206c 6f63 3a20 696e 742c 0a20 2020 2020   loc: int,.     
+000085f0: 2020 202a 2c0a 2020 2020 2020 2020 7261     *,.        ra
+00008600: 6973 655f 6661 7461 6c3a 2062 6f6f 6c20  ise_fatal: bool 
+00008610: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
+00008620: 2064 6f5f 6163 7469 6f6e 733a 2062 6f6f   do_actions: boo
+00008630: 6c20 3d20 4661 6c73 652c 0a20 2020 2029  l = False,.    )
+00008640: 202d 3e20 696e 743a 0a20 2020 2020 2020   -> int:.       
+00008650: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00008660: 2020 7265 7475 726e 2073 656c 662e 5f70    return self._p
+00008670: 6172 7365 2869 6e73 7472 696e 672c 206c  arse(instring, l
+00008680: 6f63 2c20 646f 4163 7469 6f6e 733d 646f  oc, doActions=do
+00008690: 5f61 6374 696f 6e73 295b 305d 0a20 2020  _actions)[0].   
+000086a0: 2020 2020 2065 7863 6570 7420 5061 7273       except Pars
+000086b0: 6546 6174 616c 4578 6365 7074 696f 6e3a  eFatalException:
+000086c0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+000086d0: 7261 6973 655f 6661 7461 6c3a 0a20 2020  raise_fatal:.   
+000086e0: 2020 2020 2020 2020 2020 2020 2072 6169               rai
+000086f0: 7365 0a20 2020 2020 2020 2020 2020 2072  se.            r
+00008700: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
+00008710: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
+00008720: 632c 2073 656c 662e 6572 726d 7367 2c20  c, self.errmsg, 
+00008730: 7365 6c66 290a 0a20 2020 2064 6566 2063  self)..    def c
+00008740: 616e 5f70 6172 7365 5f6e 6578 7428 7365  an_parse_next(se
+00008750: 6c66 2c20 696e 7374 7269 6e67 3a20 7374  lf, instring: st
+00008760: 722c 206c 6f63 3a20 696e 742c 2064 6f5f  r, loc: int, do_
+00008770: 6163 7469 6f6e 733a 2062 6f6f 6c20 3d20  actions: bool = 
+00008780: 4661 6c73 6529 202d 3e20 626f 6f6c 3a0a  False) -> bool:.
+00008790: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+000087a0: 2020 2020 2020 2020 2073 656c 662e 7472           self.tr
+000087b0: 795f 7061 7273 6528 696e 7374 7269 6e67  y_parse(instring
+000087c0: 2c20 6c6f 632c 2064 6f5f 6163 7469 6f6e  , loc, do_action
+000087d0: 733d 646f 5f61 6374 696f 6e73 290a 2020  s=do_actions).  
+000087e0: 2020 2020 2020 6578 6365 7074 2028 5061        except (Pa
+000087f0: 7273 6545 7863 6570 7469 6f6e 2c20 496e  rseException, In
+00008800: 6465 7845 7272 6f72 293a 0a20 2020 2020  dexError):.     
+00008810: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
+00008820: 6c73 650a 2020 2020 2020 2020 656c 7365  lse.        else
+00008830: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+00008840: 7475 726e 2054 7275 650a 0a20 2020 2023  turn True..    #
+00008850: 2063 6163 6865 2066 6f72 206c 6566 742d   cache for left-
+00008860: 7265 6375 7273 696f 6e20 696e 2046 6f72  recursion in For
+00008870: 7761 7264 2072 6566 6572 656e 6365 730a  ward references.
+00008880: 2020 2020 7265 6375 7273 696f 6e5f 6c6f      recursion_lo
+00008890: 636b 203d 2052 4c6f 636b 2829 0a20 2020  ck = RLock().   
+000088a0: 2072 6563 7572 7369 6f6e 5f6d 656d 6f73   recursion_memos
+000088b0: 3a20 7479 7069 6e67 2e44 6963 745b 0a20  : typing.Dict[. 
+000088c0: 2020 2020 2020 2054 7570 6c65 5b69 6e74         Tuple[int
+000088d0: 2c20 2246 6f72 7761 7264 222c 2062 6f6f  , "Forward", boo
+000088e0: 6c5d 2c20 5475 706c 655b 696e 742c 2055  l], Tuple[int, U
+000088f0: 6e69 6f6e 5b50 6172 7365 5265 7375 6c74  nion[ParseResult
+00008900: 732c 2045 7863 6570 7469 6f6e 5d5d 0a20  s, Exception]]. 
+00008910: 2020 205d 203d 207b 7d0a 0a20 2020 2063     ] = {}..    c
+00008920: 6c61 7373 205f 4361 6368 6554 7970 6528  lass _CacheType(
+00008930: 6469 6374 293a 0a20 2020 2020 2020 2022  dict):.        "
+00008940: 2222 0a20 2020 2020 2020 2063 6c61 7373  "".        class
+00008950: 2074 6f20 6865 6c70 2074 7970 6520 6368   to help type ch
+00008960: 6563 6b69 6e67 0a20 2020 2020 2020 2022  ecking.        "
+00008970: 2222 0a0a 2020 2020 2020 2020 6e6f 745f  ""..        not_
+00008980: 696e 5f63 6163 6865 3a20 626f 6f6c 0a0a  in_cache: bool..
+00008990: 2020 2020 2020 2020 6465 6620 6765 7428          def get(
+000089a0: 7365 6c66 2c20 2a61 7267 7329 3a0a 2020  self, *args):.  
+000089b0: 2020 2020 2020 2020 2020 2e2e 2e0a 0a20            ..... 
+000089c0: 2020 2020 2020 2064 6566 2073 6574 2873         def set(s
+000089d0: 656c 662c 202a 6172 6773 293a 0a20 2020  elf, *args):.   
+000089e0: 2020 2020 2020 2020 202e 2e2e 0a0a 2020           .....  
+000089f0: 2020 2320 6172 6775 6d65 6e74 2063 6163    # argument cac
+00008a00: 6865 2066 6f72 206f 7074 696d 697a 696e  he for optimizin
+00008a10: 6720 7265 7065 6174 6564 2063 616c 6c73  g repeated calls
+00008a20: 2077 6865 6e20 6261 636b 7472 6163 6b69   when backtracki
+00008a30: 6e67 2074 6872 6f75 6768 2072 6563 7572  ng through recur
+00008a40: 7369 7665 2065 7870 7265 7373 696f 6e73  sive expressions
+00008a50: 0a20 2020 2070 6163 6b72 6174 5f63 6163  .    packrat_cac
+00008a60: 6865 203d 2028 0a20 2020 2020 2020 205f  he = (.        _
+00008a70: 4361 6368 6554 7970 6528 290a 2020 2020  CacheType().    
+00008a80: 2920 2023 2073 6574 206c 6174 6572 2062  )  # set later b
+00008a90: 7920 656e 6162 6c65 5f70 6163 6b72 6174  y enable_packrat
+00008aa0: 2829 3b20 7468 6973 2069 7320 6865 7265  (); this is here
+00008ab0: 2073 6f20 7468 6174 2072 6573 6574 5f63   so that reset_c
+00008ac0: 6163 6865 2829 2064 6f65 736e 2774 2066  ache() doesn't f
+00008ad0: 6169 6c0a 2020 2020 7061 636b 7261 745f  ail.    packrat_
+00008ae0: 6361 6368 655f 6c6f 636b 203d 2052 4c6f  cache_lock = RLo
+00008af0: 636b 2829 0a20 2020 2070 6163 6b72 6174  ck().    packrat
+00008b00: 5f63 6163 6865 5f73 7461 7473 203d 205b  _cache_stats = [
+00008b10: 302c 2030 5d0a 0a20 2020 2023 2074 6869  0, 0]..    # thi
+00008b20: 7320 6d65 7468 6f64 2067 6574 7320 7265  s method gets re
+00008b30: 7065 6174 6564 6c79 2063 616c 6c65 6420  peatedly called 
+00008b40: 6475 7269 6e67 2062 6163 6b74 7261 636b  during backtrack
+00008b50: 696e 6720 7769 7468 2074 6865 2073 616d  ing with the sam
+00008b60: 6520 6172 6775 6d65 6e74 7320 2d0a 2020  e arguments -.  
+00008b70: 2020 2320 7765 2063 616e 2063 6163 6865    # we can cache
+00008b80: 2074 6865 7365 2061 7267 756d 656e 7473   these arguments
+00008b90: 2061 6e64 2073 6176 6520 6f75 7273 656c   and save oursel
+00008ba0: 7665 7320 7468 6520 7472 6f75 626c 6520  ves the trouble 
+00008bb0: 6f66 2072 652d 7061 7273 696e 6720 7468  of re-parsing th
+00008bc0: 6520 636f 6e74 6169 6e65 6420 6578 7072  e contained expr
+00008bd0: 6573 7369 6f6e 0a20 2020 2064 6566 205f  ession.    def _
+00008be0: 7061 7273 6543 6163 6865 280a 2020 2020  parseCache(.    
+00008bf0: 2020 2020 7365 6c66 2c20 696e 7374 7269      self, instri
+00008c00: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
+00008c10: 6e73 3d54 7275 652c 2063 616c 6c50 7265  ns=True, callPre
+00008c20: 5061 7273 653d 5472 7565 0a20 2020 2029  Parse=True.    )
+00008c30: 202d 3e20 5475 706c 655b 696e 742c 2050   -> Tuple[int, P
+00008c40: 6172 7365 5265 7375 6c74 735d 3a0a 2020  arseResults]:.  
+00008c50: 2020 2020 2020 4849 542c 204d 4953 5320        HIT, MISS 
+00008c60: 3d20 302c 2031 0a20 2020 2020 2020 2054  = 0, 1.        T
+00008c70: 5259 2c20 4d41 5443 482c 2046 4149 4c20  RY, MATCH, FAIL 
+00008c80: 3d20 302c 2031 2c20 320a 2020 2020 2020  = 0, 1, 2.      
+00008c90: 2020 6c6f 6f6b 7570 203d 2028 7365 6c66    lookup = (self
+00008ca0: 2c20 696e 7374 7269 6e67 2c20 6c6f 632c  , instring, loc,
+00008cb0: 2063 616c 6c50 7265 5061 7273 652c 2064   callPreParse, d
+00008cc0: 6f41 6374 696f 6e73 290a 2020 2020 2020  oActions).      
+00008cd0: 2020 7769 7468 2050 6172 7365 7245 6c65    with ParserEle
+00008ce0: 6d65 6e74 2e70 6163 6b72 6174 5f63 6163  ment.packrat_cac
+00008cf0: 6865 5f6c 6f63 6b3a 0a20 2020 2020 2020  he_lock:.       
+00008d00: 2020 2020 2063 6163 6865 203d 2050 6172       cache = Par
+00008d10: 7365 7245 6c65 6d65 6e74 2e70 6163 6b72  serElement.packr
+00008d20: 6174 5f63 6163 6865 0a20 2020 2020 2020  at_cache.       
+00008d30: 2020 2020 2076 616c 7565 203d 2063 6163       value = cac
+00008d40: 6865 2e67 6574 286c 6f6f 6b75 7029 0a20  he.get(lookup). 
+00008d50: 2020 2020 2020 2020 2020 2069 6620 7661             if va
+00008d60: 6c75 6520 6973 2063 6163 6865 2e6e 6f74  lue is cache.not
+00008d70: 5f69 6e5f 6361 6368 653a 0a20 2020 2020  _in_cache:.     
+00008d80: 2020 2020 2020 2020 2020 2050 6172 7365             Parse
+00008d90: 7245 6c65 6d65 6e74 2e70 6163 6b72 6174  rElement.packrat
+00008da0: 5f63 6163 6865 5f73 7461 7473 5b4d 4953  _cache_stats[MIS
+00008db0: 535d 202b 3d20 310a 2020 2020 2020 2020  S] += 1.        
+00008dc0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00008dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008de0: 2076 616c 7565 203d 2073 656c 662e 5f70   value = self._p
+00008df0: 6172 7365 4e6f 4361 6368 6528 696e 7374  arseNoCache(inst
+00008e00: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+00008e10: 696f 6e73 2c20 6361 6c6c 5072 6550 6172  ions, callPrePar
+00008e20: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+00008e30: 2020 2020 6578 6365 7074 2050 6172 7365      except Parse
+00008e40: 4261 7365 4578 6365 7074 696f 6e20 6173  BaseException as
+00008e50: 2070 653a 0a20 2020 2020 2020 2020 2020   pe:.           
+00008e60: 2020 2020 2020 2020 2023 2063 6163 6865           # cache
+00008e70: 2061 2063 6f70 7920 6f66 2074 6865 2065   a copy of the e
+00008e80: 7863 6570 7469 6f6e 2c20 7769 7468 6f75  xception, withou
+00008e90: 7420 7468 6520 7472 6163 6562 6163 6b0a  t the traceback.
+00008ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008eb0: 2020 2020 6361 6368 652e 7365 7428 6c6f      cache.set(lo
+00008ec0: 6f6b 7570 2c20 7065 2e5f 5f63 6c61 7373  okup, pe.__class
+00008ed0: 5f5f 282a 7065 2e61 7267 7329 290a 2020  __(*pe.args)).  
+00008ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008ef0: 2020 7261 6973 650a 2020 2020 2020 2020    raise.        
+00008f00: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00008f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008f20: 2020 6361 6368 652e 7365 7428 6c6f 6f6b    cache.set(look
+00008f30: 7570 2c20 2876 616c 7565 5b30 5d2c 2076  up, (value[0], v
+00008f40: 616c 7565 5b31 5d2e 636f 7079 2829 2c20  alue[1].copy(), 
+00008f50: 6c6f 6329 290a 2020 2020 2020 2020 2020  loc)).          
+00008f60: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00008f70: 2076 616c 7565 0a20 2020 2020 2020 2020   value.         
+00008f80: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00008f90: 2020 2020 2020 2020 2050 6172 7365 7245           ParserE
+00008fa0: 6c65 6d65 6e74 2e70 6163 6b72 6174 5f63  lement.packrat_c
+00008fb0: 6163 6865 5f73 7461 7473 5b48 4954 5d20  ache_stats[HIT] 
+00008fc0: 2b3d 2031 0a20 2020 2020 2020 2020 2020  += 1.           
+00008fd0: 2020 2020 2069 6620 7365 6c66 2e64 6562       if self.deb
+00008fe0: 7567 2061 6e64 2073 656c 662e 6465 6275  ug and self.debu
+00008ff0: 6741 6374 696f 6e73 2e64 6562 7567 5f74  gActions.debug_t
+00009000: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+00009010: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00009020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009030: 2020 2020 2073 656c 662e 6465 6275 6741       self.debugA
+00009040: 6374 696f 6e73 2e64 6562 7567 5f74 7279  ctions.debug_try
+00009050: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
+00009060: 7365 6c66 2c20 6361 6368 655f 6869 743d  self, cache_hit=
+00009070: 5472 7565 2920 2023 2074 7970 653a 2069  True)  # type: i
+00009080: 676e 6f72 6520 5b63 616c 6c2d 6172 675d  gnore [call-arg]
+00009090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000090a0: 2020 2020 2065 7863 6570 7420 5479 7065       except Type
+000090b0: 4572 726f 723a 0a20 2020 2020 2020 2020  Error:.         
+000090c0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+000090d0: 6173 730a 2020 2020 2020 2020 2020 2020  ass.            
+000090e0: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+000090f0: 6528 7661 6c75 652c 2045 7863 6570 7469  e(value, Excepti
+00009100: 6f6e 293a 0a20 2020 2020 2020 2020 2020  on):.           
+00009110: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+00009120: 2e64 6562 7567 2061 6e64 2073 656c 662e  .debug and self.
+00009130: 6465 6275 6741 6374 696f 6e73 2e64 6562  debugActions.deb
+00009140: 7567 5f66 6169 6c3a 0a20 2020 2020 2020  ug_fail:.       
+00009150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009160: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00009170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009180: 2020 7365 6c66 2e64 6562 7567 4163 7469    self.debugActi
+00009190: 6f6e 732e 6465 6275 675f 6661 696c 280a  ons.debug_fail(.
 000091a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000091b0: 2020 6578 6365 7074 2054 7970 6545 7272    except TypeErr
-000091c0: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
-000091d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000091e0: 7061 7373 0a20 2020 2020 2020 2020 2020  pass.           
-000091f0: 2020 2020 2020 2020 2072 6169 7365 2076           raise v
-00009200: 616c 7565 0a0a 2020 2020 2020 2020 2020  alue..          
-00009210: 2020 2020 2020 7661 6c75 6520 3d20 6361        value = ca
-00009220: 7374 2854 7570 6c65 5b69 6e74 2c20 5061  st(Tuple[int, Pa
-00009230: 7273 6552 6573 756c 7473 2c20 696e 745d  rseResults, int]
-00009240: 2c20 7661 6c75 6529 0a20 2020 2020 2020  , value).       
-00009250: 2020 2020 2020 2020 206c 6f63 5f2c 2072           loc_, r
-00009260: 6573 756c 742c 2065 6e64 6c6f 6320 3d20  esult, endloc = 
-00009270: 7661 6c75 655b 305d 2c20 7661 6c75 655b  value[0], value[
-00009280: 315d 2e63 6f70 7928 292c 2076 616c 7565  1].copy(), value
-00009290: 5b32 5d0a 2020 2020 2020 2020 2020 2020  [2].            
-000092a0: 2020 2020 6966 2073 656c 662e 6465 6275      if self.debu
-000092b0: 6720 616e 6420 7365 6c66 2e64 6562 7567  g and self.debug
-000092c0: 4163 7469 6f6e 732e 6465 6275 675f 6d61  Actions.debug_ma
-000092d0: 7463 683a 0a20 2020 2020 2020 2020 2020  tch:.           
-000092e0: 2020 2020 2020 2020 2074 7279 3a0a 2020           try:.  
-000092f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009300: 2020 2020 2020 7365 6c66 2e64 6562 7567        self.debug
-00009310: 4163 7469 6f6e 732e 6465 6275 675f 6d61  Actions.debug_ma
-00009320: 7463 6828 0a20 2020 2020 2020 2020 2020  tch(.           
-00009330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009340: 2069 6e73 7472 696e 672c 206c 6f63 5f2c   instring, loc_,
-00009350: 2065 6e64 6c6f 632c 2073 656c 662c 2072   endloc, self, r
-00009360: 6573 756c 742c 2063 6163 6865 5f68 6974  esult, cache_hit
-00009370: 3d54 7275 6520 2023 2074 7970 653a 2069  =True  # type: i
-00009380: 676e 6f72 6520 5b63 616c 6c2d 6172 675d  gnore [call-arg]
-00009390: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000093a0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-000093b0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000093c0: 7863 6570 7420 5479 7065 4572 726f 723a  xcept TypeError:
-000093d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000093e0: 2020 2020 2020 2020 2070 6173 730a 0a20           pass.. 
-000093f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00009400: 6574 7572 6e20 6c6f 635f 2c20 7265 7375  eturn loc_, resu
-00009410: 6c74 0a0a 2020 2020 5f70 6172 7365 203d  lt..    _parse =
-00009420: 205f 7061 7273 654e 6f43 6163 6865 0a0a   _parseNoCache..
-00009430: 2020 2020 4073 7461 7469 636d 6574 686f      @staticmetho
-00009440: 640a 2020 2020 6465 6620 7265 7365 745f  d.    def reset_
-00009450: 6361 6368 6528 2920 2d3e 204e 6f6e 653a  cache() -> None:
-00009460: 0a20 2020 2020 2020 2050 6172 7365 7245  .        ParserE
-00009470: 6c65 6d65 6e74 2e70 6163 6b72 6174 5f63  lement.packrat_c
-00009480: 6163 6865 2e63 6c65 6172 2829 0a20 2020  ache.clear().   
-00009490: 2020 2020 2050 6172 7365 7245 6c65 6d65       ParserEleme
-000094a0: 6e74 2e70 6163 6b72 6174 5f63 6163 6865  nt.packrat_cache
-000094b0: 5f73 7461 7473 5b3a 5d20 3d20 5b30 5d20  _stats[:] = [0] 
-000094c0: 2a20 6c65 6e28 0a20 2020 2020 2020 2020  * len(.         
-000094d0: 2020 2050 6172 7365 7245 6c65 6d65 6e74     ParserElement
-000094e0: 2e70 6163 6b72 6174 5f63 6163 6865 5f73  .packrat_cache_s
-000094f0: 7461 7473 0a20 2020 2020 2020 2029 0a20  tats.        ). 
-00009500: 2020 2020 2020 2050 6172 7365 7245 6c65         ParserEle
-00009510: 6d65 6e74 2e72 6563 7572 7369 6f6e 5f6d  ment.recursion_m
-00009520: 656d 6f73 2e63 6c65 6172 2829 0a0a 2020  emos.clear()..  
-00009530: 2020 5f70 6163 6b72 6174 456e 6162 6c65    _packratEnable
-00009540: 6420 3d20 4661 6c73 650a 2020 2020 5f6c  d = False.    _l
-00009550: 6566 745f 7265 6375 7273 696f 6e5f 656e  eft_recursion_en
-00009560: 6162 6c65 6420 3d20 4661 6c73 650a 0a20  abled = False.. 
-00009570: 2020 2040 7374 6174 6963 6d65 7468 6f64     @staticmethod
-00009580: 0a20 2020 2064 6566 2064 6973 6162 6c65  .    def disable
-00009590: 5f6d 656d 6f69 7a61 7469 6f6e 2829 202d  _memoization() -
-000095a0: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
-000095b0: 2222 220a 2020 2020 2020 2020 4469 7361  """.        Disa
-000095c0: 626c 6573 2061 6374 6976 6520 5061 636b  bles active Pack
-000095d0: 7261 7420 6f72 204c 6566 7420 5265 6375  rat or Left Recu
-000095e0: 7273 696f 6e20 7061 7273 696e 6720 616e  rsion parsing an
-000095f0: 6420 7468 6569 7220 6d65 6d6f 697a 6174  d their memoizat
-00009600: 696f 6e0a 0a20 2020 2020 2020 2054 6869  ion..        Thi
-00009610: 7320 6d65 7468 6f64 2061 6c73 6f20 776f  s method also wo
-00009620: 726b 7320 6966 206e 6569 7468 6572 2050  rks if neither P
-00009630: 6163 6b72 6174 206e 6f72 204c 6566 7420  ackrat nor Left 
-00009640: 5265 6375 7273 696f 6e20 6172 6520 656e  Recursion are en
-00009650: 6162 6c65 642e 0a20 2020 2020 2020 2054  abled..        T
-00009660: 6869 7320 6d61 6b65 7320 6974 2073 6166  his makes it saf
-00009670: 6520 746f 2063 616c 6c20 6265 666f 7265  e to call before
-00009680: 2061 6374 6976 6174 696e 6720 5061 636b   activating Pack
-00009690: 7261 7420 6e6f 7220 4c65 6674 2052 6563  rat nor Left Rec
-000096a0: 7572 7369 6f6e 0a20 2020 2020 2020 2074  ursion.        t
-000096b0: 6f20 636c 6561 7220 616e 7920 7072 6576  o clear any prev
-000096c0: 696f 7573 2073 6574 7469 6e67 732e 0a20  ious settings.. 
-000096d0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000096e0: 2020 2050 6172 7365 7245 6c65 6d65 6e74     ParserElement
-000096f0: 2e72 6573 6574 5f63 6163 6865 2829 0a20  .reset_cache(). 
-00009700: 2020 2020 2020 2050 6172 7365 7245 6c65         ParserEle
-00009710: 6d65 6e74 2e5f 6c65 6674 5f72 6563 7572  ment._left_recur
-00009720: 7369 6f6e 5f65 6e61 626c 6564 203d 2046  sion_enabled = F
-00009730: 616c 7365 0a20 2020 2020 2020 2050 6172  alse.        Par
-00009740: 7365 7245 6c65 6d65 6e74 2e5f 7061 636b  serElement._pack
-00009750: 7261 7445 6e61 626c 6564 203d 2046 616c  ratEnabled = Fal
-00009760: 7365 0a20 2020 2020 2020 2050 6172 7365  se.        Parse
-00009770: 7245 6c65 6d65 6e74 2e5f 7061 7273 6520  rElement._parse 
-00009780: 3d20 5061 7273 6572 456c 656d 656e 742e  = ParserElement.
-00009790: 5f70 6172 7365 4e6f 4361 6368 650a 0a20  _parseNoCache.. 
-000097a0: 2020 2040 7374 6174 6963 6d65 7468 6f64     @staticmethod
-000097b0: 0a20 2020 2064 6566 2065 6e61 626c 655f  .    def enable_
-000097c0: 6c65 6674 5f72 6563 7572 7369 6f6e 280a  left_recursion(.
-000097d0: 2020 2020 2020 2020 6361 6368 655f 7369          cache_si
-000097e0: 7a65 5f6c 696d 6974 3a20 7479 7069 6e67  ze_limit: typing
-000097f0: 2e4f 7074 696f 6e61 6c5b 696e 745d 203d  .Optional[int] =
-00009800: 204e 6f6e 652c 202a 2c20 666f 7263 653d   None, *, force=
-00009810: 4661 6c73 650a 2020 2020 2920 2d3e 204e  False.    ) -> N
-00009820: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
-00009830: 0a20 2020 2020 2020 2045 6e61 626c 6573  .        Enables
-00009840: 2022 626f 756e 6465 6420 7265 6375 7273   "bounded recurs
-00009850: 696f 6e22 2070 6172 7369 6e67 2c20 7768  ion" parsing, wh
-00009860: 6963 6820 616c 6c6f 7773 2066 6f72 2062  ich allows for b
-00009870: 6f74 6820 6469 7265 6374 2061 6e64 2069  oth direct and i
-00009880: 6e64 6972 6563 740a 2020 2020 2020 2020  ndirect.        
-00009890: 6c65 6674 2d72 6563 7572 7369 6f6e 2e20  left-recursion. 
-000098a0: 4475 7269 6e67 2070 6172 7369 6e67 2c20  During parsing, 
-000098b0: 6c65 6674 2d72 6563 7572 7369 7665 203a  left-recursive :
-000098c0: 636c 6173 733a 6046 6f72 7761 7264 6020  class:`Forward` 
-000098d0: 656c 656d 656e 7473 2061 7265 0a20 2020  elements are.   
-000098e0: 2020 2020 2072 6570 6561 7465 646c 7920       repeatedly 
-000098f0: 6d61 7463 6865 6420 7769 7468 2061 2066  matched with a f
-00009900: 6978 6564 2072 6563 7572 7369 6f6e 2064  ixed recursion d
-00009910: 6570 7468 2074 6861 7420 6973 2067 7261  epth that is gra
-00009920: 6475 616c 6c79 2069 6e63 7265 6173 6564  dually increased
-00009930: 0a20 2020 2020 2020 2075 6e74 696c 2066  .        until f
-00009940: 696e 6469 6e67 2074 6865 206c 6f6e 6765  inding the longe
-00009950: 7374 206d 6174 6368 2e0a 0a20 2020 2020  st match...     
-00009960: 2020 2045 7861 6d70 6c65 3a3a 0a0a 2020     Example::..  
-00009970: 2020 2020 2020 2020 2020 696d 706f 7274            import
-00009980: 2070 7970 6172 7369 6e67 2061 7320 7070   pyparsing as pp
-00009990: 0a20 2020 2020 2020 2020 2020 2070 702e  .            pp.
-000099a0: 5061 7273 6572 456c 656d 656e 742e 656e  ParserElement.en
-000099b0: 6162 6c65 5f6c 6566 745f 7265 6375 7273  able_left_recurs
-000099c0: 696f 6e28 290a 0a20 2020 2020 2020 2020  ion()..         
-000099d0: 2020 2045 203d 2070 702e 466f 7277 6172     E = pp.Forwar
-000099e0: 6428 2245 2229 0a20 2020 2020 2020 2020  d("E").         
-000099f0: 2020 206e 756d 203d 2070 702e 576f 7264     num = pp.Word
-00009a00: 2870 702e 6e75 6d73 290a 2020 2020 2020  (pp.nums).      
-00009a10: 2020 2020 2020 2320 6d61 7463 6820 606e        # match `n
-00009a20: 756d 602c 206f 7220 606e 756d 2027 2b27  um`, or `num '+'
-00009a30: 206e 756d 602c 206f 7220 606e 756d 2027   num`, or `num '
-00009a40: 2b27 206e 756d 2027 2b27 206e 756d 602c  +' num '+' num`,
-00009a50: 202e 2e2e 0a20 2020 2020 2020 2020 2020   ....           
-00009a60: 2045 203c 3c3d 2045 202b 2027 2b27 202d   E <<= E + '+' -
-00009a70: 206e 756d 207c 206e 756d 0a0a 2020 2020   num | num..    
-00009a80: 2020 2020 2020 2020 7072 696e 7428 452e          print(E.
-00009a90: 7061 7273 655f 7374 7269 6e67 2822 312b  parse_string("1+
-00009aa0: 322b 3322 2929 0a0a 2020 2020 2020 2020  2+3"))..        
-00009ab0: 5265 6375 7273 696f 6e20 7365 6172 6368  Recursion search
-00009ac0: 206e 6174 7572 616c 6c79 206d 656d 6f69   naturally memoi
-00009ad0: 7a65 7320 6d61 7463 6865 7320 6f66 2060  zes matches of `
-00009ae0: 6046 6f72 7761 7264 6060 2065 6c65 6d65  `Forward`` eleme
-00009af0: 6e74 7320 616e 6420 6d61 790a 2020 2020  nts and may.    
-00009b00: 2020 2020 7468 7573 2073 6b69 7020 7265      thus skip re
-00009b10: 6576 616c 7561 7469 6f6e 206f 6620 7061  evaluation of pa
-00009b20: 7273 6520 6163 7469 6f6e 7320 6475 7269  rse actions duri
-00009b30: 6e67 2062 6163 6b74 7261 636b 696e 672e  ng backtracking.
-00009b40: 2054 6869 7320 6d61 7920 6272 6561 6b0a   This may break.
-00009b50: 2020 2020 2020 2020 7072 6f67 7261 6d73          programs
-00009b60: 2077 6974 6820 7061 7273 6520 6163 7469   with parse acti
-00009b70: 6f6e 7320 7768 6963 6820 7265 6c79 206f  ons which rely o
-00009b80: 6e20 7374 7269 6374 206f 7264 6572 696e  n strict orderin
-00009b90: 6720 6f66 2073 6964 652d 6566 6665 6374  g of side-effect
-00009ba0: 732e 0a0a 2020 2020 2020 2020 5061 7261  s...        Para
-00009bb0: 6d65 7465 7273 3a0a 0a20 2020 2020 2020  meters:..       
-00009bc0: 202d 2060 6063 6163 6865 5f73 697a 655f   - ``cache_size_
-00009bd0: 6c69 6d69 7460 6020 2d20 2864 6566 6175  limit`` - (defau
-00009be0: 6c74 3d60 604e 6f6e 6560 6029 202d 206d  lt=``None``) - m
-00009bf0: 656d 6f69 7a65 2061 7420 6d6f 7374 2074  emoize at most t
-00009c00: 6869 7320 6d61 6e79 0a20 2020 2020 2020  his many.       
-00009c10: 2020 2060 6046 6f72 7761 7264 6060 2065     ``Forward`` e
-00009c20: 6c65 6d65 6e74 7320 6475 7269 6e67 206d  lements during m
-00009c30: 6174 6368 696e 673b 2069 6620 6060 4e6f  atching; if ``No
-00009c40: 6e65 6060 2028 7468 6520 6465 6661 756c  ne`` (the defaul
-00009c50: 7429 2c0a 2020 2020 2020 2020 2020 6d65  t),.          me
-00009c60: 6d6f 697a 6520 616c 6c20 6060 466f 7277  moize all ``Forw
-00009c70: 6172 6460 6020 656c 656d 656e 7473 2e0a  ard`` elements..
-00009c80: 0a20 2020 2020 2020 2042 6f75 6e64 6564  .        Bounded
-00009c90: 2052 6563 7572 7369 6f6e 2070 6172 7369   Recursion parsi
-00009ca0: 6e67 2077 6f72 6b73 2073 696d 696c 6172  ng works similar
-00009cb0: 2062 7574 206e 6f74 2069 6465 6e74 6963   but not identic
-00009cc0: 616c 2074 6f20 5061 636b 7261 7420 7061  al to Packrat pa
-00009cd0: 7273 696e 672c 0a20 2020 2020 2020 2074  rsing,.        t
-00009ce0: 6875 7320 7468 6520 7477 6f20 6361 6e6e  hus the two cann
-00009cf0: 6f74 2062 6520 7573 6564 2074 6f67 6574  ot be used toget
-00009d00: 6865 722e 2055 7365 2060 6066 6f72 6365  her. Use ``force
-00009d10: 3d54 7275 6560 6020 746f 2064 6973 6162  =True`` to disab
-00009d20: 6c65 2061 6e79 0a20 2020 2020 2020 2070  le any.        p
-00009d30: 7265 7669 6f75 732c 2063 6f6e 666c 6963  revious, conflic
-00009d40: 7469 6e67 2073 6574 7469 6e67 732e 0a20  ting settings.. 
-00009d50: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00009d60: 2020 2069 6620 666f 7263 653a 0a20 2020     if force:.   
-00009d70: 2020 2020 2020 2020 2050 6172 7365 7245           ParserE
-00009d80: 6c65 6d65 6e74 2e64 6973 6162 6c65 5f6d  lement.disable_m
-00009d90: 656d 6f69 7a61 7469 6f6e 2829 0a20 2020  emoization().   
-00009da0: 2020 2020 2065 6c69 6620 5061 7273 6572       elif Parser
-00009db0: 456c 656d 656e 742e 5f70 6163 6b72 6174  Element._packrat
-00009dc0: 456e 6162 6c65 643a 0a20 2020 2020 2020  Enabled:.       
-00009dd0: 2020 2020 2072 6169 7365 2052 756e 7469       raise Runti
-00009de0: 6d65 4572 726f 7228 2250 6163 6b72 6174  meError("Packrat
-00009df0: 2061 6e64 2042 6f75 6e64 6564 2052 6563   and Bounded Rec
-00009e00: 7572 7369 6f6e 2061 7265 206e 6f74 2063  ursion are not c
-00009e10: 6f6d 7061 7469 626c 6522 290a 2020 2020  ompatible").    
-00009e20: 2020 2020 6966 2063 6163 6865 5f73 697a      if cache_siz
-00009e30: 655f 6c69 6d69 7420 6973 204e 6f6e 653a  e_limit is None:
-00009e40: 0a20 2020 2020 2020 2020 2020 2050 6172  .            Par
-00009e50: 7365 7245 6c65 6d65 6e74 2e72 6563 7572  serElement.recur
-00009e60: 7369 6f6e 5f6d 656d 6f73 203d 205f 556e  sion_memos = _Un
-00009e70: 626f 756e 6465 644d 656d 6f28 2920 2023  boundedMemo()  #
-00009e80: 2074 7970 653a 2069 676e 6f72 655b 6173   type: ignore[as
-00009e90: 7369 676e 6d65 6e74 5d0a 2020 2020 2020  signment].      
-00009ea0: 2020 656c 6966 2063 6163 6865 5f73 697a    elif cache_siz
-00009eb0: 655f 6c69 6d69 7420 3e20 303a 0a20 2020  e_limit > 0:.   
-00009ec0: 2020 2020 2020 2020 2050 6172 7365 7245           ParserE
-00009ed0: 6c65 6d65 6e74 2e72 6563 7572 7369 6f6e  lement.recursion
-00009ee0: 5f6d 656d 6f73 203d 205f 4c52 554d 656d  _memos = _LRUMem
-00009ef0: 6f28 6361 7061 6369 7479 3d63 6163 6865  o(capacity=cache
-00009f00: 5f73 697a 655f 6c69 6d69 7429 2020 2320  _size_limit)  # 
-00009f10: 7479 7065 3a20 6967 6e6f 7265 5b61 7373  type: ignore[ass
-00009f20: 6967 6e6d 656e 745d 0a20 2020 2020 2020  ignment].       
-00009f30: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00009f40: 2020 2072 6169 7365 204e 6f74 496d 706c     raise NotImpl
-00009f50: 656d 656e 7465 6445 7272 6f72 2822 4d65  ementedError("Me
-00009f60: 6d6f 2073 697a 6520 6f66 2025 7322 2025  mo size of %s" %
-00009f70: 2063 6163 6865 5f73 697a 655f 6c69 6d69   cache_size_limi
-00009f80: 7429 0a20 2020 2020 2020 2050 6172 7365  t).        Parse
-00009f90: 7245 6c65 6d65 6e74 2e5f 6c65 6674 5f72  rElement._left_r
-00009fa0: 6563 7572 7369 6f6e 5f65 6e61 626c 6564  ecursion_enabled
-00009fb0: 203d 2054 7275 650a 0a20 2020 2040 7374   = True..    @st
-00009fc0: 6174 6963 6d65 7468 6f64 0a20 2020 2064  aticmethod.    d
-00009fd0: 6566 2065 6e61 626c 655f 7061 636b 7261  ef enable_packra
-00009fe0: 7428 6361 6368 655f 7369 7a65 5f6c 696d  t(cache_size_lim
-00009ff0: 6974 3a20 696e 7420 3d20 3132 382c 202a  it: int = 128, *
-0000a000: 2c20 666f 7263 653a 2062 6f6f 6c20 3d20  , force: bool = 
-0000a010: 4661 6c73 6529 202d 3e20 4e6f 6e65 3a0a  False) -> None:.
-0000a020: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000a030: 2020 2020 456e 6162 6c65 7320 2270 6163      Enables "pac
-0000a040: 6b72 6174 2220 7061 7273 696e 672c 2077  krat" parsing, w
-0000a050: 6869 6368 2061 6464 7320 6d65 6d6f 697a  hich adds memoiz
-0000a060: 696e 6720 746f 2074 6865 2070 6172 7369  ing to the parsi
-0000a070: 6e67 206c 6f67 6963 2e0a 2020 2020 2020  ng logic..      
-0000a080: 2020 5265 7065 6174 6564 2070 6172 7365    Repeated parse
-0000a090: 2061 7474 656d 7074 7320 6174 2074 6865   attempts at the
-0000a0a0: 2073 616d 6520 7374 7269 6e67 206c 6f63   same string loc
-0000a0b0: 6174 696f 6e20 2877 6869 6368 2068 6170  ation (which hap
-0000a0c0: 7065 6e73 0a20 2020 2020 2020 206f 6674  pens.        oft
-0000a0d0: 656e 2069 6e20 6d61 6e79 2063 6f6d 706c  en in many compl
-0000a0e0: 6578 2067 7261 6d6d 6172 7329 2063 616e  ex grammars) can
-0000a0f0: 2069 6d6d 6564 6961 7465 6c79 2072 6574   immediately ret
-0000a100: 7572 6e20 6120 6361 6368 6564 2076 616c  urn a cached val
-0000a110: 7565 2c0a 2020 2020 2020 2020 696e 7374  ue,.        inst
-0000a120: 6561 6420 6f66 2072 652d 6578 6563 7574  ead of re-execut
-0000a130: 696e 6720 7061 7273 696e 672f 7661 6c69  ing parsing/vali
-0000a140: 6461 7469 6e67 2063 6f64 652e 2020 4d65  dating code.  Me
-0000a150: 6d6f 697a 696e 6720 6973 2064 6f6e 6520  moizing is done 
-0000a160: 6f66 0a20 2020 2020 2020 2062 6f74 6820  of.        both 
-0000a170: 7661 6c69 6420 7265 7375 6c74 7320 616e  valid results an
-0000a180: 6420 7061 7273 696e 6720 6578 6365 7074  d parsing except
-0000a190: 696f 6e73 2e0a 0a20 2020 2020 2020 2050  ions...        P
-0000a1a0: 6172 616d 6574 6572 733a 0a0a 2020 2020  arameters:..    
-0000a1b0: 2020 2020 2d20 6060 6361 6368 655f 7369      - ``cache_si
-0000a1c0: 7a65 5f6c 696d 6974 6060 202d 2028 6465  ze_limit`` - (de
-0000a1d0: 6661 756c 743d 2060 6031 3238 6060 2920  fault= ``128``) 
-0000a1e0: 2d20 6966 2061 6e20 696e 7465 6765 7220  - if an integer 
-0000a1f0: 7661 6c75 6520 6973 2070 726f 7669 6465  value is provide
-0000a200: 640a 2020 2020 2020 2020 2020 7769 6c6c  d.          will
-0000a210: 206c 696d 6974 2074 6865 2073 697a 6520   limit the size 
-0000a220: 6f66 2074 6865 2070 6163 6b72 6174 2063  of the packrat c
-0000a230: 6163 6865 3b20 6966 204e 6f6e 6520 6973  ache; if None is
-0000a240: 2070 6173 7365 642c 2074 6865 6e0a 2020   passed, then.  
-0000a250: 2020 2020 2020 2020 7468 6520 6361 6368          the cach
-0000a260: 6520 7369 7a65 2077 696c 6c20 6265 2075  e size will be u
-0000a270: 6e62 6f75 6e64 6564 3b20 6966 2030 2069  nbounded; if 0 i
-0000a280: 7320 7061 7373 6564 2c20 7468 6520 6361  s passed, the ca
-0000a290: 6368 6520 7769 6c6c 0a20 2020 2020 2020  che will.       
-0000a2a0: 2020 2062 6520 6566 6665 6374 6976 656c     be effectivel
-0000a2b0: 7920 6469 7361 626c 6564 2e0a 0a20 2020  y disabled...   
-0000a2c0: 2020 2020 2054 6869 7320 7370 6565 6475       This speedu
-0000a2d0: 7020 6d61 7920 6272 6561 6b20 6578 6973  p may break exis
-0000a2e0: 7469 6e67 2070 726f 6772 616d 7320 7468  ting programs th
-0000a2f0: 6174 2075 7365 2070 6172 7365 2061 6374  at use parse act
-0000a300: 696f 6e73 2074 6861 740a 2020 2020 2020  ions that.      
-0000a310: 2020 6861 7665 2073 6964 652d 6566 6665    have side-effe
-0000a320: 6374 732e 2020 466f 7220 7468 6973 2072  cts.  For this r
-0000a330: 6561 736f 6e2c 2070 6163 6b72 6174 2070  eason, packrat p
-0000a340: 6172 7369 6e67 2069 7320 6469 7361 626c  arsing is disabl
-0000a350: 6564 2077 6865 6e0a 2020 2020 2020 2020  ed when.        
-0000a360: 796f 7520 6669 7273 7420 696d 706f 7274  you first import
-0000a370: 2070 7970 6172 7369 6e67 2e20 2054 6f20   pyparsing.  To 
-0000a380: 6163 7469 7661 7465 2074 6865 2070 6163  activate the pac
-0000a390: 6b72 6174 2066 6561 7475 7265 2c20 796f  krat feature, yo
-0000a3a0: 7572 0a20 2020 2020 2020 2070 726f 6772  ur.        progr
-0000a3b0: 616d 206d 7573 7420 6361 6c6c 2074 6865  am must call the
-0000a3c0: 2063 6c61 7373 206d 6574 686f 6420 3a63   class method :c
-0000a3d0: 6c61 7373 3a60 5061 7273 6572 456c 656d  lass:`ParserElem
-0000a3e0: 656e 742e 656e 6162 6c65 5f70 6163 6b72  ent.enable_packr
-0000a3f0: 6174 602e 0a20 2020 2020 2020 2046 6f72  at`..        For
-0000a400: 2062 6573 7420 7265 7375 6c74 732c 2063   best results, c
-0000a410: 616c 6c20 6060 656e 6162 6c65 5f70 6163  all ``enable_pac
-0000a420: 6b72 6174 2829 6060 2069 6d6d 6564 6961  krat()`` immedia
-0000a430: 7465 6c79 2061 6674 6572 0a20 2020 2020  tely after.     
-0000a440: 2020 2069 6d70 6f72 7469 6e67 2070 7970     importing pyp
-0000a450: 6172 7369 6e67 2e0a 0a20 2020 2020 2020  arsing...       
-0000a460: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
-0000a470: 2020 2020 2020 2020 696d 706f 7274 2070          import p
-0000a480: 7970 6172 7369 6e67 0a20 2020 2020 2020  yparsing.       
-0000a490: 2020 2020 2070 7970 6172 7369 6e67 2e50       pyparsing.P
-0000a4a0: 6172 7365 7245 6c65 6d65 6e74 2e65 6e61  arserElement.ena
-0000a4b0: 626c 655f 7061 636b 7261 7428 290a 0a20  ble_packrat().. 
-0000a4c0: 2020 2020 2020 2050 6163 6b72 6174 2070         Packrat p
-0000a4d0: 6172 7369 6e67 2077 6f72 6b73 2073 696d  arsing works sim
-0000a4e0: 696c 6172 2062 7574 206e 6f74 2069 6465  ilar but not ide
-0000a4f0: 6e74 6963 616c 2074 6f20 426f 756e 6465  ntical to Bounde
-0000a500: 6420 5265 6375 7273 696f 6e20 7061 7273  d Recursion pars
-0000a510: 696e 672c 0a20 2020 2020 2020 2074 6875  ing,.        thu
-0000a520: 7320 7468 6520 7477 6f20 6361 6e6e 6f74  s the two cannot
-0000a530: 2062 6520 7573 6564 2074 6f67 6574 6865   be used togethe
-0000a540: 722e 2055 7365 2060 6066 6f72 6365 3d54  r. Use ``force=T
-0000a550: 7275 6560 6020 746f 2064 6973 6162 6c65  rue`` to disable
-0000a560: 2061 6e79 0a20 2020 2020 2020 2070 7265   any.        pre
-0000a570: 7669 6f75 732c 2063 6f6e 666c 6963 7469  vious, conflicti
-0000a580: 6e67 2073 6574 7469 6e67 732e 0a20 2020  ng settings..   
-0000a590: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000a5a0: 2069 6620 666f 7263 653a 0a20 2020 2020   if force:.     
-0000a5b0: 2020 2020 2020 2050 6172 7365 7245 6c65         ParserEle
-0000a5c0: 6d65 6e74 2e64 6973 6162 6c65 5f6d 656d  ment.disable_mem
-0000a5d0: 6f69 7a61 7469 6f6e 2829 0a20 2020 2020  oization().     
-0000a5e0: 2020 2065 6c69 6620 5061 7273 6572 456c     elif ParserEl
-0000a5f0: 656d 656e 742e 5f6c 6566 745f 7265 6375  ement._left_recu
-0000a600: 7273 696f 6e5f 656e 6162 6c65 643a 0a20  rsion_enabled:. 
-0000a610: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0000a620: 2052 756e 7469 6d65 4572 726f 7228 2250   RuntimeError("P
-0000a630: 6163 6b72 6174 2061 6e64 2042 6f75 6e64  ackrat and Bound
-0000a640: 6564 2052 6563 7572 7369 6f6e 2061 7265  ed Recursion are
-0000a650: 206e 6f74 2063 6f6d 7061 7469 626c 6522   not compatible"
-0000a660: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
-0000a670: 2050 6172 7365 7245 6c65 6d65 6e74 2e5f   ParserElement._
-0000a680: 7061 636b 7261 7445 6e61 626c 6564 3a0a  packratEnabled:.
-0000a690: 2020 2020 2020 2020 2020 2020 5061 7273              Pars
-0000a6a0: 6572 456c 656d 656e 742e 5f70 6163 6b72  erElement._packr
-0000a6b0: 6174 456e 6162 6c65 6420 3d20 5472 7565  atEnabled = True
-0000a6c0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0000a6d0: 6361 6368 655f 7369 7a65 5f6c 696d 6974  cache_size_limit
-0000a6e0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
-0000a6f0: 2020 2020 2020 2020 2020 5061 7273 6572            Parser
-0000a700: 456c 656d 656e 742e 7061 636b 7261 745f  Element.packrat_
-0000a710: 6361 6368 6520 3d20 5f55 6e62 6f75 6e64  cache = _Unbound
-0000a720: 6564 4361 6368 6528 290a 2020 2020 2020  edCache().      
-0000a730: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0000a740: 2020 2020 2020 2020 2020 2020 5061 7273              Pars
-0000a750: 6572 456c 656d 656e 742e 7061 636b 7261  erElement.packra
-0000a760: 745f 6361 6368 6520 3d20 5f46 6966 6f43  t_cache = _FifoC
-0000a770: 6163 6865 2863 6163 6865 5f73 697a 655f  ache(cache_size_
-0000a780: 6c69 6d69 7429 2020 2320 7479 7065 3a20  limit)  # type: 
-0000a790: 6967 6e6f 7265 5b61 7373 6967 6e6d 656e  ignore[assignmen
-0000a7a0: 745d 0a20 2020 2020 2020 2020 2020 2050  t].            P
-0000a7b0: 6172 7365 7245 6c65 6d65 6e74 2e5f 7061  arserElement._pa
-0000a7c0: 7273 6520 3d20 5061 7273 6572 456c 656d  rse = ParserElem
-0000a7d0: 656e 742e 5f70 6172 7365 4361 6368 650a  ent._parseCache.
-0000a7e0: 0a20 2020 2064 6566 2070 6172 7365 5f73  .    def parse_s
-0000a7f0: 7472 696e 6728 0a20 2020 2020 2020 2073  tring(.        s
-0000a800: 656c 662c 2069 6e73 7472 696e 673a 2073  elf, instring: s
-0000a810: 7472 2c20 7061 7273 655f 616c 6c3a 2062  tr, parse_all: b
-0000a820: 6f6f 6c20 3d20 4661 6c73 652c 202a 2c20  ool = False, *, 
-0000a830: 7061 7273 6541 6c6c 3a20 626f 6f6c 203d  parseAll: bool =
-0000a840: 2046 616c 7365 0a20 2020 2029 202d 3e20   False.    ) -> 
-0000a850: 5061 7273 6552 6573 756c 7473 3a0a 2020  ParseResults:.  
-0000a860: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000a870: 2020 5061 7273 6520 6120 7374 7269 6e67    Parse a string
-0000a880: 2077 6974 6820 7265 7370 6563 7420 746f   with respect to
-0000a890: 2074 6865 2070 6172 7365 7220 6465 6669   the parser defi
-0000a8a0: 6e69 7469 6f6e 2e20 5468 6973 2066 756e  nition. This fun
-0000a8b0: 6374 696f 6e20 6973 2069 6e74 656e 6465  ction is intende
-0000a8c0: 6420 6173 2074 6865 2070 7269 6d61 7279  d as the primary
-0000a8d0: 2069 6e74 6572 6661 6365 2074 6f20 7468   interface to th
-0000a8e0: 650a 2020 2020 2020 2020 636c 6965 6e74  e.        client
-0000a8f0: 2063 6f64 652e 0a0a 2020 2020 2020 2020   code...        
-0000a900: 3a70 6172 616d 2069 6e73 7472 696e 673a  :param instring:
-0000a910: 2054 6865 2069 6e70 7574 2073 7472 696e   The input strin
-0000a920: 6720 746f 2062 6520 7061 7273 6564 2e0a  g to be parsed..
-0000a930: 2020 2020 2020 2020 3a70 6172 616d 2070          :param p
-0000a940: 6172 7365 5f61 6c6c 3a20 4966 2073 6574  arse_all: If set
-0000a950: 2c20 7468 6520 656e 7469 7265 2069 6e70  , the entire inp
-0000a960: 7574 2073 7472 696e 6720 6d75 7374 206d  ut string must m
-0000a970: 6174 6368 2074 6865 2067 7261 6d6d 6172  atch the grammar
-0000a980: 2e0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-0000a990: 2070 6172 7365 416c 6c3a 2072 6574 6169   parseAll: retai
-0000a9a0: 6e65 6420 666f 7220 7072 652d 5045 5038  ned for pre-PEP8
-0000a9b0: 2063 6f6d 7061 7469 6269 6c69 7479 2c20   compatibility, 
-0000a9c0: 7769 6c6c 2062 6520 7265 6d6f 7665 6420  will be removed 
-0000a9d0: 696e 2061 2066 7574 7572 6520 7265 6c65  in a future rele
-0000a9e0: 6173 652e 0a20 2020 2020 2020 203a 7261  ase..        :ra
-0000a9f0: 6973 6573 2050 6172 7365 4578 6365 7074  ises ParseExcept
-0000aa00: 696f 6e3a 2052 6169 7365 6420 6966 2060  ion: Raised if `
-0000aa10: 6070 6172 7365 5f61 6c6c 6060 2069 7320  `parse_all`` is 
-0000aa20: 7365 7420 616e 6420 7468 6520 696e 7075  set and the inpu
-0000aa30: 7420 7374 7269 6e67 2064 6f65 7320 6e6f  t string does no
-0000aa40: 7420 6d61 7463 6820 7468 6520 7768 6f6c  t match the whol
-0000aa50: 6520 6772 616d 6d61 722e 0a20 2020 2020  e grammar..     
-0000aa60: 2020 203a 7265 7475 726e 733a 2074 6865     :returns: the
-0000aa70: 2070 6172 7365 6420 6461 7461 2061 7320   parsed data as 
-0000aa80: 6120 3a63 6c61 7373 3a60 5061 7273 6552  a :class:`ParseR
-0000aa90: 6573 756c 7473 6020 6f62 6a65 6374 2c20  esults` object, 
-0000aaa0: 7768 6963 6820 6d61 7920 6265 2061 6363  which may be acc
-0000aab0: 6573 7365 6420 6173 2061 2060 6c69 7374  essed as a `list
-0000aac0: 602c 2061 2060 6469 6374 602c 206f 720a  `, a `dict`, or.
-0000aad0: 2020 2020 2020 2020 2020 616e 206f 626a            an obj
-0000aae0: 6563 7420 7769 7468 2061 7474 7269 6275  ect with attribu
-0000aaf0: 7465 7320 6966 2074 6865 2067 6976 656e  tes if the given
-0000ab00: 2070 6172 7365 7220 696e 636c 7564 6573   parser includes
-0000ab10: 2072 6573 756c 7473 206e 616d 6573 2e0a   results names..
-0000ab20: 0a20 2020 2020 2020 2049 6620 7468 6520  .        If the 
-0000ab30: 696e 7075 7420 7374 7269 6e67 2069 7320  input string is 
-0000ab40: 7265 7175 6972 6564 2074 6f20 6d61 7463  required to matc
-0000ab50: 6820 7468 6520 656e 7469 7265 2067 7261  h the entire gra
-0000ab60: 6d6d 6172 2c20 6060 7061 7273 655f 616c  mmar, ``parse_al
-0000ab70: 6c60 6020 666c 6167 206d 7573 7420 6265  l`` flag must be
-0000ab80: 2073 6574 2074 6f20 6060 5472 7565 6060   set to ``True``
-0000ab90: 2e20 5468 6973 0a20 2020 2020 2020 2069  . This.        i
-0000aba0: 7320 616c 736f 2065 7175 6976 616c 656e  s also equivalen
-0000abb0: 7420 746f 2065 6e64 696e 6720 7468 6520  t to ending the 
-0000abc0: 6772 616d 6d61 7220 7769 7468 203a 636c  grammar with :cl
-0000abd0: 6173 733a 6053 7472 696e 6745 6e64 605c  ass:`StringEnd`\
-0000abe0: 5c20 2829 2e0a 0a20 2020 2020 2020 2054  \ ()...        T
-0000abf0: 6f20 7265 706f 7274 2070 726f 7065 7220  o report proper 
-0000ac00: 636f 6c75 6d6e 206e 756d 6265 7273 2c20  column numbers, 
-0000ac10: 6060 7061 7273 655f 7374 7269 6e67 6060  ``parse_string``
-0000ac20: 206f 7065 7261 7465 7320 6f6e 2061 2063   operates on a c
-0000ac30: 6f70 7920 6f66 2074 6865 2069 6e70 7574  opy of the input
-0000ac40: 2073 7472 696e 6720 7768 6572 6520 616c   string where al
-0000ac50: 6c20 7461 6273 2061 7265 0a20 2020 2020  l tabs are.     
-0000ac60: 2020 2063 6f6e 7665 7274 6564 2074 6f20     converted to 
-0000ac70: 7370 6163 6573 2028 3820 7370 6163 6573  spaces (8 spaces
-0000ac80: 2070 6572 2074 6162 2c20 6173 2070 6572   per tab, as per
-0000ac90: 2074 6865 2064 6566 6175 6c74 2069 6e20   the default in 
-0000aca0: 6060 7374 7269 6e67 2e65 7870 616e 6474  ``string.expandt
-0000acb0: 6162 7360 6029 2e20 4966 2074 6865 2069  abs``). If the i
-0000acc0: 6e70 7574 2073 7472 696e 670a 2020 2020  nput string.    
-0000acd0: 2020 2020 636f 6e74 6169 6e73 2074 6162      contains tab
-0000ace0: 7320 616e 6420 7468 6520 6772 616d 6d61  s and the gramma
-0000acf0: 7220 7573 6573 2070 6172 7365 2061 6374  r uses parse act
-0000ad00: 696f 6e73 2074 6861 7420 7573 6520 7468  ions that use th
-0000ad10: 6520 6060 6c6f 6360 6020 6172 6775 6d65  e ``loc`` argume
-0000ad20: 6e74 2074 6f20 696e 6465 7820 696e 746f  nt to index into
-0000ad30: 2074 6865 2073 7472 696e 670a 2020 2020   the string.    
-0000ad40: 2020 2020 6265 696e 6720 7061 7273 6564      being parsed
-0000ad50: 2c20 6f6e 6520 6361 6e20 656e 7375 7265  , one can ensure
-0000ad60: 2061 2063 6f6e 7369 7374 656e 7420 7669   a consistent vi
-0000ad70: 6577 206f 6620 7468 6520 696e 7075 7420  ew of the input 
-0000ad80: 7374 7269 6e67 2062 7920 646f 696e 6720  string by doing 
-0000ad90: 6f6e 6520 6f66 2074 6865 2066 6f6c 6c6f  one of the follo
-0000ada0: 7769 6e67 3a0a 0a20 2020 2020 2020 202d  wing:..        -
-0000adb0: 2063 616c 6c69 6e67 2060 6070 6172 7365   calling ``parse
-0000adc0: 5f77 6974 685f 7461 6273 6060 206f 6e20  _with_tabs`` on 
-0000add0: 796f 7572 2067 7261 6d6d 6172 2062 6566  your grammar bef
-0000ade0: 6f72 6520 6361 6c6c 696e 6720 6060 7061  ore calling ``pa
-0000adf0: 7273 655f 7374 7269 6e67 6060 2028 7365  rse_string`` (se
-0000ae00: 6520 3a63 6c61 7373 3a60 7061 7273 655f  e :class:`parse_
-0000ae10: 7769 7468 5f74 6162 7360 292c 0a20 2020  with_tabs`),.   
-0000ae20: 2020 2020 202d 2064 6566 696e 6520 796f       - define yo
-0000ae30: 7572 2070 6172 7365 2061 6374 696f 6e20  ur parse action 
-0000ae40: 7573 696e 6720 7468 6520 6675 6c6c 2060  using the full `
-0000ae50: 6028 732c 6c6f 632c 746f 6b73 2960 6020  `(s,loc,toks)`` 
-0000ae60: 7369 676e 6174 7572 652c 2061 6e64 2072  signature, and r
-0000ae70: 6566 6572 656e 6365 2074 6865 2069 6e70  eference the inp
-0000ae80: 7574 2073 7472 696e 6720 7573 696e 6720  ut string using 
-0000ae90: 7468 650a 2020 2020 2020 2020 2020 7061  the.          pa
-0000aea0: 7273 6520 6163 7469 6f6e 2773 2060 6073  rse action's ``s
-0000aeb0: 6060 2061 7267 756d 656e 742c 206f 720a  `` argument, or.
-0000aec0: 2020 2020 2020 2020 2d20 6578 706c 6963          - explic
-0000aed0: 6974 6c79 2065 7870 616e 6420 7468 6520  itly expand the 
-0000aee0: 7461 6273 2069 6e20 796f 7572 2069 6e70  tabs in your inp
-0000aef0: 7574 2073 7472 696e 6720 6265 666f 7265  ut string before
-0000af00: 2063 616c 6c69 6e67 2060 6070 6172 7365   calling ``parse
-0000af10: 5f73 7472 696e 6760 602e 0a0a 2020 2020  _string``...    
-0000af20: 2020 2020 4578 616d 706c 6573 3a0a 0a20      Examples:.. 
-0000af30: 2020 2020 2020 2042 7920 6465 6661 756c         By defaul
-0000af40: 742c 2070 6172 7469 616c 206d 6174 6368  t, partial match
-0000af50: 6573 2061 7265 204f 4b2e 0a0a 2020 2020  es are OK...    
-0000af60: 2020 2020 3e3e 3e20 7265 7320 3d20 576f      >>> res = Wo
-0000af70: 7264 2827 6127 292e 7061 7273 655f 7374  rd('a').parse_st
-0000af80: 7269 6e67 2827 6161 6161 6162 6161 6127  ring('aaaaabaaa'
-0000af90: 290a 2020 2020 2020 2020 3e3e 3e20 7072  ).        >>> pr
-0000afa0: 696e 7428 7265 7329 0a20 2020 2020 2020  int(res).       
-0000afb0: 205b 2761 6161 6161 275d 0a0a 2020 2020   ['aaaaa']..    
-0000afc0: 2020 2020 5468 6520 7061 7273 696e 6720      The parsing 
-0000afd0: 6265 6861 7669 6f72 2076 6172 6965 7320  behavior varies 
-0000afe0: 6279 2074 6865 2069 6e68 6572 6974 696e  by the inheritin
-0000aff0: 6720 636c 6173 7320 6f66 2074 6869 7320  g class of this 
-0000b000: 6162 7374 7261 6374 2063 6c61 7373 2e20  abstract class. 
-0000b010: 506c 6561 7365 2072 6566 6572 2074 6f20  Please refer to 
-0000b020: 7468 6520 6368 696c 6472 656e 0a20 2020  the children.   
-0000b030: 2020 2020 2064 6972 6563 746c 7920 746f       directly to
-0000b040: 2073 6565 206d 6f72 6520 6578 616d 706c   see more exampl
-0000b050: 6573 2e0a 0a20 2020 2020 2020 2049 7420  es...        It 
-0000b060: 7261 6973 6573 2061 6e20 6578 6365 7074  raises an except
-0000b070: 696f 6e20 6966 2070 6172 7365 5f61 6c6c  ion if parse_all
-0000b080: 2066 6c61 6720 6973 2073 6574 2061 6e64   flag is set and
-0000b090: 2069 6e73 7472 696e 6720 646f 6573 206e   instring does n
-0000b0a0: 6f74 206d 6174 6368 2074 6865 2077 686f  ot match the who
-0000b0b0: 6c65 2067 7261 6d6d 6172 2e0a 0a20 2020  le grammar...   
-0000b0c0: 2020 2020 203e 3e3e 2072 6573 203d 2057       >>> res = W
-0000b0d0: 6f72 6428 2761 2729 2e70 6172 7365 5f73  ord('a').parse_s
-0000b0e0: 7472 696e 6728 2761 6161 6161 6261 6161  tring('aaaaabaaa
-0000b0f0: 272c 2070 6172 7365 5f61 6c6c 3d54 7275  ', parse_all=Tru
-0000b100: 6529 0a20 2020 2020 2020 2054 7261 6365  e).        Trace
-0000b110: 6261 636b 2028 6d6f 7374 2072 6563 656e  back (most recen
-0000b120: 7420 6361 6c6c 206c 6173 7429 3a0a 2020  t call last):.  
-0000b130: 2020 2020 2020 2e2e 2e0a 2020 2020 2020        ....      
-0000b140: 2020 7079 7061 7273 696e 672e 5061 7273    pyparsing.Pars
-0000b150: 6545 7863 6570 7469 6f6e 3a20 4578 7065  eException: Expe
-0000b160: 6374 6564 2065 6e64 206f 6620 7465 7874  cted end of text
-0000b170: 2c20 666f 756e 6420 2762 2720 2028 6174  , found 'b'  (at
-0000b180: 2063 6861 7220 3529 2c20 286c 696e 653a   char 5), (line:
-0000b190: 312c 2063 6f6c 3a36 290a 2020 2020 2020  1, col:6).      
-0000b1a0: 2020 2222 220a 2020 2020 2020 2020 7061    """.        pa
-0000b1b0: 7273 6541 6c6c 203d 2070 6172 7365 5f61  rseAll = parse_a
-0000b1c0: 6c6c 206f 7220 7061 7273 6541 6c6c 0a0a  ll or parseAll..
-0000b1d0: 2020 2020 2020 2020 5061 7273 6572 456c          ParserEl
-0000b1e0: 656d 656e 742e 7265 7365 745f 6361 6368  ement.reset_cach
-0000b1f0: 6528 290a 2020 2020 2020 2020 6966 206e  e().        if n
-0000b200: 6f74 2073 656c 662e 7374 7265 616d 6c69  ot self.streamli
-0000b210: 6e65 643a 0a20 2020 2020 2020 2020 2020  ned:.           
-0000b220: 2073 656c 662e 7374 7265 616d 6c69 6e65   self.streamline
-0000b230: 2829 0a20 2020 2020 2020 2066 6f72 2065  ().        for e
-0000b240: 2069 6e20 7365 6c66 2e69 676e 6f72 6545   in self.ignoreE
-0000b250: 7870 7273 3a0a 2020 2020 2020 2020 2020  xprs:.          
-0000b260: 2020 652e 7374 7265 616d 6c69 6e65 2829    e.streamline()
-0000b270: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0000b280: 7365 6c66 2e6b 6565 7054 6162 733a 0a20  self.keepTabs:. 
-0000b290: 2020 2020 2020 2020 2020 2069 6e73 7472             instr
-0000b2a0: 696e 6720 3d20 696e 7374 7269 6e67 2e65  ing = instring.e
-0000b2b0: 7870 616e 6474 6162 7328 290a 2020 2020  xpandtabs().    
-0000b2c0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-0000b2d0: 2020 2020 206c 6f63 2c20 746f 6b65 6e73       loc, tokens
-0000b2e0: 203d 2073 656c 662e 5f70 6172 7365 2869   = self._parse(i
-0000b2f0: 6e73 7472 696e 672c 2030 290a 2020 2020  nstring, 0).    
-0000b300: 2020 2020 2020 2020 6966 2070 6172 7365          if parse
-0000b310: 416c 6c3a 0a20 2020 2020 2020 2020 2020  All:.           
-0000b320: 2020 2020 206c 6f63 203d 2073 656c 662e       loc = self.
-0000b330: 7072 6550 6172 7365 2869 6e73 7472 696e  preParse(instrin
-0000b340: 672c 206c 6f63 290a 2020 2020 2020 2020  g, loc).        
-0000b350: 2020 2020 2020 2020 7365 203d 2045 6d70          se = Emp
-0000b360: 7479 2829 202b 2053 7472 696e 6745 6e64  ty() + StringEnd
-0000b370: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-0000b380: 2020 2073 652e 5f70 6172 7365 2869 6e73     se._parse(ins
-0000b390: 7472 696e 672c 206c 6f63 290a 2020 2020  tring, loc).    
-0000b3a0: 2020 2020 6578 6365 7074 2050 6172 7365      except Parse
-0000b3b0: 4261 7365 4578 6365 7074 696f 6e20 6173  BaseException as
-0000b3c0: 2065 7863 3a0a 2020 2020 2020 2020 2020   exc:.          
-0000b3d0: 2020 6966 2050 6172 7365 7245 6c65 6d65    if ParserEleme
-0000b3e0: 6e74 2e76 6572 626f 7365 5f73 7461 636b  nt.verbose_stack
-0000b3f0: 7472 6163 653a 0a20 2020 2020 2020 2020  trace:.         
-0000b400: 2020 2020 2020 2072 6169 7365 0a20 2020         raise.   
-0000b410: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-0000b420: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-0000b430: 2063 6174 6368 2061 6e64 2072 652d 7261   catch and re-ra
-0000b440: 6973 6520 6578 6365 7074 696f 6e20 6672  ise exception fr
-0000b450: 6f6d 2068 6572 652c 2063 6c65 6172 696e  om here, clearin
-0000b460: 6720 6f75 7420 7079 7061 7273 696e 6720  g out pyparsing 
-0000b470: 696e 7465 726e 616c 2073 7461 636b 2074  internal stack t
-0000b480: 7261 6365 0a20 2020 2020 2020 2020 2020  race.           
-0000b490: 2020 2020 2072 6169 7365 2065 7863 2e77       raise exc.w
-0000b4a0: 6974 685f 7472 6163 6562 6163 6b28 4e6f  ith_traceback(No
-0000b4b0: 6e65 290a 2020 2020 2020 2020 656c 7365  ne).        else
-0000b4c0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0000b4d0: 7475 726e 2074 6f6b 656e 730a 0a20 2020  turn tokens..   
-0000b4e0: 2064 6566 2073 6361 6e5f 7374 7269 6e67   def scan_string
-0000b4f0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-0000b500: 2020 2020 2020 2020 696e 7374 7269 6e67          instring
-0000b510: 3a20 7374 722c 0a20 2020 2020 2020 206d  : str,.        m
-0000b520: 6178 5f6d 6174 6368 6573 3a20 696e 7420  ax_matches: int 
-0000b530: 3d20 5f4d 4158 5f49 4e54 2c0a 2020 2020  = _MAX_INT,.    
-0000b540: 2020 2020 6f76 6572 6c61 703a 2062 6f6f      overlap: boo
-0000b550: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
-0000b560: 2020 202a 2c0a 2020 2020 2020 2020 6465     *,.        de
-0000b570: 6275 673a 2062 6f6f 6c20 3d20 4661 6c73  bug: bool = Fals
-0000b580: 652c 0a20 2020 2020 2020 206d 6178 4d61  e,.        maxMa
-0000b590: 7463 6865 733a 2069 6e74 203d 205f 4d41  tches: int = _MA
-0000b5a0: 585f 494e 542c 0a20 2020 2029 202d 3e20  X_INT,.    ) -> 
-0000b5b0: 4765 6e65 7261 746f 725b 5475 706c 655b  Generator[Tuple[
-0000b5c0: 5061 7273 6552 6573 756c 7473 2c20 696e  ParseResults, in
-0000b5d0: 742c 2069 6e74 5d2c 204e 6f6e 652c 204e  t, int], None, N
-0000b5e0: 6f6e 655d 3a0a 2020 2020 2020 2020 2222  one]:.        ""
-0000b5f0: 220a 2020 2020 2020 2020 5363 616e 2074  ".        Scan t
-0000b600: 6865 2069 6e70 7574 2073 7472 696e 6720  he input string 
-0000b610: 666f 7220 6578 7072 6573 7369 6f6e 206d  for expression m
-0000b620: 6174 6368 6573 2e20 2045 6163 6820 6d61  atches.  Each ma
-0000b630: 7463 6820 7769 6c6c 2072 6574 7572 6e20  tch will return 
-0000b640: 7468 650a 2020 2020 2020 2020 6d61 7463  the.        matc
-0000b650: 6869 6e67 2074 6f6b 656e 732c 2073 7461  hing tokens, sta
-0000b660: 7274 206c 6f63 6174 696f 6e2c 2061 6e64  rt location, and
-0000b670: 2065 6e64 206c 6f63 6174 696f 6e2e 2020   end location.  
-0000b680: 4d61 7920 6265 2063 616c 6c65 6420 7769  May be called wi
-0000b690: 7468 206f 7074 696f 6e61 6c0a 2020 2020  th optional.    
-0000b6a0: 2020 2020 6060 6d61 785f 6d61 7463 6865      ``max_matche
-0000b6b0: 7360 6020 6172 6775 6d65 6e74 2c20 746f  s`` argument, to
-0000b6c0: 2063 6c69 7020 7363 616e 6e69 6e67 2061   clip scanning a
-0000b6d0: 6674 6572 2027 6e27 206d 6174 6368 6573  fter 'n' matches
-0000b6e0: 2061 7265 2066 6f75 6e64 2e20 2049 660a   are found.  If.
-0000b6f0: 2020 2020 2020 2020 6060 6f76 6572 6c61          ``overla
-0000b700: 7060 6020 6973 2073 7065 6369 6669 6564  p`` is specified
-0000b710: 2c20 7468 656e 206f 7665 726c 6170 7069  , then overlappi
-0000b720: 6e67 206d 6174 6368 6573 2077 696c 6c20  ng matches will 
-0000b730: 6265 2072 6570 6f72 7465 642e 0a0a 2020  be reported...  
-0000b740: 2020 2020 2020 4e6f 7465 2074 6861 7420        Note that 
-0000b750: 7468 6520 7374 6172 7420 616e 6420 656e  the start and en
-0000b760: 6420 6c6f 6361 7469 6f6e 7320 6172 6520  d locations are 
-0000b770: 7265 706f 7274 6564 2072 656c 6174 6976  reported relativ
-0000b780: 6520 746f 2074 6865 2073 7472 696e 670a  e to the string.
-0000b790: 2020 2020 2020 2020 6265 696e 6720 7061          being pa
-0000b7a0: 7273 6564 2e20 2053 6565 203a 636c 6173  rsed.  See :clas
-0000b7b0: 733a 6070 6172 7365 5f73 7472 696e 6760  s:`parse_string`
-0000b7c0: 2066 6f72 206d 6f72 6520 696e 666f 726d   for more inform
-0000b7d0: 6174 696f 6e20 6f6e 2070 6172 7369 6e67  ation on parsing
-0000b7e0: 0a20 2020 2020 2020 2073 7472 696e 6773  .        strings
-0000b7f0: 2077 6974 6820 656d 6265 6464 6564 2074   with embedded t
-0000b800: 6162 732e 0a0a 2020 2020 2020 2020 4578  abs...        Ex
-0000b810: 616d 706c 653a 3a0a 0a20 2020 2020 2020  ample::..       
-0000b820: 2020 2020 2073 6f75 7263 6520 3d20 2273       source = "s
-0000b830: 6c64 6a66 3132 336c 7364 6a6a 6b66 3334  ldjf123lsdjjkf34
-0000b840: 3573 6c64 6b6a 6638 3739 6c6b 6a73 6664  5sldkjf879lkjsfd
-0000b850: 3938 3722 0a20 2020 2020 2020 2020 2020  987".           
-0000b860: 2070 7269 6e74 2873 6f75 7263 6529 0a20   print(source). 
-0000b870: 2020 2020 2020 2020 2020 2066 6f72 2074             for t
-0000b880: 6f6b 656e 732c 2073 7461 7274 2c20 656e  okens, start, en
-0000b890: 6420 696e 2057 6f72 6428 616c 7068 6173  d in Word(alphas
-0000b8a0: 292e 7363 616e 5f73 7472 696e 6728 736f  ).scan_string(so
-0000b8b0: 7572 6365 293a 0a20 2020 2020 2020 2020  urce):.         
-0000b8c0: 2020 2020 2020 2070 7269 6e74 2827 2027         print(' '
-0000b8d0: 2a73 7461 7274 202b 2027 5e27 2a28 656e  *start + '^'*(en
-0000b8e0: 642d 7374 6172 7429 290a 2020 2020 2020  d-start)).      
-0000b8f0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-0000b900: 2720 272a 7374 6172 7420 2b20 746f 6b65  ' '*start + toke
-0000b910: 6e73 5b30 5d29 0a0a 2020 2020 2020 2020  ns[0])..        
-0000b920: 7072 696e 7473 3a3a 0a0a 2020 2020 2020  prints::..      
-0000b930: 2020 2020 2020 736c 646a 6631 3233 6c73        sldjf123ls
-0000b940: 646a 6a6b 6633 3435 736c 646b 6a66 3837  djjkf345sldkjf87
-0000b950: 396c 6b6a 7366 6439 3837 0a20 2020 2020  9lkjsfd987.     
-0000b960: 2020 2020 2020 205e 5e5e 5e5e 0a20 2020         ^^^^^.   
-0000b970: 2020 2020 2020 2020 2073 6c64 6a66 0a20           sldjf. 
-0000b980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b990: 2020 205e 5e5e 5e5e 5e5e 0a20 2020 2020     ^^^^^^^.     
-0000b9a0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-0000b9b0: 7364 6a6a 6b66 0a20 2020 2020 2020 2020  sdjjkf.         
-0000b9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b9d0: 2020 2020 205e 5e5e 5e5e 5e0a 2020 2020       ^^^^^^.    
-0000b9e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b9f0: 2020 2020 2020 2020 2020 736c 646b 6a66            sldkjf
-0000ba00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000ba10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ba20: 2020 2020 2020 2020 5e5e 5e5e 5e5e 0a20          ^^^^^^. 
-0000ba30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ba40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ba50: 2020 2020 2020 6c6b 6a73 6664 0a20 2020        lkjsfd.   
-0000ba60: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000ba70: 206d 6178 4d61 7463 6865 7320 3d20 6d69   maxMatches = mi
-0000ba80: 6e28 6d61 784d 6174 6368 6573 2c20 6d61  n(maxMatches, ma
-0000ba90: 785f 6d61 7463 6865 7329 0a20 2020 2020  x_matches).     
-0000baa0: 2020 2069 6620 6e6f 7420 7365 6c66 2e73     if not self.s
-0000bab0: 7472 6561 6d6c 696e 6564 3a0a 2020 2020  treamlined:.    
-0000bac0: 2020 2020 2020 2020 7365 6c66 2e73 7472          self.str
-0000bad0: 6561 6d6c 696e 6528 290a 2020 2020 2020  eamline().      
-0000bae0: 2020 666f 7220 6520 696e 2073 656c 662e    for e in self.
-0000baf0: 6967 6e6f 7265 4578 7072 733a 0a20 2020  ignoreExprs:.   
-0000bb00: 2020 2020 2020 2020 2065 2e73 7472 6561           e.strea
-0000bb10: 6d6c 696e 6528 290a 0a20 2020 2020 2020  mline()..       
-0000bb20: 2069 6620 6e6f 7420 7365 6c66 2e6b 6565   if not self.kee
-0000bb30: 7054 6162 733a 0a20 2020 2020 2020 2020  pTabs:.         
-0000bb40: 2020 2069 6e73 7472 696e 6720 3d20 7374     instring = st
-0000bb50: 7228 696e 7374 7269 6e67 292e 6578 7061  r(instring).expa
-0000bb60: 6e64 7461 6273 2829 0a20 2020 2020 2020  ndtabs().       
-0000bb70: 2069 6e73 7472 6c65 6e20 3d20 6c65 6e28   instrlen = len(
-0000bb80: 696e 7374 7269 6e67 290a 2020 2020 2020  instring).      
-0000bb90: 2020 6c6f 6320 3d20 300a 2020 2020 2020    loc = 0.      
-0000bba0: 2020 7072 6570 6172 7365 466e 203d 2073    preparseFn = s
-0000bbb0: 656c 662e 7072 6550 6172 7365 0a20 2020  elf.preParse.   
-0000bbc0: 2020 2020 2070 6172 7365 466e 203d 2073       parseFn = s
-0000bbd0: 656c 662e 5f70 6172 7365 0a20 2020 2020  elf._parse.     
-0000bbe0: 2020 2050 6172 7365 7245 6c65 6d65 6e74     ParserElement
-0000bbf0: 2e72 6573 6574 4361 6368 6528 290a 2020  .resetCache().  
-0000bc00: 2020 2020 2020 6d61 7463 6865 7320 3d20        matches = 
-0000bc10: 300a 2020 2020 2020 2020 7472 793a 0a20  0.        try:. 
-0000bc20: 2020 2020 2020 2020 2020 2077 6869 6c65             while
-0000bc30: 206c 6f63 203c 3d20 696e 7374 726c 656e   loc <= instrlen
-0000bc40: 2061 6e64 206d 6174 6368 6573 203c 206d   and matches < m
-0000bc50: 6178 4d61 7463 6865 733a 0a20 2020 2020  axMatches:.     
-0000bc60: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
-0000bc70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bc80: 2020 2020 7072 656c 6f63 3a20 696e 7420      preloc: int 
-0000bc90: 3d20 7072 6570 6172 7365 466e 2869 6e73  = preparseFn(ins
-0000bca0: 7472 696e 672c 206c 6f63 290a 2020 2020  tring, loc).    
-0000bcb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bcc0: 6e65 7874 4c6f 633a 2069 6e74 0a20 2020  nextLoc: int.   
-0000bcd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bce0: 2074 6f6b 656e 733a 2050 6172 7365 5265   tokens: ParseRe
-0000bcf0: 7375 6c74 730a 2020 2020 2020 2020 2020  sults.          
-0000bd00: 2020 2020 2020 2020 2020 6e65 7874 4c6f            nextLo
-0000bd10: 632c 2074 6f6b 656e 7320 3d20 7061 7273  c, tokens = pars
-0000bd20: 6546 6e28 696e 7374 7269 6e67 2c20 7072  eFn(instring, pr
-0000bd30: 656c 6f63 2c20 6361 6c6c 5072 6550 6172  eloc, callPrePar
-0000bd40: 7365 3d46 616c 7365 290a 2020 2020 2020  se=False).      
-0000bd50: 2020 2020 2020 2020 2020 6578 6365 7074            except
-0000bd60: 2050 6172 7365 4578 6365 7074 696f 6e3a   ParseException:
-0000bd70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000bd80: 2020 2020 206c 6f63 203d 2070 7265 6c6f       loc = prelo
-0000bd90: 6320 2b20 310a 2020 2020 2020 2020 2020  c + 1.          
-0000bda0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0000bdb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bdc0: 6966 206e 6578 744c 6f63 203e 206c 6f63  if nextLoc > loc
-0000bdd0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000bde0: 2020 2020 2020 2020 2020 6d61 7463 6865            matche
-0000bdf0: 7320 2b3d 2031 0a20 2020 2020 2020 2020  s += 1.         
-0000be00: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000be10: 6620 6465 6275 673a 0a20 2020 2020 2020  f debug:.       
+000091b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000091c0: 696e 7374 7269 6e67 2c20 6c6f 632c 2073  instring, loc, s
+000091d0: 656c 662c 2076 616c 7565 2c20 6361 6368  elf, value, cach
+000091e0: 655f 6869 743d 5472 7565 2020 2320 7479  e_hit=True  # ty
+000091f0: 7065 3a20 6967 6e6f 7265 205b 6361 6c6c  pe: ignore [call
+00009200: 2d61 7267 5d0a 2020 2020 2020 2020 2020  -arg].          
+00009210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009220: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+00009230: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+00009240: 7074 2054 7970 6545 7272 6f72 3a0a 2020  pt TypeError:.  
+00009250: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009260: 2020 2020 2020 2020 2020 7061 7373 0a20            pass. 
+00009270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009280: 2020 2072 6169 7365 2076 616c 7565 0a0a     raise value..
+00009290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000092a0: 7661 6c75 6520 3d20 6361 7374 2854 7570  value = cast(Tup
+000092b0: 6c65 5b69 6e74 2c20 5061 7273 6552 6573  le[int, ParseRes
+000092c0: 756c 7473 2c20 696e 745d 2c20 7661 6c75  ults, int], valu
+000092d0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+000092e0: 2020 206c 6f63 5f2c 2072 6573 756c 742c     loc_, result,
+000092f0: 2065 6e64 6c6f 6320 3d20 7661 6c75 655b   endloc = value[
+00009300: 305d 2c20 7661 6c75 655b 315d 2e63 6f70  0], value[1].cop
+00009310: 7928 292c 2076 616c 7565 5b32 5d0a 2020  y(), value[2].  
+00009320: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00009330: 2073 656c 662e 6465 6275 6720 616e 6420   self.debug and 
+00009340: 7365 6c66 2e64 6562 7567 4163 7469 6f6e  self.debugAction
+00009350: 732e 6465 6275 675f 6d61 7463 683a 0a20  s.debug_match:. 
+00009360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009370: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00009380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009390: 7365 6c66 2e64 6562 7567 4163 7469 6f6e  self.debugAction
+000093a0: 732e 6465 6275 675f 6d61 7463 6828 0a20  s.debug_match(. 
+000093b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000093c0: 2020 2020 2020 2020 2020 2069 6e73 7472             instr
+000093d0: 696e 672c 206c 6f63 5f2c 2065 6e64 6c6f  ing, loc_, endlo
+000093e0: 632c 2073 656c 662c 2072 6573 756c 742c  c, self, result,
+000093f0: 2063 6163 6865 5f68 6974 3d54 7275 6520   cache_hit=True 
+00009400: 2023 2074 7970 653a 2069 676e 6f72 6520   # type: ignore 
+00009410: 5b63 616c 6c2d 6172 675d 0a20 2020 2020  [call-arg].     
+00009420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009430: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+00009440: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+00009450: 5479 7065 4572 726f 723a 0a20 2020 2020  TypeError:.     
+00009460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009470: 2020 2070 6173 730a 0a20 2020 2020 2020     pass..       
+00009480: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00009490: 6c6f 635f 2c20 7265 7375 6c74 0a0a 2020  loc_, result..  
+000094a0: 2020 5f70 6172 7365 203d 205f 7061 7273    _parse = _pars
+000094b0: 654e 6f43 6163 6865 0a0a 2020 2020 4073  eNoCache..    @s
+000094c0: 7461 7469 636d 6574 686f 640a 2020 2020  taticmethod.    
+000094d0: 6465 6620 7265 7365 745f 6361 6368 6528  def reset_cache(
+000094e0: 2920 2d3e 204e 6f6e 653a 0a20 2020 2020  ) -> None:.     
+000094f0: 2020 2050 6172 7365 7245 6c65 6d65 6e74     ParserElement
+00009500: 2e70 6163 6b72 6174 5f63 6163 6865 2e63  .packrat_cache.c
+00009510: 6c65 6172 2829 0a20 2020 2020 2020 2050  lear().        P
+00009520: 6172 7365 7245 6c65 6d65 6e74 2e70 6163  arserElement.pac
+00009530: 6b72 6174 5f63 6163 6865 5f73 7461 7473  krat_cache_stats
+00009540: 5b3a 5d20 3d20 5b30 5d20 2a20 6c65 6e28  [:] = [0] * len(
+00009550: 0a20 2020 2020 2020 2020 2020 2050 6172  .            Par
+00009560: 7365 7245 6c65 6d65 6e74 2e70 6163 6b72  serElement.packr
+00009570: 6174 5f63 6163 6865 5f73 7461 7473 0a20  at_cache_stats. 
+00009580: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00009590: 2050 6172 7365 7245 6c65 6d65 6e74 2e72   ParserElement.r
+000095a0: 6563 7572 7369 6f6e 5f6d 656d 6f73 2e63  ecursion_memos.c
+000095b0: 6c65 6172 2829 0a0a 2020 2020 5f70 6163  lear()..    _pac
+000095c0: 6b72 6174 456e 6162 6c65 6420 3d20 4661  kratEnabled = Fa
+000095d0: 6c73 650a 2020 2020 5f6c 6566 745f 7265  lse.    _left_re
+000095e0: 6375 7273 696f 6e5f 656e 6162 6c65 6420  cursion_enabled 
+000095f0: 3d20 4661 6c73 650a 0a20 2020 2040 7374  = False..    @st
+00009600: 6174 6963 6d65 7468 6f64 0a20 2020 2064  aticmethod.    d
+00009610: 6566 2064 6973 6162 6c65 5f6d 656d 6f69  ef disable_memoi
+00009620: 7a61 7469 6f6e 2829 202d 3e20 4e6f 6e65  zation() -> None
+00009630: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+00009640: 2020 2020 2020 4469 7361 626c 6573 2061        Disables a
+00009650: 6374 6976 6520 5061 636b 7261 7420 6f72  ctive Packrat or
+00009660: 204c 6566 7420 5265 6375 7273 696f 6e20   Left Recursion 
+00009670: 7061 7273 696e 6720 616e 6420 7468 6569  parsing and thei
+00009680: 7220 6d65 6d6f 697a 6174 696f 6e0a 0a20  r memoization.. 
+00009690: 2020 2020 2020 2054 6869 7320 6d65 7468         This meth
+000096a0: 6f64 2061 6c73 6f20 776f 726b 7320 6966  od also works if
+000096b0: 206e 6569 7468 6572 2050 6163 6b72 6174   neither Packrat
+000096c0: 206e 6f72 204c 6566 7420 5265 6375 7273   nor Left Recurs
+000096d0: 696f 6e20 6172 6520 656e 6162 6c65 642e  ion are enabled.
+000096e0: 0a20 2020 2020 2020 2054 6869 7320 6d61  .        This ma
+000096f0: 6b65 7320 6974 2073 6166 6520 746f 2063  kes it safe to c
+00009700: 616c 6c20 6265 666f 7265 2061 6374 6976  all before activ
+00009710: 6174 696e 6720 5061 636b 7261 7420 6e6f  ating Packrat no
+00009720: 7220 4c65 6674 2052 6563 7572 7369 6f6e  r Left Recursion
+00009730: 0a20 2020 2020 2020 2074 6f20 636c 6561  .        to clea
+00009740: 7220 616e 7920 7072 6576 696f 7573 2073  r any previous s
+00009750: 6574 7469 6e67 732e 0a20 2020 2020 2020  ettings..       
+00009760: 2022 2222 0a20 2020 2020 2020 2050 6172   """.        Par
+00009770: 7365 7245 6c65 6d65 6e74 2e72 6573 6574  serElement.reset
+00009780: 5f63 6163 6865 2829 0a20 2020 2020 2020  _cache().       
+00009790: 2050 6172 7365 7245 6c65 6d65 6e74 2e5f   ParserElement._
+000097a0: 6c65 6674 5f72 6563 7572 7369 6f6e 5f65  left_recursion_e
+000097b0: 6e61 626c 6564 203d 2046 616c 7365 0a20  nabled = False. 
+000097c0: 2020 2020 2020 2050 6172 7365 7245 6c65         ParserEle
+000097d0: 6d65 6e74 2e5f 7061 636b 7261 7445 6e61  ment._packratEna
+000097e0: 626c 6564 203d 2046 616c 7365 0a20 2020  bled = False.   
+000097f0: 2020 2020 2050 6172 7365 7245 6c65 6d65       ParserEleme
+00009800: 6e74 2e5f 7061 7273 6520 3d20 5061 7273  nt._parse = Pars
+00009810: 6572 456c 656d 656e 742e 5f70 6172 7365  erElement._parse
+00009820: 4e6f 4361 6368 650a 0a20 2020 2040 7374  NoCache..    @st
+00009830: 6174 6963 6d65 7468 6f64 0a20 2020 2064  aticmethod.    d
+00009840: 6566 2065 6e61 626c 655f 6c65 6674 5f72  ef enable_left_r
+00009850: 6563 7572 7369 6f6e 280a 2020 2020 2020  ecursion(.      
+00009860: 2020 6361 6368 655f 7369 7a65 5f6c 696d    cache_size_lim
+00009870: 6974 3a20 7479 7069 6e67 2e4f 7074 696f  it: typing.Optio
+00009880: 6e61 6c5b 696e 745d 203d 204e 6f6e 652c  nal[int] = None,
+00009890: 202a 2c20 666f 7263 653d 4661 6c73 650a   *, force=False.
+000098a0: 2020 2020 2920 2d3e 204e 6f6e 653a 0a20      ) -> None:. 
+000098b0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000098c0: 2020 2045 6e61 626c 6573 2022 626f 756e     Enables "boun
+000098d0: 6465 6420 7265 6375 7273 696f 6e22 2070  ded recursion" p
+000098e0: 6172 7369 6e67 2c20 7768 6963 6820 616c  arsing, which al
+000098f0: 6c6f 7773 2066 6f72 2062 6f74 6820 6469  lows for both di
+00009900: 7265 6374 2061 6e64 2069 6e64 6972 6563  rect and indirec
+00009910: 740a 2020 2020 2020 2020 6c65 6674 2d72  t.        left-r
+00009920: 6563 7572 7369 6f6e 2e20 4475 7269 6e67  ecursion. During
+00009930: 2070 6172 7369 6e67 2c20 6c65 6674 2d72   parsing, left-r
+00009940: 6563 7572 7369 7665 203a 636c 6173 733a  ecursive :class:
+00009950: 6046 6f72 7761 7264 6020 656c 656d 656e  `Forward` elemen
+00009960: 7473 2061 7265 0a20 2020 2020 2020 2072  ts are.        r
+00009970: 6570 6561 7465 646c 7920 6d61 7463 6865  epeatedly matche
+00009980: 6420 7769 7468 2061 2066 6978 6564 2072  d with a fixed r
+00009990: 6563 7572 7369 6f6e 2064 6570 7468 2074  ecursion depth t
+000099a0: 6861 7420 6973 2067 7261 6475 616c 6c79  hat is gradually
+000099b0: 2069 6e63 7265 6173 6564 0a20 2020 2020   increased.     
+000099c0: 2020 2075 6e74 696c 2066 696e 6469 6e67     until finding
+000099d0: 2074 6865 206c 6f6e 6765 7374 206d 6174   the longest mat
+000099e0: 6368 2e0a 0a20 2020 2020 2020 2045 7861  ch...        Exa
+000099f0: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
+00009a00: 2020 2020 696d 706f 7274 2070 7970 6172      import pypar
+00009a10: 7369 6e67 2061 7320 7070 0a20 2020 2020  sing as pp.     
+00009a20: 2020 2020 2020 2070 702e 5061 7273 6572         pp.Parser
+00009a30: 456c 656d 656e 742e 656e 6162 6c65 5f6c  Element.enable_l
+00009a40: 6566 745f 7265 6375 7273 696f 6e28 290a  eft_recursion().
+00009a50: 0a20 2020 2020 2020 2020 2020 2045 203d  .            E =
+00009a60: 2070 702e 466f 7277 6172 6428 2245 2229   pp.Forward("E")
+00009a70: 0a20 2020 2020 2020 2020 2020 206e 756d  .            num
+00009a80: 203d 2070 702e 576f 7264 2870 702e 6e75   = pp.Word(pp.nu
+00009a90: 6d73 290a 2020 2020 2020 2020 2020 2020  ms).            
+00009aa0: 2320 6d61 7463 6820 606e 756d 602c 206f  # match `num`, o
+00009ab0: 7220 606e 756d 2027 2b27 206e 756d 602c  r `num '+' num`,
+00009ac0: 206f 7220 606e 756d 2027 2b27 206e 756d   or `num '+' num
+00009ad0: 2027 2b27 206e 756d 602c 202e 2e2e 0a20   '+' num`, .... 
+00009ae0: 2020 2020 2020 2020 2020 2045 203c 3c3d             E <<=
+00009af0: 2045 202b 2027 2b27 202d 206e 756d 207c   E + '+' - num |
+00009b00: 206e 756d 0a0a 2020 2020 2020 2020 2020   num..          
+00009b10: 2020 7072 696e 7428 452e 7061 7273 655f    print(E.parse_
+00009b20: 7374 7269 6e67 2822 312b 322b 3322 2929  string("1+2+3"))
+00009b30: 0a0a 2020 2020 2020 2020 5265 6375 7273  ..        Recurs
+00009b40: 696f 6e20 7365 6172 6368 206e 6174 7572  ion search natur
+00009b50: 616c 6c79 206d 656d 6f69 7a65 7320 6d61  ally memoizes ma
+00009b60: 7463 6865 7320 6f66 2060 6046 6f72 7761  tches of ``Forwa
+00009b70: 7264 6060 2065 6c65 6d65 6e74 7320 616e  rd`` elements an
+00009b80: 6420 6d61 790a 2020 2020 2020 2020 7468  d may.        th
+00009b90: 7573 2073 6b69 7020 7265 6576 616c 7561  us skip reevalua
+00009ba0: 7469 6f6e 206f 6620 7061 7273 6520 6163  tion of parse ac
+00009bb0: 7469 6f6e 7320 6475 7269 6e67 2062 6163  tions during bac
+00009bc0: 6b74 7261 636b 696e 672e 2054 6869 7320  ktracking. This 
+00009bd0: 6d61 7920 6272 6561 6b0a 2020 2020 2020  may break.      
+00009be0: 2020 7072 6f67 7261 6d73 2077 6974 6820    programs with 
+00009bf0: 7061 7273 6520 6163 7469 6f6e 7320 7768  parse actions wh
+00009c00: 6963 6820 7265 6c79 206f 6e20 7374 7269  ich rely on stri
+00009c10: 6374 206f 7264 6572 696e 6720 6f66 2073  ct ordering of s
+00009c20: 6964 652d 6566 6665 6374 732e 0a0a 2020  ide-effects...  
+00009c30: 2020 2020 2020 5061 7261 6d65 7465 7273        Parameters
+00009c40: 3a0a 0a20 2020 2020 2020 202d 2060 6063  :..        - ``c
+00009c50: 6163 6865 5f73 697a 655f 6c69 6d69 7460  ache_size_limit`
+00009c60: 6020 2d20 2864 6566 6175 6c74 3d60 604e  ` - (default=``N
+00009c70: 6f6e 6560 6029 202d 206d 656d 6f69 7a65  one``) - memoize
+00009c80: 2061 7420 6d6f 7374 2074 6869 7320 6d61   at most this ma
+00009c90: 6e79 0a20 2020 2020 2020 2020 2060 6046  ny.          ``F
+00009ca0: 6f72 7761 7264 6060 2065 6c65 6d65 6e74  orward`` element
+00009cb0: 7320 6475 7269 6e67 206d 6174 6368 696e  s during matchin
+00009cc0: 673b 2069 6620 6060 4e6f 6e65 6060 2028  g; if ``None`` (
+00009cd0: 7468 6520 6465 6661 756c 7429 2c0a 2020  the default),.  
+00009ce0: 2020 2020 2020 2020 6d65 6d6f 697a 6520          memoize 
+00009cf0: 616c 6c20 6060 466f 7277 6172 6460 6020  all ``Forward`` 
+00009d00: 656c 656d 656e 7473 2e0a 0a20 2020 2020  elements...     
+00009d10: 2020 2042 6f75 6e64 6564 2052 6563 7572     Bounded Recur
+00009d20: 7369 6f6e 2070 6172 7369 6e67 2077 6f72  sion parsing wor
+00009d30: 6b73 2073 696d 696c 6172 2062 7574 206e  ks similar but n
+00009d40: 6f74 2069 6465 6e74 6963 616c 2074 6f20  ot identical to 
+00009d50: 5061 636b 7261 7420 7061 7273 696e 672c  Packrat parsing,
+00009d60: 0a20 2020 2020 2020 2074 6875 7320 7468  .        thus th
+00009d70: 6520 7477 6f20 6361 6e6e 6f74 2062 6520  e two cannot be 
+00009d80: 7573 6564 2074 6f67 6574 6865 722e 2055  used together. U
+00009d90: 7365 2060 6066 6f72 6365 3d54 7275 6560  se ``force=True`
+00009da0: 6020 746f 2064 6973 6162 6c65 2061 6e79  ` to disable any
+00009db0: 0a20 2020 2020 2020 2070 7265 7669 6f75  .        previou
+00009dc0: 732c 2063 6f6e 666c 6963 7469 6e67 2073  s, conflicting s
+00009dd0: 6574 7469 6e67 732e 0a20 2020 2020 2020  ettings..       
+00009de0: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+00009df0: 666f 7263 653a 0a20 2020 2020 2020 2020  force:.         
+00009e00: 2020 2050 6172 7365 7245 6c65 6d65 6e74     ParserElement
+00009e10: 2e64 6973 6162 6c65 5f6d 656d 6f69 7a61  .disable_memoiza
+00009e20: 7469 6f6e 2829 0a20 2020 2020 2020 2065  tion().        e
+00009e30: 6c69 6620 5061 7273 6572 456c 656d 656e  lif ParserElemen
+00009e40: 742e 5f70 6163 6b72 6174 456e 6162 6c65  t._packratEnable
+00009e50: 643a 0a20 2020 2020 2020 2020 2020 2072  d:.            r
+00009e60: 6169 7365 2052 756e 7469 6d65 4572 726f  aise RuntimeErro
+00009e70: 7228 2250 6163 6b72 6174 2061 6e64 2042  r("Packrat and B
+00009e80: 6f75 6e64 6564 2052 6563 7572 7369 6f6e  ounded Recursion
+00009e90: 2061 7265 206e 6f74 2063 6f6d 7061 7469   are not compati
+00009ea0: 626c 6522 290a 2020 2020 2020 2020 6966  ble").        if
+00009eb0: 2063 6163 6865 5f73 697a 655f 6c69 6d69   cache_size_limi
+00009ec0: 7420 6973 204e 6f6e 653a 0a20 2020 2020  t is None:.     
+00009ed0: 2020 2020 2020 2050 6172 7365 7245 6c65         ParserEle
+00009ee0: 6d65 6e74 2e72 6563 7572 7369 6f6e 5f6d  ment.recursion_m
+00009ef0: 656d 6f73 203d 205f 556e 626f 756e 6465  emos = _Unbounde
+00009f00: 644d 656d 6f28 2920 2023 2074 7970 653a  dMemo()  # type:
+00009f10: 2069 676e 6f72 655b 6173 7369 676e 6d65   ignore[assignme
+00009f20: 6e74 5d0a 2020 2020 2020 2020 656c 6966  nt].        elif
+00009f30: 2063 6163 6865 5f73 697a 655f 6c69 6d69   cache_size_limi
+00009f40: 7420 3e20 303a 0a20 2020 2020 2020 2020  t > 0:.         
+00009f50: 2020 2050 6172 7365 7245 6c65 6d65 6e74     ParserElement
+00009f60: 2e72 6563 7572 7369 6f6e 5f6d 656d 6f73  .recursion_memos
+00009f70: 203d 205f 4c52 554d 656d 6f28 6361 7061   = _LRUMemo(capa
+00009f80: 6369 7479 3d63 6163 6865 5f73 697a 655f  city=cache_size_
+00009f90: 6c69 6d69 7429 2020 2320 7479 7065 3a20  limit)  # type: 
+00009fa0: 6967 6e6f 7265 5b61 7373 6967 6e6d 656e  ignore[assignmen
+00009fb0: 745d 0a20 2020 2020 2020 2065 6c73 653a  t].        else:
+00009fc0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00009fd0: 7365 204e 6f74 496d 706c 656d 656e 7465  se NotImplemente
+00009fe0: 6445 7272 6f72 2822 4d65 6d6f 2073 697a  dError("Memo siz
+00009ff0: 6520 6f66 2025 7322 2025 2063 6163 6865  e of %s" % cache
+0000a000: 5f73 697a 655f 6c69 6d69 7429 0a20 2020  _size_limit).   
+0000a010: 2020 2020 2050 6172 7365 7245 6c65 6d65       ParserEleme
+0000a020: 6e74 2e5f 6c65 6674 5f72 6563 7572 7369  nt._left_recursi
+0000a030: 6f6e 5f65 6e61 626c 6564 203d 2054 7275  on_enabled = Tru
+0000a040: 650a 0a20 2020 2040 7374 6174 6963 6d65  e..    @staticme
+0000a050: 7468 6f64 0a20 2020 2064 6566 2065 6e61  thod.    def ena
+0000a060: 626c 655f 7061 636b 7261 7428 6361 6368  ble_packrat(cach
+0000a070: 655f 7369 7a65 5f6c 696d 6974 3a20 696e  e_size_limit: in
+0000a080: 7420 3d20 3132 382c 202a 2c20 666f 7263  t = 128, *, forc
+0000a090: 653a 2062 6f6f 6c20 3d20 4661 6c73 6529  e: bool = False)
+0000a0a0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
+0000a0b0: 2020 2222 220a 2020 2020 2020 2020 456e    """.        En
+0000a0c0: 6162 6c65 7320 2270 6163 6b72 6174 2220  ables "packrat" 
+0000a0d0: 7061 7273 696e 672c 2077 6869 6368 2061  parsing, which a
+0000a0e0: 6464 7320 6d65 6d6f 697a 696e 6720 746f  dds memoizing to
+0000a0f0: 2074 6865 2070 6172 7369 6e67 206c 6f67   the parsing log
+0000a100: 6963 2e0a 2020 2020 2020 2020 5265 7065  ic..        Repe
+0000a110: 6174 6564 2070 6172 7365 2061 7474 656d  ated parse attem
+0000a120: 7074 7320 6174 2074 6865 2073 616d 6520  pts at the same 
+0000a130: 7374 7269 6e67 206c 6f63 6174 696f 6e20  string location 
+0000a140: 2877 6869 6368 2068 6170 7065 6e73 0a20  (which happens. 
+0000a150: 2020 2020 2020 206f 6674 656e 2069 6e20         often in 
+0000a160: 6d61 6e79 2063 6f6d 706c 6578 2067 7261  many complex gra
+0000a170: 6d6d 6172 7329 2063 616e 2069 6d6d 6564  mmars) can immed
+0000a180: 6961 7465 6c79 2072 6574 7572 6e20 6120  iately return a 
+0000a190: 6361 6368 6564 2076 616c 7565 2c0a 2020  cached value,.  
+0000a1a0: 2020 2020 2020 696e 7374 6561 6420 6f66        instead of
+0000a1b0: 2072 652d 6578 6563 7574 696e 6720 7061   re-executing pa
+0000a1c0: 7273 696e 672f 7661 6c69 6461 7469 6e67  rsing/validating
+0000a1d0: 2063 6f64 652e 2020 4d65 6d6f 697a 696e   code.  Memoizin
+0000a1e0: 6720 6973 2064 6f6e 6520 6f66 0a20 2020  g is done of.   
+0000a1f0: 2020 2020 2062 6f74 6820 7661 6c69 6420       both valid 
+0000a200: 7265 7375 6c74 7320 616e 6420 7061 7273  results and pars
+0000a210: 696e 6720 6578 6365 7074 696f 6e73 2e0a  ing exceptions..
+0000a220: 0a20 2020 2020 2020 2050 6172 616d 6574  .        Paramet
+0000a230: 6572 733a 0a0a 2020 2020 2020 2020 2d20  ers:..        - 
+0000a240: 6060 6361 6368 655f 7369 7a65 5f6c 696d  ``cache_size_lim
+0000a250: 6974 6060 202d 2028 6465 6661 756c 743d  it`` - (default=
+0000a260: 2060 6031 3238 6060 2920 2d20 6966 2061   ``128``) - if a
+0000a270: 6e20 696e 7465 6765 7220 7661 6c75 6520  n integer value 
+0000a280: 6973 2070 726f 7669 6465 640a 2020 2020  is provided.    
+0000a290: 2020 2020 2020 7769 6c6c 206c 696d 6974        will limit
+0000a2a0: 2074 6865 2073 697a 6520 6f66 2074 6865   the size of the
+0000a2b0: 2070 6163 6b72 6174 2063 6163 6865 3b20   packrat cache; 
+0000a2c0: 6966 204e 6f6e 6520 6973 2070 6173 7365  if None is passe
+0000a2d0: 642c 2074 6865 6e0a 2020 2020 2020 2020  d, then.        
+0000a2e0: 2020 7468 6520 6361 6368 6520 7369 7a65    the cache size
+0000a2f0: 2077 696c 6c20 6265 2075 6e62 6f75 6e64   will be unbound
+0000a300: 6564 3b20 6966 2030 2069 7320 7061 7373  ed; if 0 is pass
+0000a310: 6564 2c20 7468 6520 6361 6368 6520 7769  ed, the cache wi
+0000a320: 6c6c 0a20 2020 2020 2020 2020 2062 6520  ll.          be 
+0000a330: 6566 6665 6374 6976 656c 7920 6469 7361  effectively disa
+0000a340: 626c 6564 2e0a 0a20 2020 2020 2020 2054  bled...        T
+0000a350: 6869 7320 7370 6565 6475 7020 6d61 7920  his speedup may 
+0000a360: 6272 6561 6b20 6578 6973 7469 6e67 2070  break existing p
+0000a370: 726f 6772 616d 7320 7468 6174 2075 7365  rograms that use
+0000a380: 2070 6172 7365 2061 6374 696f 6e73 2074   parse actions t
+0000a390: 6861 740a 2020 2020 2020 2020 6861 7665  hat.        have
+0000a3a0: 2073 6964 652d 6566 6665 6374 732e 2020   side-effects.  
+0000a3b0: 466f 7220 7468 6973 2072 6561 736f 6e2c  For this reason,
+0000a3c0: 2070 6163 6b72 6174 2070 6172 7369 6e67   packrat parsing
+0000a3d0: 2069 7320 6469 7361 626c 6564 2077 6865   is disabled whe
+0000a3e0: 6e0a 2020 2020 2020 2020 796f 7520 6669  n.        you fi
+0000a3f0: 7273 7420 696d 706f 7274 2070 7970 6172  rst import pypar
+0000a400: 7369 6e67 2e20 2054 6f20 6163 7469 7661  sing.  To activa
+0000a410: 7465 2074 6865 2070 6163 6b72 6174 2066  te the packrat f
+0000a420: 6561 7475 7265 2c20 796f 7572 0a20 2020  eature, your.   
+0000a430: 2020 2020 2070 726f 6772 616d 206d 7573       program mus
+0000a440: 7420 6361 6c6c 2074 6865 2063 6c61 7373  t call the class
+0000a450: 206d 6574 686f 6420 3a63 6c61 7373 3a60   method :class:`
+0000a460: 5061 7273 6572 456c 656d 656e 742e 656e  ParserElement.en
+0000a470: 6162 6c65 5f70 6163 6b72 6174 602e 0a20  able_packrat`.. 
+0000a480: 2020 2020 2020 2046 6f72 2062 6573 7420         For best 
+0000a490: 7265 7375 6c74 732c 2063 616c 6c20 6060  results, call ``
+0000a4a0: 656e 6162 6c65 5f70 6163 6b72 6174 2829  enable_packrat()
+0000a4b0: 6060 2069 6d6d 6564 6961 7465 6c79 2061  `` immediately a
+0000a4c0: 6674 6572 0a20 2020 2020 2020 2069 6d70  fter.        imp
+0000a4d0: 6f72 7469 6e67 2070 7970 6172 7369 6e67  orting pyparsing
+0000a4e0: 2e0a 0a20 2020 2020 2020 2045 7861 6d70  ...        Examp
+0000a4f0: 6c65 3a3a 0a0a 2020 2020 2020 2020 2020  le::..          
+0000a500: 2020 696d 706f 7274 2070 7970 6172 7369    import pyparsi
+0000a510: 6e67 0a20 2020 2020 2020 2020 2020 2070  ng.            p
+0000a520: 7970 6172 7369 6e67 2e50 6172 7365 7245  yparsing.ParserE
+0000a530: 6c65 6d65 6e74 2e65 6e61 626c 655f 7061  lement.enable_pa
+0000a540: 636b 7261 7428 290a 0a20 2020 2020 2020  ckrat()..       
+0000a550: 2050 6163 6b72 6174 2070 6172 7369 6e67   Packrat parsing
+0000a560: 2077 6f72 6b73 2073 696d 696c 6172 2062   works similar b
+0000a570: 7574 206e 6f74 2069 6465 6e74 6963 616c  ut not identical
+0000a580: 2074 6f20 426f 756e 6465 6420 5265 6375   to Bounded Recu
+0000a590: 7273 696f 6e20 7061 7273 696e 672c 0a20  rsion parsing,. 
+0000a5a0: 2020 2020 2020 2074 6875 7320 7468 6520         thus the 
+0000a5b0: 7477 6f20 6361 6e6e 6f74 2062 6520 7573  two cannot be us
+0000a5c0: 6564 2074 6f67 6574 6865 722e 2055 7365  ed together. Use
+0000a5d0: 2060 6066 6f72 6365 3d54 7275 6560 6020   ``force=True`` 
+0000a5e0: 746f 2064 6973 6162 6c65 2061 6e79 0a20  to disable any. 
+0000a5f0: 2020 2020 2020 2070 7265 7669 6f75 732c         previous,
+0000a600: 2063 6f6e 666c 6963 7469 6e67 2073 6574   conflicting set
+0000a610: 7469 6e67 732e 0a20 2020 2020 2020 2022  tings..        "
+0000a620: 2222 0a20 2020 2020 2020 2069 6620 666f  "".        if fo
+0000a630: 7263 653a 0a20 2020 2020 2020 2020 2020  rce:.           
+0000a640: 2050 6172 7365 7245 6c65 6d65 6e74 2e64   ParserElement.d
+0000a650: 6973 6162 6c65 5f6d 656d 6f69 7a61 7469  isable_memoizati
+0000a660: 6f6e 2829 0a20 2020 2020 2020 2065 6c69  on().        eli
+0000a670: 6620 5061 7273 6572 456c 656d 656e 742e  f ParserElement.
+0000a680: 5f6c 6566 745f 7265 6375 7273 696f 6e5f  _left_recursion_
+0000a690: 656e 6162 6c65 643a 0a20 2020 2020 2020  enabled:.       
+0000a6a0: 2020 2020 2072 6169 7365 2052 756e 7469       raise Runti
+0000a6b0: 6d65 4572 726f 7228 2250 6163 6b72 6174  meError("Packrat
+0000a6c0: 2061 6e64 2042 6f75 6e64 6564 2052 6563   and Bounded Rec
+0000a6d0: 7572 7369 6f6e 2061 7265 206e 6f74 2063  ursion are not c
+0000a6e0: 6f6d 7061 7469 626c 6522 290a 2020 2020  ompatible").    
+0000a6f0: 2020 2020 6966 206e 6f74 2050 6172 7365      if not Parse
+0000a700: 7245 6c65 6d65 6e74 2e5f 7061 636b 7261  rElement._packra
+0000a710: 7445 6e61 626c 6564 3a0a 2020 2020 2020  tEnabled:.      
+0000a720: 2020 2020 2020 5061 7273 6572 456c 656d        ParserElem
+0000a730: 656e 742e 5f70 6163 6b72 6174 456e 6162  ent._packratEnab
+0000a740: 6c65 6420 3d20 5472 7565 0a20 2020 2020  led = True.     
+0000a750: 2020 2020 2020 2069 6620 6361 6368 655f         if cache_
+0000a760: 7369 7a65 5f6c 696d 6974 2069 7320 4e6f  size_limit is No
+0000a770: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+0000a780: 2020 2020 5061 7273 6572 456c 656d 656e      ParserElemen
+0000a790: 742e 7061 636b 7261 745f 6361 6368 6520  t.packrat_cache 
+0000a7a0: 3d20 5f55 6e62 6f75 6e64 6564 4361 6368  = _UnboundedCach
+0000a7b0: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
+0000a7c0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0000a7d0: 2020 2020 2020 5061 7273 6572 456c 656d        ParserElem
+0000a7e0: 656e 742e 7061 636b 7261 745f 6361 6368  ent.packrat_cach
+0000a7f0: 6520 3d20 5f46 6966 6f43 6163 6865 2863  e = _FifoCache(c
+0000a800: 6163 6865 5f73 697a 655f 6c69 6d69 7429  ache_size_limit)
+0000a810: 2020 2320 7479 7065 3a20 6967 6e6f 7265    # type: ignore
+0000a820: 5b61 7373 6967 6e6d 656e 745d 0a20 2020  [assignment].   
+0000a830: 2020 2020 2020 2020 2050 6172 7365 7245           ParserE
+0000a840: 6c65 6d65 6e74 2e5f 7061 7273 6520 3d20  lement._parse = 
+0000a850: 5061 7273 6572 456c 656d 656e 742e 5f70  ParserElement._p
+0000a860: 6172 7365 4361 6368 650a 0a20 2020 2064  arseCache..    d
+0000a870: 6566 2070 6172 7365 5f73 7472 696e 6728  ef parse_string(
+0000a880: 0a20 2020 2020 2020 2073 656c 662c 2069  .        self, i
+0000a890: 6e73 7472 696e 673a 2073 7472 2c20 7061  nstring: str, pa
+0000a8a0: 7273 655f 616c 6c3a 2062 6f6f 6c20 3d20  rse_all: bool = 
+0000a8b0: 4661 6c73 652c 202a 2c20 7061 7273 6541  False, *, parseA
+0000a8c0: 6c6c 3a20 626f 6f6c 203d 2046 616c 7365  ll: bool = False
+0000a8d0: 0a20 2020 2029 202d 3e20 5061 7273 6552  .    ) -> ParseR
+0000a8e0: 6573 756c 7473 3a0a 2020 2020 2020 2020  esults:.        
+0000a8f0: 2222 220a 2020 2020 2020 2020 5061 7273  """.        Pars
+0000a900: 6520 6120 7374 7269 6e67 2077 6974 6820  e a string with 
+0000a910: 7265 7370 6563 7420 746f 2074 6865 2070  respect to the p
+0000a920: 6172 7365 7220 6465 6669 6e69 7469 6f6e  arser definition
+0000a930: 2e20 5468 6973 2066 756e 6374 696f 6e20  . This function 
+0000a940: 6973 2069 6e74 656e 6465 6420 6173 2074  is intended as t
+0000a950: 6865 2070 7269 6d61 7279 2069 6e74 6572  he primary inter
+0000a960: 6661 6365 2074 6f20 7468 650a 2020 2020  face to the.    
+0000a970: 2020 2020 636c 6965 6e74 2063 6f64 652e      client code.
+0000a980: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+0000a990: 2069 6e73 7472 696e 673a 2054 6865 2069   instring: The i
+0000a9a0: 6e70 7574 2073 7472 696e 6720 746f 2062  nput string to b
+0000a9b0: 6520 7061 7273 6564 2e0a 2020 2020 2020  e parsed..      
+0000a9c0: 2020 3a70 6172 616d 2070 6172 7365 5f61    :param parse_a
+0000a9d0: 6c6c 3a20 4966 2073 6574 2c20 7468 6520  ll: If set, the 
+0000a9e0: 656e 7469 7265 2069 6e70 7574 2073 7472  entire input str
+0000a9f0: 696e 6720 6d75 7374 206d 6174 6368 2074  ing must match t
+0000aa00: 6865 2067 7261 6d6d 6172 2e0a 2020 2020  he grammar..    
+0000aa10: 2020 2020 3a70 6172 616d 2070 6172 7365      :param parse
+0000aa20: 416c 6c3a 2072 6574 6169 6e65 6420 666f  All: retained fo
+0000aa30: 7220 7072 652d 5045 5038 2063 6f6d 7061  r pre-PEP8 compa
+0000aa40: 7469 6269 6c69 7479 2c20 7769 6c6c 2062  tibility, will b
+0000aa50: 6520 7265 6d6f 7665 6420 696e 2061 2066  e removed in a f
+0000aa60: 7574 7572 6520 7265 6c65 6173 652e 0a20  uture release.. 
+0000aa70: 2020 2020 2020 203a 7261 6973 6573 2050         :raises P
+0000aa80: 6172 7365 4578 6365 7074 696f 6e3a 2052  arseException: R
+0000aa90: 6169 7365 6420 6966 2060 6070 6172 7365  aised if ``parse
+0000aaa0: 5f61 6c6c 6060 2069 7320 7365 7420 616e  _all`` is set an
+0000aab0: 6420 7468 6520 696e 7075 7420 7374 7269  d the input stri
+0000aac0: 6e67 2064 6f65 7320 6e6f 7420 6d61 7463  ng does not matc
+0000aad0: 6820 7468 6520 7768 6f6c 6520 6772 616d  h the whole gram
+0000aae0: 6d61 722e 0a20 2020 2020 2020 203a 7265  mar..        :re
+0000aaf0: 7475 726e 733a 2074 6865 2070 6172 7365  turns: the parse
+0000ab00: 6420 6461 7461 2061 7320 6120 3a63 6c61  d data as a :cla
+0000ab10: 7373 3a60 5061 7273 6552 6573 756c 7473  ss:`ParseResults
+0000ab20: 6020 6f62 6a65 6374 2c20 7768 6963 6820  ` object, which 
+0000ab30: 6d61 7920 6265 2061 6363 6573 7365 6420  may be accessed 
+0000ab40: 6173 2061 2060 6c69 7374 602c 2061 2060  as a `list`, a `
+0000ab50: 6469 6374 602c 206f 720a 2020 2020 2020  dict`, or.      
+0000ab60: 2020 2020 616e 206f 626a 6563 7420 7769      an object wi
+0000ab70: 7468 2061 7474 7269 6275 7465 7320 6966  th attributes if
+0000ab80: 2074 6865 2067 6976 656e 2070 6172 7365   the given parse
+0000ab90: 7220 696e 636c 7564 6573 2072 6573 756c  r includes resul
+0000aba0: 7473 206e 616d 6573 2e0a 0a20 2020 2020  ts names...     
+0000abb0: 2020 2049 6620 7468 6520 696e 7075 7420     If the input 
+0000abc0: 7374 7269 6e67 2069 7320 7265 7175 6972  string is requir
+0000abd0: 6564 2074 6f20 6d61 7463 6820 7468 6520  ed to match the 
+0000abe0: 656e 7469 7265 2067 7261 6d6d 6172 2c20  entire grammar, 
+0000abf0: 6060 7061 7273 655f 616c 6c60 6020 666c  ``parse_all`` fl
+0000ac00: 6167 206d 7573 7420 6265 2073 6574 2074  ag must be set t
+0000ac10: 6f20 6060 5472 7565 6060 2e20 5468 6973  o ``True``. This
+0000ac20: 0a20 2020 2020 2020 2069 7320 616c 736f  .        is also
+0000ac30: 2065 7175 6976 616c 656e 7420 746f 2065   equivalent to e
+0000ac40: 6e64 696e 6720 7468 6520 6772 616d 6d61  nding the gramma
+0000ac50: 7220 7769 7468 203a 636c 6173 733a 6053  r with :class:`S
+0000ac60: 7472 696e 6745 6e64 605c 5c20 2829 2e0a  tringEnd`\\ ()..
+0000ac70: 0a20 2020 2020 2020 2054 6f20 7265 706f  .        To repo
+0000ac80: 7274 2070 726f 7065 7220 636f 6c75 6d6e  rt proper column
+0000ac90: 206e 756d 6265 7273 2c20 6060 7061 7273   numbers, ``pars
+0000aca0: 655f 7374 7269 6e67 6060 206f 7065 7261  e_string`` opera
+0000acb0: 7465 7320 6f6e 2061 2063 6f70 7920 6f66  tes on a copy of
+0000acc0: 2074 6865 2069 6e70 7574 2073 7472 696e   the input strin
+0000acd0: 6720 7768 6572 6520 616c 6c20 7461 6273  g where all tabs
+0000ace0: 2061 7265 0a20 2020 2020 2020 2063 6f6e   are.        con
+0000acf0: 7665 7274 6564 2074 6f20 7370 6163 6573  verted to spaces
+0000ad00: 2028 3820 7370 6163 6573 2070 6572 2074   (8 spaces per t
+0000ad10: 6162 2c20 6173 2070 6572 2074 6865 2064  ab, as per the d
+0000ad20: 6566 6175 6c74 2069 6e20 6060 7374 7269  efault in ``stri
+0000ad30: 6e67 2e65 7870 616e 6474 6162 7360 6029  ng.expandtabs``)
+0000ad40: 2e20 4966 2074 6865 2069 6e70 7574 2073  . If the input s
+0000ad50: 7472 696e 670a 2020 2020 2020 2020 636f  tring.        co
+0000ad60: 6e74 6169 6e73 2074 6162 7320 616e 6420  ntains tabs and 
+0000ad70: 7468 6520 6772 616d 6d61 7220 7573 6573  the grammar uses
+0000ad80: 2070 6172 7365 2061 6374 696f 6e73 2074   parse actions t
+0000ad90: 6861 7420 7573 6520 7468 6520 6060 6c6f  hat use the ``lo
+0000ada0: 6360 6020 6172 6775 6d65 6e74 2074 6f20  c`` argument to 
+0000adb0: 696e 6465 7820 696e 746f 2074 6865 2073  index into the s
+0000adc0: 7472 696e 670a 2020 2020 2020 2020 6265  tring.        be
+0000add0: 696e 6720 7061 7273 6564 2c20 6f6e 6520  ing parsed, one 
+0000ade0: 6361 6e20 656e 7375 7265 2061 2063 6f6e  can ensure a con
+0000adf0: 7369 7374 656e 7420 7669 6577 206f 6620  sistent view of 
+0000ae00: 7468 6520 696e 7075 7420 7374 7269 6e67  the input string
+0000ae10: 2062 7920 646f 696e 6720 6f6e 6520 6f66   by doing one of
+0000ae20: 2074 6865 2066 6f6c 6c6f 7769 6e67 3a0a   the following:.
+0000ae30: 0a20 2020 2020 2020 202d 2063 616c 6c69  .        - calli
+0000ae40: 6e67 2060 6070 6172 7365 5f77 6974 685f  ng ``parse_with_
+0000ae50: 7461 6273 6060 206f 6e20 796f 7572 2067  tabs`` on your g
+0000ae60: 7261 6d6d 6172 2062 6566 6f72 6520 6361  rammar before ca
+0000ae70: 6c6c 696e 6720 6060 7061 7273 655f 7374  lling ``parse_st
+0000ae80: 7269 6e67 6060 2028 7365 6520 3a63 6c61  ring`` (see :cla
+0000ae90: 7373 3a60 7061 7273 655f 7769 7468 5f74  ss:`parse_with_t
+0000aea0: 6162 7360 292c 0a20 2020 2020 2020 202d  abs`),.        -
+0000aeb0: 2064 6566 696e 6520 796f 7572 2070 6172   define your par
+0000aec0: 7365 2061 6374 696f 6e20 7573 696e 6720  se action using 
+0000aed0: 7468 6520 6675 6c6c 2060 6028 732c 6c6f  the full ``(s,lo
+0000aee0: 632c 746f 6b73 2960 6020 7369 676e 6174  c,toks)`` signat
+0000aef0: 7572 652c 2061 6e64 2072 6566 6572 656e  ure, and referen
+0000af00: 6365 2074 6865 2069 6e70 7574 2073 7472  ce the input str
+0000af10: 696e 6720 7573 696e 6720 7468 650a 2020  ing using the.  
+0000af20: 2020 2020 2020 2020 7061 7273 6520 6163          parse ac
+0000af30: 7469 6f6e 2773 2060 6073 6060 2061 7267  tion's ``s`` arg
+0000af40: 756d 656e 742c 206f 720a 2020 2020 2020  ument, or.      
+0000af50: 2020 2d20 6578 706c 6963 6974 6c79 2065    - explicitly e
+0000af60: 7870 616e 6420 7468 6520 7461 6273 2069  xpand the tabs i
+0000af70: 6e20 796f 7572 2069 6e70 7574 2073 7472  n your input str
+0000af80: 696e 6720 6265 666f 7265 2063 616c 6c69  ing before calli
+0000af90: 6e67 2060 6070 6172 7365 5f73 7472 696e  ng ``parse_strin
+0000afa0: 6760 602e 0a0a 2020 2020 2020 2020 4578  g``...        Ex
+0000afb0: 616d 706c 6573 3a0a 0a20 2020 2020 2020  amples:..       
+0000afc0: 2042 7920 6465 6661 756c 742c 2070 6172   By default, par
+0000afd0: 7469 616c 206d 6174 6368 6573 2061 7265  tial matches are
+0000afe0: 204f 4b2e 0a0a 2020 2020 2020 2020 3e3e   OK...        >>
+0000aff0: 3e20 7265 7320 3d20 576f 7264 2827 6127  > res = Word('a'
+0000b000: 292e 7061 7273 655f 7374 7269 6e67 2827  ).parse_string('
+0000b010: 6161 6161 6162 6161 6127 290a 2020 2020  aaaaabaaa').    
+0000b020: 2020 2020 3e3e 3e20 7072 696e 7428 7265      >>> print(re
+0000b030: 7329 0a20 2020 2020 2020 205b 2761 6161  s).        ['aaa
+0000b040: 6161 275d 0a0a 2020 2020 2020 2020 5468  aa']..        Th
+0000b050: 6520 7061 7273 696e 6720 6265 6861 7669  e parsing behavi
+0000b060: 6f72 2076 6172 6965 7320 6279 2074 6865  or varies by the
+0000b070: 2069 6e68 6572 6974 696e 6720 636c 6173   inheriting clas
+0000b080: 7320 6f66 2074 6869 7320 6162 7374 7261  s of this abstra
+0000b090: 6374 2063 6c61 7373 2e20 506c 6561 7365  ct class. Please
+0000b0a0: 2072 6566 6572 2074 6f20 7468 6520 6368   refer to the ch
+0000b0b0: 696c 6472 656e 0a20 2020 2020 2020 2064  ildren.        d
+0000b0c0: 6972 6563 746c 7920 746f 2073 6565 206d  irectly to see m
+0000b0d0: 6f72 6520 6578 616d 706c 6573 2e0a 0a20  ore examples... 
+0000b0e0: 2020 2020 2020 2049 7420 7261 6973 6573         It raises
+0000b0f0: 2061 6e20 6578 6365 7074 696f 6e20 6966   an exception if
+0000b100: 2070 6172 7365 5f61 6c6c 2066 6c61 6720   parse_all flag 
+0000b110: 6973 2073 6574 2061 6e64 2069 6e73 7472  is set and instr
+0000b120: 696e 6720 646f 6573 206e 6f74 206d 6174  ing does not mat
+0000b130: 6368 2074 6865 2077 686f 6c65 2067 7261  ch the whole gra
+0000b140: 6d6d 6172 2e0a 0a20 2020 2020 2020 203e  mmar...        >
+0000b150: 3e3e 2072 6573 203d 2057 6f72 6428 2761  >> res = Word('a
+0000b160: 2729 2e70 6172 7365 5f73 7472 696e 6728  ').parse_string(
+0000b170: 2761 6161 6161 6261 6161 272c 2070 6172  'aaaaabaaa', par
+0000b180: 7365 5f61 6c6c 3d54 7275 6529 0a20 2020  se_all=True).   
+0000b190: 2020 2020 2054 7261 6365 6261 636b 2028       Traceback (
+0000b1a0: 6d6f 7374 2072 6563 656e 7420 6361 6c6c  most recent call
+0000b1b0: 206c 6173 7429 3a0a 2020 2020 2020 2020   last):.        
+0000b1c0: 2e2e 2e0a 2020 2020 2020 2020 7079 7061  ....        pypa
+0000b1d0: 7273 696e 672e 5061 7273 6545 7863 6570  rsing.ParseExcep
+0000b1e0: 7469 6f6e 3a20 4578 7065 6374 6564 2065  tion: Expected e
+0000b1f0: 6e64 206f 6620 7465 7874 2c20 666f 756e  nd of text, foun
+0000b200: 6420 2762 2720 2028 6174 2063 6861 7220  d 'b'  (at char 
+0000b210: 3529 2c20 286c 696e 653a 312c 2063 6f6c  5), (line:1, col
+0000b220: 3a36 290a 2020 2020 2020 2020 2222 220a  :6).        """.
+0000b230: 2020 2020 2020 2020 7061 7273 6541 6c6c          parseAll
+0000b240: 203d 2070 6172 7365 5f61 6c6c 206f 7220   = parse_all or 
+0000b250: 7061 7273 6541 6c6c 0a0a 2020 2020 2020  parseAll..      
+0000b260: 2020 5061 7273 6572 456c 656d 656e 742e    ParserElement.
+0000b270: 7265 7365 745f 6361 6368 6528 290a 2020  reset_cache().  
+0000b280: 2020 2020 2020 6966 206e 6f74 2073 656c        if not sel
+0000b290: 662e 7374 7265 616d 6c69 6e65 643a 0a20  f.streamlined:. 
+0000b2a0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000b2b0: 7374 7265 616d 6c69 6e65 2829 0a20 2020  streamline().   
+0000b2c0: 2020 2020 2066 6f72 2065 2069 6e20 7365       for e in se
+0000b2d0: 6c66 2e69 676e 6f72 6545 7870 7273 3a0a  lf.ignoreExprs:.
+0000b2e0: 2020 2020 2020 2020 2020 2020 652e 7374              e.st
+0000b2f0: 7265 616d 6c69 6e65 2829 0a20 2020 2020  reamline().     
+0000b300: 2020 2069 6620 6e6f 7420 7365 6c66 2e6b     if not self.k
+0000b310: 6565 7054 6162 733a 0a20 2020 2020 2020  eepTabs:.       
+0000b320: 2020 2020 2069 6e73 7472 696e 6720 3d20       instring = 
+0000b330: 696e 7374 7269 6e67 2e65 7870 616e 6474  instring.expandt
+0000b340: 6162 7328 290a 2020 2020 2020 2020 7472  abs().        tr
+0000b350: 793a 0a20 2020 2020 2020 2020 2020 206c  y:.            l
+0000b360: 6f63 2c20 746f 6b65 6e73 203d 2073 656c  oc, tokens = sel
+0000b370: 662e 5f70 6172 7365 2869 6e73 7472 696e  f._parse(instrin
+0000b380: 672c 2030 290a 2020 2020 2020 2020 2020  g, 0).          
+0000b390: 2020 6966 2070 6172 7365 416c 6c3a 0a20    if parseAll:. 
+0000b3a0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+0000b3b0: 6f63 203d 2073 656c 662e 7072 6550 6172  oc = self.prePar
+0000b3c0: 7365 2869 6e73 7472 696e 672c 206c 6f63  se(instring, loc
+0000b3d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000b3e0: 2020 7365 203d 2045 6d70 7479 2829 202b    se = Empty() +
+0000b3f0: 2053 7472 696e 6745 6e64 2829 0a20 2020   StringEnd().   
+0000b400: 2020 2020 2020 2020 2020 2020 2073 652e               se.
+0000b410: 5f70 6172 7365 2869 6e73 7472 696e 672c  _parse(instring,
+0000b420: 206c 6f63 290a 2020 2020 2020 2020 6578   loc).        ex
+0000b430: 6365 7074 2050 6172 7365 4261 7365 4578  cept ParseBaseEx
+0000b440: 6365 7074 696f 6e20 6173 2065 7863 3a0a  ception as exc:.
+0000b450: 2020 2020 2020 2020 2020 2020 6966 2050              if P
+0000b460: 6172 7365 7245 6c65 6d65 6e74 2e76 6572  arserElement.ver
+0000b470: 626f 7365 5f73 7461 636b 7472 6163 653a  bose_stacktrace:
+0000b480: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b490: 2072 6169 7365 0a20 2020 2020 2020 2020   raise.         
+0000b4a0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0000b4b0: 2020 2020 2020 2020 2023 2063 6174 6368           # catch
+0000b4c0: 2061 6e64 2072 652d 7261 6973 6520 6578   and re-raise ex
+0000b4d0: 6365 7074 696f 6e20 6672 6f6d 2068 6572  ception from her
+0000b4e0: 652c 2063 6c65 6172 696e 6720 6f75 7420  e, clearing out 
+0000b4f0: 7079 7061 7273 696e 6720 696e 7465 726e  pyparsing intern
+0000b500: 616c 2073 7461 636b 2074 7261 6365 0a20  al stack trace. 
+0000b510: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000b520: 6169 7365 2065 7863 2e77 6974 685f 7472  aise exc.with_tr
+0000b530: 6163 6562 6163 6b28 4e6f 6e65 290a 2020  aceback(None).  
+0000b540: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0000b550: 2020 2020 2020 2020 7265 7475 726e 2074          return t
+0000b560: 6f6b 656e 730a 0a20 2020 2064 6566 2073  okens..    def s
+0000b570: 6361 6e5f 7374 7269 6e67 280a 2020 2020  can_string(.    
+0000b580: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+0000b590: 2020 696e 7374 7269 6e67 3a20 7374 722c    instring: str,
+0000b5a0: 0a20 2020 2020 2020 206d 6178 5f6d 6174  .        max_mat
+0000b5b0: 6368 6573 3a20 696e 7420 3d20 5f4d 4158  ches: int = _MAX
+0000b5c0: 5f49 4e54 2c0a 2020 2020 2020 2020 6f76  _INT,.        ov
+0000b5d0: 6572 6c61 703a 2062 6f6f 6c20 3d20 4661  erlap: bool = Fa
+0000b5e0: 6c73 652c 0a20 2020 2020 2020 202a 2c0a  lse,.        *,.
+0000b5f0: 2020 2020 2020 2020 6465 6275 673a 2062          debug: b
+0000b600: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
+0000b610: 2020 2020 206d 6178 4d61 7463 6865 733a       maxMatches:
+0000b620: 2069 6e74 203d 205f 4d41 585f 494e 542c   int = _MAX_INT,
+0000b630: 0a20 2020 2029 202d 3e20 4765 6e65 7261  .    ) -> Genera
+0000b640: 746f 725b 5475 706c 655b 5061 7273 6552  tor[Tuple[ParseR
+0000b650: 6573 756c 7473 2c20 696e 742c 2069 6e74  esults, int, int
+0000b660: 5d2c 204e 6f6e 652c 204e 6f6e 655d 3a0a  ], None, None]:.
+0000b670: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000b680: 2020 2020 5363 616e 2074 6865 2069 6e70      Scan the inp
+0000b690: 7574 2073 7472 696e 6720 666f 7220 6578  ut string for ex
+0000b6a0: 7072 6573 7369 6f6e 206d 6174 6368 6573  pression matches
+0000b6b0: 2e20 2045 6163 6820 6d61 7463 6820 7769  .  Each match wi
+0000b6c0: 6c6c 2072 6574 7572 6e20 7468 650a 2020  ll return the.  
+0000b6d0: 2020 2020 2020 6d61 7463 6869 6e67 2074        matching t
+0000b6e0: 6f6b 656e 732c 2073 7461 7274 206c 6f63  okens, start loc
+0000b6f0: 6174 696f 6e2c 2061 6e64 2065 6e64 206c  ation, and end l
+0000b700: 6f63 6174 696f 6e2e 2020 4d61 7920 6265  ocation.  May be
+0000b710: 2063 616c 6c65 6420 7769 7468 206f 7074   called with opt
+0000b720: 696f 6e61 6c0a 2020 2020 2020 2020 6060  ional.        ``
+0000b730: 6d61 785f 6d61 7463 6865 7360 6020 6172  max_matches`` ar
+0000b740: 6775 6d65 6e74 2c20 746f 2063 6c69 7020  gument, to clip 
+0000b750: 7363 616e 6e69 6e67 2061 6674 6572 2027  scanning after '
+0000b760: 6e27 206d 6174 6368 6573 2061 7265 2066  n' matches are f
+0000b770: 6f75 6e64 2e20 2049 660a 2020 2020 2020  ound.  If.      
+0000b780: 2020 6060 6f76 6572 6c61 7060 6020 6973    ``overlap`` is
+0000b790: 2073 7065 6369 6669 6564 2c20 7468 656e   specified, then
+0000b7a0: 206f 7665 726c 6170 7069 6e67 206d 6174   overlapping mat
+0000b7b0: 6368 6573 2077 696c 6c20 6265 2072 6570  ches will be rep
+0000b7c0: 6f72 7465 642e 0a0a 2020 2020 2020 2020  orted...        
+0000b7d0: 4e6f 7465 2074 6861 7420 7468 6520 7374  Note that the st
+0000b7e0: 6172 7420 616e 6420 656e 6420 6c6f 6361  art and end loca
+0000b7f0: 7469 6f6e 7320 6172 6520 7265 706f 7274  tions are report
+0000b800: 6564 2072 656c 6174 6976 6520 746f 2074  ed relative to t
+0000b810: 6865 2073 7472 696e 670a 2020 2020 2020  he string.      
+0000b820: 2020 6265 696e 6720 7061 7273 6564 2e20    being parsed. 
+0000b830: 2053 6565 203a 636c 6173 733a 6070 6172   See :class:`par
+0000b840: 7365 5f73 7472 696e 6760 2066 6f72 206d  se_string` for m
+0000b850: 6f72 6520 696e 666f 726d 6174 696f 6e20  ore information 
+0000b860: 6f6e 2070 6172 7369 6e67 0a20 2020 2020  on parsing.     
+0000b870: 2020 2073 7472 696e 6773 2077 6974 6820     strings with 
+0000b880: 656d 6265 6464 6564 2074 6162 732e 0a0a  embedded tabs...
+0000b890: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
+0000b8a0: 3a0a 0a20 2020 2020 2020 2020 2020 2073  :..            s
+0000b8b0: 6f75 7263 6520 3d20 2273 6c64 6a66 3132  ource = "sldjf12
+0000b8c0: 336c 7364 6a6a 6b66 3334 3573 6c64 6b6a  3lsdjjkf345sldkj
+0000b8d0: 6638 3739 6c6b 6a73 6664 3938 3722 0a20  f879lkjsfd987". 
+0000b8e0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+0000b8f0: 2873 6f75 7263 6529 0a20 2020 2020 2020  (source).       
+0000b900: 2020 2020 2066 6f72 2074 6f6b 656e 732c       for tokens,
+0000b910: 2073 7461 7274 2c20 656e 6420 696e 2057   start, end in W
+0000b920: 6f72 6428 616c 7068 6173 292e 7363 616e  ord(alphas).scan
+0000b930: 5f73 7472 696e 6728 736f 7572 6365 293a  _string(source):
+0000b940: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b950: 2070 7269 6e74 2827 2027 2a73 7461 7274   print(' '*start
+0000b960: 202b 2027 5e27 2a28 656e 642d 7374 6172   + '^'*(end-star
+0000b970: 7429 290a 2020 2020 2020 2020 2020 2020  t)).            
+0000b980: 2020 2020 7072 696e 7428 2720 272a 7374      print(' '*st
+0000b990: 6172 7420 2b20 746f 6b65 6e73 5b30 5d29  art + tokens[0])
+0000b9a0: 0a0a 2020 2020 2020 2020 7072 696e 7473  ..        prints
+0000b9b0: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
+0000b9c0: 736c 646a 6631 3233 6c73 646a 6a6b 6633  sldjf123lsdjjkf3
+0000b9d0: 3435 736c 646b 6a66 3837 396c 6b6a 7366  45sldkjf879lkjsf
+0000b9e0: 6439 3837 0a20 2020 2020 2020 2020 2020  d987.           
+0000b9f0: 205e 5e5e 5e5e 0a20 2020 2020 2020 2020   ^^^^^.         
+0000ba00: 2020 2073 6c64 6a66 0a20 2020 2020 2020     sldjf.       
+0000ba10: 2020 2020 2020 2020 2020 2020 205e 5e5e               ^^^
+0000ba20: 5e5e 5e5e 0a20 2020 2020 2020 2020 2020  ^^^^.           
+0000ba30: 2020 2020 2020 2020 206c 7364 6a6a 6b66           lsdjjkf
+0000ba40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000ba50: 2020 2020 2020 2020 2020 2020 2020 205e                 ^
+0000ba60: 5e5e 5e5e 5e0a 2020 2020 2020 2020 2020  ^^^^^.          
+0000ba70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ba80: 2020 2020 736c 646b 6a66 0a20 2020 2020      sldkjf.     
+0000ba90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000baa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bab0: 2020 5e5e 5e5e 5e5e 0a20 2020 2020 2020    ^^^^^^.       
+0000bac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bae0: 6c6b 6a73 6664 0a20 2020 2020 2020 2022  lkjsfd.        "
+0000baf0: 2222 0a20 2020 2020 2020 206d 6178 4d61  "".        maxMa
+0000bb00: 7463 6865 7320 3d20 6d69 6e28 6d61 784d  tches = min(maxM
+0000bb10: 6174 6368 6573 2c20 6d61 785f 6d61 7463  atches, max_matc
+0000bb20: 6865 7329 0a20 2020 2020 2020 2069 6620  hes).        if 
+0000bb30: 6e6f 7420 7365 6c66 2e73 7472 6561 6d6c  not self.streaml
+0000bb40: 696e 6564 3a0a 2020 2020 2020 2020 2020  ined:.          
+0000bb50: 2020 7365 6c66 2e73 7472 6561 6d6c 696e    self.streamlin
+0000bb60: 6528 290a 2020 2020 2020 2020 666f 7220  e().        for 
+0000bb70: 6520 696e 2073 656c 662e 6967 6e6f 7265  e in self.ignore
+0000bb80: 4578 7072 733a 0a20 2020 2020 2020 2020  Exprs:.         
+0000bb90: 2020 2065 2e73 7472 6561 6d6c 696e 6528     e.streamline(
+0000bba0: 290a 0a20 2020 2020 2020 2069 6620 6e6f  )..        if no
+0000bbb0: 7420 7365 6c66 2e6b 6565 7054 6162 733a  t self.keepTabs:
+0000bbc0: 0a20 2020 2020 2020 2020 2020 2069 6e73  .            ins
+0000bbd0: 7472 696e 6720 3d20 7374 7228 696e 7374  tring = str(inst
+0000bbe0: 7269 6e67 292e 6578 7061 6e64 7461 6273  ring).expandtabs
+0000bbf0: 2829 0a20 2020 2020 2020 2069 6e73 7472  ().        instr
+0000bc00: 6c65 6e20 3d20 6c65 6e28 696e 7374 7269  len = len(instri
+0000bc10: 6e67 290a 2020 2020 2020 2020 6c6f 6320  ng).        loc 
+0000bc20: 3d20 300a 2020 2020 2020 2020 7072 6570  = 0.        prep
+0000bc30: 6172 7365 466e 203d 2073 656c 662e 7072  arseFn = self.pr
+0000bc40: 6550 6172 7365 0a20 2020 2020 2020 2070  eParse.        p
+0000bc50: 6172 7365 466e 203d 2073 656c 662e 5f70  arseFn = self._p
+0000bc60: 6172 7365 0a20 2020 2020 2020 2050 6172  arse.        Par
+0000bc70: 7365 7245 6c65 6d65 6e74 2e72 6573 6574  serElement.reset
+0000bc80: 4361 6368 6528 290a 2020 2020 2020 2020  Cache().        
+0000bc90: 6d61 7463 6865 7320 3d20 300a 2020 2020  matches = 0.    
+0000bca0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
+0000bcb0: 2020 2020 2077 6869 6c65 206c 6f63 203c       while loc <
+0000bcc0: 3d20 696e 7374 726c 656e 2061 6e64 206d  = instrlen and m
+0000bcd0: 6174 6368 6573 203c 206d 6178 4d61 7463  atches < maxMatc
+0000bce0: 6865 733a 0a20 2020 2020 2020 2020 2020  hes:.           
+0000bcf0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+0000bd00: 2020 2020 2020 2020 2020 2020 2020 7072                pr
+0000bd10: 656c 6f63 3a20 696e 7420 3d20 7072 6570  eloc: int = prep
+0000bd20: 6172 7365 466e 2869 6e73 7472 696e 672c  arseFn(instring,
+0000bd30: 206c 6f63 290a 2020 2020 2020 2020 2020   loc).          
+0000bd40: 2020 2020 2020 2020 2020 6e65 7874 4c6f            nextLo
+0000bd50: 633a 2069 6e74 0a20 2020 2020 2020 2020  c: int.         
+0000bd60: 2020 2020 2020 2020 2020 2074 6f6b 656e             token
+0000bd70: 733a 2050 6172 7365 5265 7375 6c74 730a  s: ParseResults.
+0000bd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bd90: 2020 2020 6e65 7874 4c6f 632c 2074 6f6b      nextLoc, tok
+0000bda0: 656e 7320 3d20 7061 7273 6546 6e28 696e  ens = parseFn(in
+0000bdb0: 7374 7269 6e67 2c20 7072 656c 6f63 2c20  string, preloc, 
+0000bdc0: 6361 6c6c 5072 6550 6172 7365 3d46 616c  callPreParse=Fal
+0000bdd0: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+0000bde0: 2020 2020 6578 6365 7074 2050 6172 7365      except Parse
+0000bdf0: 4578 6365 7074 696f 6e3a 0a20 2020 2020  Exception:.     
+0000be00: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+0000be10: 6f63 203d 2070 7265 6c6f 6320 2b20 310a  oc = preloc + 1.
 0000be20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000be30: 2020 2020 2070 7269 6e74 280a 2020 2020       print(.    
-0000be40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000be50: 2020 2020 2020 2020 2020 2020 7b0a 2020              {.  
+0000be30: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0000be40: 2020 2020 2020 2020 2020 6966 206e 6578            if nex
+0000be50: 744c 6f63 203e 206c 6f63 3a0a 2020 2020  tLoc > loc:.    
 0000be60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000be70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000be80: 2020 2274 6f6b 656e 7322 3a20 746f 6b65    "tokens": toke
-0000be90: 6e73 2e61 734c 6973 7428 292c 0a20 2020  ns.asList(),.   
-0000bea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000beb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bec0: 2022 7374 6172 7422 3a20 7072 656c 6f63   "start": preloc
-0000bed0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000bee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bef0: 2020 2020 2020 2265 6e64 223a 206e 6578        "end": nex
-0000bf00: 744c 6f63 2c0a 2020 2020 2020 2020 2020  tLoc,.          
-0000bf10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bf20: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0000be70: 2020 2020 6d61 7463 6865 7320 2b3d 2031      matches += 1
+0000be80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000be90: 2020 2020 2020 2020 2069 6620 6465 6275           if debu
+0000bea0: 673a 0a20 2020 2020 2020 2020 2020 2020  g:.             
+0000beb0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0000bec0: 7269 6e74 280a 2020 2020 2020 2020 2020  rint(.          
+0000bed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bee0: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
+0000bef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bf00: 2020 2020 2020 2020 2020 2020 2274 6f6b              "tok
+0000bf10: 656e 7322 3a20 746f 6b65 6e73 2e61 734c  ens": tokens.asL
+0000bf20: 6973 7428 292c 0a20 2020 2020 2020 2020  ist(),.         
 0000bf30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bf40: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
-0000bf50: 2020 2020 2020 2020 2020 2020 2020 7969                yi
-0000bf60: 656c 6420 746f 6b65 6e73 2c20 7072 656c  eld tokens, prel
-0000bf70: 6f63 2c20 6e65 7874 4c6f 630a 2020 2020  oc, nextLoc.    
-0000bf80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bf90: 2020 2020 6966 206f 7665 726c 6170 3a0a      if overlap:.
+0000bf40: 2020 2020 2020 2020 2020 2022 7374 6172             "star
+0000bf50: 7422 3a20 7072 656c 6f63 2c0a 2020 2020  t": preloc,.    
+0000bf60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bf70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bf80: 2265 6e64 223a 206e 6578 744c 6f63 2c0a  "end": nextLoc,.
+0000bf90: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000bfa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bfb0: 2020 2020 2020 2020 2020 2020 6e65 7874              next
-0000bfc0: 6c6f 6320 3d20 7072 6570 6172 7365 466e  loc = preparseFn
-0000bfd0: 2869 6e73 7472 696e 672c 206c 6f63 290a  (instring, loc).
-0000bfe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bff0: 2020 2020 2020 2020 2020 2020 6966 206e              if n
-0000c000: 6578 746c 6f63 203e 206c 6f63 3a0a 2020  extloc > loc:.  
-0000c010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c020: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
-0000c030: 6320 3d20 6e65 7874 4c6f 630a 2020 2020  c = nextLoc.    
-0000c040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c050: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000c060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c070: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
-0000c080: 6320 2b3d 2031 0a20 2020 2020 2020 2020  c += 1.         
-0000c090: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0000c0a0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0000c0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c0c0: 206c 6f63 203d 206e 6578 744c 6f63 0a20   loc = nextLoc. 
+0000bfb0: 7d0a 2020 2020 2020 2020 2020 2020 2020  }.              
+0000bfc0: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+0000bfd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bfe0: 2020 2020 2020 2020 7969 656c 6420 746f          yield to
+0000bff0: 6b65 6e73 2c20 7072 656c 6f63 2c20 6e65  kens, preloc, ne
+0000c000: 7874 4c6f 630a 2020 2020 2020 2020 2020  xtLoc.          
+0000c010: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0000c020: 206f 7665 726c 6170 3a0a 2020 2020 2020   overlap:.      
+0000c030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c040: 2020 2020 2020 6e65 7874 6c6f 6320 3d20        nextloc = 
+0000c050: 7072 6570 6172 7365 466e 2869 6e73 7472  preparseFn(instr
+0000c060: 696e 672c 206c 6f63 290a 2020 2020 2020  ing, loc).      
+0000c070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c080: 2020 2020 2020 6966 206e 6578 746c 6f63        if nextloc
+0000c090: 203e 206c 6f63 3a0a 2020 2020 2020 2020   > loc:.        
+0000c0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c0b0: 2020 2020 2020 2020 6c6f 6320 3d20 6e65          loc = ne
+0000c0c0: 7874 4c6f 630a 2020 2020 2020 2020 2020  xtLoc.          
 0000c0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c0e0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0000c0e0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
 0000c0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c100: 206c 6f63 203d 2070 7265 6c6f 6320 2b20   loc = preloc + 
-0000c110: 310a 2020 2020 2020 2020 6578 6365 7074  1.        except
-0000c120: 2050 6172 7365 4261 7365 4578 6365 7074   ParseBaseExcept
-0000c130: 696f 6e20 6173 2065 7863 3a0a 2020 2020  ion as exc:.    
-0000c140: 2020 2020 2020 2020 6966 2050 6172 7365          if Parse
-0000c150: 7245 6c65 6d65 6e74 2e76 6572 626f 7365  rElement.verbose
-0000c160: 5f73 7461 636b 7472 6163 653a 0a20 2020  _stacktrace:.   
-0000c170: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-0000c180: 7365 0a20 2020 2020 2020 2020 2020 2065  se.            e
-0000c190: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0000c1a0: 2020 2020 2023 2063 6174 6368 2061 6e64       # catch and
-0000c1b0: 2072 652d 7261 6973 6520 6578 6365 7074   re-raise except
-0000c1c0: 696f 6e20 6672 6f6d 2068 6572 652c 2063  ion from here, c
-0000c1d0: 6c65 6172 7320 6f75 7420 7079 7061 7273  lears out pypars
-0000c1e0: 696e 6720 696e 7465 726e 616c 2073 7461  ing internal sta
-0000c1f0: 636b 2074 7261 6365 0a20 2020 2020 2020  ck trace.       
-0000c200: 2020 2020 2020 2020 2072 6169 7365 2065           raise e
-0000c210: 7863 2e77 6974 685f 7472 6163 6562 6163  xc.with_tracebac
-0000c220: 6b28 4e6f 6e65 290a 0a20 2020 2064 6566  k(None)..    def
-0000c230: 2074 7261 6e73 666f 726d 5f73 7472 696e   transform_strin
-0000c240: 6728 7365 6c66 2c20 696e 7374 7269 6e67  g(self, instring
-0000c250: 3a20 7374 722c 202a 2c20 6465 6275 673a  : str, *, debug:
-0000c260: 2062 6f6f 6c20 3d20 4661 6c73 6529 202d   bool = False) -
-0000c270: 3e20 7374 723a 0a20 2020 2020 2020 2022  > str:.        "
-0000c280: 2222 0a20 2020 2020 2020 2045 7874 656e  "".        Exten
-0000c290: 7369 6f6e 2074 6f20 3a63 6c61 7373 3a60  sion to :class:`
-0000c2a0: 7363 616e 5f73 7472 696e 6760 2c20 746f  scan_string`, to
-0000c2b0: 206d 6f64 6966 7920 6d61 7463 6869 6e67   modify matching
-0000c2c0: 2074 6578 7420 7769 7468 206d 6f64 6966   text with modif
-0000c2d0: 6965 6420 746f 6b65 6e73 2074 6861 7420  ied tokens that 
-0000c2e0: 6d61 790a 2020 2020 2020 2020 6265 2072  may.        be r
-0000c2f0: 6574 7572 6e65 6420 6672 6f6d 2061 2070  eturned from a p
-0000c300: 6172 7365 2061 6374 696f 6e2e 2020 546f  arse action.  To
-0000c310: 2075 7365 2060 6074 7261 6e73 666f 726d   use ``transform
-0000c320: 5f73 7472 696e 6760 602c 2064 6566 696e  _string``, defin
-0000c330: 6520 6120 6772 616d 6d61 7220 616e 640a  e a grammar and.
-0000c340: 2020 2020 2020 2020 6174 7461 6368 2061          attach a
-0000c350: 2070 6172 7365 2061 6374 696f 6e20 746f   parse action to
-0000c360: 2069 7420 7468 6174 206d 6f64 6966 6965   it that modifie
-0000c370: 7320 7468 6520 7265 7475 726e 6564 2074  s the returned t
-0000c380: 6f6b 656e 206c 6973 742e 0a20 2020 2020  oken list..     
-0000c390: 2020 2049 6e76 6f6b 696e 6720 6060 7472     Invoking ``tr
-0000c3a0: 616e 7366 6f72 6d5f 7374 7269 6e67 2829  ansform_string()
-0000c3b0: 6060 206f 6e20 6120 7461 7267 6574 2073  `` on a target s
-0000c3c0: 7472 696e 6720 7769 6c6c 2074 6865 6e20  tring will then 
-0000c3d0: 7363 616e 2066 6f72 206d 6174 6368 6573  scan for matches
-0000c3e0: 2c0a 2020 2020 2020 2020 616e 6420 7265  ,.        and re
-0000c3f0: 706c 6163 6520 7468 6520 6d61 7463 6865  place the matche
-0000c400: 6420 7465 7874 2070 6174 7465 726e 7320  d text patterns 
-0000c410: 6163 636f 7264 696e 6720 746f 2074 6865  according to the
-0000c420: 206c 6f67 6963 2069 6e20 7468 6520 7061   logic in the pa
-0000c430: 7273 650a 2020 2020 2020 2020 6163 7469  rse.        acti
-0000c440: 6f6e 2e20 2060 6074 7261 6e73 666f 726d  on.  ``transform
-0000c450: 5f73 7472 696e 6728 2960 6020 7265 7475  _string()`` retu
-0000c460: 726e 7320 7468 6520 7265 7375 6c74 696e  rns the resultin
-0000c470: 6720 7472 616e 7366 6f72 6d65 6420 7374  g transformed st
-0000c480: 7269 6e67 2e0a 0a20 2020 2020 2020 2045  ring...        E
-0000c490: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
-0000c4a0: 2020 2020 2020 7764 203d 2057 6f72 6428        wd = Word(
-0000c4b0: 616c 7068 6173 290a 2020 2020 2020 2020  alphas).        
-0000c4c0: 2020 2020 7764 2e73 6574 5f70 6172 7365      wd.set_parse
-0000c4d0: 5f61 6374 696f 6e28 6c61 6d62 6461 2074  _action(lambda t
-0000c4e0: 6f6b 733a 2074 6f6b 735b 305d 2e74 6974  oks: toks[0].tit
-0000c4f0: 6c65 2829 290a 0a20 2020 2020 2020 2020  le())..         
-0000c500: 2020 2070 7269 6e74 2877 642e 7472 616e     print(wd.tran
-0000c510: 7366 6f72 6d5f 7374 7269 6e67 2822 6e6f  sform_string("no
-0000c520: 7720 6973 2074 6865 2077 696e 7465 7220  w is the winter 
-0000c530: 6f66 206f 7572 2064 6973 636f 6e74 656e  of our disconten
-0000c540: 7420 6d61 6465 2067 6c6f 7269 6f75 7320  t made glorious 
-0000c550: 7375 6d6d 6572 2062 7920 7468 6973 2073  summer by this s
-0000c560: 756e 206f 6620 796f 726b 2e22 2929 0a0a  un of york."))..
-0000c570: 2020 2020 2020 2020 7072 696e 7473 3a3a          prints::
-0000c580: 0a0a 2020 2020 2020 2020 2020 2020 4e6f  ..            No
-0000c590: 7720 4973 2054 6865 2057 696e 7465 7220  w Is The Winter 
-0000c5a0: 4f66 204f 7572 2044 6973 636f 6e74 656e  Of Our Disconten
-0000c5b0: 7420 4d61 6465 2047 6c6f 7269 6f75 7320  t Made Glorious 
-0000c5c0: 5375 6d6d 6572 2042 7920 5468 6973 2053  Summer By This S
-0000c5d0: 756e 204f 6620 596f 726b 2e0a 2020 2020  un Of York..    
-0000c5e0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000c5f0: 6f75 743a 204c 6973 745b 7374 725d 203d  out: List[str] =
-0000c600: 205b 5d0a 2020 2020 2020 2020 6c61 7374   [].        last
-0000c610: 4520 3d20 300a 2020 2020 2020 2020 2320  E = 0.        # 
-0000c620: 666f 7263 6520 7072 6573 6572 7661 7469  force preservati
-0000c630: 6f6e 206f 6620 3c54 4142 3e73 2c20 746f  on of <TAB>s, to
-0000c640: 206d 696e 696d 697a 6520 756e 7761 6e74   minimize unwant
-0000c650: 6564 2074 7261 6e73 666f 726d 6174 696f  ed transformatio
-0000c660: 6e20 6f66 2073 7472 696e 672c 2061 6e64  n of string, and
-0000c670: 2074 6f0a 2020 2020 2020 2020 2320 6b65   to.        # ke
-0000c680: 6570 2073 7472 696e 6720 6c6f 6373 2073  ep string locs s
-0000c690: 7472 6169 6768 7420 6265 7477 6565 6e20  traight between 
-0000c6a0: 7472 616e 7366 6f72 6d5f 7374 7269 6e67  transform_string
-0000c6b0: 2061 6e64 2073 6361 6e5f 7374 7269 6e67   and scan_string
-0000c6c0: 0a20 2020 2020 2020 2073 656c 662e 6b65  .        self.ke
-0000c6d0: 6570 5461 6273 203d 2054 7275 650a 2020  epTabs = True.  
-0000c6e0: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-0000c6f0: 2020 2020 2020 2066 6f72 2074 2c20 732c         for t, s,
-0000c700: 2065 2069 6e20 7365 6c66 2e73 6361 6e5f   e in self.scan_
-0000c710: 7374 7269 6e67 2869 6e73 7472 696e 672c  string(instring,
-0000c720: 2064 6562 7567 3d64 6562 7567 293a 0a20   debug=debug):. 
-0000c730: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-0000c740: 7574 2e61 7070 656e 6428 696e 7374 7269  ut.append(instri
-0000c750: 6e67 5b6c 6173 7445 3a73 5d29 0a20 2020  ng[lastE:s]).   
-0000c760: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000c770: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
-0000c780: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-0000c790: 616e 6365 2874 2c20 5061 7273 6552 6573  ance(t, ParseRes
-0000c7a0: 756c 7473 293a 0a20 2020 2020 2020 2020  ults):.         
-0000c7b0: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-0000c7c0: 7574 202b 3d20 742e 6173 5f6c 6973 7428  ut += t.as_list(
-0000c7d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000c7e0: 2020 2020 2020 656c 6966 2069 7369 6e73        elif isins
-0000c7f0: 7461 6e63 6528 742c 2049 7465 7261 626c  tance(t, Iterabl
-0000c800: 6529 2061 6e64 206e 6f74 2069 7369 6e73  e) and not isins
-0000c810: 7461 6e63 6528 742c 2073 7472 5f74 7970  tance(t, str_typ
-0000c820: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-0000c830: 2020 2020 2020 2020 2020 2020 6f75 742e              out.
-0000c840: 6578 7465 6e64 2874 290a 2020 2020 2020  extend(t).      
-0000c850: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0000c860: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000c870: 2020 2020 2020 2020 2020 2020 6f75 742e              out.
-0000c880: 6170 7065 6e64 2874 290a 2020 2020 2020  append(t).      
-0000c890: 2020 2020 2020 2020 2020 6c61 7374 4520            lastE 
-0000c8a0: 3d20 650a 2020 2020 2020 2020 2020 2020  = e.            
-0000c8b0: 6f75 742e 6170 7065 6e64 2869 6e73 7472  out.append(instr
-0000c8c0: 696e 675b 6c61 7374 453a 5d29 0a20 2020  ing[lastE:]).   
-0000c8d0: 2020 2020 2020 2020 206f 7574 203d 205b           out = [
-0000c8e0: 6f20 666f 7220 6f20 696e 206f 7574 2069  o for o in out i
-0000c8f0: 6620 6f5d 0a20 2020 2020 2020 2020 2020  f o].           
-0000c900: 2072 6574 7572 6e20 2222 2e6a 6f69 6e28   return "".join(
-0000c910: 5b73 7472 2873 2920 666f 7220 7320 696e  [str(s) for s in
-0000c920: 205f 666c 6174 7465 6e28 6f75 7429 5d29   _flatten(out)])
-0000c930: 0a20 2020 2020 2020 2065 7863 6570 7420  .        except 
-0000c940: 5061 7273 6542 6173 6545 7863 6570 7469  ParseBaseExcepti
-0000c950: 6f6e 2061 7320 6578 633a 0a20 2020 2020  on as exc:.     
-0000c960: 2020 2020 2020 2069 6620 5061 7273 6572         if Parser
-0000c970: 456c 656d 656e 742e 7665 7262 6f73 655f  Element.verbose_
-0000c980: 7374 6163 6b74 7261 6365 3a0a 2020 2020  stacktrace:.    
-0000c990: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0000c9a0: 650a 2020 2020 2020 2020 2020 2020 656c  e.            el
-0000c9b0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000c9c0: 2020 2020 2320 6361 7463 6820 616e 6420      # catch and 
-0000c9d0: 7265 2d72 6169 7365 2065 7863 6570 7469  re-raise excepti
-0000c9e0: 6f6e 2066 726f 6d20 6865 7265 2c20 636c  on from here, cl
-0000c9f0: 6561 7273 206f 7574 2070 7970 6172 7369  ears out pyparsi
-0000ca00: 6e67 2069 6e74 6572 6e61 6c20 7374 6163  ng internal stac
-0000ca10: 6b20 7472 6163 650a 2020 2020 2020 2020  k trace.        
-0000ca20: 2020 2020 2020 2020 7261 6973 6520 6578          raise ex
-0000ca30: 632e 7769 7468 5f74 7261 6365 6261 636b  c.with_traceback
-0000ca40: 284e 6f6e 6529 0a0a 2020 2020 6465 6620  (None)..    def 
-0000ca50: 7365 6172 6368 5f73 7472 696e 6728 0a20  search_string(. 
-0000ca60: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0000ca70: 2020 2020 2069 6e73 7472 696e 673a 2073       instring: s
-0000ca80: 7472 2c0a 2020 2020 2020 2020 6d61 785f  tr,.        max_
-0000ca90: 6d61 7463 6865 733a 2069 6e74 203d 205f  matches: int = _
-0000caa0: 4d41 585f 494e 542c 0a20 2020 2020 2020  MAX_INT,.       
-0000cab0: 202a 2c0a 2020 2020 2020 2020 6465 6275   *,.        debu
-0000cac0: 673a 2062 6f6f 6c20 3d20 4661 6c73 652c  g: bool = False,
-0000cad0: 0a20 2020 2020 2020 206d 6178 4d61 7463  .        maxMatc
-0000cae0: 6865 733a 2069 6e74 203d 205f 4d41 585f  hes: int = _MAX_
-0000caf0: 494e 542c 0a20 2020 2029 202d 3e20 5061  INT,.    ) -> Pa
-0000cb00: 7273 6552 6573 756c 7473 3a0a 2020 2020  rseResults:.    
-0000cb10: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000cb20: 416e 6f74 6865 7220 6578 7465 6e73 696f  Another extensio
-0000cb30: 6e20 746f 203a 636c 6173 733a 6073 6361  n to :class:`sca
-0000cb40: 6e5f 7374 7269 6e67 602c 2073 696d 706c  n_string`, simpl
-0000cb50: 6966 7969 6e67 2074 6865 2061 6363 6573  ifying the acces
-0000cb60: 7320 746f 2074 6865 2074 6f6b 656e 7320  s to the tokens 
-0000cb70: 666f 756e 640a 2020 2020 2020 2020 746f  found.        to
-0000cb80: 206d 6174 6368 2074 6865 2067 6976 656e   match the given
-0000cb90: 2070 6172 7365 2065 7870 7265 7373 696f   parse expressio
-0000cba0: 6e2e 2020 4d61 7920 6265 2063 616c 6c65  n.  May be calle
-0000cbb0: 6420 7769 7468 206f 7074 696f 6e61 6c0a  d with optional.
-0000cbc0: 2020 2020 2020 2020 6060 6d61 785f 6d61          ``max_ma
-0000cbd0: 7463 6865 7360 6020 6172 6775 6d65 6e74  tches`` argument
-0000cbe0: 2c20 746f 2063 6c69 7020 7365 6172 6368  , to clip search
-0000cbf0: 696e 6720 6166 7465 7220 276e 2720 6d61  ing after 'n' ma
-0000cc00: 7463 6865 7320 6172 6520 666f 756e 642e  tches are found.
-0000cc10: 0a0a 2020 2020 2020 2020 4578 616d 706c  ..        Exampl
-0000cc20: 653a 3a0a 0a20 2020 2020 2020 2020 2020  e::..           
-0000cc30: 2023 2061 2063 6170 6974 616c 697a 6564   # a capitalized
-0000cc40: 2077 6f72 6420 7374 6172 7473 2077 6974   word starts wit
-0000cc50: 6820 616e 2075 7070 6572 6361 7365 206c  h an uppercase l
-0000cc60: 6574 7465 722c 2066 6f6c 6c6f 7765 6420  etter, followed 
-0000cc70: 6279 207a 6572 6f20 6f72 206d 6f72 6520  by zero or more 
-0000cc80: 6c6f 7765 7263 6173 6520 6c65 7474 6572  lowercase letter
-0000cc90: 730a 2020 2020 2020 2020 2020 2020 6361  s.            ca
-0000cca0: 705f 776f 7264 203d 2057 6f72 6428 616c  p_word = Word(al
-0000ccb0: 7068 6173 2e75 7070 6572 2829 2c20 616c  phas.upper(), al
-0000ccc0: 7068 6173 2e6c 6f77 6572 2829 290a 0a20  phas.lower()).. 
-0000ccd0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
-0000cce0: 2863 6170 5f77 6f72 642e 7365 6172 6368  (cap_word.search
-0000ccf0: 5f73 7472 696e 6728 224d 6f72 6520 7468  _string("More th
-0000cd00: 616e 2049 726f 6e2c 206d 6f72 6520 7468  an Iron, more th
-0000cd10: 616e 204c 6561 642c 206d 6f72 6520 7468  an Lead, more th
-0000cd20: 616e 2047 6f6c 6420 4920 6e65 6564 2045  an Gold I need E
-0000cd30: 6c65 6374 7269 6369 7479 2229 290a 0a20  lectricity")).. 
-0000cd40: 2020 2020 2020 2020 2020 2023 2074 6865             # the
-0000cd50: 2073 756d 2829 2062 7569 6c74 696e 2063   sum() builtin c
-0000cd60: 616e 2062 6520 7573 6564 2074 6f20 6d65  an be used to me
-0000cd70: 7267 6520 7265 7375 6c74 7320 696e 746f  rge results into
-0000cd80: 2061 2073 696e 676c 6520 5061 7273 6552   a single ParseR
-0000cd90: 6573 756c 7473 206f 626a 6563 740a 2020  esults object.  
-0000cda0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-0000cdb0: 7375 6d28 6361 705f 776f 7264 2e73 6561  sum(cap_word.sea
-0000cdc0: 7263 685f 7374 7269 6e67 2822 4d6f 7265  rch_string("More
-0000cdd0: 2074 6861 6e20 4972 6f6e 2c20 6d6f 7265   than Iron, more
-0000cde0: 2074 6861 6e20 4c65 6164 2c20 6d6f 7265   than Lead, more
-0000cdf0: 2074 6861 6e20 476f 6c64 2049 206e 6565   than Gold I nee
-0000ce00: 6420 456c 6563 7472 6963 6974 7922 2929  d Electricity"))
-0000ce10: 290a 0a20 2020 2020 2020 2070 7269 6e74  )..        print
-0000ce20: 733a 3a0a 0a20 2020 2020 2020 2020 2020  s::..           
-0000ce30: 205b 5b27 4d6f 7265 275d 2c20 5b27 4972   [['More'], ['Ir
-0000ce40: 6f6e 275d 2c20 5b27 4c65 6164 275d 2c20  on'], ['Lead'], 
-0000ce50: 5b27 476f 6c64 275d 2c20 5b27 4927 5d2c  ['Gold'], ['I'],
-0000ce60: 205b 2745 6c65 6374 7269 6369 7479 275d   ['Electricity']
-0000ce70: 5d0a 2020 2020 2020 2020 2020 2020 5b27  ].            ['
-0000ce80: 4d6f 7265 272c 2027 4972 6f6e 272c 2027  More', 'Iron', '
-0000ce90: 4c65 6164 272c 2027 476f 6c64 272c 2027  Lead', 'Gold', '
-0000cea0: 4927 2c20 2745 6c65 6374 7269 6369 7479  I', 'Electricity
-0000ceb0: 275d 0a20 2020 2020 2020 2022 2222 0a20  '].        """. 
-0000cec0: 2020 2020 2020 206d 6178 4d61 7463 6865         maxMatche
-0000ced0: 7320 3d20 6d69 6e28 6d61 784d 6174 6368  s = min(maxMatch
-0000cee0: 6573 2c20 6d61 785f 6d61 7463 6865 7329  es, max_matches)
-0000cef0: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
-0000cf00: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0000cf10: 2050 6172 7365 5265 7375 6c74 7328 0a20   ParseResults(. 
-0000cf20: 2020 2020 2020 2020 2020 2020 2020 205b                 [
-0000cf30: 7420 666f 7220 742c 2073 2c20 6520 696e  t for t, s, e in
-0000cf40: 2073 656c 662e 7363 616e 5f73 7472 696e   self.scan_strin
-0000cf50: 6728 696e 7374 7269 6e67 2c20 6d61 784d  g(instring, maxM
-0000cf60: 6174 6368 6573 2c20 6465 6275 673d 6465  atches, debug=de
-0000cf70: 6275 6729 5d0a 2020 2020 2020 2020 2020  bug)].          
-0000cf80: 2020 290a 2020 2020 2020 2020 6578 6365    ).        exce
-0000cf90: 7074 2050 6172 7365 4261 7365 4578 6365  pt ParseBaseExce
-0000cfa0: 7074 696f 6e20 6173 2065 7863 3a0a 2020  ption as exc:.  
-0000cfb0: 2020 2020 2020 2020 2020 6966 2050 6172            if Par
-0000cfc0: 7365 7245 6c65 6d65 6e74 2e76 6572 626f  serElement.verbo
-0000cfd0: 7365 5f73 7461 636b 7472 6163 653a 0a20  se_stacktrace:. 
-0000cfe0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000cff0: 6169 7365 0a20 2020 2020 2020 2020 2020  aise.           
-0000d000: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0000d010: 2020 2020 2020 2023 2063 6174 6368 2061         # catch a
-0000d020: 6e64 2072 652d 7261 6973 6520 6578 6365  nd re-raise exce
-0000d030: 7074 696f 6e20 6672 6f6d 2068 6572 652c  ption from here,
-0000d040: 2063 6c65 6172 7320 6f75 7420 7079 7061   clears out pypa
-0000d050: 7273 696e 6720 696e 7465 726e 616c 2073  rsing internal s
-0000d060: 7461 636b 2074 7261 6365 0a20 2020 2020  tack trace.     
-0000d070: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0000d080: 2065 7863 2e77 6974 685f 7472 6163 6562   exc.with_traceb
-0000d090: 6163 6b28 4e6f 6e65 290a 0a20 2020 2064  ack(None)..    d
-0000d0a0: 6566 2073 706c 6974 280a 2020 2020 2020  ef split(.      
-0000d0b0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-0000d0c0: 696e 7374 7269 6e67 3a20 7374 722c 0a20  instring: str,. 
-0000d0d0: 2020 2020 2020 206d 6178 7370 6c69 743a         maxsplit:
-0000d0e0: 2069 6e74 203d 205f 4d41 585f 494e 542c   int = _MAX_INT,
-0000d0f0: 0a20 2020 2020 2020 2069 6e63 6c75 6465  .        include
-0000d100: 5f73 6570 6172 6174 6f72 733a 2062 6f6f  _separators: boo
-0000d110: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
-0000d120: 2020 202a 2c0a 2020 2020 2020 2020 696e     *,.        in
-0000d130: 636c 7564 6553 6570 6172 6174 6f72 733d  cludeSeparators=
-0000d140: 4661 6c73 652c 0a20 2020 2029 202d 3e20  False,.    ) -> 
-0000d150: 4765 6e65 7261 746f 725b 7374 722c 204e  Generator[str, N
-0000d160: 6f6e 652c 204e 6f6e 655d 3a0a 2020 2020  one, None]:.    
-0000d170: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000d180: 4765 6e65 7261 746f 7220 6d65 7468 6f64  Generator method
-0000d190: 2074 6f20 7370 6c69 7420 6120 7374 7269   to split a stri
-0000d1a0: 6e67 2075 7369 6e67 2074 6865 2067 6976  ng using the giv
-0000d1b0: 656e 2065 7870 7265 7373 696f 6e20 6173  en expression as
-0000d1c0: 2061 2073 6570 6172 6174 6f72 2e0a 2020   a separator..  
-0000d1d0: 2020 2020 2020 4d61 7920 6265 2063 616c        May be cal
-0000d1e0: 6c65 6420 7769 7468 206f 7074 696f 6e61  led with optiona
-0000d1f0: 6c20 6060 6d61 7873 706c 6974 6060 2061  l ``maxsplit`` a
-0000d200: 7267 756d 656e 742c 2074 6f20 6c69 6d69  rgument, to limi
-0000d210: 7420 7468 6520 6e75 6d62 6572 206f 6620  t the number of 
-0000d220: 7370 6c69 7473 3b0a 2020 2020 2020 2020  splits;.        
-0000d230: 616e 6420 7468 6520 6f70 7469 6f6e 616c  and the optional
-0000d240: 2060 6069 6e63 6c75 6465 5f73 6570 6172   ``include_separ
-0000d250: 6174 6f72 7360 6020 6172 6775 6d65 6e74  ators`` argument
-0000d260: 2028 6465 6661 756c 743d 2060 6046 616c   (default= ``Fal
-0000d270: 7365 6060 292c 2069 6620 7468 6520 7365  se``), if the se
-0000d280: 7061 7261 7469 6e67 0a20 2020 2020 2020  parating.       
-0000d290: 206d 6174 6368 696e 6720 7465 7874 2073   matching text s
-0000d2a0: 686f 756c 6420 6265 2069 6e63 6c75 6465  hould be include
-0000d2b0: 6420 696e 2074 6865 2073 706c 6974 2072  d in the split r
-0000d2c0: 6573 756c 7473 2e0a 0a20 2020 2020 2020  esults...       
-0000d2d0: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
-0000d2e0: 2020 2020 2020 2020 7075 6e63 203d 206f          punc = o
-0000d2f0: 6e65 5f6f 6628 6c69 7374 2822 2e2c 3b3a  ne_of(list(".,;:
-0000d300: 2f2d 213f 2229 290a 2020 2020 2020 2020  /-!?")).        
-0000d310: 2020 2020 7072 696e 7428 6c69 7374 2870      print(list(p
-0000d320: 756e 632e 7370 6c69 7428 2254 6869 732c  unc.split("This,
-0000d330: 2074 6869 733f 2c20 7468 6973 2073 656e   this?, this sen
-0000d340: 7465 6e63 652c 2069 7320 6261 646c 7920  tence, is badly 
-0000d350: 7075 6e63 7475 6174 6564 2122 2929 290a  punctuated!"))).
-0000d360: 0a20 2020 2020 2020 2070 7269 6e74 733a  .        prints:
-0000d370: 3a0a 0a20 2020 2020 2020 2020 2020 205b  :..            [
-0000d380: 2754 6869 7327 2c20 2720 7468 6973 272c  'This', ' this',
-0000d390: 2027 272c 2027 2074 6869 7320 7365 6e74   '', ' this sent
-0000d3a0: 656e 6365 272c 2027 2069 7320 6261 646c  ence', ' is badl
-0000d3b0: 7920 7075 6e63 7475 6174 6564 272c 2027  y punctuated', '
-0000d3c0: 275d 0a20 2020 2020 2020 2022 2222 0a20  '].        """. 
-0000d3d0: 2020 2020 2020 2069 6e63 6c75 6465 5365         includeSe
-0000d3e0: 7061 7261 746f 7273 203d 2069 6e63 6c75  parators = inclu
-0000d3f0: 6465 5365 7061 7261 746f 7273 206f 7220  deSeparators or 
-0000d400: 696e 636c 7564 655f 7365 7061 7261 746f  include_separato
-0000d410: 7273 0a20 2020 2020 2020 206c 6173 7420  rs.        last 
-0000d420: 3d20 300a 2020 2020 2020 2020 666f 7220  = 0.        for 
-0000d430: 742c 2073 2c20 6520 696e 2073 656c 662e  t, s, e in self.
-0000d440: 7363 616e 5f73 7472 696e 6728 696e 7374  scan_string(inst
-0000d450: 7269 6e67 2c20 6d61 785f 6d61 7463 6865  ring, max_matche
-0000d460: 733d 6d61 7873 706c 6974 293a 0a20 2020  s=maxsplit):.   
-0000d470: 2020 2020 2020 2020 2079 6965 6c64 2069           yield i
-0000d480: 6e73 7472 696e 675b 6c61 7374 3a73 5d0a  nstring[last:s].
-0000d490: 2020 2020 2020 2020 2020 2020 6966 2069              if i
-0000d4a0: 6e63 6c75 6465 5365 7061 7261 746f 7273  ncludeSeparators
-0000d4b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000d4c0: 2020 7969 656c 6420 745b 305d 0a20 2020    yield t[0].   
-0000d4d0: 2020 2020 2020 2020 206c 6173 7420 3d20           last = 
-0000d4e0: 650a 2020 2020 2020 2020 7969 656c 6420  e.        yield 
-0000d4f0: 696e 7374 7269 6e67 5b6c 6173 743a 5d0a  instring[last:].
-0000d500: 0a20 2020 2064 6566 205f 5f61 6464 5f5f  .    def __add__
-0000d510: 2873 656c 662c 206f 7468 6572 2920 2d3e  (self, other) ->
-0000d520: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
-0000d530: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0000d540: 2020 2020 2020 496d 706c 656d 656e 7461        Implementa
-0000d550: 7469 6f6e 206f 6620 6060 2b60 6020 6f70  tion of ``+`` op
-0000d560: 6572 6174 6f72 202d 2072 6574 7572 6e73  erator - returns
-0000d570: 203a 636c 6173 733a 6041 6e64 602e 2041   :class:`And`. A
-0000d580: 6464 696e 6720 7374 7269 6e67 7320 746f  dding strings to
-0000d590: 2061 203a 636c 6173 733a 6050 6172 7365   a :class:`Parse
-0000d5a0: 7245 6c65 6d65 6e74 600a 2020 2020 2020  rElement`.      
-0000d5b0: 2020 636f 6e76 6572 7473 2074 6865 6d20    converts them 
-0000d5c0: 746f 203a 636c 6173 733a 604c 6974 6572  to :class:`Liter
-0000d5d0: 616c 605c 5c20 7320 6279 2064 6566 6175  al`\\ s by defau
-0000d5e0: 6c74 2e0a 0a20 2020 2020 2020 2045 7861  lt...        Exa
-0000d5f0: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
-0000d600: 2020 2020 6772 6565 7420 3d20 576f 7264      greet = Word
-0000d610: 2861 6c70 6861 7329 202b 2022 2c22 202b  (alphas) + "," +
-0000d620: 2057 6f72 6428 616c 7068 6173 2920 2b20   Word(alphas) + 
-0000d630: 2221 220a 2020 2020 2020 2020 2020 2020  "!".            
-0000d640: 6865 6c6c 6f20 3d20 2248 656c 6c6f 2c20  hello = "Hello, 
-0000d650: 576f 726c 6421 220a 2020 2020 2020 2020  World!".        
-0000d660: 2020 2020 7072 696e 7428 6865 6c6c 6f2c      print(hello,
-0000d670: 2022 2d3e 222c 2067 7265 6574 2e70 6172   "->", greet.par
-0000d680: 7365 5f73 7472 696e 6728 6865 6c6c 6f29  se_string(hello)
-0000d690: 290a 0a20 2020 2020 2020 2070 7269 6e74  )..        print
-0000d6a0: 733a 3a0a 0a20 2020 2020 2020 2020 2020  s::..           
-0000d6b0: 2048 656c 6c6f 2c20 576f 726c 6421 202d   Hello, World! -
-0000d6c0: 3e20 5b27 4865 6c6c 6f27 2c20 272c 272c  > ['Hello', ',',
-0000d6d0: 2027 576f 726c 6427 2c20 2721 275d 0a0a   'World', '!']..
-0000d6e0: 2020 2020 2020 2020 6060 2e2e 2e60 6020          ``...`` 
-0000d6f0: 6d61 7920 6265 2075 7365 6420 6173 2061  may be used as a
-0000d700: 2070 6172 7365 2065 7870 7265 7373 696f   parse expressio
-0000d710: 6e20 6173 2061 2073 686f 7274 2066 6f72  n as a short for
-0000d720: 6d20 6f66 203a 636c 6173 733a 6053 6b69  m of :class:`Ski
-0000d730: 7054 6f60 3a3a 0a0a 2020 2020 2020 2020  pTo`::..        
-0000d740: 2020 2020 4c69 7465 7261 6c28 2773 7461      Literal('sta
-0000d750: 7274 2729 202b 202e 2e2e 202b 204c 6974  rt') + ... + Lit
-0000d760: 6572 616c 2827 656e 6427 290a 0a20 2020  eral('end')..   
-0000d770: 2020 2020 2069 7320 6571 7569 7661 6c65       is equivale
-0000d780: 6e74 2074 6f3a 3a0a 0a20 2020 2020 2020  nt to::..       
-0000d790: 2020 2020 204c 6974 6572 616c 2827 7374       Literal('st
-0000d7a0: 6172 7427 2920 2b20 536b 6970 546f 2827  art') + SkipTo('
-0000d7b0: 656e 6427 2928 225f 736b 6970 7065 642a  end')("_skipped*
-0000d7c0: 2229 202b 204c 6974 6572 616c 2827 656e  ") + Literal('en
-0000d7d0: 6427 290a 0a20 2020 2020 2020 204e 6f74  d')..        Not
-0000d7e0: 6520 7468 6174 2074 6865 2073 6b69 7070  e that the skipp
-0000d7f0: 6564 2074 6578 7420 6973 2072 6574 7572  ed text is retur
-0000d800: 6e65 6420 7769 7468 2027 5f73 6b69 7070  ned with '_skipp
-0000d810: 6564 2720 6173 2061 2072 6573 756c 7473  ed' as a results
-0000d820: 206e 616d 652c 0a20 2020 2020 2020 2061   name,.        a
-0000d830: 6e64 2074 6f20 7375 7070 6f72 7420 6861  nd to support ha
-0000d840: 7669 6e67 206d 756c 7469 706c 6520 736b  ving multiple sk
-0000d850: 6970 7320 696e 2074 6865 2073 616d 6520  ips in the same 
-0000d860: 7061 7273 6572 2c20 7468 6520 7661 6c75  parser, the valu
-0000d870: 6520 7265 7475 726e 6564 2069 730a 2020  e returned is.  
-0000d880: 2020 2020 2020 6120 6c69 7374 206f 6620        a list of 
-0000d890: 616c 6c20 736b 6970 7065 6420 7465 7874  all skipped text
-0000d8a0: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
-0000d8b0: 2020 2020 2020 6966 206f 7468 6572 2069        if other i
-0000d8c0: 7320 456c 6c69 7073 6973 3a0a 2020 2020  s Ellipsis:.    
-0000d8d0: 2020 2020 2020 2020 7265 7475 726e 205f          return _
-0000d8e0: 5065 6e64 696e 6753 6b69 7028 7365 6c66  PendingSkip(self
-0000d8f0: 290a 0a20 2020 2020 2020 2069 6620 6973  )..        if is
-0000d900: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
-0000d910: 7374 725f 7479 7065 293a 0a20 2020 2020  str_type):.     
-0000d920: 2020 2020 2020 206f 7468 6572 203d 2073         other = s
-0000d930: 656c 662e 5f6c 6974 6572 616c 5374 7269  elf._literalStri
-0000d940: 6e67 436c 6173 7328 6f74 6865 7229 0a20  ngClass(other). 
-0000d950: 2020 2020 2020 2069 6620 6e6f 7420 6973         if not is
-0000d960: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
-0000d970: 5061 7273 6572 456c 656d 656e 7429 3a0a  ParserElement):.
-0000d980: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000d990: 726e 204e 6f74 496d 706c 656d 656e 7465  rn NotImplemente
-0000d9a0: 640a 2020 2020 2020 2020 7265 7475 726e  d.        return
-0000d9b0: 2041 6e64 285b 7365 6c66 2c20 6f74 6865   And([self, othe
-0000d9c0: 725d 290a 0a20 2020 2064 6566 205f 5f72  r])..    def __r
-0000d9d0: 6164 645f 5f28 7365 6c66 2c20 6f74 6865  add__(self, othe
-0000d9e0: 7229 202d 3e20 2250 6172 7365 7245 6c65  r) -> "ParserEle
-0000d9f0: 6d65 6e74 223a 0a20 2020 2020 2020 2022  ment":.        "
-0000da00: 2222 0a20 2020 2020 2020 2049 6d70 6c65  "".        Imple
-0000da10: 6d65 6e74 6174 696f 6e20 6f66 2060 602b  mentation of ``+
-0000da20: 6060 206f 7065 7261 746f 7220 7768 656e  `` operator when
-0000da30: 206c 6566 7420 6f70 6572 616e 6420 6973   left operand is
-0000da40: 206e 6f74 2061 203a 636c 6173 733a 6050   not a :class:`P
-0000da50: 6172 7365 7245 6c65 6d65 6e74 600a 2020  arserElement`.  
-0000da60: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000da70: 2020 6966 206f 7468 6572 2069 7320 456c    if other is El
-0000da80: 6c69 7073 6973 3a0a 2020 2020 2020 2020  lipsis:.        
-0000da90: 2020 2020 7265 7475 726e 2053 6b69 7054      return SkipT
-0000daa0: 6f28 7365 6c66 2928 225f 736b 6970 7065  o(self)("_skippe
-0000dab0: 642a 2229 202b 2073 656c 660a 0a20 2020  d*") + self..   
-0000dac0: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0000dad0: 6365 286f 7468 6572 2c20 7374 725f 7479  ce(other, str_ty
-0000dae0: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
-0000daf0: 206f 7468 6572 203d 2073 656c 662e 5f6c   other = self._l
-0000db00: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
-0000db10: 7328 6f74 6865 7229 0a20 2020 2020 2020  s(other).       
-0000db20: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
-0000db30: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
-0000db40: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
-0000db50: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
-0000db60: 496d 706c 656d 656e 7465 640a 2020 2020  Implemented.    
-0000db70: 2020 2020 7265 7475 726e 206f 7468 6572      return other
-0000db80: 202b 2073 656c 660a 0a20 2020 2064 6566   + self..    def
-0000db90: 205f 5f73 7562 5f5f 2873 656c 662c 206f   __sub__(self, o
-0000dba0: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
-0000dbb0: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
-0000dbc0: 2020 2222 220a 2020 2020 2020 2020 496d    """.        Im
-0000dbd0: 706c 656d 656e 7461 7469 6f6e 206f 6620  plementation of 
-0000dbe0: 6060 2d60 6020 6f70 6572 6174 6f72 2c20  ``-`` operator, 
-0000dbf0: 7265 7475 726e 7320 3a63 6c61 7373 3a60  returns :class:`
-0000dc00: 416e 6460 2077 6974 6820 6572 726f 7220  And` with error 
-0000dc10: 7374 6f70 0a20 2020 2020 2020 2022 2222  stop.        """
-0000dc20: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
-0000dc30: 7374 616e 6365 286f 7468 6572 2c20 7374  stance(other, st
-0000dc40: 725f 7479 7065 293a 0a20 2020 2020 2020  r_type):.       
-0000dc50: 2020 2020 206f 7468 6572 203d 2073 656c       other = sel
-0000dc60: 662e 5f6c 6974 6572 616c 5374 7269 6e67  f._literalString
-0000dc70: 436c 6173 7328 6f74 6865 7229 0a20 2020  Class(other).   
-0000dc80: 2020 2020 2069 6620 6e6f 7420 6973 696e       if not isin
-0000dc90: 7374 616e 6365 286f 7468 6572 2c20 5061  stance(other, Pa
-0000dca0: 7273 6572 456c 656d 656e 7429 3a0a 2020  rserElement):.  
-0000dcb0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0000dcc0: 204e 6f74 496d 706c 656d 656e 7465 640a   NotImplemented.
-0000dcd0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0000dce0: 656c 6620 2b20 416e 642e 5f45 7272 6f72  elf + And._Error
-0000dcf0: 5374 6f70 2829 202b 206f 7468 6572 0a0a  Stop() + other..
-0000dd00: 2020 2020 6465 6620 5f5f 7273 7562 5f5f      def __rsub__
-0000dd10: 2873 656c 662c 206f 7468 6572 2920 2d3e  (self, other) ->
-0000dd20: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
-0000dd30: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0000dd40: 2020 2020 2020 496d 706c 656d 656e 7461        Implementa
-0000dd50: 7469 6f6e 206f 6620 6060 2d60 6020 6f70  tion of ``-`` op
-0000dd60: 6572 6174 6f72 2077 6865 6e20 6c65 6674  erator when left
-0000dd70: 206f 7065 7261 6e64 2069 7320 6e6f 7420   operand is not 
-0000dd80: 6120 3a63 6c61 7373 3a60 5061 7273 6572  a :class:`Parser
-0000dd90: 456c 656d 656e 7460 0a20 2020 2020 2020  Element`.       
-0000dda0: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-0000ddb0: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
-0000ddc0: 2c20 7374 725f 7479 7065 293a 0a20 2020  , str_type):.   
-0000ddd0: 2020 2020 2020 2020 206f 7468 6572 203d           other =
-0000dde0: 2073 656c 662e 5f6c 6974 6572 616c 5374   self._literalSt
-0000ddf0: 7269 6e67 436c 6173 7328 6f74 6865 7229  ringClass(other)
-0000de00: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-0000de10: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
-0000de20: 2c20 5061 7273 6572 456c 656d 656e 7429  , ParserElement)
-0000de30: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0000de40: 7475 726e 204e 6f74 496d 706c 656d 656e  turn NotImplemen
-0000de50: 7465 640a 2020 2020 2020 2020 7265 7475  ted.        retu
-0000de60: 726e 206f 7468 6572 202d 2073 656c 660a  rn other - self.
-0000de70: 0a20 2020 2064 6566 205f 5f6d 756c 5f5f  .    def __mul__
-0000de80: 2873 656c 662c 206f 7468 6572 2920 2d3e  (self, other) ->
-0000de90: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
-0000dea0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0000deb0: 2020 2020 2020 496d 706c 656d 656e 7461        Implementa
-0000dec0: 7469 6f6e 206f 6620 6060 2a60 6020 6f70  tion of ``*`` op
-0000ded0: 6572 6174 6f72 2c20 616c 6c6f 7773 2075  erator, allows u
-0000dee0: 7365 206f 6620 6060 6578 7072 202a 2033  se of ``expr * 3
-0000def0: 6060 2069 6e20 706c 6163 6520 6f66 0a20  `` in place of. 
-0000df00: 2020 2020 2020 2060 6065 7870 7220 2b20         ``expr + 
-0000df10: 6578 7072 202b 2065 7870 7260 602e 2020  expr + expr``.  
-0000df20: 4578 7072 6573 7369 6f6e 7320 6d61 7920  Expressions may 
-0000df30: 616c 736f 2062 6520 6d75 6c74 6970 6c69  also be multipli
-0000df40: 6564 2062 7920 6120 322d 696e 7465 6765  ed by a 2-intege
-0000df50: 720a 2020 2020 2020 2020 7475 706c 652c  r.        tuple,
-0000df60: 2073 696d 696c 6172 2074 6f20 6060 7b6d   similar to ``{m
-0000df70: 696e 2c20 6d61 787d 6060 206d 756c 7469  in, max}`` multi
-0000df80: 706c 6965 7273 2069 6e20 7265 6775 6c61  pliers in regula
-0000df90: 7220 6578 7072 6573 7369 6f6e 732e 2020  r expressions.  
-0000dfa0: 5475 706c 6573 0a20 2020 2020 2020 206d  Tuples.        m
-0000dfb0: 6179 2061 6c73 6f20 696e 636c 7564 6520  ay also include 
-0000dfc0: 6060 4e6f 6e65 6060 2061 7320 696e 3a0a  ``None`` as in:.
-0000dfd0: 0a20 2020 2020 2020 202d 2060 6065 7870  .        - ``exp
-0000dfe0: 722a 286e 2c20 4e6f 6e65 2960 6020 6f72  r*(n, None)`` or
-0000dff0: 2060 6065 7870 722a 286e 2c20 2960 6020   ``expr*(n, )`` 
-0000e000: 6973 2065 7175 6976 616c 656e 740a 2020  is equivalent.  
-0000e010: 2020 2020 2020 2020 746f 2060 6065 7870          to ``exp
-0000e020: 722a 6e20 2b20 5a65 726f 4f72 4d6f 7265  r*n + ZeroOrMore
-0000e030: 2865 7870 7229 6060 0a20 2020 2020 2020  (expr)``.       
-0000e040: 2020 2028 7265 6164 2061 7320 2261 7420     (read as "at 
-0000e050: 6c65 6173 7420 6e20 696e 7374 616e 6365  least n instance
-0000e060: 7320 6f66 2060 6065 7870 7260 6022 290a  s of ``expr``").
-0000e070: 2020 2020 2020 2020 2d20 6060 6578 7072          - ``expr
-0000e080: 2a28 4e6f 6e65 2c20 6e29 6060 2069 7320  *(None, n)`` is 
-0000e090: 6571 7569 7661 6c65 6e74 2074 6f20 6060  equivalent to ``
-0000e0a0: 6578 7072 2a28 302c 206e 2960 600a 2020  expr*(0, n)``.  
-0000e0b0: 2020 2020 2020 2020 2872 6561 6420 6173          (read as
-0000e0c0: 2022 3020 746f 206e 2069 6e73 7461 6e63   "0 to n instanc
-0000e0d0: 6573 206f 6620 6060 6578 7072 6060 2229  es of ``expr``")
-0000e0e0: 0a20 2020 2020 2020 202d 2060 6065 7870  .        - ``exp
-0000e0f0: 722a 284e 6f6e 652c 204e 6f6e 6529 6060  r*(None, None)``
-0000e100: 2069 7320 6571 7569 7661 6c65 6e74 2074   is equivalent t
-0000e110: 6f20 6060 5a65 726f 4f72 4d6f 7265 2865  o ``ZeroOrMore(e
-0000e120: 7870 7229 6060 0a20 2020 2020 2020 202d  xpr)``.        -
-0000e130: 2060 6065 7870 722a 2831 2c20 4e6f 6e65   ``expr*(1, None
-0000e140: 2960 6020 6973 2065 7175 6976 616c 656e  )`` is equivalen
-0000e150: 7420 746f 2060 604f 6e65 4f72 4d6f 7265  t to ``OneOrMore
-0000e160: 2865 7870 7229 6060 0a0a 2020 2020 2020  (expr)``..      
-0000e170: 2020 4e6f 7465 2074 6861 7420 6060 6578    Note that ``ex
-0000e180: 7072 2a28 4e6f 6e65 2c20 6e29 6060 2064  pr*(None, n)`` d
-0000e190: 6f65 7320 6e6f 7420 7261 6973 6520 616e  oes not raise an
-0000e1a0: 2065 7863 6570 7469 6f6e 2069 660a 2020   exception if.  
-0000e1b0: 2020 2020 2020 6d6f 7265 2074 6861 6e20        more than 
-0000e1c0: 6e20 6578 7072 7320 6578 6973 7420 696e  n exprs exist in
-0000e1d0: 2074 6865 2069 6e70 7574 2073 7472 6561   the input strea
-0000e1e0: 6d3b 2074 6861 7420 6973 2c0a 2020 2020  m; that is,.    
-0000e1f0: 2020 2020 6060 6578 7072 2a28 4e6f 6e65      ``expr*(None
-0000e200: 2c20 6e29 6060 2064 6f65 7320 6e6f 7420  , n)`` does not 
-0000e210: 656e 666f 7263 6520 6120 6d61 7869 6d75  enforce a maximu
-0000e220: 6d20 6e75 6d62 6572 206f 6620 6578 7072  m number of expr
-0000e230: 0a20 2020 2020 2020 206f 6363 7572 7265  .        occurre
-0000e240: 6e63 6573 2e20 2049 6620 7468 6973 2062  nces.  If this b
-0000e250: 6568 6176 696f 7220 6973 2064 6573 6972  ehavior is desir
-0000e260: 6564 2c20 7468 656e 2077 7269 7465 0a20  ed, then write. 
-0000e270: 2020 2020 2020 2060 6065 7870 722a 284e         ``expr*(N
-0000e280: 6f6e 652c 206e 2920 2b20 7e65 7870 7260  one, n) + ~expr`
-0000e290: 600a 2020 2020 2020 2020 2222 220a 2020  `.        """.  
-0000e2a0: 2020 2020 2020 6966 206f 7468 6572 2069        if other i
-0000e2b0: 7320 456c 6c69 7073 6973 3a0a 2020 2020  s Ellipsis:.    
-0000e2c0: 2020 2020 2020 2020 6f74 6865 7220 3d20          other = 
-0000e2d0: 2830 2c20 4e6f 6e65 290a 2020 2020 2020  (0, None).      
-0000e2e0: 2020 656c 6966 2069 7369 6e73 7461 6e63    elif isinstanc
-0000e2f0: 6528 6f74 6865 722c 2074 7570 6c65 2920  e(other, tuple) 
-0000e300: 616e 6420 6f74 6865 725b 3a31 5d20 3d3d  and other[:1] ==
-0000e310: 2028 456c 6c69 7073 6973 2c29 3a0a 2020   (Ellipsis,):.  
-0000e320: 2020 2020 2020 2020 2020 6f74 6865 7220            other 
-0000e330: 3d20 2828 302c 2920 2b20 6f74 6865 725b  = ((0,) + other[
-0000e340: 313a 5d20 2b20 284e 6f6e 652c 2929 5b3a  1:] + (None,))[:
-0000e350: 325d 0a0a 2020 2020 2020 2020 6966 2069  2]..        if i
-0000e360: 7369 6e73 7461 6e63 6528 6f74 6865 722c  sinstance(other,
-0000e370: 2069 6e74 293a 0a20 2020 2020 2020 2020   int):.         
-0000e380: 2020 206d 696e 456c 656d 656e 7473 2c20     minElements, 
-0000e390: 6f70 7445 6c65 6d65 6e74 7320 3d20 6f74  optElements = ot
-0000e3a0: 6865 722c 2030 0a20 2020 2020 2020 2065  her, 0.        e
-0000e3b0: 6c69 6620 6973 696e 7374 616e 6365 286f  lif isinstance(o
-0000e3c0: 7468 6572 2c20 7475 706c 6529 3a0a 2020  ther, tuple):.  
-0000e3d0: 2020 2020 2020 2020 2020 6f74 6865 7220            other 
-0000e3e0: 3d20 7475 706c 6528 6f20 6966 206f 2069  = tuple(o if o i
-0000e3f0: 7320 6e6f 7420 456c 6c69 7073 6973 2065  s not Ellipsis e
-0000e400: 6c73 6520 4e6f 6e65 2066 6f72 206f 2069  lse None for o i
-0000e410: 6e20 6f74 6865 7229 0a20 2020 2020 2020  n other).       
-0000e420: 2020 2020 206f 7468 6572 203d 2028 6f74       other = (ot
-0000e430: 6865 7220 2b20 284e 6f6e 652c 204e 6f6e  her + (None, Non
-0000e440: 6529 295b 3a32 5d0a 2020 2020 2020 2020  e))[:2].        
-0000e450: 2020 2020 6966 206f 7468 6572 5b30 5d20      if other[0] 
-0000e460: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-0000e470: 2020 2020 2020 2020 206f 7468 6572 203d           other =
-0000e480: 2028 302c 206f 7468 6572 5b31 5d29 0a20   (0, other[1]). 
-0000e490: 2020 2020 2020 2020 2020 2069 6620 6973             if is
-0000e4a0: 696e 7374 616e 6365 286f 7468 6572 5b30  instance(other[0
-0000e4b0: 5d2c 2069 6e74 2920 616e 6420 6f74 6865  ], int) and othe
-0000e4c0: 725b 315d 2069 7320 4e6f 6e65 3a0a 2020  r[1] is None:.  
-0000e4d0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0000e4e0: 206f 7468 6572 5b30 5d20 3d3d 2030 3a0a   other[0] == 0:.
-0000e4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e500: 2020 2020 7265 7475 726e 205a 6572 6f4f      return ZeroO
-0000e510: 724d 6f72 6528 7365 6c66 290a 2020 2020  rMore(self).    
-0000e520: 2020 2020 2020 2020 2020 2020 6966 206f              if o
-0000e530: 7468 6572 5b30 5d20 3d3d 2031 3a0a 2020  ther[0] == 1:.  
-0000e540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e550: 2020 7265 7475 726e 204f 6e65 4f72 4d6f    return OneOrMo
-0000e560: 7265 2873 656c 6629 0a20 2020 2020 2020  re(self).       
-0000e570: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-0000e580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e590: 2020 2072 6574 7572 6e20 7365 6c66 202a     return self *
-0000e5a0: 206f 7468 6572 5b30 5d20 2b20 5a65 726f   other[0] + Zero
-0000e5b0: 4f72 4d6f 7265 2873 656c 6629 0a20 2020  OrMore(self).   
-0000e5c0: 2020 2020 2020 2020 2065 6c69 6620 6973           elif is
-0000e5d0: 696e 7374 616e 6365 286f 7468 6572 5b30  instance(other[0
-0000e5e0: 5d2c 2069 6e74 2920 616e 6420 6973 696e  ], int) and isin
-0000e5f0: 7374 616e 6365 286f 7468 6572 5b31 5d2c  stance(other[1],
-0000e600: 2069 6e74 293a 0a20 2020 2020 2020 2020   int):.         
-0000e610: 2020 2020 2020 206d 696e 456c 656d 656e         minElemen
-0000e620: 7473 2c20 6f70 7445 6c65 6d65 6e74 7320  ts, optElements 
-0000e630: 3d20 6f74 6865 720a 2020 2020 2020 2020  = other.        
-0000e640: 2020 2020 2020 2020 6f70 7445 6c65 6d65          optEleme
-0000e650: 6e74 7320 2d3d 206d 696e 456c 656d 656e  nts -= minElemen
-0000e660: 7473 0a20 2020 2020 2020 2020 2020 2065  ts.            e
-0000e670: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0000e680: 2020 2020 2072 6574 7572 6e20 4e6f 7449       return NotI
-0000e690: 6d70 6c65 6d65 6e74 6564 0a20 2020 2020  mplemented.     
-0000e6a0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0000e6b0: 2020 2020 2072 6574 7572 6e20 4e6f 7449       return NotI
-0000e6c0: 6d70 6c65 6d65 6e74 6564 0a0a 2020 2020  mplemented..    
-0000e6d0: 2020 2020 6966 206d 696e 456c 656d 656e      if minElemen
-0000e6e0: 7473 203c 2030 3a0a 2020 2020 2020 2020  ts < 0:.        
-0000e6f0: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
-0000e700: 7272 6f72 2822 6361 6e6e 6f74 206d 756c  rror("cannot mul
-0000e710: 7469 706c 7920 5061 7273 6572 456c 656d  tiply ParserElem
-0000e720: 656e 7420 6279 206e 6567 6174 6976 6520  ent by negative 
-0000e730: 7661 6c75 6522 290a 2020 2020 2020 2020  value").        
-0000e740: 6966 206f 7074 456c 656d 656e 7473 203c  if optElements <
-0000e750: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-0000e760: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
-0000e770: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0000e780: 2020 2273 6563 6f6e 6420 7475 706c 6520    "second tuple 
-0000e790: 7661 6c75 6520 6d75 7374 2062 6520 6772  value must be gr
-0000e7a0: 6561 7465 7220 6f72 2065 7175 616c 2074  eater or equal t
-0000e7b0: 6f20 6669 7273 7420 7475 706c 6520 7661  o first tuple va
-0000e7c0: 6c75 6522 0a20 2020 2020 2020 2020 2020  lue".           
-0000e7d0: 2029 0a20 2020 2020 2020 2069 6620 6d69   ).        if mi
-0000e7e0: 6e45 6c65 6d65 6e74 7320 3d3d 206f 7074  nElements == opt
-0000e7f0: 456c 656d 656e 7473 203d 3d20 303a 0a20  Elements == 0:. 
-0000e800: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-0000e810: 6e20 416e 6428 5b5d 290a 0a20 2020 2020  n And([])..     
-0000e820: 2020 2069 6620 6f70 7445 6c65 6d65 6e74     if optElement
-0000e830: 733a 0a0a 2020 2020 2020 2020 2020 2020  s:..            
-0000e840: 6465 6620 6d61 6b65 4f70 7469 6f6e 616c  def makeOptional
-0000e850: 4c69 7374 286e 293a 0a20 2020 2020 2020  List(n):.       
-0000e860: 2020 2020 2020 2020 2069 6620 6e20 3e20           if n > 
-0000e870: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
-0000e880: 2020 2020 2020 2072 6574 7572 6e20 4f70         return Op
-0000e890: 7428 7365 6c66 202b 206d 616b 654f 7074  t(self + makeOpt
-0000e8a0: 696f 6e61 6c4c 6973 7428 6e20 2d20 3129  ionalList(n - 1)
-0000e8b0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000e8c0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0000e8d0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000e8e0: 726e 204f 7074 2873 656c 6629 0a0a 2020  rn Opt(self)..  
-0000e8f0: 2020 2020 2020 2020 2020 6966 206d 696e            if min
-0000e900: 456c 656d 656e 7473 3a0a 2020 2020 2020  Elements:.      
-0000e910: 2020 2020 2020 2020 2020 6966 206d 696e            if min
-0000e920: 456c 656d 656e 7473 203d 3d20 313a 0a20  Elements == 1:. 
-0000e930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e940: 2020 2072 6574 203d 2073 656c 6620 2b20     ret = self + 
-0000e950: 6d61 6b65 4f70 7469 6f6e 616c 4c69 7374  makeOptionalList
-0000e960: 286f 7074 456c 656d 656e 7473 290a 2020  (optElements).  
-0000e970: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0000e980: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000e990: 2020 2020 2020 2020 7265 7420 3d20 416e          ret = An
-0000e9a0: 6428 5b73 656c 665d 202a 206d 696e 456c  d([self] * minEl
-0000e9b0: 656d 656e 7473 2920 2b20 6d61 6b65 4f70  ements) + makeOp
-0000e9c0: 7469 6f6e 616c 4c69 7374 286f 7074 456c  tionalList(optEl
-0000e9d0: 656d 656e 7473 290a 2020 2020 2020 2020  ements).        
-0000e9e0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0000e9f0: 2020 2020 2020 2020 2020 7265 7420 3d20            ret = 
-0000ea00: 6d61 6b65 4f70 7469 6f6e 616c 4c69 7374  makeOptionalList
-0000ea10: 286f 7074 456c 656d 656e 7473 290a 2020  (optElements).  
-0000ea20: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0000ea30: 2020 2020 2020 2020 6966 206d 696e 456c          if minEl
-0000ea40: 656d 656e 7473 203d 3d20 313a 0a20 2020  ements == 1:.   
-0000ea50: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0000ea60: 203d 2073 656c 660a 2020 2020 2020 2020   = self.        
-0000ea70: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0000ea80: 2020 2020 2020 2020 2020 7265 7420 3d20            ret = 
-0000ea90: 416e 6428 5b73 656c 665d 202a 206d 696e  And([self] * min
-0000eaa0: 456c 656d 656e 7473 290a 2020 2020 2020  Elements).      
-0000eab0: 2020 7265 7475 726e 2072 6574 0a0a 2020    return ret..  
-0000eac0: 2020 6465 6620 5f5f 726d 756c 5f5f 2873    def __rmul__(s
-0000ead0: 656c 662c 206f 7468 6572 2920 2d3e 2022  elf, other) -> "
-0000eae0: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
-0000eaf0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-0000eb00: 656c 662e 5f5f 6d75 6c5f 5f28 6f74 6865  elf.__mul__(othe
-0000eb10: 7229 0a0a 2020 2020 6465 6620 5f5f 6f72  r)..    def __or
-0000eb20: 5f5f 2873 656c 662c 206f 7468 6572 2920  __(self, other) 
-0000eb30: 2d3e 2022 5061 7273 6572 456c 656d 656e  -> "ParserElemen
-0000eb40: 7422 3a0a 2020 2020 2020 2020 2222 220a  t":.        """.
-0000eb50: 2020 2020 2020 2020 496d 706c 656d 656e          Implemen
-0000eb60: 7461 7469 6f6e 206f 6620 6060 7c60 6020  tation of ``|`` 
-0000eb70: 6f70 6572 6174 6f72 202d 2072 6574 7572  operator - retur
-0000eb80: 6e73 203a 636c 6173 733a 604d 6174 6368  ns :class:`Match
-0000eb90: 4669 7273 7460 0a20 2020 2020 2020 2022  First`.        "
-0000eba0: 2222 0a20 2020 2020 2020 2069 6620 6f74  "".        if ot
-0000ebb0: 6865 7220 6973 2045 6c6c 6970 7369 733a  her is Ellipsis:
-0000ebc0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-0000ebd0: 7572 6e20 5f50 656e 6469 6e67 536b 6970  urn _PendingSkip
-0000ebe0: 2873 656c 662c 206d 7573 745f 736b 6970  (self, must_skip
-0000ebf0: 3d54 7275 6529 0a0a 2020 2020 2020 2020  =True)..        
-0000ec00: 6966 2069 7369 6e73 7461 6e63 6528 6f74  if isinstance(ot
-0000ec10: 6865 722c 2073 7472 5f74 7970 6529 3a0a  her, str_type):.
-0000ec20: 2020 2020 2020 2020 2020 2020 2320 6065              # `e
-0000ec30: 7870 7220 7c20 2222 6020 6973 2065 7175  xpr | ""` is equ
-0000ec40: 6976 616c 656e 7420 746f 2060 4f70 7428  ivalent to `Opt(
-0000ec50: 6578 7072 2960 0a20 2020 2020 2020 2020  expr)`.         
-0000ec60: 2020 2069 6620 6f74 6865 7220 3d3d 2022     if other == "
-0000ec70: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
-0000ec80: 2020 2072 6574 7572 6e20 4f70 7428 7365     return Opt(se
-0000ec90: 6c66 290a 2020 2020 2020 2020 2020 2020  lf).            
-0000eca0: 6f74 6865 7220 3d20 7365 6c66 2e5f 6c69  other = self._li
-0000ecb0: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
-0000ecc0: 286f 7468 6572 290a 2020 2020 2020 2020  (other).        
-0000ecd0: 6966 206e 6f74 2069 7369 6e73 7461 6e63  if not isinstanc
-0000ece0: 6528 6f74 6865 722c 2050 6172 7365 7245  e(other, ParserE
-0000ecf0: 6c65 6d65 6e74 293a 0a20 2020 2020 2020  lement):.       
-0000ed00: 2020 2020 2072 6574 7572 6e20 4e6f 7449       return NotI
-0000ed10: 6d70 6c65 6d65 6e74 6564 0a20 2020 2020  mplemented.     
-0000ed20: 2020 2072 6574 7572 6e20 4d61 7463 6846     return MatchF
-0000ed30: 6972 7374 285b 7365 6c66 2c20 6f74 6865  irst([self, othe
-0000ed40: 725d 290a 0a20 2020 2064 6566 205f 5f72  r])..    def __r
-0000ed50: 6f72 5f5f 2873 656c 662c 206f 7468 6572  or__(self, other
-0000ed60: 2920 2d3e 2022 5061 7273 6572 456c 656d  ) -> "ParserElem
-0000ed70: 656e 7422 3a0a 2020 2020 2020 2020 2222  ent":.        ""
-0000ed80: 220a 2020 2020 2020 2020 496d 706c 656d  ".        Implem
-0000ed90: 656e 7461 7469 6f6e 206f 6620 6060 7c60  entation of ``|`
-0000eda0: 6020 6f70 6572 6174 6f72 2077 6865 6e20  ` operator when 
-0000edb0: 6c65 6674 206f 7065 7261 6e64 2069 7320  left operand is 
-0000edc0: 6e6f 7420 6120 3a63 6c61 7373 3a60 5061  not a :class:`Pa
-0000edd0: 7273 6572 456c 656d 656e 7460 0a20 2020  rserElement`.   
-0000ede0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000edf0: 2069 6620 6973 696e 7374 616e 6365 286f   if isinstance(o
-0000ee00: 7468 6572 2c20 7374 725f 7479 7065 293a  ther, str_type):
-0000ee10: 0a20 2020 2020 2020 2020 2020 206f 7468  .            oth
-0000ee20: 6572 203d 2073 656c 662e 5f6c 6974 6572  er = self._liter
-0000ee30: 616c 5374 7269 6e67 436c 6173 7328 6f74  alStringClass(ot
-0000ee40: 6865 7229 0a20 2020 2020 2020 2069 6620  her).        if 
-0000ee50: 6e6f 7420 6973 696e 7374 616e 6365 286f  not isinstance(o
-0000ee60: 7468 6572 2c20 5061 7273 6572 456c 656d  ther, ParserElem
-0000ee70: 656e 7429 3a0a 2020 2020 2020 2020 2020  ent):.          
-0000ee80: 2020 7265 7475 726e 204e 6f74 496d 706c    return NotImpl
-0000ee90: 656d 656e 7465 640a 2020 2020 2020 2020  emented.        
-0000eea0: 7265 7475 726e 206f 7468 6572 207c 2073  return other | s
-0000eeb0: 656c 660a 0a20 2020 2064 6566 205f 5f78  elf..    def __x
-0000eec0: 6f72 5f5f 2873 656c 662c 206f 7468 6572  or__(self, other
-0000eed0: 2920 2d3e 2022 5061 7273 6572 456c 656d  ) -> "ParserElem
-0000eee0: 656e 7422 3a0a 2020 2020 2020 2020 2222  ent":.        ""
-0000eef0: 220a 2020 2020 2020 2020 496d 706c 656d  ".        Implem
-0000ef00: 656e 7461 7469 6f6e 206f 6620 6060 5e60  entation of ``^`
-0000ef10: 6020 6f70 6572 6174 6f72 202d 2072 6574  ` operator - ret
-0000ef20: 7572 6e73 203a 636c 6173 733a 604f 7260  urns :class:`Or`
-0000ef30: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000ef40: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0000ef50: 6365 286f 7468 6572 2c20 7374 725f 7479  ce(other, str_ty
-0000ef60: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
-0000ef70: 206f 7468 6572 203d 2073 656c 662e 5f6c   other = self._l
-0000ef80: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
-0000ef90: 7328 6f74 6865 7229 0a20 2020 2020 2020  s(other).       
-0000efa0: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
-0000efb0: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
-0000efc0: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
-0000efd0: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
-0000efe0: 496d 706c 656d 656e 7465 640a 2020 2020  Implemented.    
-0000eff0: 2020 2020 7265 7475 726e 204f 7228 5b73      return Or([s
-0000f000: 656c 662c 206f 7468 6572 5d29 0a0a 2020  elf, other])..  
-0000f010: 2020 6465 6620 5f5f 7278 6f72 5f5f 2873    def __rxor__(s
-0000f020: 656c 662c 206f 7468 6572 2920 2d3e 2022  elf, other) -> "
-0000f030: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
-0000f040: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000f050: 2020 2020 496d 706c 656d 656e 7461 7469      Implementati
-0000f060: 6f6e 206f 6620 6060 5e60 6020 6f70 6572  on of ``^`` oper
-0000f070: 6174 6f72 2077 6865 6e20 6c65 6674 206f  ator when left o
-0000f080: 7065 7261 6e64 2069 7320 6e6f 7420 6120  perand is not a 
-0000f090: 3a63 6c61 7373 3a60 5061 7273 6572 456c  :class:`ParserEl
-0000f0a0: 656d 656e 7460 0a20 2020 2020 2020 2022  ement`.        "
-0000f0b0: 2222 0a20 2020 2020 2020 2069 6620 6973  "".        if is
-0000f0c0: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
-0000f0d0: 7374 725f 7479 7065 293a 0a20 2020 2020  str_type):.     
-0000f0e0: 2020 2020 2020 206f 7468 6572 203d 2073         other = s
-0000f0f0: 656c 662e 5f6c 6974 6572 616c 5374 7269  elf._literalStri
-0000f100: 6e67 436c 6173 7328 6f74 6865 7229 0a20  ngClass(other). 
-0000f110: 2020 2020 2020 2069 6620 6e6f 7420 6973         if not is
-0000f120: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
-0000f130: 5061 7273 6572 456c 656d 656e 7429 3a0a  ParserElement):.
-0000f140: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000f150: 726e 204e 6f74 496d 706c 656d 656e 7465  rn NotImplemente
-0000f160: 640a 2020 2020 2020 2020 7265 7475 726e  d.        return
-0000f170: 206f 7468 6572 205e 2073 656c 660a 0a20   other ^ self.. 
-0000f180: 2020 2064 6566 205f 5f61 6e64 5f5f 2873     def __and__(s
-0000f190: 656c 662c 206f 7468 6572 2920 2d3e 2022  elf, other) -> "
-0000f1a0: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
-0000f1b0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000f1c0: 2020 2020 496d 706c 656d 656e 7461 7469      Implementati
-0000f1d0: 6f6e 206f 6620 6060 2660 6020 6f70 6572  on of ``&`` oper
-0000f1e0: 6174 6f72 202d 2072 6574 7572 6e73 203a  ator - returns :
-0000f1f0: 636c 6173 733a 6045 6163 6860 0a20 2020  class:`Each`.   
-0000f200: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000f210: 2069 6620 6973 696e 7374 616e 6365 286f   if isinstance(o
-0000f220: 7468 6572 2c20 7374 725f 7479 7065 293a  ther, str_type):
-0000f230: 0a20 2020 2020 2020 2020 2020 206f 7468  .            oth
-0000f240: 6572 203d 2073 656c 662e 5f6c 6974 6572  er = self._liter
-0000f250: 616c 5374 7269 6e67 436c 6173 7328 6f74  alStringClass(ot
-0000f260: 6865 7229 0a20 2020 2020 2020 2069 6620  her).        if 
-0000f270: 6e6f 7420 6973 696e 7374 616e 6365 286f  not isinstance(o
-0000f280: 7468 6572 2c20 5061 7273 6572 456c 656d  ther, ParserElem
-0000f290: 656e 7429 3a0a 2020 2020 2020 2020 2020  ent):.          
-0000f2a0: 2020 7265 7475 726e 204e 6f74 496d 706c    return NotImpl
-0000f2b0: 656d 656e 7465 640a 2020 2020 2020 2020  emented.        
-0000f2c0: 7265 7475 726e 2045 6163 6828 5b73 656c  return Each([sel
-0000f2d0: 662c 206f 7468 6572 5d29 0a0a 2020 2020  f, other])..    
-0000f2e0: 6465 6620 5f5f 7261 6e64 5f5f 2873 656c  def __rand__(sel
-0000f2f0: 662c 206f 7468 6572 2920 2d3e 2022 5061  f, other) -> "Pa
-0000f300: 7273 6572 456c 656d 656e 7422 3a0a 2020  rserElement":.  
-0000f310: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000f320: 2020 496d 706c 656d 656e 7461 7469 6f6e    Implementation
-0000f330: 206f 6620 6060 2660 6020 6f70 6572 6174   of ``&`` operat
-0000f340: 6f72 2077 6865 6e20 6c65 6674 206f 7065  or when left ope
-0000f350: 7261 6e64 2069 7320 6e6f 7420 6120 3a63  rand is not a :c
-0000f360: 6c61 7373 3a60 5061 7273 6572 456c 656d  lass:`ParserElem
-0000f370: 656e 7460 0a20 2020 2020 2020 2022 2222  ent`.        """
-0000f380: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
-0000f390: 7374 616e 6365 286f 7468 6572 2c20 7374  stance(other, st
-0000f3a0: 725f 7479 7065 293a 0a20 2020 2020 2020  r_type):.       
-0000f3b0: 2020 2020 206f 7468 6572 203d 2073 656c       other = sel
-0000f3c0: 662e 5f6c 6974 6572 616c 5374 7269 6e67  f._literalString
-0000f3d0: 436c 6173 7328 6f74 6865 7229 0a20 2020  Class(other).   
-0000f3e0: 2020 2020 2069 6620 6e6f 7420 6973 696e       if not isin
-0000f3f0: 7374 616e 6365 286f 7468 6572 2c20 5061  stance(other, Pa
-0000f400: 7273 6572 456c 656d 656e 7429 3a0a 2020  rserElement):.  
-0000f410: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0000f420: 204e 6f74 496d 706c 656d 656e 7465 640a   NotImplemented.
-0000f430: 2020 2020 2020 2020 7265 7475 726e 206f          return o
-0000f440: 7468 6572 2026 2073 656c 660a 0a20 2020  ther & self..   
-0000f450: 2064 6566 205f 5f69 6e76 6572 745f 5f28   def __invert__(
-0000f460: 7365 6c66 2920 2d3e 2022 5061 7273 6572  self) -> "Parser
-0000f470: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
-0000f480: 2020 2222 220a 2020 2020 2020 2020 496d    """.        Im
-0000f490: 706c 656d 656e 7461 7469 6f6e 206f 6620  plementation of 
-0000f4a0: 6060 7e60 6020 6f70 6572 6174 6f72 202d  ``~`` operator -
-0000f4b0: 2072 6574 7572 6e73 203a 636c 6173 733a   returns :class:
-0000f4c0: 604e 6f74 416e 7960 0a20 2020 2020 2020  `NotAny`.       
-0000f4d0: 2022 2222 0a20 2020 2020 2020 2072 6574   """.        ret
-0000f4e0: 7572 6e20 4e6f 7441 6e79 2873 656c 6629  urn NotAny(self)
-0000f4f0: 0a0a 2020 2020 2320 6469 7361 626c 6520  ..    # disable 
-0000f500: 5f5f 6974 6572 5f5f 2074 6f20 6f76 6572  __iter__ to over
-0000f510: 7269 6465 206c 6567 6163 7920 7573 6520  ride legacy use 
-0000f520: 6f66 2073 6571 7565 6e74 6961 6c20 6163  of sequential ac
-0000f530: 6365 7373 2074 6f20 5f5f 6765 7469 7465  cess to __getite
-0000f540: 6d5f 5f20 746f 0a20 2020 2023 2069 7465  m__ to.    # ite
-0000f550: 7261 7465 206f 7665 7220 6120 7365 7175  rate over a sequ
-0000f560: 656e 6365 0a20 2020 205f 5f69 7465 725f  ence.    __iter_
-0000f570: 5f20 3d20 4e6f 6e65 0a0a 2020 2020 6465  _ = None..    de
-0000f580: 6620 5f5f 6765 7469 7465 6d5f 5f28 7365  f __getitem__(se
-0000f590: 6c66 2c20 6b65 7929 3a0a 2020 2020 2020  lf, key):.      
-0000f5a0: 2020 2222 220a 2020 2020 2020 2020 7573    """.        us
-0000f5b0: 6520 6060 5b5d 6060 2069 6e64 6578 696e  e ``[]`` indexin
-0000f5c0: 6720 6e6f 7461 7469 6f6e 2061 7320 6120  g notation as a 
-0000f5d0: 7368 6f72 7420 666f 726d 2066 6f72 2065  short form for e
-0000f5e0: 7870 7265 7373 696f 6e20 7265 7065 7469  xpression repeti
-0000f5f0: 7469 6f6e 3a0a 0a20 2020 2020 2020 202d  tion:..        -
-0000f600: 2060 6065 7870 725b 6e5d 6060 2069 7320   ``expr[n]`` is 
-0000f610: 6571 7569 7661 6c65 6e74 2074 6f20 6060  equivalent to ``
-0000f620: 6578 7072 2a6e 6060 0a20 2020 2020 2020  expr*n``.       
-0000f630: 202d 2060 6065 7870 725b 6d2c 206e 5d60   - ``expr[m, n]`
-0000f640: 6020 6973 2065 7175 6976 616c 656e 7420  ` is equivalent 
-0000f650: 746f 2060 6065 7870 722a 286d 2c20 6e29  to ``expr*(m, n)
-0000f660: 6060 0a20 2020 2020 2020 202d 2060 6065  ``.        - ``e
-0000f670: 7870 725b 6e2c 202e 2e2e 5d60 6020 6f72  xpr[n, ...]`` or
-0000f680: 2060 6065 7870 725b 6e2c 5d60 6020 6973   ``expr[n,]`` is
-0000f690: 2065 7175 6976 616c 656e 740a 2020 2020   equivalent.    
-0000f6a0: 2020 2020 2020 2020 2074 6f20 6060 6578           to ``ex
-0000f6b0: 7072 2a6e 202b 205a 6572 6f4f 724d 6f72  pr*n + ZeroOrMor
-0000f6c0: 6528 6578 7072 2960 600a 2020 2020 2020  e(expr)``.      
-0000f6d0: 2020 2020 2020 2028 7265 6164 2061 7320         (read as 
-0000f6e0: 2261 7420 6c65 6173 7420 6e20 696e 7374  "at least n inst
-0000f6f0: 616e 6365 7320 6f66 2060 6065 7870 7260  ances of ``expr`
-0000f700: 6022 290a 2020 2020 2020 2020 2d20 6060  `").        - ``
-0000f710: 6578 7072 5b2e 2e2e 2c20 6e5d 6060 2069  expr[..., n]`` i
-0000f720: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
-0000f730: 6060 6578 7072 2a28 302c 206e 2960 600a  ``expr*(0, n)``.
-0000f740: 2020 2020 2020 2020 2020 2020 2028 7265               (re
-0000f750: 6164 2061 7320 2230 2074 6f20 6e20 696e  ad as "0 to n in
-0000f760: 7374 616e 6365 7320 6f66 2060 6065 7870  stances of ``exp
-0000f770: 7260 6022 290a 2020 2020 2020 2020 2d20  r``").        - 
-0000f780: 6060 6578 7072 5b2e 2e2e 5d60 6020 616e  ``expr[...]`` an
-0000f790: 6420 6060 6578 7072 5b30 2c20 2e2e 2e5d  d ``expr[0, ...]
-0000f7a0: 6060 2061 7265 2065 7175 6976 616c 656e  `` are equivalen
-0000f7b0: 7420 746f 2060 605a 6572 6f4f 724d 6f72  t to ``ZeroOrMor
-0000f7c0: 6528 6578 7072 2960 600a 2020 2020 2020  e(expr)``.      
-0000f7d0: 2020 2d20 6060 6578 7072 5b31 2c20 2e2e    - ``expr[1, ..
-0000f7e0: 2e5d 6060 2069 7320 6571 7569 7661 6c65  .]`` is equivale
-0000f7f0: 6e74 2074 6f20 6060 4f6e 654f 724d 6f72  nt to ``OneOrMor
-0000f800: 6528 6578 7072 2960 600a 0a20 2020 2020  e(expr)``..     
-0000f810: 2020 2060 604e 6f6e 6560 6020 6d61 7920     ``None`` may 
-0000f820: 6265 2075 7365 6420 696e 2070 6c61 6365  be used in place
-0000f830: 206f 6620 6060 2e2e 2e60 602e 0a0a 2020   of ``...``...  
-0000f840: 2020 2020 2020 4e6f 7465 2074 6861 7420        Note that 
-0000f850: 6060 6578 7072 5b2e 2e2e 2c20 6e5d 6060  ``expr[..., n]``
-0000f860: 2061 6e64 2060 6065 7870 725b 6d2c 206e   and ``expr[m, n
-0000f870: 5d60 6020 646f 206e 6f74 2072 6169 7365  ]`` do not raise
-0000f880: 2061 6e20 6578 6365 7074 696f 6e0a 2020   an exception.  
-0000f890: 2020 2020 2020 6966 206d 6f72 6520 7468        if more th
-0000f8a0: 616e 2060 606e 6060 2060 6065 7870 7260  an ``n`` ``expr`
-0000f8b0: 605c 5c20 7320 6578 6973 7420 696e 2074  `\\ s exist in t
-0000f8c0: 6865 2069 6e70 7574 2073 7472 6561 6d2e  he input stream.
-0000f8d0: 2020 4966 2074 6869 7320 6265 6861 7669    If this behavi
-0000f8e0: 6f72 2069 730a 2020 2020 2020 2020 6465  or is.        de
-0000f8f0: 7369 7265 642c 2074 6865 6e20 7772 6974  sired, then writ
-0000f900: 6520 6060 6578 7072 5b2e 2e2e 2c20 6e5d  e ``expr[..., n]
-0000f910: 202b 207e 6578 7072 6060 2e0a 0a20 2020   + ~expr``...   
-0000f920: 2020 2020 2046 6f72 2072 6570 6574 6974       For repetit
-0000f930: 696f 6e20 7769 7468 2061 2073 746f 705f  ion with a stop_
-0000f940: 6f6e 2065 7870 7265 7373 696f 6e2c 2075  on expression, u
-0000f950: 7365 2073 6c69 6365 206e 6f74 6174 696f  se slice notatio
-0000f960: 6e3a 0a0a 2020 2020 2020 2020 2d20 6060  n:..        - ``
-0000f970: 6578 7072 5b2e 2e2e 3a20 656e 645f 6578  expr[...: end_ex
-0000f980: 7072 5d60 6020 616e 6420 6060 6578 7072  pr]`` and ``expr
-0000f990: 5b30 2c20 2e2e 2e3a 2065 6e64 5f65 7870  [0, ...: end_exp
-0000f9a0: 725d 6060 2061 7265 2065 7175 6976 616c  r]`` are equival
-0000f9b0: 656e 7420 746f 2060 605a 6572 6f4f 724d  ent to ``ZeroOrM
-0000f9c0: 6f72 6528 6578 7072 2c20 7374 6f70 5f6f  ore(expr, stop_o
-0000f9d0: 6e3d 656e 645f 6578 7072 2960 600a 2020  n=end_expr)``.  
-0000f9e0: 2020 2020 2020 2d20 6060 6578 7072 5b31        - ``expr[1
-0000f9f0: 2c20 2e2e 2e3a 2065 6e64 5f65 7870 725d  , ...: end_expr]
-0000fa00: 6060 2069 7320 6571 7569 7661 6c65 6e74  `` is equivalent
-0000fa10: 2074 6f20 6060 4f6e 654f 724d 6f72 6528   to ``OneOrMore(
-0000fa20: 6578 7072 2c20 7374 6f70 5f6f 6e3d 656e  expr, stop_on=en
-0000fa30: 645f 6578 7072 2960 600a 0a20 2020 2020  d_expr)``..     
-0000fa40: 2020 2022 2222 0a0a 2020 2020 2020 2020     """..        
-0000fa50: 7374 6f70 5f6f 6e5f 6465 6669 6e65 6420  stop_on_defined 
-0000fa60: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
-0000fa70: 7374 6f70 5f6f 6e20 3d20 4e6f 4d61 7463  stop_on = NoMatc
-0000fa80: 6828 290a 2020 2020 2020 2020 6966 2069  h().        if i
-0000fa90: 7369 6e73 7461 6e63 6528 6b65 792c 2073  sinstance(key, s
-0000faa0: 6c69 6365 293a 0a20 2020 2020 2020 2020  lice):.         
-0000fab0: 2020 206b 6579 2c20 7374 6f70 5f6f 6e20     key, stop_on 
-0000fac0: 3d20 6b65 792e 7374 6172 742c 206b 6579  = key.start, key
-0000fad0: 2e73 746f 700a 2020 2020 2020 2020 2020  .stop.          
-0000fae0: 2020 6966 206b 6579 2069 7320 4e6f 6e65    if key is None
-0000faf0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000fb00: 2020 6b65 7920 3d20 2e2e 2e0a 2020 2020    key = ....    
-0000fb10: 2020 2020 2020 2020 7374 6f70 5f6f 6e5f          stop_on_
-0000fb20: 6465 6669 6e65 6420 3d20 5472 7565 0a20  defined = True. 
-0000fb30: 2020 2020 2020 2065 6c69 6620 6973 696e         elif isin
-0000fb40: 7374 616e 6365 286b 6579 2c20 7475 706c  stance(key, tupl
-0000fb50: 6529 2061 6e64 2069 7369 6e73 7461 6e63  e) and isinstanc
-0000fb60: 6528 6b65 795b 2d31 5d2c 2073 6c69 6365  e(key[-1], slice
-0000fb70: 293a 0a20 2020 2020 2020 2020 2020 206b  ):.            k
-0000fb80: 6579 2c20 7374 6f70 5f6f 6e20 3d20 286b  ey, stop_on = (k
-0000fb90: 6579 5b30 5d2c 206b 6579 5b31 5d2e 7374  ey[0], key[1].st
-0000fba0: 6172 7429 2c20 6b65 795b 315d 2e73 746f  art), key[1].sto
-0000fbb0: 700a 2020 2020 2020 2020 2020 2020 7374  p.            st
-0000fbc0: 6f70 5f6f 6e5f 6465 6669 6e65 6420 3d20  op_on_defined = 
-0000fbd0: 5472 7565 0a0a 2020 2020 2020 2020 2320  True..        # 
-0000fbe0: 636f 6e76 6572 7420 7369 6e67 6c65 2061  convert single a
-0000fbf0: 7267 206b 6579 7320 746f 2074 7570 6c65  rg keys to tuple
-0000fc00: 730a 2020 2020 2020 2020 6966 2069 7369  s.        if isi
-0000fc10: 6e73 7461 6e63 6528 6b65 792c 2073 7472  nstance(key, str
-0000fc20: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
-0000fc30: 2020 2020 6b65 7920 3d20 286b 6579 2c29      key = (key,)
-0000fc40: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
-0000fc50: 2020 2020 2020 2020 2020 6974 6572 286b            iter(k
-0000fc60: 6579 290a 2020 2020 2020 2020 6578 6365  ey).        exce
-0000fc70: 7074 2054 7970 6545 7272 6f72 3a0a 2020  pt TypeError:.  
-0000fc80: 2020 2020 2020 2020 2020 6b65 7920 3d20            key = 
-0000fc90: 286b 6579 2c20 6b65 7929 0a0a 2020 2020  (key, key)..    
-0000fca0: 2020 2020 6966 206c 656e 286b 6579 2920      if len(key) 
-0000fcb0: 3e20 323a 0a20 2020 2020 2020 2020 2020  > 2:.           
-0000fcc0: 2072 6169 7365 2054 7970 6545 7272 6f72   raise TypeError
-0000fcd0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0000fce0: 2020 6622 6f6e 6c79 2031 206f 7220 3220    f"only 1 or 2 
-0000fcf0: 696e 6465 7820 6172 6775 6d65 6e74 7320  index arguments 
-0000fd00: 7375 7070 6f72 7465 6420 287b 6b65 795b  supported ({key[
-0000fd10: 3a35 5d7d 7b66 272e 2e2e 205b 7b6c 656e  :5]}{f'... [{len
-0000fd20: 286b 6579 297d 5d27 2069 6620 6c65 6e28  (key)}]' if len(
-0000fd30: 6b65 7929 203e 2035 2065 6c73 6520 2727  key) > 5 else ''
-0000fd40: 7d29 220a 2020 2020 2020 2020 2020 2020  })".            
-0000fd50: 290a 0a20 2020 2020 2020 2023 2063 6c69  )..        # cli
-0000fd60: 7020 746f 2032 2065 6c65 6d65 6e74 730a  p to 2 elements.
-0000fd70: 2020 2020 2020 2020 7265 7420 3d20 7365          ret = se
-0000fd80: 6c66 202a 2074 7570 6c65 286b 6579 5b3a  lf * tuple(key[:
-0000fd90: 325d 290a 2020 2020 2020 2020 7265 7420  2]).        ret 
-0000fda0: 3d20 7479 7069 6e67 2e63 6173 7428 5f4d  = typing.cast(_M
-0000fdb0: 756c 7469 706c 654d 6174 6368 2c20 7265  ultipleMatch, re
-0000fdc0: 7429 0a0a 2020 2020 2020 2020 6966 2073  t)..        if s
-0000fdd0: 746f 705f 6f6e 5f64 6566 696e 6564 3a0a  top_on_defined:.
-0000fde0: 2020 2020 2020 2020 2020 2020 7265 742e              ret.
-0000fdf0: 7374 6f70 4f6e 2873 746f 705f 6f6e 290a  stopOn(stop_on).
-0000fe00: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000fe10: 7265 740a 0a20 2020 2064 6566 205f 5f63  ret..    def __c
-0000fe20: 616c 6c5f 5f28 7365 6c66 2c20 6e61 6d65  all__(self, name
-0000fe30: 3a20 7479 7069 6e67 2e4f 7074 696f 6e61  : typing.Optiona
-0000fe40: 6c5b 7374 725d 203d 204e 6f6e 6529 202d  l[str] = None) -
-0000fe50: 3e20 2250 6172 7365 7245 6c65 6d65 6e74  > "ParserElement
-0000fe60: 223a 0a20 2020 2020 2020 2022 2222 0a20  ":.        """. 
-0000fe70: 2020 2020 2020 2053 686f 7274 6375 7420         Shortcut 
-0000fe80: 666f 7220 3a63 6c61 7373 3a60 7365 745f  for :class:`set_
-0000fe90: 7265 7375 6c74 735f 6e61 6d65 602c 2077  results_name`, w
-0000fea0: 6974 6820 6060 6c69 7374 5f61 6c6c 5f6d  ith ``list_all_m
-0000feb0: 6174 6368 6573 3d46 616c 7365 6060 2e0a  atches=False``..
-0000fec0: 0a20 2020 2020 2020 2049 6620 6060 6e61  .        If ``na
-0000fed0: 6d65 6060 2069 7320 6769 7665 6e20 7769  me`` is given wi
-0000fee0: 7468 2061 2074 7261 696c 696e 6720 6060  th a trailing ``
-0000fef0: 272a 2760 6020 6368 6172 6163 7465 722c  '*'`` character,
-0000ff00: 2074 6865 6e20 6060 6c69 7374 5f61 6c6c   then ``list_all
-0000ff10: 5f6d 6174 6368 6573 6060 2077 696c 6c20  _matches`` will 
-0000ff20: 6265 0a20 2020 2020 2020 2070 6173 7365  be.        passe
-0000ff30: 6420 6173 2060 6054 7275 6560 602e 0a0a  d as ``True``...
-0000ff40: 2020 2020 2020 2020 4966 2060 606e 616d          If ``nam
-0000ff50: 6560 6020 6973 206f 6d69 7474 6564 2c20  e`` is omitted, 
-0000ff60: 7361 6d65 2061 7320 6361 6c6c 696e 6720  same as calling 
-0000ff70: 3a63 6c61 7373 3a60 636f 7079 602e 0a0a  :class:`copy`...
-0000ff80: 2020 2020 2020 2020 4578 616d 706c 653a          Example:
-0000ff90: 3a0a 0a20 2020 2020 2020 2020 2020 2023  :..            #
-0000ffa0: 2074 6865 7365 2061 7265 2065 7175 6976   these are equiv
-0000ffb0: 616c 656e 740a 2020 2020 2020 2020 2020  alent.          
-0000ffc0: 2020 7573 6572 6461 7461 203d 2057 6f72    userdata = Wor
-0000ffd0: 6428 616c 7068 6173 292e 7365 745f 7265  d(alphas).set_re
-0000ffe0: 7375 6c74 735f 6e61 6d65 2822 6e61 6d65  sults_name("name
-0000fff0: 2229 202b 2057 6f72 6428 6e75 6d73 202b  ") + Word(nums +
-00010000: 2022 2d22 292e 7365 745f 7265 7375 6c74   "-").set_result
-00010010: 735f 6e61 6d65 2822 736f 6373 6563 6e6f  s_name("socsecno
-00010020: 2229 0a20 2020 2020 2020 2020 2020 2075  ").            u
-00010030: 7365 7264 6174 6120 3d20 576f 7264 2861  serdata = Word(a
-00010040: 6c70 6861 7329 2822 6e61 6d65 2229 202b  lphas)("name") +
-00010050: 2057 6f72 6428 6e75 6d73 202b 2022 2d22   Word(nums + "-"
-00010060: 2928 2273 6f63 7365 636e 6f22 290a 2020  )("socsecno").  
-00010070: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00010080: 2020 6966 206e 616d 6520 6973 206e 6f74    if name is not
-00010090: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-000100a0: 2020 2072 6574 7572 6e20 7365 6c66 2e5f     return self._
-000100b0: 7365 7452 6573 756c 7473 4e61 6d65 286e  setResultsName(n
-000100c0: 616d 6529 0a20 2020 2020 2020 2065 6c73  ame).        els
-000100d0: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-000100e0: 6574 7572 6e20 7365 6c66 2e63 6f70 7928  eturn self.copy(
-000100f0: 290a 0a20 2020 2064 6566 2073 7570 7072  )..    def suppr
-00010100: 6573 7328 7365 6c66 2920 2d3e 2022 5061  ess(self) -> "Pa
-00010110: 7273 6572 456c 656d 656e 7422 3a0a 2020  rserElement":.  
-00010120: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00010130: 2020 5375 7070 7265 7373 6573 2074 6865    Suppresses the
-00010140: 206f 7574 7075 7420 6f66 2074 6869 7320   output of this 
-00010150: 3a63 6c61 7373 3a60 5061 7273 6572 456c  :class:`ParserEl
-00010160: 656d 656e 7460 3b20 7573 6566 756c 2074  ement`; useful t
-00010170: 6f20 6b65 6570 2070 756e 6374 7561 7469  o keep punctuati
-00010180: 6f6e 2066 726f 6d0a 2020 2020 2020 2020  on from.        
-00010190: 636c 7574 7465 7269 6e67 2075 7020 7265  cluttering up re
-000101a0: 7475 726e 6564 206f 7574 7075 742e 0a20  turned output.. 
-000101b0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000101c0: 2020 2072 6574 7572 6e20 5375 7070 7265     return Suppre
-000101d0: 7373 2873 656c 6629 0a0a 2020 2020 6465  ss(self)..    de
-000101e0: 6620 6967 6e6f 7265 5f77 6869 7465 7370  f ignore_whitesp
-000101f0: 6163 6528 7365 6c66 2c20 7265 6375 7273  ace(self, recurs
-00010200: 6976 653a 2062 6f6f 6c20 3d20 5472 7565  ive: bool = True
-00010210: 2920 2d3e 2022 5061 7273 6572 456c 656d  ) -> "ParserElem
-00010220: 656e 7422 3a0a 2020 2020 2020 2020 2222  ent":.        ""
-00010230: 220a 2020 2020 2020 2020 456e 6162 6c65  ".        Enable
-00010240: 7320 7468 6520 736b 6970 7069 6e67 206f  s the skipping o
-00010250: 6620 7768 6974 6573 7061 6365 2062 6566  f whitespace bef
-00010260: 6f72 6520 6d61 7463 6869 6e67 2074 6865  ore matching the
-00010270: 2063 6861 7261 6374 6572 7320 696e 2074   characters in t
-00010280: 6865 0a20 2020 2020 2020 203a 636c 6173  he.        :clas
-00010290: 733a 6050 6172 7365 7245 6c65 6d65 6e74  s:`ParserElement
-000102a0: 6027 7320 6465 6669 6e65 6420 7061 7474  `'s defined patt
-000102b0: 6572 6e2e 0a0a 2020 2020 2020 2020 3a70  ern...        :p
-000102c0: 6172 616d 2072 6563 7572 7369 7665 3a20  aram recursive: 
-000102d0: 4966 2060 6054 7275 6560 6020 2874 6865  If ``True`` (the
-000102e0: 2064 6566 6175 6c74 292c 2061 6c73 6f20   default), also 
-000102f0: 656e 6162 6c65 2077 6869 7465 7370 6163  enable whitespac
-00010300: 6520 736b 6970 7069 6e67 2069 6e20 6368  e skipping in ch
-00010310: 696c 6420 656c 656d 656e 7473 2028 6966  ild elements (if
-00010320: 2061 6e79 290a 2020 2020 2020 2020 2222   any).        ""
-00010330: 220a 2020 2020 2020 2020 7365 6c66 2e73  ".        self.s
-00010340: 6b69 7057 6869 7465 7370 6163 6520 3d20  kipWhitespace = 
-00010350: 5472 7565 0a20 2020 2020 2020 2072 6574  True.        ret
-00010360: 7572 6e20 7365 6c66 0a0a 2020 2020 6465  urn self..    de
-00010370: 6620 6c65 6176 655f 7768 6974 6573 7061  f leave_whitespa
-00010380: 6365 2873 656c 662c 2072 6563 7572 7369  ce(self, recursi
-00010390: 7665 3a20 626f 6f6c 203d 2054 7275 6529  ve: bool = True)
-000103a0: 202d 3e20 2250 6172 7365 7245 6c65 6d65   -> "ParserEleme
-000103b0: 6e74 223a 0a20 2020 2020 2020 2022 2222  nt":.        """
-000103c0: 0a20 2020 2020 2020 2044 6973 6162 6c65  .        Disable
-000103d0: 7320 7468 6520 736b 6970 7069 6e67 206f  s the skipping o
-000103e0: 6620 7768 6974 6573 7061 6365 2062 6566  f whitespace bef
-000103f0: 6f72 6520 6d61 7463 6869 6e67 2074 6865  ore matching the
-00010400: 2063 6861 7261 6374 6572 7320 696e 2074   characters in t
-00010410: 6865 0a20 2020 2020 2020 203a 636c 6173  he.        :clas
-00010420: 733a 6050 6172 7365 7245 6c65 6d65 6e74  s:`ParserElement
-00010430: 6027 7320 6465 6669 6e65 6420 7061 7474  `'s defined patt
-00010440: 6572 6e2e 2020 5468 6973 2069 7320 6e6f  ern.  This is no
-00010450: 726d 616c 6c79 206f 6e6c 7920 7573 6564  rmally only used
-00010460: 2069 6e74 6572 6e61 6c6c 7920 6279 0a20   internally by. 
-00010470: 2020 2020 2020 2074 6865 2070 7970 6172         the pypar
-00010480: 7369 6e67 206d 6f64 756c 652c 2062 7574  sing module, but
-00010490: 206d 6179 2062 6520 6e65 6564 6564 2069   may be needed i
-000104a0: 6e20 736f 6d65 2077 6869 7465 7370 6163  n some whitespac
-000104b0: 652d 7365 6e73 6974 6976 6520 6772 616d  e-sensitive gram
-000104c0: 6d61 7273 2e0a 0a20 2020 2020 2020 203a  mars...        :
-000104d0: 7061 7261 6d20 7265 6375 7273 6976 653a  param recursive:
-000104e0: 2049 6620 7472 7565 2028 7468 6520 6465   If true (the de
-000104f0: 6661 756c 7429 2c20 616c 736f 2064 6973  fault), also dis
-00010500: 6162 6c65 2077 6869 7465 7370 6163 6520  able whitespace 
-00010510: 736b 6970 7069 6e67 2069 6e20 6368 696c  skipping in chil
-00010520: 6420 656c 656d 656e 7473 2028 6966 2061  d elements (if a
-00010530: 6e79 290a 2020 2020 2020 2020 2222 220a  ny).        """.
-00010540: 2020 2020 2020 2020 7365 6c66 2e73 6b69          self.ski
-00010550: 7057 6869 7465 7370 6163 6520 3d20 4661  pWhitespace = Fa
-00010560: 6c73 650a 2020 2020 2020 2020 7265 7475  lse.        retu
-00010570: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
-00010580: 2073 6574 5f77 6869 7465 7370 6163 655f   set_whitespace_
-00010590: 6368 6172 7328 0a20 2020 2020 2020 2073  chars(.        s
-000105a0: 656c 662c 2063 6861 7273 3a20 556e 696f  elf, chars: Unio
-000105b0: 6e5b 5365 745b 7374 725d 2c20 7374 725d  n[Set[str], str]
-000105c0: 2c20 636f 7079 5f64 6566 6175 6c74 733a  , copy_defaults:
-000105d0: 2062 6f6f 6c20 3d20 4661 6c73 650a 2020   bool = False.  
-000105e0: 2020 2920 2d3e 2022 5061 7273 6572 456c    ) -> "ParserEl
-000105f0: 656d 656e 7422 3a0a 2020 2020 2020 2020  ement":.        
-00010600: 2222 220a 2020 2020 2020 2020 4f76 6572  """.        Over
-00010610: 7269 6465 7320 7468 6520 6465 6661 756c  rides the defaul
-00010620: 7420 7768 6974 6573 7061 6365 2063 6861  t whitespace cha
-00010630: 7273 0a20 2020 2020 2020 2022 2222 0a20  rs.        """. 
-00010640: 2020 2020 2020 2073 656c 662e 736b 6970         self.skip
-00010650: 5768 6974 6573 7061 6365 203d 2054 7275  Whitespace = Tru
-00010660: 650a 2020 2020 2020 2020 7365 6c66 2e77  e.        self.w
-00010670: 6869 7465 4368 6172 7320 3d20 7365 7428  hiteChars = set(
-00010680: 6368 6172 7329 0a20 2020 2020 2020 2073  chars).        s
-00010690: 656c 662e 636f 7079 4465 6661 756c 7457  elf.copyDefaultW
-000106a0: 6869 7465 4368 6172 7320 3d20 636f 7079  hiteChars = copy
-000106b0: 5f64 6566 6175 6c74 730a 2020 2020 2020  _defaults.      
-000106c0: 2020 7265 7475 726e 2073 656c 660a 0a20    return self.. 
-000106d0: 2020 2064 6566 2070 6172 7365 5f77 6974     def parse_wit
-000106e0: 685f 7461 6273 2873 656c 6629 202d 3e20  h_tabs(self) -> 
-000106f0: 2250 6172 7365 7245 6c65 6d65 6e74 223a  "ParserElement":
-00010700: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00010710: 2020 2020 204f 7665 7272 6964 6573 2064       Overrides d
-00010720: 6566 6175 6c74 2062 6568 6176 696f 7220  efault behavior 
-00010730: 746f 2065 7870 616e 6420 6060 3c54 4142  to expand ``<TAB
-00010740: 3e60 6020 7320 746f 2073 7061 6365 7320  >`` s to spaces 
-00010750: 6265 666f 7265 2070 6172 7369 6e67 2074  before parsing t
-00010760: 6865 2069 6e70 7574 2073 7472 696e 672e  he input string.
-00010770: 0a20 2020 2020 2020 204d 7573 7420 6265  .        Must be
-00010780: 2063 616c 6c65 6420 6265 666f 7265 2060   called before `
-00010790: 6070 6172 7365 5f73 7472 696e 6760 6020  `parse_string`` 
-000107a0: 7768 656e 2074 6865 2069 6e70 7574 2067  when the input g
-000107b0: 7261 6d6d 6172 2063 6f6e 7461 696e 7320  rammar contains 
-000107c0: 656c 656d 656e 7473 2074 6861 740a 2020  elements that.  
-000107d0: 2020 2020 2020 6d61 7463 6820 6060 3c54        match ``<T
-000107e0: 4142 3e60 6020 6368 6172 6163 7465 7273  AB>`` characters
-000107f0: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
-00010800: 2020 2020 2020 7365 6c66 2e6b 6565 7054        self.keepT
-00010810: 6162 7320 3d20 5472 7565 0a20 2020 2020  abs = True.     
-00010820: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-00010830: 2020 2020 6465 6620 6967 6e6f 7265 2873      def ignore(s
-00010840: 656c 662c 206f 7468 6572 3a20 2250 6172  elf, other: "Par
-00010850: 7365 7245 6c65 6d65 6e74 2229 202d 3e20  serElement") -> 
-00010860: 2250 6172 7365 7245 6c65 6d65 6e74 223a  "ParserElement":
-00010870: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00010880: 2020 2020 2044 6566 696e 6520 6578 7072       Define expr
-00010890: 6573 7369 6f6e 2074 6f20 6265 2069 676e  ession to be ign
-000108a0: 6f72 6564 2028 652e 672e 2c20 636f 6d6d  ored (e.g., comm
-000108b0: 656e 7473 2920 7768 696c 6520 646f 696e  ents) while doin
-000108c0: 6720 7061 7474 6572 6e0a 2020 2020 2020  g pattern.      
-000108d0: 2020 6d61 7463 6869 6e67 3b20 6d61 7920    matching; may 
-000108e0: 6265 2063 616c 6c65 6420 7265 7065 6174  be called repeat
-000108f0: 6564 6c79 2c20 746f 2064 6566 696e 6520  edly, to define 
-00010900: 6d75 6c74 6970 6c65 2063 6f6d 6d65 6e74  multiple comment
-00010910: 206f 7220 6f74 6865 720a 2020 2020 2020   or other.      
-00010920: 2020 6967 6e6f 7261 626c 6520 7061 7474    ignorable patt
-00010930: 6572 6e73 2e0a 0a20 2020 2020 2020 2045  erns...        E
-00010940: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
-00010950: 2020 2020 2020 7061 7474 203d 2057 6f72        patt = Wor
-00010960: 6428 616c 7068 6173 295b 312c 202e 2e2e  d(alphas)[1, ...
-00010970: 5d0a 2020 2020 2020 2020 2020 2020 7061  ].            pa
-00010980: 7474 2e70 6172 7365 5f73 7472 696e 6728  tt.parse_string(
-00010990: 2761 626c 616a 202f 2a20 636f 6d6d 656e  'ablaj /* commen
-000109a0: 7420 2a2f 206c 736b 6a64 2729 0a20 2020  t */ lskjd').   
-000109b0: 2020 2020 2020 2020 2023 202d 3e20 5b27           # -> ['
-000109c0: 6162 6c61 6a27 5d0a 0a20 2020 2020 2020  ablaj']..       
-000109d0: 2020 2020 2070 6174 742e 6967 6e6f 7265       patt.ignore
-000109e0: 2863 5f73 7479 6c65 5f63 6f6d 6d65 6e74  (c_style_comment
-000109f0: 290a 2020 2020 2020 2020 2020 2020 7061  ).            pa
-00010a00: 7474 2e70 6172 7365 5f73 7472 696e 6728  tt.parse_string(
-00010a10: 2761 626c 616a 202f 2a20 636f 6d6d 656e  'ablaj /* commen
-00010a20: 7420 2a2f 206c 736b 6a64 2729 0a20 2020  t */ lskjd').   
-00010a30: 2020 2020 2020 2020 2023 202d 3e20 5b27           # -> ['
-00010a40: 6162 6c61 6a27 2c20 276c 736b 6a64 275d  ablaj', 'lskjd']
-00010a50: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00010a60: 2020 2020 2069 6d70 6f72 7420 7479 7069       import typi
-00010a70: 6e67 0a0a 2020 2020 2020 2020 6966 2069  ng..        if i
-00010a80: 7369 6e73 7461 6e63 6528 6f74 6865 722c  sinstance(other,
-00010a90: 2073 7472 5f74 7970 6529 3a0a 2020 2020   str_type):.    
-00010aa0: 2020 2020 2020 2020 6f74 6865 7220 3d20          other = 
-00010ab0: 5375 7070 7265 7373 286f 7468 6572 290a  Suppress(other).
-00010ac0: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
-00010ad0: 7374 616e 6365 286f 7468 6572 2c20 5375  stance(other, Su
-00010ae0: 7070 7265 7373 293a 0a20 2020 2020 2020  ppress):.       
-00010af0: 2020 2020 2069 6620 6f74 6865 7220 6e6f       if other no
-00010b00: 7420 696e 2073 656c 662e 6967 6e6f 7265  t in self.ignore
-00010b10: 4578 7072 733a 0a20 2020 2020 2020 2020  Exprs:.         
-00010b20: 2020 2020 2020 2073 656c 662e 6967 6e6f         self.igno
-00010b30: 7265 4578 7072 732e 6170 7065 6e64 286f  reExprs.append(o
-00010b40: 7468 6572 290a 2020 2020 2020 2020 656c  ther).        el
-00010b50: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00010b60: 7365 6c66 2e69 676e 6f72 6545 7870 7273  self.ignoreExprs
-00010b70: 2e61 7070 656e 6428 5375 7070 7265 7373  .append(Suppress
-00010b80: 286f 7468 6572 2e63 6f70 7928 2929 290a  (other.copy())).
-00010b90: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00010ba0: 656c 660a 0a20 2020 2064 6566 2073 6574  elf..    def set
-00010bb0: 5f64 6562 7567 5f61 6374 696f 6e73 280a  _debug_actions(.
-00010bc0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-00010bd0: 2020 2020 2020 7374 6172 745f 6163 7469        start_acti
-00010be0: 6f6e 3a20 4465 6275 6753 7461 7274 4163  on: DebugStartAc
-00010bf0: 7469 6f6e 2c0a 2020 2020 2020 2020 7375  tion,.        su
-00010c00: 6363 6573 735f 6163 7469 6f6e 3a20 4465  ccess_action: De
-00010c10: 6275 6753 7563 6365 7373 4163 7469 6f6e  bugSuccessAction
-00010c20: 2c0a 2020 2020 2020 2020 6578 6365 7074  ,.        except
-00010c30: 696f 6e5f 6163 7469 6f6e 3a20 4465 6275  ion_action: Debu
-00010c40: 6745 7863 6570 7469 6f6e 4163 7469 6f6e  gExceptionAction
-00010c50: 2c0a 2020 2020 2920 2d3e 2022 5061 7273  ,.    ) -> "Pars
-00010c60: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
-00010c70: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00010c80: 4375 7374 6f6d 697a 6520 6469 7370 6c61  Customize displa
-00010c90: 7920 6f66 2064 6562 7567 6769 6e67 206d  y of debugging m
-00010ca0: 6573 7361 6765 7320 7768 696c 6520 646f  essages while do
-00010cb0: 696e 6720 7061 7474 6572 6e20 6d61 7463  ing pattern matc
-00010cc0: 6869 6e67 3a0a 0a20 2020 2020 2020 202d  hing:..        -
-00010cd0: 2060 6073 7461 7274 5f61 6374 696f 6e60   ``start_action`
-00010ce0: 6020 2d20 6d65 7468 6f64 2074 6f20 6265  ` - method to be
-00010cf0: 2063 616c 6c65 6420 7768 656e 2061 6e20   called when an 
-00010d00: 6578 7072 6573 7369 6f6e 2069 7320 6162  expression is ab
-00010d10: 6f75 7420 746f 2062 6520 7061 7273 6564  out to be parsed
-00010d20: 3b0a 2020 2020 2020 2020 2020 7368 6f75  ;.          shou
-00010d30: 6c64 2068 6176 6520 7468 6520 7369 676e  ld have the sign
-00010d40: 6174 7572 6520 6060 666e 2869 6e70 7574  ature ``fn(input
-00010d50: 5f73 7472 696e 673a 2073 7472 2c20 6c6f  _string: str, lo
-00010d60: 6361 7469 6f6e 3a20 696e 742c 2065 7870  cation: int, exp
-00010d70: 7265 7373 696f 6e3a 2050 6172 7365 7245  ression: ParserE
-00010d80: 6c65 6d65 6e74 2c20 6361 6368 655f 6869  lement, cache_hi
-00010d90: 743a 2062 6f6f 6c29 6060 0a0a 2020 2020  t: bool)``..    
-00010da0: 2020 2020 2d20 6060 7375 6363 6573 735f      - ``success_
-00010db0: 6163 7469 6f6e 6060 202d 206d 6574 686f  action`` - metho
-00010dc0: 6420 746f 2062 6520 6361 6c6c 6564 2077  d to be called w
-00010dd0: 6865 6e20 616e 2065 7870 7265 7373 696f  hen an expressio
-00010de0: 6e20 6861 7320 7375 6363 6573 7366 756c  n has successful
-00010df0: 6c79 2070 6172 7365 643b 0a20 2020 2020  ly parsed;.     
-00010e00: 2020 2020 2073 686f 756c 6420 6861 7665       should have
-00010e10: 2074 6865 2073 6967 6e61 7475 7265 2060   the signature `
-00010e20: 6066 6e28 696e 7075 745f 7374 7269 6e67  `fn(input_string
-00010e30: 3a20 7374 722c 2073 7461 7274 5f6c 6f63  : str, start_loc
-00010e40: 6174 696f 6e3a 2069 6e74 2c20 656e 645f  ation: int, end_
-00010e50: 6c6f 6361 7469 6f6e 3a20 696e 742c 2065  location: int, e
-00010e60: 7870 7265 7373 696f 6e3a 2050 6172 7365  xpression: Parse
-00010e70: 7245 4c65 6d65 6e74 2c20 7061 7273 6564  rELement, parsed
-00010e80: 5f74 6f6b 656e 733a 2050 6172 7365 5265  _tokens: ParseRe
-00010e90: 7375 6c74 732c 2063 6163 6865 5f68 6974  sults, cache_hit
-00010ea0: 3a20 626f 6f6c 2960 600a 0a20 2020 2020  : bool)``..     
-00010eb0: 2020 202d 2060 6065 7863 6570 7469 6f6e     - ``exception
-00010ec0: 5f61 6374 696f 6e60 6020 2d20 6d65 7468  _action`` - meth
-00010ed0: 6f64 2074 6f20 6265 2063 616c 6c65 6420  od to be called 
-00010ee0: 7768 656e 2065 7870 7265 7373 696f 6e20  when expression 
-00010ef0: 6661 696c 7320 746f 2070 6172 7365 3b0a  fails to parse;.
-00010f00: 2020 2020 2020 2020 2020 7368 6f75 6c64            should
-00010f10: 2068 6176 6520 7468 6520 7369 676e 6174   have the signat
-00010f20: 7572 6520 6060 666e 2869 6e70 7574 5f73  ure ``fn(input_s
-00010f30: 7472 696e 673a 2073 7472 2c20 6c6f 6361  tring: str, loca
-00010f40: 7469 6f6e 3a20 696e 742c 2065 7870 7265  tion: int, expre
-00010f50: 7373 696f 6e3a 2050 6172 7365 7245 6c65  ssion: ParserEle
-00010f60: 6d65 6e74 2c20 6578 6365 7074 696f 6e3a  ment, exception:
-00010f70: 2045 7863 6570 7469 6f6e 2c20 6361 6368   Exception, cach
-00010f80: 655f 6869 743a 2062 6f6f 6c29 6060 0a20  e_hit: bool)``. 
-00010f90: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00010fa0: 2020 2073 656c 662e 6465 6275 6741 6374     self.debugAct
-00010fb0: 696f 6e73 203d 2073 656c 662e 4465 6275  ions = self.Debu
-00010fc0: 6741 6374 696f 6e73 280a 2020 2020 2020  gActions(.      
-00010fd0: 2020 2020 2020 7374 6172 745f 6163 7469        start_acti
-00010fe0: 6f6e 206f 7220 5f64 6566 6175 6c74 5f73  on or _default_s
-00010ff0: 7461 7274 5f64 6562 7567 5f61 6374 696f  tart_debug_actio
-00011000: 6e2c 2020 2320 7479 7065 3a20 6967 6e6f  n,  # type: igno
-00011010: 7265 5b74 7275 7468 792d 6675 6e63 7469  re[truthy-functi
-00011020: 6f6e 5d0a 2020 2020 2020 2020 2020 2020  on].            
-00011030: 7375 6363 6573 735f 6163 7469 6f6e 206f  success_action o
-00011040: 7220 5f64 6566 6175 6c74 5f73 7563 6365  r _default_succe
-00011050: 7373 5f64 6562 7567 5f61 6374 696f 6e2c  ss_debug_action,
-00011060: 2020 2320 7479 7065 3a20 6967 6e6f 7265    # type: ignore
-00011070: 5b74 7275 7468 792d 6675 6e63 7469 6f6e  [truthy-function
-00011080: 5d0a 2020 2020 2020 2020 2020 2020 6578  ].            ex
-00011090: 6365 7074 696f 6e5f 6163 7469 6f6e 206f  ception_action o
-000110a0: 7220 5f64 6566 6175 6c74 5f65 7863 6570  r _default_excep
-000110b0: 7469 6f6e 5f64 6562 7567 5f61 6374 696f  tion_debug_actio
-000110c0: 6e2c 2020 2320 7479 7065 3a20 6967 6e6f  n,  # type: igno
-000110d0: 7265 5b74 7275 7468 792d 6675 6e63 7469  re[truthy-functi
-000110e0: 6f6e 5d0a 2020 2020 2020 2020 290a 2020  on].        ).  
-000110f0: 2020 2020 2020 7365 6c66 2e64 6562 7567        self.debug
-00011100: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
-00011110: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
-00011120: 2064 6566 2073 6574 5f64 6562 7567 2873   def set_debug(s
-00011130: 656c 662c 2066 6c61 673a 2062 6f6f 6c20  elf, flag: bool 
-00011140: 3d20 5472 7565 2c20 7265 6375 7273 653a  = True, recurse:
-00011150: 2062 6f6f 6c20 3d20 4661 6c73 6529 202d   bool = False) -
-00011160: 3e20 2250 6172 7365 7245 6c65 6d65 6e74  > "ParserElement
-00011170: 223a 0a20 2020 2020 2020 2022 2222 0a20  ":.        """. 
-00011180: 2020 2020 2020 2045 6e61 626c 6520 6469         Enable di
-00011190: 7370 6c61 7920 6f66 2064 6562 7567 6769  splay of debuggi
-000111a0: 6e67 206d 6573 7361 6765 7320 7768 696c  ng messages whil
-000111b0: 6520 646f 696e 6720 7061 7474 6572 6e20  e doing pattern 
-000111c0: 6d61 7463 6869 6e67 2e0a 2020 2020 2020  matching..      
-000111d0: 2020 5365 7420 6060 666c 6167 6060 2074    Set ``flag`` t
-000111e0: 6f20 6060 5472 7565 6060 2074 6f20 656e  o ``True`` to en
-000111f0: 6162 6c65 2c20 6060 4661 6c73 6560 6020  able, ``False`` 
-00011200: 746f 2064 6973 6162 6c65 2e0a 2020 2020  to disable..    
-00011210: 2020 2020 5365 7420 6060 7265 6375 7273      Set ``recurs
-00011220: 6560 6020 746f 2060 6054 7275 6560 6020  e`` to ``True`` 
-00011230: 746f 2073 6574 2074 6865 2064 6562 7567  to set the debug
-00011240: 2066 6c61 6720 6f6e 2074 6869 7320 6578   flag on this ex
-00011250: 7072 6573 7369 6f6e 2061 6e64 2061 6c6c  pression and all
-00011260: 2073 7562 2d65 7870 7265 7373 696f 6e73   sub-expressions
-00011270: 2e0a 0a20 2020 2020 2020 2045 7861 6d70  ...        Examp
-00011280: 6c65 3a3a 0a0a 2020 2020 2020 2020 2020  le::..          
-00011290: 2020 7764 203d 2057 6f72 6428 616c 7068    wd = Word(alph
-000112a0: 6173 292e 7365 745f 6e61 6d65 2822 616c  as).set_name("al
-000112b0: 7068 6177 6f72 6422 290a 2020 2020 2020  phaword").      
-000112c0: 2020 2020 2020 696e 7465 6765 7220 3d20        integer = 
-000112d0: 576f 7264 286e 756d 7329 2e73 6574 5f6e  Word(nums).set_n
-000112e0: 616d 6528 226e 756d 776f 7264 2229 0a20  ame("numword"). 
-000112f0: 2020 2020 2020 2020 2020 2074 6572 6d20             term 
-00011300: 3d20 7764 207c 2069 6e74 6567 6572 0a0a  = wd | integer..
-00011310: 2020 2020 2020 2020 2020 2020 2320 7475              # tu
-00011320: 726e 206f 6e20 6465 6275 6767 696e 6720  rn on debugging 
-00011330: 666f 7220 7764 0a20 2020 2020 2020 2020  for wd.         
-00011340: 2020 2077 642e 7365 745f 6465 6275 6728     wd.set_debug(
-00011350: 290a 0a20 2020 2020 2020 2020 2020 2074  )..            t
-00011360: 6572 6d5b 312c 202e 2e2e 5d2e 7061 7273  erm[1, ...].pars
-00011370: 655f 7374 7269 6e67 2822 6162 6320 3132  e_string("abc 12
-00011380: 3320 7879 7a20 3839 3022 290a 0a20 2020  3 xyz 890")..   
-00011390: 2020 2020 2070 7269 6e74 733a 3a0a 0a20       prints::.. 
-000113a0: 2020 2020 2020 2020 2020 204d 6174 6368             Match
-000113b0: 2061 6c70 6861 776f 7264 2061 7420 6c6f   alphaword at lo
-000113c0: 6320 3028 312c 3129 0a20 2020 2020 2020  c 0(1,1).       
-000113d0: 2020 2020 204d 6174 6368 6564 2061 6c70       Matched alp
-000113e0: 6861 776f 7264 202d 3e20 5b27 6162 6327  haword -> ['abc'
-000113f0: 5d0a 2020 2020 2020 2020 2020 2020 4d61  ].            Ma
-00011400: 7463 6820 616c 7068 6177 6f72 6420 6174  tch alphaword at
-00011410: 206c 6f63 2033 2831 2c34 290a 2020 2020   loc 3(1,4).    
-00011420: 2020 2020 2020 2020 4578 6365 7074 696f          Exceptio
-00011430: 6e20 7261 6973 6564 3a45 7870 6563 7465  n raised:Expecte
-00011440: 6420 616c 7068 6177 6f72 6420 2861 7420  d alphaword (at 
-00011450: 6368 6172 2034 292c 2028 6c69 6e65 3a31  char 4), (line:1
-00011460: 2c20 636f 6c3a 3529 0a20 2020 2020 2020  , col:5).       
-00011470: 2020 2020 204d 6174 6368 2061 6c70 6861       Match alpha
-00011480: 776f 7264 2061 7420 6c6f 6320 3728 312c  word at loc 7(1,
-00011490: 3829 0a20 2020 2020 2020 2020 2020 204d  8).            M
-000114a0: 6174 6368 6564 2061 6c70 6861 776f 7264  atched alphaword
-000114b0: 202d 3e20 5b27 7879 7a27 5d0a 2020 2020   -> ['xyz'].    
-000114c0: 2020 2020 2020 2020 4d61 7463 6820 616c          Match al
-000114d0: 7068 6177 6f72 6420 6174 206c 6f63 2031  phaword at loc 1
-000114e0: 3128 312c 3132 290a 2020 2020 2020 2020  1(1,12).        
-000114f0: 2020 2020 4578 6365 7074 696f 6e20 7261      Exception ra
-00011500: 6973 6564 3a45 7870 6563 7465 6420 616c  ised:Expected al
-00011510: 7068 6177 6f72 6420 2861 7420 6368 6172  phaword (at char
-00011520: 2031 3229 2c20 286c 696e 653a 312c 2063   12), (line:1, c
-00011530: 6f6c 3a31 3329 0a20 2020 2020 2020 2020  ol:13).         
-00011540: 2020 204d 6174 6368 2061 6c70 6861 776f     Match alphawo
-00011550: 7264 2061 7420 6c6f 6320 3135 2831 2c31  rd at loc 15(1,1
-00011560: 3629 0a20 2020 2020 2020 2020 2020 2045  6).            E
-00011570: 7863 6570 7469 6f6e 2072 6169 7365 643a  xception raised:
-00011580: 4578 7065 6374 6564 2061 6c70 6861 776f  Expected alphawo
-00011590: 7264 2028 6174 2063 6861 7220 3135 292c  rd (at char 15),
-000115a0: 2028 6c69 6e65 3a31 2c20 636f 6c3a 3136   (line:1, col:16
-000115b0: 290a 0a20 2020 2020 2020 2054 6865 206f  )..        The o
-000115c0: 7574 7075 7420 7368 6f77 6e20 6973 2074  utput shown is t
-000115d0: 6861 7420 7072 6f64 7563 6564 2062 7920  hat produced by 
-000115e0: 7468 6520 6465 6661 756c 7420 6465 6275  the default debu
-000115f0: 6720 6163 7469 6f6e 7320 2d20 6375 7374  g actions - cust
-00011600: 6f6d 2064 6562 7567 2061 6374 696f 6e73  om debug actions
-00011610: 2063 616e 2062 650a 2020 2020 2020 2020   can be.        
-00011620: 7370 6563 6966 6965 6420 7573 696e 6720  specified using 
-00011630: 3a63 6c61 7373 3a60 7365 745f 6465 6275  :class:`set_debu
-00011640: 675f 6163 7469 6f6e 7360 2e20 5072 696f  g_actions`. Prio
-00011650: 7220 746f 2061 7474 656d 7074 696e 670a  r to attempting.
-00011660: 2020 2020 2020 2020 746f 206d 6174 6368          to match
-00011670: 2074 6865 2060 6077 6460 6020 6578 7072   the ``wd`` expr
-00011680: 6573 7369 6f6e 2c20 7468 6520 6465 6275  ession, the debu
-00011690: 6767 696e 6720 6d65 7373 6167 6520 6060  gging message ``
-000116a0: 224d 6174 6368 203c 6578 7072 6e61 6d65  "Match <exprname
-000116b0: 3e20 6174 206c 6f63 203c 6e3e 283c 6c69  > at loc <n>(<li
-000116c0: 6e65 3e2c 3c63 6f6c 3e29 2260 600a 2020  ne>,<col>)"``.  
-000116d0: 2020 2020 2020 6973 2073 686f 776e 2e20        is shown. 
-000116e0: 5468 656e 2069 6620 7468 6520 7061 7273  Then if the pars
-000116f0: 6520 7375 6363 6565 6473 2c20 6120 6060  e succeeds, a ``
-00011700: 224d 6174 6368 6564 2260 6020 6d65 7373  "Matched"`` mess
-00011710: 6167 6520 6973 2073 686f 776e 2c20 6f72  age is shown, or
-00011720: 2061 6e20 6060 2245 7863 6570 7469 6f6e   an ``"Exception
-00011730: 2072 6169 7365 6422 6060 0a20 2020 2020   raised"``.     
-00011740: 2020 206d 6573 7361 6765 2069 7320 7368     message is sh
-00011750: 6f77 6e2e 2041 6c73 6f20 6e6f 7465 2074  own. Also note t
-00011760: 6865 2075 7365 206f 6620 3a63 6c61 7373  he use of :class
-00011770: 3a60 7365 745f 6e61 6d65 6020 746f 2061  :`set_name` to a
-00011780: 7373 6967 6e20 6120 6875 6d61 6e2d 7265  ssign a human-re
-00011790: 6164 6162 6c65 206e 616d 6520 746f 2074  adable name to t
-000117a0: 6865 2065 7870 7265 7373 696f 6e2c 0a20  he expression,. 
-000117b0: 2020 2020 2020 2077 6869 6368 206d 616b         which mak
-000117c0: 6573 2064 6562 7567 6769 6e67 2061 6e64  es debugging and
-000117d0: 2065 7863 6570 7469 6f6e 206d 6573 7361   exception messa
-000117e0: 6765 7320 6561 7369 6572 2074 6f20 756e  ges easier to un
-000117f0: 6465 7273 7461 6e64 202d 2066 6f72 2069  derstand - for i
-00011800: 6e73 7461 6e63 652c 2074 6865 2064 6566  nstance, the def
-00011810: 6175 6c74 0a20 2020 2020 2020 206e 616d  ault.        nam
-00011820: 6520 6372 6561 7465 6420 666f 7220 7468  e created for th
-00011830: 6520 3a63 6c61 7373 3a60 576f 7264 6020  e :class:`Word` 
-00011840: 6578 7072 6573 7369 6f6e 2077 6974 686f  expression witho
-00011850: 7574 2063 616c 6c69 6e67 2060 6073 6574  ut calling ``set
-00011860: 5f6e 616d 6560 6020 6973 2060 6022 573a  _name`` is ``"W:
-00011870: 2841 2d5a 612d 7a29 2260 602e 0a20 2020  (A-Za-z)"``..   
-00011880: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00011890: 2069 6620 7265 6375 7273 653a 0a20 2020   if recurse:.   
-000118a0: 2020 2020 2020 2020 2066 6f72 2065 7870           for exp
-000118b0: 7220 696e 2073 656c 662e 7669 7369 745f  r in self.visit_
-000118c0: 616c 6c28 293a 0a20 2020 2020 2020 2020  all():.         
-000118d0: 2020 2020 2020 2065 7870 722e 7365 745f         expr.set_
-000118e0: 6465 6275 6728 666c 6167 2c20 7265 6375  debug(flag, recu
-000118f0: 7273 653d 4661 6c73 6529 0a20 2020 2020  rse=False).     
-00011900: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00011910: 6c66 0a0a 2020 2020 2020 2020 6966 2066  lf..        if f
-00011920: 6c61 673a 0a20 2020 2020 2020 2020 2020  lag:.           
-00011930: 2073 656c 662e 7365 745f 6465 6275 675f   self.set_debug_
-00011940: 6163 7469 6f6e 7328 0a20 2020 2020 2020  actions(.       
-00011950: 2020 2020 2020 2020 205f 6465 6661 756c           _defaul
-00011960: 745f 7374 6172 745f 6465 6275 675f 6163  t_start_debug_ac
-00011970: 7469 6f6e 2c0a 2020 2020 2020 2020 2020  tion,.          
-00011980: 2020 2020 2020 5f64 6566 6175 6c74 5f73        _default_s
-00011990: 7563 6365 7373 5f64 6562 7567 5f61 6374  uccess_debug_act
-000119a0: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
-000119b0: 2020 2020 205f 6465 6661 756c 745f 6578       _default_ex
-000119c0: 6365 7074 696f 6e5f 6465 6275 675f 6163  ception_debug_ac
-000119d0: 7469 6f6e 2c0a 2020 2020 2020 2020 2020  tion,.          
-000119e0: 2020 290a 2020 2020 2020 2020 656c 7365    ).        else
-000119f0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00011a00: 6c66 2e64 6562 7567 203d 2046 616c 7365  lf.debug = False
-00011a10: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00011a20: 7365 6c66 0a0a 2020 2020 4070 726f 7065  self..    @prope
-00011a30: 7274 790a 2020 2020 6465 6620 6465 6661  rty.    def defa
-00011a40: 756c 745f 6e61 6d65 2873 656c 6629 202d  ult_name(self) -
-00011a50: 3e20 7374 723a 0a20 2020 2020 2020 2069  > str:.        i
-00011a60: 6620 7365 6c66 2e5f 6465 6661 756c 744e  f self._defaultN
-00011a70: 616d 6520 6973 204e 6f6e 653a 0a20 2020  ame is None:.   
-00011a80: 2020 2020 2020 2020 2073 656c 662e 5f64           self._d
-00011a90: 6566 6175 6c74 4e61 6d65 203d 2073 656c  efaultName = sel
-00011aa0: 662e 5f67 656e 6572 6174 6544 6566 6175  f._generateDefau
-00011ab0: 6c74 4e61 6d65 2829 0a20 2020 2020 2020  ltName().       
-00011ac0: 2072 6574 7572 6e20 7365 6c66 2e5f 6465   return self._de
-00011ad0: 6661 756c 744e 616d 650a 0a20 2020 2040  faultName..    @
-00011ae0: 6162 7374 7261 6374 6d65 7468 6f64 0a20  abstractmethod. 
-00011af0: 2020 2064 6566 205f 6765 6e65 7261 7465     def _generate
-00011b00: 4465 6661 756c 744e 616d 6528 7365 6c66  DefaultName(self
-00011b10: 2920 2d3e 2073 7472 3a0a 2020 2020 2020  ) -> str:.      
-00011b20: 2020 2222 220a 2020 2020 2020 2020 4368    """.        Ch
-00011b30: 696c 6420 636c 6173 7365 7320 6d75 7374  ild classes must
-00011b40: 2064 6566 696e 6520 7468 6973 206d 6574   define this met
-00011b50: 686f 642c 2077 6869 6368 2064 6566 696e  hod, which defin
-00011b60: 6573 2068 6f77 2074 6865 2060 6064 6566  es how the ``def
-00011b70: 6175 6c74 5f6e 616d 6560 6020 6973 2073  ault_name`` is s
-00011b80: 6574 2e0a 2020 2020 2020 2020 2222 220a  et..        """.
-00011b90: 0a20 2020 2064 6566 2073 6574 5f6e 616d  .    def set_nam
-00011ba0: 6528 7365 6c66 2c20 6e61 6d65 3a20 7374  e(self, name: st
-00011bb0: 7229 202d 3e20 2250 6172 7365 7245 6c65  r) -> "ParserEle
-00011bc0: 6d65 6e74 223a 0a20 2020 2020 2020 2022  ment":.        "
-00011bd0: 2222 0a20 2020 2020 2020 2044 6566 696e  "".        Defin
-00011be0: 6520 6e61 6d65 2066 6f72 2074 6869 7320  e name for this 
-00011bf0: 6578 7072 6573 7369 6f6e 2c20 6d61 6b65  expression, make
-00011c00: 7320 6465 6275 6767 696e 6720 616e 6420  s debugging and 
-00011c10: 6578 6365 7074 696f 6e20 6d65 7373 6167  exception messag
-00011c20: 6573 2063 6c65 6172 6572 2e0a 0a20 2020  es clearer...   
-00011c30: 2020 2020 2045 7861 6d70 6c65 3a3a 0a0a       Example::..
-00011c40: 2020 2020 2020 2020 2020 2020 576f 7264              Word
-00011c50: 286e 756d 7329 2e70 6172 7365 5f73 7472  (nums).parse_str
-00011c60: 696e 6728 2241 4243 2229 2020 2320 2d3e  ing("ABC")  # ->
-00011c70: 2045 7863 6570 7469 6f6e 3a20 4578 7065   Exception: Expe
-00011c80: 6374 6564 2057 3a28 302d 3929 2028 6174  cted W:(0-9) (at
-00011c90: 2063 6861 7220 3029 2c20 286c 696e 653a   char 0), (line:
-00011ca0: 312c 2063 6f6c 3a31 290a 2020 2020 2020  1, col:1).      
-00011cb0: 2020 2020 2020 576f 7264 286e 756d 7329        Word(nums)
-00011cc0: 2e73 6574 5f6e 616d 6528 2269 6e74 6567  .set_name("integ
-00011cd0: 6572 2229 2e70 6172 7365 5f73 7472 696e  er").parse_strin
-00011ce0: 6728 2241 4243 2229 2020 2320 2d3e 2045  g("ABC")  # -> E
-00011cf0: 7863 6570 7469 6f6e 3a20 4578 7065 6374  xception: Expect
-00011d00: 6564 2069 6e74 6567 6572 2028 6174 2063  ed integer (at c
-00011d10: 6861 7220 3029 2c20 286c 696e 653a 312c  har 0), (line:1,
-00011d20: 2063 6f6c 3a31 290a 2020 2020 2020 2020   col:1).        
-00011d30: 2222 220a 2020 2020 2020 2020 7365 6c66  """.        self
-00011d40: 2e63 7573 746f 6d4e 616d 6520 3d20 6e61  .customName = na
-00011d50: 6d65 0a20 2020 2020 2020 2073 656c 662e  me.        self.
-00011d60: 6572 726d 7367 203d 2022 4578 7065 6374  errmsg = "Expect
-00011d70: 6564 2022 202b 2073 656c 662e 6e61 6d65  ed " + self.name
-00011d80: 0a20 2020 2020 2020 2069 6620 5f5f 6469  .        if __di
-00011d90: 6167 5f5f 2e65 6e61 626c 655f 6465 6275  ag__.enable_debu
-00011da0: 675f 6f6e 5f6e 616d 6564 5f65 7870 7265  g_on_named_expre
-00011db0: 7373 696f 6e73 3a0a 2020 2020 2020 2020  ssions:.        
-00011dc0: 2020 2020 7365 6c66 2e73 6574 5f64 6562      self.set_deb
-00011dd0: 7567 2829 0a20 2020 2020 2020 2072 6574  ug().        ret
-00011de0: 7572 6e20 7365 6c66 0a0a 2020 2020 4070  urn self..    @p
-00011df0: 726f 7065 7274 790a 2020 2020 6465 6620  roperty.    def 
-00011e00: 6e61 6d65 2873 656c 6629 202d 3e20 7374  name(self) -> st
-00011e10: 723a 0a20 2020 2020 2020 2023 2054 6869  r:.        # Thi
-00011e20: 7320 7769 6c6c 2075 7365 2061 2075 7365  s will use a use
-00011e30: 722d 6465 6669 6e65 6420 6e61 6d65 2069  r-defined name i
-00011e40: 6620 6176 6169 6c61 626c 652c 2062 7574  f available, but
-00011e50: 206f 7468 6572 7769 7365 2064 6566 6175   otherwise defau
-00011e60: 6c74 7320 6261 636b 2074 6f20 7468 6520  lts back to the 
-00011e70: 6175 746f 2d67 656e 6572 6174 6564 206e  auto-generated n
-00011e80: 616d 650a 2020 2020 2020 2020 7265 7475  ame.        retu
-00011e90: 726e 2073 656c 662e 6375 7374 6f6d 4e61  rn self.customNa
-00011ea0: 6d65 2069 6620 7365 6c66 2e63 7573 746f  me if self.custo
-00011eb0: 6d4e 616d 6520 6973 206e 6f74 204e 6f6e  mName is not Non
-00011ec0: 6520 656c 7365 2073 656c 662e 6465 6661  e else self.defa
-00011ed0: 756c 745f 6e61 6d65 0a0a 2020 2020 6465  ult_name..    de
-00011ee0: 6620 5f5f 7374 725f 5f28 7365 6c66 2920  f __str__(self) 
-00011ef0: 2d3e 2073 7472 3a0a 2020 2020 2020 2020  -> str:.        
-00011f00: 7265 7475 726e 2073 656c 662e 6e61 6d65  return self.name
-00011f10: 0a0a 2020 2020 6465 6620 5f5f 7265 7072  ..    def __repr
-00011f20: 5f5f 2873 656c 6629 202d 3e20 7374 723a  __(self) -> str:
-00011f30: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00011f40: 7374 7228 7365 6c66 290a 0a20 2020 2064  str(self)..    d
-00011f50: 6566 2073 7472 6561 6d6c 696e 6528 7365  ef streamline(se
-00011f60: 6c66 2920 2d3e 2022 5061 7273 6572 456c  lf) -> "ParserEl
-00011f70: 656d 656e 7422 3a0a 2020 2020 2020 2020  ement":.        
-00011f80: 7365 6c66 2e73 7472 6561 6d6c 696e 6564  self.streamlined
-00011f90: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
-00011fa0: 7365 6c66 2e5f 6465 6661 756c 744e 616d  self._defaultNam
-00011fb0: 6520 3d20 4e6f 6e65 0a20 2020 2020 2020  e = None.       
-00011fc0: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-00011fd0: 2020 6465 6620 7265 6375 7273 6528 7365    def recurse(se
-00011fe0: 6c66 2920 2d3e 204c 6973 745b 2250 6172  lf) -> List["Par
-00011ff0: 7365 7245 6c65 6d65 6e74 225d 3a0a 2020  serElement"]:.  
-00012000: 2020 2020 2020 7265 7475 726e 205b 5d0a        return [].
-00012010: 0a20 2020 2064 6566 205f 6368 6563 6b52  .    def _checkR
-00012020: 6563 7572 7369 6f6e 2873 656c 662c 2070  ecursion(self, p
-00012030: 6172 7365 456c 656d 656e 744c 6973 7429  arseElementList)
-00012040: 3a0a 2020 2020 2020 2020 7375 6252 6563  :.        subRec
-00012050: 4368 6563 6b4c 6973 7420 3d20 7061 7273  CheckList = pars
-00012060: 6545 6c65 6d65 6e74 4c69 7374 5b3a 5d20  eElementList[:] 
-00012070: 2b20 5b73 656c 665d 0a20 2020 2020 2020  + [self].       
-00012080: 2066 6f72 2065 2069 6e20 7365 6c66 2e72   for e in self.r
-00012090: 6563 7572 7365 2829 3a0a 2020 2020 2020  ecurse():.      
-000120a0: 2020 2020 2020 652e 5f63 6865 636b 5265        e._checkRe
-000120b0: 6375 7273 696f 6e28 7375 6252 6563 4368  cursion(subRecCh
-000120c0: 6563 6b4c 6973 7429 0a0a 2020 2020 6465  eckList)..    de
-000120d0: 6620 7661 6c69 6461 7465 2873 656c 662c  f validate(self,
-000120e0: 2076 616c 6964 6174 6554 7261 6365 3d4e   validateTrace=N
-000120f0: 6f6e 6529 202d 3e20 4e6f 6e65 3a0a 2020  one) -> None:.  
-00012100: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00012110: 2020 4368 6563 6b20 6465 6669 6e65 6420    Check defined 
-00012120: 6578 7072 6573 7369 6f6e 7320 666f 7220  expressions for 
-00012130: 7661 6c69 6420 7374 7275 6374 7572 652c  valid structure,
-00012140: 2063 6865 636b 2066 6f72 2069 6e66 696e   check for infin
-00012150: 6974 6520 7265 6375 7273 6976 6520 6465  ite recursive de
-00012160: 6669 6e69 7469 6f6e 732e 0a20 2020 2020  finitions..     
-00012170: 2020 2022 2222 0a20 2020 2020 2020 2077     """.        w
-00012180: 6172 6e69 6e67 732e 7761 726e 280a 2020  arnings.warn(.  
-00012190: 2020 2020 2020 2020 2020 2250 6172 7365            "Parse
-000121a0: 7245 6c65 6d65 6e74 2e76 616c 6964 6174  rElement.validat
-000121b0: 6528 2920 6973 2064 6570 7265 6361 7465  e() is deprecate
-000121c0: 642c 2061 6e64 2073 686f 756c 6420 6e6f  d, and should no
-000121d0: 7420 6265 2075 7365 6420 746f 2063 6865  t be used to che
-000121e0: 636b 2066 6f72 206c 6566 7420 7265 6375  ck for left recu
-000121f0: 7273 696f 6e22 2c0a 2020 2020 2020 2020  rsion",.        
-00012200: 2020 2020 4465 7072 6563 6174 696f 6e57      DeprecationW
-00012210: 6172 6e69 6e67 2c0a 2020 2020 2020 2020  arning,.        
-00012220: 2020 2020 7374 6163 6b6c 6576 656c 3d32      stacklevel=2
-00012230: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-00012240: 2020 2020 7365 6c66 2e5f 6368 6563 6b52      self._checkR
-00012250: 6563 7572 7369 6f6e 285b 5d29 0a0a 2020  ecursion([])..  
-00012260: 2020 6465 6620 7061 7273 655f 6669 6c65    def parse_file
-00012270: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00012280: 2020 2020 2020 2020 6669 6c65 5f6f 725f          file_or_
-00012290: 6669 6c65 6e61 6d65 3a20 556e 696f 6e5b  filename: Union[
-000122a0: 7374 722c 2050 6174 682c 2054 6578 7449  str, Path, TextI
-000122b0: 4f5d 2c0a 2020 2020 2020 2020 656e 636f  O],.        enco
-000122c0: 6469 6e67 3a20 7374 7220 3d20 2275 7466  ding: str = "utf
-000122d0: 2d38 222c 0a20 2020 2020 2020 2070 6172  -8",.        par
-000122e0: 7365 5f61 6c6c 3a20 626f 6f6c 203d 2046  se_all: bool = F
-000122f0: 616c 7365 2c0a 2020 2020 2020 2020 2a2c  alse,.        *,
-00012300: 0a20 2020 2020 2020 2070 6172 7365 416c  .        parseAl
-00012310: 6c3a 2062 6f6f 6c20 3d20 4661 6c73 652c  l: bool = False,
-00012320: 0a20 2020 2029 202d 3e20 5061 7273 6552  .    ) -> ParseR
-00012330: 6573 756c 7473 3a0a 2020 2020 2020 2020  esults:.        
-00012340: 2222 220a 2020 2020 2020 2020 4578 6563  """.        Exec
-00012350: 7574 6520 7468 6520 7061 7273 6520 6578  ute the parse ex
-00012360: 7072 6573 7369 6f6e 206f 6e20 7468 6520  pression on the 
-00012370: 6769 7665 6e20 6669 6c65 206f 7220 6669  given file or fi
-00012380: 6c65 6e61 6d65 2e0a 2020 2020 2020 2020  lename..        
-00012390: 4966 2061 2066 696c 656e 616d 6520 6973  If a filename is
-000123a0: 2073 7065 6369 6669 6564 2028 696e 7374   specified (inst
-000123b0: 6561 6420 6f66 2061 2066 696c 6520 6f62  ead of a file ob
-000123c0: 6a65 6374 292c 0a20 2020 2020 2020 2074  ject),.        t
-000123d0: 6865 2065 6e74 6972 6520 6669 6c65 2069  he entire file i
-000123e0: 7320 6f70 656e 6564 2c20 7265 6164 2c20  s opened, read, 
-000123f0: 616e 6420 636c 6f73 6564 2062 6566 6f72  and closed befor
-00012400: 6520 7061 7273 696e 672e 0a20 2020 2020  e parsing..     
-00012410: 2020 2022 2222 0a20 2020 2020 2020 2070     """.        p
-00012420: 6172 7365 416c 6c20 3d20 7061 7273 6541  arseAll = parseA
-00012430: 6c6c 206f 7220 7061 7273 655f 616c 6c0a  ll or parse_all.
-00012440: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-00012450: 2020 2020 2020 2020 2066 696c 655f 6f72           file_or
-00012460: 5f66 696c 656e 616d 6520 3d20 7479 7069  _filename = typi
-00012470: 6e67 2e63 6173 7428 5465 7874 494f 2c20  ng.cast(TextIO, 
-00012480: 6669 6c65 5f6f 725f 6669 6c65 6e61 6d65  file_or_filename
-00012490: 290a 2020 2020 2020 2020 2020 2020 6669  ).            fi
-000124a0: 6c65 5f63 6f6e 7465 6e74 7320 3d20 6669  le_contents = fi
-000124b0: 6c65 5f6f 725f 6669 6c65 6e61 6d65 2e72  le_or_filename.r
-000124c0: 6561 6428 290a 2020 2020 2020 2020 6578  ead().        ex
-000124d0: 6365 7074 2041 7474 7269 6275 7465 4572  cept AttributeEr
-000124e0: 726f 723a 0a20 2020 2020 2020 2020 2020  ror:.           
-000124f0: 2066 696c 655f 6f72 5f66 696c 656e 616d   file_or_filenam
-00012500: 6520 3d20 7479 7069 6e67 2e63 6173 7428  e = typing.cast(
-00012510: 7374 722c 2066 696c 655f 6f72 5f66 696c  str, file_or_fil
-00012520: 656e 616d 6529 0a20 2020 2020 2020 2020  ename).         
-00012530: 2020 2077 6974 6820 6f70 656e 2866 696c     with open(fil
-00012540: 655f 6f72 5f66 696c 656e 616d 652c 2022  e_or_filename, "
-00012550: 7222 2c20 656e 636f 6469 6e67 3d65 6e63  r", encoding=enc
-00012560: 6f64 696e 6729 2061 7320 663a 0a20 2020  oding) as f:.   
-00012570: 2020 2020 2020 2020 2020 2020 2066 696c               fil
-00012580: 655f 636f 6e74 656e 7473 203d 2066 2e72  e_contents = f.r
-00012590: 6561 6428 290a 2020 2020 2020 2020 7472  ead().        tr
-000125a0: 793a 0a20 2020 2020 2020 2020 2020 2072  y:.            r
-000125b0: 6574 7572 6e20 7365 6c66 2e70 6172 7365  eturn self.parse
-000125c0: 5f73 7472 696e 6728 6669 6c65 5f63 6f6e  _string(file_con
-000125d0: 7465 6e74 732c 2070 6172 7365 416c 6c29  tents, parseAll)
-000125e0: 0a20 2020 2020 2020 2065 7863 6570 7420  .        except 
-000125f0: 5061 7273 6542 6173 6545 7863 6570 7469  ParseBaseExcepti
-00012600: 6f6e 2061 7320 6578 633a 0a20 2020 2020  on as exc:.     
-00012610: 2020 2020 2020 2069 6620 5061 7273 6572         if Parser
-00012620: 456c 656d 656e 742e 7665 7262 6f73 655f  Element.verbose_
-00012630: 7374 6163 6b74 7261 6365 3a0a 2020 2020  stacktrace:.    
-00012640: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00012650: 650a 2020 2020 2020 2020 2020 2020 656c  e.            el
-00012660: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00012670: 2020 2020 2320 6361 7463 6820 616e 6420      # catch and 
-00012680: 7265 2d72 6169 7365 2065 7863 6570 7469  re-raise excepti
-00012690: 6f6e 2066 726f 6d20 6865 7265 2c20 636c  on from here, cl
-000126a0: 6561 7273 206f 7574 2070 7970 6172 7369  ears out pyparsi
-000126b0: 6e67 2069 6e74 6572 6e61 6c20 7374 6163  ng internal stac
-000126c0: 6b20 7472 6163 650a 2020 2020 2020 2020  k trace.        
-000126d0: 2020 2020 2020 2020 7261 6973 6520 6578          raise ex
-000126e0: 632e 7769 7468 5f74 7261 6365 6261 636b  c.with_traceback
-000126f0: 284e 6f6e 6529 0a0a 2020 2020 6465 6620  (None)..    def 
-00012700: 5f5f 6571 5f5f 2873 656c 662c 206f 7468  __eq__(self, oth
-00012710: 6572 293a 0a20 2020 2020 2020 2069 6620  er):.        if 
-00012720: 7365 6c66 2069 7320 6f74 6865 723a 0a20  self is other:. 
-00012730: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00012740: 6e20 5472 7565 0a20 2020 2020 2020 2065  n True.        e
-00012750: 6c69 6620 6973 696e 7374 616e 6365 286f  lif isinstance(o
-00012760: 7468 6572 2c20 7374 725f 7479 7065 293a  ther, str_type):
-00012770: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00012780: 7572 6e20 7365 6c66 2e6d 6174 6368 6573  urn self.matches
-00012790: 286f 7468 6572 2c20 7061 7273 655f 616c  (other, parse_al
-000127a0: 6c3d 5472 7565 290a 2020 2020 2020 2020  l=True).        
-000127b0: 656c 6966 2069 7369 6e73 7461 6e63 6528  elif isinstance(
-000127c0: 6f74 6865 722c 2050 6172 7365 7245 6c65  other, ParserEle
-000127d0: 6d65 6e74 293a 0a20 2020 2020 2020 2020  ment):.         
-000127e0: 2020 2072 6574 7572 6e20 7661 7273 2873     return vars(s
-000127f0: 656c 6629 203d 3d20 7661 7273 286f 7468  elf) == vars(oth
-00012800: 6572 290a 2020 2020 2020 2020 7265 7475  er).        retu
-00012810: 726e 2046 616c 7365 0a0a 2020 2020 6465  rn False..    de
-00012820: 6620 5f5f 6861 7368 5f5f 2873 656c 6629  f __hash__(self)
-00012830: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-00012840: 2069 6428 7365 6c66 290a 0a20 2020 2064   id(self)..    d
-00012850: 6566 206d 6174 6368 6573 280a 2020 2020  ef matches(.    
-00012860: 2020 2020 7365 6c66 2c20 7465 7374 5f73      self, test_s
-00012870: 7472 696e 673a 2073 7472 2c20 7061 7273  tring: str, pars
-00012880: 655f 616c 6c3a 2062 6f6f 6c20 3d20 5472  e_all: bool = Tr
-00012890: 7565 2c20 2a2c 2070 6172 7365 416c 6c3a  ue, *, parseAll:
-000128a0: 2062 6f6f 6c20 3d20 5472 7565 0a20 2020   bool = True.   
-000128b0: 2029 202d 3e20 626f 6f6c 3a0a 2020 2020   ) -> bool:.    
-000128c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-000128d0: 4d65 7468 6f64 2066 6f72 2071 7569 636b  Method for quick
-000128e0: 2074 6573 7469 6e67 206f 6620 6120 7061   testing of a pa
-000128f0: 7273 6572 2061 6761 696e 7374 2061 2074  rser against a t
-00012900: 6573 7420 7374 7269 6e67 2e20 476f 6f64  est string. Good
-00012910: 2066 6f72 2073 696d 706c 650a 2020 2020   for simple.    
-00012920: 2020 2020 696e 6c69 6e65 206d 6963 726f      inline micro
-00012930: 7465 7374 7320 6f66 2073 7562 2065 7870  tests of sub exp
-00012940: 7265 7373 696f 6e73 2077 6869 6c65 2062  ressions while b
-00012950: 7569 6c64 696e 6720 7570 206c 6172 6765  uilding up large
-00012960: 7220 7061 7273 6572 2e0a 0a20 2020 2020  r parser...     
-00012970: 2020 2050 6172 616d 6574 6572 733a 0a0a     Parameters:..
-00012980: 2020 2020 2020 2020 2d20 6060 7465 7374          - ``test
-00012990: 5f73 7472 696e 6760 6020 2d20 746f 2074  _string`` - to t
-000129a0: 6573 7420 6167 6169 6e73 7420 7468 6973  est against this
-000129b0: 2065 7870 7265 7373 696f 6e20 666f 7220   expression for 
-000129c0: 6120 6d61 7463 680a 2020 2020 2020 2020  a match.        
-000129d0: 2d20 6060 7061 7273 655f 616c 6c60 6020  - ``parse_all`` 
-000129e0: 2d20 2864 6566 6175 6c74 3d20 6060 5472  - (default= ``Tr
-000129f0: 7565 6060 2920 2d20 666c 6167 2074 6f20  ue``) - flag to 
-00012a00: 7061 7373 2074 6f20 3a63 6c61 7373 3a60  pass to :class:`
-00012a10: 7061 7273 655f 7374 7269 6e67 6020 7768  parse_string` wh
-00012a20: 656e 2072 756e 6e69 6e67 2074 6573 7473  en running tests
-00012a30: 0a0a 2020 2020 2020 2020 4578 616d 706c  ..        Exampl
-00012a40: 653a 3a0a 0a20 2020 2020 2020 2020 2020  e::..           
-00012a50: 2065 7870 7220 3d20 576f 7264 286e 756d   expr = Word(num
-00012a60: 7329 0a20 2020 2020 2020 2020 2020 2061  s).            a
-00012a70: 7373 6572 7420 6578 7072 2e6d 6174 6368  ssert expr.match
-00012a80: 6573 2822 3130 3022 290a 2020 2020 2020  es("100").      
-00012a90: 2020 2222 220a 2020 2020 2020 2020 7061    """.        pa
-00012aa0: 7273 6541 6c6c 203d 2070 6172 7365 416c  rseAll = parseAl
-00012ab0: 6c20 616e 6420 7061 7273 655f 616c 6c0a  l and parse_all.
-00012ac0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-00012ad0: 2020 2020 2020 2020 2073 656c 662e 7061           self.pa
-00012ae0: 7273 655f 7374 7269 6e67 2873 7472 2874  rse_string(str(t
-00012af0: 6573 745f 7374 7269 6e67 292c 2070 6172  est_string), par
-00012b00: 7365 5f61 6c6c 3d70 6172 7365 416c 6c29  se_all=parseAll)
-00012b10: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00012b20: 7572 6e20 5472 7565 0a20 2020 2020 2020  urn True.       
-00012b30: 2065 7863 6570 7420 5061 7273 6542 6173   except ParseBas
-00012b40: 6545 7863 6570 7469 6f6e 3a0a 2020 2020  eException:.    
-00012b50: 2020 2020 2020 2020 7265 7475 726e 2046          return F
-00012b60: 616c 7365 0a0a 2020 2020 6465 6620 7275  alse..    def ru
-00012b70: 6e5f 7465 7374 7328 0a20 2020 2020 2020  n_tests(.       
-00012b80: 2073 656c 662c 0a20 2020 2020 2020 2074   self,.        t
-00012b90: 6573 7473 3a20 556e 696f 6e5b 7374 722c  ests: Union[str,
-00012ba0: 204c 6973 745b 7374 725d 5d2c 0a20 2020   List[str]],.   
-00012bb0: 2020 2020 2070 6172 7365 5f61 6c6c 3a20       parse_all: 
-00012bc0: 626f 6f6c 203d 2054 7275 652c 0a20 2020  bool = True,.   
-00012bd0: 2020 2020 2063 6f6d 6d65 6e74 3a20 7479       comment: ty
-00012be0: 7069 6e67 2e4f 7074 696f 6e61 6c5b 556e  ping.Optional[Un
-00012bf0: 696f 6e5b 2250 6172 7365 7245 6c65 6d65  ion["ParserEleme
-00012c00: 6e74 222c 2073 7472 5d5d 203d 2022 2322  nt", str]] = "#"
-00012c10: 2c0a 2020 2020 2020 2020 6675 6c6c 5f64  ,.        full_d
-00012c20: 756d 703a 2062 6f6f 6c20 3d20 5472 7565  ump: bool = True
-00012c30: 2c0a 2020 2020 2020 2020 7072 696e 745f  ,.        print_
-00012c40: 7265 7375 6c74 733a 2062 6f6f 6c20 3d20  results: bool = 
-00012c50: 5472 7565 2c0a 2020 2020 2020 2020 6661  True,.        fa
-00012c60: 696c 7572 655f 7465 7374 733a 2062 6f6f  ilure_tests: boo
-00012c70: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
-00012c80: 2020 2070 6f73 745f 7061 7273 653a 2074     post_parse: t
-00012c90: 7970 696e 672e 4f70 7469 6f6e 616c 5b43  yping.Optional[C
-00012ca0: 616c 6c61 626c 655b 5b73 7472 2c20 5061  allable[[str, Pa
-00012cb0: 7273 6552 6573 756c 7473 5d2c 2073 7472  rseResults], str
-00012cc0: 5d5d 203d 204e 6f6e 652c 0a20 2020 2020  ]] = None,.     
-00012cd0: 2020 2066 696c 653a 2074 7970 696e 672e     file: typing.
-00012ce0: 4f70 7469 6f6e 616c 5b54 6578 7449 4f5d  Optional[TextIO]
-00012cf0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00012d00: 2077 6974 685f 6c69 6e65 5f6e 756d 6265   with_line_numbe
-00012d10: 7273 3a20 626f 6f6c 203d 2046 616c 7365  rs: bool = False
-00012d20: 2c0a 2020 2020 2020 2020 2a2c 0a20 2020  ,.        *,.   
-00012d30: 2020 2020 2070 6172 7365 416c 6c3a 2062       parseAll: b
-00012d40: 6f6f 6c20 3d20 5472 7565 2c0a 2020 2020  ool = True,.    
-00012d50: 2020 2020 6675 6c6c 4475 6d70 3a20 626f      fullDump: bo
-00012d60: 6f6c 203d 2054 7275 652c 0a20 2020 2020  ol = True,.     
-00012d70: 2020 2070 7269 6e74 5265 7375 6c74 733a     printResults:
-00012d80: 2062 6f6f 6c20 3d20 5472 7565 2c0a 2020   bool = True,.  
-00012d90: 2020 2020 2020 6661 696c 7572 6554 6573        failureTes
-00012da0: 7473 3a20 626f 6f6c 203d 2046 616c 7365  ts: bool = False
-00012db0: 2c0a 2020 2020 2020 2020 706f 7374 5061  ,.        postPa
-00012dc0: 7273 653a 2074 7970 696e 672e 4f70 7469  rse: typing.Opti
-00012dd0: 6f6e 616c 5b43 616c 6c61 626c 655b 5b73  onal[Callable[[s
-00012de0: 7472 2c20 5061 7273 6552 6573 756c 7473  tr, ParseResults
-00012df0: 5d2c 2073 7472 5d5d 203d 204e 6f6e 652c  ], str]] = None,
-00012e00: 0a20 2020 2029 202d 3e20 5475 706c 655b  .    ) -> Tuple[
-00012e10: 626f 6f6c 2c20 4c69 7374 5b54 7570 6c65  bool, List[Tuple
-00012e20: 5b73 7472 2c20 556e 696f 6e5b 5061 7273  [str, Union[Pars
-00012e30: 6552 6573 756c 7473 2c20 4578 6365 7074  eResults, Except
-00012e40: 696f 6e5d 5d5d 5d3a 0a20 2020 2020 2020  ion]]]]:.       
-00012e50: 2022 2222 0a20 2020 2020 2020 2045 7865   """.        Exe
-00012e60: 6375 7465 2074 6865 2070 6172 7365 2065  cute the parse e
-00012e70: 7870 7265 7373 696f 6e20 6f6e 2061 2073  xpression on a s
-00012e80: 6572 6965 7320 6f66 2074 6573 7420 7374  eries of test st
-00012e90: 7269 6e67 732c 2073 686f 7769 6e67 2065  rings, showing e
-00012ea0: 6163 680a 2020 2020 2020 2020 7465 7374  ach.        test
-00012eb0: 2c20 7468 6520 7061 7273 6564 2072 6573  , the parsed res
-00012ec0: 756c 7473 206f 7220 7768 6572 6520 7468  ults or where th
-00012ed0: 6520 7061 7273 6520 6661 696c 6564 2e20  e parse failed. 
-00012ee0: 5175 6963 6b20 616e 6420 6561 7379 2077  Quick and easy w
-00012ef0: 6179 2074 6f0a 2020 2020 2020 2020 7275  ay to.        ru
-00012f00: 6e20 6120 7061 7273 6520 6578 7072 6573  n a parse expres
-00012f10: 7369 6f6e 2061 6761 696e 7374 2061 206c  sion against a l
-00012f20: 6973 7420 6f66 2073 616d 706c 6520 7374  ist of sample st
-00012f30: 7269 6e67 732e 0a0a 2020 2020 2020 2020  rings...        
-00012f40: 5061 7261 6d65 7465 7273 3a0a 0a20 2020  Parameters:..   
-00012f50: 2020 2020 202d 2060 6074 6573 7473 6060       - ``tests``
-00012f60: 202d 2061 206c 6973 7420 6f66 2073 6570   - a list of sep
-00012f70: 6172 6174 6520 7465 7374 2073 7472 696e  arate test strin
-00012f80: 6773 2c20 6f72 2061 206d 756c 7469 6c69  gs, or a multili
-00012f90: 6e65 2073 7472 696e 6720 6f66 2074 6573  ne string of tes
-00012fa0: 7420 7374 7269 6e67 730a 2020 2020 2020  t strings.      
-00012fb0: 2020 2d20 6060 7061 7273 655f 616c 6c60    - ``parse_all`
-00012fc0: 6020 2d20 2864 6566 6175 6c74 3d20 6060  ` - (default= ``
-00012fd0: 5472 7565 6060 2920 2d20 666c 6167 2074  True``) - flag t
-00012fe0: 6f20 7061 7373 2074 6f20 3a63 6c61 7373  o pass to :class
-00012ff0: 3a60 7061 7273 655f 7374 7269 6e67 6020  :`parse_string` 
-00013000: 7768 656e 2072 756e 6e69 6e67 2074 6573  when running tes
-00013010: 7473 0a20 2020 2020 2020 202d 2060 6063  ts.        - ``c
-00013020: 6f6d 6d65 6e74 6060 202d 2028 6465 6661  omment`` - (defa
-00013030: 756c 743d 2060 6027 2327 6060 2920 2d20  ult= ``'#'``) - 
-00013040: 6578 7072 6573 7369 6f6e 2066 6f72 2069  expression for i
-00013050: 6e64 6963 6174 696e 6720 656d 6265 6464  ndicating embedd
-00013060: 6564 2063 6f6d 6d65 6e74 7320 696e 2074  ed comments in t
-00013070: 6865 2074 6573 740a 2020 2020 2020 2020  he test.        
-00013080: 2020 7374 7269 6e67 3b20 7061 7373 204e    string; pass N
-00013090: 6f6e 6520 746f 2064 6973 6162 6c65 2063  one to disable c
-000130a0: 6f6d 6d65 6e74 2066 696c 7465 7269 6e67  omment filtering
-000130b0: 0a20 2020 2020 2020 202d 2060 6066 756c  .        - ``ful
-000130c0: 6c5f 6475 6d70 6060 202d 2028 6465 6661  l_dump`` - (defa
-000130d0: 756c 743d 2060 6054 7275 6560 6029 202d  ult= ``True``) -
-000130e0: 2064 756d 7020 7265 7375 6c74 7320 6173   dump results as
-000130f0: 206c 6973 7420 666f 6c6c 6f77 6564 2062   list followed b
-00013100: 7920 7265 7375 6c74 7320 6e61 6d65 7320  y results names 
-00013110: 696e 206e 6573 7465 6420 6f75 746c 696e  in nested outlin
-00013120: 653b 0a20 2020 2020 2020 2020 2069 6620  e;.          if 
-00013130: 4661 6c73 652c 206f 6e6c 7920 6475 6d70  False, only dump
-00013140: 206e 6573 7465 6420 6c69 7374 0a20 2020   nested list.   
-00013150: 2020 2020 202d 2060 6070 7269 6e74 5f72       - ``print_r
-00013160: 6573 756c 7473 6060 202d 2028 6465 6661  esults`` - (defa
-00013170: 756c 743d 2060 6054 7275 6560 6029 2070  ult= ``True``) p
-00013180: 7269 6e74 7320 7465 7374 206f 7574 7075  rints test outpu
-00013190: 7420 746f 2073 7464 6f75 740a 2020 2020  t to stdout.    
-000131a0: 2020 2020 2d20 6060 6661 696c 7572 655f      - ``failure_
-000131b0: 7465 7374 7360 6020 2d20 2864 6566 6175  tests`` - (defau
-000131c0: 6c74 3d20 6060 4661 6c73 6560 6029 2069  lt= ``False``) i
-000131d0: 6e64 6963 6174 6573 2069 6620 7468 6573  ndicates if thes
-000131e0: 6520 7465 7374 7320 6172 6520 6578 7065  e tests are expe
-000131f0: 6374 6564 2074 6f20 6661 696c 2070 6172  cted to fail par
-00013200: 7369 6e67 0a20 2020 2020 2020 202d 2060  sing.        - `
-00013210: 6070 6f73 745f 7061 7273 6560 6020 2d20  `post_parse`` - 
-00013220: 2864 6566 6175 6c74 3d20 6060 4e6f 6e65  (default= ``None
-00013230: 6060 2920 6f70 7469 6f6e 616c 2063 616c  ``) optional cal
-00013240: 6c62 6163 6b20 666f 7220 7375 6363 6573  lback for succes
-00013250: 7366 756c 2070 6172 7365 2072 6573 756c  sful parse resul
-00013260: 7473 3b20 6361 6c6c 6564 2061 730a 2020  ts; called as.  
-00013270: 2020 2020 2020 2020 6066 6e28 7465 7374          `fn(test
-00013280: 5f73 7472 696e 672c 2070 6172 7365 5f72  _string, parse_r
-00013290: 6573 756c 7473 2960 2061 6e64 2072 6574  esults)` and ret
-000132a0: 7572 6e73 2061 2073 7472 696e 6720 746f  urns a string to
-000132b0: 2062 6520 6164 6465 6420 746f 2074 6865   be added to the
-000132c0: 2074 6573 7420 6f75 7470 7574 0a20 2020   test output.   
-000132d0: 2020 2020 202d 2060 6066 696c 6560 6020       - ``file`` 
-000132e0: 2d20 2864 6566 6175 6c74 3d20 6060 4e6f  - (default= ``No
-000132f0: 6e65 6060 2920 6f70 7469 6f6e 616c 2066  ne``) optional f
-00013300: 696c 652d 6c69 6b65 206f 626a 6563 7420  ile-like object 
-00013310: 746f 2077 6869 6368 2074 6573 7420 6f75  to which test ou
-00013320: 7470 7574 2077 696c 6c20 6265 2077 7269  tput will be wri
-00013330: 7474 656e 3b0a 2020 2020 2020 2020 2020  tten;.          
-00013340: 6966 204e 6f6e 652c 2077 696c 6c20 6465  if None, will de
-00013350: 6661 756c 7420 746f 2060 6073 7973 2e73  fault to ``sys.s
-00013360: 7464 6f75 7460 600a 2020 2020 2020 2020  tdout``.        
-00013370: 2d20 6060 7769 7468 5f6c 696e 655f 6e75  - ``with_line_nu
-00013380: 6d62 6572 7360 6020 2d20 6465 6661 756c  mbers`` - defaul
-00013390: 743d 2060 6046 616c 7365 6060 2920 7368  t= ``False``) sh
-000133a0: 6f77 2074 6573 7420 7374 7269 6e67 7320  ow test strings 
-000133b0: 7769 7468 206c 696e 6520 616e 6420 636f  with line and co
-000133c0: 6c75 6d6e 206e 756d 6265 7273 0a0a 2020  lumn numbers..  
-000133d0: 2020 2020 2020 5265 7475 726e 733a 2061        Returns: a
-000133e0: 2028 7375 6363 6573 732c 2072 6573 756c   (success, resul
-000133f0: 7473 2920 7475 706c 652c 2077 6865 7265  ts) tuple, where
-00013400: 2073 7563 6365 7373 2069 6e64 6963 6174   success indicat
-00013410: 6573 2074 6861 7420 616c 6c20 7465 7374  es that all test
-00013420: 7320 7375 6363 6565 6465 640a 2020 2020  s succeeded.    
-00013430: 2020 2020 286f 7220 6661 696c 6564 2069      (or failed i
-00013440: 6620 6060 6661 696c 7572 655f 7465 7374  f ``failure_test
-00013450: 7360 6020 6973 2054 7275 6529 2c20 616e  s`` is True), an
-00013460: 6420 7468 6520 7265 7375 6c74 7320 636f  d the results co
-00013470: 6e74 6169 6e20 6120 6c69 7374 206f 6620  ntain a list of 
-00013480: 6c69 6e65 7320 6f66 2065 6163 680a 2020  lines of each.  
-00013490: 2020 2020 2020 7465 7374 2773 206f 7574        test's out
-000134a0: 7075 740a 0a20 2020 2020 2020 2045 7861  put..        Exa
-000134b0: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
-000134c0: 2020 2020 6e75 6d62 6572 5f65 7870 7220      number_expr 
-000134d0: 3d20 7079 7061 7273 696e 675f 636f 6d6d  = pyparsing_comm
-000134e0: 6f6e 2e6e 756d 6265 722e 636f 7079 2829  on.number.copy()
-000134f0: 0a0a 2020 2020 2020 2020 2020 2020 7265  ..            re
-00013500: 7375 6c74 203d 206e 756d 6265 725f 6578  sult = number_ex
-00013510: 7072 2e72 756e 5f74 6573 7473 2827 2727  pr.run_tests('''
-00013520: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00013530: 2023 2075 6e73 6967 6e65 6420 696e 7465   # unsigned inte
-00013540: 6765 720a 2020 2020 2020 2020 2020 2020  ger.            
-00013550: 2020 2020 3130 300a 2020 2020 2020 2020      100.        
-00013560: 2020 2020 2020 2020 2320 6e65 6761 7469          # negati
-00013570: 7665 2069 6e74 6567 6572 0a20 2020 2020  ve integer.     
-00013580: 2020 2020 2020 2020 2020 202d 3130 300a             -100.
-00013590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000135a0: 2320 666c 6f61 7420 7769 7468 2073 6369  # float with sci
-000135b0: 656e 7469 6669 6320 6e6f 7461 7469 6f6e  entific notation
-000135c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000135d0: 2036 2e30 3265 3233 0a20 2020 2020 2020   6.02e23.       
-000135e0: 2020 2020 2020 2020 2023 2069 6e74 6567           # integ
-000135f0: 6572 2077 6974 6820 7363 6965 6e74 6966  er with scientif
-00013600: 6963 206e 6f74 6174 696f 6e0a 2020 2020  ic notation.    
-00013610: 2020 2020 2020 2020 2020 2020 3165 2d31              1e-1
-00013620: 320a 2020 2020 2020 2020 2020 2020 2020  2.              
-00013630: 2020 2727 2729 0a20 2020 2020 2020 2020    ''').         
-00013640: 2020 2070 7269 6e74 2822 5375 6363 6573     print("Succes
-00013650: 7322 2069 6620 7265 7375 6c74 5b30 5d20  s" if result[0] 
-00013660: 656c 7365 2022 4661 696c 6564 2122 290a  else "Failed!").
-00013670: 0a20 2020 2020 2020 2020 2020 2072 6573  .            res
-00013680: 756c 7420 3d20 6e75 6d62 6572 5f65 7870  ult = number_exp
-00013690: 722e 7275 6e5f 7465 7374 7328 2727 270a  r.run_tests('''.
-000136a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000136b0: 2320 7374 7261 7920 6368 6172 6163 7465  # stray characte
-000136c0: 720a 2020 2020 2020 2020 2020 2020 2020  r.              
-000136d0: 2020 3130 305a 0a20 2020 2020 2020 2020    100Z.         
-000136e0: 2020 2020 2020 2023 206d 6973 7369 6e67         # missing
-000136f0: 206c 6561 6469 6e67 2064 6967 6974 2062   leading digit b
-00013700: 6566 6f72 6520 272e 270a 2020 2020 2020  efore '.'.      
-00013710: 2020 2020 2020 2020 2020 2d2e 3130 300a            -.100.
-00013720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013730: 2320 746f 6f20 6d61 6e79 2027 2e27 0a20  # too many '.'. 
-00013740: 2020 2020 2020 2020 2020 2020 2020 2033                 3
-00013750: 2e31 342e 3135 390a 2020 2020 2020 2020  .14.159.        
-00013760: 2020 2020 2020 2020 2727 272c 2066 6169          ''', fai
-00013770: 6c75 7265 5f74 6573 7473 3d54 7275 6529  lure_tests=True)
-00013780: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00013790: 6e74 2822 5375 6363 6573 7322 2069 6620  nt("Success" if 
-000137a0: 7265 7375 6c74 5b30 5d20 656c 7365 2022  result[0] else "
-000137b0: 4661 696c 6564 2122 290a 0a20 2020 2020  Failed!")..     
-000137c0: 2020 2070 7269 6e74 733a 3a0a 0a20 2020     prints::..   
-000137d0: 2020 2020 2020 2020 2023 2075 6e73 6967           # unsig
-000137e0: 6e65 6420 696e 7465 6765 720a 2020 2020  ned integer.    
-000137f0: 2020 2020 2020 2020 3130 300a 2020 2020          100.    
-00013800: 2020 2020 2020 2020 5b31 3030 5d0a 0a20          [100].. 
-00013810: 2020 2020 2020 2020 2020 2023 206e 6567             # neg
-00013820: 6174 6976 6520 696e 7465 6765 720a 2020  ative integer.  
-00013830: 2020 2020 2020 2020 2020 2d31 3030 0a20            -100. 
-00013840: 2020 2020 2020 2020 2020 205b 2d31 3030             [-100
-00013850: 5d0a 0a20 2020 2020 2020 2020 2020 2023  ]..            #
-00013860: 2066 6c6f 6174 2077 6974 6820 7363 6965   float with scie
-00013870: 6e74 6966 6963 206e 6f74 6174 696f 6e0a  ntific notation.
-00013880: 2020 2020 2020 2020 2020 2020 362e 3032              6.02
-00013890: 6532 330a 2020 2020 2020 2020 2020 2020  e23.            
-000138a0: 5b36 2e30 3265 2b32 335d 0a0a 2020 2020  [6.02e+23]..    
-000138b0: 2020 2020 2020 2020 2320 696e 7465 6765          # intege
-000138c0: 7220 7769 7468 2073 6369 656e 7469 6669  r with scientifi
-000138d0: 6320 6e6f 7461 7469 6f6e 0a20 2020 2020  c notation.     
-000138e0: 2020 2020 2020 2031 652d 3132 0a20 2020         1e-12.   
-000138f0: 2020 2020 2020 2020 205b 3165 2d31 325d           [1e-12]
-00013900: 0a0a 2020 2020 2020 2020 2020 2020 5375  ..            Su
-00013910: 6363 6573 730a 0a20 2020 2020 2020 2020  ccess..         
-00013920: 2020 2023 2073 7472 6179 2063 6861 7261     # stray chara
-00013930: 6374 6572 0a20 2020 2020 2020 2020 2020  cter.           
-00013940: 2031 3030 5a0a 2020 2020 2020 2020 2020   100Z.          
-00013950: 2020 2020 205e 0a20 2020 2020 2020 2020       ^.         
-00013960: 2020 2046 4149 4c3a 2045 7870 6563 7465     FAIL: Expecte
-00013970: 6420 656e 6420 6f66 2074 6578 7420 2861  d end of text (a
-00013980: 7420 6368 6172 2033 292c 2028 6c69 6e65  t char 3), (line
-00013990: 3a31 2c20 636f 6c3a 3429 0a0a 2020 2020  :1, col:4)..    
-000139a0: 2020 2020 2020 2020 2320 6d69 7373 696e          # missin
-000139b0: 6720 6c65 6164 696e 6720 6469 6769 7420  g leading digit 
-000139c0: 6265 666f 7265 2027 2e27 0a20 2020 2020  before '.'.     
-000139d0: 2020 2020 2020 202d 2e31 3030 0a20 2020         -.100.   
-000139e0: 2020 2020 2020 2020 205e 0a20 2020 2020           ^.     
-000139f0: 2020 2020 2020 2046 4149 4c3a 2045 7870         FAIL: Exp
-00013a00: 6563 7465 6420 7b72 6561 6c20 6e75 6d62  ected {real numb
-00013a10: 6572 2077 6974 6820 7363 6965 6e74 6966  er with scientif
-00013a20: 6963 206e 6f74 6174 696f 6e20 7c20 7265  ic notation | re
-00013a30: 616c 206e 756d 6265 7220 7c20 7369 676e  al number | sign
-00013a40: 6564 2069 6e74 6567 6572 7d20 2861 7420  ed integer} (at 
-00013a50: 6368 6172 2030 292c 2028 6c69 6e65 3a31  char 0), (line:1
-00013a60: 2c20 636f 6c3a 3129 0a0a 2020 2020 2020  , col:1)..      
-00013a70: 2020 2020 2020 2320 746f 6f20 6d61 6e79        # too many
-00013a80: 2027 2e27 0a20 2020 2020 2020 2020 2020   '.'.           
-00013a90: 2033 2e31 342e 3135 390a 2020 2020 2020   3.14.159.      
-00013aa0: 2020 2020 2020 2020 2020 5e0a 2020 2020            ^.    
-00013ab0: 2020 2020 2020 2020 4641 494c 3a20 4578          FAIL: Ex
-00013ac0: 7065 6374 6564 2065 6e64 206f 6620 7465  pected end of te
-00013ad0: 7874 2028 6174 2063 6861 7220 3429 2c20  xt (at char 4), 
-00013ae0: 286c 696e 653a 312c 2063 6f6c 3a35 290a  (line:1, col:5).
-00013af0: 0a20 2020 2020 2020 2020 2020 2053 7563  .            Suc
-00013b00: 6365 7373 0a0a 2020 2020 2020 2020 4561  cess..        Ea
-00013b10: 6368 2074 6573 7420 7374 7269 6e67 206d  ch test string m
-00013b20: 7573 7420 6265 206f 6e20 6120 7369 6e67  ust be on a sing
-00013b30: 6c65 206c 696e 652e 2049 6620 796f 7520  le line. If you 
-00013b40: 7761 6e74 2074 6f20 7465 7374 2061 2073  want to test a s
-00013b50: 7472 696e 6720 7468 6174 2073 7061 6e73  tring that spans
-00013b60: 206d 756c 7469 706c 650a 2020 2020 2020   multiple.      
-00013b70: 2020 6c69 6e65 732c 2063 7265 6174 6520    lines, create 
-00013b80: 6120 7465 7374 206c 696b 6520 7468 6973  a test like this
-00013b90: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
-00013ba0: 6578 7072 2e72 756e 5f74 6573 7473 2872  expr.run_tests(r
-00013bb0: 2274 6869 7320 6973 2061 2074 6573 745c  "this is a test\
-00013bc0: 5c6e 206f 6620 7374 7269 6e67 7320 7468  \n of strings th
-00013bd0: 6174 2073 7061 6e73 205c 5c6e 2033 206c  at spans \\n 3 l
-00013be0: 696e 6573 2229 0a0a 2020 2020 2020 2020  ines")..        
-00013bf0: 284e 6f74 6520 7468 6174 2074 6869 7320  (Note that this 
-00013c00: 6973 2061 2072 6177 2073 7472 696e 6720  is a raw string 
-00013c10: 6c69 7465 7261 6c2c 2079 6f75 206d 7573  literal, you mus
-00013c20: 7420 696e 636c 7564 6520 7468 6520 6c65  t include the le
-00013c30: 6164 696e 6720 6060 2772 2760 602e 290a  ading ``'r'``.).
-00013c40: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00013c50: 2020 2020 6672 6f6d 202e 7465 7374 696e      from .testin
-00013c60: 6720 696d 706f 7274 2070 7970 6172 7369  g import pyparsi
-00013c70: 6e67 5f74 6573 740a 0a20 2020 2020 2020  ng_test..       
-00013c80: 2070 6172 7365 416c 6c20 3d20 7061 7273   parseAll = pars
-00013c90: 6541 6c6c 2061 6e64 2070 6172 7365 5f61  eAll and parse_a
-00013ca0: 6c6c 0a20 2020 2020 2020 2066 756c 6c44  ll.        fullD
-00013cb0: 756d 7020 3d20 6675 6c6c 4475 6d70 2061  ump = fullDump a
-00013cc0: 6e64 2066 756c 6c5f 6475 6d70 0a20 2020  nd full_dump.   
-00013cd0: 2020 2020 2070 7269 6e74 5265 7375 6c74       printResult
-00013ce0: 7320 3d20 7072 696e 7452 6573 756c 7473  s = printResults
-00013cf0: 2061 6e64 2070 7269 6e74 5f72 6573 756c   and print_resul
-00013d00: 7473 0a20 2020 2020 2020 2066 6169 6c75  ts.        failu
-00013d10: 7265 5465 7374 7320 3d20 6661 696c 7572  reTests = failur
-00013d20: 6554 6573 7473 206f 7220 6661 696c 7572  eTests or failur
-00013d30: 655f 7465 7374 730a 2020 2020 2020 2020  e_tests.        
-00013d40: 706f 7374 5061 7273 6520 3d20 706f 7374  postParse = post
-00013d50: 5061 7273 6520 6f72 2070 6f73 745f 7061  Parse or post_pa
-00013d60: 7273 650a 2020 2020 2020 2020 6966 2069  rse.        if i
-00013d70: 7369 6e73 7461 6e63 6528 7465 7374 732c  sinstance(tests,
-00013d80: 2073 7472 5f74 7970 6529 3a0a 2020 2020   str_type):.    
-00013d90: 2020 2020 2020 2020 7465 7374 7320 3d20          tests = 
-00013da0: 7479 7069 6e67 2e63 6173 7428 7374 722c  typing.cast(str,
-00013db0: 2074 6573 7473 290a 2020 2020 2020 2020   tests).        
-00013dc0: 2020 2020 6c69 6e65 5f73 7472 6970 203d      line_strip =
-00013dd0: 2074 7970 6528 7465 7374 7329 2e73 7472   type(tests).str
-00013de0: 6970 0a20 2020 2020 2020 2020 2020 2074  ip.            t
-00013df0: 6573 7473 203d 205b 6c69 6e65 5f73 7472  ests = [line_str
-00013e00: 6970 2874 6573 745f 6c69 6e65 2920 666f  ip(test_line) fo
-00013e10: 7220 7465 7374 5f6c 696e 6520 696e 2074  r test_line in t
-00013e20: 6573 7473 2e72 7374 7269 7028 292e 7370  ests.rstrip().sp
-00013e30: 6c69 746c 696e 6573 2829 5d0a 2020 2020  litlines()].    
-00013e40: 2020 2020 636f 6d6d 656e 745f 7370 6563      comment_spec
-00013e50: 6966 6965 6420 3d20 636f 6d6d 656e 7420  ified = comment 
-00013e60: 6973 206e 6f74 204e 6f6e 650a 2020 2020  is not None.    
-00013e70: 2020 2020 6966 2063 6f6d 6d65 6e74 5f73      if comment_s
-00013e80: 7065 6369 6669 6564 3a0a 2020 2020 2020  pecified:.      
-00013e90: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-00013ea0: 6e63 6528 636f 6d6d 656e 742c 2073 7472  nce(comment, str
-00013eb0: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
-00013ec0: 2020 2020 2020 2020 636f 6d6d 656e 7420          comment 
-00013ed0: 3d20 7479 7069 6e67 2e63 6173 7428 7374  = typing.cast(st
-00013ee0: 722c 2063 6f6d 6d65 6e74 290a 2020 2020  r, comment).    
-00013ef0: 2020 2020 2020 2020 2020 2020 636f 6d6d              comm
-00013f00: 656e 7420 3d20 4c69 7465 7261 6c28 636f  ent = Literal(co
-00013f10: 6d6d 656e 7429 0a20 2020 2020 2020 2063  mment).        c
-00013f20: 6f6d 6d65 6e74 203d 2074 7970 696e 672e  omment = typing.
-00013f30: 6361 7374 2850 6172 7365 7245 6c65 6d65  cast(ParserEleme
-00013f40: 6e74 2c20 636f 6d6d 656e 7429 0a20 2020  nt, comment).   
-00013f50: 2020 2020 2069 6620 6669 6c65 2069 7320       if file is 
-00013f60: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00013f70: 2020 6669 6c65 203d 2073 7973 2e73 7464    file = sys.std
-00013f80: 6f75 740a 2020 2020 2020 2020 7072 696e  out.        prin
-00013f90: 745f 203d 2066 696c 652e 7772 6974 650a  t_ = file.write.
-00013fa0: 0a20 2020 2020 2020 2072 6573 756c 743a  .        result:
-00013fb0: 2055 6e69 6f6e 5b50 6172 7365 5265 7375   Union[ParseResu
-00013fc0: 6c74 732c 2045 7863 6570 7469 6f6e 5d0a  lts, Exception].
-00013fd0: 2020 2020 2020 2020 616c 6c52 6573 756c          allResul
-00013fe0: 7473 3a20 4c69 7374 5b54 7570 6c65 5b73  ts: List[Tuple[s
-00013ff0: 7472 2c20 556e 696f 6e5b 5061 7273 6552  tr, Union[ParseR
-00014000: 6573 756c 7473 2c20 4578 6365 7074 696f  esults, Exceptio
-00014010: 6e5d 5d5d 203d 205b 5d0a 2020 2020 2020  n]]] = [].      
-00014020: 2020 636f 6d6d 656e 7473 3a20 4c69 7374    comments: List
-00014030: 5b73 7472 5d20 3d20 5b5d 0a20 2020 2020  [str] = [].     
-00014040: 2020 2073 7563 6365 7373 203d 2054 7275     success = Tru
-00014050: 650a 2020 2020 2020 2020 4e4c 203d 204c  e.        NL = L
-00014060: 6974 6572 616c 2872 225c 6e22 292e 6164  iteral(r"\n").ad
-00014070: 645f 7061 7273 655f 6163 7469 6f6e 2872  d_parse_action(r
-00014080: 6570 6c61 6365 5f77 6974 6828 225c 6e22  eplace_with("\n"
-00014090: 2929 2e69 676e 6f72 6528 7175 6f74 6564  )).ignore(quoted
-000140a0: 5f73 7472 696e 6729 0a20 2020 2020 2020  _string).       
-000140b0: 2042 4f4d 203d 2022 5c75 6665 6666 220a   BOM = "\ufeff".
-000140c0: 2020 2020 2020 2020 666f 7220 7420 696e          for t in
-000140d0: 2074 6573 7473 3a0a 2020 2020 2020 2020   tests:.        
-000140e0: 2020 2020 6966 2063 6f6d 6d65 6e74 5f73      if comment_s
-000140f0: 7065 6369 6669 6564 2061 6e64 2063 6f6d  pecified and com
-00014100: 6d65 6e74 2e6d 6174 6368 6573 2874 2c20  ment.matches(t, 
-00014110: 4661 6c73 6529 206f 7220 636f 6d6d 656e  False) or commen
-00014120: 7473 2061 6e64 206e 6f74 2074 3a0a 2020  ts and not t:.  
-00014130: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00014140: 6d6d 656e 7473 2e61 7070 656e 6428 0a20  mments.append(. 
-00014150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014160: 2020 2070 7970 6172 7369 6e67 5f74 6573     pyparsing_tes
-00014170: 742e 7769 7468 5f6c 696e 655f 6e75 6d62  t.with_line_numb
-00014180: 6572 7328 7429 2069 6620 7769 7468 5f6c  ers(t) if with_l
-00014190: 696e 655f 6e75 6d62 6572 7320 656c 7365  ine_numbers else
-000141a0: 2074 0a20 2020 2020 2020 2020 2020 2020   t.             
-000141b0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-000141c0: 2020 2020 2063 6f6e 7469 6e75 650a 2020       continue.  
-000141d0: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-000141e0: 2074 3a0a 2020 2020 2020 2020 2020 2020   t:.            
-000141f0: 2020 2020 636f 6e74 696e 7565 0a20 2020      continue.   
-00014200: 2020 2020 2020 2020 206f 7574 203d 205b           out = [
-00014210: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014220: 2022 5c6e 2220 2b20 225c 6e22 2e6a 6f69   "\n" + "\n".joi
-00014230: 6e28 636f 6d6d 656e 7473 2920 6966 2063  n(comments) if c
-00014240: 6f6d 6d65 6e74 7320 656c 7365 2022 222c  omments else "",
-00014250: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014260: 2070 7970 6172 7369 6e67 5f74 6573 742e   pyparsing_test.
-00014270: 7769 7468 5f6c 696e 655f 6e75 6d62 6572  with_line_number
-00014280: 7328 7429 2069 6620 7769 7468 5f6c 696e  s(t) if with_lin
-00014290: 655f 6e75 6d62 6572 7320 656c 7365 2074  e_numbers else t
-000142a0: 2c0a 2020 2020 2020 2020 2020 2020 5d0a  ,.            ].
-000142b0: 2020 2020 2020 2020 2020 2020 636f 6d6d              comm
-000142c0: 656e 7473 203d 205b 5d0a 2020 2020 2020  ents = [].      
-000142d0: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-000142e0: 2020 2020 2020 2020 2020 2023 2063 6f6e             # con
-000142f0: 7665 7274 206e 6577 6c69 6e65 206d 6172  vert newline mar
-00014300: 6b73 2074 6f20 6163 7475 616c 206e 6577  ks to actual new
-00014310: 6c69 6e65 732c 2061 6e64 2073 7472 6970  lines, and strip
-00014320: 206c 6561 6469 6e67 2042 4f4d 2069 6620   leading BOM if 
-00014330: 7072 6573 656e 740a 2020 2020 2020 2020  present.        
-00014340: 2020 2020 2020 2020 7420 3d20 4e4c 2e74          t = NL.t
-00014350: 7261 6e73 666f 726d 5f73 7472 696e 6728  ransform_string(
-00014360: 742e 6c73 7472 6970 2842 4f4d 2929 0a20  t.lstrip(BOM)). 
-00014370: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00014380: 6573 756c 7420 3d20 7365 6c66 2e70 6172  esult = self.par
-00014390: 7365 5f73 7472 696e 6728 742c 2070 6172  se_string(t, par
-000143a0: 7365 5f61 6c6c 3d70 6172 7365 416c 6c29  se_all=parseAll)
-000143b0: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-000143c0: 6570 7420 5061 7273 6542 6173 6545 7863  ept ParseBaseExc
-000143d0: 6570 7469 6f6e 2061 7320 7065 3a0a 2020  eption as pe:.  
-000143e0: 2020 2020 2020 2020 2020 2020 2020 6661                fa
-000143f0: 7461 6c20 3d20 2228 4641 5441 4c29 2220  tal = "(FATAL)" 
-00014400: 6966 2069 7369 6e73 7461 6e63 6528 7065  if isinstance(pe
-00014410: 2c20 5061 7273 6546 6174 616c 4578 6365  , ParseFatalExce
-00014420: 7074 696f 6e29 2065 6c73 6520 2222 0a20  ption) else "". 
-00014430: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-00014440: 7574 2e61 7070 656e 6428 7065 2e65 7870  ut.append(pe.exp
-00014450: 6c61 696e 2829 290a 2020 2020 2020 2020  lain()).        
-00014460: 2020 2020 2020 2020 6f75 742e 6170 7065          out.appe
-00014470: 6e64 2822 4641 494c 3a20 2220 2b20 7374  nd("FAIL: " + st
-00014480: 7228 7065 2929 0a20 2020 2020 2020 2020  r(pe)).         
-00014490: 2020 2020 2020 2069 6620 5061 7273 6572         if Parser
-000144a0: 456c 656d 656e 742e 7665 7262 6f73 655f  Element.verbose_
-000144b0: 7374 6163 6b74 7261 6365 3a0a 2020 2020  stacktrace:.    
-000144c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000144d0: 6f75 742e 6578 7465 6e64 2874 7261 6365  out.extend(trace
-000144e0: 6261 636b 2e66 6f72 6d61 745f 7462 2870  back.format_tb(p
-000144f0: 652e 5f5f 7472 6163 6562 6163 6b5f 5f29  e.__traceback__)
-00014500: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00014510: 2020 7375 6363 6573 7320 3d20 7375 6363    success = succ
-00014520: 6573 7320 616e 6420 6661 696c 7572 6554  ess and failureT
-00014530: 6573 7473 0a20 2020 2020 2020 2020 2020  ests.           
-00014540: 2020 2020 2072 6573 756c 7420 3d20 7065       result = pe
-00014550: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-00014560: 6570 7420 4578 6365 7074 696f 6e20 6173  ept Exception as
-00014570: 2065 7863 3a0a 2020 2020 2020 2020 2020   exc:.          
-00014580: 2020 2020 2020 6f75 742e 6170 7065 6e64        out.append
-00014590: 2866 2246 4149 4c2d 4558 4345 5054 494f  (f"FAIL-EXCEPTIO
-000145a0: 4e3a 207b 7479 7065 2865 7863 292e 5f5f  N: {type(exc).__
-000145b0: 6e61 6d65 5f5f 7d3a 207b 6578 637d 2229  name__}: {exc}")
-000145c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000145d0: 2069 6620 5061 7273 6572 456c 656d 656e   if ParserElemen
-000145e0: 742e 7665 7262 6f73 655f 7374 6163 6b74  t.verbose_stackt
-000145f0: 7261 6365 3a0a 2020 2020 2020 2020 2020  race:.          
-00014600: 2020 2020 2020 2020 2020 6f75 742e 6578            out.ex
-00014610: 7465 6e64 2874 7261 6365 6261 636b 2e66  tend(traceback.f
-00014620: 6f72 6d61 745f 7462 2865 7863 2e5f 5f74  ormat_tb(exc.__t
-00014630: 7261 6365 6261 636b 5f5f 2929 0a20 2020  raceback__)).   
-00014640: 2020 2020 2020 2020 2020 2020 2073 7563               suc
-00014650: 6365 7373 203d 2073 7563 6365 7373 2061  cess = success a
-00014660: 6e64 2066 6169 6c75 7265 5465 7374 730a  nd failureTests.
-00014670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014680: 7265 7375 6c74 203d 2065 7863 0a20 2020  result = exc.   
-00014690: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-000146a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000146b0: 7563 6365 7373 203d 2073 7563 6365 7373  uccess = success
-000146c0: 2061 6e64 206e 6f74 2066 6169 6c75 7265   and not failure
-000146d0: 5465 7374 730a 2020 2020 2020 2020 2020  Tests.          
-000146e0: 2020 2020 2020 6966 2070 6f73 7450 6172        if postPar
-000146f0: 7365 2069 7320 6e6f 7420 4e6f 6e65 3a0a  se is not None:.
-00014700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014710: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-00014720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014730: 2070 705f 7661 6c75 6520 3d20 706f 7374   pp_value = post
-00014740: 5061 7273 6528 742c 2072 6573 756c 7429  Parse(t, result)
-00014750: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014760: 2020 2020 2020 2020 2069 6620 7070 5f76           if pp_v
-00014770: 616c 7565 2069 7320 6e6f 7420 4e6f 6e65  alue is not None
-00014780: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00014790: 2020 2020 2020 2020 2020 2020 2020 6966                if
-000147a0: 2069 7369 6e73 7461 6e63 6528 7070 5f76   isinstance(pp_v
-000147b0: 616c 7565 2c20 5061 7273 6552 6573 756c  alue, ParseResul
-000147c0: 7473 293a 0a20 2020 2020 2020 2020 2020  ts):.           
-000147d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000147e0: 2020 2020 206f 7574 2e61 7070 656e 6428       out.append(
-000147f0: 7070 5f76 616c 7565 2e64 756d 7028 2929  pp_value.dump())
-00014800: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014810: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-00014820: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00014830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014840: 2020 206f 7574 2e61 7070 656e 6428 7374     out.append(st
-00014850: 7228 7070 5f76 616c 7565 2929 0a20 2020  r(pp_value)).   
-00014860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014870: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00014880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014890: 2020 2020 2020 206f 7574 2e61 7070 656e         out.appen
-000148a0: 6428 7265 7375 6c74 2e64 756d 7028 2929  d(result.dump())
-000148b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000148c0: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
-000148d0: 7074 696f 6e20 6173 2065 3a0a 2020 2020  ption as e:.    
-000148e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000148f0: 2020 2020 6f75 742e 6170 7065 6e64 2872      out.append(r
-00014900: 6573 756c 742e 6475 6d70 2866 756c 6c3d  esult.dump(full=
-00014910: 6675 6c6c 4475 6d70 2929 0a20 2020 2020  fullDump)).     
-00014920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014930: 2020 206f 7574 2e61 7070 656e 6428 0a20     out.append(. 
-00014940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014950: 2020 2020 2020 2020 2020 2066 227b 706f             f"{po
-00014960: 7374 5061 7273 652e 5f5f 6e61 6d65 5f5f  stParse.__name__
-00014970: 7d20 6661 696c 6564 3a20 7b74 7970 6528  } failed: {type(
-00014980: 6529 2e5f 5f6e 616d 655f 5f7d 3a20 7b65  e).__name__}: {e
-00014990: 7d22 0a20 2020 2020 2020 2020 2020 2020  }".             
-000149a0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-000149b0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-000149c0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-000149d0: 2020 2020 2020 206f 7574 2e61 7070 656e         out.appen
-000149e0: 6428 7265 7375 6c74 2e64 756d 7028 6675  d(result.dump(fu
-000149f0: 6c6c 3d66 756c 6c44 756d 7029 290a 2020  ll=fullDump)).  
-00014a00: 2020 2020 2020 2020 2020 6f75 742e 6170            out.ap
-00014a10: 7065 6e64 2822 2229 0a0a 2020 2020 2020  pend("")..      
-00014a20: 2020 2020 2020 6966 2070 7269 6e74 5265        if printRe
-00014a30: 7375 6c74 733a 0a20 2020 2020 2020 2020  sults:.         
-00014a40: 2020 2020 2020 2070 7269 6e74 5f28 225c         print_("\
-00014a50: 6e22 2e6a 6f69 6e28 6f75 7429 290a 0a20  n".join(out)).. 
-00014a60: 2020 2020 2020 2020 2020 2061 6c6c 5265             allRe
-00014a70: 7375 6c74 732e 6170 7065 6e64 2828 742c  sults.append((t,
-00014a80: 2072 6573 756c 7429 290a 0a20 2020 2020   result))..     
-00014a90: 2020 2072 6574 7572 6e20 7375 6363 6573     return succes
-00014aa0: 732c 2061 6c6c 5265 7375 6c74 730a 0a20  s, allResults.. 
-00014ab0: 2020 2064 6566 2063 7265 6174 655f 6469     def create_di
-00014ac0: 6167 7261 6d28 0a20 2020 2020 2020 2073  agram(.        s
-00014ad0: 656c 662c 0a20 2020 2020 2020 206f 7574  elf,.        out
-00014ae0: 7075 745f 6874 6d6c 3a20 556e 696f 6e5b  put_html: Union[
-00014af0: 5465 7874 494f 2c20 5061 7468 2c20 7374  TextIO, Path, st
-00014b00: 725d 2c0a 2020 2020 2020 2020 7665 7274  r],.        vert
-00014b10: 6963 616c 3a20 696e 7420 3d20 332c 0a20  ical: int = 3,. 
-00014b20: 2020 2020 2020 2073 686f 775f 7265 7375         show_resu
-00014b30: 6c74 735f 6e61 6d65 733a 2062 6f6f 6c20  lts_names: bool 
-00014b40: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
-00014b50: 2073 686f 775f 6772 6f75 7073 3a20 626f   show_groups: bo
-00014b60: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
-00014b70: 2020 2020 656d 6265 643a 2062 6f6f 6c20      embed: bool 
-00014b80: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
-00014b90: 202a 2a6b 7761 7267 732c 0a20 2020 2029   **kwargs,.    )
-00014ba0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
-00014bb0: 2020 2222 220a 2020 2020 2020 2020 4372    """.        Cr
-00014bc0: 6561 7465 2061 2072 6169 6c72 6f61 6420  eate a railroad 
-00014bd0: 6469 6167 7261 6d20 666f 7220 7468 6520  diagram for the 
-00014be0: 7061 7273 6572 2e0a 0a20 2020 2020 2020  parser...       
-00014bf0: 2050 6172 616d 6574 6572 733a 0a0a 2020   Parameters:..  
-00014c00: 2020 2020 2020 2d20 6060 6f75 7470 7574        - ``output
-00014c10: 5f68 746d 6c60 6020 2873 7472 206f 7220  _html`` (str or 
-00014c20: 6669 6c65 2d6c 696b 6520 6f62 6a65 6374  file-like object
-00014c30: 2920 2d20 6f75 7470 7574 2074 6172 6765  ) - output targe
-00014c40: 7420 666f 7220 6765 6e65 7261 7465 640a  t for generated.
-00014c50: 2020 2020 2020 2020 2020 6469 6167 7261            diagra
-00014c60: 6d20 4854 4d4c 0a20 2020 2020 2020 202d  m HTML.        -
-00014c70: 2060 6076 6572 7469 6361 6c60 6020 2869   ``vertical`` (i
-00014c80: 6e74 2920 2d20 7468 7265 7368 6f6c 6420  nt) - threshold 
-00014c90: 666f 7220 666f 726d 6174 7469 6e67 206d  for formatting m
-00014ca0: 756c 7469 706c 6520 616c 7465 726e 6174  ultiple alternat
-00014cb0: 6976 6573 2076 6572 7469 6361 6c6c 790a  ives vertically.
-00014cc0: 2020 2020 2020 2020 2020 696e 7374 6561            instea
-00014cd0: 6420 6f66 2068 6f72 697a 6f6e 7461 6c6c  d of horizontall
-00014ce0: 7920 2864 6566 6175 6c74 3d33 290a 2020  y (default=3).  
-00014cf0: 2020 2020 2020 2d20 6060 7368 6f77 5f72        - ``show_r
-00014d00: 6573 756c 7473 5f6e 616d 6573 6060 202d  esults_names`` -
-00014d10: 2062 6f6f 6c20 666c 6167 2077 6865 7468   bool flag wheth
-00014d20: 6572 2064 6961 6772 616d 2073 686f 756c  er diagram shoul
-00014d30: 6420 7368 6f77 2061 6e6e 6f74 6174 696f  d show annotatio
-00014d40: 6e73 2066 6f72 0a20 2020 2020 2020 2020  ns for.         
-00014d50: 2064 6566 696e 6564 2072 6573 756c 7473   defined results
-00014d60: 206e 616d 6573 0a20 2020 2020 2020 202d   names.        -
-00014d70: 2060 6073 686f 775f 6772 6f75 7073 6060   ``show_groups``
-00014d80: 202d 2062 6f6f 6c20 666c 6167 2077 6865   - bool flag whe
-00014d90: 7468 6572 2067 726f 7570 7320 7368 6f75  ther groups shou
-00014da0: 6c64 2062 6520 6869 6768 6c69 6768 7465  ld be highlighte
-00014db0: 6420 7769 7468 2061 6e20 756e 6c61 6265  d with an unlabe
-00014dc0: 6c65 6420 7375 7272 6f75 6e64 696e 6720  led surrounding 
-00014dd0: 626f 780a 2020 2020 2020 2020 2d20 6060  box.        - ``
-00014de0: 656d 6265 6460 6020 2d20 626f 6f6c 2066  embed`` - bool f
-00014df0: 6c61 6720 7768 6574 6865 7220 6765 6e65  lag whether gene
-00014e00: 7261 7465 6420 4854 4d4c 2073 686f 756c  rated HTML shoul
-00014e10: 6420 6f6d 6974 203c 4845 4144 3e2c 203c  d omit <HEAD>, <
-00014e20: 424f 4459 3e2c 2061 6e64 203c 444f 4354  BODY>, and <DOCT
-00014e30: 5950 453e 2074 6167 7320 746f 2065 6d62  YPE> tags to emb
-00014e40: 6564 0a20 2020 2020 2020 2020 2074 6865  ed.          the
-00014e50: 2072 6573 756c 7469 6e67 2048 544d 4c20   resulting HTML 
-00014e60: 696e 2061 6e20 656e 636c 6f73 696e 6720  in an enclosing 
-00014e70: 4854 4d4c 2073 6f75 7263 650a 2020 2020  HTML source.    
-00014e80: 2020 2020 2d20 6060 6865 6164 6060 202d      - ``head`` -
-00014e90: 2073 7472 2063 6f6e 7461 696e 696e 6720   str containing 
-00014ea0: 6164 6469 7469 6f6e 616c 2048 544d 4c20  additional HTML 
-00014eb0: 746f 2069 6e73 6572 7420 696e 746f 2074  to insert into t
-00014ec0: 6865 203c 4845 4144 3e20 7365 6374 696f  he <HEAD> sectio
-00014ed0: 6e20 6f66 2074 6865 2067 656e 6572 6174  n of the generat
-00014ee0: 6564 2063 6f64 653b 0a20 2020 2020 2020  ed code;.       
-00014ef0: 2020 2063 616e 2062 6520 7573 6564 2074     can be used t
-00014f00: 6f20 696e 7365 7274 2063 7573 746f 6d20  o insert custom 
-00014f10: 4353 5320 7374 796c 696e 670a 2020 2020  CSS styling.    
-00014f20: 2020 2020 2d20 6060 626f 6479 6060 202d      - ``body`` -
-00014f30: 2073 7472 2063 6f6e 7461 696e 696e 6720   str containing 
-00014f40: 6164 6469 7469 6f6e 616c 2048 544d 4c20  additional HTML 
-00014f50: 746f 2069 6e73 6572 7420 6174 2074 6865  to insert at the
-00014f60: 2062 6567 696e 6e69 6e67 206f 6620 7468   beginning of th
-00014f70: 6520 3c42 4f44 593e 2073 6563 7469 6f6e  e <BODY> section
-00014f80: 206f 6620 7468 650a 2020 2020 2020 2020   of the.        
-00014f90: 2020 6765 6e65 7261 7465 6420 636f 6465    generated code
-00014fa0: 0a0a 2020 2020 2020 2020 4164 6469 7469  ..        Additi
-00014fb0: 6f6e 616c 2064 6961 6772 616d 2d66 6f72  onal diagram-for
-00014fc0: 6d61 7474 696e 6720 6b65 7977 6f72 6420  matting keyword 
-00014fd0: 6172 6775 6d65 6e74 7320 6361 6e20 616c  arguments can al
-00014fe0: 736f 2062 6520 696e 636c 7564 6564 3b0a  so be included;.
-00014ff0: 2020 2020 2020 2020 7365 6520 7261 696c          see rail
-00015000: 726f 6164 2e44 6961 6772 616d 2063 6c61  road.Diagram cla
-00015010: 7373 2e0a 2020 2020 2020 2020 2222 220a  ss..        """.
-00015020: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
-00015030: 2020 2020 2020 2020 2020 6672 6f6d 202e            from .
-00015040: 6469 6167 7261 6d20 696d 706f 7274 2074  diagram import t
-00015050: 6f5f 7261 696c 726f 6164 2c20 7261 696c  o_railroad, rail
-00015060: 726f 6164 5f74 6f5f 6874 6d6c 0a20 2020  road_to_html.   
-00015070: 2020 2020 2065 7863 6570 7420 496d 706f       except Impo
-00015080: 7274 4572 726f 7220 6173 2069 653a 0a20  rtError as ie:. 
-00015090: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-000150a0: 2045 7863 6570 7469 6f6e 280a 2020 2020   Exception(.    
-000150b0: 2020 2020 2020 2020 2020 2020 226d 7573              "mus
-000150c0: 7420 6060 7069 7020 696e 7374 616c 6c20  t ``pip install 
-000150d0: 7079 7061 7273 696e 675b 6469 6167 7261  pyparsing[diagra
-000150e0: 6d73 5d60 6020 746f 2067 656e 6572 6174  ms]`` to generat
-000150f0: 6520 7061 7273 6572 2072 6169 6c72 6f61  e parser railroa
-00015100: 6420 6469 6167 7261 6d73 220a 2020 2020  d diagrams".    
-00015110: 2020 2020 2020 2020 2920 6672 6f6d 2069          ) from i
-00015120: 650a 0a20 2020 2020 2020 2073 656c 662e  e..        self.
-00015130: 7374 7265 616d 6c69 6e65 2829 0a0a 2020  streamline()..  
-00015140: 2020 2020 2020 7261 696c 726f 6164 203d        railroad =
-00015150: 2074 6f5f 7261 696c 726f 6164 280a 2020   to_railroad(.  
-00015160: 2020 2020 2020 2020 2020 7365 6c66 2c0a            self,.
-00015170: 2020 2020 2020 2020 2020 2020 7665 7274              vert
-00015180: 6963 616c 3d76 6572 7469 6361 6c2c 0a20  ical=vertical,. 
-00015190: 2020 2020 2020 2020 2020 2073 686f 775f             show_
-000151a0: 7265 7375 6c74 735f 6e61 6d65 733d 7368  results_names=sh
-000151b0: 6f77 5f72 6573 756c 7473 5f6e 616d 6573  ow_results_names
-000151c0: 2c0a 2020 2020 2020 2020 2020 2020 7368  ,.            sh
-000151d0: 6f77 5f67 726f 7570 733d 7368 6f77 5f67  ow_groups=show_g
-000151e0: 726f 7570 732c 0a20 2020 2020 2020 2020  roups,.         
-000151f0: 2020 2064 6961 6772 616d 5f6b 7761 7267     diagram_kwarg
-00015200: 733d 6b77 6172 6773 2c0a 2020 2020 2020  s=kwargs,.      
-00015210: 2020 290a 2020 2020 2020 2020 6966 2069    ).        if i
-00015220: 7369 6e73 7461 6e63 6528 6f75 7470 7574  sinstance(output
-00015230: 5f68 746d 6c2c 2028 7374 722c 2050 6174  _html, (str, Pat
-00015240: 6829 293a 0a20 2020 2020 2020 2020 2020  h)):.           
-00015250: 2077 6974 6820 6f70 656e 286f 7574 7075   with open(outpu
-00015260: 745f 6874 6d6c 2c20 2277 222c 2065 6e63  t_html, "w", enc
-00015270: 6f64 696e 673d 2275 7466 2d38 2229 2061  oding="utf-8") a
-00015280: 7320 6469 6167 5f66 696c 653a 0a20 2020  s diag_file:.   
-00015290: 2020 2020 2020 2020 2020 2020 2064 6961               dia
-000152a0: 675f 6669 6c65 2e77 7269 7465 2872 6169  g_file.write(rai
-000152b0: 6c72 6f61 645f 746f 5f68 746d 6c28 7261  lroad_to_html(ra
-000152c0: 696c 726f 6164 2c20 656d 6265 643d 656d  ilroad, embed=em
-000152d0: 6265 6429 290a 2020 2020 2020 2020 656c  bed)).        el
-000152e0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-000152f0: 2320 7765 2077 6572 6520 7061 7373 6564  # we were passed
-00015300: 2061 2066 696c 652d 6c69 6b65 206f 626a   a file-like obj
-00015310: 6563 742c 206a 7573 7420 7772 6974 6520  ect, just write 
-00015320: 746f 2069 740a 2020 2020 2020 2020 2020  to it.          
-00015330: 2020 6f75 7470 7574 5f68 746d 6c2e 7772    output_html.wr
-00015340: 6974 6528 7261 696c 726f 6164 5f74 6f5f  ite(railroad_to_
-00015350: 6874 6d6c 2872 6169 6c72 6f61 642c 2065  html(railroad, e
-00015360: 6d62 6564 3d65 6d62 6564 2929 0a0a 2020  mbed=embed))..  
-00015370: 2020 2320 436f 6d70 6174 6962 696c 6974    # Compatibilit
-00015380: 7920 7379 6e6f 6e79 6d73 0a20 2020 2023  y synonyms.    #
-00015390: 2066 6d74 3a20 6f66 660a 2020 2020 4073   fmt: off.    @s
-000153a0: 7461 7469 636d 6574 686f 640a 2020 2020  taticmethod.    
-000153b0: 4072 6570 6c61 6365 645f 6279 5f70 6570  @replaced_by_pep
-000153c0: 3828 696e 6c69 6e65 5f6c 6974 6572 616c  8(inline_literal
-000153d0: 735f 7573 696e 6729 0a20 2020 2064 6566  s_using).    def
-000153e0: 2069 6e6c 696e 654c 6974 6572 616c 7355   inlineLiteralsU
-000153f0: 7369 6e67 2829 3a20 2e2e 2e0a 0a20 2020  sing(): .....   
-00015400: 2040 7374 6174 6963 6d65 7468 6f64 0a20   @staticmethod. 
-00015410: 2020 2040 7265 706c 6163 6564 5f62 795f     @replaced_by_
-00015420: 7065 7038 2873 6574 5f64 6566 6175 6c74  pep8(set_default
-00015430: 5f77 6869 7465 7370 6163 655f 6368 6172  _whitespace_char
-00015440: 7329 0a20 2020 2064 6566 2073 6574 4465  s).    def setDe
-00015450: 6661 756c 7457 6869 7465 7370 6163 6543  faultWhitespaceC
-00015460: 6861 7273 2829 3a20 2e2e 2e0a 0a20 2020  hars(): .....   
-00015470: 2040 7265 706c 6163 6564 5f62 795f 7065   @replaced_by_pe
-00015480: 7038 2873 6574 5f72 6573 756c 7473 5f6e  p8(set_results_n
-00015490: 616d 6529 0a20 2020 2064 6566 2073 6574  ame).    def set
-000154a0: 5265 7375 6c74 734e 616d 6528 7365 6c66  ResultsName(self
-000154b0: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
-000154c0: 6c61 6365 645f 6279 5f70 6570 3828 7365  laced_by_pep8(se
-000154d0: 745f 6272 6561 6b29 0a20 2020 2064 6566  t_break).    def
-000154e0: 2073 6574 4272 6561 6b28 7365 6c66 293a   setBreak(self):
-000154f0: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
-00015500: 6365 645f 6279 5f70 6570 3828 7365 745f  ced_by_pep8(set_
-00015510: 7061 7273 655f 6163 7469 6f6e 290a 2020  parse_action).  
-00015520: 2020 6465 6620 7365 7450 6172 7365 4163    def setParseAc
-00015530: 7469 6f6e 2873 656c 6629 3a20 2e2e 2e0a  tion(self): ....
-00015540: 0a20 2020 2040 7265 706c 6163 6564 5f62  .    @replaced_b
-00015550: 795f 7065 7038 2861 6464 5f70 6172 7365  y_pep8(add_parse
-00015560: 5f61 6374 696f 6e29 0a20 2020 2064 6566  _action).    def
-00015570: 2061 6464 5061 7273 6541 6374 696f 6e28   addParseAction(
-00015580: 7365 6c66 293a 202e 2e2e 0a0a 2020 2020  self): .....    
-00015590: 4072 6570 6c61 6365 645f 6279 5f70 6570  @replaced_by_pep
-000155a0: 3828 6164 645f 636f 6e64 6974 696f 6e29  8(add_condition)
-000155b0: 0a20 2020 2064 6566 2061 6464 436f 6e64  .    def addCond
-000155c0: 6974 696f 6e28 7365 6c66 293a 202e 2e2e  ition(self): ...
-000155d0: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
-000155e0: 6279 5f70 6570 3828 7365 745f 6661 696c  by_pep8(set_fail
-000155f0: 5f61 6374 696f 6e29 0a20 2020 2064 6566  _action).    def
-00015600: 2073 6574 4661 696c 4163 7469 6f6e 2873   setFailAction(s
-00015610: 656c 6629 3a20 2e2e 2e0a 0a20 2020 2040  elf): .....    @
-00015620: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
-00015630: 2874 7279 5f70 6172 7365 290a 2020 2020  (try_parse).    
-00015640: 6465 6620 7472 7950 6172 7365 2873 656c  def tryParse(sel
-00015650: 6629 3a20 2e2e 2e0a 0a20 2020 2040 7374  f): .....    @st
-00015660: 6174 6963 6d65 7468 6f64 0a20 2020 2040  aticmethod.    @
-00015670: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
-00015680: 2865 6e61 626c 655f 6c65 6674 5f72 6563  (enable_left_rec
-00015690: 7572 7369 6f6e 290a 2020 2020 6465 6620  ursion).    def 
-000156a0: 656e 6162 6c65 4c65 6674 5265 6375 7273  enableLeftRecurs
-000156b0: 696f 6e28 293a 202e 2e2e 0a0a 2020 2020  ion(): .....    
-000156c0: 4073 7461 7469 636d 6574 686f 640a 2020  @staticmethod.  
-000156d0: 2020 4072 6570 6c61 6365 645f 6279 5f70    @replaced_by_p
-000156e0: 6570 3828 656e 6162 6c65 5f70 6163 6b72  ep8(enable_packr
-000156f0: 6174 290a 2020 2020 6465 6620 656e 6162  at).    def enab
-00015700: 6c65 5061 636b 7261 7428 293a 202e 2e2e  lePackrat(): ...
-00015710: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
-00015720: 6279 5f70 6570 3828 7061 7273 655f 7374  by_pep8(parse_st
-00015730: 7269 6e67 290a 2020 2020 6465 6620 7061  ring).    def pa
-00015740: 7273 6553 7472 696e 6728 7365 6c66 293a  rseString(self):
-00015750: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
-00015760: 6365 645f 6279 5f70 6570 3828 7363 616e  ced_by_pep8(scan
-00015770: 5f73 7472 696e 6729 0a20 2020 2064 6566  _string).    def
-00015780: 2073 6361 6e53 7472 696e 6728 7365 6c66   scanString(self
-00015790: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
-000157a0: 6c61 6365 645f 6279 5f70 6570 3828 7472  laced_by_pep8(tr
-000157b0: 616e 7366 6f72 6d5f 7374 7269 6e67 290a  ansform_string).
-000157c0: 2020 2020 6465 6620 7472 616e 7366 6f72      def transfor
-000157d0: 6d53 7472 696e 6728 7365 6c66 293a 202e  mString(self): .
-000157e0: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
-000157f0: 645f 6279 5f70 6570 3828 7365 6172 6368  d_by_pep8(search
-00015800: 5f73 7472 696e 6729 0a20 2020 2064 6566  _string).    def
-00015810: 2073 6561 7263 6853 7472 696e 6728 7365   searchString(se
-00015820: 6c66 293a 202e 2e2e 0a0a 2020 2020 4072  lf): .....    @r
-00015830: 6570 6c61 6365 645f 6279 5f70 6570 3828  eplaced_by_pep8(
-00015840: 6967 6e6f 7265 5f77 6869 7465 7370 6163  ignore_whitespac
-00015850: 6529 0a20 2020 2064 6566 2069 676e 6f72  e).    def ignor
-00015860: 6557 6869 7465 7370 6163 6528 7365 6c66  eWhitespace(self
-00015870: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
-00015880: 6c61 6365 645f 6279 5f70 6570 3828 6c65  laced_by_pep8(le
-00015890: 6176 655f 7768 6974 6573 7061 6365 290a  ave_whitespace).
-000158a0: 2020 2020 6465 6620 6c65 6176 6557 6869      def leaveWhi
-000158b0: 7465 7370 6163 6528 7365 6c66 293a 202e  tespace(self): .
-000158c0: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
-000158d0: 645f 6279 5f70 6570 3828 7365 745f 7768  d_by_pep8(set_wh
-000158e0: 6974 6573 7061 6365 5f63 6861 7273 290a  itespace_chars).
-000158f0: 2020 2020 6465 6620 7365 7457 6869 7465      def setWhite
-00015900: 7370 6163 6543 6861 7273 2873 656c 6629  spaceChars(self)
-00015910: 3a20 2e2e 2e0a 0a20 2020 2040 7265 706c  : .....    @repl
-00015920: 6163 6564 5f62 795f 7065 7038 2870 6172  aced_by_pep8(par
-00015930: 7365 5f77 6974 685f 7461 6273 290a 2020  se_with_tabs).  
-00015940: 2020 6465 6620 7061 7273 6557 6974 6854    def parseWithT
-00015950: 6162 7328 7365 6c66 293a 202e 2e2e 0a0a  abs(self): .....
-00015960: 2020 2020 4072 6570 6c61 6365 645f 6279      @replaced_by
-00015970: 5f70 6570 3828 7365 745f 6465 6275 675f  _pep8(set_debug_
-00015980: 6163 7469 6f6e 7329 0a20 2020 2064 6566  actions).    def
-00015990: 2073 6574 4465 6275 6741 6374 696f 6e73   setDebugActions
-000159a0: 2873 656c 6629 3a20 2e2e 2e0a 0a20 2020  (self): .....   
-000159b0: 2040 7265 706c 6163 6564 5f62 795f 7065   @replaced_by_pe
-000159c0: 7038 2873 6574 5f64 6562 7567 290a 2020  p8(set_debug).  
-000159d0: 2020 6465 6620 7365 7444 6562 7567 2873    def setDebug(s
-000159e0: 656c 6629 3a20 2e2e 2e0a 0a20 2020 2040  elf): .....    @
-000159f0: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
-00015a00: 2873 6574 5f6e 616d 6529 0a20 2020 2064  (set_name).    d
-00015a10: 6566 2073 6574 4e61 6d65 2873 656c 6629  ef setName(self)
-00015a20: 3a20 2e2e 2e0a 0a20 2020 2040 7265 706c  : .....    @repl
-00015a30: 6163 6564 5f62 795f 7065 7038 2870 6172  aced_by_pep8(par
-00015a40: 7365 5f66 696c 6529 0a20 2020 2064 6566  se_file).    def
-00015a50: 2070 6172 7365 4669 6c65 2873 656c 6629   parseFile(self)
-00015a60: 3a20 2e2e 2e0a 0a20 2020 2040 7265 706c  : .....    @repl
-00015a70: 6163 6564 5f62 795f 7065 7038 2872 756e  aced_by_pep8(run
-00015a80: 5f74 6573 7473 290a 2020 2020 6465 6620  _tests).    def 
-00015a90: 7275 6e54 6573 7473 2873 656c 6629 3a20  runTests(self): 
-00015aa0: 2e2e 2e0a 0a20 2020 2063 616e 5061 7273  .....    canPars
-00015ab0: 654e 6578 7420 3d20 6361 6e5f 7061 7273  eNext = can_pars
-00015ac0: 655f 6e65 7874 0a20 2020 2072 6573 6574  e_next.    reset
-00015ad0: 4361 6368 6520 3d20 7265 7365 745f 6361  Cache = reset_ca
-00015ae0: 6368 650a 2020 2020 6465 6661 756c 744e  che.    defaultN
-00015af0: 616d 6520 3d20 6465 6661 756c 745f 6e61  ame = default_na
-00015b00: 6d65 0a20 2020 2023 2066 6d74 3a20 6f6e  me.    # fmt: on
-00015b10: 0a0a 0a63 6c61 7373 205f 5065 6e64 696e  ...class _Pendin
-00015b20: 6753 6b69 7028 5061 7273 6572 456c 656d  gSkip(ParserElem
-00015b30: 656e 7429 3a0a 2020 2020 2320 696e 7465  ent):.    # inte
-00015b40: 726e 616c 2070 6c61 6365 686f 6c64 6572  rnal placeholder
-00015b50: 2063 6c61 7373 2074 6f20 686f 6c64 2061   class to hold a
-00015b60: 2070 6c61 6365 2077 6572 6520 272e 2e2e   place were '...
-00015b70: 2720 6973 2061 6464 6564 2074 6f20 6120  ' is added to a 
-00015b80: 7061 7273 6572 2065 6c65 6d65 6e74 2c0a  parser element,.
-00015b90: 2020 2020 2320 6f6e 6365 2061 6e6f 7468      # once anoth
-00015ba0: 6572 2050 6172 7365 7245 6c65 6d65 6e74  er ParserElement
-00015bb0: 2069 7320 6164 6465 642c 2074 6869 7320   is added, this 
-00015bc0: 706c 6163 6568 6f6c 6465 7220 7769 6c6c  placeholder will
-00015bd0: 2062 6520 7265 706c 6163 6564 2077 6974   be replaced wit
-00015be0: 6820 6120 536b 6970 546f 0a20 2020 2064  h a SkipTo.    d
-00015bf0: 6566 205f 5f69 6e69 745f 5f28 7365 6c66  ef __init__(self
-00015c00: 2c20 6578 7072 3a20 5061 7273 6572 456c  , expr: ParserEl
-00015c10: 656d 656e 742c 206d 7573 745f 736b 6970  ement, must_skip
-00015c20: 3a20 626f 6f6c 203d 2046 616c 7365 293a  : bool = False):
-00015c30: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
-00015c40: 2e5f 5f69 6e69 745f 5f28 290a 2020 2020  .__init__().    
-00015c50: 2020 2020 7365 6c66 2e61 6e63 686f 7220      self.anchor 
-00015c60: 3d20 6578 7072 0a20 2020 2020 2020 2073  = expr.        s
-00015c70: 656c 662e 6d75 7374 5f73 6b69 7020 3d20  elf.must_skip = 
-00015c80: 6d75 7374 5f73 6b69 700a 0a20 2020 2064  must_skip..    d
-00015c90: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
-00015ca0: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
-00015cb0: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
-00015cc0: 7475 726e 2073 7472 2873 656c 662e 616e  turn str(self.an
-00015cd0: 6368 6f72 202b 2045 6d70 7479 2829 292e  chor + Empty()).
-00015ce0: 7265 706c 6163 6528 2245 6d70 7479 222c  replace("Empty",
-00015cf0: 2022 2e2e 2e22 290a 0a20 2020 2064 6566   "...")..    def
-00015d00: 205f 5f61 6464 5f5f 2873 656c 662c 206f   __add__(self, o
-00015d10: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
-00015d20: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
-00015d30: 2020 736b 6970 7065 7220 3d20 536b 6970    skipper = Skip
-00015d40: 546f 286f 7468 6572 292e 7365 745f 6e61  To(other).set_na
-00015d50: 6d65 2822 2e2e 2e22 2928 225f 736b 6970  me("...")("_skip
-00015d60: 7065 642a 2229 0a20 2020 2020 2020 2069  ped*").        i
-00015d70: 6620 7365 6c66 2e6d 7573 745f 736b 6970  f self.must_skip
-00015d80: 3a0a 0a20 2020 2020 2020 2020 2020 2064  :..            d
-00015d90: 6566 206d 7573 745f 736b 6970 2874 293a  ef must_skip(t):
-00015da0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00015db0: 2069 6620 6e6f 7420 742e 5f73 6b69 7070   if not t._skipp
-00015dc0: 6564 206f 7220 742e 5f73 6b69 7070 6564  ed or t._skipped
-00015dd0: 2e61 735f 6c69 7374 2829 203d 3d20 5b22  .as_list() == ["
-00015de0: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
-00015df0: 2020 2020 2020 2020 6465 6c20 745b 305d          del t[0]
-00015e00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00015e10: 2020 2020 2074 2e70 6f70 2822 5f73 6b69       t.pop("_ski
-00015e20: 7070 6564 222c 204e 6f6e 6529 0a0a 2020  pped", None)..  
-00015e30: 2020 2020 2020 2020 2020 6465 6620 7368            def sh
-00015e40: 6f77 5f73 6b69 7028 7429 3a0a 2020 2020  ow_skip(t):.    
-00015e50: 2020 2020 2020 2020 2020 2020 6966 2074              if t
-00015e60: 2e5f 736b 6970 7065 642e 6173 5f6c 6973  ._skipped.as_lis
-00015e70: 7428 295b 2d31 3a5d 203d 3d20 5b22 225d  t()[-1:] == [""]
+0000c100: 2020 2020 2020 2020 6c6f 6320 2b3d 2031          loc += 1
+0000c110: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c120: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+0000c130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c140: 2020 2020 2020 2020 2020 206c 6f63 203d             loc =
+0000c150: 206e 6578 744c 6f63 0a20 2020 2020 2020   nextLoc.       
+0000c160: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+0000c170: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0000c180: 2020 2020 2020 2020 2020 206c 6f63 203d             loc =
+0000c190: 2070 7265 6c6f 6320 2b20 310a 2020 2020   preloc + 1.    
+0000c1a0: 2020 2020 6578 6365 7074 2050 6172 7365      except Parse
+0000c1b0: 4261 7365 4578 6365 7074 696f 6e20 6173  BaseException as
+0000c1c0: 2065 7863 3a0a 2020 2020 2020 2020 2020   exc:.          
+0000c1d0: 2020 6966 2050 6172 7365 7245 6c65 6d65    if ParserEleme
+0000c1e0: 6e74 2e76 6572 626f 7365 5f73 7461 636b  nt.verbose_stack
+0000c1f0: 7472 6163 653a 0a20 2020 2020 2020 2020  trace:.         
+0000c200: 2020 2020 2020 2072 6169 7365 0a20 2020         raise.   
+0000c210: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+0000c220: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0000c230: 2063 6174 6368 2061 6e64 2072 652d 7261   catch and re-ra
+0000c240: 6973 6520 6578 6365 7074 696f 6e20 6672  ise exception fr
+0000c250: 6f6d 2068 6572 652c 2063 6c65 6172 7320  om here, clears 
+0000c260: 6f75 7420 7079 7061 7273 696e 6720 696e  out pyparsing in
+0000c270: 7465 726e 616c 2073 7461 636b 2074 7261  ternal stack tra
+0000c280: 6365 0a20 2020 2020 2020 2020 2020 2020  ce.             
+0000c290: 2020 2072 6169 7365 2065 7863 2e77 6974     raise exc.wit
+0000c2a0: 685f 7472 6163 6562 6163 6b28 4e6f 6e65  h_traceback(None
+0000c2b0: 290a 0a20 2020 2064 6566 2074 7261 6e73  )..    def trans
+0000c2c0: 666f 726d 5f73 7472 696e 6728 7365 6c66  form_string(self
+0000c2d0: 2c20 696e 7374 7269 6e67 3a20 7374 722c  , instring: str,
+0000c2e0: 202a 2c20 6465 6275 673a 2062 6f6f 6c20   *, debug: bool 
+0000c2f0: 3d20 4661 6c73 6529 202d 3e20 7374 723a  = False) -> str:
+0000c300: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000c310: 2020 2020 2045 7874 656e 7369 6f6e 2074       Extension t
+0000c320: 6f20 3a63 6c61 7373 3a60 7363 616e 5f73  o :class:`scan_s
+0000c330: 7472 696e 6760 2c20 746f 206d 6f64 6966  tring`, to modif
+0000c340: 7920 6d61 7463 6869 6e67 2074 6578 7420  y matching text 
+0000c350: 7769 7468 206d 6f64 6966 6965 6420 746f  with modified to
+0000c360: 6b65 6e73 2074 6861 7420 6d61 790a 2020  kens that may.  
+0000c370: 2020 2020 2020 6265 2072 6574 7572 6e65        be returne
+0000c380: 6420 6672 6f6d 2061 2070 6172 7365 2061  d from a parse a
+0000c390: 6374 696f 6e2e 2020 546f 2075 7365 2060  ction.  To use `
+0000c3a0: 6074 7261 6e73 666f 726d 5f73 7472 696e  `transform_strin
+0000c3b0: 6760 602c 2064 6566 696e 6520 6120 6772  g``, define a gr
+0000c3c0: 616d 6d61 7220 616e 640a 2020 2020 2020  ammar and.      
+0000c3d0: 2020 6174 7461 6368 2061 2070 6172 7365    attach a parse
+0000c3e0: 2061 6374 696f 6e20 746f 2069 7420 7468   action to it th
+0000c3f0: 6174 206d 6f64 6966 6965 7320 7468 6520  at modifies the 
+0000c400: 7265 7475 726e 6564 2074 6f6b 656e 206c  returned token l
+0000c410: 6973 742e 0a20 2020 2020 2020 2049 6e76  ist..        Inv
+0000c420: 6f6b 696e 6720 6060 7472 616e 7366 6f72  oking ``transfor
+0000c430: 6d5f 7374 7269 6e67 2829 6060 206f 6e20  m_string()`` on 
+0000c440: 6120 7461 7267 6574 2073 7472 696e 6720  a target string 
+0000c450: 7769 6c6c 2074 6865 6e20 7363 616e 2066  will then scan f
+0000c460: 6f72 206d 6174 6368 6573 2c0a 2020 2020  or matches,.    
+0000c470: 2020 2020 616e 6420 7265 706c 6163 6520      and replace 
+0000c480: 7468 6520 6d61 7463 6865 6420 7465 7874  the matched text
+0000c490: 2070 6174 7465 726e 7320 6163 636f 7264   patterns accord
+0000c4a0: 696e 6720 746f 2074 6865 206c 6f67 6963  ing to the logic
+0000c4b0: 2069 6e20 7468 6520 7061 7273 650a 2020   in the parse.  
+0000c4c0: 2020 2020 2020 6163 7469 6f6e 2e20 2060        action.  `
+0000c4d0: 6074 7261 6e73 666f 726d 5f73 7472 696e  `transform_strin
+0000c4e0: 6728 2960 6020 7265 7475 726e 7320 7468  g()`` returns th
+0000c4f0: 6520 7265 7375 6c74 696e 6720 7472 616e  e resulting tran
+0000c500: 7366 6f72 6d65 6420 7374 7269 6e67 2e0a  sformed string..
+0000c510: 0a20 2020 2020 2020 2045 7861 6d70 6c65  .        Example
+0000c520: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
+0000c530: 7764 203d 2057 6f72 6428 616c 7068 6173  wd = Word(alphas
+0000c540: 290a 2020 2020 2020 2020 2020 2020 7764  ).            wd
+0000c550: 2e73 6574 5f70 6172 7365 5f61 6374 696f  .set_parse_actio
+0000c560: 6e28 6c61 6d62 6461 2074 6f6b 733a 2074  n(lambda toks: t
+0000c570: 6f6b 735b 305d 2e74 6974 6c65 2829 290a  oks[0].title()).
+0000c580: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
+0000c590: 6e74 2877 642e 7472 616e 7366 6f72 6d5f  nt(wd.transform_
+0000c5a0: 7374 7269 6e67 2822 6e6f 7720 6973 2074  string("now is t
+0000c5b0: 6865 2077 696e 7465 7220 6f66 206f 7572  he winter of our
+0000c5c0: 2064 6973 636f 6e74 656e 7420 6d61 6465   discontent made
+0000c5d0: 2067 6c6f 7269 6f75 7320 7375 6d6d 6572   glorious summer
+0000c5e0: 2062 7920 7468 6973 2073 756e 206f 6620   by this sun of 
+0000c5f0: 796f 726b 2e22 2929 0a0a 2020 2020 2020  york."))..      
+0000c600: 2020 7072 696e 7473 3a3a 0a0a 2020 2020    prints::..    
+0000c610: 2020 2020 2020 2020 4e6f 7720 4973 2054          Now Is T
+0000c620: 6865 2057 696e 7465 7220 4f66 204f 7572  he Winter Of Our
+0000c630: 2044 6973 636f 6e74 656e 7420 4d61 6465   Discontent Made
+0000c640: 2047 6c6f 7269 6f75 7320 5375 6d6d 6572   Glorious Summer
+0000c650: 2042 7920 5468 6973 2053 756e 204f 6620   By This Sun Of 
+0000c660: 596f 726b 2e0a 2020 2020 2020 2020 2222  York..        ""
+0000c670: 220a 2020 2020 2020 2020 6f75 743a 204c  ".        out: L
+0000c680: 6973 745b 7374 725d 203d 205b 5d0a 2020  ist[str] = [].  
+0000c690: 2020 2020 2020 6c61 7374 4520 3d20 300a        lastE = 0.
+0000c6a0: 2020 2020 2020 2020 2320 666f 7263 6520          # force 
+0000c6b0: 7072 6573 6572 7661 7469 6f6e 206f 6620  preservation of 
+0000c6c0: 3c54 4142 3e73 2c20 746f 206d 696e 696d  <TAB>s, to minim
+0000c6d0: 697a 6520 756e 7761 6e74 6564 2074 7261  ize unwanted tra
+0000c6e0: 6e73 666f 726d 6174 696f 6e20 6f66 2073  nsformation of s
+0000c6f0: 7472 696e 672c 2061 6e64 2074 6f0a 2020  tring, and to.  
+0000c700: 2020 2020 2020 2320 6b65 6570 2073 7472        # keep str
+0000c710: 696e 6720 6c6f 6373 2073 7472 6169 6768  ing locs straigh
+0000c720: 7420 6265 7477 6565 6e20 7472 616e 7366  t between transf
+0000c730: 6f72 6d5f 7374 7269 6e67 2061 6e64 2073  orm_string and s
+0000c740: 6361 6e5f 7374 7269 6e67 0a20 2020 2020  can_string.     
+0000c750: 2020 2073 656c 662e 6b65 6570 5461 6273     self.keepTabs
+0000c760: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
+0000c770: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+0000c780: 2066 6f72 2074 2c20 732c 2065 2069 6e20   for t, s, e in 
+0000c790: 7365 6c66 2e73 6361 6e5f 7374 7269 6e67  self.scan_string
+0000c7a0: 2869 6e73 7472 696e 672c 2064 6562 7567  (instring, debug
+0000c7b0: 3d64 6562 7567 293a 0a20 2020 2020 2020  =debug):.       
+0000c7c0: 2020 2020 2020 2020 206f 7574 2e61 7070           out.app
+0000c7d0: 656e 6428 696e 7374 7269 6e67 5b6c 6173  end(instring[las
+0000c7e0: 7445 3a73 5d29 0a20 2020 2020 2020 2020  tE:s]).         
+0000c7f0: 2020 2020 2020 2069 6620 743a 0a20 2020         if t:.   
+0000c800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c810: 2069 6620 6973 696e 7374 616e 6365 2874   if isinstance(t
+0000c820: 2c20 5061 7273 6552 6573 756c 7473 293a  , ParseResults):
+0000c830: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c840: 2020 2020 2020 2020 206f 7574 202b 3d20           out += 
+0000c850: 742e 6173 5f6c 6973 7428 290a 2020 2020  t.as_list().    
+0000c860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c870: 656c 6966 2069 7369 6e73 7461 6e63 6528  elif isinstance(
+0000c880: 742c 2049 7465 7261 626c 6529 2061 6e64  t, Iterable) and
+0000c890: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
+0000c8a0: 742c 2073 7472 5f74 7970 6529 3a0a 2020  t, str_type):.  
+0000c8b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c8c0: 2020 2020 2020 6f75 742e 6578 7465 6e64        out.extend
+0000c8d0: 2874 290a 2020 2020 2020 2020 2020 2020  (t).            
+0000c8e0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0000c8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c900: 2020 2020 2020 6f75 742e 6170 7065 6e64        out.append
+0000c910: 2874 290a 2020 2020 2020 2020 2020 2020  (t).            
+0000c920: 2020 2020 6c61 7374 4520 3d20 650a 2020      lastE = e.  
+0000c930: 2020 2020 2020 2020 2020 6f75 742e 6170            out.ap
+0000c940: 7065 6e64 2869 6e73 7472 696e 675b 6c61  pend(instring[la
+0000c950: 7374 453a 5d29 0a20 2020 2020 2020 2020  stE:]).         
+0000c960: 2020 206f 7574 203d 205b 6f20 666f 7220     out = [o for 
+0000c970: 6f20 696e 206f 7574 2069 6620 6f5d 0a20  o in out if o]. 
+0000c980: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0000c990: 6e20 2222 2e6a 6f69 6e28 5b73 7472 2873  n "".join([str(s
+0000c9a0: 2920 666f 7220 7320 696e 205f 666c 6174  ) for s in _flat
+0000c9b0: 7465 6e28 6f75 7429 5d29 0a20 2020 2020  ten(out)]).     
+0000c9c0: 2020 2065 7863 6570 7420 5061 7273 6542     except ParseB
+0000c9d0: 6173 6545 7863 6570 7469 6f6e 2061 7320  aseException as 
+0000c9e0: 6578 633a 0a20 2020 2020 2020 2020 2020  exc:.           
+0000c9f0: 2069 6620 5061 7273 6572 456c 656d 656e   if ParserElemen
+0000ca00: 742e 7665 7262 6f73 655f 7374 6163 6b74  t.verbose_stackt
+0000ca10: 7261 6365 3a0a 2020 2020 2020 2020 2020  race:.          
+0000ca20: 2020 2020 2020 7261 6973 650a 2020 2020        raise.    
+0000ca30: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0000ca40: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0000ca50: 6361 7463 6820 616e 6420 7265 2d72 6169  catch and re-rai
+0000ca60: 7365 2065 7863 6570 7469 6f6e 2066 726f  se exception fro
+0000ca70: 6d20 6865 7265 2c20 636c 6561 7273 206f  m here, clears o
+0000ca80: 7574 2070 7970 6172 7369 6e67 2069 6e74  ut pyparsing int
+0000ca90: 6572 6e61 6c20 7374 6163 6b20 7472 6163  ernal stack trac
+0000caa0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0000cab0: 2020 7261 6973 6520 6578 632e 7769 7468    raise exc.with
+0000cac0: 5f74 7261 6365 6261 636b 284e 6f6e 6529  _traceback(None)
+0000cad0: 0a0a 2020 2020 6465 6620 7365 6172 6368  ..    def search
+0000cae0: 5f73 7472 696e 6728 0a20 2020 2020 2020  _string(.       
+0000caf0: 2073 656c 662c 0a20 2020 2020 2020 2069   self,.        i
+0000cb00: 6e73 7472 696e 673a 2073 7472 2c0a 2020  nstring: str,.  
+0000cb10: 2020 2020 2020 6d61 785f 6d61 7463 6865        max_matche
+0000cb20: 733a 2069 6e74 203d 205f 4d41 585f 494e  s: int = _MAX_IN
+0000cb30: 542c 0a20 2020 2020 2020 202a 2c0a 2020  T,.        *,.  
+0000cb40: 2020 2020 2020 6465 6275 673a 2062 6f6f        debug: boo
+0000cb50: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
+0000cb60: 2020 206d 6178 4d61 7463 6865 733a 2069     maxMatches: i
+0000cb70: 6e74 203d 205f 4d41 585f 494e 542c 0a20  nt = _MAX_INT,. 
+0000cb80: 2020 2029 202d 3e20 5061 7273 6552 6573     ) -> ParseRes
+0000cb90: 756c 7473 3a0a 2020 2020 2020 2020 2222  ults:.        ""
+0000cba0: 220a 2020 2020 2020 2020 416e 6f74 6865  ".        Anothe
+0000cbb0: 7220 6578 7465 6e73 696f 6e20 746f 203a  r extension to :
+0000cbc0: 636c 6173 733a 6073 6361 6e5f 7374 7269  class:`scan_stri
+0000cbd0: 6e67 602c 2073 696d 706c 6966 7969 6e67  ng`, simplifying
+0000cbe0: 2074 6865 2061 6363 6573 7320 746f 2074   the access to t
+0000cbf0: 6865 2074 6f6b 656e 7320 666f 756e 640a  he tokens found.
+0000cc00: 2020 2020 2020 2020 746f 206d 6174 6368          to match
+0000cc10: 2074 6865 2067 6976 656e 2070 6172 7365   the given parse
+0000cc20: 2065 7870 7265 7373 696f 6e2e 2020 4d61   expression.  Ma
+0000cc30: 7920 6265 2063 616c 6c65 6420 7769 7468  y be called with
+0000cc40: 206f 7074 696f 6e61 6c0a 2020 2020 2020   optional.      
+0000cc50: 2020 6060 6d61 785f 6d61 7463 6865 7360    ``max_matches`
+0000cc60: 6020 6172 6775 6d65 6e74 2c20 746f 2063  ` argument, to c
+0000cc70: 6c69 7020 7365 6172 6368 696e 6720 6166  lip searching af
+0000cc80: 7465 7220 276e 2720 6d61 7463 6865 7320  ter 'n' matches 
+0000cc90: 6172 6520 666f 756e 642e 0a0a 2020 2020  are found...    
+0000cca0: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
+0000ccb0: 2020 2020 2020 2020 2020 2023 2061 2063             # a c
+0000ccc0: 6170 6974 616c 697a 6564 2077 6f72 6420  apitalized word 
+0000ccd0: 7374 6172 7473 2077 6974 6820 616e 2075  starts with an u
+0000cce0: 7070 6572 6361 7365 206c 6574 7465 722c  ppercase letter,
+0000ccf0: 2066 6f6c 6c6f 7765 6420 6279 207a 6572   followed by zer
+0000cd00: 6f20 6f72 206d 6f72 6520 6c6f 7765 7263  o or more lowerc
+0000cd10: 6173 6520 6c65 7474 6572 730a 2020 2020  ase letters.    
+0000cd20: 2020 2020 2020 2020 6361 705f 776f 7264          cap_word
+0000cd30: 203d 2057 6f72 6428 616c 7068 6173 2e75   = Word(alphas.u
+0000cd40: 7070 6572 2829 2c20 616c 7068 6173 2e6c  pper(), alphas.l
+0000cd50: 6f77 6572 2829 290a 0a20 2020 2020 2020  ower())..       
+0000cd60: 2020 2020 2070 7269 6e74 2863 6170 5f77       print(cap_w
+0000cd70: 6f72 642e 7365 6172 6368 5f73 7472 696e  ord.search_strin
+0000cd80: 6728 224d 6f72 6520 7468 616e 2049 726f  g("More than Iro
+0000cd90: 6e2c 206d 6f72 6520 7468 616e 204c 6561  n, more than Lea
+0000cda0: 642c 206d 6f72 6520 7468 616e 2047 6f6c  d, more than Gol
+0000cdb0: 6420 4920 6e65 6564 2045 6c65 6374 7269  d I need Electri
+0000cdc0: 6369 7479 2229 290a 0a20 2020 2020 2020  city"))..       
+0000cdd0: 2020 2020 2023 2074 6865 2073 756d 2829       # the sum()
+0000cde0: 2062 7569 6c74 696e 2063 616e 2062 6520   builtin can be 
+0000cdf0: 7573 6564 2074 6f20 6d65 7267 6520 7265  used to merge re
+0000ce00: 7375 6c74 7320 696e 746f 2061 2073 696e  sults into a sin
+0000ce10: 676c 6520 5061 7273 6552 6573 756c 7473  gle ParseResults
+0000ce20: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+0000ce30: 2020 2020 7072 696e 7428 7375 6d28 6361      print(sum(ca
+0000ce40: 705f 776f 7264 2e73 6561 7263 685f 7374  p_word.search_st
+0000ce50: 7269 6e67 2822 4d6f 7265 2074 6861 6e20  ring("More than 
+0000ce60: 4972 6f6e 2c20 6d6f 7265 2074 6861 6e20  Iron, more than 
+0000ce70: 4c65 6164 2c20 6d6f 7265 2074 6861 6e20  Lead, more than 
+0000ce80: 476f 6c64 2049 206e 6565 6420 456c 6563  Gold I need Elec
+0000ce90: 7472 6963 6974 7922 2929 290a 0a20 2020  tricity")))..   
+0000cea0: 2020 2020 2070 7269 6e74 733a 3a0a 0a20       prints::.. 
+0000ceb0: 2020 2020 2020 2020 2020 205b 5b27 4d6f             [['Mo
+0000cec0: 7265 275d 2c20 5b27 4972 6f6e 275d 2c20  re'], ['Iron'], 
+0000ced0: 5b27 4c65 6164 275d 2c20 5b27 476f 6c64  ['Lead'], ['Gold
+0000cee0: 275d 2c20 5b27 4927 5d2c 205b 2745 6c65  '], ['I'], ['Ele
+0000cef0: 6374 7269 6369 7479 275d 5d0a 2020 2020  ctricity']].    
+0000cf00: 2020 2020 2020 2020 5b27 4d6f 7265 272c          ['More',
+0000cf10: 2027 4972 6f6e 272c 2027 4c65 6164 272c   'Iron', 'Lead',
+0000cf20: 2027 476f 6c64 272c 2027 4927 2c20 2745   'Gold', 'I', 'E
+0000cf30: 6c65 6374 7269 6369 7479 275d 0a20 2020  lectricity'].   
+0000cf40: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000cf50: 206d 6178 4d61 7463 6865 7320 3d20 6d69   maxMatches = mi
+0000cf60: 6e28 6d61 784d 6174 6368 6573 2c20 6d61  n(maxMatches, ma
+0000cf70: 785f 6d61 7463 6865 7329 0a20 2020 2020  x_matches).     
+0000cf80: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+0000cf90: 2020 2020 7265 7475 726e 2050 6172 7365      return Parse
+0000cfa0: 5265 7375 6c74 7328 0a20 2020 2020 2020  Results(.       
+0000cfb0: 2020 2020 2020 2020 205b 7420 666f 7220           [t for 
+0000cfc0: 742c 2073 2c20 6520 696e 2073 656c 662e  t, s, e in self.
+0000cfd0: 7363 616e 5f73 7472 696e 6728 696e 7374  scan_string(inst
+0000cfe0: 7269 6e67 2c20 6d61 784d 6174 6368 6573  ring, maxMatches
+0000cff0: 2c20 6465 6275 673d 6465 6275 6729 5d0a  , debug=debug)].
+0000d000: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+0000d010: 2020 2020 2020 6578 6365 7074 2050 6172        except Par
+0000d020: 7365 4261 7365 4578 6365 7074 696f 6e20  seBaseException 
+0000d030: 6173 2065 7863 3a0a 2020 2020 2020 2020  as exc:.        
+0000d040: 2020 2020 6966 2050 6172 7365 7245 6c65      if ParserEle
+0000d050: 6d65 6e74 2e76 6572 626f 7365 5f73 7461  ment.verbose_sta
+0000d060: 636b 7472 6163 653a 0a20 2020 2020 2020  cktrace:.       
+0000d070: 2020 2020 2020 2020 2072 6169 7365 0a20           raise. 
+0000d080: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0000d090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d0a0: 2023 2063 6174 6368 2061 6e64 2072 652d   # catch and re-
+0000d0b0: 7261 6973 6520 6578 6365 7074 696f 6e20  raise exception 
+0000d0c0: 6672 6f6d 2068 6572 652c 2063 6c65 6172  from here, clear
+0000d0d0: 7320 6f75 7420 7079 7061 7273 696e 6720  s out pyparsing 
+0000d0e0: 696e 7465 726e 616c 2073 7461 636b 2074  internal stack t
+0000d0f0: 7261 6365 0a20 2020 2020 2020 2020 2020  race.           
+0000d100: 2020 2020 2072 6169 7365 2065 7863 2e77       raise exc.w
+0000d110: 6974 685f 7472 6163 6562 6163 6b28 4e6f  ith_traceback(No
+0000d120: 6e65 290a 0a20 2020 2064 6566 2073 706c  ne)..    def spl
+0000d130: 6974 280a 2020 2020 2020 2020 7365 6c66  it(.        self
+0000d140: 2c0a 2020 2020 2020 2020 696e 7374 7269  ,.        instri
+0000d150: 6e67 3a20 7374 722c 0a20 2020 2020 2020  ng: str,.       
+0000d160: 206d 6178 7370 6c69 743a 2069 6e74 203d   maxsplit: int =
+0000d170: 205f 4d41 585f 494e 542c 0a20 2020 2020   _MAX_INT,.     
+0000d180: 2020 2069 6e63 6c75 6465 5f73 6570 6172     include_separ
+0000d190: 6174 6f72 733a 2062 6f6f 6c20 3d20 4661  ators: bool = Fa
+0000d1a0: 6c73 652c 0a20 2020 2020 2020 202a 2c0a  lse,.        *,.
+0000d1b0: 2020 2020 2020 2020 696e 636c 7564 6553          includeS
+0000d1c0: 6570 6172 6174 6f72 733d 4661 6c73 652c  eparators=False,
+0000d1d0: 0a20 2020 2029 202d 3e20 4765 6e65 7261  .    ) -> Genera
+0000d1e0: 746f 725b 7374 722c 204e 6f6e 652c 204e  tor[str, None, N
+0000d1f0: 6f6e 655d 3a0a 2020 2020 2020 2020 2222  one]:.        ""
+0000d200: 220a 2020 2020 2020 2020 4765 6e65 7261  ".        Genera
+0000d210: 746f 7220 6d65 7468 6f64 2074 6f20 7370  tor method to sp
+0000d220: 6c69 7420 6120 7374 7269 6e67 2075 7369  lit a string usi
+0000d230: 6e67 2074 6865 2067 6976 656e 2065 7870  ng the given exp
+0000d240: 7265 7373 696f 6e20 6173 2061 2073 6570  ression as a sep
+0000d250: 6172 6174 6f72 2e0a 2020 2020 2020 2020  arator..        
+0000d260: 4d61 7920 6265 2063 616c 6c65 6420 7769  May be called wi
+0000d270: 7468 206f 7074 696f 6e61 6c20 6060 6d61  th optional ``ma
+0000d280: 7873 706c 6974 6060 2061 7267 756d 656e  xsplit`` argumen
+0000d290: 742c 2074 6f20 6c69 6d69 7420 7468 6520  t, to limit the 
+0000d2a0: 6e75 6d62 6572 206f 6620 7370 6c69 7473  number of splits
+0000d2b0: 3b0a 2020 2020 2020 2020 616e 6420 7468  ;.        and th
+0000d2c0: 6520 6f70 7469 6f6e 616c 2060 6069 6e63  e optional ``inc
+0000d2d0: 6c75 6465 5f73 6570 6172 6174 6f72 7360  lude_separators`
+0000d2e0: 6020 6172 6775 6d65 6e74 2028 6465 6661  ` argument (defa
+0000d2f0: 756c 743d 2060 6046 616c 7365 6060 292c  ult= ``False``),
+0000d300: 2069 6620 7468 6520 7365 7061 7261 7469   if the separati
+0000d310: 6e67 0a20 2020 2020 2020 206d 6174 6368  ng.        match
+0000d320: 696e 6720 7465 7874 2073 686f 756c 6420  ing text should 
+0000d330: 6265 2069 6e63 6c75 6465 6420 696e 2074  be included in t
+0000d340: 6865 2073 706c 6974 2072 6573 756c 7473  he split results
+0000d350: 2e0a 0a20 2020 2020 2020 2045 7861 6d70  ...        Examp
+0000d360: 6c65 3a3a 0a0a 2020 2020 2020 2020 2020  le::..          
+0000d370: 2020 7075 6e63 203d 206f 6e65 5f6f 6628    punc = one_of(
+0000d380: 6c69 7374 2822 2e2c 3b3a 2f2d 213f 2229  list(".,;:/-!?")
+0000d390: 290a 2020 2020 2020 2020 2020 2020 7072  ).            pr
+0000d3a0: 696e 7428 6c69 7374 2870 756e 632e 7370  int(list(punc.sp
+0000d3b0: 6c69 7428 2254 6869 732c 2074 6869 733f  lit("This, this?
+0000d3c0: 2c20 7468 6973 2073 656e 7465 6e63 652c  , this sentence,
+0000d3d0: 2069 7320 6261 646c 7920 7075 6e63 7475   is badly punctu
+0000d3e0: 6174 6564 2122 2929 290a 0a20 2020 2020  ated!")))..     
+0000d3f0: 2020 2070 7269 6e74 733a 3a0a 0a20 2020     prints::..   
+0000d400: 2020 2020 2020 2020 205b 2754 6869 7327           ['This'
+0000d410: 2c20 2720 7468 6973 272c 2027 272c 2027  , ' this', '', '
+0000d420: 2074 6869 7320 7365 6e74 656e 6365 272c   this sentence',
+0000d430: 2027 2069 7320 6261 646c 7920 7075 6e63   ' is badly punc
+0000d440: 7475 6174 6564 272c 2027 275d 0a20 2020  tuated', ''].   
+0000d450: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000d460: 2069 6e63 6c75 6465 5365 7061 7261 746f   includeSeparato
+0000d470: 7273 203d 2069 6e63 6c75 6465 5365 7061  rs = includeSepa
+0000d480: 7261 746f 7273 206f 7220 696e 636c 7564  rators or includ
+0000d490: 655f 7365 7061 7261 746f 7273 0a20 2020  e_separators.   
+0000d4a0: 2020 2020 206c 6173 7420 3d20 300a 2020       last = 0.  
+0000d4b0: 2020 2020 2020 666f 7220 742c 2073 2c20        for t, s, 
+0000d4c0: 6520 696e 2073 656c 662e 7363 616e 5f73  e in self.scan_s
+0000d4d0: 7472 696e 6728 696e 7374 7269 6e67 2c20  tring(instring, 
+0000d4e0: 6d61 785f 6d61 7463 6865 733d 6d61 7873  max_matches=maxs
+0000d4f0: 706c 6974 293a 0a20 2020 2020 2020 2020  plit):.         
+0000d500: 2020 2079 6965 6c64 2069 6e73 7472 696e     yield instrin
+0000d510: 675b 6c61 7374 3a73 5d0a 2020 2020 2020  g[last:s].      
+0000d520: 2020 2020 2020 6966 2069 6e63 6c75 6465        if include
+0000d530: 5365 7061 7261 746f 7273 3a0a 2020 2020  Separators:.    
+0000d540: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
+0000d550: 6420 745b 305d 0a20 2020 2020 2020 2020  d t[0].         
+0000d560: 2020 206c 6173 7420 3d20 650a 2020 2020     last = e.    
+0000d570: 2020 2020 7969 656c 6420 696e 7374 7269      yield instri
+0000d580: 6e67 5b6c 6173 743a 5d0a 0a20 2020 2064  ng[last:]..    d
+0000d590: 6566 205f 5f61 6464 5f5f 2873 656c 662c  ef __add__(self,
+0000d5a0: 206f 7468 6572 2920 2d3e 2022 5061 7273   other) -> "Pars
+0000d5b0: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
+0000d5c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000d5d0: 496d 706c 656d 656e 7461 7469 6f6e 206f  Implementation o
+0000d5e0: 6620 6060 2b60 6020 6f70 6572 6174 6f72  f ``+`` operator
+0000d5f0: 202d 2072 6574 7572 6e73 203a 636c 6173   - returns :clas
+0000d600: 733a 6041 6e64 602e 2041 6464 696e 6720  s:`And`. Adding 
+0000d610: 7374 7269 6e67 7320 746f 2061 203a 636c  strings to a :cl
+0000d620: 6173 733a 6050 6172 7365 7245 6c65 6d65  ass:`ParserEleme
+0000d630: 6e74 600a 2020 2020 2020 2020 636f 6e76  nt`.        conv
+0000d640: 6572 7473 2074 6865 6d20 746f 203a 636c  erts them to :cl
+0000d650: 6173 733a 604c 6974 6572 616c 605c 5c20  ass:`Literal`\\ 
+0000d660: 7320 6279 2064 6566 6175 6c74 2e0a 0a20  s by default... 
+0000d670: 2020 2020 2020 2045 7861 6d70 6c65 3a3a         Example::
+0000d680: 0a0a 2020 2020 2020 2020 2020 2020 6772  ..            gr
+0000d690: 6565 7420 3d20 576f 7264 2861 6c70 6861  eet = Word(alpha
+0000d6a0: 7329 202b 2022 2c22 202b 2057 6f72 6428  s) + "," + Word(
+0000d6b0: 616c 7068 6173 2920 2b20 2221 220a 2020  alphas) + "!".  
+0000d6c0: 2020 2020 2020 2020 2020 6865 6c6c 6f20            hello 
+0000d6d0: 3d20 2248 656c 6c6f 2c20 576f 726c 6421  = "Hello, World!
+0000d6e0: 220a 2020 2020 2020 2020 2020 2020 7072  ".            pr
+0000d6f0: 696e 7428 6865 6c6c 6f2c 2022 2d3e 222c  int(hello, "->",
+0000d700: 2067 7265 6574 2e70 6172 7365 5f73 7472   greet.parse_str
+0000d710: 696e 6728 6865 6c6c 6f29 290a 0a20 2020  ing(hello))..   
+0000d720: 2020 2020 2070 7269 6e74 733a 3a0a 0a20       prints::.. 
+0000d730: 2020 2020 2020 2020 2020 2048 656c 6c6f             Hello
+0000d740: 2c20 576f 726c 6421 202d 3e20 5b27 4865  , World! -> ['He
+0000d750: 6c6c 6f27 2c20 272c 272c 2027 576f 726c  llo', ',', 'Worl
+0000d760: 6427 2c20 2721 275d 0a0a 2020 2020 2020  d', '!']..      
+0000d770: 2020 6060 2e2e 2e60 6020 6d61 7920 6265    ``...`` may be
+0000d780: 2075 7365 6420 6173 2061 2070 6172 7365   used as a parse
+0000d790: 2065 7870 7265 7373 696f 6e20 6173 2061   expression as a
+0000d7a0: 2073 686f 7274 2066 6f72 6d20 6f66 203a   short form of :
+0000d7b0: 636c 6173 733a 6053 6b69 7054 6f60 3a3a  class:`SkipTo`::
+0000d7c0: 0a0a 2020 2020 2020 2020 2020 2020 4c69  ..            Li
+0000d7d0: 7465 7261 6c28 2773 7461 7274 2729 202b  teral('start') +
+0000d7e0: 202e 2e2e 202b 204c 6974 6572 616c 2827   ... + Literal('
+0000d7f0: 656e 6427 290a 0a20 2020 2020 2020 2069  end')..        i
+0000d800: 7320 6571 7569 7661 6c65 6e74 2074 6f3a  s equivalent to:
+0000d810: 3a0a 0a20 2020 2020 2020 2020 2020 204c  :..            L
+0000d820: 6974 6572 616c 2827 7374 6172 7427 2920  iteral('start') 
+0000d830: 2b20 536b 6970 546f 2827 656e 6427 2928  + SkipTo('end')(
+0000d840: 225f 736b 6970 7065 642a 2229 202b 204c  "_skipped*") + L
+0000d850: 6974 6572 616c 2827 656e 6427 290a 0a20  iteral('end').. 
+0000d860: 2020 2020 2020 204e 6f74 6520 7468 6174         Note that
+0000d870: 2074 6865 2073 6b69 7070 6564 2074 6578   the skipped tex
+0000d880: 7420 6973 2072 6574 7572 6e65 6420 7769  t is returned wi
+0000d890: 7468 2027 5f73 6b69 7070 6564 2720 6173  th '_skipped' as
+0000d8a0: 2061 2072 6573 756c 7473 206e 616d 652c   a results name,
+0000d8b0: 0a20 2020 2020 2020 2061 6e64 2074 6f20  .        and to 
+0000d8c0: 7375 7070 6f72 7420 6861 7669 6e67 206d  support having m
+0000d8d0: 756c 7469 706c 6520 736b 6970 7320 696e  ultiple skips in
+0000d8e0: 2074 6865 2073 616d 6520 7061 7273 6572   the same parser
+0000d8f0: 2c20 7468 6520 7661 6c75 6520 7265 7475  , the value retu
+0000d900: 726e 6564 2069 730a 2020 2020 2020 2020  rned is.        
+0000d910: 6120 6c69 7374 206f 6620 616c 6c20 736b  a list of all sk
+0000d920: 6970 7065 6420 7465 7874 2e0a 2020 2020  ipped text..    
+0000d930: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000d940: 6966 206f 7468 6572 2069 7320 456c 6c69  if other is Elli
+0000d950: 7073 6973 3a0a 2020 2020 2020 2020 2020  psis:.          
+0000d960: 2020 7265 7475 726e 205f 5065 6e64 696e    return _Pendin
+0000d970: 6753 6b69 7028 7365 6c66 290a 0a20 2020  gSkip(self)..   
+0000d980: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+0000d990: 6365 286f 7468 6572 2c20 7374 725f 7479  ce(other, str_ty
+0000d9a0: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
+0000d9b0: 206f 7468 6572 203d 2073 656c 662e 5f6c   other = self._l
+0000d9c0: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
+0000d9d0: 7328 6f74 6865 7229 0a20 2020 2020 2020  s(other).       
+0000d9e0: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
+0000d9f0: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
+0000da00: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
+0000da10: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
+0000da20: 496d 706c 656d 656e 7465 640a 2020 2020  Implemented.    
+0000da30: 2020 2020 7265 7475 726e 2041 6e64 285b      return And([
+0000da40: 7365 6c66 2c20 6f74 6865 725d 290a 0a20  self, other]).. 
+0000da50: 2020 2064 6566 205f 5f72 6164 645f 5f28     def __radd__(
+0000da60: 7365 6c66 2c20 6f74 6865 7229 202d 3e20  self, other) -> 
+0000da70: 2250 6172 7365 7245 6c65 6d65 6e74 223a  "ParserElement":
+0000da80: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000da90: 2020 2020 2049 6d70 6c65 6d65 6e74 6174       Implementat
+0000daa0: 696f 6e20 6f66 2060 602b 6060 206f 7065  ion of ``+`` ope
+0000dab0: 7261 746f 7220 7768 656e 206c 6566 7420  rator when left 
+0000dac0: 6f70 6572 616e 6420 6973 206e 6f74 2061  operand is not a
+0000dad0: 203a 636c 6173 733a 6050 6172 7365 7245   :class:`ParserE
+0000dae0: 6c65 6d65 6e74 600a 2020 2020 2020 2020  lement`.        
+0000daf0: 2222 220a 2020 2020 2020 2020 6966 206f  """.        if o
+0000db00: 7468 6572 2069 7320 456c 6c69 7073 6973  ther is Ellipsis
+0000db10: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+0000db20: 7475 726e 2053 6b69 7054 6f28 7365 6c66  turn SkipTo(self
+0000db30: 2928 225f 736b 6970 7065 642a 2229 202b  )("_skipped*") +
+0000db40: 2073 656c 660a 0a20 2020 2020 2020 2069   self..        i
+0000db50: 6620 6973 696e 7374 616e 6365 286f 7468  f isinstance(oth
+0000db60: 6572 2c20 7374 725f 7479 7065 293a 0a20  er, str_type):. 
+0000db70: 2020 2020 2020 2020 2020 206f 7468 6572             other
+0000db80: 203d 2073 656c 662e 5f6c 6974 6572 616c   = self._literal
+0000db90: 5374 7269 6e67 436c 6173 7328 6f74 6865  StringClass(othe
+0000dba0: 7229 0a20 2020 2020 2020 2069 6620 6e6f  r).        if no
+0000dbb0: 7420 6973 696e 7374 616e 6365 286f 7468  t isinstance(oth
+0000dbc0: 6572 2c20 5061 7273 6572 456c 656d 656e  er, ParserElemen
+0000dbd0: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
+0000dbe0: 7265 7475 726e 204e 6f74 496d 706c 656d  return NotImplem
+0000dbf0: 656e 7465 640a 2020 2020 2020 2020 7265  ented.        re
+0000dc00: 7475 726e 206f 7468 6572 202b 2073 656c  turn other + sel
+0000dc10: 660a 0a20 2020 2064 6566 205f 5f73 7562  f..    def __sub
+0000dc20: 5f5f 2873 656c 662c 206f 7468 6572 2920  __(self, other) 
+0000dc30: 2d3e 2022 5061 7273 6572 456c 656d 656e  -> "ParserElemen
+0000dc40: 7422 3a0a 2020 2020 2020 2020 2222 220a  t":.        """.
+0000dc50: 2020 2020 2020 2020 496d 706c 656d 656e          Implemen
+0000dc60: 7461 7469 6f6e 206f 6620 6060 2d60 6020  tation of ``-`` 
+0000dc70: 6f70 6572 6174 6f72 2c20 7265 7475 726e  operator, return
+0000dc80: 7320 3a63 6c61 7373 3a60 416e 6460 2077  s :class:`And` w
+0000dc90: 6974 6820 6572 726f 7220 7374 6f70 0a20  ith error stop. 
+0000dca0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000dcb0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+0000dcc0: 286f 7468 6572 2c20 7374 725f 7479 7065  (other, str_type
+0000dcd0: 293a 0a20 2020 2020 2020 2020 2020 206f  ):.            o
+0000dce0: 7468 6572 203d 2073 656c 662e 5f6c 6974  ther = self._lit
+0000dcf0: 6572 616c 5374 7269 6e67 436c 6173 7328  eralStringClass(
+0000dd00: 6f74 6865 7229 0a20 2020 2020 2020 2069  other).        i
+0000dd10: 6620 6e6f 7420 6973 696e 7374 616e 6365  f not isinstance
+0000dd20: 286f 7468 6572 2c20 5061 7273 6572 456c  (other, ParserEl
+0000dd30: 656d 656e 7429 3a0a 2020 2020 2020 2020  ement):.        
+0000dd40: 2020 2020 7265 7475 726e 204e 6f74 496d      return NotIm
+0000dd50: 706c 656d 656e 7465 640a 2020 2020 2020  plemented.      
+0000dd60: 2020 7265 7475 726e 2073 656c 6620 2b20    return self + 
+0000dd70: 416e 642e 5f45 7272 6f72 5374 6f70 2829  And._ErrorStop()
+0000dd80: 202b 206f 7468 6572 0a0a 2020 2020 6465   + other..    de
+0000dd90: 6620 5f5f 7273 7562 5f5f 2873 656c 662c  f __rsub__(self,
+0000dda0: 206f 7468 6572 2920 2d3e 2022 5061 7273   other) -> "Pars
+0000ddb0: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
+0000ddc0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000ddd0: 496d 706c 656d 656e 7461 7469 6f6e 206f  Implementation o
+0000dde0: 6620 6060 2d60 6020 6f70 6572 6174 6f72  f ``-`` operator
+0000ddf0: 2077 6865 6e20 6c65 6674 206f 7065 7261   when left opera
+0000de00: 6e64 2069 7320 6e6f 7420 6120 3a63 6c61  nd is not a :cla
+0000de10: 7373 3a60 5061 7273 6572 456c 656d 656e  ss:`ParserElemen
+0000de20: 7460 0a20 2020 2020 2020 2022 2222 0a20  t`.        """. 
+0000de30: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
+0000de40: 616e 6365 286f 7468 6572 2c20 7374 725f  ance(other, str_
+0000de50: 7479 7065 293a 0a20 2020 2020 2020 2020  type):.         
+0000de60: 2020 206f 7468 6572 203d 2073 656c 662e     other = self.
+0000de70: 5f6c 6974 6572 616c 5374 7269 6e67 436c  _literalStringCl
+0000de80: 6173 7328 6f74 6865 7229 0a20 2020 2020  ass(other).     
+0000de90: 2020 2069 6620 6e6f 7420 6973 696e 7374     if not isinst
+0000dea0: 616e 6365 286f 7468 6572 2c20 5061 7273  ance(other, Pars
+0000deb0: 6572 456c 656d 656e 7429 3a0a 2020 2020  erElement):.    
+0000dec0: 2020 2020 2020 2020 7265 7475 726e 204e          return N
+0000ded0: 6f74 496d 706c 656d 656e 7465 640a 2020  otImplemented.  
+0000dee0: 2020 2020 2020 7265 7475 726e 206f 7468        return oth
+0000def0: 6572 202d 2073 656c 660a 0a20 2020 2064  er - self..    d
+0000df00: 6566 205f 5f6d 756c 5f5f 2873 656c 662c  ef __mul__(self,
+0000df10: 206f 7468 6572 2920 2d3e 2022 5061 7273   other) -> "Pars
+0000df20: 6572 456c 656d 656e 7422 3a0a 2020 2020  erElement":.    
+0000df30: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000df40: 496d 706c 656d 656e 7461 7469 6f6e 206f  Implementation o
+0000df50: 6620 6060 2a60 6020 6f70 6572 6174 6f72  f ``*`` operator
+0000df60: 2c20 616c 6c6f 7773 2075 7365 206f 6620  , allows use of 
+0000df70: 6060 6578 7072 202a 2033 6060 2069 6e20  ``expr * 3`` in 
+0000df80: 706c 6163 6520 6f66 0a20 2020 2020 2020  place of.       
+0000df90: 2060 6065 7870 7220 2b20 6578 7072 202b   ``expr + expr +
+0000dfa0: 2065 7870 7260 602e 2020 4578 7072 6573   expr``.  Expres
+0000dfb0: 7369 6f6e 7320 6d61 7920 616c 736f 2062  sions may also b
+0000dfc0: 6520 6d75 6c74 6970 6c69 6564 2062 7920  e multiplied by 
+0000dfd0: 6120 322d 696e 7465 6765 720a 2020 2020  a 2-integer.    
+0000dfe0: 2020 2020 7475 706c 652c 2073 696d 696c      tuple, simil
+0000dff0: 6172 2074 6f20 6060 7b6d 696e 2c20 6d61  ar to ``{min, ma
+0000e000: 787d 6060 206d 756c 7469 706c 6965 7273  x}`` multipliers
+0000e010: 2069 6e20 7265 6775 6c61 7220 6578 7072   in regular expr
+0000e020: 6573 7369 6f6e 732e 2020 5475 706c 6573  essions.  Tuples
+0000e030: 0a20 2020 2020 2020 206d 6179 2061 6c73  .        may als
+0000e040: 6f20 696e 636c 7564 6520 6060 4e6f 6e65  o include ``None
+0000e050: 6060 2061 7320 696e 3a0a 0a20 2020 2020  `` as in:..     
+0000e060: 2020 202d 2060 6065 7870 722a 286e 2c20     - ``expr*(n, 
+0000e070: 4e6f 6e65 2960 6020 6f72 2060 6065 7870  None)`` or ``exp
+0000e080: 722a 286e 2c20 2960 6020 6973 2065 7175  r*(n, )`` is equ
+0000e090: 6976 616c 656e 740a 2020 2020 2020 2020  ivalent.        
+0000e0a0: 2020 746f 2060 6065 7870 722a 6e20 2b20    to ``expr*n + 
+0000e0b0: 5a65 726f 4f72 4d6f 7265 2865 7870 7229  ZeroOrMore(expr)
+0000e0c0: 6060 0a20 2020 2020 2020 2020 2028 7265  ``.          (re
+0000e0d0: 6164 2061 7320 2261 7420 6c65 6173 7420  ad as "at least 
+0000e0e0: 6e20 696e 7374 616e 6365 7320 6f66 2060  n instances of `
+0000e0f0: 6065 7870 7260 6022 290a 2020 2020 2020  `expr``").      
+0000e100: 2020 2d20 6060 6578 7072 2a28 4e6f 6e65    - ``expr*(None
+0000e110: 2c20 6e29 6060 2069 7320 6571 7569 7661  , n)`` is equiva
+0000e120: 6c65 6e74 2074 6f20 6060 6578 7072 2a28  lent to ``expr*(
+0000e130: 302c 206e 2960 600a 2020 2020 2020 2020  0, n)``.        
+0000e140: 2020 2872 6561 6420 6173 2022 3020 746f    (read as "0 to
+0000e150: 206e 2069 6e73 7461 6e63 6573 206f 6620   n instances of 
+0000e160: 6060 6578 7072 6060 2229 0a20 2020 2020  ``expr``").     
+0000e170: 2020 202d 2060 6065 7870 722a 284e 6f6e     - ``expr*(Non
+0000e180: 652c 204e 6f6e 6529 6060 2069 7320 6571  e, None)`` is eq
+0000e190: 7569 7661 6c65 6e74 2074 6f20 6060 5a65  uivalent to ``Ze
+0000e1a0: 726f 4f72 4d6f 7265 2865 7870 7229 6060  roOrMore(expr)``
+0000e1b0: 0a20 2020 2020 2020 202d 2060 6065 7870  .        - ``exp
+0000e1c0: 722a 2831 2c20 4e6f 6e65 2960 6020 6973  r*(1, None)`` is
+0000e1d0: 2065 7175 6976 616c 656e 7420 746f 2060   equivalent to `
+0000e1e0: 604f 6e65 4f72 4d6f 7265 2865 7870 7229  `OneOrMore(expr)
+0000e1f0: 6060 0a0a 2020 2020 2020 2020 4e6f 7465  ``..        Note
+0000e200: 2074 6861 7420 6060 6578 7072 2a28 4e6f   that ``expr*(No
+0000e210: 6e65 2c20 6e29 6060 2064 6f65 7320 6e6f  ne, n)`` does no
+0000e220: 7420 7261 6973 6520 616e 2065 7863 6570  t raise an excep
+0000e230: 7469 6f6e 2069 660a 2020 2020 2020 2020  tion if.        
+0000e240: 6d6f 7265 2074 6861 6e20 6e20 6578 7072  more than n expr
+0000e250: 7320 6578 6973 7420 696e 2074 6865 2069  s exist in the i
+0000e260: 6e70 7574 2073 7472 6561 6d3b 2074 6861  nput stream; tha
+0000e270: 7420 6973 2c0a 2020 2020 2020 2020 6060  t is,.        ``
+0000e280: 6578 7072 2a28 4e6f 6e65 2c20 6e29 6060  expr*(None, n)``
+0000e290: 2064 6f65 7320 6e6f 7420 656e 666f 7263   does not enforc
+0000e2a0: 6520 6120 6d61 7869 6d75 6d20 6e75 6d62  e a maximum numb
+0000e2b0: 6572 206f 6620 6578 7072 0a20 2020 2020  er of expr.     
+0000e2c0: 2020 206f 6363 7572 7265 6e63 6573 2e20     occurrences. 
+0000e2d0: 2049 6620 7468 6973 2062 6568 6176 696f   If this behavio
+0000e2e0: 7220 6973 2064 6573 6972 6564 2c20 7468  r is desired, th
+0000e2f0: 656e 2077 7269 7465 0a20 2020 2020 2020  en write.       
+0000e300: 2060 6065 7870 722a 284e 6f6e 652c 206e   ``expr*(None, n
+0000e310: 2920 2b20 7e65 7870 7260 600a 2020 2020  ) + ~expr``.    
+0000e320: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000e330: 6966 206f 7468 6572 2069 7320 456c 6c69  if other is Elli
+0000e340: 7073 6973 3a0a 2020 2020 2020 2020 2020  psis:.          
+0000e350: 2020 6f74 6865 7220 3d20 2830 2c20 4e6f    other = (0, No
+0000e360: 6e65 290a 2020 2020 2020 2020 656c 6966  ne).        elif
+0000e370: 2069 7369 6e73 7461 6e63 6528 6f74 6865   isinstance(othe
+0000e380: 722c 2074 7570 6c65 2920 616e 6420 6f74  r, tuple) and ot
+0000e390: 6865 725b 3a31 5d20 3d3d 2028 456c 6c69  her[:1] == (Elli
+0000e3a0: 7073 6973 2c29 3a0a 2020 2020 2020 2020  psis,):.        
+0000e3b0: 2020 2020 6f74 6865 7220 3d20 2828 302c      other = ((0,
+0000e3c0: 2920 2b20 6f74 6865 725b 313a 5d20 2b20  ) + other[1:] + 
+0000e3d0: 284e 6f6e 652c 2929 5b3a 325d 0a0a 2020  (None,))[:2]..  
+0000e3e0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+0000e3f0: 6e63 6528 6f74 6865 722c 2069 6e74 293a  nce(other, int):
+0000e400: 0a20 2020 2020 2020 2020 2020 206d 696e  .            min
+0000e410: 456c 656d 656e 7473 2c20 6f70 7445 6c65  Elements, optEle
+0000e420: 6d65 6e74 7320 3d20 6f74 6865 722c 2030  ments = other, 0
+0000e430: 0a20 2020 2020 2020 2065 6c69 6620 6973  .        elif is
+0000e440: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
+0000e450: 7475 706c 6529 3a0a 2020 2020 2020 2020  tuple):.        
+0000e460: 2020 2020 6f74 6865 7220 3d20 7475 706c      other = tupl
+0000e470: 6528 6f20 6966 206f 2069 7320 6e6f 7420  e(o if o is not 
+0000e480: 456c 6c69 7073 6973 2065 6c73 6520 4e6f  Ellipsis else No
+0000e490: 6e65 2066 6f72 206f 2069 6e20 6f74 6865  ne for o in othe
+0000e4a0: 7229 0a20 2020 2020 2020 2020 2020 206f  r).            o
+0000e4b0: 7468 6572 203d 2028 6f74 6865 7220 2b20  ther = (other + 
+0000e4c0: 284e 6f6e 652c 204e 6f6e 6529 295b 3a32  (None, None))[:2
+0000e4d0: 5d0a 2020 2020 2020 2020 2020 2020 6966  ].            if
+0000e4e0: 206f 7468 6572 5b30 5d20 6973 204e 6f6e   other[0] is Non
+0000e4f0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0000e500: 2020 206f 7468 6572 203d 2028 302c 206f     other = (0, o
+0000e510: 7468 6572 5b31 5d29 0a20 2020 2020 2020  ther[1]).       
+0000e520: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+0000e530: 6365 286f 7468 6572 5b30 5d2c 2069 6e74  ce(other[0], int
+0000e540: 2920 616e 6420 6f74 6865 725b 315d 2069  ) and other[1] i
+0000e550: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
+0000e560: 2020 2020 2020 2020 6966 206f 7468 6572          if other
+0000e570: 5b30 5d20 3d3d 2030 3a0a 2020 2020 2020  [0] == 0:.      
+0000e580: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0000e590: 7475 726e 205a 6572 6f4f 724d 6f72 6528  turn ZeroOrMore(
+0000e5a0: 7365 6c66 290a 2020 2020 2020 2020 2020  self).          
+0000e5b0: 2020 2020 2020 6966 206f 7468 6572 5b30        if other[0
+0000e5c0: 5d20 3d3d 2031 3a0a 2020 2020 2020 2020  ] == 1:.        
+0000e5d0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0000e5e0: 726e 204f 6e65 4f72 4d6f 7265 2873 656c  rn OneOrMore(sel
+0000e5f0: 6629 0a20 2020 2020 2020 2020 2020 2020  f).             
+0000e600: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0000e610: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+0000e620: 7572 6e20 7365 6c66 202a 206f 7468 6572  urn self * other
+0000e630: 5b30 5d20 2b20 5a65 726f 4f72 4d6f 7265  [0] + ZeroOrMore
+0000e640: 2873 656c 6629 0a20 2020 2020 2020 2020  (self).         
+0000e650: 2020 2065 6c69 6620 6973 696e 7374 616e     elif isinstan
+0000e660: 6365 286f 7468 6572 5b30 5d2c 2069 6e74  ce(other[0], int
+0000e670: 2920 616e 6420 6973 696e 7374 616e 6365  ) and isinstance
+0000e680: 286f 7468 6572 5b31 5d2c 2069 6e74 293a  (other[1], int):
+0000e690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e6a0: 206d 696e 456c 656d 656e 7473 2c20 6f70   minElements, op
+0000e6b0: 7445 6c65 6d65 6e74 7320 3d20 6f74 6865  tElements = othe
+0000e6c0: 720a 2020 2020 2020 2020 2020 2020 2020  r.              
+0000e6d0: 2020 6f70 7445 6c65 6d65 6e74 7320 2d3d    optElements -=
+0000e6e0: 206d 696e 456c 656d 656e 7473 0a20 2020   minElements.   
+0000e6f0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+0000e700: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000e710: 6574 7572 6e20 4e6f 7449 6d70 6c65 6d65  eturn NotImpleme
+0000e720: 6e74 6564 0a20 2020 2020 2020 2065 6c73  nted.        els
+0000e730: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+0000e740: 6574 7572 6e20 4e6f 7449 6d70 6c65 6d65  eturn NotImpleme
+0000e750: 6e74 6564 0a0a 2020 2020 2020 2020 6966  nted..        if
+0000e760: 206d 696e 456c 656d 656e 7473 203c 2030   minElements < 0
+0000e770: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+0000e780: 6973 6520 5661 6c75 6545 7272 6f72 2822  ise ValueError("
+0000e790: 6361 6e6e 6f74 206d 756c 7469 706c 7920  cannot multiply 
+0000e7a0: 5061 7273 6572 456c 656d 656e 7420 6279  ParserElement by
+0000e7b0: 206e 6567 6174 6976 6520 7661 6c75 6522   negative value"
+0000e7c0: 290a 2020 2020 2020 2020 6966 206f 7074  ).        if opt
+0000e7d0: 456c 656d 656e 7473 203c 2030 3a0a 2020  Elements < 0:.  
+0000e7e0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0000e7f0: 5661 6c75 6545 7272 6f72 280a 2020 2020  ValueError(.    
+0000e800: 2020 2020 2020 2020 2020 2020 2273 6563              "sec
+0000e810: 6f6e 6420 7475 706c 6520 7661 6c75 6520  ond tuple value 
+0000e820: 6d75 7374 2062 6520 6772 6561 7465 7220  must be greater 
+0000e830: 6f72 2065 7175 616c 2074 6f20 6669 7273  or equal to firs
+0000e840: 7420 7475 706c 6520 7661 6c75 6522 0a20  t tuple value". 
+0000e850: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+0000e860: 2020 2020 2069 6620 6d69 6e45 6c65 6d65       if minEleme
+0000e870: 6e74 7320 3d3d 206f 7074 456c 656d 656e  nts == optElemen
+0000e880: 7473 203d 3d20 303a 0a20 2020 2020 2020  ts == 0:.       
+0000e890: 2020 2020 2072 6574 7572 6e20 416e 6428       return And(
+0000e8a0: 5b5d 290a 0a20 2020 2020 2020 2069 6620  [])..        if 
+0000e8b0: 6f70 7445 6c65 6d65 6e74 733a 0a0a 2020  optElements:..  
+0000e8c0: 2020 2020 2020 2020 2020 6465 6620 6d61            def ma
+0000e8d0: 6b65 4f70 7469 6f6e 616c 4c69 7374 286e  keOptionalList(n
+0000e8e0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0000e8f0: 2020 2069 6620 6e20 3e20 313a 0a20 2020     if n > 1:.   
+0000e900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e910: 2072 6574 7572 6e20 4f70 7428 7365 6c66   return Opt(self
+0000e920: 202b 206d 616b 654f 7074 696f 6e61 6c4c   + makeOptionalL
+0000e930: 6973 7428 6e20 2d20 3129 290a 2020 2020  ist(n - 1)).    
+0000e940: 2020 2020 2020 2020 2020 2020 656c 7365              else
+0000e950: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000e960: 2020 2020 2020 7265 7475 726e 204f 7074        return Opt
+0000e970: 2873 656c 6629 0a0a 2020 2020 2020 2020  (self)..        
+0000e980: 2020 2020 6966 206d 696e 456c 656d 656e      if minElemen
+0000e990: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
+0000e9a0: 2020 2020 6966 206d 696e 456c 656d 656e      if minElemen
+0000e9b0: 7473 203d 3d20 313a 0a20 2020 2020 2020  ts == 1:.       
+0000e9c0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+0000e9d0: 203d 2073 656c 6620 2b20 6d61 6b65 4f70   = self + makeOp
+0000e9e0: 7469 6f6e 616c 4c69 7374 286f 7074 456c  tionalList(optEl
+0000e9f0: 656d 656e 7473 290a 2020 2020 2020 2020  ements).        
+0000ea00: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0000ea10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ea20: 2020 7265 7420 3d20 416e 6428 5b73 656c    ret = And([sel
+0000ea30: 665d 202a 206d 696e 456c 656d 656e 7473  f] * minElements
+0000ea40: 2920 2b20 6d61 6b65 4f70 7469 6f6e 616c  ) + makeOptional
+0000ea50: 4c69 7374 286f 7074 456c 656d 656e 7473  List(optElements
+0000ea60: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
+0000ea70: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0000ea80: 2020 2020 7265 7420 3d20 6d61 6b65 4f70      ret = makeOp
+0000ea90: 7469 6f6e 616c 4c69 7374 286f 7074 456c  tionalList(optEl
+0000eaa0: 656d 656e 7473 290a 2020 2020 2020 2020  ements).        
+0000eab0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0000eac0: 2020 6966 206d 696e 456c 656d 656e 7473    if minElements
+0000ead0: 203d 3d20 313a 0a20 2020 2020 2020 2020   == 1:.         
+0000eae0: 2020 2020 2020 2072 6574 203d 2073 656c         ret = sel
+0000eaf0: 660a 2020 2020 2020 2020 2020 2020 656c  f.            el
+0000eb00: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0000eb10: 2020 2020 7265 7420 3d20 416e 6428 5b73      ret = And([s
+0000eb20: 656c 665d 202a 206d 696e 456c 656d 656e  elf] * minElemen
+0000eb30: 7473 290a 2020 2020 2020 2020 7265 7475  ts).        retu
+0000eb40: 726e 2072 6574 0a0a 2020 2020 6465 6620  rn ret..    def 
+0000eb50: 5f5f 726d 756c 5f5f 2873 656c 662c 206f  __rmul__(self, o
+0000eb60: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
+0000eb70: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
+0000eb80: 2020 7265 7475 726e 2073 656c 662e 5f5f    return self.__
+0000eb90: 6d75 6c5f 5f28 6f74 6865 7229 0a0a 2020  mul__(other)..  
+0000eba0: 2020 6465 6620 5f5f 6f72 5f5f 2873 656c    def __or__(sel
+0000ebb0: 662c 206f 7468 6572 2920 2d3e 2022 5061  f, other) -> "Pa
+0000ebc0: 7273 6572 456c 656d 656e 7422 3a0a 2020  rserElement":.  
+0000ebd0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000ebe0: 2020 496d 706c 656d 656e 7461 7469 6f6e    Implementation
+0000ebf0: 206f 6620 6060 7c60 6020 6f70 6572 6174   of ``|`` operat
+0000ec00: 6f72 202d 2072 6574 7572 6e73 203a 636c  or - returns :cl
+0000ec10: 6173 733a 604d 6174 6368 4669 7273 7460  ass:`MatchFirst`
+0000ec20: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000ec30: 2020 2020 2069 6620 6f74 6865 7220 6973       if other is
+0000ec40: 2045 6c6c 6970 7369 733a 0a20 2020 2020   Ellipsis:.     
+0000ec50: 2020 2020 2020 2072 6574 7572 6e20 5f50         return _P
+0000ec60: 656e 6469 6e67 536b 6970 2873 656c 662c  endingSkip(self,
+0000ec70: 206d 7573 745f 736b 6970 3d54 7275 6529   must_skip=True)
+0000ec80: 0a0a 2020 2020 2020 2020 6966 2069 7369  ..        if isi
+0000ec90: 6e73 7461 6e63 6528 6f74 6865 722c 2073  nstance(other, s
+0000eca0: 7472 5f74 7970 6529 3a0a 2020 2020 2020  tr_type):.      
+0000ecb0: 2020 2020 2020 2320 6065 7870 7220 7c20        # `expr | 
+0000ecc0: 2222 6020 6973 2065 7175 6976 616c 656e  ""` is equivalen
+0000ecd0: 7420 746f 2060 4f70 7428 6578 7072 2960  t to `Opt(expr)`
+0000ece0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0000ecf0: 6f74 6865 7220 3d3d 2022 223a 0a20 2020  other == "":.   
+0000ed00: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+0000ed10: 7572 6e20 4f70 7428 7365 6c66 290a 2020  urn Opt(self).  
+0000ed20: 2020 2020 2020 2020 2020 6f74 6865 7220            other 
+0000ed30: 3d20 7365 6c66 2e5f 6c69 7465 7261 6c53  = self._literalS
+0000ed40: 7472 696e 6743 6c61 7373 286f 7468 6572  tringClass(other
+0000ed50: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
+0000ed60: 2069 7369 6e73 7461 6e63 6528 6f74 6865   isinstance(othe
+0000ed70: 722c 2050 6172 7365 7245 6c65 6d65 6e74  r, ParserElement
+0000ed80: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
+0000ed90: 6574 7572 6e20 4e6f 7449 6d70 6c65 6d65  eturn NotImpleme
+0000eda0: 6e74 6564 0a20 2020 2020 2020 2072 6574  nted.        ret
+0000edb0: 7572 6e20 4d61 7463 6846 6972 7374 285b  urn MatchFirst([
+0000edc0: 7365 6c66 2c20 6f74 6865 725d 290a 0a20  self, other]).. 
+0000edd0: 2020 2064 6566 205f 5f72 6f72 5f5f 2873     def __ror__(s
+0000ede0: 656c 662c 206f 7468 6572 2920 2d3e 2022  elf, other) -> "
+0000edf0: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
+0000ee00: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000ee10: 2020 2020 496d 706c 656d 656e 7461 7469      Implementati
+0000ee20: 6f6e 206f 6620 6060 7c60 6020 6f70 6572  on of ``|`` oper
+0000ee30: 6174 6f72 2077 6865 6e20 6c65 6674 206f  ator when left o
+0000ee40: 7065 7261 6e64 2069 7320 6e6f 7420 6120  perand is not a 
+0000ee50: 3a63 6c61 7373 3a60 5061 7273 6572 456c  :class:`ParserEl
+0000ee60: 656d 656e 7460 0a20 2020 2020 2020 2022  ement`.        "
+0000ee70: 2222 0a20 2020 2020 2020 2069 6620 6973  "".        if is
+0000ee80: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
+0000ee90: 7374 725f 7479 7065 293a 0a20 2020 2020  str_type):.     
+0000eea0: 2020 2020 2020 206f 7468 6572 203d 2073         other = s
+0000eeb0: 656c 662e 5f6c 6974 6572 616c 5374 7269  elf._literalStri
+0000eec0: 6e67 436c 6173 7328 6f74 6865 7229 0a20  ngClass(other). 
+0000eed0: 2020 2020 2020 2069 6620 6e6f 7420 6973         if not is
+0000eee0: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
+0000eef0: 5061 7273 6572 456c 656d 656e 7429 3a0a  ParserElement):.
+0000ef00: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0000ef10: 726e 204e 6f74 496d 706c 656d 656e 7465  rn NotImplemente
+0000ef20: 640a 2020 2020 2020 2020 7265 7475 726e  d.        return
+0000ef30: 206f 7468 6572 207c 2073 656c 660a 0a20   other | self.. 
+0000ef40: 2020 2064 6566 205f 5f78 6f72 5f5f 2873     def __xor__(s
+0000ef50: 656c 662c 206f 7468 6572 2920 2d3e 2022  elf, other) -> "
+0000ef60: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
+0000ef70: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000ef80: 2020 2020 496d 706c 656d 656e 7461 7469      Implementati
+0000ef90: 6f6e 206f 6620 6060 5e60 6020 6f70 6572  on of ``^`` oper
+0000efa0: 6174 6f72 202d 2072 6574 7572 6e73 203a  ator - returns :
+0000efb0: 636c 6173 733a 604f 7260 0a20 2020 2020  class:`Or`.     
+0000efc0: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
+0000efd0: 6620 6973 696e 7374 616e 6365 286f 7468  f isinstance(oth
+0000efe0: 6572 2c20 7374 725f 7479 7065 293a 0a20  er, str_type):. 
+0000eff0: 2020 2020 2020 2020 2020 206f 7468 6572             other
+0000f000: 203d 2073 656c 662e 5f6c 6974 6572 616c   = self._literal
+0000f010: 5374 7269 6e67 436c 6173 7328 6f74 6865  StringClass(othe
+0000f020: 7229 0a20 2020 2020 2020 2069 6620 6e6f  r).        if no
+0000f030: 7420 6973 696e 7374 616e 6365 286f 7468  t isinstance(oth
+0000f040: 6572 2c20 5061 7273 6572 456c 656d 656e  er, ParserElemen
+0000f050: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
+0000f060: 7265 7475 726e 204e 6f74 496d 706c 656d  return NotImplem
+0000f070: 656e 7465 640a 2020 2020 2020 2020 7265  ented.        re
+0000f080: 7475 726e 204f 7228 5b73 656c 662c 206f  turn Or([self, o
+0000f090: 7468 6572 5d29 0a0a 2020 2020 6465 6620  ther])..    def 
+0000f0a0: 5f5f 7278 6f72 5f5f 2873 656c 662c 206f  __rxor__(self, o
+0000f0b0: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
+0000f0c0: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
+0000f0d0: 2020 2222 220a 2020 2020 2020 2020 496d    """.        Im
+0000f0e0: 706c 656d 656e 7461 7469 6f6e 206f 6620  plementation of 
+0000f0f0: 6060 5e60 6020 6f70 6572 6174 6f72 2077  ``^`` operator w
+0000f100: 6865 6e20 6c65 6674 206f 7065 7261 6e64  hen left operand
+0000f110: 2069 7320 6e6f 7420 6120 3a63 6c61 7373   is not a :class
+0000f120: 3a60 5061 7273 6572 456c 656d 656e 7460  :`ParserElement`
+0000f130: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000f140: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+0000f150: 6365 286f 7468 6572 2c20 7374 725f 7479  ce(other, str_ty
+0000f160: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
+0000f170: 206f 7468 6572 203d 2073 656c 662e 5f6c   other = self._l
+0000f180: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
+0000f190: 7328 6f74 6865 7229 0a20 2020 2020 2020  s(other).       
+0000f1a0: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
+0000f1b0: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
+0000f1c0: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
+0000f1d0: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
+0000f1e0: 496d 706c 656d 656e 7465 640a 2020 2020  Implemented.    
+0000f1f0: 2020 2020 7265 7475 726e 206f 7468 6572      return other
+0000f200: 205e 2073 656c 660a 0a20 2020 2064 6566   ^ self..    def
+0000f210: 205f 5f61 6e64 5f5f 2873 656c 662c 206f   __and__(self, o
+0000f220: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
+0000f230: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
+0000f240: 2020 2222 220a 2020 2020 2020 2020 496d    """.        Im
+0000f250: 706c 656d 656e 7461 7469 6f6e 206f 6620  plementation of 
+0000f260: 6060 2660 6020 6f70 6572 6174 6f72 202d  ``&`` operator -
+0000f270: 2072 6574 7572 6e73 203a 636c 6173 733a   returns :class:
+0000f280: 6045 6163 6860 0a20 2020 2020 2020 2022  `Each`.        "
+0000f290: 2222 0a20 2020 2020 2020 2069 6620 6973  "".        if is
+0000f2a0: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
+0000f2b0: 7374 725f 7479 7065 293a 0a20 2020 2020  str_type):.     
+0000f2c0: 2020 2020 2020 206f 7468 6572 203d 2073         other = s
+0000f2d0: 656c 662e 5f6c 6974 6572 616c 5374 7269  elf._literalStri
+0000f2e0: 6e67 436c 6173 7328 6f74 6865 7229 0a20  ngClass(other). 
+0000f2f0: 2020 2020 2020 2069 6620 6e6f 7420 6973         if not is
+0000f300: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
+0000f310: 5061 7273 6572 456c 656d 656e 7429 3a0a  ParserElement):.
+0000f320: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0000f330: 726e 204e 6f74 496d 706c 656d 656e 7465  rn NotImplemente
+0000f340: 640a 2020 2020 2020 2020 7265 7475 726e  d.        return
+0000f350: 2045 6163 6828 5b73 656c 662c 206f 7468   Each([self, oth
+0000f360: 6572 5d29 0a0a 2020 2020 6465 6620 5f5f  er])..    def __
+0000f370: 7261 6e64 5f5f 2873 656c 662c 206f 7468  rand__(self, oth
+0000f380: 6572 2920 2d3e 2022 5061 7273 6572 456c  er) -> "ParserEl
+0000f390: 656d 656e 7422 3a0a 2020 2020 2020 2020  ement":.        
+0000f3a0: 2222 220a 2020 2020 2020 2020 496d 706c  """.        Impl
+0000f3b0: 656d 656e 7461 7469 6f6e 206f 6620 6060  ementation of ``
+0000f3c0: 2660 6020 6f70 6572 6174 6f72 2077 6865  &`` operator whe
+0000f3d0: 6e20 6c65 6674 206f 7065 7261 6e64 2069  n left operand i
+0000f3e0: 7320 6e6f 7420 6120 3a63 6c61 7373 3a60  s not a :class:`
+0000f3f0: 5061 7273 6572 456c 656d 656e 7460 0a20  ParserElement`. 
+0000f400: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000f410: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+0000f420: 286f 7468 6572 2c20 7374 725f 7479 7065  (other, str_type
+0000f430: 293a 0a20 2020 2020 2020 2020 2020 206f  ):.            o
+0000f440: 7468 6572 203d 2073 656c 662e 5f6c 6974  ther = self._lit
+0000f450: 6572 616c 5374 7269 6e67 436c 6173 7328  eralStringClass(
+0000f460: 6f74 6865 7229 0a20 2020 2020 2020 2069  other).        i
+0000f470: 6620 6e6f 7420 6973 696e 7374 616e 6365  f not isinstance
+0000f480: 286f 7468 6572 2c20 5061 7273 6572 456c  (other, ParserEl
+0000f490: 656d 656e 7429 3a0a 2020 2020 2020 2020  ement):.        
+0000f4a0: 2020 2020 7265 7475 726e 204e 6f74 496d      return NotIm
+0000f4b0: 706c 656d 656e 7465 640a 2020 2020 2020  plemented.      
+0000f4c0: 2020 7265 7475 726e 206f 7468 6572 2026    return other &
+0000f4d0: 2073 656c 660a 0a20 2020 2064 6566 205f   self..    def _
+0000f4e0: 5f69 6e76 6572 745f 5f28 7365 6c66 2920  _invert__(self) 
+0000f4f0: 2d3e 2022 5061 7273 6572 456c 656d 656e  -> "ParserElemen
+0000f500: 7422 3a0a 2020 2020 2020 2020 2222 220a  t":.        """.
+0000f510: 2020 2020 2020 2020 496d 706c 656d 656e          Implemen
+0000f520: 7461 7469 6f6e 206f 6620 6060 7e60 6020  tation of ``~`` 
+0000f530: 6f70 6572 6174 6f72 202d 2072 6574 7572  operator - retur
+0000f540: 6e73 203a 636c 6173 733a 604e 6f74 416e  ns :class:`NotAn
+0000f550: 7960 0a20 2020 2020 2020 2022 2222 0a20  y`.        """. 
+0000f560: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
+0000f570: 7441 6e79 2873 656c 6629 0a0a 2020 2020  tAny(self)..    
+0000f580: 2320 6469 7361 626c 6520 5f5f 6974 6572  # disable __iter
+0000f590: 5f5f 2074 6f20 6f76 6572 7269 6465 206c  __ to override l
+0000f5a0: 6567 6163 7920 7573 6520 6f66 2073 6571  egacy use of seq
+0000f5b0: 7565 6e74 6961 6c20 6163 6365 7373 2074  uential access t
+0000f5c0: 6f20 5f5f 6765 7469 7465 6d5f 5f20 746f  o __getitem__ to
+0000f5d0: 0a20 2020 2023 2069 7465 7261 7465 206f  .    # iterate o
+0000f5e0: 7665 7220 6120 7365 7175 656e 6365 0a20  ver a sequence. 
+0000f5f0: 2020 205f 5f69 7465 725f 5f20 3d20 4e6f     __iter__ = No
+0000f600: 6e65 0a0a 2020 2020 6465 6620 5f5f 6765  ne..    def __ge
+0000f610: 7469 7465 6d5f 5f28 7365 6c66 2c20 6b65  titem__(self, ke
+0000f620: 7929 3a0a 2020 2020 2020 2020 2222 220a  y):.        """.
+0000f630: 2020 2020 2020 2020 7573 6520 6060 5b5d          use ``[]
+0000f640: 6060 2069 6e64 6578 696e 6720 6e6f 7461  `` indexing nota
+0000f650: 7469 6f6e 2061 7320 6120 7368 6f72 7420  tion as a short 
+0000f660: 666f 726d 2066 6f72 2065 7870 7265 7373  form for express
+0000f670: 696f 6e20 7265 7065 7469 7469 6f6e 3a0a  ion repetition:.
+0000f680: 0a20 2020 2020 2020 202d 2060 6065 7870  .        - ``exp
+0000f690: 725b 6e5d 6060 2069 7320 6571 7569 7661  r[n]`` is equiva
+0000f6a0: 6c65 6e74 2074 6f20 6060 6578 7072 2a6e  lent to ``expr*n
+0000f6b0: 6060 0a20 2020 2020 2020 202d 2060 6065  ``.        - ``e
+0000f6c0: 7870 725b 6d2c 206e 5d60 6020 6973 2065  xpr[m, n]`` is e
+0000f6d0: 7175 6976 616c 656e 7420 746f 2060 6065  quivalent to ``e
+0000f6e0: 7870 722a 286d 2c20 6e29 6060 0a20 2020  xpr*(m, n)``.   
+0000f6f0: 2020 2020 202d 2060 6065 7870 725b 6e2c       - ``expr[n,
+0000f700: 202e 2e2e 5d60 6020 6f72 2060 6065 7870   ...]`` or ``exp
+0000f710: 725b 6e2c 5d60 6020 6973 2065 7175 6976  r[n,]`` is equiv
+0000f720: 616c 656e 740a 2020 2020 2020 2020 2020  alent.          
+0000f730: 2020 2074 6f20 6060 6578 7072 2a6e 202b     to ``expr*n +
+0000f740: 205a 6572 6f4f 724d 6f72 6528 6578 7072   ZeroOrMore(expr
+0000f750: 2960 600a 2020 2020 2020 2020 2020 2020  )``.            
+0000f760: 2028 7265 6164 2061 7320 2261 7420 6c65   (read as "at le
+0000f770: 6173 7420 6e20 696e 7374 616e 6365 7320  ast n instances 
+0000f780: 6f66 2060 6065 7870 7260 6022 290a 2020  of ``expr``").  
+0000f790: 2020 2020 2020 2d20 6060 6578 7072 5b2e        - ``expr[.
+0000f7a0: 2e2e 2c20 6e5d 6060 2069 7320 6571 7569  .., n]`` is equi
+0000f7b0: 7661 6c65 6e74 2074 6f20 6060 6578 7072  valent to ``expr
+0000f7c0: 2a28 302c 206e 2960 600a 2020 2020 2020  *(0, n)``.      
+0000f7d0: 2020 2020 2020 2028 7265 6164 2061 7320         (read as 
+0000f7e0: 2230 2074 6f20 6e20 696e 7374 616e 6365  "0 to n instance
+0000f7f0: 7320 6f66 2060 6065 7870 7260 6022 290a  s of ``expr``").
+0000f800: 2020 2020 2020 2020 2d20 6060 6578 7072          - ``expr
+0000f810: 5b2e 2e2e 5d60 6020 616e 6420 6060 6578  [...]`` and ``ex
+0000f820: 7072 5b30 2c20 2e2e 2e5d 6060 2061 7265  pr[0, ...]`` are
+0000f830: 2065 7175 6976 616c 656e 7420 746f 2060   equivalent to `
+0000f840: 605a 6572 6f4f 724d 6f72 6528 6578 7072  `ZeroOrMore(expr
+0000f850: 2960 600a 2020 2020 2020 2020 2d20 6060  )``.        - ``
+0000f860: 6578 7072 5b31 2c20 2e2e 2e5d 6060 2069  expr[1, ...]`` i
+0000f870: 7320 6571 7569 7661 6c65 6e74 2074 6f20  s equivalent to 
+0000f880: 6060 4f6e 654f 724d 6f72 6528 6578 7072  ``OneOrMore(expr
+0000f890: 2960 600a 0a20 2020 2020 2020 2060 604e  )``..        ``N
+0000f8a0: 6f6e 6560 6020 6d61 7920 6265 2075 7365  one`` may be use
+0000f8b0: 6420 696e 2070 6c61 6365 206f 6620 6060  d in place of ``
+0000f8c0: 2e2e 2e60 602e 0a0a 2020 2020 2020 2020  ...``...        
+0000f8d0: 4e6f 7465 2074 6861 7420 6060 6578 7072  Note that ``expr
+0000f8e0: 5b2e 2e2e 2c20 6e5d 6060 2061 6e64 2060  [..., n]`` and `
+0000f8f0: 6065 7870 725b 6d2c 206e 5d60 6020 646f  `expr[m, n]`` do
+0000f900: 206e 6f74 2072 6169 7365 2061 6e20 6578   not raise an ex
+0000f910: 6365 7074 696f 6e0a 2020 2020 2020 2020  ception.        
+0000f920: 6966 206d 6f72 6520 7468 616e 2060 606e  if more than ``n
+0000f930: 6060 2060 6065 7870 7260 605c 5c20 7320  `` ``expr``\\ s 
+0000f940: 6578 6973 7420 696e 2074 6865 2069 6e70  exist in the inp
+0000f950: 7574 2073 7472 6561 6d2e 2020 4966 2074  ut stream.  If t
+0000f960: 6869 7320 6265 6861 7669 6f72 2069 730a  his behavior is.
+0000f970: 2020 2020 2020 2020 6465 7369 7265 642c          desired,
+0000f980: 2074 6865 6e20 7772 6974 6520 6060 6578   then write ``ex
+0000f990: 7072 5b2e 2e2e 2c20 6e5d 202b 207e 6578  pr[..., n] + ~ex
+0000f9a0: 7072 6060 2e0a 0a20 2020 2020 2020 2046  pr``...        F
+0000f9b0: 6f72 2072 6570 6574 6974 696f 6e20 7769  or repetition wi
+0000f9c0: 7468 2061 2073 746f 705f 6f6e 2065 7870  th a stop_on exp
+0000f9d0: 7265 7373 696f 6e2c 2075 7365 2073 6c69  ression, use sli
+0000f9e0: 6365 206e 6f74 6174 696f 6e3a 0a0a 2020  ce notation:..  
+0000f9f0: 2020 2020 2020 2d20 6060 6578 7072 5b2e        - ``expr[.
+0000fa00: 2e2e 3a20 656e 645f 6578 7072 5d60 6020  ..: end_expr]`` 
+0000fa10: 616e 6420 6060 6578 7072 5b30 2c20 2e2e  and ``expr[0, ..
+0000fa20: 2e3a 2065 6e64 5f65 7870 725d 6060 2061  .: end_expr]`` a
+0000fa30: 7265 2065 7175 6976 616c 656e 7420 746f  re equivalent to
+0000fa40: 2060 605a 6572 6f4f 724d 6f72 6528 6578   ``ZeroOrMore(ex
+0000fa50: 7072 2c20 7374 6f70 5f6f 6e3d 656e 645f  pr, stop_on=end_
+0000fa60: 6578 7072 2960 600a 2020 2020 2020 2020  expr)``.        
+0000fa70: 2d20 6060 6578 7072 5b31 2c20 2e2e 2e3a  - ``expr[1, ...:
+0000fa80: 2065 6e64 5f65 7870 725d 6060 2069 7320   end_expr]`` is 
+0000fa90: 6571 7569 7661 6c65 6e74 2074 6f20 6060  equivalent to ``
+0000faa0: 4f6e 654f 724d 6f72 6528 6578 7072 2c20  OneOrMore(expr, 
+0000fab0: 7374 6f70 5f6f 6e3d 656e 645f 6578 7072  stop_on=end_expr
+0000fac0: 2960 600a 0a20 2020 2020 2020 2022 2222  )``..        """
+0000fad0: 0a0a 2020 2020 2020 2020 7374 6f70 5f6f  ..        stop_o
+0000fae0: 6e5f 6465 6669 6e65 6420 3d20 4661 6c73  n_defined = Fals
+0000faf0: 650a 2020 2020 2020 2020 7374 6f70 5f6f  e.        stop_o
+0000fb00: 6e20 3d20 4e6f 4d61 7463 6828 290a 2020  n = NoMatch().  
+0000fb10: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+0000fb20: 6e63 6528 6b65 792c 2073 6c69 6365 293a  nce(key, slice):
+0000fb30: 0a20 2020 2020 2020 2020 2020 206b 6579  .            key
+0000fb40: 2c20 7374 6f70 5f6f 6e20 3d20 6b65 792e  , stop_on = key.
+0000fb50: 7374 6172 742c 206b 6579 2e73 746f 700a  start, key.stop.
+0000fb60: 2020 2020 2020 2020 2020 2020 6966 206b              if k
+0000fb70: 6579 2069 7320 4e6f 6e65 3a0a 2020 2020  ey is None:.    
+0000fb80: 2020 2020 2020 2020 2020 2020 6b65 7920              key 
+0000fb90: 3d20 2e2e 2e0a 2020 2020 2020 2020 2020  = ....          
+0000fba0: 2020 7374 6f70 5f6f 6e5f 6465 6669 6e65    stop_on_define
+0000fbb0: 6420 3d20 5472 7565 0a20 2020 2020 2020  d = True.       
+0000fbc0: 2065 6c69 6620 6973 696e 7374 616e 6365   elif isinstance
+0000fbd0: 286b 6579 2c20 7475 706c 6529 2061 6e64  (key, tuple) and
+0000fbe0: 2069 7369 6e73 7461 6e63 6528 6b65 795b   isinstance(key[
+0000fbf0: 2d31 5d2c 2073 6c69 6365 293a 0a20 2020  -1], slice):.   
+0000fc00: 2020 2020 2020 2020 206b 6579 2c20 7374           key, st
+0000fc10: 6f70 5f6f 6e20 3d20 286b 6579 5b30 5d2c  op_on = (key[0],
+0000fc20: 206b 6579 5b31 5d2e 7374 6172 7429 2c20   key[1].start), 
+0000fc30: 6b65 795b 315d 2e73 746f 700a 2020 2020  key[1].stop.    
+0000fc40: 2020 2020 2020 2020 7374 6f70 5f6f 6e5f          stop_on_
+0000fc50: 6465 6669 6e65 6420 3d20 5472 7565 0a0a  defined = True..
+0000fc60: 2020 2020 2020 2020 2320 636f 6e76 6572          # conver
+0000fc70: 7420 7369 6e67 6c65 2061 7267 206b 6579  t single arg key
+0000fc80: 7320 746f 2074 7570 6c65 730a 2020 2020  s to tuples.    
+0000fc90: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
+0000fca0: 6528 6b65 792c 2073 7472 5f74 7970 6529  e(key, str_type)
+0000fcb0: 3a0a 2020 2020 2020 2020 2020 2020 6b65  :.            ke
+0000fcc0: 7920 3d20 286b 6579 2c29 0a20 2020 2020  y = (key,).     
+0000fcd0: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+0000fce0: 2020 2020 6974 6572 286b 6579 290a 2020      iter(key).  
+0000fcf0: 2020 2020 2020 6578 6365 7074 2054 7970        except Typ
+0000fd00: 6545 7272 6f72 3a0a 2020 2020 2020 2020  eError:.        
+0000fd10: 2020 2020 6b65 7920 3d20 286b 6579 2c20      key = (key, 
+0000fd20: 6b65 7929 0a0a 2020 2020 2020 2020 6966  key)..        if
+0000fd30: 206c 656e 286b 6579 2920 3e20 323a 0a20   len(key) > 2:. 
+0000fd40: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0000fd50: 2054 7970 6545 7272 6f72 280a 2020 2020   TypeError(.    
+0000fd60: 2020 2020 2020 2020 2020 2020 6622 6f6e              f"on
+0000fd70: 6c79 2031 206f 7220 3220 696e 6465 7820  ly 1 or 2 index 
+0000fd80: 6172 6775 6d65 6e74 7320 7375 7070 6f72  arguments suppor
+0000fd90: 7465 6420 287b 6b65 795b 3a35 5d7d 7b66  ted ({key[:5]}{f
+0000fda0: 272e 2e2e 205b 7b6c 656e 286b 6579 297d  '... [{len(key)}
+0000fdb0: 5d27 2069 6620 6c65 6e28 6b65 7929 203e  ]' if len(key) >
+0000fdc0: 2035 2065 6c73 6520 2727 7d29 220a 2020   5 else ''})".  
+0000fdd0: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
+0000fde0: 2020 2020 2023 2063 6c69 7020 746f 2032       # clip to 2
+0000fdf0: 2065 6c65 6d65 6e74 730a 2020 2020 2020   elements.      
+0000fe00: 2020 7265 7420 3d20 7365 6c66 202a 2074    ret = self * t
+0000fe10: 7570 6c65 286b 6579 5b3a 325d 290a 2020  uple(key[:2]).  
+0000fe20: 2020 2020 2020 7265 7420 3d20 7479 7069        ret = typi
+0000fe30: 6e67 2e63 6173 7428 5f4d 756c 7469 706c  ng.cast(_Multipl
+0000fe40: 654d 6174 6368 2c20 7265 7429 0a0a 2020  eMatch, ret)..  
+0000fe50: 2020 2020 2020 6966 2073 746f 705f 6f6e        if stop_on
+0000fe60: 5f64 6566 696e 6564 3a0a 2020 2020 2020  _defined:.      
+0000fe70: 2020 2020 2020 7265 742e 7374 6f70 4f6e        ret.stopOn
+0000fe80: 2873 746f 705f 6f6e 290a 0a20 2020 2020  (stop_on)..     
+0000fe90: 2020 2072 6574 7572 6e20 7265 740a 0a20     return ret.. 
+0000fea0: 2020 2064 6566 205f 5f63 616c 6c5f 5f28     def __call__(
+0000feb0: 7365 6c66 2c20 6e61 6d65 3a20 7479 7069  self, name: typi
+0000fec0: 6e67 2e4f 7074 696f 6e61 6c5b 7374 725d  ng.Optional[str]
+0000fed0: 203d 204e 6f6e 6529 202d 3e20 2250 6172   = None) -> "Par
+0000fee0: 7365 7245 6c65 6d65 6e74 223a 0a20 2020  serElement":.   
+0000fef0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000ff00: 2053 686f 7274 6375 7420 666f 7220 3a63   Shortcut for :c
+0000ff10: 6c61 7373 3a60 7365 745f 7265 7375 6c74  lass:`set_result
+0000ff20: 735f 6e61 6d65 602c 2077 6974 6820 6060  s_name`, with ``
+0000ff30: 6c69 7374 5f61 6c6c 5f6d 6174 6368 6573  list_all_matches
+0000ff40: 3d46 616c 7365 6060 2e0a 0a20 2020 2020  =False``...     
+0000ff50: 2020 2049 6620 6060 6e61 6d65 6060 2069     If ``name`` i
+0000ff60: 7320 6769 7665 6e20 7769 7468 2061 2074  s given with a t
+0000ff70: 7261 696c 696e 6720 6060 272a 2760 6020  railing ``'*'`` 
+0000ff80: 6368 6172 6163 7465 722c 2074 6865 6e20  character, then 
+0000ff90: 6060 6c69 7374 5f61 6c6c 5f6d 6174 6368  ``list_all_match
+0000ffa0: 6573 6060 2077 696c 6c20 6265 0a20 2020  es`` will be.   
+0000ffb0: 2020 2020 2070 6173 7365 6420 6173 2060       passed as `
+0000ffc0: 6054 7275 6560 602e 0a0a 2020 2020 2020  `True``...      
+0000ffd0: 2020 4966 2060 606e 616d 6560 6020 6973    If ``name`` is
+0000ffe0: 206f 6d69 7474 6564 2c20 7361 6d65 2061   omitted, same a
+0000fff0: 7320 6361 6c6c 696e 6720 3a63 6c61 7373  s calling :class
+00010000: 3a60 636f 7079 602e 0a0a 2020 2020 2020  :`copy`...      
+00010010: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
+00010020: 2020 2020 2020 2020 2023 2074 6865 7365           # these
+00010030: 2061 7265 2065 7175 6976 616c 656e 740a   are equivalent.
+00010040: 2020 2020 2020 2020 2020 2020 7573 6572              user
+00010050: 6461 7461 203d 2057 6f72 6428 616c 7068  data = Word(alph
+00010060: 6173 292e 7365 745f 7265 7375 6c74 735f  as).set_results_
+00010070: 6e61 6d65 2822 6e61 6d65 2229 202b 2057  name("name") + W
+00010080: 6f72 6428 6e75 6d73 202b 2022 2d22 292e  ord(nums + "-").
+00010090: 7365 745f 7265 7375 6c74 735f 6e61 6d65  set_results_name
+000100a0: 2822 736f 6373 6563 6e6f 2229 0a20 2020  ("socsecno").   
+000100b0: 2020 2020 2020 2020 2075 7365 7264 6174           userdat
+000100c0: 6120 3d20 576f 7264 2861 6c70 6861 7329  a = Word(alphas)
+000100d0: 2822 6e61 6d65 2229 202b 2057 6f72 6428  ("name") + Word(
+000100e0: 6e75 6d73 202b 2022 2d22 2928 2273 6f63  nums + "-")("soc
+000100f0: 7365 636e 6f22 290a 2020 2020 2020 2020  secno").        
+00010100: 2222 220a 2020 2020 2020 2020 6966 206e  """.        if n
+00010110: 616d 6520 6973 206e 6f74 204e 6f6e 653a  ame is not None:
+00010120: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00010130: 7572 6e20 7365 6c66 2e5f 7365 7452 6573  urn self._setRes
+00010140: 756c 7473 4e61 6d65 286e 616d 6529 0a20  ultsName(name). 
+00010150: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00010160: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00010170: 7365 6c66 2e63 6f70 7928 290a 0a20 2020  self.copy()..   
+00010180: 2064 6566 2073 7570 7072 6573 7328 7365   def suppress(se
+00010190: 6c66 2920 2d3e 2022 5061 7273 6572 456c  lf) -> "ParserEl
+000101a0: 656d 656e 7422 3a0a 2020 2020 2020 2020  ement":.        
+000101b0: 2222 220a 2020 2020 2020 2020 5375 7070  """.        Supp
+000101c0: 7265 7373 6573 2074 6865 206f 7574 7075  resses the outpu
+000101d0: 7420 6f66 2074 6869 7320 3a63 6c61 7373  t of this :class
+000101e0: 3a60 5061 7273 6572 456c 656d 656e 7460  :`ParserElement`
+000101f0: 3b20 7573 6566 756c 2074 6f20 6b65 6570  ; useful to keep
+00010200: 2070 756e 6374 7561 7469 6f6e 2066 726f   punctuation fro
+00010210: 6d0a 2020 2020 2020 2020 636c 7574 7465  m.        clutte
+00010220: 7269 6e67 2075 7020 7265 7475 726e 6564  ring up returned
+00010230: 206f 7574 7075 742e 0a20 2020 2020 2020   output..       
+00010240: 2022 2222 0a20 2020 2020 2020 2072 6574   """.        ret
+00010250: 7572 6e20 5375 7070 7265 7373 2873 656c  urn Suppress(sel
+00010260: 6629 0a0a 2020 2020 6465 6620 6967 6e6f  f)..    def igno
+00010270: 7265 5f77 6869 7465 7370 6163 6528 7365  re_whitespace(se
+00010280: 6c66 2c20 7265 6375 7273 6976 653a 2062  lf, recursive: b
+00010290: 6f6f 6c20 3d20 5472 7565 2920 2d3e 2022  ool = True) -> "
+000102a0: 5061 7273 6572 456c 656d 656e 7422 3a0a  ParserElement":.
+000102b0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+000102c0: 2020 2020 456e 6162 6c65 7320 7468 6520      Enables the 
+000102d0: 736b 6970 7069 6e67 206f 6620 7768 6974  skipping of whit
+000102e0: 6573 7061 6365 2062 6566 6f72 6520 6d61  espace before ma
+000102f0: 7463 6869 6e67 2074 6865 2063 6861 7261  tching the chara
+00010300: 6374 6572 7320 696e 2074 6865 0a20 2020  cters in the.   
+00010310: 2020 2020 203a 636c 6173 733a 6050 6172       :class:`Par
+00010320: 7365 7245 6c65 6d65 6e74 6027 7320 6465  serElement`'s de
+00010330: 6669 6e65 6420 7061 7474 6572 6e2e 0a0a  fined pattern...
+00010340: 2020 2020 2020 2020 3a70 6172 616d 2072          :param r
+00010350: 6563 7572 7369 7665 3a20 4966 2060 6054  ecursive: If ``T
+00010360: 7275 6560 6020 2874 6865 2064 6566 6175  rue`` (the defau
+00010370: 6c74 292c 2061 6c73 6f20 656e 6162 6c65  lt), also enable
+00010380: 2077 6869 7465 7370 6163 6520 736b 6970   whitespace skip
+00010390: 7069 6e67 2069 6e20 6368 696c 6420 656c  ping in child el
+000103a0: 656d 656e 7473 2028 6966 2061 6e79 290a  ements (if any).
+000103b0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+000103c0: 2020 2020 7365 6c66 2e73 6b69 7057 6869      self.skipWhi
+000103d0: 7465 7370 6163 6520 3d20 5472 7565 0a20  tespace = True. 
+000103e0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+000103f0: 6c66 0a0a 2020 2020 6465 6620 6c65 6176  lf..    def leav
+00010400: 655f 7768 6974 6573 7061 6365 2873 656c  e_whitespace(sel
+00010410: 662c 2072 6563 7572 7369 7665 3a20 626f  f, recursive: bo
+00010420: 6f6c 203d 2054 7275 6529 202d 3e20 2250  ol = True) -> "P
+00010430: 6172 7365 7245 6c65 6d65 6e74 223a 0a20  arserElement":. 
+00010440: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00010450: 2020 2044 6973 6162 6c65 7320 7468 6520     Disables the 
+00010460: 736b 6970 7069 6e67 206f 6620 7768 6974  skipping of whit
+00010470: 6573 7061 6365 2062 6566 6f72 6520 6d61  espace before ma
+00010480: 7463 6869 6e67 2074 6865 2063 6861 7261  tching the chara
+00010490: 6374 6572 7320 696e 2074 6865 0a20 2020  cters in the.   
+000104a0: 2020 2020 203a 636c 6173 733a 6050 6172       :class:`Par
+000104b0: 7365 7245 6c65 6d65 6e74 6027 7320 6465  serElement`'s de
+000104c0: 6669 6e65 6420 7061 7474 6572 6e2e 2020  fined pattern.  
+000104d0: 5468 6973 2069 7320 6e6f 726d 616c 6c79  This is normally
+000104e0: 206f 6e6c 7920 7573 6564 2069 6e74 6572   only used inter
+000104f0: 6e61 6c6c 7920 6279 0a20 2020 2020 2020  nally by.       
+00010500: 2074 6865 2070 7970 6172 7369 6e67 206d   the pyparsing m
+00010510: 6f64 756c 652c 2062 7574 206d 6179 2062  odule, but may b
+00010520: 6520 6e65 6564 6564 2069 6e20 736f 6d65  e needed in some
+00010530: 2077 6869 7465 7370 6163 652d 7365 6e73   whitespace-sens
+00010540: 6974 6976 6520 6772 616d 6d61 7273 2e0a  itive grammars..
+00010550: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+00010560: 7265 6375 7273 6976 653a 2049 6620 7472  recursive: If tr
+00010570: 7565 2028 7468 6520 6465 6661 756c 7429  ue (the default)
+00010580: 2c20 616c 736f 2064 6973 6162 6c65 2077  , also disable w
+00010590: 6869 7465 7370 6163 6520 736b 6970 7069  hitespace skippi
+000105a0: 6e67 2069 6e20 6368 696c 6420 656c 656d  ng in child elem
+000105b0: 656e 7473 2028 6966 2061 6e79 290a 2020  ents (if any).  
+000105c0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+000105d0: 2020 7365 6c66 2e73 6b69 7057 6869 7465    self.skipWhite
+000105e0: 7370 6163 6520 3d20 4661 6c73 650a 2020  space = False.  
+000105f0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00010600: 660a 0a20 2020 2064 6566 2073 6574 5f77  f..    def set_w
+00010610: 6869 7465 7370 6163 655f 6368 6172 7328  hitespace_chars(
+00010620: 0a20 2020 2020 2020 2073 656c 662c 2063  .        self, c
+00010630: 6861 7273 3a20 556e 696f 6e5b 5365 745b  hars: Union[Set[
+00010640: 7374 725d 2c20 7374 725d 2c20 636f 7079  str], str], copy
+00010650: 5f64 6566 6175 6c74 733a 2062 6f6f 6c20  _defaults: bool 
+00010660: 3d20 4661 6c73 650a 2020 2020 2920 2d3e  = False.    ) ->
+00010670: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
+00010680: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+00010690: 2020 2020 2020 4f76 6572 7269 6465 7320        Overrides 
+000106a0: 7468 6520 6465 6661 756c 7420 7768 6974  the default whit
+000106b0: 6573 7061 6365 2063 6861 7273 0a20 2020  espace chars.   
+000106c0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+000106d0: 2073 656c 662e 736b 6970 5768 6974 6573   self.skipWhites
+000106e0: 7061 6365 203d 2054 7275 650a 2020 2020  pace = True.    
+000106f0: 2020 2020 7365 6c66 2e77 6869 7465 4368      self.whiteCh
+00010700: 6172 7320 3d20 7365 7428 6368 6172 7329  ars = set(chars)
+00010710: 0a20 2020 2020 2020 2073 656c 662e 636f  .        self.co
+00010720: 7079 4465 6661 756c 7457 6869 7465 4368  pyDefaultWhiteCh
+00010730: 6172 7320 3d20 636f 7079 5f64 6566 6175  ars = copy_defau
+00010740: 6c74 730a 2020 2020 2020 2020 7265 7475  lts.        retu
+00010750: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
+00010760: 2070 6172 7365 5f77 6974 685f 7461 6273   parse_with_tabs
+00010770: 2873 656c 6629 202d 3e20 2250 6172 7365  (self) -> "Parse
+00010780: 7245 6c65 6d65 6e74 223a 0a20 2020 2020  rElement":.     
+00010790: 2020 2022 2222 0a20 2020 2020 2020 204f     """.        O
+000107a0: 7665 7272 6964 6573 2064 6566 6175 6c74  verrides default
+000107b0: 2062 6568 6176 696f 7220 746f 2065 7870   behavior to exp
+000107c0: 616e 6420 6060 3c54 4142 3e60 6020 7320  and ``<TAB>`` s 
+000107d0: 746f 2073 7061 6365 7320 6265 666f 7265  to spaces before
+000107e0: 2070 6172 7369 6e67 2074 6865 2069 6e70   parsing the inp
+000107f0: 7574 2073 7472 696e 672e 0a20 2020 2020  ut string..     
+00010800: 2020 204d 7573 7420 6265 2063 616c 6c65     Must be calle
+00010810: 6420 6265 666f 7265 2060 6070 6172 7365  d before ``parse
+00010820: 5f73 7472 696e 6760 6020 7768 656e 2074  _string`` when t
+00010830: 6865 2069 6e70 7574 2067 7261 6d6d 6172  he input grammar
+00010840: 2063 6f6e 7461 696e 7320 656c 656d 656e   contains elemen
+00010850: 7473 2074 6861 740a 2020 2020 2020 2020  ts that.        
+00010860: 6d61 7463 6820 6060 3c54 4142 3e60 6020  match ``<TAB>`` 
+00010870: 6368 6172 6163 7465 7273 2e0a 2020 2020  characters..    
+00010880: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00010890: 7365 6c66 2e6b 6565 7054 6162 7320 3d20  self.keepTabs = 
+000108a0: 5472 7565 0a20 2020 2020 2020 2072 6574  True.        ret
+000108b0: 7572 6e20 7365 6c66 0a0a 2020 2020 6465  urn self..    de
+000108c0: 6620 6967 6e6f 7265 2873 656c 662c 206f  f ignore(self, o
+000108d0: 7468 6572 3a20 2250 6172 7365 7245 6c65  ther: "ParserEle
+000108e0: 6d65 6e74 2229 202d 3e20 2250 6172 7365  ment") -> "Parse
+000108f0: 7245 6c65 6d65 6e74 223a 0a20 2020 2020  rElement":.     
+00010900: 2020 2022 2222 0a20 2020 2020 2020 2044     """.        D
+00010910: 6566 696e 6520 6578 7072 6573 7369 6f6e  efine expression
+00010920: 2074 6f20 6265 2069 676e 6f72 6564 2028   to be ignored (
+00010930: 652e 672e 2c20 636f 6d6d 656e 7473 2920  e.g., comments) 
+00010940: 7768 696c 6520 646f 696e 6720 7061 7474  while doing patt
+00010950: 6572 6e0a 2020 2020 2020 2020 6d61 7463  ern.        matc
+00010960: 6869 6e67 3b20 6d61 7920 6265 2063 616c  hing; may be cal
+00010970: 6c65 6420 7265 7065 6174 6564 6c79 2c20  led repeatedly, 
+00010980: 746f 2064 6566 696e 6520 6d75 6c74 6970  to define multip
+00010990: 6c65 2063 6f6d 6d65 6e74 206f 7220 6f74  le comment or ot
+000109a0: 6865 720a 2020 2020 2020 2020 6967 6e6f  her.        igno
+000109b0: 7261 626c 6520 7061 7474 6572 6e73 2e0a  rable patterns..
+000109c0: 0a20 2020 2020 2020 2045 7861 6d70 6c65  .        Example
+000109d0: 3a3a 0a0a 2020 2020 2020 2020 2020 2020  ::..            
+000109e0: 7061 7474 203d 2057 6f72 6428 616c 7068  patt = Word(alph
+000109f0: 6173 295b 312c 202e 2e2e 5d0a 2020 2020  as)[1, ...].    
+00010a00: 2020 2020 2020 2020 7061 7474 2e70 6172          patt.par
+00010a10: 7365 5f73 7472 696e 6728 2761 626c 616a  se_string('ablaj
+00010a20: 202f 2a20 636f 6d6d 656e 7420 2a2f 206c   /* comment */ l
+00010a30: 736b 6a64 2729 0a20 2020 2020 2020 2020  skjd').         
+00010a40: 2020 2023 202d 3e20 5b27 6162 6c61 6a27     # -> ['ablaj'
+00010a50: 5d0a 0a20 2020 2020 2020 2020 2020 2070  ]..            p
+00010a60: 6174 742e 6967 6e6f 7265 2863 5f73 7479  att.ignore(c_sty
+00010a70: 6c65 5f63 6f6d 6d65 6e74 290a 2020 2020  le_comment).    
+00010a80: 2020 2020 2020 2020 7061 7474 2e70 6172          patt.par
+00010a90: 7365 5f73 7472 696e 6728 2761 626c 616a  se_string('ablaj
+00010aa0: 202f 2a20 636f 6d6d 656e 7420 2a2f 206c   /* comment */ l
+00010ab0: 736b 6a64 2729 0a20 2020 2020 2020 2020  skjd').         
+00010ac0: 2020 2023 202d 3e20 5b27 6162 6c61 6a27     # -> ['ablaj'
+00010ad0: 2c20 276c 736b 6a64 275d 0a20 2020 2020  , 'lskjd'].     
+00010ae0: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
+00010af0: 6d70 6f72 7420 7479 7069 6e67 0a0a 2020  mport typing..  
+00010b00: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+00010b10: 6e63 6528 6f74 6865 722c 2073 7472 5f74  nce(other, str_t
+00010b20: 7970 6529 3a0a 2020 2020 2020 2020 2020  ype):.          
+00010b30: 2020 6f74 6865 7220 3d20 5375 7070 7265    other = Suppre
+00010b40: 7373 286f 7468 6572 290a 0a20 2020 2020  ss(other)..     
+00010b50: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+00010b60: 286f 7468 6572 2c20 5375 7070 7265 7373  (other, Suppress
+00010b70: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
+00010b80: 6620 6f74 6865 7220 6e6f 7420 696e 2073  f other not in s
+00010b90: 656c 662e 6967 6e6f 7265 4578 7072 733a  elf.ignoreExprs:
+00010ba0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010bb0: 2073 656c 662e 6967 6e6f 7265 4578 7072   self.ignoreExpr
+00010bc0: 732e 6170 7065 6e64 286f 7468 6572 290a  s.append(other).
+00010bd0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00010be0: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
+00010bf0: 676e 6f72 6545 7870 7273 2e61 7070 656e  gnoreExprs.appen
+00010c00: 6428 5375 7070 7265 7373 286f 7468 6572  d(Suppress(other
+00010c10: 2e63 6f70 7928 2929 290a 2020 2020 2020  .copy())).      
+00010c20: 2020 7265 7475 726e 2073 656c 660a 0a20    return self.. 
+00010c30: 2020 2064 6566 2073 6574 5f64 6562 7567     def set_debug
+00010c40: 5f61 6374 696f 6e73 280a 2020 2020 2020  _actions(.      
+00010c50: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+00010c60: 7374 6172 745f 6163 7469 6f6e 3a20 4465  start_action: De
+00010c70: 6275 6753 7461 7274 4163 7469 6f6e 2c0a  bugStartAction,.
+00010c80: 2020 2020 2020 2020 7375 6363 6573 735f          success_
+00010c90: 6163 7469 6f6e 3a20 4465 6275 6753 7563  action: DebugSuc
+00010ca0: 6365 7373 4163 7469 6f6e 2c0a 2020 2020  cessAction,.    
+00010cb0: 2020 2020 6578 6365 7074 696f 6e5f 6163      exception_ac
+00010cc0: 7469 6f6e 3a20 4465 6275 6745 7863 6570  tion: DebugExcep
+00010cd0: 7469 6f6e 4163 7469 6f6e 2c0a 2020 2020  tionAction,.    
+00010ce0: 2920 2d3e 2022 5061 7273 6572 456c 656d  ) -> "ParserElem
+00010cf0: 656e 7422 3a0a 2020 2020 2020 2020 2222  ent":.        ""
+00010d00: 220a 2020 2020 2020 2020 4375 7374 6f6d  ".        Custom
+00010d10: 697a 6520 6469 7370 6c61 7920 6f66 2064  ize display of d
+00010d20: 6562 7567 6769 6e67 206d 6573 7361 6765  ebugging message
+00010d30: 7320 7768 696c 6520 646f 696e 6720 7061  s while doing pa
+00010d40: 7474 6572 6e20 6d61 7463 6869 6e67 3a0a  ttern matching:.
+00010d50: 0a20 2020 2020 2020 202d 2060 6073 7461  .        - ``sta
+00010d60: 7274 5f61 6374 696f 6e60 6020 2d20 6d65  rt_action`` - me
+00010d70: 7468 6f64 2074 6f20 6265 2063 616c 6c65  thod to be calle
+00010d80: 6420 7768 656e 2061 6e20 6578 7072 6573  d when an expres
+00010d90: 7369 6f6e 2069 7320 6162 6f75 7420 746f  sion is about to
+00010da0: 2062 6520 7061 7273 6564 3b0a 2020 2020   be parsed;.    
+00010db0: 2020 2020 2020 7368 6f75 6c64 2068 6176        should hav
+00010dc0: 6520 7468 6520 7369 676e 6174 7572 6520  e the signature 
+00010dd0: 6060 666e 2869 6e70 7574 5f73 7472 696e  ``fn(input_strin
+00010de0: 673a 2073 7472 2c20 6c6f 6361 7469 6f6e  g: str, location
+00010df0: 3a20 696e 742c 2065 7870 7265 7373 696f  : int, expressio
+00010e00: 6e3a 2050 6172 7365 7245 6c65 6d65 6e74  n: ParserElement
+00010e10: 2c20 6361 6368 655f 6869 743a 2062 6f6f  , cache_hit: boo
+00010e20: 6c29 6060 0a0a 2020 2020 2020 2020 2d20  l)``..        - 
+00010e30: 6060 7375 6363 6573 735f 6163 7469 6f6e  ``success_action
+00010e40: 6060 202d 206d 6574 686f 6420 746f 2062  `` - method to b
+00010e50: 6520 6361 6c6c 6564 2077 6865 6e20 616e  e called when an
+00010e60: 2065 7870 7265 7373 696f 6e20 6861 7320   expression has 
+00010e70: 7375 6363 6573 7366 756c 6c79 2070 6172  successfully par
+00010e80: 7365 643b 0a20 2020 2020 2020 2020 2073  sed;.          s
+00010e90: 686f 756c 6420 6861 7665 2074 6865 2073  hould have the s
+00010ea0: 6967 6e61 7475 7265 2060 6066 6e28 696e  ignature ``fn(in
+00010eb0: 7075 745f 7374 7269 6e67 3a20 7374 722c  put_string: str,
+00010ec0: 2073 7461 7274 5f6c 6f63 6174 696f 6e3a   start_location:
+00010ed0: 2069 6e74 2c20 656e 645f 6c6f 6361 7469   int, end_locati
+00010ee0: 6f6e 3a20 696e 742c 2065 7870 7265 7373  on: int, express
+00010ef0: 696f 6e3a 2050 6172 7365 7245 4c65 6d65  ion: ParserELeme
+00010f00: 6e74 2c20 7061 7273 6564 5f74 6f6b 656e  nt, parsed_token
+00010f10: 733a 2050 6172 7365 5265 7375 6c74 732c  s: ParseResults,
+00010f20: 2063 6163 6865 5f68 6974 3a20 626f 6f6c   cache_hit: bool
+00010f30: 2960 600a 0a20 2020 2020 2020 202d 2060  )``..        - `
+00010f40: 6065 7863 6570 7469 6f6e 5f61 6374 696f  `exception_actio
+00010f50: 6e60 6020 2d20 6d65 7468 6f64 2074 6f20  n`` - method to 
+00010f60: 6265 2063 616c 6c65 6420 7768 656e 2065  be called when e
+00010f70: 7870 7265 7373 696f 6e20 6661 696c 7320  xpression fails 
+00010f80: 746f 2070 6172 7365 3b0a 2020 2020 2020  to parse;.      
+00010f90: 2020 2020 7368 6f75 6c64 2068 6176 6520      should have 
+00010fa0: 7468 6520 7369 676e 6174 7572 6520 6060  the signature ``
+00010fb0: 666e 2869 6e70 7574 5f73 7472 696e 673a  fn(input_string:
+00010fc0: 2073 7472 2c20 6c6f 6361 7469 6f6e 3a20   str, location: 
+00010fd0: 696e 742c 2065 7870 7265 7373 696f 6e3a  int, expression:
+00010fe0: 2050 6172 7365 7245 6c65 6d65 6e74 2c20   ParserElement, 
+00010ff0: 6578 6365 7074 696f 6e3a 2045 7863 6570  exception: Excep
+00011000: 7469 6f6e 2c20 6361 6368 655f 6869 743a  tion, cache_hit:
+00011010: 2062 6f6f 6c29 6060 0a20 2020 2020 2020   bool)``.       
+00011020: 2022 2222 0a20 2020 2020 2020 2073 656c   """.        sel
+00011030: 662e 6465 6275 6741 6374 696f 6e73 203d  f.debugActions =
+00011040: 2073 656c 662e 4465 6275 6741 6374 696f   self.DebugActio
+00011050: 6e73 280a 2020 2020 2020 2020 2020 2020  ns(.            
+00011060: 7374 6172 745f 6163 7469 6f6e 206f 7220  start_action or 
+00011070: 5f64 6566 6175 6c74 5f73 7461 7274 5f64  _default_start_d
+00011080: 6562 7567 5f61 6374 696f 6e2c 2020 2320  ebug_action,  # 
+00011090: 7479 7065 3a20 6967 6e6f 7265 5b74 7275  type: ignore[tru
+000110a0: 7468 792d 6675 6e63 7469 6f6e 5d0a 2020  thy-function].  
+000110b0: 2020 2020 2020 2020 2020 7375 6363 6573            succes
+000110c0: 735f 6163 7469 6f6e 206f 7220 5f64 6566  s_action or _def
+000110d0: 6175 6c74 5f73 7563 6365 7373 5f64 6562  ault_success_deb
+000110e0: 7567 5f61 6374 696f 6e2c 2020 2320 7479  ug_action,  # ty
+000110f0: 7065 3a20 6967 6e6f 7265 5b74 7275 7468  pe: ignore[truth
+00011100: 792d 6675 6e63 7469 6f6e 5d0a 2020 2020  y-function].    
+00011110: 2020 2020 2020 2020 6578 6365 7074 696f          exceptio
+00011120: 6e5f 6163 7469 6f6e 206f 7220 5f64 6566  n_action or _def
+00011130: 6175 6c74 5f65 7863 6570 7469 6f6e 5f64  ault_exception_d
+00011140: 6562 7567 5f61 6374 696f 6e2c 2020 2320  ebug_action,  # 
+00011150: 7479 7065 3a20 6967 6e6f 7265 5b74 7275  type: ignore[tru
+00011160: 7468 792d 6675 6e63 7469 6f6e 5d0a 2020  thy-function].  
+00011170: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00011180: 7365 6c66 2e64 6562 7567 203d 2054 7275  self.debug = Tru
+00011190: 650a 2020 2020 2020 2020 7265 7475 726e  e.        return
+000111a0: 2073 656c 660a 0a20 2020 2064 6566 2073   self..    def s
+000111b0: 6574 5f64 6562 7567 2873 656c 662c 2066  et_debug(self, f
+000111c0: 6c61 673a 2062 6f6f 6c20 3d20 5472 7565  lag: bool = True
+000111d0: 2c20 7265 6375 7273 653a 2062 6f6f 6c20  , recurse: bool 
+000111e0: 3d20 4661 6c73 6529 202d 3e20 2250 6172  = False) -> "Par
+000111f0: 7365 7245 6c65 6d65 6e74 223a 0a20 2020  serElement":.   
+00011200: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00011210: 2045 6e61 626c 6520 6469 7370 6c61 7920   Enable display 
+00011220: 6f66 2064 6562 7567 6769 6e67 206d 6573  of debugging mes
+00011230: 7361 6765 7320 7768 696c 6520 646f 696e  sages while doin
+00011240: 6720 7061 7474 6572 6e20 6d61 7463 6869  g pattern matchi
+00011250: 6e67 2e0a 2020 2020 2020 2020 5365 7420  ng..        Set 
+00011260: 6060 666c 6167 6060 2074 6f20 6060 5472  ``flag`` to ``Tr
+00011270: 7565 6060 2074 6f20 656e 6162 6c65 2c20  ue`` to enable, 
+00011280: 6060 4661 6c73 6560 6020 746f 2064 6973  ``False`` to dis
+00011290: 6162 6c65 2e0a 2020 2020 2020 2020 5365  able..        Se
+000112a0: 7420 6060 7265 6375 7273 6560 6020 746f  t ``recurse`` to
+000112b0: 2060 6054 7275 6560 6020 746f 2073 6574   ``True`` to set
+000112c0: 2074 6865 2064 6562 7567 2066 6c61 6720   the debug flag 
+000112d0: 6f6e 2074 6869 7320 6578 7072 6573 7369  on this expressi
+000112e0: 6f6e 2061 6e64 2061 6c6c 2073 7562 2d65  on and all sub-e
+000112f0: 7870 7265 7373 696f 6e73 2e0a 0a20 2020  xpressions...   
+00011300: 2020 2020 2045 7861 6d70 6c65 3a3a 0a0a       Example::..
+00011310: 2020 2020 2020 2020 2020 2020 7764 203d              wd =
+00011320: 2057 6f72 6428 616c 7068 6173 292e 7365   Word(alphas).se
+00011330: 745f 6e61 6d65 2822 616c 7068 6177 6f72  t_name("alphawor
+00011340: 6422 290a 2020 2020 2020 2020 2020 2020  d").            
+00011350: 696e 7465 6765 7220 3d20 576f 7264 286e  integer = Word(n
+00011360: 756d 7329 2e73 6574 5f6e 616d 6528 226e  ums).set_name("n
+00011370: 756d 776f 7264 2229 0a20 2020 2020 2020  umword").       
+00011380: 2020 2020 2074 6572 6d20 3d20 7764 207c       term = wd |
+00011390: 2069 6e74 6567 6572 0a0a 2020 2020 2020   integer..      
+000113a0: 2020 2020 2020 2320 7475 726e 206f 6e20        # turn on 
+000113b0: 6465 6275 6767 696e 6720 666f 7220 7764  debugging for wd
+000113c0: 0a20 2020 2020 2020 2020 2020 2077 642e  .            wd.
+000113d0: 7365 745f 6465 6275 6728 290a 0a20 2020  set_debug()..   
+000113e0: 2020 2020 2020 2020 2074 6572 6d5b 312c           term[1,
+000113f0: 202e 2e2e 5d2e 7061 7273 655f 7374 7269   ...].parse_stri
+00011400: 6e67 2822 6162 6320 3132 3320 7879 7a20  ng("abc 123 xyz 
+00011410: 3839 3022 290a 0a20 2020 2020 2020 2070  890")..        p
+00011420: 7269 6e74 733a 3a0a 0a20 2020 2020 2020  rints::..       
+00011430: 2020 2020 204d 6174 6368 2061 6c70 6861       Match alpha
+00011440: 776f 7264 2061 7420 6c6f 6320 3028 312c  word at loc 0(1,
+00011450: 3129 0a20 2020 2020 2020 2020 2020 204d  1).            M
+00011460: 6174 6368 6564 2061 6c70 6861 776f 7264  atched alphaword
+00011470: 202d 3e20 5b27 6162 6327 5d0a 2020 2020   -> ['abc'].    
+00011480: 2020 2020 2020 2020 4d61 7463 6820 616c          Match al
+00011490: 7068 6177 6f72 6420 6174 206c 6f63 2033  phaword at loc 3
+000114a0: 2831 2c34 290a 2020 2020 2020 2020 2020  (1,4).          
+000114b0: 2020 4578 6365 7074 696f 6e20 7261 6973    Exception rais
+000114c0: 6564 3a45 7870 6563 7465 6420 616c 7068  ed:Expected alph
+000114d0: 6177 6f72 6420 2861 7420 6368 6172 2034  aword (at char 4
+000114e0: 292c 2028 6c69 6e65 3a31 2c20 636f 6c3a  ), (line:1, col:
+000114f0: 3529 0a20 2020 2020 2020 2020 2020 204d  5).            M
+00011500: 6174 6368 2061 6c70 6861 776f 7264 2061  atch alphaword a
+00011510: 7420 6c6f 6320 3728 312c 3829 0a20 2020  t loc 7(1,8).   
+00011520: 2020 2020 2020 2020 204d 6174 6368 6564           Matched
+00011530: 2061 6c70 6861 776f 7264 202d 3e20 5b27   alphaword -> ['
+00011540: 7879 7a27 5d0a 2020 2020 2020 2020 2020  xyz'].          
+00011550: 2020 4d61 7463 6820 616c 7068 6177 6f72    Match alphawor
+00011560: 6420 6174 206c 6f63 2031 3128 312c 3132  d at loc 11(1,12
+00011570: 290a 2020 2020 2020 2020 2020 2020 4578  ).            Ex
+00011580: 6365 7074 696f 6e20 7261 6973 6564 3a45  ception raised:E
+00011590: 7870 6563 7465 6420 616c 7068 6177 6f72  xpected alphawor
+000115a0: 6420 2861 7420 6368 6172 2031 3229 2c20  d (at char 12), 
+000115b0: 286c 696e 653a 312c 2063 6f6c 3a31 3329  (line:1, col:13)
+000115c0: 0a20 2020 2020 2020 2020 2020 204d 6174  .            Mat
+000115d0: 6368 2061 6c70 6861 776f 7264 2061 7420  ch alphaword at 
+000115e0: 6c6f 6320 3135 2831 2c31 3629 0a20 2020  loc 15(1,16).   
+000115f0: 2020 2020 2020 2020 2045 7863 6570 7469           Excepti
+00011600: 6f6e 2072 6169 7365 643a 4578 7065 6374  on raised:Expect
+00011610: 6564 2061 6c70 6861 776f 7264 2028 6174  ed alphaword (at
+00011620: 2063 6861 7220 3135 292c 2028 6c69 6e65   char 15), (line
+00011630: 3a31 2c20 636f 6c3a 3136 290a 0a20 2020  :1, col:16)..   
+00011640: 2020 2020 2054 6865 206f 7574 7075 7420       The output 
+00011650: 7368 6f77 6e20 6973 2074 6861 7420 7072  shown is that pr
+00011660: 6f64 7563 6564 2062 7920 7468 6520 6465  oduced by the de
+00011670: 6661 756c 7420 6465 6275 6720 6163 7469  fault debug acti
+00011680: 6f6e 7320 2d20 6375 7374 6f6d 2064 6562  ons - custom deb
+00011690: 7567 2061 6374 696f 6e73 2063 616e 2062  ug actions can b
+000116a0: 650a 2020 2020 2020 2020 7370 6563 6966  e.        specif
+000116b0: 6965 6420 7573 696e 6720 3a63 6c61 7373  ied using :class
+000116c0: 3a60 7365 745f 6465 6275 675f 6163 7469  :`set_debug_acti
+000116d0: 6f6e 7360 2e20 5072 696f 7220 746f 2061  ons`. Prior to a
+000116e0: 7474 656d 7074 696e 670a 2020 2020 2020  ttempting.      
+000116f0: 2020 746f 206d 6174 6368 2074 6865 2060    to match the `
+00011700: 6077 6460 6020 6578 7072 6573 7369 6f6e  `wd`` expression
+00011710: 2c20 7468 6520 6465 6275 6767 696e 6720  , the debugging 
+00011720: 6d65 7373 6167 6520 6060 224d 6174 6368  message ``"Match
+00011730: 203c 6578 7072 6e61 6d65 3e20 6174 206c   <exprname> at l
+00011740: 6f63 203c 6e3e 283c 6c69 6e65 3e2c 3c63  oc <n>(<line>,<c
+00011750: 6f6c 3e29 2260 600a 2020 2020 2020 2020  ol>)"``.        
+00011760: 6973 2073 686f 776e 2e20 5468 656e 2069  is shown. Then i
+00011770: 6620 7468 6520 7061 7273 6520 7375 6363  f the parse succ
+00011780: 6565 6473 2c20 6120 6060 224d 6174 6368  eeds, a ``"Match
+00011790: 6564 2260 6020 6d65 7373 6167 6520 6973  ed"`` message is
+000117a0: 2073 686f 776e 2c20 6f72 2061 6e20 6060   shown, or an ``
+000117b0: 2245 7863 6570 7469 6f6e 2072 6169 7365  "Exception raise
+000117c0: 6422 6060 0a20 2020 2020 2020 206d 6573  d"``.        mes
+000117d0: 7361 6765 2069 7320 7368 6f77 6e2e 2041  sage is shown. A
+000117e0: 6c73 6f20 6e6f 7465 2074 6865 2075 7365  lso note the use
+000117f0: 206f 6620 3a63 6c61 7373 3a60 7365 745f   of :class:`set_
+00011800: 6e61 6d65 6020 746f 2061 7373 6967 6e20  name` to assign 
+00011810: 6120 6875 6d61 6e2d 7265 6164 6162 6c65  a human-readable
+00011820: 206e 616d 6520 746f 2074 6865 2065 7870   name to the exp
+00011830: 7265 7373 696f 6e2c 0a20 2020 2020 2020  ression,.       
+00011840: 2077 6869 6368 206d 616b 6573 2064 6562   which makes deb
+00011850: 7567 6769 6e67 2061 6e64 2065 7863 6570  ugging and excep
+00011860: 7469 6f6e 206d 6573 7361 6765 7320 6561  tion messages ea
+00011870: 7369 6572 2074 6f20 756e 6465 7273 7461  sier to understa
+00011880: 6e64 202d 2066 6f72 2069 6e73 7461 6e63  nd - for instanc
+00011890: 652c 2074 6865 2064 6566 6175 6c74 0a20  e, the default. 
+000118a0: 2020 2020 2020 206e 616d 6520 6372 6561         name crea
+000118b0: 7465 6420 666f 7220 7468 6520 3a63 6c61  ted for the :cla
+000118c0: 7373 3a60 576f 7264 6020 6578 7072 6573  ss:`Word` expres
+000118d0: 7369 6f6e 2077 6974 686f 7574 2063 616c  sion without cal
+000118e0: 6c69 6e67 2060 6073 6574 5f6e 616d 6560  ling ``set_name`
+000118f0: 6020 6973 2060 6022 573a 2841 2d5a 612d  ` is ``"W:(A-Za-
+00011900: 7a29 2260 602e 0a20 2020 2020 2020 2022  z)"``..        "
+00011910: 2222 0a20 2020 2020 2020 2069 6620 7265  "".        if re
+00011920: 6375 7273 653a 0a20 2020 2020 2020 2020  curse:.         
+00011930: 2020 2066 6f72 2065 7870 7220 696e 2073     for expr in s
+00011940: 656c 662e 7669 7369 745f 616c 6c28 293a  elf.visit_all():
+00011950: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011960: 2065 7870 722e 7365 745f 6465 6275 6728   expr.set_debug(
+00011970: 666c 6167 2c20 7265 6375 7273 653d 4661  flag, recurse=Fa
+00011980: 6c73 6529 0a20 2020 2020 2020 2020 2020  lse).           
+00011990: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
+000119a0: 2020 2020 2020 6966 2066 6c61 673a 0a20        if flag:. 
+000119b0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000119c0: 7365 745f 6465 6275 675f 6163 7469 6f6e  set_debug_action
+000119d0: 7328 0a20 2020 2020 2020 2020 2020 2020  s(.             
+000119e0: 2020 205f 6465 6661 756c 745f 7374 6172     _default_star
+000119f0: 745f 6465 6275 675f 6163 7469 6f6e 2c0a  t_debug_action,.
+00011a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011a10: 5f64 6566 6175 6c74 5f73 7563 6365 7373  _default_success
+00011a20: 5f64 6562 7567 5f61 6374 696f 6e2c 0a20  _debug_action,. 
+00011a30: 2020 2020 2020 2020 2020 2020 2020 205f                 _
+00011a40: 6465 6661 756c 745f 6578 6365 7074 696f  default_exceptio
+00011a50: 6e5f 6465 6275 675f 6163 7469 6f6e 2c0a  n_debug_action,.
+00011a60: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00011a70: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00011a80: 2020 2020 2020 2020 7365 6c66 2e64 6562          self.deb
+00011a90: 7567 203d 2046 616c 7365 0a20 2020 2020  ug = False.     
+00011aa0: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+00011ab0: 2020 2020 4070 726f 7065 7274 790a 2020      @property.  
+00011ac0: 2020 6465 6620 6465 6661 756c 745f 6e61    def default_na
+00011ad0: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
+00011ae0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+00011af0: 2e5f 6465 6661 756c 744e 616d 6520 6973  ._defaultName is
+00011b00: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00011b10: 2020 2073 656c 662e 5f64 6566 6175 6c74     self._default
+00011b20: 4e61 6d65 203d 2073 656c 662e 5f67 656e  Name = self._gen
+00011b30: 6572 6174 6544 6566 6175 6c74 4e61 6d65  erateDefaultName
+00011b40: 2829 0a20 2020 2020 2020 2072 6574 7572  ().        retur
+00011b50: 6e20 7365 6c66 2e5f 6465 6661 756c 744e  n self._defaultN
+00011b60: 616d 650a 0a20 2020 2040 6162 7374 7261  ame..    @abstra
+00011b70: 6374 6d65 7468 6f64 0a20 2020 2064 6566  ctmethod.    def
+00011b80: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
+00011b90: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
+00011ba0: 7472 3a0a 2020 2020 2020 2020 2222 220a  tr:.        """.
+00011bb0: 2020 2020 2020 2020 4368 696c 6420 636c          Child cl
+00011bc0: 6173 7365 7320 6d75 7374 2064 6566 696e  asses must defin
+00011bd0: 6520 7468 6973 206d 6574 686f 642c 2077  e this method, w
+00011be0: 6869 6368 2064 6566 696e 6573 2068 6f77  hich defines how
+00011bf0: 2074 6865 2060 6064 6566 6175 6c74 5f6e   the ``default_n
+00011c00: 616d 6560 6020 6973 2073 6574 2e0a 2020  ame`` is set..  
+00011c10: 2020 2020 2020 2222 220a 0a20 2020 2064        """..    d
+00011c20: 6566 2073 6574 5f6e 616d 6528 7365 6c66  ef set_name(self
+00011c30: 2c20 6e61 6d65 3a20 7374 7229 202d 3e20  , name: str) -> 
+00011c40: 2250 6172 7365 7245 6c65 6d65 6e74 223a  "ParserElement":
+00011c50: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00011c60: 2020 2020 2044 6566 696e 6520 6e61 6d65       Define name
+00011c70: 2066 6f72 2074 6869 7320 6578 7072 6573   for this expres
+00011c80: 7369 6f6e 2c20 6d61 6b65 7320 6465 6275  sion, makes debu
+00011c90: 6767 696e 6720 616e 6420 6578 6365 7074  gging and except
+00011ca0: 696f 6e20 6d65 7373 6167 6573 2063 6c65  ion messages cle
+00011cb0: 6172 6572 2e0a 0a20 2020 2020 2020 2045  arer...        E
+00011cc0: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
+00011cd0: 2020 2020 2020 576f 7264 286e 756d 7329        Word(nums)
+00011ce0: 2e70 6172 7365 5f73 7472 696e 6728 2241  .parse_string("A
+00011cf0: 4243 2229 2020 2320 2d3e 2045 7863 6570  BC")  # -> Excep
+00011d00: 7469 6f6e 3a20 4578 7065 6374 6564 2057  tion: Expected W
+00011d10: 3a28 302d 3929 2028 6174 2063 6861 7220  :(0-9) (at char 
+00011d20: 3029 2c20 286c 696e 653a 312c 2063 6f6c  0), (line:1, col
+00011d30: 3a31 290a 2020 2020 2020 2020 2020 2020  :1).            
+00011d40: 576f 7264 286e 756d 7329 2e73 6574 5f6e  Word(nums).set_n
+00011d50: 616d 6528 2269 6e74 6567 6572 2229 2e70  ame("integer").p
+00011d60: 6172 7365 5f73 7472 696e 6728 2241 4243  arse_string("ABC
+00011d70: 2229 2020 2320 2d3e 2045 7863 6570 7469  ")  # -> Excepti
+00011d80: 6f6e 3a20 4578 7065 6374 6564 2069 6e74  on: Expected int
+00011d90: 6567 6572 2028 6174 2063 6861 7220 3029  eger (at char 0)
+00011da0: 2c20 286c 696e 653a 312c 2063 6f6c 3a31  , (line:1, col:1
+00011db0: 290a 2020 2020 2020 2020 2222 220a 2020  ).        """.  
+00011dc0: 2020 2020 2020 7365 6c66 2e63 7573 746f        self.custo
+00011dd0: 6d4e 616d 6520 3d20 6e61 6d65 0a20 2020  mName = name.   
+00011de0: 2020 2020 2073 656c 662e 6572 726d 7367       self.errmsg
+00011df0: 203d 2022 4578 7065 6374 6564 2022 202b   = "Expected " +
+00011e00: 2073 656c 662e 6e61 6d65 0a20 2020 2020   self.name.     
+00011e10: 2020 2069 6620 5f5f 6469 6167 5f5f 2e65     if __diag__.e
+00011e20: 6e61 626c 655f 6465 6275 675f 6f6e 5f6e  nable_debug_on_n
+00011e30: 616d 6564 5f65 7870 7265 7373 696f 6e73  amed_expressions
+00011e40: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00011e50: 6c66 2e73 6574 5f64 6562 7567 2829 0a20  lf.set_debug(). 
+00011e60: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00011e70: 6c66 0a0a 2020 2020 4070 726f 7065 7274  lf..    @propert
+00011e80: 790a 2020 2020 6465 6620 6e61 6d65 2873  y.    def name(s
+00011e90: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
+00011ea0: 2020 2020 2023 2054 6869 7320 7769 6c6c       # This will
+00011eb0: 2075 7365 2061 2075 7365 722d 6465 6669   use a user-defi
+00011ec0: 6e65 6420 6e61 6d65 2069 6620 6176 6169  ned name if avai
+00011ed0: 6c61 626c 652c 2062 7574 206f 7468 6572  lable, but other
+00011ee0: 7769 7365 2064 6566 6175 6c74 7320 6261  wise defaults ba
+00011ef0: 636b 2074 6f20 7468 6520 6175 746f 2d67  ck to the auto-g
+00011f00: 656e 6572 6174 6564 206e 616d 650a 2020  enerated name.  
+00011f10: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00011f20: 662e 6375 7374 6f6d 4e61 6d65 2069 6620  f.customName if 
+00011f30: 7365 6c66 2e63 7573 746f 6d4e 616d 6520  self.customName 
+00011f40: 6973 206e 6f74 204e 6f6e 6520 656c 7365  is not None else
+00011f50: 2073 656c 662e 6465 6661 756c 745f 6e61   self.default_na
+00011f60: 6d65 0a0a 2020 2020 6465 6620 5f5f 7374  me..    def __st
+00011f70: 725f 5f28 7365 6c66 2920 2d3e 2073 7472  r__(self) -> str
+00011f80: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+00011f90: 2073 656c 662e 6e61 6d65 0a0a 2020 2020   self.name..    
+00011fa0: 6465 6620 5f5f 7265 7072 5f5f 2873 656c  def __repr__(sel
+00011fb0: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
+00011fc0: 2020 2072 6574 7572 6e20 7374 7228 7365     return str(se
+00011fd0: 6c66 290a 0a20 2020 2064 6566 2073 7472  lf)..    def str
+00011fe0: 6561 6d6c 696e 6528 7365 6c66 2920 2d3e  eamline(self) ->
+00011ff0: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
+00012000: 3a0a 2020 2020 2020 2020 7365 6c66 2e73  :.        self.s
+00012010: 7472 6561 6d6c 696e 6564 203d 2054 7275  treamlined = Tru
+00012020: 650a 2020 2020 2020 2020 7365 6c66 2e5f  e.        self._
+00012030: 6465 6661 756c 744e 616d 6520 3d20 4e6f  defaultName = No
+00012040: 6e65 0a20 2020 2020 2020 2072 6574 7572  ne.        retur
+00012050: 6e20 7365 6c66 0a0a 2020 2020 6465 6620  n self..    def 
+00012060: 7265 6375 7273 6528 7365 6c66 2920 2d3e  recurse(self) ->
+00012070: 204c 6973 745b 2250 6172 7365 7245 6c65   List["ParserEle
+00012080: 6d65 6e74 225d 3a0a 2020 2020 2020 2020  ment"]:.        
+00012090: 7265 7475 726e 205b 5d0a 0a20 2020 2064  return []..    d
+000120a0: 6566 205f 6368 6563 6b52 6563 7572 7369  ef _checkRecursi
+000120b0: 6f6e 2873 656c 662c 2070 6172 7365 456c  on(self, parseEl
+000120c0: 656d 656e 744c 6973 7429 3a0a 2020 2020  ementList):.    
+000120d0: 2020 2020 7375 6252 6563 4368 6563 6b4c      subRecCheckL
+000120e0: 6973 7420 3d20 7061 7273 6545 6c65 6d65  ist = parseEleme
+000120f0: 6e74 4c69 7374 5b3a 5d20 2b20 5b73 656c  ntList[:] + [sel
+00012100: 665d 0a20 2020 2020 2020 2066 6f72 2065  f].        for e
+00012110: 2069 6e20 7365 6c66 2e72 6563 7572 7365   in self.recurse
+00012120: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+00012130: 652e 5f63 6865 636b 5265 6375 7273 696f  e._checkRecursio
+00012140: 6e28 7375 6252 6563 4368 6563 6b4c 6973  n(subRecCheckLis
+00012150: 7429 0a0a 2020 2020 6465 6620 7661 6c69  t)..    def vali
+00012160: 6461 7465 2873 656c 662c 2076 616c 6964  date(self, valid
+00012170: 6174 6554 7261 6365 3d4e 6f6e 6529 202d  ateTrace=None) -
+00012180: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
+00012190: 2222 220a 2020 2020 2020 2020 4368 6563  """.        Chec
+000121a0: 6b20 6465 6669 6e65 6420 6578 7072 6573  k defined expres
+000121b0: 7369 6f6e 7320 666f 7220 7661 6c69 6420  sions for valid 
+000121c0: 7374 7275 6374 7572 652c 2063 6865 636b  structure, check
+000121d0: 2066 6f72 2069 6e66 696e 6974 6520 7265   for infinite re
+000121e0: 6375 7273 6976 6520 6465 6669 6e69 7469  cursive definiti
+000121f0: 6f6e 732e 0a20 2020 2020 2020 2022 2222  ons..        """
+00012200: 0a20 2020 2020 2020 2077 6172 6e69 6e67  .        warning
+00012210: 732e 7761 726e 280a 2020 2020 2020 2020  s.warn(.        
+00012220: 2020 2020 2250 6172 7365 7245 6c65 6d65      "ParserEleme
+00012230: 6e74 2e76 616c 6964 6174 6528 2920 6973  nt.validate() is
+00012240: 2064 6570 7265 6361 7465 642c 2061 6e64   deprecated, and
+00012250: 2073 686f 756c 6420 6e6f 7420 6265 2075   should not be u
+00012260: 7365 6420 746f 2063 6865 636b 2066 6f72  sed to check for
+00012270: 206c 6566 7420 7265 6375 7273 696f 6e22   left recursion"
+00012280: 2c0a 2020 2020 2020 2020 2020 2020 4465  ,.            De
+00012290: 7072 6563 6174 696f 6e57 6172 6e69 6e67  precationWarning
+000122a0: 2c0a 2020 2020 2020 2020 2020 2020 7374  ,.            st
+000122b0: 6163 6b6c 6576 656c 3d32 2c0a 2020 2020  acklevel=2,.    
+000122c0: 2020 2020 290a 2020 2020 2020 2020 7365      ).        se
+000122d0: 6c66 2e5f 6368 6563 6b52 6563 7572 7369  lf._checkRecursi
+000122e0: 6f6e 285b 5d29 0a0a 2020 2020 6465 6620  on([])..    def 
+000122f0: 7061 7273 655f 6669 6c65 280a 2020 2020  parse_file(.    
+00012300: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00012310: 2020 6669 6c65 5f6f 725f 6669 6c65 6e61    file_or_filena
+00012320: 6d65 3a20 556e 696f 6e5b 7374 722c 2050  me: Union[str, P
+00012330: 6174 682c 2054 6578 7449 4f5d 2c0a 2020  ath, TextIO],.  
+00012340: 2020 2020 2020 656e 636f 6469 6e67 3a20        encoding: 
+00012350: 7374 7220 3d20 2275 7466 2d38 222c 0a20  str = "utf-8",. 
+00012360: 2020 2020 2020 2070 6172 7365 5f61 6c6c         parse_all
+00012370: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
+00012380: 2020 2020 2020 2020 2a2c 0a20 2020 2020          *,.     
+00012390: 2020 2070 6172 7365 416c 6c3a 2062 6f6f     parseAll: boo
+000123a0: 6c20 3d20 4661 6c73 652c 0a20 2020 2029  l = False,.    )
+000123b0: 202d 3e20 5061 7273 6552 6573 756c 7473   -> ParseResults
+000123c0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+000123d0: 2020 2020 2020 4578 6563 7574 6520 7468        Execute th
+000123e0: 6520 7061 7273 6520 6578 7072 6573 7369  e parse expressi
+000123f0: 6f6e 206f 6e20 7468 6520 6769 7665 6e20  on on the given 
+00012400: 6669 6c65 206f 7220 6669 6c65 6e61 6d65  file or filename
+00012410: 2e0a 2020 2020 2020 2020 4966 2061 2066  ..        If a f
+00012420: 696c 656e 616d 6520 6973 2073 7065 6369  ilename is speci
+00012430: 6669 6564 2028 696e 7374 6561 6420 6f66  fied (instead of
+00012440: 2061 2066 696c 6520 6f62 6a65 6374 292c   a file object),
+00012450: 0a20 2020 2020 2020 2074 6865 2065 6e74  .        the ent
+00012460: 6972 6520 6669 6c65 2069 7320 6f70 656e  ire file is open
+00012470: 6564 2c20 7265 6164 2c20 616e 6420 636c  ed, read, and cl
+00012480: 6f73 6564 2062 6566 6f72 6520 7061 7273  osed before pars
+00012490: 696e 672e 0a20 2020 2020 2020 2022 2222  ing..        """
+000124a0: 0a20 2020 2020 2020 2070 6172 7365 416c  .        parseAl
+000124b0: 6c20 3d20 7061 7273 6541 6c6c 206f 7220  l = parseAll or 
+000124c0: 7061 7273 655f 616c 6c0a 2020 2020 2020  parse_all.      
+000124d0: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+000124e0: 2020 2066 696c 655f 6f72 5f66 696c 656e     file_or_filen
+000124f0: 616d 6520 3d20 7479 7069 6e67 2e63 6173  ame = typing.cas
+00012500: 7428 5465 7874 494f 2c20 6669 6c65 5f6f  t(TextIO, file_o
+00012510: 725f 6669 6c65 6e61 6d65 290a 2020 2020  r_filename).    
+00012520: 2020 2020 2020 2020 6669 6c65 5f63 6f6e          file_con
+00012530: 7465 6e74 7320 3d20 6669 6c65 5f6f 725f  tents = file_or_
+00012540: 6669 6c65 6e61 6d65 2e72 6561 6428 290a  filename.read().
+00012550: 2020 2020 2020 2020 6578 6365 7074 2041          except A
+00012560: 7474 7269 6275 7465 4572 726f 723a 0a20  ttributeError:. 
+00012570: 2020 2020 2020 2020 2020 2066 696c 655f             file_
+00012580: 6f72 5f66 696c 656e 616d 6520 3d20 7479  or_filename = ty
+00012590: 7069 6e67 2e63 6173 7428 7374 722c 2066  ping.cast(str, f
+000125a0: 696c 655f 6f72 5f66 696c 656e 616d 6529  ile_or_filename)
+000125b0: 0a20 2020 2020 2020 2020 2020 2077 6974  .            wit
+000125c0: 6820 6f70 656e 2866 696c 655f 6f72 5f66  h open(file_or_f
+000125d0: 696c 656e 616d 652c 2022 7222 2c20 656e  ilename, "r", en
+000125e0: 636f 6469 6e67 3d65 6e63 6f64 696e 6729  coding=encoding)
+000125f0: 2061 7320 663a 0a20 2020 2020 2020 2020   as f:.         
+00012600: 2020 2020 2020 2066 696c 655f 636f 6e74         file_cont
+00012610: 656e 7473 203d 2066 2e72 6561 6428 290a  ents = f.read().
+00012620: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00012630: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00012640: 7365 6c66 2e70 6172 7365 5f73 7472 696e  self.parse_strin
+00012650: 6728 6669 6c65 5f63 6f6e 7465 6e74 732c  g(file_contents,
+00012660: 2070 6172 7365 416c 6c29 0a20 2020 2020   parseAll).     
+00012670: 2020 2065 7863 6570 7420 5061 7273 6542     except ParseB
+00012680: 6173 6545 7863 6570 7469 6f6e 2061 7320  aseException as 
+00012690: 6578 633a 0a20 2020 2020 2020 2020 2020  exc:.           
+000126a0: 2069 6620 5061 7273 6572 456c 656d 656e   if ParserElemen
+000126b0: 742e 7665 7262 6f73 655f 7374 6163 6b74  t.verbose_stackt
+000126c0: 7261 6365 3a0a 2020 2020 2020 2020 2020  race:.          
+000126d0: 2020 2020 2020 7261 6973 650a 2020 2020        raise.    
+000126e0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000126f0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+00012700: 6361 7463 6820 616e 6420 7265 2d72 6169  catch and re-rai
+00012710: 7365 2065 7863 6570 7469 6f6e 2066 726f  se exception fro
+00012720: 6d20 6865 7265 2c20 636c 6561 7273 206f  m here, clears o
+00012730: 7574 2070 7970 6172 7369 6e67 2069 6e74  ut pyparsing int
+00012740: 6572 6e61 6c20 7374 6163 6b20 7472 6163  ernal stack trac
+00012750: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+00012760: 2020 7261 6973 6520 6578 632e 7769 7468    raise exc.with
+00012770: 5f74 7261 6365 6261 636b 284e 6f6e 6529  _traceback(None)
+00012780: 0a0a 2020 2020 6465 6620 5f5f 6571 5f5f  ..    def __eq__
+00012790: 2873 656c 662c 206f 7468 6572 293a 0a20  (self, other):. 
+000127a0: 2020 2020 2020 2069 6620 7365 6c66 2069         if self i
+000127b0: 7320 6f74 6865 723a 0a20 2020 2020 2020  s other:.       
+000127c0: 2020 2020 2072 6574 7572 6e20 5472 7565       return True
+000127d0: 0a20 2020 2020 2020 2065 6c69 6620 6973  .        elif is
+000127e0: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
+000127f0: 7374 725f 7479 7065 293a 0a20 2020 2020  str_type):.     
+00012800: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00012810: 6c66 2e6d 6174 6368 6573 286f 7468 6572  lf.matches(other
+00012820: 2c20 7061 7273 655f 616c 6c3d 5472 7565  , parse_all=True
+00012830: 290a 2020 2020 2020 2020 656c 6966 2069  ).        elif i
+00012840: 7369 6e73 7461 6e63 6528 6f74 6865 722c  sinstance(other,
+00012850: 2050 6172 7365 7245 6c65 6d65 6e74 293a   ParserElement):
+00012860: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00012870: 7572 6e20 7661 7273 2873 656c 6629 203d  urn vars(self) =
+00012880: 3d20 7661 7273 286f 7468 6572 290a 2020  = vars(other).  
+00012890: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
+000128a0: 7365 0a0a 2020 2020 6465 6620 5f5f 6861  se..    def __ha
+000128b0: 7368 5f5f 2873 656c 6629 3a0a 2020 2020  sh__(self):.    
+000128c0: 2020 2020 7265 7475 726e 2069 6428 7365      return id(se
+000128d0: 6c66 290a 0a20 2020 2064 6566 206d 6174  lf)..    def mat
+000128e0: 6368 6573 280a 2020 2020 2020 2020 7365  ches(.        se
+000128f0: 6c66 2c20 7465 7374 5f73 7472 696e 673a  lf, test_string:
+00012900: 2073 7472 2c20 7061 7273 655f 616c 6c3a   str, parse_all:
+00012910: 2062 6f6f 6c20 3d20 5472 7565 2c20 2a2c   bool = True, *,
+00012920: 2070 6172 7365 416c 6c3a 2062 6f6f 6c20   parseAll: bool 
+00012930: 3d20 5472 7565 0a20 2020 2029 202d 3e20  = True.    ) -> 
+00012940: 626f 6f6c 3a0a 2020 2020 2020 2020 2222  bool:.        ""
+00012950: 220a 2020 2020 2020 2020 4d65 7468 6f64  ".        Method
+00012960: 2066 6f72 2071 7569 636b 2074 6573 7469   for quick testi
+00012970: 6e67 206f 6620 6120 7061 7273 6572 2061  ng of a parser a
+00012980: 6761 696e 7374 2061 2074 6573 7420 7374  gainst a test st
+00012990: 7269 6e67 2e20 476f 6f64 2066 6f72 2073  ring. Good for s
+000129a0: 696d 706c 650a 2020 2020 2020 2020 696e  imple.        in
+000129b0: 6c69 6e65 206d 6963 726f 7465 7374 7320  line microtests 
+000129c0: 6f66 2073 7562 2065 7870 7265 7373 696f  of sub expressio
+000129d0: 6e73 2077 6869 6c65 2062 7569 6c64 696e  ns while buildin
+000129e0: 6720 7570 206c 6172 6765 7220 7061 7273  g up larger pars
+000129f0: 6572 2e0a 0a20 2020 2020 2020 2050 6172  er...        Par
+00012a00: 616d 6574 6572 733a 0a0a 2020 2020 2020  ameters:..      
+00012a10: 2020 2d20 6060 7465 7374 5f73 7472 696e    - ``test_strin
+00012a20: 6760 6020 2d20 746f 2074 6573 7420 6167  g`` - to test ag
+00012a30: 6169 6e73 7420 7468 6973 2065 7870 7265  ainst this expre
+00012a40: 7373 696f 6e20 666f 7220 6120 6d61 7463  ssion for a matc
+00012a50: 680a 2020 2020 2020 2020 2d20 6060 7061  h.        - ``pa
+00012a60: 7273 655f 616c 6c60 6020 2d20 2864 6566  rse_all`` - (def
+00012a70: 6175 6c74 3d20 6060 5472 7565 6060 2920  ault= ``True``) 
+00012a80: 2d20 666c 6167 2074 6f20 7061 7373 2074  - flag to pass t
+00012a90: 6f20 3a63 6c61 7373 3a60 7061 7273 655f  o :class:`parse_
+00012aa0: 7374 7269 6e67 6020 7768 656e 2072 756e  string` when run
+00012ab0: 6e69 6e67 2074 6573 7473 0a0a 2020 2020  ning tests..    
+00012ac0: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
+00012ad0: 2020 2020 2020 2020 2020 2065 7870 7220             expr 
+00012ae0: 3d20 576f 7264 286e 756d 7329 0a20 2020  = Word(nums).   
+00012af0: 2020 2020 2020 2020 2061 7373 6572 7420           assert 
+00012b00: 6578 7072 2e6d 6174 6368 6573 2822 3130  expr.matches("10
+00012b10: 3022 290a 2020 2020 2020 2020 2222 220a  0").        """.
+00012b20: 2020 2020 2020 2020 7061 7273 6541 6c6c          parseAll
+00012b30: 203d 2070 6172 7365 416c 6c20 616e 6420   = parseAll and 
+00012b40: 7061 7273 655f 616c 6c0a 2020 2020 2020  parse_all.      
+00012b50: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+00012b60: 2020 2073 656c 662e 7061 7273 655f 7374     self.parse_st
+00012b70: 7269 6e67 2873 7472 2874 6573 745f 7374  ring(str(test_st
+00012b80: 7269 6e67 292c 2070 6172 7365 5f61 6c6c  ring), parse_all
+00012b90: 3d70 6172 7365 416c 6c29 0a20 2020 2020  =parseAll).     
+00012ba0: 2020 2020 2020 2072 6574 7572 6e20 5472         return Tr
+00012bb0: 7565 0a20 2020 2020 2020 2065 7863 6570  ue.        excep
+00012bc0: 7420 5061 7273 6542 6173 6545 7863 6570  t ParseBaseExcep
+00012bd0: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
+00012be0: 2020 7265 7475 726e 2046 616c 7365 0a0a    return False..
+00012bf0: 2020 2020 6465 6620 7275 6e5f 7465 7374      def run_test
+00012c00: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+00012c10: 0a20 2020 2020 2020 2074 6573 7473 3a20  .        tests: 
+00012c20: 556e 696f 6e5b 7374 722c 204c 6973 745b  Union[str, List[
+00012c30: 7374 725d 5d2c 0a20 2020 2020 2020 2070  str]],.        p
+00012c40: 6172 7365 5f61 6c6c 3a20 626f 6f6c 203d  arse_all: bool =
+00012c50: 2054 7275 652c 0a20 2020 2020 2020 2063   True,.        c
+00012c60: 6f6d 6d65 6e74 3a20 7479 7069 6e67 2e4f  omment: typing.O
+00012c70: 7074 696f 6e61 6c5b 556e 696f 6e5b 2250  ptional[Union["P
+00012c80: 6172 7365 7245 6c65 6d65 6e74 222c 2073  arserElement", s
+00012c90: 7472 5d5d 203d 2022 2322 2c0a 2020 2020  tr]] = "#",.    
+00012ca0: 2020 2020 6675 6c6c 5f64 756d 703a 2062      full_dump: b
+00012cb0: 6f6f 6c20 3d20 5472 7565 2c0a 2020 2020  ool = True,.    
+00012cc0: 2020 2020 7072 696e 745f 7265 7375 6c74      print_result
+00012cd0: 733a 2062 6f6f 6c20 3d20 5472 7565 2c0a  s: bool = True,.
+00012ce0: 2020 2020 2020 2020 6661 696c 7572 655f          failure_
+00012cf0: 7465 7374 733a 2062 6f6f 6c20 3d20 4661  tests: bool = Fa
+00012d00: 6c73 652c 0a20 2020 2020 2020 2070 6f73  lse,.        pos
+00012d10: 745f 7061 7273 653a 2074 7970 696e 672e  t_parse: typing.
+00012d20: 4f70 7469 6f6e 616c 5b43 616c 6c61 626c  Optional[Callabl
+00012d30: 655b 5b73 7472 2c20 5061 7273 6552 6573  e[[str, ParseRes
+00012d40: 756c 7473 5d2c 2073 7472 5d5d 203d 204e  ults], str]] = N
+00012d50: 6f6e 652c 0a20 2020 2020 2020 2066 696c  one,.        fil
+00012d60: 653a 2074 7970 696e 672e 4f70 7469 6f6e  e: typing.Option
+00012d70: 616c 5b54 6578 7449 4f5d 203d 204e 6f6e  al[TextIO] = Non
+00012d80: 652c 0a20 2020 2020 2020 2077 6974 685f  e,.        with_
+00012d90: 6c69 6e65 5f6e 756d 6265 7273 3a20 626f  line_numbers: bo
+00012da0: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
+00012db0: 2020 2020 2a2c 0a20 2020 2020 2020 2070      *,.        p
+00012dc0: 6172 7365 416c 6c3a 2062 6f6f 6c20 3d20  arseAll: bool = 
+00012dd0: 5472 7565 2c0a 2020 2020 2020 2020 6675  True,.        fu
+00012de0: 6c6c 4475 6d70 3a20 626f 6f6c 203d 2054  llDump: bool = T
+00012df0: 7275 652c 0a20 2020 2020 2020 2070 7269  rue,.        pri
+00012e00: 6e74 5265 7375 6c74 733a 2062 6f6f 6c20  ntResults: bool 
+00012e10: 3d20 5472 7565 2c0a 2020 2020 2020 2020  = True,.        
+00012e20: 6661 696c 7572 6554 6573 7473 3a20 626f  failureTests: bo
+00012e30: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
+00012e40: 2020 2020 706f 7374 5061 7273 653a 2074      postParse: t
+00012e50: 7970 696e 672e 4f70 7469 6f6e 616c 5b43  yping.Optional[C
+00012e60: 616c 6c61 626c 655b 5b73 7472 2c20 5061  allable[[str, Pa
+00012e70: 7273 6552 6573 756c 7473 5d2c 2073 7472  rseResults], str
+00012e80: 5d5d 203d 204e 6f6e 652c 0a20 2020 2029  ]] = None,.    )
+00012e90: 202d 3e20 5475 706c 655b 626f 6f6c 2c20   -> Tuple[bool, 
+00012ea0: 4c69 7374 5b54 7570 6c65 5b73 7472 2c20  List[Tuple[str, 
+00012eb0: 556e 696f 6e5b 5061 7273 6552 6573 756c  Union[ParseResul
+00012ec0: 7473 2c20 4578 6365 7074 696f 6e5d 5d5d  ts, Exception]]]
+00012ed0: 5d3a 0a20 2020 2020 2020 2022 2222 0a20  ]:.        """. 
+00012ee0: 2020 2020 2020 2045 7865 6375 7465 2074         Execute t
+00012ef0: 6865 2070 6172 7365 2065 7870 7265 7373  he parse express
+00012f00: 696f 6e20 6f6e 2061 2073 6572 6965 7320  ion on a series 
+00012f10: 6f66 2074 6573 7420 7374 7269 6e67 732c  of test strings,
+00012f20: 2073 686f 7769 6e67 2065 6163 680a 2020   showing each.  
+00012f30: 2020 2020 2020 7465 7374 2c20 7468 6520        test, the 
+00012f40: 7061 7273 6564 2072 6573 756c 7473 206f  parsed results o
+00012f50: 7220 7768 6572 6520 7468 6520 7061 7273  r where the pars
+00012f60: 6520 6661 696c 6564 2e20 5175 6963 6b20  e failed. Quick 
+00012f70: 616e 6420 6561 7379 2077 6179 2074 6f0a  and easy way to.
+00012f80: 2020 2020 2020 2020 7275 6e20 6120 7061          run a pa
+00012f90: 7273 6520 6578 7072 6573 7369 6f6e 2061  rse expression a
+00012fa0: 6761 696e 7374 2061 206c 6973 7420 6f66  gainst a list of
+00012fb0: 2073 616d 706c 6520 7374 7269 6e67 732e   sample strings.
+00012fc0: 0a0a 2020 2020 2020 2020 5061 7261 6d65  ..        Parame
+00012fd0: 7465 7273 3a0a 0a20 2020 2020 2020 202d  ters:..        -
+00012fe0: 2060 6074 6573 7473 6060 202d 2061 206c   ``tests`` - a l
+00012ff0: 6973 7420 6f66 2073 6570 6172 6174 6520  ist of separate 
+00013000: 7465 7374 2073 7472 696e 6773 2c20 6f72  test strings, or
+00013010: 2061 206d 756c 7469 6c69 6e65 2073 7472   a multiline str
+00013020: 696e 6720 6f66 2074 6573 7420 7374 7269  ing of test stri
+00013030: 6e67 730a 2020 2020 2020 2020 2d20 6060  ngs.        - ``
+00013040: 7061 7273 655f 616c 6c60 6020 2d20 2864  parse_all`` - (d
+00013050: 6566 6175 6c74 3d20 6060 5472 7565 6060  efault= ``True``
+00013060: 2920 2d20 666c 6167 2074 6f20 7061 7373  ) - flag to pass
+00013070: 2074 6f20 3a63 6c61 7373 3a60 7061 7273   to :class:`pars
+00013080: 655f 7374 7269 6e67 6020 7768 656e 2072  e_string` when r
+00013090: 756e 6e69 6e67 2074 6573 7473 0a20 2020  unning tests.   
+000130a0: 2020 2020 202d 2060 6063 6f6d 6d65 6e74       - ``comment
+000130b0: 6060 202d 2028 6465 6661 756c 743d 2060  `` - (default= `
+000130c0: 6027 2327 6060 2920 2d20 6578 7072 6573  `'#'``) - expres
+000130d0: 7369 6f6e 2066 6f72 2069 6e64 6963 6174  sion for indicat
+000130e0: 696e 6720 656d 6265 6464 6564 2063 6f6d  ing embedded com
+000130f0: 6d65 6e74 7320 696e 2074 6865 2074 6573  ments in the tes
+00013100: 740a 2020 2020 2020 2020 2020 7374 7269  t.          stri
+00013110: 6e67 3b20 7061 7373 204e 6f6e 6520 746f  ng; pass None to
+00013120: 2064 6973 6162 6c65 2063 6f6d 6d65 6e74   disable comment
+00013130: 2066 696c 7465 7269 6e67 0a20 2020 2020   filtering.     
+00013140: 2020 202d 2060 6066 756c 6c5f 6475 6d70     - ``full_dump
+00013150: 6060 202d 2028 6465 6661 756c 743d 2060  `` - (default= `
+00013160: 6054 7275 6560 6029 202d 2064 756d 7020  `True``) - dump 
+00013170: 7265 7375 6c74 7320 6173 206c 6973 7420  results as list 
+00013180: 666f 6c6c 6f77 6564 2062 7920 7265 7375  followed by resu
+00013190: 6c74 7320 6e61 6d65 7320 696e 206e 6573  lts names in nes
+000131a0: 7465 6420 6f75 746c 696e 653b 0a20 2020  ted outline;.   
+000131b0: 2020 2020 2020 2069 6620 4661 6c73 652c         if False,
+000131c0: 206f 6e6c 7920 6475 6d70 206e 6573 7465   only dump neste
+000131d0: 6420 6c69 7374 0a20 2020 2020 2020 202d  d list.        -
+000131e0: 2060 6070 7269 6e74 5f72 6573 756c 7473   ``print_results
+000131f0: 6060 202d 2028 6465 6661 756c 743d 2060  `` - (default= `
+00013200: 6054 7275 6560 6029 2070 7269 6e74 7320  `True``) prints 
+00013210: 7465 7374 206f 7574 7075 7420 746f 2073  test output to s
+00013220: 7464 6f75 740a 2020 2020 2020 2020 2d20  tdout.        - 
+00013230: 6060 6661 696c 7572 655f 7465 7374 7360  ``failure_tests`
+00013240: 6020 2d20 2864 6566 6175 6c74 3d20 6060  ` - (default= ``
+00013250: 4661 6c73 6560 6029 2069 6e64 6963 6174  False``) indicat
+00013260: 6573 2069 6620 7468 6573 6520 7465 7374  es if these test
+00013270: 7320 6172 6520 6578 7065 6374 6564 2074  s are expected t
+00013280: 6f20 6661 696c 2070 6172 7369 6e67 0a20  o fail parsing. 
+00013290: 2020 2020 2020 202d 2060 6070 6f73 745f         - ``post_
+000132a0: 7061 7273 6560 6020 2d20 2864 6566 6175  parse`` - (defau
+000132b0: 6c74 3d20 6060 4e6f 6e65 6060 2920 6f70  lt= ``None``) op
+000132c0: 7469 6f6e 616c 2063 616c 6c62 6163 6b20  tional callback 
+000132d0: 666f 7220 7375 6363 6573 7366 756c 2070  for successful p
+000132e0: 6172 7365 2072 6573 756c 7473 3b20 6361  arse results; ca
+000132f0: 6c6c 6564 2061 730a 2020 2020 2020 2020  lled as.        
+00013300: 2020 6066 6e28 7465 7374 5f73 7472 696e    `fn(test_strin
+00013310: 672c 2070 6172 7365 5f72 6573 756c 7473  g, parse_results
+00013320: 2960 2061 6e64 2072 6574 7572 6e73 2061  )` and returns a
+00013330: 2073 7472 696e 6720 746f 2062 6520 6164   string to be ad
+00013340: 6465 6420 746f 2074 6865 2074 6573 7420  ded to the test 
+00013350: 6f75 7470 7574 0a20 2020 2020 2020 202d  output.        -
+00013360: 2060 6066 696c 6560 6020 2d20 2864 6566   ``file`` - (def
+00013370: 6175 6c74 3d20 6060 4e6f 6e65 6060 2920  ault= ``None``) 
+00013380: 6f70 7469 6f6e 616c 2066 696c 652d 6c69  optional file-li
+00013390: 6b65 206f 626a 6563 7420 746f 2077 6869  ke object to whi
+000133a0: 6368 2074 6573 7420 6f75 7470 7574 2077  ch test output w
+000133b0: 696c 6c20 6265 2077 7269 7474 656e 3b0a  ill be written;.
+000133c0: 2020 2020 2020 2020 2020 6966 204e 6f6e            if Non
+000133d0: 652c 2077 696c 6c20 6465 6661 756c 7420  e, will default 
+000133e0: 746f 2060 6073 7973 2e73 7464 6f75 7460  to ``sys.stdout`
+000133f0: 600a 2020 2020 2020 2020 2d20 6060 7769  `.        - ``wi
+00013400: 7468 5f6c 696e 655f 6e75 6d62 6572 7360  th_line_numbers`
+00013410: 6020 2d20 6465 6661 756c 743d 2060 6046  ` - default= ``F
+00013420: 616c 7365 6060 2920 7368 6f77 2074 6573  alse``) show tes
+00013430: 7420 7374 7269 6e67 7320 7769 7468 206c  t strings with l
+00013440: 696e 6520 616e 6420 636f 6c75 6d6e 206e  ine and column n
+00013450: 756d 6265 7273 0a0a 2020 2020 2020 2020  umbers..        
+00013460: 5265 7475 726e 733a 2061 2028 7375 6363  Returns: a (succ
+00013470: 6573 732c 2072 6573 756c 7473 2920 7475  ess, results) tu
+00013480: 706c 652c 2077 6865 7265 2073 7563 6365  ple, where succe
+00013490: 7373 2069 6e64 6963 6174 6573 2074 6861  ss indicates tha
+000134a0: 7420 616c 6c20 7465 7374 7320 7375 6363  t all tests succ
+000134b0: 6565 6465 640a 2020 2020 2020 2020 286f  eeded.        (o
+000134c0: 7220 6661 696c 6564 2069 6620 6060 6661  r failed if ``fa
+000134d0: 696c 7572 655f 7465 7374 7360 6020 6973  ilure_tests`` is
+000134e0: 2054 7275 6529 2c20 616e 6420 7468 6520   True), and the 
+000134f0: 7265 7375 6c74 7320 636f 6e74 6169 6e20  results contain 
+00013500: 6120 6c69 7374 206f 6620 6c69 6e65 7320  a list of lines 
+00013510: 6f66 2065 6163 680a 2020 2020 2020 2020  of each.        
+00013520: 7465 7374 2773 206f 7574 7075 740a 0a20  test's output.. 
+00013530: 2020 2020 2020 2045 7861 6d70 6c65 3a3a         Example::
+00013540: 0a0a 2020 2020 2020 2020 2020 2020 6e75  ..            nu
+00013550: 6d62 6572 5f65 7870 7220 3d20 7079 7061  mber_expr = pypa
+00013560: 7273 696e 675f 636f 6d6d 6f6e 2e6e 756d  rsing_common.num
+00013570: 6265 722e 636f 7079 2829 0a0a 2020 2020  ber.copy()..    
+00013580: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+00013590: 206e 756d 6265 725f 6578 7072 2e72 756e   number_expr.run
+000135a0: 5f74 6573 7473 2827 2727 0a20 2020 2020  _tests('''.     
+000135b0: 2020 2020 2020 2020 2020 2023 2075 6e73             # uns
+000135c0: 6967 6e65 6420 696e 7465 6765 720a 2020  igned integer.  
+000135d0: 2020 2020 2020 2020 2020 2020 2020 3130                10
+000135e0: 300a 2020 2020 2020 2020 2020 2020 2020  0.              
+000135f0: 2020 2320 6e65 6761 7469 7665 2069 6e74    # negative int
+00013600: 6567 6572 0a20 2020 2020 2020 2020 2020  eger.           
+00013610: 2020 2020 202d 3130 300a 2020 2020 2020       -100.      
+00013620: 2020 2020 2020 2020 2020 2320 666c 6f61            # floa
+00013630: 7420 7769 7468 2073 6369 656e 7469 6669  t with scientifi
+00013640: 6320 6e6f 7461 7469 6f6e 0a20 2020 2020  c notation.     
+00013650: 2020 2020 2020 2020 2020 2036 2e30 3265             6.02e
+00013660: 3233 0a20 2020 2020 2020 2020 2020 2020  23.             
+00013670: 2020 2023 2069 6e74 6567 6572 2077 6974     # integer wit
+00013680: 6820 7363 6965 6e74 6966 6963 206e 6f74  h scientific not
+00013690: 6174 696f 6e0a 2020 2020 2020 2020 2020  ation.          
+000136a0: 2020 2020 2020 3165 2d31 320a 2020 2020        1e-12.    
+000136b0: 2020 2020 2020 2020 2020 2020 2727 2729              ''')
+000136c0: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
+000136d0: 6e74 2822 5375 6363 6573 7322 2069 6620  nt("Success" if 
+000136e0: 7265 7375 6c74 5b30 5d20 656c 7365 2022  result[0] else "
+000136f0: 4661 696c 6564 2122 290a 0a20 2020 2020  Failed!")..     
+00013700: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+00013710: 6e75 6d62 6572 5f65 7870 722e 7275 6e5f  number_expr.run_
+00013720: 7465 7374 7328 2727 270a 2020 2020 2020  tests('''.      
+00013730: 2020 2020 2020 2020 2020 2320 7374 7261            # stra
+00013740: 7920 6368 6172 6163 7465 720a 2020 2020  y character.    
+00013750: 2020 2020 2020 2020 2020 2020 3130 305a              100Z
+00013760: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013770: 2023 206d 6973 7369 6e67 206c 6561 6469   # missing leadi
+00013780: 6e67 2064 6967 6974 2062 6566 6f72 6520  ng digit before 
+00013790: 272e 270a 2020 2020 2020 2020 2020 2020  '.'.            
+000137a0: 2020 2020 2d2e 3130 300a 2020 2020 2020      -.100.      
+000137b0: 2020 2020 2020 2020 2020 2320 746f 6f20            # too 
+000137c0: 6d61 6e79 2027 2e27 0a20 2020 2020 2020  many '.'.       
+000137d0: 2020 2020 2020 2020 2033 2e31 342e 3135           3.14.15
+000137e0: 390a 2020 2020 2020 2020 2020 2020 2020  9.              
+000137f0: 2020 2727 272c 2066 6169 6c75 7265 5f74    ''', failure_t
+00013800: 6573 7473 3d54 7275 6529 0a20 2020 2020  ests=True).     
+00013810: 2020 2020 2020 2070 7269 6e74 2822 5375         print("Su
+00013820: 6363 6573 7322 2069 6620 7265 7375 6c74  ccess" if result
+00013830: 5b30 5d20 656c 7365 2022 4661 696c 6564  [0] else "Failed
+00013840: 2122 290a 0a20 2020 2020 2020 2070 7269  !")..        pri
+00013850: 6e74 733a 3a0a 0a20 2020 2020 2020 2020  nts::..         
+00013860: 2020 2023 2075 6e73 6967 6e65 6420 696e     # unsigned in
+00013870: 7465 6765 720a 2020 2020 2020 2020 2020  teger.          
+00013880: 2020 3130 300a 2020 2020 2020 2020 2020    100.          
+00013890: 2020 5b31 3030 5d0a 0a20 2020 2020 2020    [100]..       
+000138a0: 2020 2020 2023 206e 6567 6174 6976 6520       # negative 
+000138b0: 696e 7465 6765 720a 2020 2020 2020 2020  integer.        
+000138c0: 2020 2020 2d31 3030 0a20 2020 2020 2020      -100.       
+000138d0: 2020 2020 205b 2d31 3030 5d0a 0a20 2020       [-100]..   
+000138e0: 2020 2020 2020 2020 2023 2066 6c6f 6174           # float
+000138f0: 2077 6974 6820 7363 6965 6e74 6966 6963   with scientific
+00013900: 206e 6f74 6174 696f 6e0a 2020 2020 2020   notation.      
+00013910: 2020 2020 2020 362e 3032 6532 330a 2020        6.02e23.  
+00013920: 2020 2020 2020 2020 2020 5b36 2e30 3265            [6.02e
+00013930: 2b32 335d 0a0a 2020 2020 2020 2020 2020  +23]..          
+00013940: 2020 2320 696e 7465 6765 7220 7769 7468    # integer with
+00013950: 2073 6369 656e 7469 6669 6320 6e6f 7461   scientific nota
+00013960: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
+00013970: 2031 652d 3132 0a20 2020 2020 2020 2020   1e-12.         
+00013980: 2020 205b 3165 2d31 325d 0a0a 2020 2020     [1e-12]..    
+00013990: 2020 2020 2020 2020 5375 6363 6573 730a          Success.
+000139a0: 0a20 2020 2020 2020 2020 2020 2023 2073  .            # s
+000139b0: 7472 6179 2063 6861 7261 6374 6572 0a20  tray character. 
+000139c0: 2020 2020 2020 2020 2020 2031 3030 5a0a             100Z.
+000139d0: 2020 2020 2020 2020 2020 2020 2020 205e                 ^
+000139e0: 0a20 2020 2020 2020 2020 2020 2046 4149  .            FAI
+000139f0: 4c3a 2045 7870 6563 7465 6420 656e 6420  L: Expected end 
+00013a00: 6f66 2074 6578 7420 2861 7420 6368 6172  of text (at char
+00013a10: 2033 292c 2028 6c69 6e65 3a31 2c20 636f   3), (line:1, co
+00013a20: 6c3a 3429 0a0a 2020 2020 2020 2020 2020  l:4)..          
+00013a30: 2020 2320 6d69 7373 696e 6720 6c65 6164    # missing lead
+00013a40: 696e 6720 6469 6769 7420 6265 666f 7265  ing digit before
+00013a50: 2027 2e27 0a20 2020 2020 2020 2020 2020   '.'.           
+00013a60: 202d 2e31 3030 0a20 2020 2020 2020 2020   -.100.         
+00013a70: 2020 205e 0a20 2020 2020 2020 2020 2020     ^.           
+00013a80: 2046 4149 4c3a 2045 7870 6563 7465 6420   FAIL: Expected 
+00013a90: 7b72 6561 6c20 6e75 6d62 6572 2077 6974  {real number wit
+00013aa0: 6820 7363 6965 6e74 6966 6963 206e 6f74  h scientific not
+00013ab0: 6174 696f 6e20 7c20 7265 616c 206e 756d  ation | real num
+00013ac0: 6265 7220 7c20 7369 676e 6564 2069 6e74  ber | signed int
+00013ad0: 6567 6572 7d20 2861 7420 6368 6172 2030  eger} (at char 0
+00013ae0: 292c 2028 6c69 6e65 3a31 2c20 636f 6c3a  ), (line:1, col:
+00013af0: 3129 0a0a 2020 2020 2020 2020 2020 2020  1)..            
+00013b00: 2320 746f 6f20 6d61 6e79 2027 2e27 0a20  # too many '.'. 
+00013b10: 2020 2020 2020 2020 2020 2033 2e31 342e             3.14.
+00013b20: 3135 390a 2020 2020 2020 2020 2020 2020  159.            
+00013b30: 2020 2020 5e0a 2020 2020 2020 2020 2020      ^.          
+00013b40: 2020 4641 494c 3a20 4578 7065 6374 6564    FAIL: Expected
+00013b50: 2065 6e64 206f 6620 7465 7874 2028 6174   end of text (at
+00013b60: 2063 6861 7220 3429 2c20 286c 696e 653a   char 4), (line:
+00013b70: 312c 2063 6f6c 3a35 290a 0a20 2020 2020  1, col:5)..     
+00013b80: 2020 2020 2020 2053 7563 6365 7373 0a0a         Success..
+00013b90: 2020 2020 2020 2020 4561 6368 2074 6573          Each tes
+00013ba0: 7420 7374 7269 6e67 206d 7573 7420 6265  t string must be
+00013bb0: 206f 6e20 6120 7369 6e67 6c65 206c 696e   on a single lin
+00013bc0: 652e 2049 6620 796f 7520 7761 6e74 2074  e. If you want t
+00013bd0: 6f20 7465 7374 2061 2073 7472 696e 6720  o test a string 
+00013be0: 7468 6174 2073 7061 6e73 206d 756c 7469  that spans multi
+00013bf0: 706c 650a 2020 2020 2020 2020 6c69 6e65  ple.        line
+00013c00: 732c 2063 7265 6174 6520 6120 7465 7374  s, create a test
+00013c10: 206c 696b 6520 7468 6973 3a3a 0a0a 2020   like this::..  
+00013c20: 2020 2020 2020 2020 2020 6578 7072 2e72            expr.r
+00013c30: 756e 5f74 6573 7473 2872 2274 6869 7320  un_tests(r"this 
+00013c40: 6973 2061 2074 6573 745c 5c6e 206f 6620  is a test\\n of 
+00013c50: 7374 7269 6e67 7320 7468 6174 2073 7061  strings that spa
+00013c60: 6e73 205c 5c6e 2033 206c 696e 6573 2229  ns \\n 3 lines")
+00013c70: 0a0a 2020 2020 2020 2020 284e 6f74 6520  ..        (Note 
+00013c80: 7468 6174 2074 6869 7320 6973 2061 2072  that this is a r
+00013c90: 6177 2073 7472 696e 6720 6c69 7465 7261  aw string litera
+00013ca0: 6c2c 2079 6f75 206d 7573 7420 696e 636c  l, you must incl
+00013cb0: 7564 6520 7468 6520 6c65 6164 696e 6720  ude the leading 
+00013cc0: 6060 2772 2760 602e 290a 2020 2020 2020  ``'r'``.).      
+00013cd0: 2020 2222 220a 2020 2020 2020 2020 6672    """.        fr
+00013ce0: 6f6d 202e 7465 7374 696e 6720 696d 706f  om .testing impo
+00013cf0: 7274 2070 7970 6172 7369 6e67 5f74 6573  rt pyparsing_tes
+00013d00: 740a 0a20 2020 2020 2020 2070 6172 7365  t..        parse
+00013d10: 416c 6c20 3d20 7061 7273 6541 6c6c 2061  All = parseAll a
+00013d20: 6e64 2070 6172 7365 5f61 6c6c 0a20 2020  nd parse_all.   
+00013d30: 2020 2020 2066 756c 6c44 756d 7020 3d20       fullDump = 
+00013d40: 6675 6c6c 4475 6d70 2061 6e64 2066 756c  fullDump and ful
+00013d50: 6c5f 6475 6d70 0a20 2020 2020 2020 2070  l_dump.        p
+00013d60: 7269 6e74 5265 7375 6c74 7320 3d20 7072  rintResults = pr
+00013d70: 696e 7452 6573 756c 7473 2061 6e64 2070  intResults and p
+00013d80: 7269 6e74 5f72 6573 756c 7473 0a20 2020  rint_results.   
+00013d90: 2020 2020 2066 6169 6c75 7265 5465 7374       failureTest
+00013da0: 7320 3d20 6661 696c 7572 6554 6573 7473  s = failureTests
+00013db0: 206f 7220 6661 696c 7572 655f 7465 7374   or failure_test
+00013dc0: 730a 2020 2020 2020 2020 706f 7374 5061  s.        postPa
+00013dd0: 7273 6520 3d20 706f 7374 5061 7273 6520  rse = postParse 
+00013de0: 6f72 2070 6f73 745f 7061 7273 650a 2020  or post_parse.  
+00013df0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+00013e00: 6e63 6528 7465 7374 732c 2073 7472 5f74  nce(tests, str_t
+00013e10: 7970 6529 3a0a 2020 2020 2020 2020 2020  ype):.          
+00013e20: 2020 7465 7374 7320 3d20 7479 7069 6e67    tests = typing
+00013e30: 2e63 6173 7428 7374 722c 2074 6573 7473  .cast(str, tests
+00013e40: 290a 2020 2020 2020 2020 2020 2020 6c69  ).            li
+00013e50: 6e65 5f73 7472 6970 203d 2074 7970 6528  ne_strip = type(
+00013e60: 7465 7374 7329 2e73 7472 6970 0a20 2020  tests).strip.   
+00013e70: 2020 2020 2020 2020 2074 6573 7473 203d           tests =
+00013e80: 205b 6c69 6e65 5f73 7472 6970 2874 6573   [line_strip(tes
+00013e90: 745f 6c69 6e65 2920 666f 7220 7465 7374  t_line) for test
+00013ea0: 5f6c 696e 6520 696e 2074 6573 7473 2e72  _line in tests.r
+00013eb0: 7374 7269 7028 292e 7370 6c69 746c 696e  strip().splitlin
+00013ec0: 6573 2829 5d0a 2020 2020 2020 2020 636f  es()].        co
+00013ed0: 6d6d 656e 745f 7370 6563 6966 6965 6420  mment_specified 
+00013ee0: 3d20 636f 6d6d 656e 7420 6973 206e 6f74  = comment is not
+00013ef0: 204e 6f6e 650a 2020 2020 2020 2020 6966   None.        if
+00013f00: 2063 6f6d 6d65 6e74 5f73 7065 6369 6669   comment_specifi
+00013f10: 6564 3a0a 2020 2020 2020 2020 2020 2020  ed:.            
+00013f20: 6966 2069 7369 6e73 7461 6e63 6528 636f  if isinstance(co
+00013f30: 6d6d 656e 742c 2073 7472 5f74 7970 6529  mment, str_type)
+00013f40: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00013f50: 2020 636f 6d6d 656e 7420 3d20 7479 7069    comment = typi
+00013f60: 6e67 2e63 6173 7428 7374 722c 2063 6f6d  ng.cast(str, com
+00013f70: 6d65 6e74 290a 2020 2020 2020 2020 2020  ment).          
+00013f80: 2020 2020 2020 636f 6d6d 656e 7420 3d20        comment = 
+00013f90: 4c69 7465 7261 6c28 636f 6d6d 656e 7429  Literal(comment)
+00013fa0: 0a20 2020 2020 2020 2063 6f6d 6d65 6e74  .        comment
+00013fb0: 203d 2074 7970 696e 672e 6361 7374 2850   = typing.cast(P
+00013fc0: 6172 7365 7245 6c65 6d65 6e74 2c20 636f  arserElement, co
+00013fd0: 6d6d 656e 7429 0a20 2020 2020 2020 2069  mment).        i
+00013fe0: 6620 6669 6c65 2069 7320 4e6f 6e65 3a0a  f file is None:.
+00013ff0: 2020 2020 2020 2020 2020 2020 6669 6c65              file
+00014000: 203d 2073 7973 2e73 7464 6f75 740a 2020   = sys.stdout.  
+00014010: 2020 2020 2020 7072 696e 745f 203d 2066        print_ = f
+00014020: 696c 652e 7772 6974 650a 0a20 2020 2020  ile.write..     
+00014030: 2020 2072 6573 756c 743a 2055 6e69 6f6e     result: Union
+00014040: 5b50 6172 7365 5265 7375 6c74 732c 2045  [ParseResults, E
+00014050: 7863 6570 7469 6f6e 5d0a 2020 2020 2020  xception].      
+00014060: 2020 616c 6c52 6573 756c 7473 3a20 4c69    allResults: Li
+00014070: 7374 5b54 7570 6c65 5b73 7472 2c20 556e  st[Tuple[str, Un
+00014080: 696f 6e5b 5061 7273 6552 6573 756c 7473  ion[ParseResults
+00014090: 2c20 4578 6365 7074 696f 6e5d 5d5d 203d  , Exception]]] =
+000140a0: 205b 5d0a 2020 2020 2020 2020 636f 6d6d   [].        comm
+000140b0: 656e 7473 3a20 4c69 7374 5b73 7472 5d20  ents: List[str] 
+000140c0: 3d20 5b5d 0a20 2020 2020 2020 2073 7563  = [].        suc
+000140d0: 6365 7373 203d 2054 7275 650a 2020 2020  cess = True.    
+000140e0: 2020 2020 4e4c 203d 204c 6974 6572 616c      NL = Literal
+000140f0: 2872 225c 6e22 292e 6164 645f 7061 7273  (r"\n").add_pars
+00014100: 655f 6163 7469 6f6e 2872 6570 6c61 6365  e_action(replace
+00014110: 5f77 6974 6828 225c 6e22 2929 2e69 676e  _with("\n")).ign
+00014120: 6f72 6528 7175 6f74 6564 5f73 7472 696e  ore(quoted_strin
+00014130: 6729 0a20 2020 2020 2020 2042 4f4d 203d  g).        BOM =
+00014140: 2022 5c75 6665 6666 220a 2020 2020 2020   "\ufeff".      
+00014150: 2020 666f 7220 7420 696e 2074 6573 7473    for t in tests
+00014160: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00014170: 2063 6f6d 6d65 6e74 5f73 7065 6369 6669   comment_specifi
+00014180: 6564 2061 6e64 2063 6f6d 6d65 6e74 2e6d  ed and comment.m
+00014190: 6174 6368 6573 2874 2c20 4661 6c73 6529  atches(t, False)
+000141a0: 206f 7220 636f 6d6d 656e 7473 2061 6e64   or comments and
+000141b0: 206e 6f74 2074 3a0a 2020 2020 2020 2020   not t:.        
+000141c0: 2020 2020 2020 2020 636f 6d6d 656e 7473          comments
+000141d0: 2e61 7070 656e 6428 0a20 2020 2020 2020  .append(.       
+000141e0: 2020 2020 2020 2020 2020 2020 2070 7970               pyp
+000141f0: 6172 7369 6e67 5f74 6573 742e 7769 7468  arsing_test.with
+00014200: 5f6c 696e 655f 6e75 6d62 6572 7328 7429  _line_numbers(t)
+00014210: 2069 6620 7769 7468 5f6c 696e 655f 6e75   if with_line_nu
+00014220: 6d62 6572 7320 656c 7365 2074 0a20 2020  mbers else t.   
+00014230: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
+00014240: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00014250: 6f6e 7469 6e75 650a 2020 2020 2020 2020  ontinue.        
+00014260: 2020 2020 6966 206e 6f74 2074 3a0a 2020      if not t:.  
+00014270: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00014280: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
+00014290: 2020 206f 7574 203d 205b 0a20 2020 2020     out = [.     
+000142a0: 2020 2020 2020 2020 2020 2022 5c6e 2220             "\n" 
+000142b0: 2b20 225c 6e22 2e6a 6f69 6e28 636f 6d6d  + "\n".join(comm
+000142c0: 656e 7473 2920 6966 2063 6f6d 6d65 6e74  ents) if comment
+000142d0: 7320 656c 7365 2022 222c 0a20 2020 2020  s else "",.     
+000142e0: 2020 2020 2020 2020 2020 2070 7970 6172             pypar
+000142f0: 7369 6e67 5f74 6573 742e 7769 7468 5f6c  sing_test.with_l
+00014300: 696e 655f 6e75 6d62 6572 7328 7429 2069  ine_numbers(t) i
+00014310: 6620 7769 7468 5f6c 696e 655f 6e75 6d62  f with_line_numb
+00014320: 6572 7320 656c 7365 2074 2c0a 2020 2020  ers else t,.    
+00014330: 2020 2020 2020 2020 5d0a 2020 2020 2020          ].      
+00014340: 2020 2020 2020 636f 6d6d 656e 7473 203d        comments =
+00014350: 205b 5d0a 2020 2020 2020 2020 2020 2020   [].            
+00014360: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+00014370: 2020 2020 2023 2063 6f6e 7665 7274 206e       # convert n
+00014380: 6577 6c69 6e65 206d 6172 6b73 2074 6f20  ewline marks to 
+00014390: 6163 7475 616c 206e 6577 6c69 6e65 732c  actual newlines,
+000143a0: 2061 6e64 2073 7472 6970 206c 6561 6469   and strip leadi
+000143b0: 6e67 2042 4f4d 2069 6620 7072 6573 656e  ng BOM if presen
+000143c0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
+000143d0: 2020 7420 3d20 4e4c 2e74 7261 6e73 666f    t = NL.transfo
+000143e0: 726d 5f73 7472 696e 6728 742e 6c73 7472  rm_string(t.lstr
+000143f0: 6970 2842 4f4d 2929 0a20 2020 2020 2020  ip(BOM)).       
+00014400: 2020 2020 2020 2020 2072 6573 756c 7420           result 
+00014410: 3d20 7365 6c66 2e70 6172 7365 5f73 7472  = self.parse_str
+00014420: 696e 6728 742c 2070 6172 7365 5f61 6c6c  ing(t, parse_all
+00014430: 3d70 6172 7365 416c 6c29 0a20 2020 2020  =parseAll).     
+00014440: 2020 2020 2020 2065 7863 6570 7420 5061         except Pa
+00014450: 7273 6542 6173 6545 7863 6570 7469 6f6e  rseBaseException
+00014460: 2061 7320 7065 3a0a 2020 2020 2020 2020   as pe:.        
+00014470: 2020 2020 2020 2020 6661 7461 6c20 3d20          fatal = 
+00014480: 2228 4641 5441 4c29 2220 6966 2069 7369  "(FATAL)" if isi
+00014490: 6e73 7461 6e63 6528 7065 2c20 5061 7273  nstance(pe, Pars
+000144a0: 6546 6174 616c 4578 6365 7074 696f 6e29  eFatalException)
+000144b0: 2065 6c73 6520 2222 0a20 2020 2020 2020   else "".       
+000144c0: 2020 2020 2020 2020 206f 7574 2e61 7070           out.app
+000144d0: 656e 6428 7065 2e65 7870 6c61 696e 2829  end(pe.explain()
+000144e0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+000144f0: 2020 6f75 742e 6170 7065 6e64 2822 4641    out.append("FA
+00014500: 494c 3a20 2220 2b20 7374 7228 7065 2929  IL: " + str(pe))
+00014510: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014520: 2069 6620 5061 7273 6572 456c 656d 656e   if ParserElemen
+00014530: 742e 7665 7262 6f73 655f 7374 6163 6b74  t.verbose_stackt
+00014540: 7261 6365 3a0a 2020 2020 2020 2020 2020  race:.          
+00014550: 2020 2020 2020 2020 2020 6f75 742e 6578            out.ex
+00014560: 7465 6e64 2874 7261 6365 6261 636b 2e66  tend(traceback.f
+00014570: 6f72 6d61 745f 7462 2870 652e 5f5f 7472  ormat_tb(pe.__tr
+00014580: 6163 6562 6163 6b5f 5f29 290a 2020 2020  aceback__)).    
+00014590: 2020 2020 2020 2020 2020 2020 7375 6363              succ
+000145a0: 6573 7320 3d20 7375 6363 6573 7320 616e  ess = success an
+000145b0: 6420 6661 696c 7572 6554 6573 7473 0a20  d failureTests. 
+000145c0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+000145d0: 6573 756c 7420 3d20 7065 0a20 2020 2020  esult = pe.     
+000145e0: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
+000145f0: 6365 7074 696f 6e20 6173 2065 7863 3a0a  ception as exc:.
+00014600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014610: 6f75 742e 6170 7065 6e64 2866 2246 4149  out.append(f"FAI
+00014620: 4c2d 4558 4345 5054 494f 4e3a 207b 7479  L-EXCEPTION: {ty
+00014630: 7065 2865 7863 292e 5f5f 6e61 6d65 5f5f  pe(exc).__name__
+00014640: 7d3a 207b 6578 637d 2229 0a20 2020 2020  }: {exc}").     
+00014650: 2020 2020 2020 2020 2020 2069 6620 5061             if Pa
+00014660: 7273 6572 456c 656d 656e 742e 7665 7262  rserElement.verb
+00014670: 6f73 655f 7374 6163 6b74 7261 6365 3a0a  ose_stacktrace:.
+00014680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014690: 2020 2020 6f75 742e 6578 7465 6e64 2874      out.extend(t
+000146a0: 7261 6365 6261 636b 2e66 6f72 6d61 745f  raceback.format_
+000146b0: 7462 2865 7863 2e5f 5f74 7261 6365 6261  tb(exc.__traceba
+000146c0: 636b 5f5f 2929 0a20 2020 2020 2020 2020  ck__)).         
+000146d0: 2020 2020 2020 2073 7563 6365 7373 203d         success =
+000146e0: 2073 7563 6365 7373 2061 6e64 2066 6169   success and fai
+000146f0: 6c75 7265 5465 7374 730a 2020 2020 2020  lureTests.      
+00014700: 2020 2020 2020 2020 2020 7265 7375 6c74            result
+00014710: 203d 2065 7863 0a20 2020 2020 2020 2020   = exc.         
+00014720: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00014730: 2020 2020 2020 2020 2073 7563 6365 7373           success
+00014740: 203d 2073 7563 6365 7373 2061 6e64 206e   = success and n
+00014750: 6f74 2066 6169 6c75 7265 5465 7374 730a  ot failureTests.
+00014760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014770: 6966 2070 6f73 7450 6172 7365 2069 7320  if postParse is 
+00014780: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+00014790: 2020 2020 2020 2020 2020 2020 2020 7472                tr
+000147a0: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
+000147b0: 2020 2020 2020 2020 2020 2070 705f 7661             pp_va
+000147c0: 6c75 6520 3d20 706f 7374 5061 7273 6528  lue = postParse(
+000147d0: 742c 2072 6573 756c 7429 0a20 2020 2020  t, result).     
+000147e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000147f0: 2020 2069 6620 7070 5f76 616c 7565 2069     if pp_value i
+00014800: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+00014810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014820: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
+00014830: 7461 6e63 6528 7070 5f76 616c 7565 2c20  tance(pp_value, 
+00014840: 5061 7273 6552 6573 756c 7473 293a 0a20  ParseResults):. 
+00014850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014860: 2020 2020 2020 2020 2020 2020 2020 206f                 o
+00014870: 7574 2e61 7070 656e 6428 7070 5f76 616c  ut.append(pp_val
+00014880: 7565 2e64 756d 7028 2929 0a20 2020 2020  ue.dump()).     
+00014890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000148a0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+000148b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000148c0: 2020 2020 2020 2020 2020 2020 206f 7574               out
+000148d0: 2e61 7070 656e 6428 7374 7228 7070 5f76  .append(str(pp_v
+000148e0: 616c 7565 2929 0a20 2020 2020 2020 2020  alue)).         
+000148f0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00014900: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00014910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014920: 206f 7574 2e61 7070 656e 6428 7265 7375   out.append(resu
+00014930: 6c74 2e64 756d 7028 2929 0a20 2020 2020  lt.dump()).     
+00014940: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00014950: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
+00014960: 6173 2065 3a0a 2020 2020 2020 2020 2020  as e:.          
+00014970: 2020 2020 2020 2020 2020 2020 2020 6f75                ou
+00014980: 742e 6170 7065 6e64 2872 6573 756c 742e  t.append(result.
+00014990: 6475 6d70 2866 756c 6c3d 6675 6c6c 4475  dump(full=fullDu
+000149a0: 6d70 2929 0a20 2020 2020 2020 2020 2020  mp)).           
+000149b0: 2020 2020 2020 2020 2020 2020 206f 7574               out
+000149c0: 2e61 7070 656e 6428 0a20 2020 2020 2020  .append(.       
+000149d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000149e0: 2020 2020 2066 227b 706f 7374 5061 7273       f"{postPars
+000149f0: 652e 5f5f 6e61 6d65 5f5f 7d20 6661 696c  e.__name__} fail
+00014a00: 6564 3a20 7b74 7970 6528 6529 2e5f 5f6e  ed: {type(e).__n
+00014a10: 616d 655f 5f7d 3a20 7b65 7d22 0a20 2020  ame__}: {e}".   
+00014a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014a30: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+00014a40: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00014a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014a60: 206f 7574 2e61 7070 656e 6428 7265 7375   out.append(resu
+00014a70: 6c74 2e64 756d 7028 6675 6c6c 3d66 756c  lt.dump(full=ful
+00014a80: 6c44 756d 7029 290a 2020 2020 2020 2020  lDump)).        
+00014a90: 2020 2020 6f75 742e 6170 7065 6e64 2822      out.append("
+00014aa0: 2229 0a0a 2020 2020 2020 2020 2020 2020  ")..            
+00014ab0: 6966 2070 7269 6e74 5265 7375 6c74 733a  if printResults:
+00014ac0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014ad0: 2070 7269 6e74 5f28 225c 6e22 2e6a 6f69   print_("\n".joi
+00014ae0: 6e28 6f75 7429 290a 0a20 2020 2020 2020  n(out))..       
+00014af0: 2020 2020 2061 6c6c 5265 7375 6c74 732e       allResults.
+00014b00: 6170 7065 6e64 2828 742c 2072 6573 756c  append((t, resul
+00014b10: 7429 290a 0a20 2020 2020 2020 2072 6574  t))..        ret
+00014b20: 7572 6e20 7375 6363 6573 732c 2061 6c6c  urn success, all
+00014b30: 5265 7375 6c74 730a 0a20 2020 2064 6566  Results..    def
+00014b40: 2063 7265 6174 655f 6469 6167 7261 6d28   create_diagram(
+00014b50: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+00014b60: 2020 2020 2020 206f 7574 7075 745f 6874         output_ht
+00014b70: 6d6c 3a20 556e 696f 6e5b 5465 7874 494f  ml: Union[TextIO
+00014b80: 2c20 5061 7468 2c20 7374 725d 2c0a 2020  , Path, str],.  
+00014b90: 2020 2020 2020 7665 7274 6963 616c 3a20        vertical: 
+00014ba0: 696e 7420 3d20 332c 0a20 2020 2020 2020  int = 3,.       
+00014bb0: 2073 686f 775f 7265 7375 6c74 735f 6e61   show_results_na
+00014bc0: 6d65 733a 2062 6f6f 6c20 3d20 4661 6c73  mes: bool = Fals
+00014bd0: 652c 0a20 2020 2020 2020 2073 686f 775f  e,.        show_
+00014be0: 6772 6f75 7073 3a20 626f 6f6c 203d 2046  groups: bool = F
+00014bf0: 616c 7365 2c0a 2020 2020 2020 2020 656d  alse,.        em
+00014c00: 6265 643a 2062 6f6f 6c20 3d20 4661 6c73  bed: bool = Fals
+00014c10: 652c 0a20 2020 2020 2020 202a 2a6b 7761  e,.        **kwa
+00014c20: 7267 732c 0a20 2020 2029 202d 3e20 4e6f  rgs,.    ) -> No
+00014c30: 6e65 3a0a 2020 2020 2020 2020 2222 220a  ne:.        """.
+00014c40: 2020 2020 2020 2020 4372 6561 7465 2061          Create a
+00014c50: 2072 6169 6c72 6f61 6420 6469 6167 7261   railroad diagra
+00014c60: 6d20 666f 7220 7468 6520 7061 7273 6572  m for the parser
+00014c70: 2e0a 0a20 2020 2020 2020 2050 6172 616d  ...        Param
+00014c80: 6574 6572 733a 0a0a 2020 2020 2020 2020  eters:..        
+00014c90: 2d20 6060 6f75 7470 7574 5f68 746d 6c60  - ``output_html`
+00014ca0: 6020 2873 7472 206f 7220 6669 6c65 2d6c  ` (str or file-l
+00014cb0: 696b 6520 6f62 6a65 6374 2920 2d20 6f75  ike object) - ou
+00014cc0: 7470 7574 2074 6172 6765 7420 666f 7220  tput target for 
+00014cd0: 6765 6e65 7261 7465 640a 2020 2020 2020  generated.      
+00014ce0: 2020 2020 6469 6167 7261 6d20 4854 4d4c      diagram HTML
+00014cf0: 0a20 2020 2020 2020 202d 2060 6076 6572  .        - ``ver
+00014d00: 7469 6361 6c60 6020 2869 6e74 2920 2d20  tical`` (int) - 
+00014d10: 7468 7265 7368 6f6c 6420 666f 7220 666f  threshold for fo
+00014d20: 726d 6174 7469 6e67 206d 756c 7469 706c  rmatting multipl
+00014d30: 6520 616c 7465 726e 6174 6976 6573 2076  e alternatives v
+00014d40: 6572 7469 6361 6c6c 790a 2020 2020 2020  ertically.      
+00014d50: 2020 2020 696e 7374 6561 6420 6f66 2068      instead of h
+00014d60: 6f72 697a 6f6e 7461 6c6c 7920 2864 6566  orizontally (def
+00014d70: 6175 6c74 3d33 290a 2020 2020 2020 2020  ault=3).        
+00014d80: 2d20 6060 7368 6f77 5f72 6573 756c 7473  - ``show_results
+00014d90: 5f6e 616d 6573 6060 202d 2062 6f6f 6c20  _names`` - bool 
+00014da0: 666c 6167 2077 6865 7468 6572 2064 6961  flag whether dia
+00014db0: 6772 616d 2073 686f 756c 6420 7368 6f77  gram should show
+00014dc0: 2061 6e6e 6f74 6174 696f 6e73 2066 6f72   annotations for
+00014dd0: 0a20 2020 2020 2020 2020 2064 6566 696e  .          defin
+00014de0: 6564 2072 6573 756c 7473 206e 616d 6573  ed results names
+00014df0: 0a20 2020 2020 2020 202d 2060 6073 686f  .        - ``sho
+00014e00: 775f 6772 6f75 7073 6060 202d 2062 6f6f  w_groups`` - boo
+00014e10: 6c20 666c 6167 2077 6865 7468 6572 2067  l flag whether g
+00014e20: 726f 7570 7320 7368 6f75 6c64 2062 6520  roups should be 
+00014e30: 6869 6768 6c69 6768 7465 6420 7769 7468  highlighted with
+00014e40: 2061 6e20 756e 6c61 6265 6c65 6420 7375   an unlabeled su
+00014e50: 7272 6f75 6e64 696e 6720 626f 780a 2020  rrounding box.  
+00014e60: 2020 2020 2020 2d20 6060 656d 6265 6460        - ``embed`
+00014e70: 6020 2d20 626f 6f6c 2066 6c61 6720 7768  ` - bool flag wh
+00014e80: 6574 6865 7220 6765 6e65 7261 7465 6420  ether generated 
+00014e90: 4854 4d4c 2073 686f 756c 6420 6f6d 6974  HTML should omit
+00014ea0: 203c 4845 4144 3e2c 203c 424f 4459 3e2c   <HEAD>, <BODY>,
+00014eb0: 2061 6e64 203c 444f 4354 5950 453e 2074   and <DOCTYPE> t
+00014ec0: 6167 7320 746f 2065 6d62 6564 0a20 2020  ags to embed.   
+00014ed0: 2020 2020 2020 2074 6865 2072 6573 756c         the resul
+00014ee0: 7469 6e67 2048 544d 4c20 696e 2061 6e20  ting HTML in an 
+00014ef0: 656e 636c 6f73 696e 6720 4854 4d4c 2073  enclosing HTML s
+00014f00: 6f75 7263 650a 2020 2020 2020 2020 2d20  ource.        - 
+00014f10: 6060 6865 6164 6060 202d 2073 7472 2063  ``head`` - str c
+00014f20: 6f6e 7461 696e 696e 6720 6164 6469 7469  ontaining additi
+00014f30: 6f6e 616c 2048 544d 4c20 746f 2069 6e73  onal HTML to ins
+00014f40: 6572 7420 696e 746f 2074 6865 203c 4845  ert into the <HE
+00014f50: 4144 3e20 7365 6374 696f 6e20 6f66 2074  AD> section of t
+00014f60: 6865 2067 656e 6572 6174 6564 2063 6f64  he generated cod
+00014f70: 653b 0a20 2020 2020 2020 2020 2063 616e  e;.          can
+00014f80: 2062 6520 7573 6564 2074 6f20 696e 7365   be used to inse
+00014f90: 7274 2063 7573 746f 6d20 4353 5320 7374  rt custom CSS st
+00014fa0: 796c 696e 670a 2020 2020 2020 2020 2d20  yling.        - 
+00014fb0: 6060 626f 6479 6060 202d 2073 7472 2063  ``body`` - str c
+00014fc0: 6f6e 7461 696e 696e 6720 6164 6469 7469  ontaining additi
+00014fd0: 6f6e 616c 2048 544d 4c20 746f 2069 6e73  onal HTML to ins
+00014fe0: 6572 7420 6174 2074 6865 2062 6567 696e  ert at the begin
+00014ff0: 6e69 6e67 206f 6620 7468 6520 3c42 4f44  ning of the <BOD
+00015000: 593e 2073 6563 7469 6f6e 206f 6620 7468  Y> section of th
+00015010: 650a 2020 2020 2020 2020 2020 6765 6e65  e.          gene
+00015020: 7261 7465 6420 636f 6465 0a0a 2020 2020  rated code..    
+00015030: 2020 2020 4164 6469 7469 6f6e 616c 2064      Additional d
+00015040: 6961 6772 616d 2d66 6f72 6d61 7474 696e  iagram-formattin
+00015050: 6720 6b65 7977 6f72 6420 6172 6775 6d65  g keyword argume
+00015060: 6e74 7320 6361 6e20 616c 736f 2062 6520  nts can also be 
+00015070: 696e 636c 7564 6564 3b0a 2020 2020 2020  included;.      
+00015080: 2020 7365 6520 7261 696c 726f 6164 2e44    see railroad.D
+00015090: 6961 6772 616d 2063 6c61 7373 2e0a 2020  iagram class..  
+000150a0: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
+000150b0: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+000150c0: 2020 2020 6672 6f6d 202e 6469 6167 7261      from .diagra
+000150d0: 6d20 696d 706f 7274 2074 6f5f 7261 696c  m import to_rail
+000150e0: 726f 6164 2c20 7261 696c 726f 6164 5f74  road, railroad_t
+000150f0: 6f5f 6874 6d6c 0a20 2020 2020 2020 2065  o_html.        e
+00015100: 7863 6570 7420 496d 706f 7274 4572 726f  xcept ImportErro
+00015110: 7220 6173 2069 653a 0a20 2020 2020 2020  r as ie:.       
+00015120: 2020 2020 2072 6169 7365 2045 7863 6570       raise Excep
+00015130: 7469 6f6e 280a 2020 2020 2020 2020 2020  tion(.          
+00015140: 2020 2020 2020 226d 7573 7420 6060 7069        "must ``pi
+00015150: 7020 696e 7374 616c 6c20 7079 7061 7273  p install pypars
+00015160: 696e 675b 6469 6167 7261 6d73 5d60 6020  ing[diagrams]`` 
+00015170: 746f 2067 656e 6572 6174 6520 7061 7273  to generate pars
+00015180: 6572 2072 6169 6c72 6f61 6420 6469 6167  er railroad diag
+00015190: 7261 6d73 220a 2020 2020 2020 2020 2020  rams".          
+000151a0: 2020 2920 6672 6f6d 2069 650a 0a20 2020    ) from ie..   
+000151b0: 2020 2020 2073 656c 662e 7374 7265 616d       self.stream
+000151c0: 6c69 6e65 2829 0a0a 2020 2020 2020 2020  line()..        
+000151d0: 7261 696c 726f 6164 203d 2074 6f5f 7261  railroad = to_ra
+000151e0: 696c 726f 6164 280a 2020 2020 2020 2020  ilroad(.        
+000151f0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00015200: 2020 2020 2020 7665 7274 6963 616c 3d76        vertical=v
+00015210: 6572 7469 6361 6c2c 0a20 2020 2020 2020  ertical,.       
+00015220: 2020 2020 2073 686f 775f 7265 7375 6c74       show_result
+00015230: 735f 6e61 6d65 733d 7368 6f77 5f72 6573  s_names=show_res
+00015240: 756c 7473 5f6e 616d 6573 2c0a 2020 2020  ults_names,.    
+00015250: 2020 2020 2020 2020 7368 6f77 5f67 726f          show_gro
+00015260: 7570 733d 7368 6f77 5f67 726f 7570 732c  ups=show_groups,
+00015270: 0a20 2020 2020 2020 2020 2020 2064 6961  .            dia
+00015280: 6772 616d 5f6b 7761 7267 733d 6b77 6172  gram_kwargs=kwar
+00015290: 6773 2c0a 2020 2020 2020 2020 290a 2020  gs,.        ).  
+000152a0: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+000152b0: 6e63 6528 6f75 7470 7574 5f68 746d 6c2c  nce(output_html,
+000152c0: 2028 7374 722c 2050 6174 6829 293a 0a20   (str, Path)):. 
+000152d0: 2020 2020 2020 2020 2020 2077 6974 6820             with 
+000152e0: 6f70 656e 286f 7574 7075 745f 6874 6d6c  open(output_html
+000152f0: 2c20 2277 222c 2065 6e63 6f64 696e 673d  , "w", encoding=
+00015300: 2275 7466 2d38 2229 2061 7320 6469 6167  "utf-8") as diag
+00015310: 5f66 696c 653a 0a20 2020 2020 2020 2020  _file:.         
+00015320: 2020 2020 2020 2064 6961 675f 6669 6c65         diag_file
+00015330: 2e77 7269 7465 2872 6169 6c72 6f61 645f  .write(railroad_
+00015340: 746f 5f68 746d 6c28 7261 696c 726f 6164  to_html(railroad
+00015350: 2c20 656d 6265 643d 656d 6265 642c 202a  , embed=embed, *
+00015360: 2a6b 7761 7267 7329 290a 2020 2020 2020  *kwargs)).      
+00015370: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00015380: 2020 2020 2320 7765 2077 6572 6520 7061      # we were pa
+00015390: 7373 6564 2061 2066 696c 652d 6c69 6b65  ssed a file-like
+000153a0: 206f 626a 6563 742c 206a 7573 7420 7772   object, just wr
+000153b0: 6974 6520 746f 2069 740a 2020 2020 2020  ite to it.      
+000153c0: 2020 2020 2020 6f75 7470 7574 5f68 746d        output_htm
+000153d0: 6c2e 7772 6974 6528 7261 696c 726f 6164  l.write(railroad
+000153e0: 5f74 6f5f 6874 6d6c 2872 6169 6c72 6f61  _to_html(railroa
+000153f0: 642c 2065 6d62 6564 3d65 6d62 6564 2c20  d, embed=embed, 
+00015400: 2a2a 6b77 6172 6773 2929 0a0a 2020 2020  **kwargs))..    
+00015410: 2320 436f 6d70 6174 6962 696c 6974 7920  # Compatibility 
+00015420: 7379 6e6f 6e79 6d73 0a20 2020 2023 2066  synonyms.    # f
+00015430: 6d74 3a20 6f66 660a 2020 2020 4073 7461  mt: off.    @sta
+00015440: 7469 636d 6574 686f 640a 2020 2020 4072  ticmethod.    @r
+00015450: 6570 6c61 6365 645f 6279 5f70 6570 3828  eplaced_by_pep8(
+00015460: 696e 6c69 6e65 5f6c 6974 6572 616c 735f  inline_literals_
+00015470: 7573 696e 6729 0a20 2020 2064 6566 2069  using).    def i
+00015480: 6e6c 696e 654c 6974 6572 616c 7355 7369  nlineLiteralsUsi
+00015490: 6e67 2829 3a20 2e2e 2e0a 0a20 2020 2040  ng(): .....    @
+000154a0: 7374 6174 6963 6d65 7468 6f64 0a20 2020  staticmethod.   
+000154b0: 2040 7265 706c 6163 6564 5f62 795f 7065   @replaced_by_pe
+000154c0: 7038 2873 6574 5f64 6566 6175 6c74 5f77  p8(set_default_w
+000154d0: 6869 7465 7370 6163 655f 6368 6172 7329  hitespace_chars)
+000154e0: 0a20 2020 2064 6566 2073 6574 4465 6661  .    def setDefa
+000154f0: 756c 7457 6869 7465 7370 6163 6543 6861  ultWhitespaceCha
+00015500: 7273 2829 3a20 2e2e 2e0a 0a20 2020 2040  rs(): .....    @
+00015510: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
+00015520: 2873 6574 5f72 6573 756c 7473 5f6e 616d  (set_results_nam
+00015530: 6529 0a20 2020 2064 6566 2073 6574 5265  e).    def setRe
+00015540: 7375 6c74 734e 616d 6528 7365 6c66 293a  sultsName(self):
+00015550: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
+00015560: 6365 645f 6279 5f70 6570 3828 7365 745f  ced_by_pep8(set_
+00015570: 6272 6561 6b29 0a20 2020 2064 6566 2073  break).    def s
+00015580: 6574 4272 6561 6b28 7365 6c66 293a 202e  etBreak(self): .
+00015590: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
+000155a0: 645f 6279 5f70 6570 3828 7365 745f 7061  d_by_pep8(set_pa
+000155b0: 7273 655f 6163 7469 6f6e 290a 2020 2020  rse_action).    
+000155c0: 6465 6620 7365 7450 6172 7365 4163 7469  def setParseActi
+000155d0: 6f6e 2873 656c 6629 3a20 2e2e 2e0a 0a20  on(self): ..... 
+000155e0: 2020 2040 7265 706c 6163 6564 5f62 795f     @replaced_by_
+000155f0: 7065 7038 2861 6464 5f70 6172 7365 5f61  pep8(add_parse_a
+00015600: 6374 696f 6e29 0a20 2020 2064 6566 2061  ction).    def a
+00015610: 6464 5061 7273 6541 6374 696f 6e28 7365  ddParseAction(se
+00015620: 6c66 293a 202e 2e2e 0a0a 2020 2020 4072  lf): .....    @r
+00015630: 6570 6c61 6365 645f 6279 5f70 6570 3828  eplaced_by_pep8(
+00015640: 6164 645f 636f 6e64 6974 696f 6e29 0a20  add_condition). 
+00015650: 2020 2064 6566 2061 6464 436f 6e64 6974     def addCondit
+00015660: 696f 6e28 7365 6c66 293a 202e 2e2e 0a0a  ion(self): .....
+00015670: 2020 2020 4072 6570 6c61 6365 645f 6279      @replaced_by
+00015680: 5f70 6570 3828 7365 745f 6661 696c 5f61  _pep8(set_fail_a
+00015690: 6374 696f 6e29 0a20 2020 2064 6566 2073  ction).    def s
+000156a0: 6574 4661 696c 4163 7469 6f6e 2873 656c  etFailAction(sel
+000156b0: 6629 3a20 2e2e 2e0a 0a20 2020 2040 7265  f): .....    @re
+000156c0: 706c 6163 6564 5f62 795f 7065 7038 2874  placed_by_pep8(t
+000156d0: 7279 5f70 6172 7365 290a 2020 2020 6465  ry_parse).    de
+000156e0: 6620 7472 7950 6172 7365 2873 656c 6629  f tryParse(self)
+000156f0: 3a20 2e2e 2e0a 0a20 2020 2040 7374 6174  : .....    @stat
+00015700: 6963 6d65 7468 6f64 0a20 2020 2040 7265  icmethod.    @re
+00015710: 706c 6163 6564 5f62 795f 7065 7038 2865  placed_by_pep8(e
+00015720: 6e61 626c 655f 6c65 6674 5f72 6563 7572  nable_left_recur
+00015730: 7369 6f6e 290a 2020 2020 6465 6620 656e  sion).    def en
+00015740: 6162 6c65 4c65 6674 5265 6375 7273 696f  ableLeftRecursio
+00015750: 6e28 293a 202e 2e2e 0a0a 2020 2020 4073  n(): .....    @s
+00015760: 7461 7469 636d 6574 686f 640a 2020 2020  taticmethod.    
+00015770: 4072 6570 6c61 6365 645f 6279 5f70 6570  @replaced_by_pep
+00015780: 3828 656e 6162 6c65 5f70 6163 6b72 6174  8(enable_packrat
+00015790: 290a 2020 2020 6465 6620 656e 6162 6c65  ).    def enable
+000157a0: 5061 636b 7261 7428 293a 202e 2e2e 0a0a  Packrat(): .....
+000157b0: 2020 2020 4072 6570 6c61 6365 645f 6279      @replaced_by
+000157c0: 5f70 6570 3828 7061 7273 655f 7374 7269  _pep8(parse_stri
+000157d0: 6e67 290a 2020 2020 6465 6620 7061 7273  ng).    def pars
+000157e0: 6553 7472 696e 6728 7365 6c66 293a 202e  eString(self): .
+000157f0: 2e2e 0a0a 2020 2020 4072 6570 6c61 6365  ....    @replace
+00015800: 645f 6279 5f70 6570 3828 7363 616e 5f73  d_by_pep8(scan_s
+00015810: 7472 696e 6729 0a20 2020 2064 6566 2073  tring).    def s
+00015820: 6361 6e53 7472 696e 6728 7365 6c66 293a  canString(self):
+00015830: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
+00015840: 6365 645f 6279 5f70 6570 3828 7472 616e  ced_by_pep8(tran
+00015850: 7366 6f72 6d5f 7374 7269 6e67 290a 2020  sform_string).  
+00015860: 2020 6465 6620 7472 616e 7366 6f72 6d53    def transformS
+00015870: 7472 696e 6728 7365 6c66 293a 202e 2e2e  tring(self): ...
+00015880: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
+00015890: 6279 5f70 6570 3828 7365 6172 6368 5f73  by_pep8(search_s
+000158a0: 7472 696e 6729 0a20 2020 2064 6566 2073  tring).    def s
+000158b0: 6561 7263 6853 7472 696e 6728 7365 6c66  earchString(self
+000158c0: 293a 202e 2e2e 0a0a 2020 2020 4072 6570  ): .....    @rep
+000158d0: 6c61 6365 645f 6279 5f70 6570 3828 6967  laced_by_pep8(ig
+000158e0: 6e6f 7265 5f77 6869 7465 7370 6163 6529  nore_whitespace)
+000158f0: 0a20 2020 2064 6566 2069 676e 6f72 6557  .    def ignoreW
+00015900: 6869 7465 7370 6163 6528 7365 6c66 293a  hitespace(self):
+00015910: 202e 2e2e 0a0a 2020 2020 4072 6570 6c61   .....    @repla
+00015920: 6365 645f 6279 5f70 6570 3828 6c65 6176  ced_by_pep8(leav
+00015930: 655f 7768 6974 6573 7061 6365 290a 2020  e_whitespace).  
+00015940: 2020 6465 6620 6c65 6176 6557 6869 7465    def leaveWhite
+00015950: 7370 6163 6528 7365 6c66 293a 202e 2e2e  space(self): ...
+00015960: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
+00015970: 6279 5f70 6570 3828 7365 745f 7768 6974  by_pep8(set_whit
+00015980: 6573 7061 6365 5f63 6861 7273 290a 2020  espace_chars).  
+00015990: 2020 6465 6620 7365 7457 6869 7465 7370    def setWhitesp
+000159a0: 6163 6543 6861 7273 2873 656c 6629 3a20  aceChars(self): 
+000159b0: 2e2e 2e0a 0a20 2020 2040 7265 706c 6163  .....    @replac
+000159c0: 6564 5f62 795f 7065 7038 2870 6172 7365  ed_by_pep8(parse
+000159d0: 5f77 6974 685f 7461 6273 290a 2020 2020  _with_tabs).    
+000159e0: 6465 6620 7061 7273 6557 6974 6854 6162  def parseWithTab
+000159f0: 7328 7365 6c66 293a 202e 2e2e 0a0a 2020  s(self): .....  
+00015a00: 2020 4072 6570 6c61 6365 645f 6279 5f70    @replaced_by_p
+00015a10: 6570 3828 7365 745f 6465 6275 675f 6163  ep8(set_debug_ac
+00015a20: 7469 6f6e 7329 0a20 2020 2064 6566 2073  tions).    def s
+00015a30: 6574 4465 6275 6741 6374 696f 6e73 2873  etDebugActions(s
+00015a40: 656c 6629 3a20 2e2e 2e0a 0a20 2020 2040  elf): .....    @
+00015a50: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
+00015a60: 2873 6574 5f64 6562 7567 290a 2020 2020  (set_debug).    
+00015a70: 6465 6620 7365 7444 6562 7567 2873 656c  def setDebug(sel
+00015a80: 6629 3a20 2e2e 2e0a 0a20 2020 2040 7265  f): .....    @re
+00015a90: 706c 6163 6564 5f62 795f 7065 7038 2873  placed_by_pep8(s
+00015aa0: 6574 5f6e 616d 6529 0a20 2020 2064 6566  et_name).    def
+00015ab0: 2073 6574 4e61 6d65 2873 656c 6629 3a20   setName(self): 
+00015ac0: 2e2e 2e0a 0a20 2020 2040 7265 706c 6163  .....    @replac
+00015ad0: 6564 5f62 795f 7065 7038 2870 6172 7365  ed_by_pep8(parse
+00015ae0: 5f66 696c 6529 0a20 2020 2064 6566 2070  _file).    def p
+00015af0: 6172 7365 4669 6c65 2873 656c 6629 3a20  arseFile(self): 
+00015b00: 2e2e 2e0a 0a20 2020 2040 7265 706c 6163  .....    @replac
+00015b10: 6564 5f62 795f 7065 7038 2872 756e 5f74  ed_by_pep8(run_t
+00015b20: 6573 7473 290a 2020 2020 6465 6620 7275  ests).    def ru
+00015b30: 6e54 6573 7473 2873 656c 6629 3a20 2e2e  nTests(self): ..
+00015b40: 2e0a 0a20 2020 2063 616e 5061 7273 654e  ...    canParseN
+00015b50: 6578 7420 3d20 6361 6e5f 7061 7273 655f  ext = can_parse_
+00015b60: 6e65 7874 0a20 2020 2072 6573 6574 4361  next.    resetCa
+00015b70: 6368 6520 3d20 7265 7365 745f 6361 6368  che = reset_cach
+00015b80: 650a 2020 2020 6465 6661 756c 744e 616d  e.    defaultNam
+00015b90: 6520 3d20 6465 6661 756c 745f 6e61 6d65  e = default_name
+00015ba0: 0a20 2020 2023 2066 6d74 3a20 6f6e 0a0a  .    # fmt: on..
+00015bb0: 0a63 6c61 7373 205f 5065 6e64 696e 6753  .class _PendingS
+00015bc0: 6b69 7028 5061 7273 6572 456c 656d 656e  kip(ParserElemen
+00015bd0: 7429 3a0a 2020 2020 2320 696e 7465 726e  t):.    # intern
+00015be0: 616c 2070 6c61 6365 686f 6c64 6572 2063  al placeholder c
+00015bf0: 6c61 7373 2074 6f20 686f 6c64 2061 2070  lass to hold a p
+00015c00: 6c61 6365 2077 6572 6520 272e 2e2e 2720  lace were '...' 
+00015c10: 6973 2061 6464 6564 2074 6f20 6120 7061  is added to a pa
+00015c20: 7273 6572 2065 6c65 6d65 6e74 2c0a 2020  rser element,.  
+00015c30: 2020 2320 6f6e 6365 2061 6e6f 7468 6572    # once another
+00015c40: 2050 6172 7365 7245 6c65 6d65 6e74 2069   ParserElement i
+00015c50: 7320 6164 6465 642c 2074 6869 7320 706c  s added, this pl
+00015c60: 6163 6568 6f6c 6465 7220 7769 6c6c 2062  aceholder will b
+00015c70: 6520 7265 706c 6163 6564 2077 6974 6820  e replaced with 
+00015c80: 6120 536b 6970 546f 0a20 2020 2064 6566  a SkipTo.    def
+00015c90: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
+00015ca0: 6578 7072 3a20 5061 7273 6572 456c 656d  expr: ParserElem
+00015cb0: 656e 742c 206d 7573 745f 736b 6970 3a20  ent, must_skip: 
+00015cc0: 626f 6f6c 203d 2046 616c 7365 293a 0a20  bool = False):. 
+00015cd0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
+00015ce0: 5f69 6e69 745f 5f28 290a 2020 2020 2020  _init__().      
+00015cf0: 2020 7365 6c66 2e61 6e63 686f 7220 3d20    self.anchor = 
+00015d00: 6578 7072 0a20 2020 2020 2020 2073 656c  expr.        sel
+00015d10: 662e 6d75 7374 5f73 6b69 7020 3d20 6d75  f.must_skip = mu
+00015d20: 7374 5f73 6b69 700a 0a20 2020 2064 6566  st_skip..    def
+00015d30: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
+00015d40: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
+00015d50: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
+00015d60: 726e 2073 7472 2873 656c 662e 616e 6368  rn str(self.anch
+00015d70: 6f72 202b 2045 6d70 7479 2829 292e 7265  or + Empty()).re
+00015d80: 706c 6163 6528 2245 6d70 7479 222c 2022  place("Empty", "
+00015d90: 2e2e 2e22 290a 0a20 2020 2064 6566 205f  ...")..    def _
+00015da0: 5f61 6464 5f5f 2873 656c 662c 206f 7468  _add__(self, oth
+00015db0: 6572 2920 2d3e 2022 5061 7273 6572 456c  er) -> "ParserEl
+00015dc0: 656d 656e 7422 3a0a 2020 2020 2020 2020  ement":.        
+00015dd0: 736b 6970 7065 7220 3d20 536b 6970 546f  skipper = SkipTo
+00015de0: 286f 7468 6572 292e 7365 745f 6e61 6d65  (other).set_name
+00015df0: 2822 2e2e 2e22 2928 225f 736b 6970 7065  ("...")("_skippe
+00015e00: 642a 2229 0a20 2020 2020 2020 2069 6620  d*").        if 
+00015e10: 7365 6c66 2e6d 7573 745f 736b 6970 3a0a  self.must_skip:.
+00015e20: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+00015e30: 206d 7573 745f 736b 6970 2874 293a 0a20   must_skip(t):. 
+00015e40: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00015e50: 6620 6e6f 7420 742e 5f73 6b69 7070 6564  f not t._skipped
+00015e60: 206f 7220 742e 5f73 6b69 7070 6564 2e61   or t._skipped.a
+00015e70: 735f 6c69 7374 2829 203d 3d20 5b22 225d  s_list() == [""]
 00015e80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00015e90: 2020 2020 2020 742e 706f 7028 225f 736b        t.pop("_sk
-00015ea0: 6970 7065 6422 290a 2020 2020 2020 2020  ipped").        
-00015eb0: 2020 2020 2020 2020 2020 2020 745b 225f              t["_
-00015ec0: 736b 6970 7065 6422 5d20 3d20 226d 6973  skipped"] = "mis
-00015ed0: 7369 6e67 203c 2220 2b20 7265 7072 2873  sing <" + repr(s
-00015ee0: 656c 662e 616e 6368 6f72 2920 2b20 223e  elf.anchor) + ">
-00015ef0: 220a 0a20 2020 2020 2020 2020 2020 2072  "..            r
-00015f00: 6574 7572 6e20 280a 2020 2020 2020 2020  eturn (.        
-00015f10: 2020 2020 2020 2020 7365 6c66 2e61 6e63          self.anc
-00015f20: 686f 7220 2b20 736b 6970 7065 7228 292e  hor + skipper().
-00015f30: 6164 645f 7061 7273 655f 6163 7469 6f6e  add_parse_action
-00015f40: 286d 7573 745f 736b 6970 290a 2020 2020  (must_skip).    
-00015f50: 2020 2020 2020 2020 2020 2020 7c20 736b              | sk
-00015f60: 6970 7065 7228 292e 6164 645f 7061 7273  ipper().add_pars
-00015f70: 655f 6163 7469 6f6e 2873 686f 775f 736b  e_action(show_sk
-00015f80: 6970 290a 2020 2020 2020 2020 2020 2020  ip).            
-00015f90: 2920 2b20 6f74 6865 720a 0a20 2020 2020  ) + other..     
-00015fa0: 2020 2072 6574 7572 6e20 7365 6c66 2e61     return self.a
-00015fb0: 6e63 686f 7220 2b20 736b 6970 7065 7220  nchor + skipper 
-00015fc0: 2b20 6f74 6865 720a 0a20 2020 2064 6566  + other..    def
-00015fd0: 205f 5f72 6570 725f 5f28 7365 6c66 293a   __repr__(self):
-00015fe0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00015ff0: 7365 6c66 2e64 6566 6175 6c74 4e61 6d65  self.defaultName
-00016000: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
-00016010: 6d70 6c28 7365 6c66 2c20 2a61 7267 7329  mpl(self, *args)
-00016020: 3a0a 2020 2020 2020 2020 7261 6973 6520  :.        raise 
-00016030: 4578 6365 7074 696f 6e28 0a20 2020 2020  Exception(.     
-00016040: 2020 2020 2020 2022 7573 6520 6f66 2060         "use of `
-00016050: 2e2e 2e60 2065 7870 7265 7373 696f 6e20  ...` expression 
-00016060: 7769 7468 6f75 7420 666f 6c6c 6f77 696e  without followin
-00016070: 6720 536b 6970 546f 2074 6172 6765 7420  g SkipTo target 
-00016080: 6578 7072 6573 7369 6f6e 220a 2020 2020  expression".    
-00016090: 2020 2020 290a 0a0a 636c 6173 7320 546f      )...class To
-000160a0: 6b65 6e28 5061 7273 6572 456c 656d 656e  ken(ParserElemen
-000160b0: 7429 3a0a 2020 2020 2222 2241 6273 7472  t):.    """Abstr
-000160c0: 6163 7420 3a63 6c61 7373 3a60 5061 7273  act :class:`Pars
-000160d0: 6572 456c 656d 656e 7460 2073 7562 636c  erElement` subcl
-000160e0: 6173 732c 2066 6f72 2064 6566 696e 696e  ass, for definin
-000160f0: 6720 6174 6f6d 6963 0a20 2020 206d 6174  g atomic.    mat
-00016100: 6368 696e 6720 7061 7474 6572 6e73 2e0a  ching patterns..
-00016110: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
-00016120: 205f 5f69 6e69 745f 5f28 7365 6c66 293a   __init__(self):
-00016130: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
-00016140: 2e5f 5f69 6e69 745f 5f28 7361 7665 6c69  .__init__(saveli
-00016150: 7374 3d46 616c 7365 290a 0a20 2020 2064  st=False)..    d
-00016160: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
-00016170: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
-00016180: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
-00016190: 7475 726e 2074 7970 6528 7365 6c66 292e  turn type(self).
-000161a0: 5f5f 6e61 6d65 5f5f 0a0a 0a63 6c61 7373  __name__...class
-000161b0: 204e 6f4d 6174 6368 2854 6f6b 656e 293a   NoMatch(Token):
-000161c0: 0a20 2020 2022 2222 0a20 2020 2041 2074  .    """.    A t
-000161d0: 6f6b 656e 2074 6861 7420 7769 6c6c 206e  oken that will n
-000161e0: 6576 6572 206d 6174 6368 2e0a 2020 2020  ever match..    
-000161f0: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
-00016200: 6e69 745f 5f28 7365 6c66 293a 0a20 2020  nit__(self):.   
-00016210: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
-00016220: 6e69 745f 5f28 290a 2020 2020 2020 2020  nit__().        
-00016230: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
-00016240: 7074 7920 3d20 5472 7565 0a20 2020 2020  pty = True.     
-00016250: 2020 2073 656c 662e 6d61 7949 6e64 6578     self.mayIndex
-00016260: 4572 726f 7220 3d20 4661 6c73 650a 2020  Error = False.  
-00016270: 2020 2020 2020 7365 6c66 2e65 7272 6d73        self.errms
-00016280: 6720 3d20 2255 6e6d 6174 6368 6162 6c65  g = "Unmatchable
-00016290: 2074 6f6b 656e 220a 0a20 2020 2064 6566   token"..    def
-000162a0: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
-000162b0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
-000162c0: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
-000162d0: 0a20 2020 2020 2020 2072 6169 7365 2050  .        raise P
-000162e0: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
-000162f0: 7374 7269 6e67 2c20 6c6f 632c 2073 656c  string, loc, sel
-00016300: 662e 6572 726d 7367 2c20 7365 6c66 290a  f.errmsg, self).
-00016310: 0a0a 636c 6173 7320 4c69 7465 7261 6c28  ..class Literal(
-00016320: 546f 6b65 6e29 3a0a 2020 2020 2222 220a  Token):.    """.
-00016330: 2020 2020 546f 6b65 6e20 746f 2065 7861      Token to exa
-00016340: 6374 6c79 206d 6174 6368 2061 2073 7065  ctly match a spe
-00016350: 6369 6669 6564 2073 7472 696e 672e 0a0a  cified string...
-00016360: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
-00016370: 2020 2020 2020 204c 6974 6572 616c 2827         Literal('
-00016380: 626c 6168 2729 2e70 6172 7365 5f73 7472  blah').parse_str
-00016390: 696e 6728 2762 6c61 6827 2920 2023 202d  ing('blah')  # -
-000163a0: 3e20 5b27 626c 6168 275d 0a20 2020 2020  > ['blah'].     
-000163b0: 2020 204c 6974 6572 616c 2827 626c 6168     Literal('blah
-000163c0: 2729 2e70 6172 7365 5f73 7472 696e 6728  ').parse_string(
-000163d0: 2762 6c61 6866 6f6f 626c 6168 2729 2020  'blahfooblah')  
-000163e0: 2320 2d3e 205b 2762 6c61 6827 5d0a 2020  # -> ['blah'].  
-000163f0: 2020 2020 2020 4c69 7465 7261 6c28 2762        Literal('b
-00016400: 6c61 6827 292e 7061 7273 655f 7374 7269  lah').parse_stri
-00016410: 6e67 2827 626c 6127 2920 2023 202d 3e20  ng('bla')  # -> 
-00016420: 4578 6365 7074 696f 6e3a 2045 7870 6563  Exception: Expec
-00016430: 7465 6420 2262 6c61 6822 0a0a 2020 2020  ted "blah"..    
-00016440: 466f 7220 6361 7365 2d69 6e73 656e 7369  For case-insensi
-00016450: 7469 7665 206d 6174 6368 696e 672c 2075  tive matching, u
-00016460: 7365 203a 636c 6173 733a 6043 6173 656c  se :class:`Casel
-00016470: 6573 734c 6974 6572 616c 602e 0a0a 2020  essLiteral`...  
-00016480: 2020 466f 7220 6b65 7977 6f72 6420 6d61    For keyword ma
-00016490: 7463 6869 6e67 2028 666f 7263 6520 776f  tching (force wo
-000164a0: 7264 2062 7265 616b 2062 6566 6f72 6520  rd break before 
-000164b0: 616e 6420 6166 7465 7220 7468 6520 6d61  and after the ma
-000164c0: 7463 6865 6420 7374 7269 6e67 292c 0a20  tched string),. 
-000164d0: 2020 2075 7365 203a 636c 6173 733a 604b     use :class:`K
-000164e0: 6579 776f 7264 6020 6f72 203a 636c 6173  eyword` or :clas
-000164f0: 733a 6043 6173 656c 6573 734b 6579 776f  s:`CaselessKeywo
-00016500: 7264 602e 0a20 2020 2022 2222 0a0a 2020  rd`..    """..  
-00016510: 2020 6465 6620 5f5f 6e65 775f 5f28 636c    def __new__(cl
-00016520: 732c 206d 6174 6368 5f73 7472 696e 673a  s, match_string:
-00016530: 2073 7472 203d 2022 222c 202a 2c20 6d61   str = "", *, ma
-00016540: 7463 6853 7472 696e 673a 2073 7472 203d  tchString: str =
-00016550: 2022 2229 3a0a 2020 2020 2020 2020 2320   ""):.        # 
-00016560: 5065 7266 6f72 6d61 6e63 6520 7475 6e69  Performance tuni
-00016570: 6e67 3a20 7365 6c65 6374 2061 2073 7562  ng: select a sub
-00016580: 636c 6173 7320 7769 7468 206f 7074 696d  class with optim
-00016590: 697a 6564 2070 6172 7365 496d 706c 0a20  ized parseImpl. 
-000165a0: 2020 2020 2020 2069 6620 636c 7320 6973         if cls is
-000165b0: 204c 6974 6572 616c 3a0a 2020 2020 2020   Literal:.      
-000165c0: 2020 2020 2020 6d61 7463 685f 7374 7269        match_stri
-000165d0: 6e67 203d 206d 6174 6368 5374 7269 6e67  ng = matchString
-000165e0: 206f 7220 6d61 7463 685f 7374 7269 6e67   or match_string
-000165f0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00016600: 6e6f 7420 6d61 7463 685f 7374 7269 6e67  not match_string
-00016610: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00016620: 2020 7265 7475 726e 2073 7570 6572 2829    return super()
-00016630: 2e5f 5f6e 6577 5f5f 2845 6d70 7479 290a  .__new__(Empty).
-00016640: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-00016650: 656e 286d 6174 6368 5f73 7472 696e 6729  en(match_string)
-00016660: 203d 3d20 313a 0a20 2020 2020 2020 2020   == 1:.         
-00016670: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
-00016680: 7065 7228 292e 5f5f 6e65 775f 5f28 5f53  per().__new__(_S
-00016690: 696e 676c 6543 6861 724c 6974 6572 616c  ingleCharLiteral
-000166a0: 290a 0a20 2020 2020 2020 2023 2044 6566  )..        # Def
-000166b0: 6175 6c74 2062 6568 6176 696f 720a 2020  ault behavior.  
-000166c0: 2020 2020 2020 7265 7475 726e 2073 7570        return sup
-000166d0: 6572 2829 2e5f 5f6e 6577 5f5f 2863 6c73  er().__new__(cls
-000166e0: 290a 0a20 2020 2023 204e 6565 6465 6420  )..    # Needed 
-000166f0: 746f 206d 616b 6520 636f 7079 2e63 6f70  to make copy.cop
-00016700: 7928 2920 776f 726b 2063 6f72 7265 6374  y() work correct
-00016710: 6c79 2069 6620 7765 2063 7573 746f 6d69  ly if we customi
-00016720: 7a65 205f 5f6e 6577 5f5f 0a20 2020 2064  ze __new__.    d
-00016730: 6566 205f 5f67 6574 6e65 7761 7267 735f  ef __getnewargs_
-00016740: 5f28 7365 6c66 293a 0a20 2020 2020 2020  _(self):.       
-00016750: 2072 6574 7572 6e20 2873 656c 662e 6d61   return (self.ma
-00016760: 7463 682c 290a 0a20 2020 2064 6566 205f  tch,)..    def _
-00016770: 5f69 6e69 745f 5f28 7365 6c66 2c20 6d61  _init__(self, ma
-00016780: 7463 685f 7374 7269 6e67 3a20 7374 7220  tch_string: str 
-00016790: 3d20 2222 2c20 2a2c 206d 6174 6368 5374  = "", *, matchSt
-000167a0: 7269 6e67 3a20 7374 7220 3d20 2222 293a  ring: str = ""):
-000167b0: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
-000167c0: 2e5f 5f69 6e69 745f 5f28 290a 2020 2020  .__init__().    
-000167d0: 2020 2020 6d61 7463 685f 7374 7269 6e67      match_string
-000167e0: 203d 206d 6174 6368 5374 7269 6e67 206f   = matchString o
-000167f0: 7220 6d61 7463 685f 7374 7269 6e67 0a20  r match_string. 
-00016800: 2020 2020 2020 2073 656c 662e 6d61 7463         self.matc
-00016810: 6820 3d20 6d61 7463 685f 7374 7269 6e67  h = match_string
-00016820: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
-00016830: 7463 684c 656e 203d 206c 656e 286d 6174  tchLen = len(mat
-00016840: 6368 5f73 7472 696e 6729 0a20 2020 2020  ch_string).     
-00016850: 2020 2073 656c 662e 6669 7273 744d 6174     self.firstMat
-00016860: 6368 4368 6172 203d 206d 6174 6368 5f73  chChar = match_s
-00016870: 7472 696e 675b 3a31 5d0a 2020 2020 2020  tring[:1].      
-00016880: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
-00016890: 2245 7870 6563 7465 6420 2220 2b20 7365  "Expected " + se
-000168a0: 6c66 2e6e 616d 650a 2020 2020 2020 2020  lf.name.        
-000168b0: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
-000168c0: 7074 7920 3d20 4661 6c73 650a 2020 2020  pty = False.    
-000168d0: 2020 2020 7365 6c66 2e6d 6179 496e 6465      self.mayInde
-000168e0: 7845 7272 6f72 203d 2046 616c 7365 0a0a  xError = False..
-000168f0: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
-00016900: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
-00016910: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
-00016920: 2020 2072 6574 7572 6e20 7265 7072 2873     return repr(s
-00016930: 656c 662e 6d61 7463 6829 0a0a 2020 2020  elf.match)..    
-00016940: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
-00016950: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
-00016960: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
-00016970: 6529 3a0a 2020 2020 2020 2020 6966 2069  e):.        if i
-00016980: 6e73 7472 696e 675b 6c6f 635d 203d 3d20  nstring[loc] == 
-00016990: 7365 6c66 2e66 6972 7374 4d61 7463 6843  self.firstMatchC
-000169a0: 6861 7220 616e 6420 696e 7374 7269 6e67  har and instring
-000169b0: 2e73 7461 7274 7377 6974 6828 0a20 2020  .startswith(.   
-000169c0: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
-000169d0: 7463 682c 206c 6f63 0a20 2020 2020 2020  tch, loc.       
-000169e0: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
-000169f0: 7265 7475 726e 206c 6f63 202b 2073 656c  return loc + sel
-00016a00: 662e 6d61 7463 684c 656e 2c20 7365 6c66  f.matchLen, self
-00016a10: 2e6d 6174 6368 0a20 2020 2020 2020 2072  .match.        r
-00016a20: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
-00016a30: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
-00016a40: 632c 2073 656c 662e 6572 726d 7367 2c20  c, self.errmsg, 
-00016a50: 7365 6c66 290a 0a0a 636c 6173 7320 456d  self)...class Em
-00016a60: 7074 7928 4c69 7465 7261 6c29 3a0a 2020  pty(Literal):.  
-00016a70: 2020 2222 220a 2020 2020 416e 2065 6d70    """.    An emp
-00016a80: 7479 2074 6f6b 656e 2c20 7769 6c6c 2061  ty token, will a
-00016a90: 6c77 6179 7320 6d61 7463 682e 0a20 2020  lways match..   
-00016aa0: 2022 2222 0a0a 2020 2020 6465 6620 5f5f   """..    def __
-00016ab0: 696e 6974 5f5f 2873 656c 662c 206d 6174  init__(self, mat
-00016ac0: 6368 5f73 7472 696e 673d 2222 2c20 2a2c  ch_string="", *,
-00016ad0: 206d 6174 6368 5374 7269 6e67 3d22 2229   matchString="")
-00016ae0: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
-00016af0: 292e 5f5f 696e 6974 5f5f 2822 2229 0a20  ).__init__(""). 
-00016b00: 2020 2020 2020 2073 656c 662e 6d61 7952         self.mayR
-00016b10: 6574 7572 6e45 6d70 7479 203d 2054 7275  eturnEmpty = Tru
-00016b20: 650a 2020 2020 2020 2020 7365 6c66 2e6d  e.        self.m
-00016b30: 6179 496e 6465 7845 7272 6f72 203d 2046  ayIndexError = F
-00016b40: 616c 7365 0a0a 2020 2020 6465 6620 5f67  alse..    def _g
-00016b50: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
-00016b60: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
-00016b70: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00016b80: 2245 6d70 7479 220a 0a20 2020 2064 6566  "Empty"..    def
-00016b90: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
-00016ba0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
-00016bb0: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
-00016bc0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00016bd0: 7375 7065 7228 4c69 7465 7261 6c2c 2073  super(Literal, s
-00016be0: 656c 6629 2e70 6172 7365 496d 706c 2869  elf).parseImpl(i
-00016bf0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
-00016c00: 4163 7469 6f6e 7329 0a0a 0a63 6c61 7373  Actions)...class
-00016c10: 205f 5369 6e67 6c65 4368 6172 4c69 7465   _SingleCharLite
-00016c20: 7261 6c28 4c69 7465 7261 6c29 3a0a 2020  ral(Literal):.  
-00016c30: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-00016c40: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-00016c50: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
-00016c60: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
-00016c70: 2069 6e73 7472 696e 675b 6c6f 635d 203d   instring[loc] =
-00016c80: 3d20 7365 6c66 2e66 6972 7374 4d61 7463  = self.firstMatc
-00016c90: 6843 6861 723a 0a20 2020 2020 2020 2020  hChar:.         
-00016ca0: 2020 2072 6574 7572 6e20 6c6f 6320 2b20     return loc + 
-00016cb0: 312c 2073 656c 662e 6d61 7463 680a 2020  1, self.match.  
-00016cc0: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
-00016cd0: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
-00016ce0: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
-00016cf0: 7272 6d73 672c 2073 656c 6629 0a0a 0a50  rrmsg, self)...P
-00016d00: 6172 7365 7245 6c65 6d65 6e74 2e5f 6c69  arserElement._li
-00016d10: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
-00016d20: 203d 204c 6974 6572 616c 0a0a 0a63 6c61   = Literal...cla
-00016d30: 7373 204b 6579 776f 7264 2854 6f6b 656e  ss Keyword(Token
-00016d40: 293a 0a20 2020 2022 2222 0a20 2020 2054  ):.    """.    T
-00016d50: 6f6b 656e 2074 6f20 6578 6163 746c 7920  oken to exactly 
-00016d60: 6d61 7463 6820 6120 7370 6563 6966 6965  match a specifie
-00016d70: 6420 7374 7269 6e67 2061 7320 6120 6b65  d string as a ke
-00016d80: 7977 6f72 642c 2074 6861 7420 6973 2c0a  yword, that is,.
-00016d90: 2020 2020 6974 206d 7573 7420 6265 2069      it must be i
-00016da0: 6d6d 6564 6961 7465 6c79 2070 7265 6365  mmediately prece
-00016db0: 6465 6420 616e 6420 666f 6c6c 6f77 6564  ded and followed
-00016dc0: 2062 7920 7768 6974 6573 7061 6365 206f   by whitespace o
-00016dd0: 720a 2020 2020 6e6f 6e2d 6b65 7977 6f72  r.    non-keywor
-00016de0: 6420 6368 6172 6163 7465 7273 2e20 436f  d characters. Co
-00016df0: 6d70 6172 6520 7769 7468 203a 636c 6173  mpare with :clas
-00016e00: 733a 604c 6974 6572 616c 603a 0a0a 2020  s:`Literal`:..  
-00016e10: 2020 2d20 6060 4c69 7465 7261 6c28 2269    - ``Literal("i
-00016e20: 6622 2960 6020 7769 6c6c 206d 6174 6368  f")`` will match
-00016e30: 2074 6865 206c 6561 6469 6e67 2060 6027   the leading ``'
-00016e40: 6966 2760 6020 696e 0a20 2020 2020 2060  if'`` in.      `
-00016e50: 6027 6966 416e 644f 6e6c 7949 6627 6060  `'ifAndOnlyIf'``
-00016e60: 2e0a 2020 2020 2d20 6060 4b65 7977 6f72  ..    - ``Keywor
-00016e70: 6428 2269 6622 2960 6020 7769 6c6c 206e  d("if")`` will n
-00016e80: 6f74 3b20 6974 2077 696c 6c20 6f6e 6c79  ot; it will only
-00016e90: 206d 6174 6368 2074 6865 206c 6561 6469   match the leadi
-00016ea0: 6e67 0a20 2020 2020 2060 6027 6966 2760  ng.      ``'if'`
-00016eb0: 6020 696e 2060 6027 6966 2078 3d31 2760  ` in ``'if x=1'`
-00016ec0: 602c 206f 7220 6060 2769 6628 793d 3d32  `, or ``'if(y==2
-00016ed0: 2927 6060 0a0a 2020 2020 4163 6365 7074  )'``..    Accept
-00016ee0: 7320 7477 6f20 6f70 7469 6f6e 616c 2063  s two optional c
-00016ef0: 6f6e 7374 7275 6374 6f72 2061 7267 756d  onstructor argum
-00016f00: 656e 7473 2069 6e20 6164 6469 7469 6f6e  ents in addition
-00016f10: 2074 6f20 7468 650a 2020 2020 6b65 7977   to the.    keyw
-00016f20: 6f72 6420 7374 7269 6e67 3a0a 0a20 2020  ord string:..   
-00016f30: 202d 2060 6069 6465 6e74 5f63 6861 7273   - ``ident_chars
-00016f40: 6060 2069 7320 6120 7374 7269 6e67 206f  `` is a string o
-00016f50: 6620 6368 6172 6163 7465 7273 2074 6861  f characters tha
-00016f60: 7420 776f 756c 6420 6265 2076 616c 6964  t would be valid
-00016f70: 0a20 2020 2020 2069 6465 6e74 6966 6965  .      identifie
-00016f80: 7220 6368 6172 6163 7465 7273 2c20 6465  r characters, de
-00016f90: 6661 756c 7469 6e67 2074 6f20 616c 6c20  faulting to all 
-00016fa0: 616c 7068 616e 756d 6572 6963 7320 2b20  alphanumerics + 
-00016fb0: 225f 2220 616e 640a 2020 2020 2020 2224  "_" and.      "$
-00016fc0: 220a 2020 2020 2d20 6060 6361 7365 6c65  ".    - ``casele
-00016fd0: 7373 6060 2061 6c6c 6f77 7320 6361 7365  ss`` allows case
-00016fe0: 2d69 6e73 656e 7369 7469 7665 206d 6174  -insensitive mat
-00016ff0: 6368 696e 672c 2064 6566 6175 6c74 2069  ching, default i
-00017000: 7320 6060 4661 6c73 6560 602e 0a0a 2020  s ``False``...  
-00017010: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
-00017020: 2020 2020 204b 6579 776f 7264 2822 7374       Keyword("st
-00017030: 6172 7422 292e 7061 7273 655f 7374 7269  art").parse_stri
-00017040: 6e67 2822 7374 6172 7422 2920 2023 202d  ng("start")  # -
-00017050: 3e20 5b27 7374 6172 7427 5d0a 2020 2020  > ['start'].    
-00017060: 2020 2020 4b65 7977 6f72 6428 2273 7461      Keyword("sta
-00017070: 7274 2229 2e70 6172 7365 5f73 7472 696e  rt").parse_strin
-00017080: 6728 2273 7461 7274 696e 6722 2920 2023  g("starting")  #
-00017090: 202d 3e20 4578 6365 7074 696f 6e0a 0a20   -> Exception.. 
-000170a0: 2020 2046 6f72 2063 6173 652d 696e 7365     For case-inse
-000170b0: 6e73 6974 6976 6520 6d61 7463 6869 6e67  nsitive matching
-000170c0: 2c20 7573 6520 3a63 6c61 7373 3a60 4361  , use :class:`Ca
-000170d0: 7365 6c65 7373 4b65 7977 6f72 6460 2e0a  selessKeyword`..
-000170e0: 2020 2020 2222 220a 0a20 2020 2044 4546      """..    DEF
-000170f0: 4155 4c54 5f4b 4559 574f 5244 5f43 4841  AULT_KEYWORD_CHA
-00017100: 5253 203d 2061 6c70 6861 6e75 6d73 202b  RS = alphanums +
-00017110: 2022 5f24 220a 0a20 2020 2064 6566 205f   "_$"..    def _
-00017120: 5f69 6e69 745f 5f28 0a20 2020 2020 2020  _init__(.       
-00017130: 2073 656c 662c 0a20 2020 2020 2020 206d   self,.        m
-00017140: 6174 6368 5f73 7472 696e 673a 2073 7472  atch_string: str
-00017150: 203d 2022 222c 0a20 2020 2020 2020 2069   = "",.        i
-00017160: 6465 6e74 5f63 6861 7273 3a20 7479 7069  dent_chars: typi
-00017170: 6e67 2e4f 7074 696f 6e61 6c5b 7374 725d  ng.Optional[str]
-00017180: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00017190: 2063 6173 656c 6573 733a 2062 6f6f 6c20   caseless: bool 
-000171a0: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
-000171b0: 202a 2c0a 2020 2020 2020 2020 6d61 7463   *,.        matc
-000171c0: 6853 7472 696e 673a 2073 7472 203d 2022  hString: str = "
-000171d0: 222c 0a20 2020 2020 2020 2069 6465 6e74  ",.        ident
-000171e0: 4368 6172 733a 2074 7970 696e 672e 4f70  Chars: typing.Op
-000171f0: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
-00017200: 6e65 2c0a 2020 2020 293a 0a20 2020 2020  ne,.    ):.     
-00017210: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
-00017220: 745f 5f28 290a 2020 2020 2020 2020 6964  t__().        id
-00017230: 656e 7443 6861 7273 203d 2069 6465 6e74  entChars = ident
-00017240: 4368 6172 7320 6f72 2069 6465 6e74 5f63  Chars or ident_c
-00017250: 6861 7273 0a20 2020 2020 2020 2069 6620  hars.        if 
-00017260: 6964 656e 7443 6861 7273 2069 7320 4e6f  identChars is No
-00017270: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-00017280: 6964 656e 7443 6861 7273 203d 204b 6579  identChars = Key
-00017290: 776f 7264 2e44 4546 4155 4c54 5f4b 4559  word.DEFAULT_KEY
-000172a0: 574f 5244 5f43 4841 5253 0a20 2020 2020  WORD_CHARS.     
-000172b0: 2020 206d 6174 6368 5f73 7472 696e 6720     match_string 
-000172c0: 3d20 6d61 7463 6853 7472 696e 6720 6f72  = matchString or
-000172d0: 206d 6174 6368 5f73 7472 696e 670a 2020   match_string.  
-000172e0: 2020 2020 2020 7365 6c66 2e6d 6174 6368        self.match
-000172f0: 203d 206d 6174 6368 5f73 7472 696e 670a   = match_string.
-00017300: 2020 2020 2020 2020 7365 6c66 2e6d 6174          self.mat
-00017310: 6368 4c65 6e20 3d20 6c65 6e28 6d61 7463  chLen = len(matc
-00017320: 685f 7374 7269 6e67 290a 2020 2020 2020  h_string).      
-00017330: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-00017340: 2020 2073 656c 662e 6669 7273 744d 6174     self.firstMat
-00017350: 6368 4368 6172 203d 206d 6174 6368 5f73  chChar = match_s
-00017360: 7472 696e 675b 305d 0a20 2020 2020 2020  tring[0].       
-00017370: 2065 7863 6570 7420 496e 6465 7845 7272   except IndexErr
-00017380: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
-00017390: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
-000173a0: 2822 6e75 6c6c 2073 7472 696e 6720 7061  ("null string pa
-000173b0: 7373 6564 2074 6f20 4b65 7977 6f72 643b  ssed to Keyword;
-000173c0: 2075 7365 2045 6d70 7479 2829 2069 6e73   use Empty() ins
-000173d0: 7465 6164 2229 0a20 2020 2020 2020 2073  tead").        s
-000173e0: 656c 662e 6572 726d 7367 203d 2066 2245  elf.errmsg = f"E
-000173f0: 7870 6563 7465 6420 7b74 7970 6528 7365  xpected {type(se
-00017400: 6c66 292e 5f5f 6e61 6d65 5f5f 7d20 7b73  lf).__name__} {s
-00017410: 656c 662e 6e61 6d65 7d22 0a20 2020 2020  elf.name}".     
-00017420: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
-00017430: 6e45 6d70 7479 203d 2046 616c 7365 0a20  nEmpty = False. 
-00017440: 2020 2020 2020 2073 656c 662e 6d61 7949         self.mayI
-00017450: 6e64 6578 4572 726f 7220 3d20 4661 6c73  ndexError = Fals
-00017460: 650a 2020 2020 2020 2020 7365 6c66 2e63  e.        self.c
-00017470: 6173 656c 6573 7320 3d20 6361 7365 6c65  aseless = casele
-00017480: 7373 0a20 2020 2020 2020 2069 6620 6361  ss.        if ca
-00017490: 7365 6c65 7373 3a0a 2020 2020 2020 2020  seless:.        
-000174a0: 2020 2020 7365 6c66 2e63 6173 656c 6573      self.caseles
-000174b0: 736d 6174 6368 203d 206d 6174 6368 5f73  smatch = match_s
-000174c0: 7472 696e 672e 7570 7065 7228 290a 2020  tring.upper().  
-000174d0: 2020 2020 2020 2020 2020 6964 656e 7443            identC
-000174e0: 6861 7273 203d 2069 6465 6e74 4368 6172  hars = identChar
-000174f0: 732e 7570 7065 7228 290a 2020 2020 2020  s.upper().      
-00017500: 2020 7365 6c66 2e69 6465 6e74 4368 6172    self.identChar
-00017510: 7320 3d20 7365 7428 6964 656e 7443 6861  s = set(identCha
-00017520: 7273 290a 0a20 2020 2064 6566 205f 6765  rs)..    def _ge
-00017530: 6e65 7261 7465 4465 6661 756c 744e 616d  nerateDefaultNam
-00017540: 6528 7365 6c66 2920 2d3e 2073 7472 3a0a  e(self) -> str:.
-00017550: 2020 2020 2020 2020 7265 7475 726e 2072          return r
-00017560: 6570 7228 7365 6c66 2e6d 6174 6368 290a  epr(self.match).
-00017570: 0a20 2020 2064 6566 2070 6172 7365 496d  .    def parseIm
-00017580: 706c 2873 656c 662c 2069 6e73 7472 696e  pl(self, instrin
-00017590: 672c 206c 6f63 2c20 646f 4163 7469 6f6e  g, loc, doAction
-000175a0: 733d 5472 7565 293a 0a20 2020 2020 2020  s=True):.       
-000175b0: 2065 7272 6d73 6720 3d20 7365 6c66 2e65   errmsg = self.e
-000175c0: 7272 6d73 670a 2020 2020 2020 2020 6572  rrmsg.        er
-000175d0: 726c 6f63 203d 206c 6f63 0a20 2020 2020  rloc = loc.     
-000175e0: 2020 2069 6620 7365 6c66 2e63 6173 656c     if self.casel
-000175f0: 6573 733a 0a20 2020 2020 2020 2020 2020  ess:.           
-00017600: 2069 6620 696e 7374 7269 6e67 5b6c 6f63   if instring[loc
-00017610: 203a 206c 6f63 202b 2073 656c 662e 6d61   : loc + self.ma
-00017620: 7463 684c 656e 5d2e 7570 7065 7228 2920  tchLen].upper() 
-00017630: 3d3d 2073 656c 662e 6361 7365 6c65 7373  == self.caseless
-00017640: 6d61 7463 683a 0a20 2020 2020 2020 2020  match:.         
-00017650: 2020 2020 2020 2069 6620 6c6f 6320 3d3d         if loc ==
-00017660: 2030 206f 7220 696e 7374 7269 6e67 5b6c   0 or instring[l
-00017670: 6f63 202d 2031 5d2e 7570 7065 7228 2920  oc - 1].upper() 
-00017680: 6e6f 7420 696e 2073 656c 662e 6964 656e  not in self.iden
-00017690: 7443 6861 7273 3a0a 2020 2020 2020 2020  tChars:.        
-000176a0: 2020 2020 2020 2020 2020 2020 6966 2028              if (
-000176b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000176c0: 2020 2020 2020 2020 206c 6f63 203e 3d20           loc >= 
-000176d0: 6c65 6e28 696e 7374 7269 6e67 2920 2d20  len(instring) - 
-000176e0: 7365 6c66 2e6d 6174 6368 4c65 6e0a 2020  self.matchLen.  
-000176f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017700: 2020 2020 2020 6f72 2069 6e73 7472 696e        or instrin
-00017710: 675b 6c6f 6320 2b20 7365 6c66 2e6d 6174  g[loc + self.mat
-00017720: 6368 4c65 6e5d 2e75 7070 6572 2829 206e  chLen].upper() n
-00017730: 6f74 2069 6e20 7365 6c66 2e69 6465 6e74  ot in self.ident
-00017740: 4368 6172 730a 2020 2020 2020 2020 2020  Chars.          
-00017750: 2020 2020 2020 2020 2020 293a 0a20 2020            ):.   
-00017760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017770: 2020 2020 2072 6574 7572 6e20 6c6f 6320       return loc 
-00017780: 2b20 7365 6c66 2e6d 6174 6368 4c65 6e2c  + self.matchLen,
-00017790: 2073 656c 662e 6d61 7463 680a 2020 2020   self.match.    
-000177a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000177b0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-000177c0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-000177d0: 666f 6c6c 6f77 6564 2062 7920 6b65 7977  followed by keyw
-000177e0: 6f72 6420 6368 6172 0a20 2020 2020 2020  ord char.       
-000177f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017800: 2065 7272 6d73 6720 2b3d 2022 2c20 7761   errmsg += ", wa
-00017810: 7320 696d 6d65 6469 6174 656c 7920 666f  s immediately fo
-00017820: 6c6c 6f77 6564 2062 7920 6b65 7977 6f72  llowed by keywor
-00017830: 6420 6368 6172 6163 7465 7222 0a20 2020  d character".   
-00017840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017850: 2020 2020 2065 7272 6c6f 6320 3d20 6c6f       errloc = lo
-00017860: 6320 2b20 7365 6c66 2e6d 6174 6368 4c65  c + self.matchLe
-00017870: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
-00017880: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00017890: 2020 2020 2020 2020 2020 2020 2320 7072              # pr
-000178a0: 6563 6564 6564 2062 7920 6b65 7977 6f72  eceded by keywor
-000178b0: 6420 6368 6172 0a20 2020 2020 2020 2020  d char.         
-000178c0: 2020 2020 2020 2020 2020 2065 7272 6d73             errms
-000178d0: 6720 2b3d 2022 2c20 6b65 7977 6f72 6420  g += ", keyword 
-000178e0: 7761 7320 696d 6d65 6469 6174 656c 7920  was immediately 
-000178f0: 7072 6563 6564 6564 2062 7920 6b65 7977  preceded by keyw
-00017900: 6f72 6420 6368 6172 6163 7465 7222 0a20  ord character". 
+00015e90: 2020 2020 2020 6465 6c20 745b 305d 0a20        del t[0]. 
+00015ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015eb0: 2020 2074 2e70 6f70 2822 5f73 6b69 7070     t.pop("_skipp
+00015ec0: 6564 222c 204e 6f6e 6529 0a0a 2020 2020  ed", None)..    
+00015ed0: 2020 2020 2020 2020 6465 6620 7368 6f77          def show
+00015ee0: 5f73 6b69 7028 7429 3a0a 2020 2020 2020  _skip(t):.      
+00015ef0: 2020 2020 2020 2020 2020 6966 2074 2e5f            if t._
+00015f00: 736b 6970 7065 642e 6173 5f6c 6973 7428  skipped.as_list(
+00015f10: 295b 2d31 3a5d 203d 3d20 5b22 225d 3a0a  )[-1:] == [""]:.
+00015f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015f30: 2020 2020 742e 706f 7028 225f 736b 6970      t.pop("_skip
+00015f40: 7065 6422 290a 2020 2020 2020 2020 2020  ped").          
+00015f50: 2020 2020 2020 2020 2020 745b 225f 736b            t["_sk
+00015f60: 6970 7065 6422 5d20 3d20 226d 6973 7369  ipped"] = "missi
+00015f70: 6e67 203c 2220 2b20 7265 7072 2873 656c  ng <" + repr(sel
+00015f80: 662e 616e 6368 6f72 2920 2b20 223e 220a  f.anchor) + ">".
+00015f90: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00015fa0: 7572 6e20 280a 2020 2020 2020 2020 2020  urn (.          
+00015fb0: 2020 2020 2020 7365 6c66 2e61 6e63 686f        self.ancho
+00015fc0: 7220 2b20 736b 6970 7065 7228 292e 6164  r + skipper().ad
+00015fd0: 645f 7061 7273 655f 6163 7469 6f6e 286d  d_parse_action(m
+00015fe0: 7573 745f 736b 6970 290a 2020 2020 2020  ust_skip).      
+00015ff0: 2020 2020 2020 2020 2020 7c20 736b 6970            | skip
+00016000: 7065 7228 292e 6164 645f 7061 7273 655f  per().add_parse_
+00016010: 6163 7469 6f6e 2873 686f 775f 736b 6970  action(show_skip
+00016020: 290a 2020 2020 2020 2020 2020 2020 2920  ).            ) 
+00016030: 2b20 6f74 6865 720a 0a20 2020 2020 2020  + other..       
+00016040: 2072 6574 7572 6e20 7365 6c66 2e61 6e63   return self.anc
+00016050: 686f 7220 2b20 736b 6970 7065 7220 2b20  hor + skipper + 
+00016060: 6f74 6865 720a 0a20 2020 2064 6566 205f  other..    def _
+00016070: 5f72 6570 725f 5f28 7365 6c66 293a 0a20  _repr__(self):. 
+00016080: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+00016090: 6c66 2e64 6566 6175 6c74 4e61 6d65 0a0a  lf.defaultName..
+000160a0: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
+000160b0: 6c28 7365 6c66 2c20 2a61 7267 7329 3a0a  l(self, *args):.
+000160c0: 2020 2020 2020 2020 7261 6973 6520 4578          raise Ex
+000160d0: 6365 7074 696f 6e28 0a20 2020 2020 2020  ception(.       
+000160e0: 2020 2020 2022 7573 6520 6f66 2060 2e2e       "use of `..
+000160f0: 2e60 2065 7870 7265 7373 696f 6e20 7769  .` expression wi
+00016100: 7468 6f75 7420 666f 6c6c 6f77 696e 6720  thout following 
+00016110: 536b 6970 546f 2074 6172 6765 7420 6578  SkipTo target ex
+00016120: 7072 6573 7369 6f6e 220a 2020 2020 2020  pression".      
+00016130: 2020 290a 0a0a 636c 6173 7320 546f 6b65    )...class Toke
+00016140: 6e28 5061 7273 6572 456c 656d 656e 7429  n(ParserElement)
+00016150: 3a0a 2020 2020 2222 2241 6273 7472 6163  :.    """Abstrac
+00016160: 7420 3a63 6c61 7373 3a60 5061 7273 6572  t :class:`Parser
+00016170: 456c 656d 656e 7460 2073 7562 636c 6173  Element` subclas
+00016180: 732c 2066 6f72 2064 6566 696e 696e 6720  s, for defining 
+00016190: 6174 6f6d 6963 0a20 2020 206d 6174 6368  atomic.    match
+000161a0: 696e 6720 7061 7474 6572 6e73 2e0a 2020  ing patterns..  
+000161b0: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
+000161c0: 5f69 6e69 745f 5f28 7365 6c66 293a 0a20  _init__(self):. 
+000161d0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
+000161e0: 5f69 6e69 745f 5f28 7361 7665 6c69 7374  _init__(savelist
+000161f0: 3d46 616c 7365 290a 0a20 2020 2064 6566  =False)..    def
+00016200: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
+00016210: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
+00016220: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
+00016230: 726e 2074 7970 6528 7365 6c66 292e 5f5f  rn type(self).__
+00016240: 6e61 6d65 5f5f 0a0a 0a63 6c61 7373 204e  name__...class N
+00016250: 6f4d 6174 6368 2854 6f6b 656e 293a 0a20  oMatch(Token):. 
+00016260: 2020 2022 2222 0a20 2020 2041 2074 6f6b     """.    A tok
+00016270: 656e 2074 6861 7420 7769 6c6c 206e 6576  en that will nev
+00016280: 6572 206d 6174 6368 2e0a 2020 2020 2222  er match..    ""
+00016290: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
+000162a0: 745f 5f28 7365 6c66 293a 0a20 2020 2020  t__(self):.     
+000162b0: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
+000162c0: 745f 5f28 290a 2020 2020 2020 2020 7365  t__().        se
+000162d0: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
+000162e0: 7920 3d20 5472 7565 0a20 2020 2020 2020  y = True.       
+000162f0: 2073 656c 662e 6d61 7949 6e64 6578 4572   self.mayIndexEr
+00016300: 726f 7220 3d20 4661 6c73 650a 2020 2020  ror = False.    
+00016310: 2020 2020 7365 6c66 2e65 7272 6d73 6720      self.errmsg 
+00016320: 3d20 2255 6e6d 6174 6368 6162 6c65 2074  = "Unmatchable t
+00016330: 6f6b 656e 220a 0a20 2020 2064 6566 2070  oken"..    def p
+00016340: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
+00016350: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+00016360: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
+00016370: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
+00016380: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
+00016390: 7269 6e67 2c20 6c6f 632c 2073 656c 662e  ring, loc, self.
+000163a0: 6572 726d 7367 2c20 7365 6c66 290a 0a0a  errmsg, self)...
+000163b0: 636c 6173 7320 4c69 7465 7261 6c28 546f  class Literal(To
+000163c0: 6b65 6e29 3a0a 2020 2020 2222 220a 2020  ken):.    """.  
+000163d0: 2020 546f 6b65 6e20 746f 2065 7861 6374    Token to exact
+000163e0: 6c79 206d 6174 6368 2061 2073 7065 6369  ly match a speci
+000163f0: 6669 6564 2073 7472 696e 672e 0a0a 2020  fied string...  
+00016400: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
+00016410: 2020 2020 204c 6974 6572 616c 2827 626c       Literal('bl
+00016420: 6168 2729 2e70 6172 7365 5f73 7472 696e  ah').parse_strin
+00016430: 6728 2762 6c61 6827 2920 2023 202d 3e20  g('blah')  # -> 
+00016440: 5b27 626c 6168 275d 0a20 2020 2020 2020  ['blah'].       
+00016450: 204c 6974 6572 616c 2827 626c 6168 2729   Literal('blah')
+00016460: 2e70 6172 7365 5f73 7472 696e 6728 2762  .parse_string('b
+00016470: 6c61 6866 6f6f 626c 6168 2729 2020 2320  lahfooblah')  # 
+00016480: 2d3e 205b 2762 6c61 6827 5d0a 2020 2020  -> ['blah'].    
+00016490: 2020 2020 4c69 7465 7261 6c28 2762 6c61      Literal('bla
+000164a0: 6827 292e 7061 7273 655f 7374 7269 6e67  h').parse_string
+000164b0: 2827 626c 6127 2920 2023 202d 3e20 4578  ('bla')  # -> Ex
+000164c0: 6365 7074 696f 6e3a 2045 7870 6563 7465  ception: Expecte
+000164d0: 6420 2262 6c61 6822 0a0a 2020 2020 466f  d "blah"..    Fo
+000164e0: 7220 6361 7365 2d69 6e73 656e 7369 7469  r case-insensiti
+000164f0: 7665 206d 6174 6368 696e 672c 2075 7365  ve matching, use
+00016500: 203a 636c 6173 733a 6043 6173 656c 6573   :class:`Caseles
+00016510: 734c 6974 6572 616c 602e 0a0a 2020 2020  sLiteral`...    
+00016520: 466f 7220 6b65 7977 6f72 6420 6d61 7463  For keyword matc
+00016530: 6869 6e67 2028 666f 7263 6520 776f 7264  hing (force word
+00016540: 2062 7265 616b 2062 6566 6f72 6520 616e   break before an
+00016550: 6420 6166 7465 7220 7468 6520 6d61 7463  d after the matc
+00016560: 6865 6420 7374 7269 6e67 292c 0a20 2020  hed string),.   
+00016570: 2075 7365 203a 636c 6173 733a 604b 6579   use :class:`Key
+00016580: 776f 7264 6020 6f72 203a 636c 6173 733a  word` or :class:
+00016590: 6043 6173 656c 6573 734b 6579 776f 7264  `CaselessKeyword
+000165a0: 602e 0a20 2020 2022 2222 0a0a 2020 2020  `..    """..    
+000165b0: 6465 6620 5f5f 6e65 775f 5f28 636c 732c  def __new__(cls,
+000165c0: 206d 6174 6368 5f73 7472 696e 673a 2073   match_string: s
+000165d0: 7472 203d 2022 222c 202a 2c20 6d61 7463  tr = "", *, matc
+000165e0: 6853 7472 696e 673a 2073 7472 203d 2022  hString: str = "
+000165f0: 2229 3a0a 2020 2020 2020 2020 2320 5065  "):.        # Pe
+00016600: 7266 6f72 6d61 6e63 6520 7475 6e69 6e67  rformance tuning
+00016610: 3a20 7365 6c65 6374 2061 2073 7562 636c  : select a subcl
+00016620: 6173 7320 7769 7468 206f 7074 696d 697a  ass with optimiz
+00016630: 6564 2070 6172 7365 496d 706c 0a20 2020  ed parseImpl.   
+00016640: 2020 2020 2069 6620 636c 7320 6973 204c       if cls is L
+00016650: 6974 6572 616c 3a0a 2020 2020 2020 2020  iteral:.        
+00016660: 2020 2020 6d61 7463 685f 7374 7269 6e67      match_string
+00016670: 203d 206d 6174 6368 5374 7269 6e67 206f   = matchString o
+00016680: 7220 6d61 7463 685f 7374 7269 6e67 0a20  r match_string. 
+00016690: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+000166a0: 7420 6d61 7463 685f 7374 7269 6e67 3a0a  t match_string:.
+000166b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000166c0: 7265 7475 726e 2073 7570 6572 2829 2e5f  return super()._
+000166d0: 5f6e 6577 5f5f 2845 6d70 7479 290a 2020  _new__(Empty).  
+000166e0: 2020 2020 2020 2020 2020 6966 206c 656e            if len
+000166f0: 286d 6174 6368 5f73 7472 696e 6729 203d  (match_string) =
+00016700: 3d20 313a 0a20 2020 2020 2020 2020 2020  = 1:.           
+00016710: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
+00016720: 7228 292e 5f5f 6e65 775f 5f28 5f53 696e  r().__new__(_Sin
+00016730: 676c 6543 6861 724c 6974 6572 616c 290a  gleCharLiteral).
+00016740: 0a20 2020 2020 2020 2023 2044 6566 6175  .        # Defau
+00016750: 6c74 2062 6568 6176 696f 720a 2020 2020  lt behavior.    
+00016760: 2020 2020 7265 7475 726e 2073 7570 6572      return super
+00016770: 2829 2e5f 5f6e 6577 5f5f 2863 6c73 290a  ().__new__(cls).
+00016780: 0a20 2020 2023 204e 6565 6465 6420 746f  .    # Needed to
+00016790: 206d 616b 6520 636f 7079 2e63 6f70 7928   make copy.copy(
+000167a0: 2920 776f 726b 2063 6f72 7265 6374 6c79  ) work correctly
+000167b0: 2069 6620 7765 2063 7573 746f 6d69 7a65   if we customize
+000167c0: 205f 5f6e 6577 5f5f 0a20 2020 2064 6566   __new__.    def
+000167d0: 205f 5f67 6574 6e65 7761 7267 735f 5f28   __getnewargs__(
+000167e0: 7365 6c66 293a 0a20 2020 2020 2020 2072  self):.        r
+000167f0: 6574 7572 6e20 2873 656c 662e 6d61 7463  eturn (self.matc
+00016800: 682c 290a 0a20 2020 2064 6566 205f 5f69  h,)..    def __i
+00016810: 6e69 745f 5f28 7365 6c66 2c20 6d61 7463  nit__(self, matc
+00016820: 685f 7374 7269 6e67 3a20 7374 7220 3d20  h_string: str = 
+00016830: 2222 2c20 2a2c 206d 6174 6368 5374 7269  "", *, matchStri
+00016840: 6e67 3a20 7374 7220 3d20 2222 293a 0a20  ng: str = ""):. 
+00016850: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
+00016860: 5f69 6e69 745f 5f28 290a 2020 2020 2020  _init__().      
+00016870: 2020 6d61 7463 685f 7374 7269 6e67 203d    match_string =
+00016880: 206d 6174 6368 5374 7269 6e67 206f 7220   matchString or 
+00016890: 6d61 7463 685f 7374 7269 6e67 0a20 2020  match_string.   
+000168a0: 2020 2020 2073 656c 662e 6d61 7463 6820       self.match 
+000168b0: 3d20 6d61 7463 685f 7374 7269 6e67 0a20  = match_string. 
+000168c0: 2020 2020 2020 2073 656c 662e 6d61 7463         self.matc
+000168d0: 684c 656e 203d 206c 656e 286d 6174 6368  hLen = len(match
+000168e0: 5f73 7472 696e 6729 0a20 2020 2020 2020  _string).       
+000168f0: 2073 656c 662e 6669 7273 744d 6174 6368   self.firstMatch
+00016900: 4368 6172 203d 206d 6174 6368 5f73 7472  Char = match_str
+00016910: 696e 675b 3a31 5d0a 2020 2020 2020 2020  ing[:1].        
+00016920: 7365 6c66 2e65 7272 6d73 6720 3d20 2245  self.errmsg = "E
+00016930: 7870 6563 7465 6420 2220 2b20 7365 6c66  xpected " + self
+00016940: 2e6e 616d 650a 2020 2020 2020 2020 7365  .name.        se
+00016950: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
+00016960: 7920 3d20 4661 6c73 650a 2020 2020 2020  y = False.      
+00016970: 2020 7365 6c66 2e6d 6179 496e 6465 7845    self.mayIndexE
+00016980: 7272 6f72 203d 2046 616c 7365 0a0a 2020  rror = False..  
+00016990: 2020 6465 6620 5f67 656e 6572 6174 6544    def _generateD
+000169a0: 6566 6175 6c74 4e61 6d65 2873 656c 6629  efaultName(self)
+000169b0: 202d 3e20 7374 723a 0a20 2020 2020 2020   -> str:.       
+000169c0: 2072 6574 7572 6e20 7265 7072 2873 656c   return repr(sel
+000169d0: 662e 6d61 7463 6829 0a0a 2020 2020 6465  f.match)..    de
+000169e0: 6620 7061 7273 6549 6d70 6c28 7365 6c66  f parseImpl(self
+000169f0: 2c20 696e 7374 7269 6e67 2c20 6c6f 632c  , instring, loc,
+00016a00: 2064 6f41 6374 696f 6e73 3d54 7275 6529   doActions=True)
+00016a10: 3a0a 2020 2020 2020 2020 6966 2069 6e73  :.        if ins
+00016a20: 7472 696e 675b 6c6f 635d 203d 3d20 7365  tring[loc] == se
+00016a30: 6c66 2e66 6972 7374 4d61 7463 6843 6861  lf.firstMatchCha
+00016a40: 7220 616e 6420 696e 7374 7269 6e67 2e73  r and instring.s
+00016a50: 7461 7274 7377 6974 6828 0a20 2020 2020  tartswith(.     
+00016a60: 2020 2020 2020 2073 656c 662e 6d61 7463         self.matc
+00016a70: 682c 206c 6f63 0a20 2020 2020 2020 2029  h, loc.        )
+00016a80: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+00016a90: 7475 726e 206c 6f63 202b 2073 656c 662e  turn loc + self.
+00016aa0: 6d61 7463 684c 656e 2c20 7365 6c66 2e6d  matchLen, self.m
+00016ab0: 6174 6368 0a20 2020 2020 2020 2072 6169  atch.        rai
+00016ac0: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
+00016ad0: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
+00016ae0: 2073 656c 662e 6572 726d 7367 2c20 7365   self.errmsg, se
+00016af0: 6c66 290a 0a0a 636c 6173 7320 456d 7074  lf)...class Empt
+00016b00: 7928 4c69 7465 7261 6c29 3a0a 2020 2020  y(Literal):.    
+00016b10: 2222 220a 2020 2020 416e 2065 6d70 7479  """.    An empty
+00016b20: 2074 6f6b 656e 2c20 7769 6c6c 2061 6c77   token, will alw
+00016b30: 6179 7320 6d61 7463 682e 0a20 2020 2022  ays match..    "
+00016b40: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
+00016b50: 6974 5f5f 2873 656c 662c 206d 6174 6368  it__(self, match
+00016b60: 5f73 7472 696e 673d 2222 2c20 2a2c 206d  _string="", *, m
+00016b70: 6174 6368 5374 7269 6e67 3d22 2229 3a0a  atchString=""):.
+00016b80: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+00016b90: 5f5f 696e 6974 5f5f 2822 2229 0a20 2020  __init__("").   
+00016ba0: 2020 2020 2073 656c 662e 6d61 7952 6574       self.mayRet
+00016bb0: 7572 6e45 6d70 7479 203d 2054 7275 650a  urnEmpty = True.
+00016bc0: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
+00016bd0: 496e 6465 7845 7272 6f72 203d 2046 616c  IndexError = Fal
+00016be0: 7365 0a0a 2020 2020 6465 6620 5f67 656e  se..    def _gen
+00016bf0: 6572 6174 6544 6566 6175 6c74 4e61 6d65  erateDefaultName
+00016c00: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
+00016c10: 2020 2020 2020 2072 6574 7572 6e20 2245         return "E
+00016c20: 6d70 7479 220a 0a20 2020 2064 6566 2070  mpty"..    def p
+00016c30: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
+00016c40: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+00016c50: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
+00016c60: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
+00016c70: 7065 7228 4c69 7465 7261 6c2c 2073 656c  per(Literal, sel
+00016c80: 6629 2e70 6172 7365 496d 706c 2869 6e73  f).parseImpl(ins
+00016c90: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+00016ca0: 7469 6f6e 7329 0a0a 0a63 6c61 7373 205f  tions)...class _
+00016cb0: 5369 6e67 6c65 4368 6172 4c69 7465 7261  SingleCharLitera
+00016cc0: 6c28 4c69 7465 7261 6c29 3a0a 2020 2020  l(Literal):.    
+00016cd0: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
+00016ce0: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
+00016cf0: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
+00016d00: 6529 3a0a 2020 2020 2020 2020 6966 2069  e):.        if i
+00016d10: 6e73 7472 696e 675b 6c6f 635d 203d 3d20  nstring[loc] == 
+00016d20: 7365 6c66 2e66 6972 7374 4d61 7463 6843  self.firstMatchC
+00016d30: 6861 723a 0a20 2020 2020 2020 2020 2020  har:.           
+00016d40: 2072 6574 7572 6e20 6c6f 6320 2b20 312c   return loc + 1,
+00016d50: 2073 656c 662e 6d61 7463 680a 2020 2020   self.match.    
+00016d60: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
+00016d70: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
+00016d80: 672c 206c 6f63 2c20 7365 6c66 2e65 7272  g, loc, self.err
+00016d90: 6d73 672c 2073 656c 6629 0a0a 0a50 6172  msg, self)...Par
+00016da0: 7365 7245 6c65 6d65 6e74 2e5f 6c69 7465  serElement._lite
+00016db0: 7261 6c53 7472 696e 6743 6c61 7373 203d  ralStringClass =
+00016dc0: 204c 6974 6572 616c 0a0a 0a63 6c61 7373   Literal...class
+00016dd0: 204b 6579 776f 7264 2854 6f6b 656e 293a   Keyword(Token):
+00016de0: 0a20 2020 2022 2222 0a20 2020 2054 6f6b  .    """.    Tok
+00016df0: 656e 2074 6f20 6578 6163 746c 7920 6d61  en to exactly ma
+00016e00: 7463 6820 6120 7370 6563 6966 6965 6420  tch a specified 
+00016e10: 7374 7269 6e67 2061 7320 6120 6b65 7977  string as a keyw
+00016e20: 6f72 642c 2074 6861 7420 6973 2c0a 2020  ord, that is,.  
+00016e30: 2020 6974 206d 7573 7420 6265 2069 6d6d    it must be imm
+00016e40: 6564 6961 7465 6c79 2070 7265 6365 6465  ediately precede
+00016e50: 6420 616e 6420 666f 6c6c 6f77 6564 2062  d and followed b
+00016e60: 7920 7768 6974 6573 7061 6365 206f 720a  y whitespace or.
+00016e70: 2020 2020 6e6f 6e2d 6b65 7977 6f72 6420      non-keyword 
+00016e80: 6368 6172 6163 7465 7273 2e20 436f 6d70  characters. Comp
+00016e90: 6172 6520 7769 7468 203a 636c 6173 733a  are with :class:
+00016ea0: 604c 6974 6572 616c 603a 0a0a 2020 2020  `Literal`:..    
+00016eb0: 2d20 6060 4c69 7465 7261 6c28 2269 6622  - ``Literal("if"
+00016ec0: 2960 6020 7769 6c6c 206d 6174 6368 2074  )`` will match t
+00016ed0: 6865 206c 6561 6469 6e67 2060 6027 6966  he leading ``'if
+00016ee0: 2760 6020 696e 0a20 2020 2020 2060 6027  '`` in.      ``'
+00016ef0: 6966 416e 644f 6e6c 7949 6627 6060 2e0a  ifAndOnlyIf'``..
+00016f00: 2020 2020 2d20 6060 4b65 7977 6f72 6428      - ``Keyword(
+00016f10: 2269 6622 2960 6020 7769 6c6c 206e 6f74  "if")`` will not
+00016f20: 3b20 6974 2077 696c 6c20 6f6e 6c79 206d  ; it will only m
+00016f30: 6174 6368 2074 6865 206c 6561 6469 6e67  atch the leading
+00016f40: 0a20 2020 2020 2060 6027 6966 2760 6020  .      ``'if'`` 
+00016f50: 696e 2060 6027 6966 2078 3d31 2760 602c  in ``'if x=1'``,
+00016f60: 206f 7220 6060 2769 6628 793d 3d32 2927   or ``'if(y==2)'
+00016f70: 6060 0a0a 2020 2020 4163 6365 7074 7320  ``..    Accepts 
+00016f80: 7477 6f20 6f70 7469 6f6e 616c 2063 6f6e  two optional con
+00016f90: 7374 7275 6374 6f72 2061 7267 756d 656e  structor argumen
+00016fa0: 7473 2069 6e20 6164 6469 7469 6f6e 2074  ts in addition t
+00016fb0: 6f20 7468 650a 2020 2020 6b65 7977 6f72  o the.    keywor
+00016fc0: 6420 7374 7269 6e67 3a0a 0a20 2020 202d  d string:..    -
+00016fd0: 2060 6069 6465 6e74 5f63 6861 7273 6060   ``ident_chars``
+00016fe0: 2069 7320 6120 7374 7269 6e67 206f 6620   is a string of 
+00016ff0: 6368 6172 6163 7465 7273 2074 6861 7420  characters that 
+00017000: 776f 756c 6420 6265 2076 616c 6964 0a20  would be valid. 
+00017010: 2020 2020 2069 6465 6e74 6966 6965 7220       identifier 
+00017020: 6368 6172 6163 7465 7273 2c20 6465 6661  characters, defa
+00017030: 756c 7469 6e67 2074 6f20 616c 6c20 616c  ulting to all al
+00017040: 7068 616e 756d 6572 6963 7320 2b20 225f  phanumerics + "_
+00017050: 2220 616e 640a 2020 2020 2020 2224 220a  " and.      "$".
+00017060: 2020 2020 2d20 6060 6361 7365 6c65 7373      - ``caseless
+00017070: 6060 2061 6c6c 6f77 7320 6361 7365 2d69  `` allows case-i
+00017080: 6e73 656e 7369 7469 7665 206d 6174 6368  nsensitive match
+00017090: 696e 672c 2064 6566 6175 6c74 2069 7320  ing, default is 
+000170a0: 6060 4661 6c73 6560 602e 0a0a 2020 2020  ``False``...    
+000170b0: 4578 616d 706c 653a 3a0a 0a20 2020 2020  Example::..     
+000170c0: 2020 204b 6579 776f 7264 2822 7374 6172     Keyword("star
+000170d0: 7422 292e 7061 7273 655f 7374 7269 6e67  t").parse_string
+000170e0: 2822 7374 6172 7422 2920 2023 202d 3e20  ("start")  # -> 
+000170f0: 5b27 7374 6172 7427 5d0a 2020 2020 2020  ['start'].      
+00017100: 2020 4b65 7977 6f72 6428 2273 7461 7274    Keyword("start
+00017110: 2229 2e70 6172 7365 5f73 7472 696e 6728  ").parse_string(
+00017120: 2273 7461 7274 696e 6722 2920 2023 202d  "starting")  # -
+00017130: 3e20 4578 6365 7074 696f 6e0a 0a20 2020  > Exception..   
+00017140: 2046 6f72 2063 6173 652d 696e 7365 6e73   For case-insens
+00017150: 6974 6976 6520 6d61 7463 6869 6e67 2c20  itive matching, 
+00017160: 7573 6520 3a63 6c61 7373 3a60 4361 7365  use :class:`Case
+00017170: 6c65 7373 4b65 7977 6f72 6460 2e0a 2020  lessKeyword`..  
+00017180: 2020 2222 220a 0a20 2020 2044 4546 4155    """..    DEFAU
+00017190: 4c54 5f4b 4559 574f 5244 5f43 4841 5253  LT_KEYWORD_CHARS
+000171a0: 203d 2061 6c70 6861 6e75 6d73 202b 2022   = alphanums + "
+000171b0: 5f24 220a 0a20 2020 2064 6566 205f 5f69  _$"..    def __i
+000171c0: 6e69 745f 5f28 0a20 2020 2020 2020 2073  nit__(.        s
+000171d0: 656c 662c 0a20 2020 2020 2020 206d 6174  elf,.        mat
+000171e0: 6368 5f73 7472 696e 673a 2073 7472 203d  ch_string: str =
+000171f0: 2022 222c 0a20 2020 2020 2020 2069 6465   "",.        ide
+00017200: 6e74 5f63 6861 7273 3a20 7479 7069 6e67  nt_chars: typing
+00017210: 2e4f 7074 696f 6e61 6c5b 7374 725d 203d  .Optional[str] =
+00017220: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
+00017230: 6173 656c 6573 733a 2062 6f6f 6c20 3d20  aseless: bool = 
+00017240: 4661 6c73 652c 0a20 2020 2020 2020 202a  False,.        *
+00017250: 2c0a 2020 2020 2020 2020 6d61 7463 6853  ,.        matchS
+00017260: 7472 696e 673a 2073 7472 203d 2022 222c  tring: str = "",
+00017270: 0a20 2020 2020 2020 2069 6465 6e74 4368  .        identCh
+00017280: 6172 733a 2074 7970 696e 672e 4f70 7469  ars: typing.Opti
+00017290: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
+000172a0: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
+000172b0: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
+000172c0: 5f28 290a 2020 2020 2020 2020 6964 656e  _().        iden
+000172d0: 7443 6861 7273 203d 2069 6465 6e74 4368  tChars = identCh
+000172e0: 6172 7320 6f72 2069 6465 6e74 5f63 6861  ars or ident_cha
+000172f0: 7273 0a20 2020 2020 2020 2069 6620 6964  rs.        if id
+00017300: 656e 7443 6861 7273 2069 7320 4e6f 6e65  entChars is None
+00017310: 3a0a 2020 2020 2020 2020 2020 2020 6964  :.            id
+00017320: 656e 7443 6861 7273 203d 204b 6579 776f  entChars = Keywo
+00017330: 7264 2e44 4546 4155 4c54 5f4b 4559 574f  rd.DEFAULT_KEYWO
+00017340: 5244 5f43 4841 5253 0a20 2020 2020 2020  RD_CHARS.       
+00017350: 206d 6174 6368 5f73 7472 696e 6720 3d20   match_string = 
+00017360: 6d61 7463 6853 7472 696e 6720 6f72 206d  matchString or m
+00017370: 6174 6368 5f73 7472 696e 670a 2020 2020  atch_string.    
+00017380: 2020 2020 7365 6c66 2e6d 6174 6368 203d      self.match =
+00017390: 206d 6174 6368 5f73 7472 696e 670a 2020   match_string.  
+000173a0: 2020 2020 2020 7365 6c66 2e6d 6174 6368        self.match
+000173b0: 4c65 6e20 3d20 6c65 6e28 6d61 7463 685f  Len = len(match_
+000173c0: 7374 7269 6e67 290a 2020 2020 2020 2020  string).        
+000173d0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+000173e0: 2073 656c 662e 6669 7273 744d 6174 6368   self.firstMatch
+000173f0: 4368 6172 203d 206d 6174 6368 5f73 7472  Char = match_str
+00017400: 696e 675b 305d 0a20 2020 2020 2020 2065  ing[0].        e
+00017410: 7863 6570 7420 496e 6465 7845 7272 6f72  xcept IndexError
+00017420: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+00017430: 6973 6520 5661 6c75 6545 7272 6f72 2822  ise ValueError("
+00017440: 6e75 6c6c 2073 7472 696e 6720 7061 7373  null string pass
+00017450: 6564 2074 6f20 4b65 7977 6f72 643b 2075  ed to Keyword; u
+00017460: 7365 2045 6d70 7479 2829 2069 6e73 7465  se Empty() inste
+00017470: 6164 2229 0a20 2020 2020 2020 2073 656c  ad").        sel
+00017480: 662e 6572 726d 7367 203d 2066 2245 7870  f.errmsg = f"Exp
+00017490: 6563 7465 6420 7b74 7970 6528 7365 6c66  ected {type(self
+000174a0: 292e 5f5f 6e61 6d65 5f5f 7d20 7b73 656c  ).__name__} {sel
+000174b0: 662e 6e61 6d65 7d22 0a20 2020 2020 2020  f.name}".       
+000174c0: 2073 656c 662e 6d61 7952 6574 7572 6e45   self.mayReturnE
+000174d0: 6d70 7479 203d 2046 616c 7365 0a20 2020  mpty = False.   
+000174e0: 2020 2020 2073 656c 662e 6d61 7949 6e64       self.mayInd
+000174f0: 6578 4572 726f 7220 3d20 4661 6c73 650a  exError = False.
+00017500: 2020 2020 2020 2020 7365 6c66 2e63 6173          self.cas
+00017510: 656c 6573 7320 3d20 6361 7365 6c65 7373  eless = caseless
+00017520: 0a20 2020 2020 2020 2069 6620 6361 7365  .        if case
+00017530: 6c65 7373 3a0a 2020 2020 2020 2020 2020  less:.          
+00017540: 2020 7365 6c66 2e63 6173 656c 6573 736d    self.caselessm
+00017550: 6174 6368 203d 206d 6174 6368 5f73 7472  atch = match_str
+00017560: 696e 672e 7570 7065 7228 290a 2020 2020  ing.upper().    
+00017570: 2020 2020 2020 2020 6964 656e 7443 6861          identCha
+00017580: 7273 203d 2069 6465 6e74 4368 6172 732e  rs = identChars.
+00017590: 7570 7065 7228 290a 2020 2020 2020 2020  upper().        
+000175a0: 7365 6c66 2e69 6465 6e74 4368 6172 7320  self.identChars 
+000175b0: 3d20 7365 7428 6964 656e 7443 6861 7273  = set(identChars
+000175c0: 290a 0a20 2020 2064 6566 205f 6765 6e65  )..    def _gene
+000175d0: 7261 7465 4465 6661 756c 744e 616d 6528  rateDefaultName(
+000175e0: 7365 6c66 2920 2d3e 2073 7472 3a0a 2020  self) -> str:.  
+000175f0: 2020 2020 2020 7265 7475 726e 2072 6570        return rep
+00017600: 7228 7365 6c66 2e6d 6174 6368 290a 0a20  r(self.match).. 
+00017610: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
+00017620: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
+00017630: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
+00017640: 5472 7565 293a 0a20 2020 2020 2020 2065  True):.        e
+00017650: 7272 6d73 6720 3d20 7365 6c66 2e65 7272  rrmsg = self.err
+00017660: 6d73 670a 2020 2020 2020 2020 6572 726c  msg.        errl
+00017670: 6f63 203d 206c 6f63 0a20 2020 2020 2020  oc = loc.       
+00017680: 2069 6620 7365 6c66 2e63 6173 656c 6573   if self.caseles
+00017690: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
+000176a0: 6620 696e 7374 7269 6e67 5b6c 6f63 203a  f instring[loc :
+000176b0: 206c 6f63 202b 2073 656c 662e 6d61 7463   loc + self.matc
+000176c0: 684c 656e 5d2e 7570 7065 7228 2920 3d3d  hLen].upper() ==
+000176d0: 2073 656c 662e 6361 7365 6c65 7373 6d61   self.caselessma
+000176e0: 7463 683a 0a20 2020 2020 2020 2020 2020  tch:.           
+000176f0: 2020 2020 2069 6620 6c6f 6320 3d3d 2030       if loc == 0
+00017700: 206f 7220 696e 7374 7269 6e67 5b6c 6f63   or instring[loc
+00017710: 202d 2031 5d2e 7570 7065 7228 2920 6e6f   - 1].upper() no
+00017720: 7420 696e 2073 656c 662e 6964 656e 7443  t in self.identC
+00017730: 6861 7273 3a0a 2020 2020 2020 2020 2020  hars:.          
+00017740: 2020 2020 2020 2020 2020 6966 2028 0a20            if (. 
+00017750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017760: 2020 2020 2020 206c 6f63 203e 3d20 6c65         loc >= le
+00017770: 6e28 696e 7374 7269 6e67 2920 2d20 7365  n(instring) - se
+00017780: 6c66 2e6d 6174 6368 4c65 6e0a 2020 2020  lf.matchLen.    
+00017790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000177a0: 2020 2020 6f72 2069 6e73 7472 696e 675b      or instring[
+000177b0: 6c6f 6320 2b20 7365 6c66 2e6d 6174 6368  loc + self.match
+000177c0: 4c65 6e5d 2e75 7070 6572 2829 206e 6f74  Len].upper() not
+000177d0: 2069 6e20 7365 6c66 2e69 6465 6e74 4368   in self.identCh
+000177e0: 6172 730a 2020 2020 2020 2020 2020 2020  ars.            
+000177f0: 2020 2020 2020 2020 293a 0a20 2020 2020          ):.     
+00017800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017810: 2020 2072 6574 7572 6e20 6c6f 6320 2b20     return loc + 
+00017820: 7365 6c66 2e6d 6174 6368 4c65 6e2c 2073  self.matchLen, s
+00017830: 656c 662e 6d61 7463 680a 2020 2020 2020  elf.match.      
+00017840: 2020 2020 2020 2020 2020 2020 2020 656c                el
+00017850: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00017860: 2020 2020 2020 2020 2020 2020 2320 666f              # fo
+00017870: 6c6c 6f77 6564 2062 7920 6b65 7977 6f72  llowed by keywor
+00017880: 6420 6368 6172 0a20 2020 2020 2020 2020  d char.         
+00017890: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+000178a0: 7272 6d73 6720 2b3d 2022 2c20 7761 7320  rrmsg += ", was 
+000178b0: 696d 6d65 6469 6174 656c 7920 666f 6c6c  immediately foll
+000178c0: 6f77 6564 2062 7920 6b65 7977 6f72 6420  owed by keyword 
+000178d0: 6368 6172 6163 7465 7222 0a20 2020 2020  character".     
+000178e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000178f0: 2020 2065 7272 6c6f 6320 3d20 6c6f 6320     errloc = loc 
+00017900: 2b20 7365 6c66 2e6d 6174 6368 4c65 6e0a  + self.matchLen.
 00017910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017920: 2020 2065 7272 6c6f 6320 3d20 6c6f 6320     errloc = loc 
-00017930: 2d20 310a 2020 2020 2020 2020 2020 2020  - 1.            
-00017940: 2320 656c 7365 206e 6f20 6d61 7463 6820  # else no match 
-00017950: 6a75 7374 2072 6169 7365 2070 6c61 696e  just raise plain
-00017960: 2065 7863 6570 7469 6f6e 0a0a 2020 2020   exception..    
-00017970: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00017980: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
-00017990: 2020 2020 2020 2020 2020 2069 6e73 7472             instr
-000179a0: 696e 675b 6c6f 635d 203d 3d20 7365 6c66  ing[loc] == self
-000179b0: 2e66 6972 7374 4d61 7463 6843 6861 720a  .firstMatchChar.
-000179c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000179d0: 616e 6420 7365 6c66 2e6d 6174 6368 4c65  and self.matchLe
-000179e0: 6e20 3d3d 2031 0a20 2020 2020 2020 2020  n == 1.         
-000179f0: 2020 2020 2020 206f 7220 696e 7374 7269         or instri
-00017a00: 6e67 2e73 7461 7274 7377 6974 6828 7365  ng.startswith(se
-00017a10: 6c66 2e6d 6174 6368 2c20 6c6f 6329 0a20  lf.match, loc). 
-00017a20: 2020 2020 2020 2020 2020 2029 3a0a 2020             ):.  
-00017a30: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00017a40: 206c 6f63 203d 3d20 3020 6f72 2069 6e73   loc == 0 or ins
-00017a50: 7472 696e 675b 6c6f 6320 2d20 315d 206e  tring[loc - 1] n
-00017a60: 6f74 2069 6e20 7365 6c66 2e69 6465 6e74  ot in self.ident
-00017a70: 4368 6172 733a 0a20 2020 2020 2020 2020  Chars:.         
-00017a80: 2020 2020 2020 2020 2020 2069 6620 280a             if (.
-00017a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017aa0: 2020 2020 2020 2020 6c6f 6320 3e3d 206c          loc >= l
-00017ab0: 656e 2869 6e73 7472 696e 6729 202d 2073  en(instring) - s
-00017ac0: 656c 662e 6d61 7463 684c 656e 0a20 2020  elf.matchLen.   
-00017ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017ae0: 2020 2020 206f 7220 696e 7374 7269 6e67       or instring
-00017af0: 5b6c 6f63 202b 2073 656c 662e 6d61 7463  [loc + self.matc
-00017b00: 684c 656e 5d20 6e6f 7420 696e 2073 656c  hLen] not in sel
-00017b10: 662e 6964 656e 7443 6861 7273 0a20 2020  f.identChars.   
-00017b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b30: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
-00017b40: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00017b50: 726e 206c 6f63 202b 2073 656c 662e 6d61  rn loc + self.ma
-00017b60: 7463 684c 656e 2c20 7365 6c66 2e6d 6174  tchLen, self.mat
-00017b70: 6368 0a20 2020 2020 2020 2020 2020 2020  ch.             
-00017b80: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00017b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017ba0: 2020 2020 2023 2066 6f6c 6c6f 7765 6420       # followed 
-00017bb0: 6279 206b 6579 776f 7264 2063 6861 720a  by keyword char.
-00017bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017bd0: 2020 2020 2020 2020 6572 726d 7367 202b          errmsg +
-00017be0: 3d20 280a 2020 2020 2020 2020 2020 2020  = (.            
-00017bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c00: 222c 206b 6579 776f 7264 2077 6173 2069  ", keyword was i
-00017c10: 6d6d 6564 6961 7465 6c79 2066 6f6c 6c6f  mmediately follo
-00017c20: 7765 6420 6279 206b 6579 776f 7264 2063  wed by keyword c
-00017c30: 6861 7261 6374 6572 220a 2020 2020 2020  haracter".      
-00017c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c50: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-00017c60: 2020 2020 2020 2020 2020 2020 6572 726c              errl
-00017c70: 6f63 203d 206c 6f63 202b 2073 656c 662e  oc = loc + self.
-00017c80: 6d61 7463 684c 656e 0a20 2020 2020 2020  matchLen.       
-00017c90: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00017ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017cb0: 2020 2023 2070 7265 6365 6465 6420 6279     # preceded by
-00017cc0: 206b 6579 776f 7264 2063 6861 720a 2020   keyword char.  
-00017cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017ce0: 2020 6572 726d 7367 202b 3d20 222c 206b    errmsg += ", k
-00017cf0: 6579 776f 7264 2077 6173 2069 6d6d 6564  eyword was immed
-00017d00: 6961 7465 6c79 2070 7265 6365 6465 6420  iately preceded 
-00017d10: 6279 206b 6579 776f 7264 2063 6861 7261  by keyword chara
-00017d20: 6374 6572 220a 2020 2020 2020 2020 2020  cter".          
-00017d30: 2020 2020 2020 2020 2020 6572 726c 6f63            errloc
-00017d40: 203d 206c 6f63 202d 2031 0a20 2020 2020   = loc - 1.     
-00017d50: 2020 2020 2020 2023 2065 6c73 6520 6e6f         # else no
-00017d60: 206d 6174 6368 206a 7573 7420 7261 6973   match just rais
-00017d70: 6520 706c 6169 6e20 6578 6365 7074 696f  e plain exceptio
-00017d80: 6e0a 0a20 2020 2020 2020 2072 6169 7365  n..        raise
-00017d90: 2050 6172 7365 4578 6365 7074 696f 6e28   ParseException(
-00017da0: 696e 7374 7269 6e67 2c20 6572 726c 6f63  instring, errloc
-00017db0: 2c20 6572 726d 7367 2c20 7365 6c66 290a  , errmsg, self).
-00017dc0: 0a20 2020 2040 7374 6174 6963 6d65 7468  .    @staticmeth
-00017dd0: 6f64 0a20 2020 2064 6566 2073 6574 5f64  od.    def set_d
-00017de0: 6566 6175 6c74 5f6b 6579 776f 7264 5f63  efault_keyword_c
-00017df0: 6861 7273 2863 6861 7273 2920 2d3e 204e  hars(chars) -> N
-00017e00: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
-00017e10: 0a20 2020 2020 2020 204f 7665 7272 6964  .        Overrid
-00017e20: 6573 2074 6865 2064 6566 6175 6c74 2063  es the default c
-00017e30: 6861 7261 6374 6572 7320 7573 6564 2062  haracters used b
-00017e40: 7920 3a63 6c61 7373 3a60 4b65 7977 6f72  y :class:`Keywor
-00017e50: 6460 2065 7870 7265 7373 696f 6e73 2e0a  d` expressions..
-00017e60: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00017e70: 2020 2020 4b65 7977 6f72 642e 4445 4641      Keyword.DEFA
-00017e80: 554c 545f 4b45 5957 4f52 445f 4348 4152  ULT_KEYWORD_CHAR
-00017e90: 5320 3d20 6368 6172 730a 0a20 2020 2073  S = chars..    s
-00017ea0: 6574 4465 6661 756c 744b 6579 776f 7264  etDefaultKeyword
-00017eb0: 4368 6172 7320 3d20 7365 745f 6465 6661  Chars = set_defa
-00017ec0: 756c 745f 6b65 7977 6f72 645f 6368 6172  ult_keyword_char
-00017ed0: 730a 0a0a 636c 6173 7320 4361 7365 6c65  s...class Casele
-00017ee0: 7373 4c69 7465 7261 6c28 4c69 7465 7261  ssLiteral(Litera
-00017ef0: 6c29 3a0a 2020 2020 2222 220a 2020 2020  l):.    """.    
-00017f00: 546f 6b65 6e20 746f 206d 6174 6368 2061  Token to match a
-00017f10: 2073 7065 6369 6669 6564 2073 7472 696e   specified strin
-00017f20: 672c 2069 676e 6f72 696e 6720 6361 7365  g, ignoring case
-00017f30: 206f 6620 6c65 7474 6572 732e 0a20 2020   of letters..   
-00017f40: 204e 6f74 653a 2074 6865 206d 6174 6368   Note: the match
-00017f50: 6564 2072 6573 756c 7473 2077 696c 6c20  ed results will 
-00017f60: 616c 7761 7973 2062 6520 696e 2074 6865  always be in the
-00017f70: 2063 6173 6520 6f66 2074 6865 2067 6976   case of the giv
-00017f80: 656e 0a20 2020 206d 6174 6368 2073 7472  en.    match str
-00017f90: 696e 672c 204e 4f54 2074 6865 2063 6173  ing, NOT the cas
-00017fa0: 6520 6f66 2074 6865 2069 6e70 7574 2074  e of the input t
-00017fb0: 6578 742e 0a0a 2020 2020 4578 616d 706c  ext...    Exampl
-00017fc0: 653a 3a0a 0a20 2020 2020 2020 2043 6173  e::..        Cas
-00017fd0: 656c 6573 734c 6974 6572 616c 2822 434d  elessLiteral("CM
-00017fe0: 4422 295b 312c 202e 2e2e 5d2e 7061 7273  D")[1, ...].pars
-00017ff0: 655f 7374 7269 6e67 2822 636d 6420 434d  e_string("cmd CM
-00018000: 4420 436d 6431 3022 290a 2020 2020 2020  D Cmd10").      
-00018010: 2020 2320 2d3e 205b 2743 4d44 272c 2027    # -> ['CMD', '
-00018020: 434d 4427 2c20 2743 4d44 275d 0a0a 2020  CMD', 'CMD']..  
-00018030: 2020 2843 6f6e 7472 6173 7420 7769 7468    (Contrast with
-00018040: 2065 7861 6d70 6c65 2066 6f72 203a 636c   example for :cl
-00018050: 6173 733a 6043 6173 656c 6573 734b 6579  ass:`CaselessKey
-00018060: 776f 7264 602e 290a 2020 2020 2222 220a  word`.).    """.
-00018070: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
-00018080: 5f28 7365 6c66 2c20 6d61 7463 685f 7374  _(self, match_st
-00018090: 7269 6e67 3a20 7374 7220 3d20 2222 2c20  ring: str = "", 
-000180a0: 2a2c 206d 6174 6368 5374 7269 6e67 3a20  *, matchString: 
-000180b0: 7374 7220 3d20 2222 293a 0a20 2020 2020  str = ""):.     
-000180c0: 2020 206d 6174 6368 5f73 7472 696e 6720     match_string 
-000180d0: 3d20 6d61 7463 6853 7472 696e 6720 6f72  = matchString or
-000180e0: 206d 6174 6368 5f73 7472 696e 670a 2020   match_string.  
-000180f0: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
-00018100: 696e 6974 5f5f 286d 6174 6368 5f73 7472  init__(match_str
-00018110: 696e 672e 7570 7065 7228 2929 0a20 2020  ing.upper()).   
-00018120: 2020 2020 2023 2050 7265 7365 7276 6520       # Preserve 
-00018130: 7468 6520 6465 6669 6e69 6e67 206c 6974  the defining lit
-00018140: 6572 616c 2e0a 2020 2020 2020 2020 7365  eral..        se
-00018150: 6c66 2e72 6574 7572 6e53 7472 696e 6720  lf.returnString 
-00018160: 3d20 6d61 7463 685f 7374 7269 6e67 0a20  = match_string. 
-00018170: 2020 2020 2020 2073 656c 662e 6572 726d         self.errm
-00018180: 7367 203d 2022 4578 7065 6374 6564 2022  sg = "Expected "
-00018190: 202b 2073 656c 662e 6e61 6d65 0a0a 2020   + self.name..  
-000181a0: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-000181b0: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-000181c0: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
-000181d0: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
-000181e0: 2069 6e73 7472 696e 675b 6c6f 6320 3a20   instring[loc : 
-000181f0: 6c6f 6320 2b20 7365 6c66 2e6d 6174 6368  loc + self.match
-00018200: 4c65 6e5d 2e75 7070 6572 2829 203d 3d20  Len].upper() == 
-00018210: 7365 6c66 2e6d 6174 6368 3a0a 2020 2020  self.match:.    
-00018220: 2020 2020 2020 2020 7265 7475 726e 206c          return l
-00018230: 6f63 202b 2073 656c 662e 6d61 7463 684c  oc + self.matchL
-00018240: 656e 2c20 7365 6c66 2e72 6574 7572 6e53  en, self.returnS
-00018250: 7472 696e 670a 2020 2020 2020 2020 7261  tring.        ra
-00018260: 6973 6520 5061 7273 6545 7863 6570 7469  ise ParseExcepti
-00018270: 6f6e 2869 6e73 7472 696e 672c 206c 6f63  on(instring, loc
-00018280: 2c20 7365 6c66 2e65 7272 6d73 672c 2073  , self.errmsg, s
-00018290: 656c 6629 0a0a 0a63 6c61 7373 2043 6173  elf)...class Cas
-000182a0: 656c 6573 734b 6579 776f 7264 284b 6579  elessKeyword(Key
-000182b0: 776f 7264 293a 0a20 2020 2022 2222 0a20  word):.    """. 
-000182c0: 2020 2043 6173 656c 6573 7320 7665 7273     Caseless vers
-000182d0: 696f 6e20 6f66 203a 636c 6173 733a 604b  ion of :class:`K
-000182e0: 6579 776f 7264 602e 0a0a 2020 2020 4578  eyword`...    Ex
-000182f0: 616d 706c 653a 3a0a 0a20 2020 2020 2020  ample::..       
-00018300: 2043 6173 656c 6573 734b 6579 776f 7264   CaselessKeyword
-00018310: 2822 434d 4422 295b 312c 202e 2e2e 5d2e  ("CMD")[1, ...].
-00018320: 7061 7273 655f 7374 7269 6e67 2822 636d  parse_string("cm
-00018330: 6420 434d 4420 436d 6431 3022 290a 2020  d CMD Cmd10").  
-00018340: 2020 2020 2020 2320 2d3e 205b 2743 4d44        # -> ['CMD
-00018350: 272c 2027 434d 4427 5d0a 0a20 2020 2028  ', 'CMD']..    (
-00018360: 436f 6e74 7261 7374 2077 6974 6820 6578  Contrast with ex
-00018370: 616d 706c 6520 666f 7220 3a63 6c61 7373  ample for :class
-00018380: 3a60 4361 7365 6c65 7373 4c69 7465 7261  :`CaselessLitera
-00018390: 6c60 2e29 0a20 2020 2022 2222 0a0a 2020  l`.).    """..  
-000183a0: 2020 6465 6620 5f5f 696e 6974 5f5f 280a    def __init__(.
-000183b0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-000183c0: 2020 2020 2020 6d61 7463 685f 7374 7269        match_stri
-000183d0: 6e67 3a20 7374 7220 3d20 2222 2c0a 2020  ng: str = "",.  
-000183e0: 2020 2020 2020 6964 656e 745f 6368 6172        ident_char
-000183f0: 733a 2074 7970 696e 672e 4f70 7469 6f6e  s: typing.Option
-00018400: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  al[str] = None,.
-00018410: 2020 2020 2020 2020 2a2c 0a20 2020 2020          *,.     
-00018420: 2020 206d 6174 6368 5374 7269 6e67 3a20     matchString: 
-00018430: 7374 7220 3d20 2222 2c0a 2020 2020 2020  str = "",.      
-00018440: 2020 6964 656e 7443 6861 7273 3a20 7479    identChars: ty
-00018450: 7069 6e67 2e4f 7074 696f 6e61 6c5b 7374  ping.Optional[st
-00018460: 725d 203d 204e 6f6e 652c 0a20 2020 2029  r] = None,.    )
-00018470: 3a0a 2020 2020 2020 2020 6964 656e 7443  :.        identC
-00018480: 6861 7273 203d 2069 6465 6e74 4368 6172  hars = identChar
-00018490: 7320 6f72 2069 6465 6e74 5f63 6861 7273  s or ident_chars
-000184a0: 0a20 2020 2020 2020 206d 6174 6368 5f73  .        match_s
-000184b0: 7472 696e 6720 3d20 6d61 7463 6853 7472  tring = matchStr
-000184c0: 696e 6720 6f72 206d 6174 6368 5f73 7472  ing or match_str
-000184d0: 696e 670a 2020 2020 2020 2020 7375 7065  ing.        supe
-000184e0: 7228 292e 5f5f 696e 6974 5f5f 286d 6174  r().__init__(mat
-000184f0: 6368 5f73 7472 696e 672c 2069 6465 6e74  ch_string, ident
-00018500: 4368 6172 732c 2063 6173 656c 6573 733d  Chars, caseless=
-00018510: 5472 7565 290a 0a0a 636c 6173 7320 436c  True)...class Cl
-00018520: 6f73 654d 6174 6368 2854 6f6b 656e 293a  oseMatch(Token):
-00018530: 0a20 2020 2022 2222 4120 7661 7269 6174  .    """A variat
-00018540: 696f 6e20 6f6e 203a 636c 6173 733a 604c  ion on :class:`L
-00018550: 6974 6572 616c 6020 7768 6963 6820 6d61  iteral` which ma
-00018560: 7463 6865 7320 2263 6c6f 7365 2220 6d61  tches "close" ma
-00018570: 7463 6865 732c 0a20 2020 2074 6861 7420  tches,.    that 
-00018580: 6973 2c20 7374 7269 6e67 7320 7769 7468  is, strings with
-00018590: 2061 7420 6d6f 7374 2027 6e27 206d 6973   at most 'n' mis
-000185a0: 6d61 7463 6869 6e67 2063 6861 7261 6374  matching charact
-000185b0: 6572 732e 0a20 2020 203a 636c 6173 733a  ers..    :class:
-000185c0: 6043 6c6f 7365 4d61 7463 6860 2074 616b  `CloseMatch` tak
-000185d0: 6573 2070 6172 616d 6574 6572 733a 0a0a  es parameters:..
-000185e0: 2020 2020 2d20 6060 6d61 7463 685f 7374      - ``match_st
-000185f0: 7269 6e67 6060 202d 2073 7472 696e 6720  ring`` - string 
-00018600: 746f 2062 6520 6d61 7463 6865 640a 2020  to be matched.  
-00018610: 2020 2d20 6060 6361 7365 6c65 7373 6060    - ``caseless``
-00018620: 202d 2061 2062 6f6f 6c65 616e 2069 6e64   - a boolean ind
-00018630: 6963 6174 696e 6720 7768 6574 6865 7220  icating whether 
-00018640: 746f 2069 676e 6f72 6520 6361 7369 6e67  to ignore casing
-00018650: 2077 6865 6e20 636f 6d70 6172 696e 6720   when comparing 
-00018660: 6368 6172 6163 7465 7273 0a20 2020 202d  characters.    -
-00018670: 2060 606d 6178 5f6d 6973 6d61 7463 6865   ``max_mismatche
-00018680: 7360 6020 2d20 2860 6064 6566 6175 6c74  s`` - (``default
-00018690: 3d31 6060 2920 6d61 7869 6d75 6d20 6e75  =1``) maximum nu
-000186a0: 6d62 6572 206f 660a 2020 2020 2020 6d69  mber of.      mi
-000186b0: 736d 6174 6368 6573 2061 6c6c 6f77 6564  smatches allowed
-000186c0: 2074 6f20 636f 756e 7420 6173 2061 206d   to count as a m
-000186d0: 6174 6368 0a0a 2020 2020 5468 6520 7265  atch..    The re
-000186e0: 7375 6c74 7320 6672 6f6d 2061 2073 7563  sults from a suc
-000186f0: 6365 7373 6675 6c20 7061 7273 6520 7769  cessful parse wi
-00018700: 6c6c 2063 6f6e 7461 696e 2074 6865 206d  ll contain the m
-00018710: 6174 6368 6564 2074 6578 740a 2020 2020  atched text.    
-00018720: 6672 6f6d 2074 6865 2069 6e70 7574 2073  from the input s
-00018730: 7472 696e 6720 616e 6420 7468 6520 666f  tring and the fo
-00018740: 6c6c 6f77 696e 6720 6e61 6d65 6420 7265  llowing named re
-00018750: 7375 6c74 733a 0a0a 2020 2020 2d20 6060  sults:..    - ``
-00018760: 6d69 736d 6174 6368 6573 6060 202d 2061  mismatches`` - a
-00018770: 206c 6973 7420 6f66 2074 6865 2070 6f73   list of the pos
-00018780: 6974 696f 6e73 2077 6974 6869 6e20 7468  itions within th
-00018790: 650a 2020 2020 2020 6d61 7463 685f 7374  e.      match_st
-000187a0: 7269 6e67 2077 6865 7265 206d 6973 6d61  ring where misma
-000187b0: 7463 6865 7320 7765 7265 2066 6f75 6e64  tches were found
-000187c0: 0a20 2020 202d 2060 606f 7269 6769 6e61  .    - ``origina
-000187d0: 6c60 6020 2d20 7468 6520 6f72 6967 696e  l`` - the origin
-000187e0: 616c 206d 6174 6368 5f73 7472 696e 6720  al match_string 
-000187f0: 7573 6564 2074 6f20 636f 6d70 6172 650a  used to compare.
-00018800: 2020 2020 2020 6167 6169 6e73 7420 7468        against th
-00018810: 6520 696e 7075 7420 7374 7269 6e67 0a0a  e input string..
-00018820: 2020 2020 4966 2060 606d 6973 6d61 7463      If ``mismatc
-00018830: 6865 7360 6020 6973 2061 6e20 656d 7074  hes`` is an empt
-00018840: 7920 6c69 7374 2c20 7468 656e 2074 6865  y list, then the
-00018850: 206d 6174 6368 2077 6173 2061 6e20 6578   match was an ex
-00018860: 6163 740a 2020 2020 6d61 7463 682e 0a0a  act.    match...
-00018870: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
-00018880: 2020 2020 2020 2070 6174 7420 3d20 436c         patt = Cl
-00018890: 6f73 654d 6174 6368 2822 4154 4341 5443  oseMatch("ATCATC
-000188a0: 4741 4154 4747 4122 290a 2020 2020 2020  GAATGGA").      
-000188b0: 2020 7061 7474 2e70 6172 7365 5f73 7472    patt.parse_str
-000188c0: 696e 6728 2241 5443 4154 4347 4141 5847  ing("ATCATCGAAXG
-000188d0: 4741 2229 2023 202d 3e20 285b 2741 5443  GA") # -> (['ATC
-000188e0: 4154 4347 4141 5847 4741 275d 2c20 7b27  ATCGAAXGGA'], {'
-000188f0: 6d69 736d 6174 6368 6573 273a 205b 5b39  mismatches': [[9
-00018900: 5d5d 2c20 276f 7269 6769 6e61 6c27 3a20  ]], 'original': 
-00018910: 5b27 4154 4341 5443 4741 4154 4747 4127  ['ATCATCGAATGGA'
-00018920: 5d7d 290a 2020 2020 2020 2020 7061 7474  ]}).        patt
-00018930: 2e70 6172 7365 5f73 7472 696e 6728 2241  .parse_string("A
-00018940: 5443 4158 4347 4141 5847 4741 2229 2023  TCAXCGAAXGGA") #
-00018950: 202d 3e20 4578 6365 7074 696f 6e3a 2045   -> Exception: E
-00018960: 7870 6563 7465 6420 2741 5443 4154 4347  xpected 'ATCATCG
-00018970: 4141 5447 4741 2720 2877 6974 6820 7570  AATGGA' (with up
-00018980: 2074 6f20 3120 6d69 736d 6174 6368 6573   to 1 mismatches
-00018990: 2920 2861 7420 6368 6172 2030 292c 2028  ) (at char 0), (
-000189a0: 6c69 6e65 3a31 2c20 636f 6c3a 3129 0a0a  line:1, col:1)..
-000189b0: 2020 2020 2020 2020 2320 6578 6163 7420          # exact 
-000189c0: 6d61 7463 680a 2020 2020 2020 2020 7061  match.        pa
-000189d0: 7474 2e70 6172 7365 5f73 7472 696e 6728  tt.parse_string(
-000189e0: 2241 5443 4154 4347 4141 5447 4741 2229  "ATCATCGAATGGA")
-000189f0: 2023 202d 3e20 285b 2741 5443 4154 4347   # -> (['ATCATCG
-00018a00: 4141 5447 4741 275d 2c20 7b27 6d69 736d  AATGGA'], {'mism
-00018a10: 6174 6368 6573 273a 205b 5b5d 5d2c 2027  atches': [[]], '
-00018a20: 6f72 6967 696e 616c 273a 205b 2741 5443  original': ['ATC
-00018a30: 4154 4347 4141 5447 4741 275d 7d29 0a0a  ATCGAATGGA']})..
-00018a40: 2020 2020 2020 2020 2320 636c 6f73 6520          # close 
-00018a50: 6d61 7463 6820 616c 6c6f 7769 6e67 2075  match allowing u
-00018a60: 7020 746f 2032 206d 6973 6d61 7463 6865  p to 2 mismatche
-00018a70: 730a 2020 2020 2020 2020 7061 7474 203d  s.        patt =
-00018a80: 2043 6c6f 7365 4d61 7463 6828 2241 5443   CloseMatch("ATC
-00018a90: 4154 4347 4141 5447 4741 222c 206d 6178  ATCGAATGGA", max
-00018aa0: 5f6d 6973 6d61 7463 6865 733d 3229 0a20  _mismatches=2). 
-00018ab0: 2020 2020 2020 2070 6174 742e 7061 7273         patt.pars
-00018ac0: 655f 7374 7269 6e67 2822 4154 4341 5843  e_string("ATCAXC
-00018ad0: 4741 4158 4747 4122 2920 2320 2d3e 2028  GAAXGGA") # -> (
-00018ae0: 5b27 4154 4341 5843 4741 4158 4747 4127  ['ATCAXCGAAXGGA'
-00018af0: 5d2c 207b 276d 6973 6d61 7463 6865 7327  ], {'mismatches'
-00018b00: 3a20 5b5b 342c 2039 5d5d 2c20 276f 7269  : [[4, 9]], 'ori
-00018b10: 6769 6e61 6c27 3a20 5b27 4154 4341 5443  ginal': ['ATCATC
-00018b20: 4741 4154 4747 4127 5d7d 290a 2020 2020  GAATGGA']}).    
-00018b30: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
-00018b40: 6e69 745f 5f28 0a20 2020 2020 2020 2073  nit__(.        s
-00018b50: 656c 662c 0a20 2020 2020 2020 206d 6174  elf,.        mat
-00018b60: 6368 5f73 7472 696e 673a 2073 7472 2c0a  ch_string: str,.
-00018b70: 2020 2020 2020 2020 6d61 785f 6d69 736d          max_mism
-00018b80: 6174 6368 6573 3a20 7479 7069 6e67 2e4f  atches: typing.O
-00018b90: 7074 696f 6e61 6c5b 696e 745d 203d 204e  ptional[int] = N
-00018ba0: 6f6e 652c 0a20 2020 2020 2020 202a 2c0a  one,.        *,.
-00018bb0: 2020 2020 2020 2020 6d61 784d 6973 6d61          maxMisma
-00018bc0: 7463 6865 733a 2069 6e74 203d 2031 2c0a  tches: int = 1,.
-00018bd0: 2020 2020 2020 2020 6361 7365 6c65 7373          caseless
-00018be0: 3d46 616c 7365 2c0a 2020 2020 293a 0a20  =False,.    ):. 
-00018bf0: 2020 2020 2020 206d 6178 4d69 736d 6174         maxMismat
-00018c00: 6368 6573 203d 206d 6178 5f6d 6973 6d61  ches = max_misma
-00018c10: 7463 6865 7320 6966 206d 6178 5f6d 6973  tches if max_mis
-00018c20: 6d61 7463 6865 7320 6973 206e 6f74 204e  matches is not N
-00018c30: 6f6e 6520 656c 7365 206d 6178 4d69 736d  one else maxMism
-00018c40: 6174 6368 6573 0a20 2020 2020 2020 2073  atches.        s
-00018c50: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
-00018c60: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00018c70: 6174 6368 5f73 7472 696e 6720 3d20 6d61  atch_string = ma
-00018c80: 7463 685f 7374 7269 6e67 0a20 2020 2020  tch_string.     
-00018c90: 2020 2073 656c 662e 6d61 784d 6973 6d61     self.maxMisma
-00018ca0: 7463 6865 7320 3d20 6d61 784d 6973 6d61  tches = maxMisma
-00018cb0: 7463 6865 730a 2020 2020 2020 2020 7365  tches.        se
-00018cc0: 6c66 2e65 7272 6d73 6720 3d20 6622 4578  lf.errmsg = f"Ex
-00018cd0: 7065 6374 6564 207b 7365 6c66 2e6d 6174  pected {self.mat
-00018ce0: 6368 5f73 7472 696e 6721 727d 2028 7769  ch_string!r} (wi
-00018cf0: 7468 2075 7020 746f 207b 7365 6c66 2e6d  th up to {self.m
-00018d00: 6178 4d69 736d 6174 6368 6573 7d20 6d69  axMismatches} mi
-00018d10: 736d 6174 6368 6573 2922 0a20 2020 2020  smatches)".     
-00018d20: 2020 2073 656c 662e 6361 7365 6c65 7373     self.caseless
-00018d30: 203d 2063 6173 656c 6573 730a 2020 2020   = caseless.    
-00018d40: 2020 2020 7365 6c66 2e6d 6179 496e 6465      self.mayInde
-00018d50: 7845 7272 6f72 203d 2046 616c 7365 0a20  xError = False. 
-00018d60: 2020 2020 2020 2073 656c 662e 6d61 7952         self.mayR
-00018d70: 6574 7572 6e45 6d70 7479 203d 2046 616c  eturnEmpty = Fal
-00018d80: 7365 0a0a 2020 2020 6465 6620 5f67 656e  se..    def _gen
-00018d90: 6572 6174 6544 6566 6175 6c74 4e61 6d65  erateDefaultName
-00018da0: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
-00018db0: 2020 2020 2020 2072 6574 7572 6e20 6622         return f"
-00018dc0: 7b74 7970 6528 7365 6c66 292e 5f5f 6e61  {type(self).__na
-00018dd0: 6d65 5f5f 7d3a 7b73 656c 662e 6d61 7463  me__}:{self.matc
-00018de0: 685f 7374 7269 6e67 2172 7d22 0a0a 2020  h_string!r}"..  
-00018df0: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-00018e00: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-00018e10: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
-00018e20: 7275 6529 3a0a 2020 2020 2020 2020 7374  rue):.        st
-00018e30: 6172 7420 3d20 6c6f 630a 2020 2020 2020  art = loc.      
-00018e40: 2020 696e 7374 726c 656e 203d 206c 656e    instrlen = len
-00018e50: 2869 6e73 7472 696e 6729 0a20 2020 2020  (instring).     
-00018e60: 2020 206d 6178 6c6f 6320 3d20 7374 6172     maxloc = star
-00018e70: 7420 2b20 6c65 6e28 7365 6c66 2e6d 6174  t + len(self.mat
-00018e80: 6368 5f73 7472 696e 6729 0a0a 2020 2020  ch_string)..    
-00018e90: 2020 2020 6966 206d 6178 6c6f 6320 3c3d      if maxloc <=
-00018ea0: 2069 6e73 7472 6c65 6e3a 0a20 2020 2020   instrlen:.     
-00018eb0: 2020 2020 2020 206d 6174 6368 5f73 7472         match_str
-00018ec0: 696e 6720 3d20 7365 6c66 2e6d 6174 6368  ing = self.match
-00018ed0: 5f73 7472 696e 670a 2020 2020 2020 2020  _string.        
-00018ee0: 2020 2020 6d61 7463 685f 7374 7269 6e67      match_string
-00018ef0: 6c6f 6320 3d20 300a 2020 2020 2020 2020  loc = 0.        
-00018f00: 2020 2020 6d69 736d 6174 6368 6573 203d      mismatches =
-00018f10: 205b 5d0a 2020 2020 2020 2020 2020 2020   [].            
-00018f20: 6d61 784d 6973 6d61 7463 6865 7320 3d20  maxMismatches = 
-00018f30: 7365 6c66 2e6d 6178 4d69 736d 6174 6368  self.maxMismatch
-00018f40: 6573 0a0a 2020 2020 2020 2020 2020 2020  es..            
-00018f50: 666f 7220 6d61 7463 685f 7374 7269 6e67  for match_string
-00018f60: 6c6f 632c 2073 5f6d 2069 6e20 656e 756d  loc, s_m in enum
-00018f70: 6572 6174 6528 0a20 2020 2020 2020 2020  erate(.         
-00018f80: 2020 2020 2020 207a 6970 2869 6e73 7472         zip(instr
-00018f90: 696e 675b 6c6f 633a 6d61 786c 6f63 5d2c  ing[loc:maxloc],
-00018fa0: 206d 6174 6368 5f73 7472 696e 6729 0a20   match_string). 
-00018fb0: 2020 2020 2020 2020 2020 2029 3a0a 2020             ):.  
-00018fc0: 2020 2020 2020 2020 2020 2020 2020 7372                sr
-00018fd0: 632c 206d 6174 203d 2073 5f6d 0a20 2020  c, mat = s_m.   
-00018fe0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00018ff0: 7365 6c66 2e63 6173 656c 6573 733a 0a20  self.caseless:. 
-00019000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019010: 2020 2073 7263 2c20 6d61 7420 3d20 7372     src, mat = sr
-00019020: 632e 6c6f 7765 7228 292c 206d 6174 2e6c  c.lower(), mat.l
-00019030: 6f77 6572 2829 0a0a 2020 2020 2020 2020  ower()..        
-00019040: 2020 2020 2020 2020 6966 2073 7263 2021          if src !
-00019050: 3d20 6d61 743a 0a20 2020 2020 2020 2020  = mat:.         
-00019060: 2020 2020 2020 2020 2020 206d 6973 6d61             misma
-00019070: 7463 6865 732e 6170 7065 6e64 286d 6174  tches.append(mat
-00019080: 6368 5f73 7472 696e 676c 6f63 290a 2020  ch_stringloc).  
-00019090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000190a0: 2020 6966 206c 656e 286d 6973 6d61 7463    if len(mismatc
-000190b0: 6865 7329 203e 206d 6178 4d69 736d 6174  hes) > maxMismat
-000190c0: 6368 6573 3a0a 2020 2020 2020 2020 2020  ches:.          
-000190d0: 2020 2020 2020 2020 2020 2020 2020 6272                br
-000190e0: 6561 6b0a 2020 2020 2020 2020 2020 2020  eak.            
-000190f0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00019100: 2020 2020 2020 6c6f 6320 3d20 7374 6172        loc = star
-00019110: 7420 2b20 6d61 7463 685f 7374 7269 6e67  t + match_string
-00019120: 6c6f 6320 2b20 310a 2020 2020 2020 2020  loc + 1.        
-00019130: 2020 2020 2020 2020 7265 7375 6c74 7320          results 
-00019140: 3d20 5061 7273 6552 6573 756c 7473 285b  = ParseResults([
-00019150: 696e 7374 7269 6e67 5b73 7461 7274 3a6c  instring[start:l
-00019160: 6f63 5d5d 290a 2020 2020 2020 2020 2020  oc]]).          
-00019170: 2020 2020 2020 7265 7375 6c74 735b 226f        results["o
-00019180: 7269 6769 6e61 6c22 5d20 3d20 6d61 7463  riginal"] = matc
-00019190: 685f 7374 7269 6e67 0a20 2020 2020 2020  h_string.       
-000191a0: 2020 2020 2020 2020 2072 6573 756c 7473           results
-000191b0: 5b22 6d69 736d 6174 6368 6573 225d 203d  ["mismatches"] =
-000191c0: 206d 6973 6d61 7463 6865 730a 2020 2020   mismatches.    
-000191d0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-000191e0: 726e 206c 6f63 2c20 7265 7375 6c74 730a  rn loc, results.
-000191f0: 0a20 2020 2020 2020 2072 6169 7365 2050  .        raise P
-00019200: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
-00019210: 7374 7269 6e67 2c20 6c6f 632c 2073 656c  string, loc, sel
-00019220: 662e 6572 726d 7367 2c20 7365 6c66 290a  f.errmsg, self).
-00019230: 0a0a 636c 6173 7320 576f 7264 2854 6f6b  ..class Word(Tok
-00019240: 656e 293a 0a20 2020 2022 2222 546f 6b65  en):.    """Toke
-00019250: 6e20 666f 7220 6d61 7463 6869 6e67 2077  n for matching w
-00019260: 6f72 6473 2063 6f6d 706f 7365 6420 6f66  ords composed of
-00019270: 2061 6c6c 6f77 6564 2063 6861 7261 6374   allowed charact
-00019280: 6572 2073 6574 732e 0a0a 2020 2020 5061  er sets...    Pa
-00019290: 7261 6d65 7465 7273 3a0a 0a20 2020 202d  rameters:..    -
-000192a0: 2060 6069 6e69 745f 6368 6172 7360 6020   ``init_chars`` 
-000192b0: 2d20 7374 7269 6e67 206f 6620 616c 6c20  - string of all 
-000192c0: 6368 6172 6163 7465 7273 2074 6861 7420  characters that 
-000192d0: 7368 6f75 6c64 2062 6520 7573 6564 2074  should be used t
-000192e0: 6f0a 2020 2020 2020 6d61 7463 6820 6173  o.      match as
-000192f0: 2061 2077 6f72 643b 2022 4142 4322 2077   a word; "ABC" w
-00019300: 696c 6c20 6d61 7463 6820 2241 4141 222c  ill match "AAA",
-00019310: 2022 4142 4142 222c 2022 4342 4143 222c   "ABAB", "CBAC",
-00019320: 2065 7463 2e3b 0a20 2020 2020 2069 6620   etc.;.      if 
-00019330: 6060 626f 6479 5f63 6861 7273 6060 2069  ``body_chars`` i
-00019340: 7320 616c 736f 2073 7065 6369 6669 6564  s also specified
-00019350: 2c20 7468 656e 2074 6869 7320 6973 2074  , then this is t
-00019360: 6865 2073 7472 696e 6720 6f66 0a20 2020  he string of.   
-00019370: 2020 2069 6e69 7469 616c 2063 6861 7261     initial chara
-00019380: 6374 6572 730a 2020 2020 2d20 6060 626f  cters.    - ``bo
-00019390: 6479 5f63 6861 7273 6060 202d 2073 7472  dy_chars`` - str
-000193a0: 696e 6720 6f66 2063 6861 7261 6374 6572  ing of character
-000193b0: 7320 7468 6174 0a20 2020 2020 2063 616e  s that.      can
-000193c0: 2062 6520 7573 6564 2066 6f72 206d 6174   be used for mat
-000193d0: 6368 696e 6720 6166 7465 7220 6120 6d61  ching after a ma
-000193e0: 7463 6865 6420 696e 6974 6961 6c20 6368  tched initial ch
-000193f0: 6172 6163 7465 7220 6173 0a20 2020 2020  aracter as.     
-00019400: 2067 6976 656e 2069 6e20 6060 696e 6974   given in ``init
-00019410: 5f63 6861 7273 6060 3b20 6966 206f 6d69  _chars``; if omi
-00019420: 7474 6564 2c20 7361 6d65 2061 7320 7468  tted, same as th
-00019430: 6520 696e 6974 6961 6c20 6368 6172 6163  e initial charac
-00019440: 7465 7273 0a20 2020 2020 2028 6465 6661  ters.      (defa
-00019450: 756c 743d 6060 4e6f 6e65 6060 290a 2020  ult=``None``).  
-00019460: 2020 2d20 6060 6d69 6e60 6020 2d20 6d69    - ``min`` - mi
-00019470: 6e69 6d75 6d20 6e75 6d62 6572 206f 6620  nimum number of 
-00019480: 6368 6172 6163 7465 7273 2074 6f20 6d61  characters to ma
-00019490: 7463 6820 2864 6566 6175 6c74 3d31 290a  tch (default=1).
-000194a0: 2020 2020 2d20 6060 6d61 7860 6020 2d20      - ``max`` - 
-000194b0: 6d61 7869 6d75 6d20 6e75 6d62 6572 206f  maximum number o
-000194c0: 6620 6368 6172 6163 7465 7273 2074 6f20  f characters to 
-000194d0: 6d61 7463 6820 2864 6566 6175 6c74 3d30  match (default=0
-000194e0: 290a 2020 2020 2d20 6060 6578 6163 7460  ).    - ``exact`
-000194f0: 6020 2d20 6578 6163 7420 6e75 6d62 6572  ` - exact number
-00019500: 206f 6620 6368 6172 6163 7465 7273 2074   of characters t
-00019510: 6f20 6d61 7463 6820 2864 6566 6175 6c74  o match (default
-00019520: 3d30 290a 2020 2020 2d20 6060 6173 5f6b  =0).    - ``as_k
-00019530: 6579 776f 7264 6060 202d 206d 6174 6368  eyword`` - match
-00019540: 2061 7320 6120 6b65 7977 6f72 6420 2864   as a keyword (d
-00019550: 6566 6175 6c74 3d60 6046 616c 7365 6060  efault=``False``
-00019560: 290a 2020 2020 2d20 6060 6578 636c 7564  ).    - ``exclud
-00019570: 655f 6368 6172 7360 6020 2d20 6368 6172  e_chars`` - char
-00019580: 6163 7465 7273 2074 6861 7420 6d69 6768  acters that migh
-00019590: 7420 6265 0a20 2020 2020 2066 6f75 6e64  t be.      found
-000195a0: 2069 6e20 7468 6520 696e 7075 7420 6060   in the input ``
-000195b0: 626f 6479 5f63 6861 7273 6060 2073 7472  body_chars`` str
-000195c0: 696e 6720 6275 7420 7768 6963 6820 7368  ing but which sh
-000195d0: 6f75 6c64 206e 6f74 2062 650a 2020 2020  ould not be.    
-000195e0: 2020 6163 6365 7074 6564 2066 6f72 206d    accepted for m
-000195f0: 6174 6368 696e 6720 3b75 7365 6675 6c20  atching ;useful 
-00019600: 746f 2064 6566 696e 6520 6120 776f 7264  to define a word
-00019610: 206f 6620 616c 6c0a 2020 2020 2020 7072   of all.      pr
-00019620: 696e 7461 626c 6573 2065 7863 6570 7420  intables except 
-00019630: 666f 7220 6f6e 6520 6f72 2074 776f 2063  for one or two c
-00019640: 6861 7261 6374 6572 732c 2066 6f72 2069  haracters, for i
-00019650: 6e73 7461 6e63 650a 2020 2020 2020 2864  nstance.      (d
-00019660: 6566 6175 6c74 3d60 604e 6f6e 6560 6029  efault=``None``)
-00019670: 0a0a 2020 2020 3a63 6c61 7373 3a60 7372  ..    :class:`sr
-00019680: 616e 6765 6020 6973 2075 7365 6675 6c20  ange` is useful 
-00019690: 666f 7220 6465 6669 6e69 6e67 2063 7573  for defining cus
-000196a0: 746f 6d20 6368 6172 6163 7465 7220 7365  tom character se
-000196b0: 7420 7374 7269 6e67 730a 2020 2020 666f  t strings.    fo
-000196c0: 7220 6465 6669 6e69 6e67 203a 636c 6173  r defining :clas
-000196d0: 733a 6057 6f72 6460 2065 7870 7265 7373  s:`Word` express
-000196e0: 696f 6e73 2c20 7573 696e 6720 7261 6e67  ions, using rang
-000196f0: 6520 6e6f 7461 7469 6f6e 2066 726f 6d0a  e notation from.
-00019700: 2020 2020 7265 6775 6c61 7220 6578 7072      regular expr
-00019710: 6573 7369 6f6e 2063 6861 7261 6374 6572  ession character
-00019720: 2073 6574 732e 0a0a 2020 2020 4120 636f   sets...    A co
-00019730: 6d6d 6f6e 206d 6973 7461 6b65 2069 7320  mmon mistake is 
-00019740: 746f 2075 7365 203a 636c 6173 733a 6057  to use :class:`W
-00019750: 6f72 6460 2074 6f20 6d61 7463 6820 6120  ord` to match a 
-00019760: 7370 6563 6966 6963 206c 6974 6572 616c  specific literal
-00019770: 0a20 2020 2073 7472 696e 672c 2061 7320  .    string, as 
-00019780: 696e 2060 6057 6f72 6428 2241 6464 7265  in ``Word("Addre
-00019790: 7373 2229 6060 2e20 5265 6d65 6d62 6572  ss")``. Remember
-000197a0: 2074 6861 7420 3a63 6c61 7373 3a60 576f   that :class:`Wo
-000197b0: 7264 600a 2020 2020 7573 6573 2074 6865  rd`.    uses the
-000197c0: 2073 7472 696e 6720 6172 6775 6d65 6e74   string argument
-000197d0: 2074 6f20 6465 6669 6e65 202a 7365 7473   to define *sets
-000197e0: 2a20 6f66 206d 6174 6368 6162 6c65 2063  * of matchable c
-000197f0: 6861 7261 6374 6572 732e 0a20 2020 2054  haracters..    T
-00019800: 6869 7320 6578 7072 6573 7369 6f6e 2077  his expression w
-00019810: 6f75 6c64 206d 6174 6368 2022 4164 6422  ould match "Add"
-00019820: 2c20 2241 4141 222c 2022 6441 7265 6422  , "AAA", "dAred"
-00019830: 2c20 6f72 2061 6e79 206f 7468 6572 2077  , or any other w
-00019840: 6f72 640a 2020 2020 6d61 6465 2075 7020  ord.    made up 
-00019850: 6f66 2074 6865 2063 6861 7261 6374 6572  of the character
-00019860: 7320 2741 272c 2027 6427 2c20 2772 272c  s 'A', 'd', 'r',
-00019870: 2027 6527 2c20 616e 6420 2773 272e 2054   'e', and 's'. T
-00019880: 6f20 6d61 7463 6820 616e 0a20 2020 2065  o match an.    e
-00019890: 7861 6374 206c 6974 6572 616c 2073 7472  xact literal str
-000198a0: 696e 672c 2075 7365 203a 636c 6173 733a  ing, use :class:
-000198b0: 604c 6974 6572 616c 6020 6f72 203a 636c  `Literal` or :cl
-000198c0: 6173 733a 604b 6579 776f 7264 602e 0a0a  ass:`Keyword`...
-000198d0: 2020 2020 7079 7061 7273 696e 6720 696e      pyparsing in
-000198e0: 636c 7564 6573 2068 656c 7065 7220 7374  cludes helper st
-000198f0: 7269 6e67 7320 666f 7220 6275 696c 6469  rings for buildi
-00019900: 6e67 2057 6f72 6473 3a0a 0a20 2020 202d  ng Words:..    -
-00019910: 203a 636c 6173 733a 6061 6c70 6861 7360   :class:`alphas`
-00019920: 0a20 2020 202d 203a 636c 6173 733a 606e  .    - :class:`n
-00019930: 756d 7360 0a20 2020 202d 203a 636c 6173  ums`.    - :clas
-00019940: 733a 6061 6c70 6861 6e75 6d73 600a 2020  s:`alphanums`.  
-00019950: 2020 2d20 3a63 6c61 7373 3a60 6865 786e    - :class:`hexn
-00019960: 756d 7360 0a20 2020 202d 203a 636c 6173  ums`.    - :clas
-00019970: 733a 6061 6c70 6861 7338 6269 7460 2028  s:`alphas8bit` (
-00019980: 616c 7068 6162 6574 6963 2063 6861 7261  alphabetic chara
-00019990: 6374 6572 7320 696e 2041 5343 4949 2072  cters in ASCII r
-000199a0: 616e 6765 2031 3238 2d32 3535 0a20 2020  ange 128-255.   
-000199b0: 2020 202d 2061 6363 656e 7465 642c 2074     - accented, t
-000199c0: 696c 6465 642c 2075 6d6c 6175 7465 642c  ilded, umlauted,
-000199d0: 2065 7463 2e29 0a20 2020 202d 203a 636c   etc.).    - :cl
-000199e0: 6173 733a 6070 756e 6338 6269 7460 2028  ass:`punc8bit` (
-000199f0: 6e6f 6e2d 616c 7068 6162 6574 6963 2063  non-alphabetic c
-00019a00: 6861 7261 6374 6572 7320 696e 2041 5343  haracters in ASC
-00019a10: 4949 2072 616e 6765 0a20 2020 2020 2031  II range.      1
-00019a20: 3238 2d32 3535 202d 2063 7572 7265 6e63  28-255 - currenc
-00019a30: 792c 2073 796d 626f 6c73 2c20 7375 7065  y, symbols, supe
-00019a40: 7273 6372 6970 7473 2c20 6469 6163 7269  rscripts, diacri
-00019a50: 7469 6361 6c73 2c20 6574 632e 290a 2020  ticals, etc.).  
-00019a60: 2020 2d20 3a63 6c61 7373 3a60 7072 696e    - :class:`prin
-00019a70: 7461 626c 6573 6020 2861 6e79 206e 6f6e  tables` (any non
-00019a80: 2d77 6869 7465 7370 6163 6520 6368 6172  -whitespace char
-00019a90: 6163 7465 7229 0a0a 2020 2020 6060 616c  acter)..    ``al
-00019aa0: 7068 6173 6060 2c20 6060 6e75 6d73 6060  phas``, ``nums``
-00019ab0: 2c20 616e 6420 6060 7072 696e 7461 626c  , and ``printabl
-00019ac0: 6573 6060 2061 7265 2061 6c73 6f20 6465  es`` are also de
-00019ad0: 6669 6e65 6420 696e 2073 6576 6572 616c  fined in several
-00019ae0: 0a20 2020 2055 6e69 636f 6465 2073 6574  .    Unicode set
-00019af0: 7320 2d20 7365 6520 3a63 6c61 7373 3a60  s - see :class:`
-00019b00: 7079 7061 7273 696e 675f 756e 6963 6f64  pyparsing_unicod
-00019b10: 6560 602e 0a0a 2020 2020 4578 616d 706c  e``...    Exampl
-00019b20: 653a 3a0a 0a20 2020 2020 2020 2023 2061  e::..        # a
-00019b30: 2077 6f72 6420 636f 6d70 6f73 6564 206f   word composed o
-00019b40: 6620 6469 6769 7473 0a20 2020 2020 2020  f digits.       
-00019b50: 2069 6e74 6567 6572 203d 2057 6f72 6428   integer = Word(
-00019b60: 6e75 6d73 2920 2320 6571 7569 7661 6c65  nums) # equivale
-00019b70: 6e74 2074 6f20 576f 7264 2822 3031 3233  nt to Word("0123
-00019b80: 3435 3637 3839 2229 206f 7220 576f 7264  456789") or Word
-00019b90: 2873 7261 6e67 6528 2230 2d39 2229 290a  (srange("0-9")).
-00019ba0: 0a20 2020 2020 2020 2023 2061 2077 6f72  .        # a wor
-00019bb0: 6420 7769 7468 2061 206c 6561 6469 6e67  d with a leading
-00019bc0: 2063 6170 6974 616c 2c20 616e 6420 7a65   capital, and ze
-00019bd0: 726f 206f 7220 6d6f 7265 206c 6f77 6572  ro or more lower
-00019be0: 6361 7365 0a20 2020 2020 2020 2063 6170  case.        cap
-00019bf0: 6974 616c 5f77 6f72 6420 3d20 576f 7264  ital_word = Word
-00019c00: 2861 6c70 6861 732e 7570 7065 7228 292c  (alphas.upper(),
-00019c10: 2061 6c70 6861 732e 6c6f 7765 7228 2929   alphas.lower())
-00019c20: 0a0a 2020 2020 2020 2020 2320 686f 7374  ..        # host
-00019c30: 6e61 6d65 7320 6172 6520 616c 7068 616e  names are alphan
-00019c40: 756d 6572 6963 2c20 7769 7468 206c 6561  umeric, with lea
-00019c50: 6469 6e67 2061 6c70 6861 2c20 616e 6420  ding alpha, and 
-00019c60: 272d 270a 2020 2020 2020 2020 686f 7374  '-'.        host
-00019c70: 6e61 6d65 203d 2057 6f72 6428 616c 7068  name = Word(alph
-00019c80: 6173 2c20 616c 7068 616e 756d 7320 2b20  as, alphanums + 
-00019c90: 272d 2729 0a0a 2020 2020 2020 2020 2320  '-')..        # 
-00019ca0: 726f 6d61 6e20 6e75 6d65 7261 6c20 286e  roman numeral (n
-00019cb0: 6f74 2061 2073 7472 6963 7420 7061 7273  ot a strict pars
-00019cc0: 6572 2c20 6163 6365 7074 7320 696e 7661  er, accepts inva
-00019cd0: 6c69 6420 6d69 7820 6f66 2063 6861 7261  lid mix of chara
-00019ce0: 6374 6572 7329 0a20 2020 2020 2020 2072  cters).        r
-00019cf0: 6f6d 616e 203d 2057 6f72 6428 2249 5658  oman = Word("IVX
-00019d00: 4c43 444d 2229 0a0a 2020 2020 2020 2020  LCDM")..        
-00019d10: 2320 616e 7920 7374 7269 6e67 206f 6620  # any string of 
-00019d20: 6e6f 6e2d 7768 6974 6573 7061 6365 2063  non-whitespace c
-00019d30: 6861 7261 6374 6572 732c 2065 7863 6570  haracters, excep
-00019d40: 7420 666f 7220 272c 270a 2020 2020 2020  t for ','.      
-00019d50: 2020 6373 765f 7661 6c75 6520 3d20 576f    csv_value = Wo
-00019d60: 7264 2870 7269 6e74 6162 6c65 732c 2065  rd(printables, e
-00019d70: 7863 6c75 6465 5f63 6861 7273 3d22 2c22  xclude_chars=","
-00019d80: 290a 2020 2020 2222 220a 0a20 2020 2064  ).    """..    d
-00019d90: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
-00019da0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-00019db0: 2020 2069 6e69 745f 6368 6172 733a 2073     init_chars: s
-00019dc0: 7472 203d 2022 222c 0a20 2020 2020 2020  tr = "",.       
-00019dd0: 2062 6f64 795f 6368 6172 733a 2074 7970   body_chars: typ
-00019de0: 696e 672e 4f70 7469 6f6e 616c 5b73 7472  ing.Optional[str
-00019df0: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
-00019e00: 2020 6d69 6e3a 2069 6e74 203d 2031 2c0a    min: int = 1,.
-00019e10: 2020 2020 2020 2020 6d61 783a 2069 6e74          max: int
-00019e20: 203d 2030 2c0a 2020 2020 2020 2020 6578   = 0,.        ex
-00019e30: 6163 743a 2069 6e74 203d 2030 2c0a 2020  act: int = 0,.  
-00019e40: 2020 2020 2020 6173 5f6b 6579 776f 7264        as_keyword
-00019e50: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
-00019e60: 2020 2020 2020 2020 6578 636c 7564 655f          exclude_
-00019e70: 6368 6172 733a 2074 7970 696e 672e 4f70  chars: typing.Op
-00019e80: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
-00019e90: 6e65 2c0a 2020 2020 2020 2020 2a2c 0a20  ne,.        *,. 
-00019ea0: 2020 2020 2020 2069 6e69 7443 6861 7273         initChars
-00019eb0: 3a20 7479 7069 6e67 2e4f 7074 696f 6e61  : typing.Optiona
-00019ec0: 6c5b 7374 725d 203d 204e 6f6e 652c 0a20  l[str] = None,. 
-00019ed0: 2020 2020 2020 2062 6f64 7943 6861 7273         bodyChars
-00019ee0: 3a20 7479 7069 6e67 2e4f 7074 696f 6e61  : typing.Optiona
-00019ef0: 6c5b 7374 725d 203d 204e 6f6e 652c 0a20  l[str] = None,. 
-00019f00: 2020 2020 2020 2061 734b 6579 776f 7264         asKeyword
-00019f10: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
-00019f20: 2020 2020 2020 2020 6578 636c 7564 6543          excludeC
-00019f30: 6861 7273 3a20 7479 7069 6e67 2e4f 7074  hars: typing.Opt
-00019f40: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
-00019f50: 652c 0a20 2020 2029 3a0a 2020 2020 2020  e,.    ):.      
-00019f60: 2020 696e 6974 4368 6172 7320 3d20 696e    initChars = in
-00019f70: 6974 4368 6172 7320 6f72 2069 6e69 745f  itChars or init_
-00019f80: 6368 6172 730a 2020 2020 2020 2020 626f  chars.        bo
-00019f90: 6479 4368 6172 7320 3d20 626f 6479 4368  dyChars = bodyCh
-00019fa0: 6172 7320 6f72 2062 6f64 795f 6368 6172  ars or body_char
-00019fb0: 730a 2020 2020 2020 2020 6173 4b65 7977  s.        asKeyw
-00019fc0: 6f72 6420 3d20 6173 4b65 7977 6f72 6420  ord = asKeyword 
-00019fd0: 6f72 2061 735f 6b65 7977 6f72 640a 2020  or as_keyword.  
-00019fe0: 2020 2020 2020 6578 636c 7564 6543 6861        excludeCha
-00019ff0: 7273 203d 2065 7863 6c75 6465 4368 6172  rs = excludeChar
-0001a000: 7320 6f72 2065 7863 6c75 6465 5f63 6861  s or exclude_cha
-0001a010: 7273 0a20 2020 2020 2020 2073 7570 6572  rs.        super
-0001a020: 2829 2e5f 5f69 6e69 745f 5f28 290a 2020  ().__init__().  
-0001a030: 2020 2020 2020 6966 206e 6f74 2069 6e69        if not ini
-0001a040: 7443 6861 7273 3a0a 2020 2020 2020 2020  tChars:.        
-0001a050: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
-0001a060: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
-0001a070: 2020 2020 2020 6622 696e 7661 6c69 6420        f"invalid 
-0001a080: 7b74 7970 6528 7365 6c66 292e 5f5f 6e61  {type(self).__na
-0001a090: 6d65 5f5f 7d2c 2069 6e69 7443 6861 7273  me__}, initChars
-0001a0a0: 2063 616e 6e6f 7420 6265 2065 6d70 7479   cannot be empty
-0001a0b0: 2073 7472 696e 6722 0a20 2020 2020 2020   string".       
-0001a0c0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-0001a0d0: 696e 6974 4368 6172 735f 7365 7420 3d20  initChars_set = 
-0001a0e0: 7365 7428 696e 6974 4368 6172 7329 0a20  set(initChars). 
-0001a0f0: 2020 2020 2020 2069 6620 6578 636c 7564         if exclud
-0001a100: 6543 6861 7273 3a0a 2020 2020 2020 2020  eChars:.        
-0001a110: 2020 2020 6578 636c 7564 6543 6861 7273      excludeChars
-0001a120: 5f73 6574 203d 2073 6574 2865 7863 6c75  _set = set(exclu
-0001a130: 6465 4368 6172 7329 0a20 2020 2020 2020  deChars).       
-0001a140: 2020 2020 2069 6e69 7443 6861 7273 5f73       initChars_s
-0001a150: 6574 202d 3d20 6578 636c 7564 6543 6861  et -= excludeCha
-0001a160: 7273 5f73 6574 0a20 2020 2020 2020 2020  rs_set.         
-0001a170: 2020 2069 6620 626f 6479 4368 6172 733a     if bodyChars:
-0001a180: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001a190: 2062 6f64 7943 6861 7273 203d 2022 222e   bodyChars = "".
-0001a1a0: 6a6f 696e 2873 6574 2862 6f64 7943 6861  join(set(bodyCha
-0001a1b0: 7273 2920 2d20 6578 636c 7564 6543 6861  rs) - excludeCha
-0001a1c0: 7273 5f73 6574 290a 2020 2020 2020 2020  rs_set).        
-0001a1d0: 7365 6c66 2e69 6e69 7443 6861 7273 203d  self.initChars =
-0001a1e0: 2069 6e69 7443 6861 7273 5f73 6574 0a20   initChars_set. 
-0001a1f0: 2020 2020 2020 2073 656c 662e 696e 6974         self.init
-0001a200: 4368 6172 734f 7269 6720 3d20 2222 2e6a  CharsOrig = "".j
-0001a210: 6f69 6e28 736f 7274 6564 2869 6e69 7443  oin(sorted(initC
-0001a220: 6861 7273 5f73 6574 2929 0a0a 2020 2020  hars_set))..    
-0001a230: 2020 2020 6966 2062 6f64 7943 6861 7273      if bodyChars
-0001a240: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0001a250: 6c66 2e62 6f64 7943 6861 7273 203d 2073  lf.bodyChars = s
-0001a260: 6574 2862 6f64 7943 6861 7273 290a 2020  et(bodyChars).  
-0001a270: 2020 2020 2020 2020 2020 7365 6c66 2e62            self.b
-0001a280: 6f64 7943 6861 7273 4f72 6967 203d 2022  odyCharsOrig = "
-0001a290: 222e 6a6f 696e 2873 6f72 7465 6428 626f  ".join(sorted(bo
-0001a2a0: 6479 4368 6172 7329 290a 2020 2020 2020  dyChars)).      
-0001a2b0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0001a2c0: 2020 2020 7365 6c66 2e62 6f64 7943 6861      self.bodyCha
-0001a2d0: 7273 203d 2069 6e69 7443 6861 7273 5f73  rs = initChars_s
-0001a2e0: 6574 0a20 2020 2020 2020 2020 2020 2073  et.            s
-0001a2f0: 656c 662e 626f 6479 4368 6172 734f 7269  elf.bodyCharsOri
-0001a300: 6720 3d20 7365 6c66 2e69 6e69 7443 6861  g = self.initCha
-0001a310: 7273 4f72 6967 0a0a 2020 2020 2020 2020  rsOrig..        
-0001a320: 7365 6c66 2e6d 6178 5370 6563 6966 6965  self.maxSpecifie
-0001a330: 6420 3d20 6d61 7820 3e20 300a 0a20 2020  d = max > 0..   
-0001a340: 2020 2020 2069 6620 6d69 6e20 3c20 313a       if min < 1:
-0001a350: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0001a360: 7365 2056 616c 7565 4572 726f 7228 0a20  se ValueError(. 
-0001a370: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0001a380: 6361 6e6e 6f74 2073 7065 6369 6679 2061  cannot specify a
-0001a390: 206d 696e 696d 756d 206c 656e 6774 6820   minimum length 
-0001a3a0: 3c20 313b 2075 7365 204f 7074 2857 6f72  < 1; use Opt(Wor
-0001a3b0: 6428 2929 2069 6620 7a65 726f 2d6c 656e  d()) if zero-len
-0001a3c0: 6774 6820 776f 7264 2069 7320 7065 726d  gth word is perm
-0001a3d0: 6974 7465 6422 0a20 2020 2020 2020 2020  itted".         
-0001a3e0: 2020 2029 0a0a 2020 2020 2020 2020 6966     )..        if
-0001a3f0: 2073 656c 662e 6d61 7853 7065 6369 6669   self.maxSpecifi
-0001a400: 6564 2061 6e64 206d 696e 203e 206d 6178  ed and min > max
-0001a410: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-0001a420: 6973 6520 5661 6c75 6545 7272 6f72 280a  ise ValueError(.
-0001a430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a440: 6622 696e 7661 6c69 6420 6172 6773 2c20  f"invalid args, 
-0001a450: 6966 206d 696e 2061 6e64 206d 6178 2062  if min and max b
-0001a460: 6f74 6820 7370 6563 6966 6965 6420 6d69  oth specified mi
-0001a470: 6e20 6d75 7374 2062 6520 3c3d 206d 6178  n must be <= max
-0001a480: 2028 6d69 6e3d 7b6d 696e 7d2c 206d 6178   (min={min}, max
-0001a490: 3d7b 6d61 787d 2922 0a20 2020 2020 2020  ={max})".       
-0001a4a0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-0001a4b0: 7365 6c66 2e6d 696e 4c65 6e20 3d20 6d69  self.minLen = mi
-0001a4c0: 6e0a 0a20 2020 2020 2020 2069 6620 6d61  n..        if ma
-0001a4d0: 7820 3e20 303a 0a20 2020 2020 2020 2020  x > 0:.         
-0001a4e0: 2020 2073 656c 662e 6d61 784c 656e 203d     self.maxLen =
-0001a4f0: 206d 6178 0a20 2020 2020 2020 2065 6c73   max.        els
-0001a500: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-0001a510: 656c 662e 6d61 784c 656e 203d 205f 4d41  elf.maxLen = _MA
-0001a520: 585f 494e 540a 0a20 2020 2020 2020 2069  X_INT..        i
-0001a530: 6620 6578 6163 7420 3e20 303a 0a20 2020  f exact > 0:.   
-0001a540: 2020 2020 2020 2020 206d 696e 203d 206d           min = m
-0001a550: 6178 203d 2065 7861 6374 0a20 2020 2020  ax = exact.     
-0001a560: 2020 2020 2020 2073 656c 662e 6d61 784c         self.maxL
-0001a570: 656e 203d 2065 7861 6374 0a20 2020 2020  en = exact.     
-0001a580: 2020 2020 2020 2073 656c 662e 6d69 6e4c         self.minL
-0001a590: 656e 203d 2065 7861 6374 0a0a 2020 2020  en = exact..    
-0001a5a0: 2020 2020 7365 6c66 2e65 7272 6d73 6720      self.errmsg 
-0001a5b0: 3d20 2245 7870 6563 7465 6420 2220 2b20  = "Expected " + 
-0001a5c0: 7365 6c66 2e6e 616d 650a 2020 2020 2020  self.name.      
-0001a5d0: 2020 7365 6c66 2e6d 6179 496e 6465 7845    self.mayIndexE
-0001a5e0: 7272 6f72 203d 2046 616c 7365 0a20 2020  rror = False.   
-0001a5f0: 2020 2020 2073 656c 662e 6173 4b65 7977       self.asKeyw
-0001a600: 6f72 6420 3d20 6173 4b65 7977 6f72 640a  ord = asKeyword.
-0001a610: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-0001a620: 6173 4b65 7977 6f72 643a 0a20 2020 2020  asKeyword:.     
-0001a630: 2020 2020 2020 2073 656c 662e 6572 726d         self.errm
-0001a640: 7367 202b 3d20 2220 6173 2061 206b 6579  sg += " as a key
-0001a650: 776f 7264 220a 0a20 2020 2020 2020 2023  word"..        #
-0001a660: 2073 6565 2069 6620 7765 2063 616e 206d   see if we can m
-0001a670: 616b 6520 6120 7265 6765 7820 666f 7220  ake a regex for 
-0001a680: 7468 6973 2057 6f72 640a 2020 2020 2020  this Word.      
-0001a690: 2020 6966 2022 2022 206e 6f74 2069 6e20    if " " not in 
-0001a6a0: 2873 656c 662e 696e 6974 4368 6172 7320  (self.initChars 
-0001a6b0: 7c20 7365 6c66 2e62 6f64 7943 6861 7273  | self.bodyChars
-0001a6c0: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
-0001a6d0: 6620 6c65 6e28 7365 6c66 2e69 6e69 7443  f len(self.initC
-0001a6e0: 6861 7273 2920 3d3d 2031 3a0a 2020 2020  hars) == 1:.    
-0001a6f0: 2020 2020 2020 2020 2020 2020 7265 5f6c              re_l
-0001a700: 6561 6469 6e67 5f66 7261 676d 656e 7420  eading_fragment 
-0001a710: 3d20 7265 2e65 7363 6170 6528 7365 6c66  = re.escape(self
-0001a720: 2e69 6e69 7443 6861 7273 4f72 6967 290a  .initCharsOrig).
-0001a730: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0001a740: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001a750: 2020 7265 5f6c 6561 6469 6e67 5f66 7261    re_leading_fra
-0001a760: 676d 656e 7420 3d20 6622 5b7b 5f63 6f6c  gment = f"[{_col
-0001a770: 6c61 7073 655f 7374 7269 6e67 5f74 6f5f  lapse_string_to_
-0001a780: 7261 6e67 6573 2873 656c 662e 696e 6974  ranges(self.init
-0001a790: 4368 6172 7329 7d5d 220a 0a20 2020 2020  Chars)}]"..     
-0001a7a0: 2020 2020 2020 2069 6620 7365 6c66 2e62         if self.b
-0001a7b0: 6f64 7943 6861 7273 203d 3d20 7365 6c66  odyChars == self
-0001a7c0: 2e69 6e69 7443 6861 7273 3a0a 2020 2020  .initChars:.    
-0001a7d0: 2020 2020 2020 2020 2020 2020 6966 206d              if m
-0001a7e0: 6178 203d 3d20 303a 0a20 2020 2020 2020  ax == 0:.       
-0001a7f0: 2020 2020 2020 2020 2020 2020 2072 6570               rep
-0001a800: 6561 7420 3d20 222b 220a 2020 2020 2020  eat = "+".      
-0001a810: 2020 2020 2020 2020 2020 656c 6966 206d            elif m
-0001a820: 6178 203d 3d20 313a 0a20 2020 2020 2020  ax == 1:.       
-0001a830: 2020 2020 2020 2020 2020 2020 2072 6570               rep
-0001a840: 6561 7420 3d20 2222 0a20 2020 2020 2020  eat = "".       
-0001a850: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-0001a860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a870: 2020 2069 6620 7365 6c66 2e6d 696e 4c65     if self.minLe
-0001a880: 6e20 213d 2073 656c 662e 6d61 784c 656e  n != self.maxLen
-0001a890: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001a8a0: 2020 2020 2020 2020 2020 7265 7065 6174            repeat
-0001a8b0: 203d 2066 227b 7b7b 7365 6c66 2e6d 696e   = f"{{{self.min
-0001a8c0: 4c65 6e7d 2c7b 2727 2069 6620 7365 6c66  Len},{'' if self
-0001a8d0: 2e6d 6178 4c65 6e20 3d3d 205f 4d41 585f  .maxLen == _MAX_
-0001a8e0: 494e 5420 656c 7365 2073 656c 662e 6d61  INT else self.ma
-0001a8f0: 784c 656e 7d7d 7d22 0a20 2020 2020 2020  xLen}}}".       
-0001a900: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-0001a910: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0001a920: 2020 2020 2020 2020 2020 2072 6570 6561             repea
-0001a930: 7420 3d20 6622 7b7b 7b73 656c 662e 6d69  t = f"{{{self.mi
-0001a940: 6e4c 656e 7d7d 7d22 0a20 2020 2020 2020  nLen}}}".       
-0001a950: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-0001a960: 5374 7269 6e67 203d 2066 227b 7265 5f6c  String = f"{re_l
-0001a970: 6561 6469 6e67 5f66 7261 676d 656e 747d  eading_fragment}
-0001a980: 7b72 6570 6561 747d 220a 2020 2020 2020  {repeat}".      
-0001a990: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0001a9a0: 2020 2020 2020 2020 2020 2020 6966 206d              if m
-0001a9b0: 6178 203d 3d20 313a 0a20 2020 2020 2020  ax == 1:.       
-0001a9c0: 2020 2020 2020 2020 2020 2020 2072 655f               re_
-0001a9d0: 626f 6479 5f66 7261 676d 656e 7420 3d20  body_fragment = 
-0001a9e0: 2222 0a20 2020 2020 2020 2020 2020 2020  "".             
-0001a9f0: 2020 2020 2020 2072 6570 6561 7420 3d20         repeat = 
-0001aa00: 2222 0a20 2020 2020 2020 2020 2020 2020  "".             
-0001aa10: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0001aa20: 2020 2020 2020 2020 2020 2020 2072 655f               re_
-0001aa30: 626f 6479 5f66 7261 676d 656e 7420 3d20  body_fragment = 
-0001aa40: 6622 5b7b 5f63 6f6c 6c61 7073 655f 7374  f"[{_collapse_st
-0001aa50: 7269 6e67 5f74 6f5f 7261 6e67 6573 2873  ring_to_ranges(s
-0001aa60: 656c 662e 626f 6479 4368 6172 7329 7d5d  elf.bodyChars)}]
-0001aa70: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-0001aa80: 2020 2020 2020 6966 206d 6178 203d 3d20        if max == 
-0001aa90: 303a 0a20 2020 2020 2020 2020 2020 2020  0:.             
-0001aaa0: 2020 2020 2020 2020 2020 2072 6570 6561             repea
-0001aab0: 7420 3d20 222a 220a 2020 2020 2020 2020  t = "*".        
-0001aac0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-0001aad0: 206d 6178 203d 3d20 323a 0a20 2020 2020   max == 2:.     
-0001aae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001aaf0: 2020 2072 6570 6561 7420 3d20 223f 2220     repeat = "?" 
-0001ab00: 6966 206d 696e 203c 3d20 3120 656c 7365  if min <= 1 else
-0001ab10: 2022 220a 2020 2020 2020 2020 2020 2020   "".            
-0001ab20: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0001ab30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ab40: 2020 2020 2020 6966 206d 696e 2021 3d20        if min != 
-0001ab50: 6d61 783a 0a20 2020 2020 2020 2020 2020  max:.           
-0001ab60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ab70: 2072 6570 6561 7420 3d20 6622 7b7b 7b6d   repeat = f"{{{m
-0001ab80: 696e 202d 2031 2069 6620 6d69 6e20 3e20  in - 1 if min > 
-0001ab90: 3020 656c 7365 2030 7d2c 7b6d 6178 202d  0 else 0},{max -
-0001aba0: 2031 7d7d 7d22 0a20 2020 2020 2020 2020   1}}}".         
-0001abb0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0001abc0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00017920: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00017930: 2020 2020 2020 2020 2020 2320 7072 6563            # prec
+00017940: 6564 6564 2062 7920 6b65 7977 6f72 6420  eded by keyword 
+00017950: 6368 6172 0a20 2020 2020 2020 2020 2020  char.           
+00017960: 2020 2020 2020 2020 2065 7272 6d73 6720           errmsg 
+00017970: 2b3d 2022 2c20 6b65 7977 6f72 6420 7761  += ", keyword wa
+00017980: 7320 696d 6d65 6469 6174 656c 7920 7072  s immediately pr
+00017990: 6563 6564 6564 2062 7920 6b65 7977 6f72  eceded by keywor
+000179a0: 6420 6368 6172 6163 7465 7222 0a20 2020  d character".   
+000179b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000179c0: 2065 7272 6c6f 6320 3d20 6c6f 6320 2d20   errloc = loc - 
+000179d0: 310a 2020 2020 2020 2020 2020 2020 2320  1.            # 
+000179e0: 656c 7365 206e 6f20 6d61 7463 6820 6a75  else no match ju
+000179f0: 7374 2072 6169 7365 2070 6c61 696e 2065  st raise plain e
+00017a00: 7863 6570 7469 6f6e 0a0a 2020 2020 2020  xception..      
+00017a10: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00017a20: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
+00017a30: 2020 2020 2020 2020 2069 6e73 7472 696e           instrin
+00017a40: 675b 6c6f 635d 203d 3d20 7365 6c66 2e66  g[loc] == self.f
+00017a50: 6972 7374 4d61 7463 6843 6861 720a 2020  irstMatchChar.  
+00017a60: 2020 2020 2020 2020 2020 2020 2020 616e                an
+00017a70: 6420 7365 6c66 2e6d 6174 6368 4c65 6e20  d self.matchLen 
+00017a80: 3d3d 2031 0a20 2020 2020 2020 2020 2020  == 1.           
+00017a90: 2020 2020 206f 7220 696e 7374 7269 6e67       or instring
+00017aa0: 2e73 7461 7274 7377 6974 6828 7365 6c66  .startswith(self
+00017ab0: 2e6d 6174 6368 2c20 6c6f 6329 0a20 2020  .match, loc).   
+00017ac0: 2020 2020 2020 2020 2029 3a0a 2020 2020           ):.    
+00017ad0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+00017ae0: 6f63 203d 3d20 3020 6f72 2069 6e73 7472  oc == 0 or instr
+00017af0: 696e 675b 6c6f 6320 2d20 315d 206e 6f74  ing[loc - 1] not
+00017b00: 2069 6e20 7365 6c66 2e69 6465 6e74 4368   in self.identCh
+00017b10: 6172 733a 0a20 2020 2020 2020 2020 2020  ars:.           
+00017b20: 2020 2020 2020 2020 2069 6620 280a 2020           if (.  
+00017b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017b40: 2020 2020 2020 6c6f 6320 3e3d 206c 656e        loc >= len
+00017b50: 2869 6e73 7472 696e 6729 202d 2073 656c  (instring) - sel
+00017b60: 662e 6d61 7463 684c 656e 0a20 2020 2020  f.matchLen.     
+00017b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017b80: 2020 206f 7220 696e 7374 7269 6e67 5b6c     or instring[l
+00017b90: 6f63 202b 2073 656c 662e 6d61 7463 684c  oc + self.matchL
+00017ba0: 656e 5d20 6e6f 7420 696e 2073 656c 662e  en] not in self.
+00017bb0: 6964 656e 7443 6861 7273 0a20 2020 2020  identChars.     
+00017bc0: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+00017bd0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00017be0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00017bf0: 206c 6f63 202b 2073 656c 662e 6d61 7463   loc + self.matc
+00017c00: 684c 656e 2c20 7365 6c66 2e6d 6174 6368  hLen, self.match
+00017c10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017c20: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00017c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017c40: 2020 2023 2066 6f6c 6c6f 7765 6420 6279     # followed by
+00017c50: 206b 6579 776f 7264 2063 6861 720a 2020   keyword char.  
+00017c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017c70: 2020 2020 2020 6572 726d 7367 202b 3d20        errmsg += 
+00017c80: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00017c90: 2020 2020 2020 2020 2020 2020 2020 222c                ",
+00017ca0: 206b 6579 776f 7264 2077 6173 2069 6d6d   keyword was imm
+00017cb0: 6564 6961 7465 6c79 2066 6f6c 6c6f 7765  ediately followe
+00017cc0: 6420 6279 206b 6579 776f 7264 2063 6861  d by keyword cha
+00017cd0: 7261 6374 6572 220a 2020 2020 2020 2020  racter".        
+00017ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017cf0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00017d00: 2020 2020 2020 2020 2020 6572 726c 6f63            errloc
+00017d10: 203d 206c 6f63 202b 2073 656c 662e 6d61   = loc + self.ma
+00017d20: 7463 684c 656e 0a20 2020 2020 2020 2020  tchLen.         
+00017d30: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00017d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017d50: 2023 2070 7265 6365 6465 6420 6279 206b   # preceded by k
+00017d60: 6579 776f 7264 2063 6861 720a 2020 2020  eyword char.    
+00017d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017d80: 6572 726d 7367 202b 3d20 222c 206b 6579  errmsg += ", key
+00017d90: 776f 7264 2077 6173 2069 6d6d 6564 6961  word was immedia
+00017da0: 7465 6c79 2070 7265 6365 6465 6420 6279  tely preceded by
+00017db0: 206b 6579 776f 7264 2063 6861 7261 6374   keyword charact
+00017dc0: 6572 220a 2020 2020 2020 2020 2020 2020  er".            
+00017dd0: 2020 2020 2020 2020 6572 726c 6f63 203d          errloc =
+00017de0: 206c 6f63 202d 2031 0a20 2020 2020 2020   loc - 1.       
+00017df0: 2020 2020 2023 2065 6c73 6520 6e6f 206d       # else no m
+00017e00: 6174 6368 206a 7573 7420 7261 6973 6520  atch just raise 
+00017e10: 706c 6169 6e20 6578 6365 7074 696f 6e0a  plain exception.
+00017e20: 0a20 2020 2020 2020 2072 6169 7365 2050  .        raise P
+00017e30: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
+00017e40: 7374 7269 6e67 2c20 6572 726c 6f63 2c20  string, errloc, 
+00017e50: 6572 726d 7367 2c20 7365 6c66 290a 0a20  errmsg, self).. 
+00017e60: 2020 2040 7374 6174 6963 6d65 7468 6f64     @staticmethod
+00017e70: 0a20 2020 2064 6566 2073 6574 5f64 6566  .    def set_def
+00017e80: 6175 6c74 5f6b 6579 776f 7264 5f63 6861  ault_keyword_cha
+00017e90: 7273 2863 6861 7273 2920 2d3e 204e 6f6e  rs(chars) -> Non
+00017ea0: 653a 0a20 2020 2020 2020 2022 2222 0a20  e:.        """. 
+00017eb0: 2020 2020 2020 204f 7665 7272 6964 6573         Overrides
+00017ec0: 2074 6865 2064 6566 6175 6c74 2063 6861   the default cha
+00017ed0: 7261 6374 6572 7320 7573 6564 2062 7920  racters used by 
+00017ee0: 3a63 6c61 7373 3a60 4b65 7977 6f72 6460  :class:`Keyword`
+00017ef0: 2065 7870 7265 7373 696f 6e73 2e0a 2020   expressions..  
+00017f00: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00017f10: 2020 4b65 7977 6f72 642e 4445 4641 554c    Keyword.DEFAUL
+00017f20: 545f 4b45 5957 4f52 445f 4348 4152 5320  T_KEYWORD_CHARS 
+00017f30: 3d20 6368 6172 730a 0a20 2020 2073 6574  = chars..    set
+00017f40: 4465 6661 756c 744b 6579 776f 7264 4368  DefaultKeywordCh
+00017f50: 6172 7320 3d20 7365 745f 6465 6661 756c  ars = set_defaul
+00017f60: 745f 6b65 7977 6f72 645f 6368 6172 730a  t_keyword_chars.
+00017f70: 0a0a 636c 6173 7320 4361 7365 6c65 7373  ..class Caseless
+00017f80: 4c69 7465 7261 6c28 4c69 7465 7261 6c29  Literal(Literal)
+00017f90: 3a0a 2020 2020 2222 220a 2020 2020 546f  :.    """.    To
+00017fa0: 6b65 6e20 746f 206d 6174 6368 2061 2073  ken to match a s
+00017fb0: 7065 6369 6669 6564 2073 7472 696e 672c  pecified string,
+00017fc0: 2069 676e 6f72 696e 6720 6361 7365 206f   ignoring case o
+00017fd0: 6620 6c65 7474 6572 732e 0a20 2020 204e  f letters..    N
+00017fe0: 6f74 653a 2074 6865 206d 6174 6368 6564  ote: the matched
+00017ff0: 2072 6573 756c 7473 2077 696c 6c20 616c   results will al
+00018000: 7761 7973 2062 6520 696e 2074 6865 2063  ways be in the c
+00018010: 6173 6520 6f66 2074 6865 2067 6976 656e  ase of the given
+00018020: 0a20 2020 206d 6174 6368 2073 7472 696e  .    match strin
+00018030: 672c 204e 4f54 2074 6865 2063 6173 6520  g, NOT the case 
+00018040: 6f66 2074 6865 2069 6e70 7574 2074 6578  of the input tex
+00018050: 742e 0a0a 2020 2020 4578 616d 706c 653a  t...    Example:
+00018060: 3a0a 0a20 2020 2020 2020 2043 6173 656c  :..        Casel
+00018070: 6573 734c 6974 6572 616c 2822 434d 4422  essLiteral("CMD"
+00018080: 295b 312c 202e 2e2e 5d2e 7061 7273 655f  )[1, ...].parse_
+00018090: 7374 7269 6e67 2822 636d 6420 434d 4420  string("cmd CMD 
+000180a0: 436d 6431 3022 290a 2020 2020 2020 2020  Cmd10").        
+000180b0: 2320 2d3e 205b 2743 4d44 272c 2027 434d  # -> ['CMD', 'CM
+000180c0: 4427 2c20 2743 4d44 275d 0a0a 2020 2020  D', 'CMD']..    
+000180d0: 2843 6f6e 7472 6173 7420 7769 7468 2065  (Contrast with e
+000180e0: 7861 6d70 6c65 2066 6f72 203a 636c 6173  xample for :clas
+000180f0: 733a 6043 6173 656c 6573 734b 6579 776f  s:`CaselessKeywo
+00018100: 7264 602e 290a 2020 2020 2222 220a 0a20  rd`.).    """.. 
+00018110: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
+00018120: 7365 6c66 2c20 6d61 7463 685f 7374 7269  self, match_stri
+00018130: 6e67 3a20 7374 7220 3d20 2222 2c20 2a2c  ng: str = "", *,
+00018140: 206d 6174 6368 5374 7269 6e67 3a20 7374   matchString: st
+00018150: 7220 3d20 2222 293a 0a20 2020 2020 2020  r = ""):.       
+00018160: 206d 6174 6368 5f73 7472 696e 6720 3d20   match_string = 
+00018170: 6d61 7463 6853 7472 696e 6720 6f72 206d  matchString or m
+00018180: 6174 6368 5f73 7472 696e 670a 2020 2020  atch_string.    
+00018190: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+000181a0: 6974 5f5f 286d 6174 6368 5f73 7472 696e  it__(match_strin
+000181b0: 672e 7570 7065 7228 2929 0a20 2020 2020  g.upper()).     
+000181c0: 2020 2023 2050 7265 7365 7276 6520 7468     # Preserve th
+000181d0: 6520 6465 6669 6e69 6e67 206c 6974 6572  e defining liter
+000181e0: 616c 2e0a 2020 2020 2020 2020 7365 6c66  al..        self
+000181f0: 2e72 6574 7572 6e53 7472 696e 6720 3d20  .returnString = 
+00018200: 6d61 7463 685f 7374 7269 6e67 0a20 2020  match_string.   
+00018210: 2020 2020 2073 656c 662e 6572 726d 7367       self.errmsg
+00018220: 203d 2022 4578 7065 6374 6564 2022 202b   = "Expected " +
+00018230: 2073 656c 662e 6e61 6d65 0a0a 2020 2020   self.name..    
+00018240: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
+00018250: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
+00018260: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
+00018270: 6529 3a0a 2020 2020 2020 2020 6966 2069  e):.        if i
+00018280: 6e73 7472 696e 675b 6c6f 6320 3a20 6c6f  nstring[loc : lo
+00018290: 6320 2b20 7365 6c66 2e6d 6174 6368 4c65  c + self.matchLe
+000182a0: 6e5d 2e75 7070 6572 2829 203d 3d20 7365  n].upper() == se
+000182b0: 6c66 2e6d 6174 6368 3a0a 2020 2020 2020  lf.match:.      
+000182c0: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
+000182d0: 202b 2073 656c 662e 6d61 7463 684c 656e   + self.matchLen
+000182e0: 2c20 7365 6c66 2e72 6574 7572 6e53 7472  , self.returnStr
+000182f0: 696e 670a 2020 2020 2020 2020 7261 6973  ing.        rais
+00018300: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
+00018310: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
+00018320: 7365 6c66 2e65 7272 6d73 672c 2073 656c  self.errmsg, sel
+00018330: 6629 0a0a 0a63 6c61 7373 2043 6173 656c  f)...class Casel
+00018340: 6573 734b 6579 776f 7264 284b 6579 776f  essKeyword(Keywo
+00018350: 7264 293a 0a20 2020 2022 2222 0a20 2020  rd):.    """.   
+00018360: 2043 6173 656c 6573 7320 7665 7273 696f   Caseless versio
+00018370: 6e20 6f66 203a 636c 6173 733a 604b 6579  n of :class:`Key
+00018380: 776f 7264 602e 0a0a 2020 2020 4578 616d  word`...    Exam
+00018390: 706c 653a 3a0a 0a20 2020 2020 2020 2043  ple::..        C
+000183a0: 6173 656c 6573 734b 6579 776f 7264 2822  aselessKeyword("
+000183b0: 434d 4422 295b 312c 202e 2e2e 5d2e 7061  CMD")[1, ...].pa
+000183c0: 7273 655f 7374 7269 6e67 2822 636d 6420  rse_string("cmd 
+000183d0: 434d 4420 436d 6431 3022 290a 2020 2020  CMD Cmd10").    
+000183e0: 2020 2020 2320 2d3e 205b 2743 4d44 272c      # -> ['CMD',
+000183f0: 2027 434d 4427 5d0a 0a20 2020 2028 436f   'CMD']..    (Co
+00018400: 6e74 7261 7374 2077 6974 6820 6578 616d  ntrast with exam
+00018410: 706c 6520 666f 7220 3a63 6c61 7373 3a60  ple for :class:`
+00018420: 4361 7365 6c65 7373 4c69 7465 7261 6c60  CaselessLiteral`
+00018430: 2e29 0a20 2020 2022 2222 0a0a 2020 2020  .).    """..    
+00018440: 6465 6620 5f5f 696e 6974 5f5f 280a 2020  def __init__(.  
+00018450: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+00018460: 2020 2020 6d61 7463 685f 7374 7269 6e67      match_string
+00018470: 3a20 7374 7220 3d20 2222 2c0a 2020 2020  : str = "",.    
+00018480: 2020 2020 6964 656e 745f 6368 6172 733a      ident_chars:
+00018490: 2074 7970 696e 672e 4f70 7469 6f6e 616c   typing.Optional
+000184a0: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
+000184b0: 2020 2020 2020 2a2c 0a20 2020 2020 2020        *,.       
+000184c0: 206d 6174 6368 5374 7269 6e67 3a20 7374   matchString: st
+000184d0: 7220 3d20 2222 2c0a 2020 2020 2020 2020  r = "",.        
+000184e0: 6964 656e 7443 6861 7273 3a20 7479 7069  identChars: typi
+000184f0: 6e67 2e4f 7074 696f 6e61 6c5b 7374 725d  ng.Optional[str]
+00018500: 203d 204e 6f6e 652c 0a20 2020 2029 3a0a   = None,.    ):.
+00018510: 2020 2020 2020 2020 6964 656e 7443 6861          identCha
+00018520: 7273 203d 2069 6465 6e74 4368 6172 7320  rs = identChars 
+00018530: 6f72 2069 6465 6e74 5f63 6861 7273 0a20  or ident_chars. 
+00018540: 2020 2020 2020 206d 6174 6368 5f73 7472         match_str
+00018550: 696e 6720 3d20 6d61 7463 6853 7472 696e  ing = matchStrin
+00018560: 6720 6f72 206d 6174 6368 5f73 7472 696e  g or match_strin
+00018570: 670a 2020 2020 2020 2020 7375 7065 7228  g.        super(
+00018580: 292e 5f5f 696e 6974 5f5f 286d 6174 6368  ).__init__(match
+00018590: 5f73 7472 696e 672c 2069 6465 6e74 4368  _string, identCh
+000185a0: 6172 732c 2063 6173 656c 6573 733d 5472  ars, caseless=Tr
+000185b0: 7565 290a 0a0a 636c 6173 7320 436c 6f73  ue)...class Clos
+000185c0: 654d 6174 6368 2854 6f6b 656e 293a 0a20  eMatch(Token):. 
+000185d0: 2020 2022 2222 4120 7661 7269 6174 696f     """A variatio
+000185e0: 6e20 6f6e 203a 636c 6173 733a 604c 6974  n on :class:`Lit
+000185f0: 6572 616c 6020 7768 6963 6820 6d61 7463  eral` which matc
+00018600: 6865 7320 2263 6c6f 7365 2220 6d61 7463  hes "close" matc
+00018610: 6865 732c 0a20 2020 2074 6861 7420 6973  hes,.    that is
+00018620: 2c20 7374 7269 6e67 7320 7769 7468 2061  , strings with a
+00018630: 7420 6d6f 7374 2027 6e27 206d 6973 6d61  t most 'n' misma
+00018640: 7463 6869 6e67 2063 6861 7261 6374 6572  tching character
+00018650: 732e 0a20 2020 203a 636c 6173 733a 6043  s..    :class:`C
+00018660: 6c6f 7365 4d61 7463 6860 2074 616b 6573  loseMatch` takes
+00018670: 2070 6172 616d 6574 6572 733a 0a0a 2020   parameters:..  
+00018680: 2020 2d20 6060 6d61 7463 685f 7374 7269    - ``match_stri
+00018690: 6e67 6060 202d 2073 7472 696e 6720 746f  ng`` - string to
+000186a0: 2062 6520 6d61 7463 6865 640a 2020 2020   be matched.    
+000186b0: 2d20 6060 6361 7365 6c65 7373 6060 202d  - ``caseless`` -
+000186c0: 2061 2062 6f6f 6c65 616e 2069 6e64 6963   a boolean indic
+000186d0: 6174 696e 6720 7768 6574 6865 7220 746f  ating whether to
+000186e0: 2069 676e 6f72 6520 6361 7369 6e67 2077   ignore casing w
+000186f0: 6865 6e20 636f 6d70 6172 696e 6720 6368  hen comparing ch
+00018700: 6172 6163 7465 7273 0a20 2020 202d 2060  aracters.    - `
+00018710: 606d 6178 5f6d 6973 6d61 7463 6865 7360  `max_mismatches`
+00018720: 6020 2d20 2860 6064 6566 6175 6c74 3d31  ` - (``default=1
+00018730: 6060 2920 6d61 7869 6d75 6d20 6e75 6d62  ``) maximum numb
+00018740: 6572 206f 660a 2020 2020 2020 6d69 736d  er of.      mism
+00018750: 6174 6368 6573 2061 6c6c 6f77 6564 2074  atches allowed t
+00018760: 6f20 636f 756e 7420 6173 2061 206d 6174  o count as a mat
+00018770: 6368 0a0a 2020 2020 5468 6520 7265 7375  ch..    The resu
+00018780: 6c74 7320 6672 6f6d 2061 2073 7563 6365  lts from a succe
+00018790: 7373 6675 6c20 7061 7273 6520 7769 6c6c  ssful parse will
+000187a0: 2063 6f6e 7461 696e 2074 6865 206d 6174   contain the mat
+000187b0: 6368 6564 2074 6578 740a 2020 2020 6672  ched text.    fr
+000187c0: 6f6d 2074 6865 2069 6e70 7574 2073 7472  om the input str
+000187d0: 696e 6720 616e 6420 7468 6520 666f 6c6c  ing and the foll
+000187e0: 6f77 696e 6720 6e61 6d65 6420 7265 7375  owing named resu
+000187f0: 6c74 733a 0a0a 2020 2020 2d20 6060 6d69  lts:..    - ``mi
+00018800: 736d 6174 6368 6573 6060 202d 2061 206c  smatches`` - a l
+00018810: 6973 7420 6f66 2074 6865 2070 6f73 6974  ist of the posit
+00018820: 696f 6e73 2077 6974 6869 6e20 7468 650a  ions within the.
+00018830: 2020 2020 2020 6d61 7463 685f 7374 7269        match_stri
+00018840: 6e67 2077 6865 7265 206d 6973 6d61 7463  ng where mismatc
+00018850: 6865 7320 7765 7265 2066 6f75 6e64 0a20  hes were found. 
+00018860: 2020 202d 2060 606f 7269 6769 6e61 6c60     - ``original`
+00018870: 6020 2d20 7468 6520 6f72 6967 696e 616c  ` - the original
+00018880: 206d 6174 6368 5f73 7472 696e 6720 7573   match_string us
+00018890: 6564 2074 6f20 636f 6d70 6172 650a 2020  ed to compare.  
+000188a0: 2020 2020 6167 6169 6e73 7420 7468 6520      against the 
+000188b0: 696e 7075 7420 7374 7269 6e67 0a0a 2020  input string..  
+000188c0: 2020 4966 2060 606d 6973 6d61 7463 6865    If ``mismatche
+000188d0: 7360 6020 6973 2061 6e20 656d 7074 7920  s`` is an empty 
+000188e0: 6c69 7374 2c20 7468 656e 2074 6865 206d  list, then the m
+000188f0: 6174 6368 2077 6173 2061 6e20 6578 6163  atch was an exac
+00018900: 740a 2020 2020 6d61 7463 682e 0a0a 2020  t.    match...  
+00018910: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
+00018920: 2020 2020 2070 6174 7420 3d20 436c 6f73       patt = Clos
+00018930: 654d 6174 6368 2822 4154 4341 5443 4741  eMatch("ATCATCGA
+00018940: 4154 4747 4122 290a 2020 2020 2020 2020  ATGGA").        
+00018950: 7061 7474 2e70 6172 7365 5f73 7472 696e  patt.parse_strin
+00018960: 6728 2241 5443 4154 4347 4141 5847 4741  g("ATCATCGAAXGGA
+00018970: 2229 2023 202d 3e20 285b 2741 5443 4154  ") # -> (['ATCAT
+00018980: 4347 4141 5847 4741 275d 2c20 7b27 6d69  CGAAXGGA'], {'mi
+00018990: 736d 6174 6368 6573 273a 205b 5b39 5d5d  smatches': [[9]]
+000189a0: 2c20 276f 7269 6769 6e61 6c27 3a20 5b27  , 'original': ['
+000189b0: 4154 4341 5443 4741 4154 4747 4127 5d7d  ATCATCGAATGGA']}
+000189c0: 290a 2020 2020 2020 2020 7061 7474 2e70  ).        patt.p
+000189d0: 6172 7365 5f73 7472 696e 6728 2241 5443  arse_string("ATC
+000189e0: 4158 4347 4141 5847 4741 2229 2023 202d  AXCGAAXGGA") # -
+000189f0: 3e20 4578 6365 7074 696f 6e3a 2045 7870  > Exception: Exp
+00018a00: 6563 7465 6420 2741 5443 4154 4347 4141  ected 'ATCATCGAA
+00018a10: 5447 4741 2720 2877 6974 6820 7570 2074  TGGA' (with up t
+00018a20: 6f20 3120 6d69 736d 6174 6368 6573 2920  o 1 mismatches) 
+00018a30: 2861 7420 6368 6172 2030 292c 2028 6c69  (at char 0), (li
+00018a40: 6e65 3a31 2c20 636f 6c3a 3129 0a0a 2020  ne:1, col:1)..  
+00018a50: 2020 2020 2020 2320 6578 6163 7420 6d61        # exact ma
+00018a60: 7463 680a 2020 2020 2020 2020 7061 7474  tch.        patt
+00018a70: 2e70 6172 7365 5f73 7472 696e 6728 2241  .parse_string("A
+00018a80: 5443 4154 4347 4141 5447 4741 2229 2023  TCATCGAATGGA") #
+00018a90: 202d 3e20 285b 2741 5443 4154 4347 4141   -> (['ATCATCGAA
+00018aa0: 5447 4741 275d 2c20 7b27 6d69 736d 6174  TGGA'], {'mismat
+00018ab0: 6368 6573 273a 205b 5b5d 5d2c 2027 6f72  ches': [[]], 'or
+00018ac0: 6967 696e 616c 273a 205b 2741 5443 4154  iginal': ['ATCAT
+00018ad0: 4347 4141 5447 4741 275d 7d29 0a0a 2020  CGAATGGA']})..  
+00018ae0: 2020 2020 2020 2320 636c 6f73 6520 6d61        # close ma
+00018af0: 7463 6820 616c 6c6f 7769 6e67 2075 7020  tch allowing up 
+00018b00: 746f 2032 206d 6973 6d61 7463 6865 730a  to 2 mismatches.
+00018b10: 2020 2020 2020 2020 7061 7474 203d 2043          patt = C
+00018b20: 6c6f 7365 4d61 7463 6828 2241 5443 4154  loseMatch("ATCAT
+00018b30: 4347 4141 5447 4741 222c 206d 6178 5f6d  CGAATGGA", max_m
+00018b40: 6973 6d61 7463 6865 733d 3229 0a20 2020  ismatches=2).   
+00018b50: 2020 2020 2070 6174 742e 7061 7273 655f       patt.parse_
+00018b60: 7374 7269 6e67 2822 4154 4341 5843 4741  string("ATCAXCGA
+00018b70: 4158 4747 4122 2920 2320 2d3e 2028 5b27  AXGGA") # -> (['
+00018b80: 4154 4341 5843 4741 4158 4747 4127 5d2c  ATCAXCGAAXGGA'],
+00018b90: 207b 276d 6973 6d61 7463 6865 7327 3a20   {'mismatches': 
+00018ba0: 5b5b 342c 2039 5d5d 2c20 276f 7269 6769  [[4, 9]], 'origi
+00018bb0: 6e61 6c27 3a20 5b27 4154 4341 5443 4741  nal': ['ATCATCGA
+00018bc0: 4154 4747 4127 5d7d 290a 2020 2020 2222  ATGGA']}).    ""
+00018bd0: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
+00018be0: 745f 5f28 0a20 2020 2020 2020 2073 656c  t__(.        sel
+00018bf0: 662c 0a20 2020 2020 2020 206d 6174 6368  f,.        match
+00018c00: 5f73 7472 696e 673a 2073 7472 2c0a 2020  _string: str,.  
+00018c10: 2020 2020 2020 6d61 785f 6d69 736d 6174        max_mismat
+00018c20: 6368 6573 3a20 7479 7069 6e67 2e4f 7074  ches: typing.Opt
+00018c30: 696f 6e61 6c5b 696e 745d 203d 204e 6f6e  ional[int] = Non
+00018c40: 652c 0a20 2020 2020 2020 202a 2c0a 2020  e,.        *,.  
+00018c50: 2020 2020 2020 6d61 784d 6973 6d61 7463        maxMismatc
+00018c60: 6865 733a 2069 6e74 203d 2031 2c0a 2020  hes: int = 1,.  
+00018c70: 2020 2020 2020 6361 7365 6c65 7373 3d46        caseless=F
+00018c80: 616c 7365 2c0a 2020 2020 293a 0a20 2020  alse,.    ):.   
+00018c90: 2020 2020 206d 6178 4d69 736d 6174 6368       maxMismatch
+00018ca0: 6573 203d 206d 6178 5f6d 6973 6d61 7463  es = max_mismatc
+00018cb0: 6865 7320 6966 206d 6178 5f6d 6973 6d61  hes if max_misma
+00018cc0: 7463 6865 7320 6973 206e 6f74 204e 6f6e  tches is not Non
+00018cd0: 6520 656c 7365 206d 6178 4d69 736d 6174  e else maxMismat
+00018ce0: 6368 6573 0a20 2020 2020 2020 2073 7570  ches.        sup
+00018cf0: 6572 2829 2e5f 5f69 6e69 745f 5f28 290a  er().__init__().
+00018d00: 2020 2020 2020 2020 7365 6c66 2e6d 6174          self.mat
+00018d10: 6368 5f73 7472 696e 6720 3d20 6d61 7463  ch_string = matc
+00018d20: 685f 7374 7269 6e67 0a20 2020 2020 2020  h_string.       
+00018d30: 2073 656c 662e 6d61 784d 6973 6d61 7463   self.maxMismatc
+00018d40: 6865 7320 3d20 6d61 784d 6973 6d61 7463  hes = maxMismatc
+00018d50: 6865 730a 2020 2020 2020 2020 7365 6c66  hes.        self
+00018d60: 2e65 7272 6d73 6720 3d20 6622 4578 7065  .errmsg = f"Expe
+00018d70: 6374 6564 207b 7365 6c66 2e6d 6174 6368  cted {self.match
+00018d80: 5f73 7472 696e 6721 727d 2028 7769 7468  _string!r} (with
+00018d90: 2075 7020 746f 207b 7365 6c66 2e6d 6178   up to {self.max
+00018da0: 4d69 736d 6174 6368 6573 7d20 6d69 736d  Mismatches} mism
+00018db0: 6174 6368 6573 2922 0a20 2020 2020 2020  atches)".       
+00018dc0: 2073 656c 662e 6361 7365 6c65 7373 203d   self.caseless =
+00018dd0: 2063 6173 656c 6573 730a 2020 2020 2020   caseless.      
+00018de0: 2020 7365 6c66 2e6d 6179 496e 6465 7845    self.mayIndexE
+00018df0: 7272 6f72 203d 2046 616c 7365 0a20 2020  rror = False.   
+00018e00: 2020 2020 2073 656c 662e 6d61 7952 6574       self.mayRet
+00018e10: 7572 6e45 6d70 7479 203d 2046 616c 7365  urnEmpty = False
+00018e20: 0a0a 2020 2020 6465 6620 5f67 656e 6572  ..    def _gener
+00018e30: 6174 6544 6566 6175 6c74 4e61 6d65 2873  ateDefaultName(s
+00018e40: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
+00018e50: 2020 2020 2072 6574 7572 6e20 6622 7b74       return f"{t
+00018e60: 7970 6528 7365 6c66 292e 5f5f 6e61 6d65  ype(self).__name
+00018e70: 5f5f 7d3a 7b73 656c 662e 6d61 7463 685f  __}:{self.match_
+00018e80: 7374 7269 6e67 2172 7d22 0a0a 2020 2020  string!r}"..    
+00018e90: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
+00018ea0: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
+00018eb0: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
+00018ec0: 6529 3a0a 2020 2020 2020 2020 7374 6172  e):.        star
+00018ed0: 7420 3d20 6c6f 630a 2020 2020 2020 2020  t = loc.        
+00018ee0: 696e 7374 726c 656e 203d 206c 656e 2869  instrlen = len(i
+00018ef0: 6e73 7472 696e 6729 0a20 2020 2020 2020  nstring).       
+00018f00: 206d 6178 6c6f 6320 3d20 7374 6172 7420   maxloc = start 
+00018f10: 2b20 6c65 6e28 7365 6c66 2e6d 6174 6368  + len(self.match
+00018f20: 5f73 7472 696e 6729 0a0a 2020 2020 2020  _string)..      
+00018f30: 2020 6966 206d 6178 6c6f 6320 3c3d 2069    if maxloc <= i
+00018f40: 6e73 7472 6c65 6e3a 0a20 2020 2020 2020  nstrlen:.       
+00018f50: 2020 2020 206d 6174 6368 5f73 7472 696e       match_strin
+00018f60: 6720 3d20 7365 6c66 2e6d 6174 6368 5f73  g = self.match_s
+00018f70: 7472 696e 670a 2020 2020 2020 2020 2020  tring.          
+00018f80: 2020 6d61 7463 685f 7374 7269 6e67 6c6f    match_stringlo
+00018f90: 6320 3d20 300a 2020 2020 2020 2020 2020  c = 0.          
+00018fa0: 2020 6d69 736d 6174 6368 6573 203d 205b    mismatches = [
+00018fb0: 5d0a 2020 2020 2020 2020 2020 2020 6d61  ].            ma
+00018fc0: 784d 6973 6d61 7463 6865 7320 3d20 7365  xMismatches = se
+00018fd0: 6c66 2e6d 6178 4d69 736d 6174 6368 6573  lf.maxMismatches
+00018fe0: 0a0a 2020 2020 2020 2020 2020 2020 666f  ..            fo
+00018ff0: 7220 6d61 7463 685f 7374 7269 6e67 6c6f  r match_stringlo
+00019000: 632c 2073 5f6d 2069 6e20 656e 756d 6572  c, s_m in enumer
+00019010: 6174 6528 0a20 2020 2020 2020 2020 2020  ate(.           
+00019020: 2020 2020 207a 6970 2869 6e73 7472 696e       zip(instrin
+00019030: 675b 6c6f 633a 6d61 786c 6f63 5d2c 206d  g[loc:maxloc], m
+00019040: 6174 6368 5f73 7472 696e 6729 0a20 2020  atch_string).   
+00019050: 2020 2020 2020 2020 2029 3a0a 2020 2020           ):.    
+00019060: 2020 2020 2020 2020 2020 2020 7372 632c              src,
+00019070: 206d 6174 203d 2073 5f6d 0a20 2020 2020   mat = s_m.     
+00019080: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+00019090: 6c66 2e63 6173 656c 6573 733a 0a20 2020  lf.caseless:.   
+000190a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000190b0: 2073 7263 2c20 6d61 7420 3d20 7372 632e   src, mat = src.
+000190c0: 6c6f 7765 7228 292c 206d 6174 2e6c 6f77  lower(), mat.low
+000190d0: 6572 2829 0a0a 2020 2020 2020 2020 2020  er()..          
+000190e0: 2020 2020 2020 6966 2073 7263 2021 3d20        if src != 
+000190f0: 6d61 743a 0a20 2020 2020 2020 2020 2020  mat:.           
+00019100: 2020 2020 2020 2020 206d 6973 6d61 7463           mismatc
+00019110: 6865 732e 6170 7065 6e64 286d 6174 6368  hes.append(match
+00019120: 5f73 7472 696e 676c 6f63 290a 2020 2020  _stringloc).    
+00019130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019140: 6966 206c 656e 286d 6973 6d61 7463 6865  if len(mismatche
+00019150: 7329 203e 206d 6178 4d69 736d 6174 6368  s) > maxMismatch
+00019160: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+00019170: 2020 2020 2020 2020 2020 2020 6272 6561              brea
+00019180: 6b0a 2020 2020 2020 2020 2020 2020 656c  k.            el
+00019190: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+000191a0: 2020 2020 6c6f 6320 3d20 7374 6172 7420      loc = start 
+000191b0: 2b20 6d61 7463 685f 7374 7269 6e67 6c6f  + match_stringlo
+000191c0: 6320 2b20 310a 2020 2020 2020 2020 2020  c + 1.          
+000191d0: 2020 2020 2020 7265 7375 6c74 7320 3d20        results = 
+000191e0: 5061 7273 6552 6573 756c 7473 285b 696e  ParseResults([in
+000191f0: 7374 7269 6e67 5b73 7461 7274 3a6c 6f63  string[start:loc
+00019200: 5d5d 290a 2020 2020 2020 2020 2020 2020  ]]).            
+00019210: 2020 2020 7265 7375 6c74 735b 226f 7269      results["ori
+00019220: 6769 6e61 6c22 5d20 3d20 6d61 7463 685f  ginal"] = match_
+00019230: 7374 7269 6e67 0a20 2020 2020 2020 2020  string.         
+00019240: 2020 2020 2020 2072 6573 756c 7473 5b22         results["
+00019250: 6d69 736d 6174 6368 6573 225d 203d 206d  mismatches"] = m
+00019260: 6973 6d61 7463 6865 730a 2020 2020 2020  ismatches.      
+00019270: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00019280: 206c 6f63 2c20 7265 7375 6c74 730a 0a20   loc, results.. 
+00019290: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
+000192a0: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
+000192b0: 7269 6e67 2c20 6c6f 632c 2073 656c 662e  ring, loc, self.
+000192c0: 6572 726d 7367 2c20 7365 6c66 290a 0a0a  errmsg, self)...
+000192d0: 636c 6173 7320 576f 7264 2854 6f6b 656e  class Word(Token
+000192e0: 293a 0a20 2020 2022 2222 546f 6b65 6e20  ):.    """Token 
+000192f0: 666f 7220 6d61 7463 6869 6e67 2077 6f72  for matching wor
+00019300: 6473 2063 6f6d 706f 7365 6420 6f66 2061  ds composed of a
+00019310: 6c6c 6f77 6564 2063 6861 7261 6374 6572  llowed character
+00019320: 2073 6574 732e 0a0a 2020 2020 5061 7261   sets...    Para
+00019330: 6d65 7465 7273 3a0a 0a20 2020 202d 2060  meters:..    - `
+00019340: 6069 6e69 745f 6368 6172 7360 6020 2d20  `init_chars`` - 
+00019350: 7374 7269 6e67 206f 6620 616c 6c20 6368  string of all ch
+00019360: 6172 6163 7465 7273 2074 6861 7420 7368  aracters that sh
+00019370: 6f75 6c64 2062 6520 7573 6564 2074 6f0a  ould be used to.
+00019380: 2020 2020 2020 6d61 7463 6820 6173 2061        match as a
+00019390: 2077 6f72 643b 2022 4142 4322 2077 696c   word; "ABC" wil
+000193a0: 6c20 6d61 7463 6820 2241 4141 222c 2022  l match "AAA", "
+000193b0: 4142 4142 222c 2022 4342 4143 222c 2065  ABAB", "CBAC", e
+000193c0: 7463 2e3b 0a20 2020 2020 2069 6620 6060  tc.;.      if ``
+000193d0: 626f 6479 5f63 6861 7273 6060 2069 7320  body_chars`` is 
+000193e0: 616c 736f 2073 7065 6369 6669 6564 2c20  also specified, 
+000193f0: 7468 656e 2074 6869 7320 6973 2074 6865  then this is the
+00019400: 2073 7472 696e 6720 6f66 0a20 2020 2020   string of.     
+00019410: 2069 6e69 7469 616c 2063 6861 7261 6374   initial charact
+00019420: 6572 730a 2020 2020 2d20 6060 626f 6479  ers.    - ``body
+00019430: 5f63 6861 7273 6060 202d 2073 7472 696e  _chars`` - strin
+00019440: 6720 6f66 2063 6861 7261 6374 6572 7320  g of characters 
+00019450: 7468 6174 0a20 2020 2020 2063 616e 2062  that.      can b
+00019460: 6520 7573 6564 2066 6f72 206d 6174 6368  e used for match
+00019470: 696e 6720 6166 7465 7220 6120 6d61 7463  ing after a matc
+00019480: 6865 6420 696e 6974 6961 6c20 6368 6172  hed initial char
+00019490: 6163 7465 7220 6173 0a20 2020 2020 2067  acter as.      g
+000194a0: 6976 656e 2069 6e20 6060 696e 6974 5f63  iven in ``init_c
+000194b0: 6861 7273 6060 3b20 6966 206f 6d69 7474  hars``; if omitt
+000194c0: 6564 2c20 7361 6d65 2061 7320 7468 6520  ed, same as the 
+000194d0: 696e 6974 6961 6c20 6368 6172 6163 7465  initial characte
+000194e0: 7273 0a20 2020 2020 2028 6465 6661 756c  rs.      (defaul
+000194f0: 743d 6060 4e6f 6e65 6060 290a 2020 2020  t=``None``).    
+00019500: 2d20 6060 6d69 6e60 6020 2d20 6d69 6e69  - ``min`` - mini
+00019510: 6d75 6d20 6e75 6d62 6572 206f 6620 6368  mum number of ch
+00019520: 6172 6163 7465 7273 2074 6f20 6d61 7463  aracters to matc
+00019530: 6820 2864 6566 6175 6c74 3d31 290a 2020  h (default=1).  
+00019540: 2020 2d20 6060 6d61 7860 6020 2d20 6d61    - ``max`` - ma
+00019550: 7869 6d75 6d20 6e75 6d62 6572 206f 6620  ximum number of 
+00019560: 6368 6172 6163 7465 7273 2074 6f20 6d61  characters to ma
+00019570: 7463 6820 2864 6566 6175 6c74 3d30 290a  tch (default=0).
+00019580: 2020 2020 2d20 6060 6578 6163 7460 6020      - ``exact`` 
+00019590: 2d20 6578 6163 7420 6e75 6d62 6572 206f  - exact number o
+000195a0: 6620 6368 6172 6163 7465 7273 2074 6f20  f characters to 
+000195b0: 6d61 7463 6820 2864 6566 6175 6c74 3d30  match (default=0
+000195c0: 290a 2020 2020 2d20 6060 6173 5f6b 6579  ).    - ``as_key
+000195d0: 776f 7264 6060 202d 206d 6174 6368 2061  word`` - match a
+000195e0: 7320 6120 6b65 7977 6f72 6420 2864 6566  s a keyword (def
+000195f0: 6175 6c74 3d60 6046 616c 7365 6060 290a  ault=``False``).
+00019600: 2020 2020 2d20 6060 6578 636c 7564 655f      - ``exclude_
+00019610: 6368 6172 7360 6020 2d20 6368 6172 6163  chars`` - charac
+00019620: 7465 7273 2074 6861 7420 6d69 6768 7420  ters that might 
+00019630: 6265 0a20 2020 2020 2066 6f75 6e64 2069  be.      found i
+00019640: 6e20 7468 6520 696e 7075 7420 6060 626f  n the input ``bo
+00019650: 6479 5f63 6861 7273 6060 2073 7472 696e  dy_chars`` strin
+00019660: 6720 6275 7420 7768 6963 6820 7368 6f75  g but which shou
+00019670: 6c64 206e 6f74 2062 650a 2020 2020 2020  ld not be.      
+00019680: 6163 6365 7074 6564 2066 6f72 206d 6174  accepted for mat
+00019690: 6368 696e 6720 3b75 7365 6675 6c20 746f  ching ;useful to
+000196a0: 2064 6566 696e 6520 6120 776f 7264 206f   define a word o
+000196b0: 6620 616c 6c0a 2020 2020 2020 7072 696e  f all.      prin
+000196c0: 7461 626c 6573 2065 7863 6570 7420 666f  tables except fo
+000196d0: 7220 6f6e 6520 6f72 2074 776f 2063 6861  r one or two cha
+000196e0: 7261 6374 6572 732c 2066 6f72 2069 6e73  racters, for ins
+000196f0: 7461 6e63 650a 2020 2020 2020 2864 6566  tance.      (def
+00019700: 6175 6c74 3d60 604e 6f6e 6560 6029 0a0a  ault=``None``)..
+00019710: 2020 2020 3a63 6c61 7373 3a60 7372 616e      :class:`sran
+00019720: 6765 6020 6973 2075 7365 6675 6c20 666f  ge` is useful fo
+00019730: 7220 6465 6669 6e69 6e67 2063 7573 746f  r defining custo
+00019740: 6d20 6368 6172 6163 7465 7220 7365 7420  m character set 
+00019750: 7374 7269 6e67 730a 2020 2020 666f 7220  strings.    for 
+00019760: 6465 6669 6e69 6e67 203a 636c 6173 733a  defining :class:
+00019770: 6057 6f72 6460 2065 7870 7265 7373 696f  `Word` expressio
+00019780: 6e73 2c20 7573 696e 6720 7261 6e67 6520  ns, using range 
+00019790: 6e6f 7461 7469 6f6e 2066 726f 6d0a 2020  notation from.  
+000197a0: 2020 7265 6775 6c61 7220 6578 7072 6573    regular expres
+000197b0: 7369 6f6e 2063 6861 7261 6374 6572 2073  sion character s
+000197c0: 6574 732e 0a0a 2020 2020 4120 636f 6d6d  ets...    A comm
+000197d0: 6f6e 206d 6973 7461 6b65 2069 7320 746f  on mistake is to
+000197e0: 2075 7365 203a 636c 6173 733a 6057 6f72   use :class:`Wor
+000197f0: 6460 2074 6f20 6d61 7463 6820 6120 7370  d` to match a sp
+00019800: 6563 6966 6963 206c 6974 6572 616c 0a20  ecific literal. 
+00019810: 2020 2073 7472 696e 672c 2061 7320 696e     string, as in
+00019820: 2060 6057 6f72 6428 2241 6464 7265 7373   ``Word("Address
+00019830: 2229 6060 2e20 5265 6d65 6d62 6572 2074  ")``. Remember t
+00019840: 6861 7420 3a63 6c61 7373 3a60 576f 7264  hat :class:`Word
+00019850: 600a 2020 2020 7573 6573 2074 6865 2073  `.    uses the s
+00019860: 7472 696e 6720 6172 6775 6d65 6e74 2074  tring argument t
+00019870: 6f20 6465 6669 6e65 202a 7365 7473 2a20  o define *sets* 
+00019880: 6f66 206d 6174 6368 6162 6c65 2063 6861  of matchable cha
+00019890: 7261 6374 6572 732e 0a20 2020 2054 6869  racters..    Thi
+000198a0: 7320 6578 7072 6573 7369 6f6e 2077 6f75  s expression wou
+000198b0: 6c64 206d 6174 6368 2022 4164 6422 2c20  ld match "Add", 
+000198c0: 2241 4141 222c 2022 6441 7265 6422 2c20  "AAA", "dAred", 
+000198d0: 6f72 2061 6e79 206f 7468 6572 2077 6f72  or any other wor
+000198e0: 640a 2020 2020 6d61 6465 2075 7020 6f66  d.    made up of
+000198f0: 2074 6865 2063 6861 7261 6374 6572 7320   the characters 
+00019900: 2741 272c 2027 6427 2c20 2772 272c 2027  'A', 'd', 'r', '
+00019910: 6527 2c20 616e 6420 2773 272e 2054 6f20  e', and 's'. To 
+00019920: 6d61 7463 6820 616e 0a20 2020 2065 7861  match an.    exa
+00019930: 6374 206c 6974 6572 616c 2073 7472 696e  ct literal strin
+00019940: 672c 2075 7365 203a 636c 6173 733a 604c  g, use :class:`L
+00019950: 6974 6572 616c 6020 6f72 203a 636c 6173  iteral` or :clas
+00019960: 733a 604b 6579 776f 7264 602e 0a0a 2020  s:`Keyword`...  
+00019970: 2020 7079 7061 7273 696e 6720 696e 636c    pyparsing incl
+00019980: 7564 6573 2068 656c 7065 7220 7374 7269  udes helper stri
+00019990: 6e67 7320 666f 7220 6275 696c 6469 6e67  ngs for building
+000199a0: 2057 6f72 6473 3a0a 0a20 2020 202d 203a   Words:..    - :
+000199b0: 636c 6173 733a 6061 6c70 6861 7360 0a20  class:`alphas`. 
+000199c0: 2020 202d 203a 636c 6173 733a 606e 756d     - :class:`num
+000199d0: 7360 0a20 2020 202d 203a 636c 6173 733a  s`.    - :class:
+000199e0: 6061 6c70 6861 6e75 6d73 600a 2020 2020  `alphanums`.    
+000199f0: 2d20 3a63 6c61 7373 3a60 6865 786e 756d  - :class:`hexnum
+00019a00: 7360 0a20 2020 202d 203a 636c 6173 733a  s`.    - :class:
+00019a10: 6061 6c70 6861 7338 6269 7460 2028 616c  `alphas8bit` (al
+00019a20: 7068 6162 6574 6963 2063 6861 7261 6374  phabetic charact
+00019a30: 6572 7320 696e 2041 5343 4949 2072 616e  ers in ASCII ran
+00019a40: 6765 2031 3238 2d32 3535 0a20 2020 2020  ge 128-255.     
+00019a50: 202d 2061 6363 656e 7465 642c 2074 696c   - accented, til
+00019a60: 6465 642c 2075 6d6c 6175 7465 642c 2065  ded, umlauted, e
+00019a70: 7463 2e29 0a20 2020 202d 203a 636c 6173  tc.).    - :clas
+00019a80: 733a 6070 756e 6338 6269 7460 2028 6e6f  s:`punc8bit` (no
+00019a90: 6e2d 616c 7068 6162 6574 6963 2063 6861  n-alphabetic cha
+00019aa0: 7261 6374 6572 7320 696e 2041 5343 4949  racters in ASCII
+00019ab0: 2072 616e 6765 0a20 2020 2020 2031 3238   range.      128
+00019ac0: 2d32 3535 202d 2063 7572 7265 6e63 792c  -255 - currency,
+00019ad0: 2073 796d 626f 6c73 2c20 7375 7065 7273   symbols, supers
+00019ae0: 6372 6970 7473 2c20 6469 6163 7269 7469  cripts, diacriti
+00019af0: 6361 6c73 2c20 6574 632e 290a 2020 2020  cals, etc.).    
+00019b00: 2d20 3a63 6c61 7373 3a60 7072 696e 7461  - :class:`printa
+00019b10: 626c 6573 6020 2861 6e79 206e 6f6e 2d77  bles` (any non-w
+00019b20: 6869 7465 7370 6163 6520 6368 6172 6163  hitespace charac
+00019b30: 7465 7229 0a0a 2020 2020 6060 616c 7068  ter)..    ``alph
+00019b40: 6173 6060 2c20 6060 6e75 6d73 6060 2c20  as``, ``nums``, 
+00019b50: 616e 6420 6060 7072 696e 7461 626c 6573  and ``printables
+00019b60: 6060 2061 7265 2061 6c73 6f20 6465 6669  `` are also defi
+00019b70: 6e65 6420 696e 2073 6576 6572 616c 0a20  ned in several. 
+00019b80: 2020 2055 6e69 636f 6465 2073 6574 7320     Unicode sets 
+00019b90: 2d20 7365 6520 3a63 6c61 7373 3a60 7079  - see :class:`py
+00019ba0: 7061 7273 696e 675f 756e 6963 6f64 6560  parsing_unicode`
+00019bb0: 602e 0a0a 2020 2020 4578 616d 706c 653a  `...    Example:
+00019bc0: 3a0a 0a20 2020 2020 2020 2023 2061 2077  :..        # a w
+00019bd0: 6f72 6420 636f 6d70 6f73 6564 206f 6620  ord composed of 
+00019be0: 6469 6769 7473 0a20 2020 2020 2020 2069  digits.        i
+00019bf0: 6e74 6567 6572 203d 2057 6f72 6428 6e75  nteger = Word(nu
+00019c00: 6d73 2920 2320 6571 7569 7661 6c65 6e74  ms) # equivalent
+00019c10: 2074 6f20 576f 7264 2822 3031 3233 3435   to Word("012345
+00019c20: 3637 3839 2229 206f 7220 576f 7264 2873  6789") or Word(s
+00019c30: 7261 6e67 6528 2230 2d39 2229 290a 0a20  range("0-9")).. 
+00019c40: 2020 2020 2020 2023 2061 2077 6f72 6420         # a word 
+00019c50: 7769 7468 2061 206c 6561 6469 6e67 2063  with a leading c
+00019c60: 6170 6974 616c 2c20 616e 6420 7a65 726f  apital, and zero
+00019c70: 206f 7220 6d6f 7265 206c 6f77 6572 6361   or more lowerca
+00019c80: 7365 0a20 2020 2020 2020 2063 6170 6974  se.        capit
+00019c90: 616c 5f77 6f72 6420 3d20 576f 7264 2861  al_word = Word(a
+00019ca0: 6c70 6861 732e 7570 7065 7228 292c 2061  lphas.upper(), a
+00019cb0: 6c70 6861 732e 6c6f 7765 7228 2929 0a0a  lphas.lower())..
+00019cc0: 2020 2020 2020 2020 2320 686f 7374 6e61          # hostna
+00019cd0: 6d65 7320 6172 6520 616c 7068 616e 756d  mes are alphanum
+00019ce0: 6572 6963 2c20 7769 7468 206c 6561 6469  eric, with leadi
+00019cf0: 6e67 2061 6c70 6861 2c20 616e 6420 272d  ng alpha, and '-
+00019d00: 270a 2020 2020 2020 2020 686f 7374 6e61  '.        hostna
+00019d10: 6d65 203d 2057 6f72 6428 616c 7068 6173  me = Word(alphas
+00019d20: 2c20 616c 7068 616e 756d 7320 2b20 272d  , alphanums + '-
+00019d30: 2729 0a0a 2020 2020 2020 2020 2320 726f  ')..        # ro
+00019d40: 6d61 6e20 6e75 6d65 7261 6c20 286e 6f74  man numeral (not
+00019d50: 2061 2073 7472 6963 7420 7061 7273 6572   a strict parser
+00019d60: 2c20 6163 6365 7074 7320 696e 7661 6c69  , accepts invali
+00019d70: 6420 6d69 7820 6f66 2063 6861 7261 6374  d mix of charact
+00019d80: 6572 7329 0a20 2020 2020 2020 2072 6f6d  ers).        rom
+00019d90: 616e 203d 2057 6f72 6428 2249 5658 4c43  an = Word("IVXLC
+00019da0: 444d 2229 0a0a 2020 2020 2020 2020 2320  DM")..        # 
+00019db0: 616e 7920 7374 7269 6e67 206f 6620 6e6f  any string of no
+00019dc0: 6e2d 7768 6974 6573 7061 6365 2063 6861  n-whitespace cha
+00019dd0: 7261 6374 6572 732c 2065 7863 6570 7420  racters, except 
+00019de0: 666f 7220 272c 270a 2020 2020 2020 2020  for ','.        
+00019df0: 6373 765f 7661 6c75 6520 3d20 576f 7264  csv_value = Word
+00019e00: 2870 7269 6e74 6162 6c65 732c 2065 7863  (printables, exc
+00019e10: 6c75 6465 5f63 6861 7273 3d22 2c22 290a  lude_chars=",").
+00019e20: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
+00019e30: 205f 5f69 6e69 745f 5f28 0a20 2020 2020   __init__(.     
+00019e40: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+00019e50: 2069 6e69 745f 6368 6172 733a 2073 7472   init_chars: str
+00019e60: 203d 2022 222c 0a20 2020 2020 2020 2062   = "",.        b
+00019e70: 6f64 795f 6368 6172 733a 2074 7970 696e  ody_chars: typin
+00019e80: 672e 4f70 7469 6f6e 616c 5b73 7472 5d20  g.Optional[str] 
+00019e90: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00019ea0: 6d69 6e3a 2069 6e74 203d 2031 2c0a 2020  min: int = 1,.  
+00019eb0: 2020 2020 2020 6d61 783a 2069 6e74 203d        max: int =
+00019ec0: 2030 2c0a 2020 2020 2020 2020 6578 6163   0,.        exac
+00019ed0: 743a 2069 6e74 203d 2030 2c0a 2020 2020  t: int = 0,.    
+00019ee0: 2020 2020 6173 5f6b 6579 776f 7264 3a20      as_keyword: 
+00019ef0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+00019f00: 2020 2020 2020 6578 636c 7564 655f 6368        exclude_ch
+00019f10: 6172 733a 2074 7970 696e 672e 4f70 7469  ars: typing.Opti
+00019f20: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
+00019f30: 2c0a 2020 2020 2020 2020 2a2c 0a20 2020  ,.        *,.   
+00019f40: 2020 2020 2069 6e69 7443 6861 7273 3a20       initChars: 
+00019f50: 7479 7069 6e67 2e4f 7074 696f 6e61 6c5b  typing.Optional[
+00019f60: 7374 725d 203d 204e 6f6e 652c 0a20 2020  str] = None,.   
+00019f70: 2020 2020 2062 6f64 7943 6861 7273 3a20       bodyChars: 
+00019f80: 7479 7069 6e67 2e4f 7074 696f 6e61 6c5b  typing.Optional[
+00019f90: 7374 725d 203d 204e 6f6e 652c 0a20 2020  str] = None,.   
+00019fa0: 2020 2020 2061 734b 6579 776f 7264 3a20       asKeyword: 
+00019fb0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+00019fc0: 2020 2020 2020 6578 636c 7564 6543 6861        excludeCha
+00019fd0: 7273 3a20 7479 7069 6e67 2e4f 7074 696f  rs: typing.Optio
+00019fe0: 6e61 6c5b 7374 725d 203d 204e 6f6e 652c  nal[str] = None,
+00019ff0: 0a20 2020 2029 3a0a 2020 2020 2020 2020  .    ):.        
+0001a000: 696e 6974 4368 6172 7320 3d20 696e 6974  initChars = init
+0001a010: 4368 6172 7320 6f72 2069 6e69 745f 6368  Chars or init_ch
+0001a020: 6172 730a 2020 2020 2020 2020 626f 6479  ars.        body
+0001a030: 4368 6172 7320 3d20 626f 6479 4368 6172  Chars = bodyChar
+0001a040: 7320 6f72 2062 6f64 795f 6368 6172 730a  s or body_chars.
+0001a050: 2020 2020 2020 2020 6173 4b65 7977 6f72          asKeywor
+0001a060: 6420 3d20 6173 4b65 7977 6f72 6420 6f72  d = asKeyword or
+0001a070: 2061 735f 6b65 7977 6f72 640a 2020 2020   as_keyword.    
+0001a080: 2020 2020 6578 636c 7564 6543 6861 7273      excludeChars
+0001a090: 203d 2065 7863 6c75 6465 4368 6172 7320   = excludeChars 
+0001a0a0: 6f72 2065 7863 6c75 6465 5f63 6861 7273  or exclude_chars
+0001a0b0: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+0001a0c0: 2e5f 5f69 6e69 745f 5f28 290a 2020 2020  .__init__().    
+0001a0d0: 2020 2020 6966 206e 6f74 2069 6e69 7443      if not initC
+0001a0e0: 6861 7273 3a0a 2020 2020 2020 2020 2020  hars:.          
+0001a0f0: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
+0001a100: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
+0001a110: 2020 2020 6622 696e 7661 6c69 6420 7b74      f"invalid {t
+0001a120: 7970 6528 7365 6c66 292e 5f5f 6e61 6d65  ype(self).__name
+0001a130: 5f5f 7d2c 2069 6e69 7443 6861 7273 2063  __}, initChars c
+0001a140: 616e 6e6f 7420 6265 2065 6d70 7479 2073  annot be empty s
+0001a150: 7472 696e 6722 0a20 2020 2020 2020 2020  tring".         
+0001a160: 2020 2029 0a0a 2020 2020 2020 2020 696e     )..        in
+0001a170: 6974 4368 6172 735f 7365 7420 3d20 7365  itChars_set = se
+0001a180: 7428 696e 6974 4368 6172 7329 0a20 2020  t(initChars).   
+0001a190: 2020 2020 2069 6620 6578 636c 7564 6543       if excludeC
+0001a1a0: 6861 7273 3a0a 2020 2020 2020 2020 2020  hars:.          
+0001a1b0: 2020 6578 636c 7564 6543 6861 7273 5f73    excludeChars_s
+0001a1c0: 6574 203d 2073 6574 2865 7863 6c75 6465  et = set(exclude
+0001a1d0: 4368 6172 7329 0a20 2020 2020 2020 2020  Chars).         
+0001a1e0: 2020 2069 6e69 7443 6861 7273 5f73 6574     initChars_set
+0001a1f0: 202d 3d20 6578 636c 7564 6543 6861 7273   -= excludeChars
+0001a200: 5f73 6574 0a20 2020 2020 2020 2020 2020  _set.           
+0001a210: 2069 6620 626f 6479 4368 6172 733a 0a20   if bodyChars:. 
+0001a220: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+0001a230: 6f64 7943 6861 7273 203d 2022 222e 6a6f  odyChars = "".jo
+0001a240: 696e 2873 6574 2862 6f64 7943 6861 7273  in(set(bodyChars
+0001a250: 2920 2d20 6578 636c 7564 6543 6861 7273  ) - excludeChars
+0001a260: 5f73 6574 290a 2020 2020 2020 2020 7365  _set).        se
+0001a270: 6c66 2e69 6e69 7443 6861 7273 203d 2069  lf.initChars = i
+0001a280: 6e69 7443 6861 7273 5f73 6574 0a20 2020  nitChars_set.   
+0001a290: 2020 2020 2073 656c 662e 696e 6974 4368       self.initCh
+0001a2a0: 6172 734f 7269 6720 3d20 2222 2e6a 6f69  arsOrig = "".joi
+0001a2b0: 6e28 736f 7274 6564 2869 6e69 7443 6861  n(sorted(initCha
+0001a2c0: 7273 5f73 6574 2929 0a0a 2020 2020 2020  rs_set))..      
+0001a2d0: 2020 6966 2062 6f64 7943 6861 7273 3a0a    if bodyChars:.
+0001a2e0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001a2f0: 2e62 6f64 7943 6861 7273 203d 2073 6574  .bodyChars = set
+0001a300: 2862 6f64 7943 6861 7273 290a 2020 2020  (bodyChars).    
+0001a310: 2020 2020 2020 2020 7365 6c66 2e62 6f64          self.bod
+0001a320: 7943 6861 7273 4f72 6967 203d 2022 222e  yCharsOrig = "".
+0001a330: 6a6f 696e 2873 6f72 7465 6428 626f 6479  join(sorted(body
+0001a340: 4368 6172 7329 290a 2020 2020 2020 2020  Chars)).        
+0001a350: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0001a360: 2020 7365 6c66 2e62 6f64 7943 6861 7273    self.bodyChars
+0001a370: 203d 2069 6e69 7443 6861 7273 5f73 6574   = initChars_set
+0001a380: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0001a390: 662e 626f 6479 4368 6172 734f 7269 6720  f.bodyCharsOrig 
+0001a3a0: 3d20 7365 6c66 2e69 6e69 7443 6861 7273  = self.initChars
+0001a3b0: 4f72 6967 0a0a 2020 2020 2020 2020 7365  Orig..        se
+0001a3c0: 6c66 2e6d 6178 5370 6563 6966 6965 6420  lf.maxSpecified 
+0001a3d0: 3d20 6d61 7820 3e20 300a 0a20 2020 2020  = max > 0..     
+0001a3e0: 2020 2069 6620 6d69 6e20 3c20 313a 0a20     if min < 1:. 
+0001a3f0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+0001a400: 2056 616c 7565 4572 726f 7228 0a20 2020   ValueError(.   
+0001a410: 2020 2020 2020 2020 2020 2020 2022 6361               "ca
+0001a420: 6e6e 6f74 2073 7065 6369 6679 2061 206d  nnot specify a m
+0001a430: 696e 696d 756d 206c 656e 6774 6820 3c20  inimum length < 
+0001a440: 313b 2075 7365 204f 7074 2857 6f72 6428  1; use Opt(Word(
+0001a450: 2929 2069 6620 7a65 726f 2d6c 656e 6774  )) if zero-lengt
+0001a460: 6820 776f 7264 2069 7320 7065 726d 6974  h word is permit
+0001a470: 7465 6422 0a20 2020 2020 2020 2020 2020  ted".           
+0001a480: 2029 0a0a 2020 2020 2020 2020 6966 2073   )..        if s
+0001a490: 656c 662e 6d61 7853 7065 6369 6669 6564  elf.maxSpecified
+0001a4a0: 2061 6e64 206d 696e 203e 206d 6178 3a0a   and min > max:.
+0001a4b0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0001a4c0: 6520 5661 6c75 6545 7272 6f72 280a 2020  e ValueError(.  
+0001a4d0: 2020 2020 2020 2020 2020 2020 2020 6622                f"
+0001a4e0: 696e 7661 6c69 6420 6172 6773 2c20 6966  invalid args, if
+0001a4f0: 206d 696e 2061 6e64 206d 6178 2062 6f74   min and max bot
+0001a500: 6820 7370 6563 6966 6965 6420 6d69 6e20  h specified min 
+0001a510: 6d75 7374 2062 6520 3c3d 206d 6178 2028  must be <= max (
+0001a520: 6d69 6e3d 7b6d 696e 7d2c 206d 6178 3d7b  min={min}, max={
+0001a530: 6d61 787d 2922 0a20 2020 2020 2020 2020  max})".         
+0001a540: 2020 2029 0a0a 2020 2020 2020 2020 7365     )..        se
+0001a550: 6c66 2e6d 696e 4c65 6e20 3d20 6d69 6e0a  lf.minLen = min.
+0001a560: 0a20 2020 2020 2020 2069 6620 6d61 7820  .        if max 
+0001a570: 3e20 303a 0a20 2020 2020 2020 2020 2020  > 0:.           
+0001a580: 2073 656c 662e 6d61 784c 656e 203d 206d   self.maxLen = m
+0001a590: 6178 0a20 2020 2020 2020 2065 6c73 653a  ax.        else:
+0001a5a0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0001a5b0: 662e 6d61 784c 656e 203d 205f 4d41 585f  f.maxLen = _MAX_
+0001a5c0: 494e 540a 0a20 2020 2020 2020 2069 6620  INT..        if 
+0001a5d0: 6578 6163 7420 3e20 303a 0a20 2020 2020  exact > 0:.     
+0001a5e0: 2020 2020 2020 206d 696e 203d 206d 6178         min = max
+0001a5f0: 203d 2065 7861 6374 0a20 2020 2020 2020   = exact.       
+0001a600: 2020 2020 2073 656c 662e 6d61 784c 656e       self.maxLen
+0001a610: 203d 2065 7861 6374 0a20 2020 2020 2020   = exact.       
+0001a620: 2020 2020 2073 656c 662e 6d69 6e4c 656e       self.minLen
+0001a630: 203d 2065 7861 6374 0a0a 2020 2020 2020   = exact..      
+0001a640: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
+0001a650: 2245 7870 6563 7465 6420 2220 2b20 7365  "Expected " + se
+0001a660: 6c66 2e6e 616d 650a 2020 2020 2020 2020  lf.name.        
+0001a670: 7365 6c66 2e6d 6179 496e 6465 7845 7272  self.mayIndexErr
+0001a680: 6f72 203d 2046 616c 7365 0a20 2020 2020  or = False.     
+0001a690: 2020 2073 656c 662e 6173 4b65 7977 6f72     self.asKeywor
+0001a6a0: 6420 3d20 6173 4b65 7977 6f72 640a 2020  d = asKeyword.  
+0001a6b0: 2020 2020 2020 6966 2073 656c 662e 6173        if self.as
+0001a6c0: 4b65 7977 6f72 643a 0a20 2020 2020 2020  Keyword:.       
+0001a6d0: 2020 2020 2073 656c 662e 6572 726d 7367       self.errmsg
+0001a6e0: 202b 3d20 2220 6173 2061 206b 6579 776f   += " as a keywo
+0001a6f0: 7264 220a 0a20 2020 2020 2020 2023 2073  rd"..        # s
+0001a700: 6565 2069 6620 7765 2063 616e 206d 616b  ee if we can mak
+0001a710: 6520 6120 7265 6765 7820 666f 7220 7468  e a regex for th
+0001a720: 6973 2057 6f72 640a 2020 2020 2020 2020  is Word.        
+0001a730: 6966 2022 2022 206e 6f74 2069 6e20 2873  if " " not in (s
+0001a740: 656c 662e 696e 6974 4368 6172 7320 7c20  elf.initChars | 
+0001a750: 7365 6c66 2e62 6f64 7943 6861 7273 293a  self.bodyChars):
+0001a760: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0001a770: 6c65 6e28 7365 6c66 2e69 6e69 7443 6861  len(self.initCha
+0001a780: 7273 2920 3d3d 2031 3a0a 2020 2020 2020  rs) == 1:.      
+0001a790: 2020 2020 2020 2020 2020 7265 5f6c 6561            re_lea
+0001a7a0: 6469 6e67 5f66 7261 676d 656e 7420 3d20  ding_fragment = 
+0001a7b0: 7265 2e65 7363 6170 6528 7365 6c66 2e69  re.escape(self.i
+0001a7c0: 6e69 7443 6861 7273 4f72 6967 290a 2020  nitCharsOrig).  
+0001a7d0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0001a7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a7f0: 7265 5f6c 6561 6469 6e67 5f66 7261 676d  re_leading_fragm
+0001a800: 656e 7420 3d20 6622 5b7b 5f63 6f6c 6c61  ent = f"[{_colla
+0001a810: 7073 655f 7374 7269 6e67 5f74 6f5f 7261  pse_string_to_ra
+0001a820: 6e67 6573 2873 656c 662e 696e 6974 4368  nges(self.initCh
+0001a830: 6172 7329 7d5d 220a 0a20 2020 2020 2020  ars)}]"..       
+0001a840: 2020 2020 2069 6620 7365 6c66 2e62 6f64       if self.bod
+0001a850: 7943 6861 7273 203d 3d20 7365 6c66 2e69  yChars == self.i
+0001a860: 6e69 7443 6861 7273 3a0a 2020 2020 2020  nitChars:.      
+0001a870: 2020 2020 2020 2020 2020 6966 206d 6178            if max
+0001a880: 203d 3d20 303a 0a20 2020 2020 2020 2020   == 0:.         
+0001a890: 2020 2020 2020 2020 2020 2072 6570 6561             repea
+0001a8a0: 7420 3d20 222b 220a 2020 2020 2020 2020  t = "+".        
+0001a8b0: 2020 2020 2020 2020 656c 6966 206d 6178          elif max
+0001a8c0: 203d 3d20 313a 0a20 2020 2020 2020 2020   == 1:.         
+0001a8d0: 2020 2020 2020 2020 2020 2072 6570 6561             repea
+0001a8e0: 7420 3d20 2222 0a20 2020 2020 2020 2020  t = "".         
+0001a8f0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001a900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a910: 2069 6620 7365 6c66 2e6d 696e 4c65 6e20   if self.minLen 
+0001a920: 213d 2073 656c 662e 6d61 784c 656e 3a0a  != self.maxLen:.
+0001a930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a940: 2020 2020 2020 2020 7265 7065 6174 203d          repeat =
+0001a950: 2066 227b 7b7b 7365 6c66 2e6d 696e 4c65   f"{{{self.minLe
+0001a960: 6e7d 2c7b 2727 2069 6620 7365 6c66 2e6d  n},{'' if self.m
+0001a970: 6178 4c65 6e20 3d3d 205f 4d41 585f 494e  axLen == _MAX_IN
+0001a980: 5420 656c 7365 2073 656c 662e 6d61 784c  T else self.maxL
+0001a990: 656e 7d7d 7d22 0a20 2020 2020 2020 2020  en}}}".         
+0001a9a0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+0001a9b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a9c0: 2020 2020 2020 2020 2072 6570 6561 7420           repeat 
+0001a9d0: 3d20 6622 7b7b 7b73 656c 662e 6d69 6e4c  = f"{{{self.minL
+0001a9e0: 656e 7d7d 7d22 0a20 2020 2020 2020 2020  en}}}".         
+0001a9f0: 2020 2020 2020 2073 656c 662e 7265 5374         self.reSt
+0001aa00: 7269 6e67 203d 2066 227b 7265 5f6c 6561  ring = f"{re_lea
+0001aa10: 6469 6e67 5f66 7261 676d 656e 747d 7b72  ding_fragment}{r
+0001aa20: 6570 6561 747d 220a 2020 2020 2020 2020  epeat}".        
+0001aa30: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001aa40: 2020 2020 2020 2020 2020 6966 206d 6178            if max
+0001aa50: 203d 3d20 313a 0a20 2020 2020 2020 2020   == 1:.         
+0001aa60: 2020 2020 2020 2020 2020 2072 655f 626f             re_bo
+0001aa70: 6479 5f66 7261 676d 656e 7420 3d20 2222  dy_fragment = ""
+0001aa80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001aa90: 2020 2020 2072 6570 6561 7420 3d20 2222       repeat = ""
+0001aaa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001aab0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0001aac0: 2020 2020 2020 2020 2020 2072 655f 626f             re_bo
+0001aad0: 6479 5f66 7261 676d 656e 7420 3d20 6622  dy_fragment = f"
+0001aae0: 5b7b 5f63 6f6c 6c61 7073 655f 7374 7269  [{_collapse_stri
+0001aaf0: 6e67 5f74 6f5f 7261 6e67 6573 2873 656c  ng_to_ranges(sel
+0001ab00: 662e 626f 6479 4368 6172 7329 7d5d 220a  f.bodyChars)}]".
+0001ab10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab20: 2020 2020 6966 206d 6178 203d 3d20 303a      if max == 0:
+0001ab30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ab40: 2020 2020 2020 2020 2072 6570 6561 7420           repeat 
+0001ab50: 3d20 222a 220a 2020 2020 2020 2020 2020  = "*".          
+0001ab60: 2020 2020 2020 2020 2020 656c 6966 206d            elif m
+0001ab70: 6178 203d 3d20 323a 0a20 2020 2020 2020  ax == 2:.       
+0001ab80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab90: 2072 6570 6561 7420 3d20 223f 2220 6966   repeat = "?" if
+0001aba0: 206d 696e 203c 3d20 3120 656c 7365 2022   min <= 1 else "
+0001abb0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+0001abc0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
 0001abd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001abe0: 2072 6570 6561 7420 3d20 6622 7b7b 7b6d   repeat = f"{{{m
-0001abf0: 696e 202d 2031 2069 6620 6d69 6e20 3e20  in - 1 if min > 
-0001ac00: 3020 656c 7365 2030 7d7d 7d22 0a0a 2020  0 else 0}}}"..  
-0001ac10: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0001ac20: 6c66 2e72 6553 7472 696e 6720 3d20 280a  lf.reString = (.
-0001ac30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ac40: 2020 2020 6622 7b72 655f 6c65 6164 696e      f"{re_leadin
-0001ac50: 675f 6672 6167 6d65 6e74 7d22 2066 227b  g_fragment}" f"{
-0001ac60: 7265 5f62 6f64 795f 6672 6167 6d65 6e74  re_body_fragment
-0001ac70: 7d22 2066 227b 7265 7065 6174 7d22 0a20  }" f"{repeat}". 
-0001ac80: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-0001ac90: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
-0001aca0: 2073 656c 662e 6173 4b65 7977 6f72 643a   self.asKeyword:
-0001acb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001acc0: 2073 656c 662e 7265 5374 7269 6e67 203d   self.reString =
-0001acd0: 2072 6622 5c62 7b73 656c 662e 7265 5374   rf"\b{self.reSt
-0001ace0: 7269 6e67 7d5c 6222 0a0a 2020 2020 2020  ring}\b"..      
-0001acf0: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-0001ad00: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001ad10: 7265 203d 2072 652e 636f 6d70 696c 6528  re = re.compile(
-0001ad20: 7365 6c66 2e72 6553 7472 696e 6729 0a20  self.reString). 
-0001ad30: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-0001ad40: 7420 7265 2e65 7272 6f72 3a0a 2020 2020  t re.error:.    
-0001ad50: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001ad60: 2e72 6520 3d20 4e6f 6e65 2020 2320 7479  .re = None  # ty
-0001ad70: 7065 3a20 6967 6e6f 7265 5b61 7373 6967  pe: ignore[assig
-0001ad80: 6e6d 656e 745d 0a20 2020 2020 2020 2020  nment].         
-0001ad90: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0001abe0: 2020 2020 6966 206d 696e 2021 3d20 6d61      if min != ma
+0001abf0: 783a 0a20 2020 2020 2020 2020 2020 2020  x:.             
+0001ac00: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0001ac10: 6570 6561 7420 3d20 6622 7b7b 7b6d 696e  epeat = f"{{{min
+0001ac20: 202d 2031 2069 6620 6d69 6e20 3e20 3020   - 1 if min > 0 
+0001ac30: 656c 7365 2030 7d2c 7b6d 6178 202d 2031  else 0},{max - 1
+0001ac40: 7d7d 7d22 0a20 2020 2020 2020 2020 2020  }}}".           
+0001ac50: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+0001ac60: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0001ac70: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0001ac80: 6570 6561 7420 3d20 6622 7b7b 7b6d 696e  epeat = f"{{{min
+0001ac90: 202d 2031 2069 6620 6d69 6e20 3e20 3020   - 1 if min > 0 
+0001aca0: 656c 7365 2030 7d7d 7d22 0a0a 2020 2020  else 0}}}"..    
+0001acb0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001acc0: 2e72 6553 7472 696e 6720 3d20 280a 2020  .reString = (.  
+0001acd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ace0: 2020 6622 7b72 655f 6c65 6164 696e 675f    f"{re_leading_
+0001acf0: 6672 6167 6d65 6e74 7d22 2066 227b 7265  fragment}" f"{re
+0001ad00: 5f62 6f64 795f 6672 6167 6d65 6e74 7d22  _body_fragment}"
+0001ad10: 2066 227b 7265 7065 6174 7d22 0a20 2020   f"{repeat}".   
+0001ad20: 2020 2020 2020 2020 2020 2020 2029 0a0a               )..
+0001ad30: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+0001ad40: 656c 662e 6173 4b65 7977 6f72 643a 0a20  elf.asKeyword:. 
+0001ad50: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0001ad60: 656c 662e 7265 5374 7269 6e67 203d 2072  elf.reString = r
+0001ad70: 6622 5c62 7b73 656c 662e 7265 5374 7269  f"\b{self.reStri
+0001ad80: 6e67 7d5c 6222 0a0a 2020 2020 2020 2020  ng}\b"..        
+0001ad90: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
 0001ada0: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-0001adb0: 5f6d 6174 6368 203d 2073 656c 662e 7265  _match = self.re
-0001adc0: 2e6d 6174 6368 0a20 2020 2020 2020 2020  .match.         
-0001add0: 2020 2020 2020 2073 656c 662e 7061 7273         self.pars
-0001ade0: 6549 6d70 6c20 3d20 7365 6c66 2e70 6172  eImpl = self.par
-0001adf0: 7365 496d 706c 5f72 6567 6578 2020 2320  seImpl_regex  # 
-0001ae00: 7479 7065 3a20 6967 6e6f 7265 5b61 7373  type: ignore[ass
-0001ae10: 6967 6e6d 656e 745d 0a0a 2020 2020 6465  ignment]..    de
-0001ae20: 6620 5f67 656e 6572 6174 6544 6566 6175  f _generateDefau
-0001ae30: 6c74 4e61 6d65 2873 656c 6629 202d 3e20  ltName(self) -> 
-0001ae40: 7374 723a 0a20 2020 2020 2020 2064 6566  str:.        def
-0001ae50: 2063 6861 7273 4173 5374 7228 7329 3a0a   charsAsStr(s):.
-0001ae60: 2020 2020 2020 2020 2020 2020 6d61 785f              max_
-0001ae70: 7265 7072 5f6c 656e 203d 2031 360a 2020  repr_len = 16.  
-0001ae80: 2020 2020 2020 2020 2020 7320 3d20 5f63            s = _c
-0001ae90: 6f6c 6c61 7073 655f 7374 7269 6e67 5f74  ollapse_string_t
-0001aea0: 6f5f 7261 6e67 6573 2873 2c20 7265 5f65  o_ranges(s, re_e
-0001aeb0: 7363 6170 653d 4661 6c73 6529 0a20 2020  scape=False).   
-0001aec0: 2020 2020 2020 2020 2069 6620 6c65 6e28           if len(
-0001aed0: 7329 203e 206d 6178 5f72 6570 725f 6c65  s) > max_repr_le
-0001aee0: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
-0001aef0: 2020 2072 6574 7572 6e20 735b 3a20 6d61     return s[: ma
-0001af00: 785f 7265 7072 5f6c 656e 202d 2033 5d20  x_repr_len - 3] 
-0001af10: 2b20 222e 2e2e 220a 2020 2020 2020 2020  + "...".        
-0001af20: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0001af30: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0001af40: 2073 0a0a 2020 2020 2020 2020 6966 2073   s..        if s
-0001af50: 656c 662e 696e 6974 4368 6172 7320 213d  elf.initChars !=
-0001af60: 2073 656c 662e 626f 6479 4368 6172 733a   self.bodyChars:
-0001af70: 0a20 2020 2020 2020 2020 2020 2062 6173  .            bas
-0001af80: 6520 3d20 6622 573a 287b 6368 6172 7341  e = f"W:({charsA
-0001af90: 7353 7472 2873 656c 662e 696e 6974 4368  sStr(self.initCh
-0001afa0: 6172 7329 7d2c 207b 6368 6172 7341 7353  ars)}, {charsAsS
-0001afb0: 7472 2873 656c 662e 626f 6479 4368 6172  tr(self.bodyChar
-0001afc0: 7329 7d29 220a 2020 2020 2020 2020 656c  s)})".        el
-0001afd0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0001afe0: 6261 7365 203d 2066 2257 3a28 7b63 6861  base = f"W:({cha
-0001aff0: 7273 4173 5374 7228 7365 6c66 2e69 6e69  rsAsStr(self.ini
-0001b000: 7443 6861 7273 297d 2922 0a0a 2020 2020  tChars)})"..    
-0001b010: 2020 2020 2320 6164 6420 6c65 6e67 7468      # add length
-0001b020: 2073 7065 6369 6669 6361 7469 6f6e 0a20   specification. 
-0001b030: 2020 2020 2020 2069 6620 7365 6c66 2e6d         if self.m
-0001b040: 696e 4c65 6e20 3e20 3120 6f72 2073 656c  inLen > 1 or sel
-0001b050: 662e 6d61 784c 656e 2021 3d20 5f4d 4158  f.maxLen != _MAX
-0001b060: 5f49 4e54 3a0a 2020 2020 2020 2020 2020  _INT:.          
-0001b070: 2020 6966 2073 656c 662e 6d69 6e4c 656e    if self.minLen
-0001b080: 203d 3d20 7365 6c66 2e6d 6178 4c65 6e3a   == self.maxLen:
-0001b090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001b0a0: 2069 6620 7365 6c66 2e6d 696e 4c65 6e20   if self.minLen 
-0001b0b0: 3d3d 2031 3a0a 2020 2020 2020 2020 2020  == 1:.          
-0001b0c0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0001b0d0: 2062 6173 655b 323a 5d0a 2020 2020 2020   base[2:].      
-0001b0e0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-0001b0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001b100: 2020 2020 7265 7475 726e 2062 6173 6520      return base 
-0001b110: 2b20 6622 7b7b 7b73 656c 662e 6d69 6e4c  + f"{{{self.minL
-0001b120: 656e 7d7d 7d22 0a20 2020 2020 2020 2020  en}}}".         
-0001b130: 2020 2065 6c69 6620 7365 6c66 2e6d 6178     elif self.max
-0001b140: 4c65 6e20 3d3d 205f 4d41 585f 494e 543a  Len == _MAX_INT:
-0001b150: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001b160: 2072 6574 7572 6e20 6261 7365 202b 2066   return base + f
-0001b170: 227b 7b7b 7365 6c66 2e6d 696e 4c65 6e7d  "{{{self.minLen}
-0001b180: 2c2e 2e2e 7d7d 220a 2020 2020 2020 2020  ,...}}".        
-0001b190: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0001b1a0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0001b1b0: 2062 6173 6520 2b20 6622 7b7b 7b73 656c   base + f"{{{sel
-0001b1c0: 662e 6d69 6e4c 656e 7d2c 7b73 656c 662e  f.minLen},{self.
-0001b1d0: 6d61 784c 656e 7d7d 7d22 0a20 2020 2020  maxLen}}}".     
-0001b1e0: 2020 2072 6574 7572 6e20 6261 7365 0a0a     return base..
-0001b1f0: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
-0001b200: 6c28 7365 6c66 2c20 696e 7374 7269 6e67  l(self, instring
-0001b210: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
-0001b220: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
-0001b230: 6966 2069 6e73 7472 696e 675b 6c6f 635d  if instring[loc]
-0001b240: 206e 6f74 2069 6e20 7365 6c66 2e69 6e69   not in self.ini
-0001b250: 7443 6861 7273 3a0a 2020 2020 2020 2020  tChars:.        
-0001b260: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
-0001b270: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
-0001b280: 672c 206c 6f63 2c20 7365 6c66 2e65 7272  g, loc, self.err
-0001b290: 6d73 672c 2073 656c 6629 0a0a 2020 2020  msg, self)..    
-0001b2a0: 2020 2020 7374 6172 7420 3d20 6c6f 630a      start = loc.
-0001b2b0: 2020 2020 2020 2020 6c6f 6320 2b3d 2031          loc += 1
-0001b2c0: 0a20 2020 2020 2020 2069 6e73 7472 6c65  .        instrle
-0001b2d0: 6e20 3d20 6c65 6e28 696e 7374 7269 6e67  n = len(instring
-0001b2e0: 290a 2020 2020 2020 2020 626f 6479 6368  ).        bodych
-0001b2f0: 6172 7320 3d20 7365 6c66 2e62 6f64 7943  ars = self.bodyC
-0001b300: 6861 7273 0a20 2020 2020 2020 206d 6178  hars.        max
-0001b310: 6c6f 6320 3d20 7374 6172 7420 2b20 7365  loc = start + se
-0001b320: 6c66 2e6d 6178 4c65 6e0a 2020 2020 2020  lf.maxLen.      
-0001b330: 2020 6d61 786c 6f63 203d 206d 696e 286d    maxloc = min(m
-0001b340: 6178 6c6f 632c 2069 6e73 7472 6c65 6e29  axloc, instrlen)
-0001b350: 0a20 2020 2020 2020 2077 6869 6c65 206c  .        while l
-0001b360: 6f63 203c 206d 6178 6c6f 6320 616e 6420  oc < maxloc and 
-0001b370: 696e 7374 7269 6e67 5b6c 6f63 5d20 696e  instring[loc] in
-0001b380: 2062 6f64 7963 6861 7273 3a0a 2020 2020   bodychars:.    
-0001b390: 2020 2020 2020 2020 6c6f 6320 2b3d 2031          loc += 1
-0001b3a0: 0a0a 2020 2020 2020 2020 7468 726f 7745  ..        throwE
-0001b3b0: 7863 6570 7469 6f6e 203d 2046 616c 7365  xception = False
-0001b3c0: 0a20 2020 2020 2020 2069 6620 6c6f 6320  .        if loc 
-0001b3d0: 2d20 7374 6172 7420 3c20 7365 6c66 2e6d  - start < self.m
-0001b3e0: 696e 4c65 6e3a 0a20 2020 2020 2020 2020  inLen:.         
-0001b3f0: 2020 2074 6872 6f77 4578 6365 7074 696f     throwExceptio
-0001b400: 6e20 3d20 5472 7565 0a20 2020 2020 2020  n = True.       
-0001b410: 2065 6c69 6620 7365 6c66 2e6d 6178 5370   elif self.maxSp
-0001b420: 6563 6966 6965 6420 616e 6420 6c6f 6320  ecified and loc 
-0001b430: 3c20 696e 7374 726c 656e 2061 6e64 2069  < instrlen and i
-0001b440: 6e73 7472 696e 675b 6c6f 635d 2069 6e20  nstring[loc] in 
-0001b450: 626f 6479 6368 6172 733a 0a20 2020 2020  bodychars:.     
-0001b460: 2020 2020 2020 2074 6872 6f77 4578 6365         throwExce
-0001b470: 7074 696f 6e20 3d20 5472 7565 0a20 2020  ption = True.   
-0001b480: 2020 2020 2065 6c69 6620 7365 6c66 2e61       elif self.a
-0001b490: 734b 6579 776f 7264 3a0a 2020 2020 2020  sKeyword:.      
-0001b4a0: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
-0001b4b0: 2020 2020 2020 2020 2020 2073 7461 7274             start
-0001b4c0: 203e 2030 0a20 2020 2020 2020 2020 2020   > 0.           
-0001b4d0: 2020 2020 2061 6e64 2069 6e73 7472 696e       and instrin
-0001b4e0: 675b 7374 6172 7420 2d20 315d 2069 6e20  g[start - 1] in 
-0001b4f0: 626f 6479 6368 6172 730a 2020 2020 2020  bodychars.      
-0001b500: 2020 2020 2020 2020 2020 6f72 206c 6f63            or loc
-0001b510: 203c 2069 6e73 7472 6c65 6e0a 2020 2020   < instrlen.    
-0001b520: 2020 2020 2020 2020 2020 2020 616e 6420              and 
-0001b530: 696e 7374 7269 6e67 5b6c 6f63 5d20 696e  instring[loc] in
-0001b540: 2062 6f64 7963 6861 7273 0a20 2020 2020   bodychars.     
-0001b550: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
-0001b560: 2020 2020 2020 2020 2020 7468 726f 7745            throwE
-0001b570: 7863 6570 7469 6f6e 203d 2054 7275 650a  xception = True.
-0001b580: 0a20 2020 2020 2020 2069 6620 7468 726f  .        if thro
-0001b590: 7745 7863 6570 7469 6f6e 3a0a 2020 2020  wException:.    
-0001b5a0: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
-0001b5b0: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
-0001b5c0: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
-0001b5d0: 2e65 7272 6d73 672c 2073 656c 6629 0a0a  .errmsg, self)..
-0001b5e0: 2020 2020 2020 2020 7265 7475 726e 206c          return l
-0001b5f0: 6f63 2c20 696e 7374 7269 6e67 5b73 7461  oc, instring[sta
-0001b600: 7274 3a6c 6f63 5d0a 0a20 2020 2064 6566  rt:loc]..    def
-0001b610: 2070 6172 7365 496d 706c 5f72 6567 6578   parseImpl_regex
-0001b620: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
-0001b630: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
-0001b640: 5472 7565 293a 0a20 2020 2020 2020 2072  True):.        r
-0001b650: 6573 756c 7420 3d20 7365 6c66 2e72 655f  esult = self.re_
-0001b660: 6d61 7463 6828 696e 7374 7269 6e67 2c20  match(instring, 
-0001b670: 6c6f 6329 0a20 2020 2020 2020 2069 6620  loc).        if 
-0001b680: 6e6f 7420 7265 7375 6c74 3a0a 2020 2020  not result:.    
-0001b690: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
-0001b6a0: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
-0001b6b0: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
-0001b6c0: 2e65 7272 6d73 672c 2073 656c 6629 0a0a  .errmsg, self)..
-0001b6d0: 2020 2020 2020 2020 6c6f 6320 3d20 7265          loc = re
-0001b6e0: 7375 6c74 2e65 6e64 2829 0a20 2020 2020  sult.end().     
-0001b6f0: 2020 2072 6574 7572 6e20 6c6f 632c 2072     return loc, r
-0001b700: 6573 756c 742e 6772 6f75 7028 290a 0a0a  esult.group()...
-0001b710: 636c 6173 7320 4368 6172 2857 6f72 6429  class Char(Word)
-0001b720: 3a0a 2020 2020 2222 2241 2073 686f 7274  :.    """A short
-0001b730: 2d63 7574 2063 6c61 7373 2066 6f72 2064  -cut class for d
-0001b740: 6566 696e 696e 6720 3a63 6c61 7373 3a60  efining :class:`
-0001b750: 576f 7264 6020 6060 2863 6861 7261 6374  Word` ``(charact
-0001b760: 6572 732c 2065 7861 6374 3d31 2960 602c  ers, exact=1)``,
-0001b770: 0a20 2020 2077 6865 6e20 6465 6669 6e69  .    when defini
-0001b780: 6e67 2061 206d 6174 6368 206f 6620 616e  ng a match of an
-0001b790: 7920 7369 6e67 6c65 2063 6861 7261 6374  y single charact
-0001b7a0: 6572 2069 6e20 6120 7374 7269 6e67 206f  er in a string o
-0001b7b0: 660a 2020 2020 6368 6172 6163 7465 7273  f.    characters
-0001b7c0: 2e0a 2020 2020 2222 220a 0a20 2020 2064  ..    """..    d
-0001b7d0: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
-0001b7e0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0001b7f0: 2020 2063 6861 7273 6574 3a20 7374 722c     charset: str,
-0001b800: 0a20 2020 2020 2020 2061 735f 6b65 7977  .        as_keyw
-0001b810: 6f72 643a 2062 6f6f 6c20 3d20 4661 6c73  ord: bool = Fals
-0001b820: 652c 0a20 2020 2020 2020 2065 7863 6c75  e,.        exclu
-0001b830: 6465 5f63 6861 7273 3a20 7479 7069 6e67  de_chars: typing
-0001b840: 2e4f 7074 696f 6e61 6c5b 7374 725d 203d  .Optional[str] =
-0001b850: 204e 6f6e 652c 0a20 2020 2020 2020 202a   None,.        *
-0001b860: 2c0a 2020 2020 2020 2020 6173 4b65 7977  ,.        asKeyw
-0001b870: 6f72 643a 2062 6f6f 6c20 3d20 4661 6c73  ord: bool = Fals
-0001b880: 652c 0a20 2020 2020 2020 2065 7863 6c75  e,.        exclu
-0001b890: 6465 4368 6172 733a 2074 7970 696e 672e  deChars: typing.
-0001b8a0: 4f70 7469 6f6e 616c 5b73 7472 5d20 3d20  Optional[str] = 
-0001b8b0: 4e6f 6e65 2c0a 2020 2020 293a 0a20 2020  None,.    ):.   
-0001b8c0: 2020 2020 2061 734b 6579 776f 7264 203d       asKeyword =
-0001b8d0: 2061 734b 6579 776f 7264 206f 7220 6173   asKeyword or as
-0001b8e0: 5f6b 6579 776f 7264 0a20 2020 2020 2020  _keyword.       
-0001b8f0: 2065 7863 6c75 6465 4368 6172 7320 3d20   excludeChars = 
-0001b900: 6578 636c 7564 6543 6861 7273 206f 7220  excludeChars or 
-0001b910: 6578 636c 7564 655f 6368 6172 730a 2020  exclude_chars.  
-0001b920: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
-0001b930: 696e 6974 5f5f 280a 2020 2020 2020 2020  init__(.        
-0001b940: 2020 2020 6368 6172 7365 742c 2065 7861      charset, exa
-0001b950: 6374 3d31 2c20 6173 5f6b 6579 776f 7264  ct=1, as_keyword
-0001b960: 3d61 734b 6579 776f 7264 2c20 6578 636c  =asKeyword, excl
-0001b970: 7564 655f 6368 6172 733d 6578 636c 7564  ude_chars=exclud
-0001b980: 6543 6861 7273 0a20 2020 2020 2020 2029  eChars.        )
-0001b990: 0a0a 0a63 6c61 7373 2052 6567 6578 2854  ...class Regex(T
-0001b9a0: 6f6b 656e 293a 0a20 2020 2072 2222 2254  oken):.    r"""T
-0001b9b0: 6f6b 656e 2066 6f72 206d 6174 6368 696e  oken for matchin
-0001b9c0: 6720 7374 7269 6e67 7320 7468 6174 206d  g strings that m
-0001b9d0: 6174 6368 2061 2067 6976 656e 2072 6567  atch a given reg
-0001b9e0: 756c 6172 0a20 2020 2065 7870 7265 7373  ular.    express
-0001b9f0: 696f 6e2e 2044 6566 696e 6564 2077 6974  ion. Defined wit
-0001ba00: 6820 7374 7269 6e67 2073 7065 6369 6679  h string specify
-0001ba10: 696e 6720 7468 6520 7265 6775 6c61 7220  ing the regular 
-0001ba20: 6578 7072 6573 7369 6f6e 2069 6e0a 2020  expression in.  
-0001ba30: 2020 6120 666f 726d 2072 6563 6f67 6e69    a form recogni
-0001ba40: 7a65 6420 6279 2074 6865 2073 7464 6c69  zed by the stdli
-0001ba50: 6220 5079 7468 6f6e 2020 6072 6520 6d6f  b Python  `re mo
-0001ba60: 6475 6c65 203c 6874 7470 733a 2f2f 646f  dule <https://do
-0001ba70: 6373 2e70 7974 686f 6e2e 6f72 672f 332f  cs.python.org/3/
-0001ba80: 6c69 6272 6172 792f 7265 2e68 746d 6c3e  library/re.html>
-0001ba90: 605f 2e0a 2020 2020 4966 2074 6865 2067  `_..    If the g
-0001baa0: 6976 656e 2072 6567 6578 2063 6f6e 7461  iven regex conta
-0001bab0: 696e 7320 6e61 6d65 6420 6772 6f75 7073  ins named groups
-0001bac0: 2028 6465 6669 6e65 6420 7573 696e 6720   (defined using 
-0001bad0: 6060 283f 503c 6e61 6d65 3e2e 2e2e 2960  ``(?P<name>...)`
-0001bae0: 6029 2c0a 2020 2020 7468 6573 6520 7769  `),.    these wi
-0001baf0: 6c6c 2062 6520 7072 6573 6572 7665 6420  ll be preserved 
-0001bb00: 6173 206e 616d 6564 203a 636c 6173 733a  as named :class:
-0001bb10: 6050 6172 7365 5265 7375 6c74 7360 2e0a  `ParseResults`..
-0001bb20: 0a20 2020 2049 6620 696e 7374 6561 6420  .    If instead 
-0001bb30: 6f66 2074 6865 2050 7974 686f 6e20 7374  of the Python st
-0001bb40: 646c 6962 2060 6072 6560 6020 6d6f 6475  dlib ``re`` modu
-0001bb50: 6c65 2079 6f75 2077 6973 6820 746f 2075  le you wish to u
-0001bb60: 7365 2061 2064 6966 6665 7265 6e74 2052  se a different R
-0001bb70: 4520 6d6f 6475 6c65 0a20 2020 2028 7375  E module.    (su
-0001bb80: 6368 2061 7320 7468 6520 6060 7265 6765  ch as the ``rege
-0001bb90: 7860 6020 6d6f 6475 6c65 292c 2079 6f75  x`` module), you
-0001bba0: 2063 616e 2064 6f20 736f 2062 7920 6275   can do so by bu
-0001bbb0: 696c 6469 6e67 2079 6f75 7220 6060 5265  ilding your ``Re
-0001bbc0: 6765 7860 6020 6f62 6a65 6374 2077 6974  gex`` object wit
-0001bbd0: 680a 2020 2020 6120 636f 6d70 696c 6564  h.    a compiled
-0001bbe0: 2052 4520 7468 6174 2077 6173 2063 6f6d   RE that was com
-0001bbf0: 7069 6c65 6420 7573 696e 6720 6060 7265  piled using ``re
-0001bc00: 6765 7860 602e 0a0a 2020 2020 4578 616d  gex``...    Exam
-0001bc10: 706c 653a 3a0a 0a20 2020 2020 2020 2072  ple::..        r
-0001bc20: 6561 6c6e 756d 203d 2052 6567 6578 2872  ealnum = Regex(r
-0001bc30: 225b 2b2d 5d3f 5c64 2b5c 2e5c 642a 2229  "[+-]?\d+\.\d*")
-0001bc40: 0a20 2020 2020 2020 2023 2072 6566 3a20  .        # ref: 
-0001bc50: 6874 7470 733a 2f2f 7374 6163 6b6f 7665  https://stackove
-0001bc60: 7266 6c6f 772e 636f 6d2f 7175 6573 7469  rflow.com/questi
-0001bc70: 6f6e 732f 3236 3733 3939 2f68 6f77 2d64  ons/267399/how-d
-0001bc80: 6f2d 796f 752d 6d61 7463 682d 6f6e 6c79  o-you-match-only
-0001bc90: 2d76 616c 6964 2d72 6f6d 616e 2d6e 756d  -valid-roman-num
-0001bca0: 6572 616c 732d 7769 7468 2d61 2d72 6567  erals-with-a-reg
-0001bcb0: 756c 6172 2d65 7870 7265 7373 696f 6e0a  ular-expression.
-0001bcc0: 2020 2020 2020 2020 726f 6d61 6e20 3d20          roman = 
-0001bcd0: 5265 6765 7828 7222 4d7b 302c 347d 2843  Regex(r"M{0,4}(C
-0001bce0: 4d7c 4344 7c44 3f7b 302c 337d 2928 5843  M|CD|D?{0,3})(XC
-0001bcf0: 7c58 4c7c 4c3f 587b 302c 337d 2928 4958  |XL|L?X{0,3})(IX
-0001bd00: 7c49 567c 563f 497b 302c 337d 2922 290a  |IV|V?I{0,3})").
-0001bd10: 0a20 2020 2020 2020 2023 206e 616d 6564  .        # named
-0001bd20: 2066 6965 6c64 7320 696e 2061 2072 6567   fields in a reg
-0001bd30: 6578 2077 696c 6c20 6265 2072 6574 7572  ex will be retur
-0001bd40: 6e65 6420 6173 206e 616d 6564 2072 6573  ned as named res
-0001bd50: 756c 7473 0a20 2020 2020 2020 2064 6174  ults.        dat
-0001bd60: 6520 3d20 5265 6765 7828 7227 283f 503c  e = Regex(r'(?P<
-0001bd70: 7965 6172 3e5c 647b 347d 292d 283f 503c  year>\d{4})-(?P<
-0001bd80: 6d6f 6e74 683e 5c64 5c64 3f29 2d28 3f50  month>\d\d?)-(?P
-0001bd90: 3c64 6179 3e5c 645c 643f 2927 290a 0a20  <day>\d\d?)').. 
-0001bda0: 2020 2020 2020 2023 2074 6865 2052 6567         # the Reg
-0001bdb0: 6578 2063 6c61 7373 2077 696c 6c20 6163  ex class will ac
-0001bdc0: 6365 7074 2072 6527 7320 636f 6d70 696c  cept re's compil
-0001bdd0: 6564 2075 7369 6e67 2074 6865 2072 6567  ed using the reg
-0001bde0: 6578 206d 6f64 756c 650a 2020 2020 2020  ex module.      
-0001bdf0: 2020 696d 706f 7274 2072 6567 6578 0a20    import regex. 
-0001be00: 2020 2020 2020 2070 6172 7365 7220 3d20         parser = 
-0001be10: 7070 2e52 6567 6578 2872 6567 6578 2e63  pp.Regex(regex.c
-0001be20: 6f6d 7069 6c65 2872 275b 302d 395d 2729  ompile(r'[0-9]')
-0001be30: 290a 2020 2020 2222 220a 0a20 2020 2064  ).    """..    d
-0001be40: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
-0001be50: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0001be60: 2020 2070 6174 7465 726e 3a20 416e 792c     pattern: Any,
-0001be70: 0a20 2020 2020 2020 2066 6c61 6773 3a20  .        flags: 
-0001be80: 556e 696f 6e5b 7265 2e52 6567 6578 466c  Union[re.RegexFl
-0001be90: 6167 2c20 696e 745d 203d 2030 2c0a 2020  ag, int] = 0,.  
-0001bea0: 2020 2020 2020 6173 5f67 726f 7570 5f6c        as_group_l
-0001beb0: 6973 743a 2062 6f6f 6c20 3d20 4661 6c73  ist: bool = Fals
-0001bec0: 652c 0a20 2020 2020 2020 2061 735f 6d61  e,.        as_ma
-0001bed0: 7463 683a 2062 6f6f 6c20 3d20 4661 6c73  tch: bool = Fals
-0001bee0: 652c 0a20 2020 2020 2020 202a 2c0a 2020  e,.        *,.  
-0001bef0: 2020 2020 2020 6173 4772 6f75 704c 6973        asGroupLis
-0001bf00: 743a 2062 6f6f 6c20 3d20 4661 6c73 652c  t: bool = False,
-0001bf10: 0a20 2020 2020 2020 2061 734d 6174 6368  .        asMatch
-0001bf20: 3a20 626f 6f6c 203d 2046 616c 7365 2c0a  : bool = False,.
-0001bf30: 2020 2020 293a 0a20 2020 2020 2020 2022      ):.        "
-0001bf40: 2222 5468 6520 7061 7261 6d65 7465 7273  ""The parameters
-0001bf50: 2060 6070 6174 7465 726e 6060 2061 6e64   ``pattern`` and
-0001bf60: 2060 6066 6c61 6773 6060 2061 7265 2070   ``flags`` are p
-0001bf70: 6173 7365 640a 2020 2020 2020 2020 746f  assed.        to
-0001bf80: 2074 6865 2060 6072 652e 636f 6d70 696c   the ``re.compil
-0001bf90: 6528 2960 6020 6675 6e63 7469 6f6e 2061  e()`` function a
-0001bfa0: 732d 6973 2e20 5365 6520 7468 6520 5079  s-is. See the Py
-0001bfb0: 7468 6f6e 0a20 2020 2020 2020 2060 7265  thon.        `re
-0001bfc0: 206d 6f64 756c 6520 3c68 7474 7073 3a2f   module <https:/
-0001bfd0: 2f64 6f63 732e 7079 7468 6f6e 2e6f 7267  /docs.python.org
-0001bfe0: 2f33 2f6c 6962 7261 7279 2f72 652e 6874  /3/library/re.ht
-0001bff0: 6d6c 3e60 5f20 6d6f 6475 6c65 2066 6f72  ml>`_ module for
-0001c000: 2061 6e0a 2020 2020 2020 2020 6578 706c   an.        expl
-0001c010: 616e 6174 696f 6e20 6f66 2074 6865 2061  anation of the a
-0001c020: 6363 6570 7461 626c 6520 7061 7474 6572  cceptable patter
-0001c030: 6e73 2061 6e64 2066 6c61 6773 2e0a 2020  ns and flags..  
-0001c040: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001c050: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-0001c060: 5f5f 2829 0a20 2020 2020 2020 2061 7347  __().        asG
-0001c070: 726f 7570 4c69 7374 203d 2061 7347 726f  roupList = asGro
-0001c080: 7570 4c69 7374 206f 7220 6173 5f67 726f  upList or as_gro
-0001c090: 7570 5f6c 6973 740a 2020 2020 2020 2020  up_list.        
-0001c0a0: 6173 4d61 7463 6820 3d20 6173 4d61 7463  asMatch = asMatc
-0001c0b0: 6820 6f72 2061 735f 6d61 7463 680a 0a20  h or as_match.. 
-0001c0c0: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-0001c0d0: 616e 6365 2870 6174 7465 726e 2c20 7374  ance(pattern, st
-0001c0e0: 725f 7479 7065 293a 0a20 2020 2020 2020  r_type):.       
-0001c0f0: 2020 2020 2069 6620 6e6f 7420 7061 7474       if not patt
-0001c100: 6572 6e3a 0a20 2020 2020 2020 2020 2020  ern:.           
-0001c110: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
-0001c120: 4572 726f 7228 226e 756c 6c20 7374 7269  Error("null stri
-0001c130: 6e67 2070 6173 7365 6420 746f 2052 6567  ng passed to Reg
-0001c140: 6578 3b20 7573 6520 456d 7074 7928 2920  ex; use Empty() 
-0001c150: 696e 7374 6561 6422 290a 0a20 2020 2020  instead")..     
-0001c160: 2020 2020 2020 2073 656c 662e 5f72 6520         self._re 
-0001c170: 3d20 4e6f 6e65 0a20 2020 2020 2020 2020  = None.         
-0001c180: 2020 2073 656c 662e 7265 5374 7269 6e67     self.reString
-0001c190: 203d 2073 656c 662e 7061 7474 6572 6e20   = self.pattern 
-0001c1a0: 3d20 7061 7474 6572 6e0a 2020 2020 2020  = pattern.      
-0001c1b0: 2020 2020 2020 7365 6c66 2e66 6c61 6773        self.flags
-0001c1c0: 203d 2066 6c61 6773 0a0a 2020 2020 2020   = flags..      
-0001c1d0: 2020 656c 6966 2068 6173 6174 7472 2870    elif hasattr(p
-0001c1e0: 6174 7465 726e 2c20 2270 6174 7465 726e  attern, "pattern
-0001c1f0: 2229 2061 6e64 2068 6173 6174 7472 2870  ") and hasattr(p
-0001c200: 6174 7465 726e 2c20 226d 6174 6368 2229  attern, "match")
-0001c210: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0001c220: 6c66 2e5f 7265 203d 2070 6174 7465 726e  lf._re = pattern
-0001c230: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001c240: 662e 7061 7474 6572 6e20 3d20 7365 6c66  f.pattern = self
-0001c250: 2e72 6553 7472 696e 6720 3d20 7061 7474  .reString = patt
-0001c260: 6572 6e2e 7061 7474 6572 6e0a 2020 2020  ern.pattern.    
-0001c270: 2020 2020 2020 2020 7365 6c66 2e66 6c61          self.fla
-0001c280: 6773 203d 2066 6c61 6773 0a0a 2020 2020  gs = flags..    
-0001c290: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0001c2a0: 2020 2020 2020 7261 6973 6520 5479 7065        raise Type
-0001c2b0: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-0001c2c0: 2020 2020 2020 2022 5265 6765 7820 6d61         "Regex ma
-0001c2d0: 7920 6f6e 6c79 2062 6520 636f 6e73 7472  y only be constr
-0001c2e0: 7563 7465 6420 7769 7468 2061 2073 7472  ucted with a str
-0001c2f0: 696e 6720 6f72 2061 2063 6f6d 7069 6c65  ing or a compile
-0001c300: 6420 5245 206f 626a 6563 7422 0a20 2020  d RE object".   
-0001c310: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
-0001c320: 2020 2020 7365 6c66 2e65 7272 6d73 6720      self.errmsg 
-0001c330: 3d20 2245 7870 6563 7465 6420 2220 2b20  = "Expected " + 
-0001c340: 7365 6c66 2e6e 616d 650a 2020 2020 2020  self.name.      
-0001c350: 2020 7365 6c66 2e6d 6179 496e 6465 7845    self.mayIndexE
-0001c360: 7272 6f72 203d 2046 616c 7365 0a20 2020  rror = False.   
-0001c370: 2020 2020 2073 656c 662e 6173 4772 6f75       self.asGrou
-0001c380: 704c 6973 7420 3d20 6173 4772 6f75 704c  pList = asGroupL
-0001c390: 6973 740a 2020 2020 2020 2020 7365 6c66  ist.        self
-0001c3a0: 2e61 734d 6174 6368 203d 2061 734d 6174  .asMatch = asMat
-0001c3b0: 6368 0a20 2020 2020 2020 2069 6620 7365  ch.        if se
-0001c3c0: 6c66 2e61 7347 726f 7570 4c69 7374 3a0a  lf.asGroupList:.
-0001c3d0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001c3e0: 2e70 6172 7365 496d 706c 203d 2073 656c  .parseImpl = sel
-0001c3f0: 662e 7061 7273 6549 6d70 6c41 7347 726f  f.parseImplAsGro
-0001c400: 7570 4c69 7374 2020 2320 7479 7065 3a20  upList  # type: 
-0001c410: 6967 6e6f 7265 205b 6173 7369 676e 6d65  ignore [assignme
-0001c420: 6e74 5d0a 2020 2020 2020 2020 6966 2073  nt].        if s
-0001c430: 656c 662e 6173 4d61 7463 683a 0a20 2020  elf.asMatch:.   
-0001c440: 2020 2020 2020 2020 2073 656c 662e 7061           self.pa
-0001c450: 7273 6549 6d70 6c20 3d20 7365 6c66 2e70  rseImpl = self.p
-0001c460: 6172 7365 496d 706c 4173 4d61 7463 6820  arseImplAsMatch 
-0001c470: 2023 2074 7970 653a 2069 676e 6f72 6520   # type: ignore 
-0001c480: 5b61 7373 6967 6e6d 656e 745d 0a0a 2020  [assignment]..  
-0001c490: 2020 4063 6163 6865 645f 7072 6f70 6572    @cached_proper
-0001c4a0: 7479 0a20 2020 2064 6566 2072 6528 7365  ty.    def re(se
-0001c4b0: 6c66 293a 0a20 2020 2020 2020 2069 6620  lf):.        if 
-0001c4c0: 7365 6c66 2e5f 7265 3a0a 2020 2020 2020  self._re:.      
-0001c4d0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-0001c4e0: 662e 5f72 650a 2020 2020 2020 2020 656c  f._re.        el
-0001c4f0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0001c500: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-0001c510: 2020 2020 2072 6574 7572 6e20 7265 2e63       return re.c
-0001c520: 6f6d 7069 6c65 2873 656c 662e 7061 7474  ompile(self.patt
-0001c530: 6572 6e2c 2073 656c 662e 666c 6167 7329  ern, self.flags)
-0001c540: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-0001c550: 6570 7420 7265 2e65 7272 6f72 3a0a 2020  ept re.error:.  
-0001c560: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-0001c570: 6973 6520 5661 6c75 6545 7272 6f72 2866  ise ValueError(f
-0001c580: 2269 6e76 616c 6964 2070 6174 7465 726e  "invalid pattern
-0001c590: 2028 7b73 656c 662e 7061 7474 6572 6e21   ({self.pattern!
-0001c5a0: 727d 2920 7061 7373 6564 2074 6f20 5265  r}) passed to Re
-0001c5b0: 6765 7822 290a 0a20 2020 2040 6361 6368  gex")..    @cach
-0001c5c0: 6564 5f70 726f 7065 7274 790a 2020 2020  ed_property.    
-0001c5d0: 6465 6620 7265 5f6d 6174 6368 2873 656c  def re_match(sel
-0001c5e0: 6629 3a0a 2020 2020 2020 2020 7265 7475  f):.        retu
-0001c5f0: 726e 2073 656c 662e 7265 2e6d 6174 6368  rn self.re.match
-0001c600: 0a0a 2020 2020 4063 6163 6865 645f 7072  ..    @cached_pr
-0001c610: 6f70 6572 7479 0a20 2020 2064 6566 206d  operty.    def m
-0001c620: 6179 5265 7475 726e 456d 7074 7928 7365  ayReturnEmpty(se
-0001c630: 6c66 293a 0a20 2020 2020 2020 2072 6574  lf):.        ret
-0001c640: 7572 6e20 7365 6c66 2e72 655f 6d61 7463  urn self.re_matc
-0001c650: 6828 2222 2920 6973 206e 6f74 204e 6f6e  h("") is not Non
-0001c660: 650a 0a20 2020 2064 6566 205f 6765 6e65  e..    def _gene
-0001c670: 7261 7465 4465 6661 756c 744e 616d 6528  rateDefaultName(
-0001c680: 7365 6c66 2920 2d3e 2073 7472 3a0a 2020  self) -> str:.  
-0001c690: 2020 2020 2020 7265 7475 726e 2022 5265        return "Re
-0001c6a0: 3a28 7b7d 2922 2e66 6f72 6d61 7428 7265  :({})".format(re
-0001c6b0: 7072 2873 656c 662e 7061 7474 6572 6e29  pr(self.pattern)
-0001c6c0: 2e72 6570 6c61 6365 2822 5c5c 5c5c 222c  .replace("\\\\",
-0001c6d0: 2022 5c5c 2229 290a 0a20 2020 2064 6566   "\\"))..    def
-0001c6e0: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
-0001c6f0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
-0001c700: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
-0001c710: 0a20 2020 2020 2020 2072 6573 756c 7420  .        result 
-0001c720: 3d20 7365 6c66 2e72 655f 6d61 7463 6828  = self.re_match(
-0001c730: 696e 7374 7269 6e67 2c20 6c6f 6329 0a20  instring, loc). 
-0001c740: 2020 2020 2020 2069 6620 6e6f 7420 7265         if not re
-0001c750: 7375 6c74 3a0a 2020 2020 2020 2020 2020  sult:.          
-0001c760: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
-0001c770: 6570 7469 6f6e 2869 6e73 7472 696e 672c  eption(instring,
-0001c780: 206c 6f63 2c20 7365 6c66 2e65 7272 6d73   loc, self.errms
-0001c790: 672c 2073 656c 6629 0a0a 2020 2020 2020  g, self)..      
-0001c7a0: 2020 6c6f 6320 3d20 7265 7375 6c74 2e65    loc = result.e
-0001c7b0: 6e64 2829 0a20 2020 2020 2020 2072 6574  nd().        ret
-0001c7c0: 203d 2050 6172 7365 5265 7375 6c74 7328   = ParseResults(
-0001c7d0: 7265 7375 6c74 2e67 726f 7570 2829 290a  result.group()).
-0001c7e0: 2020 2020 2020 2020 6420 3d20 7265 7375          d = resu
-0001c7f0: 6c74 2e67 726f 7570 6469 6374 2829 0a20  lt.groupdict(). 
-0001c800: 2020 2020 2020 2069 6620 643a 0a20 2020         if d:.   
-0001c810: 2020 2020 2020 2020 2066 6f72 206b 2c20           for k, 
-0001c820: 7620 696e 2064 2e69 7465 6d73 2829 3a0a  v in d.items():.
-0001c830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c840: 7265 745b 6b5d 203d 2076 0a20 2020 2020  ret[k] = v.     
-0001c850: 2020 2072 6574 7572 6e20 6c6f 632c 2072     return loc, r
-0001c860: 6574 0a0a 2020 2020 6465 6620 7061 7273  et..    def pars
-0001c870: 6549 6d70 6c41 7347 726f 7570 4c69 7374  eImplAsGroupList
-0001c880: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
-0001c890: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
-0001c8a0: 5472 7565 293a 0a20 2020 2020 2020 2072  True):.        r
-0001c8b0: 6573 756c 7420 3d20 7365 6c66 2e72 655f  esult = self.re_
-0001c8c0: 6d61 7463 6828 696e 7374 7269 6e67 2c20  match(instring, 
-0001c8d0: 6c6f 6329 0a20 2020 2020 2020 2069 6620  loc).        if 
-0001c8e0: 6e6f 7420 7265 7375 6c74 3a0a 2020 2020  not result:.    
-0001c8f0: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
-0001c900: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
-0001c910: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
-0001c920: 2e65 7272 6d73 672c 2073 656c 6629 0a0a  .errmsg, self)..
-0001c930: 2020 2020 2020 2020 6c6f 6320 3d20 7265          loc = re
-0001c940: 7375 6c74 2e65 6e64 2829 0a20 2020 2020  sult.end().     
-0001c950: 2020 2072 6574 203d 2072 6573 756c 742e     ret = result.
-0001c960: 6772 6f75 7073 2829 0a20 2020 2020 2020  groups().       
-0001c970: 2072 6574 7572 6e20 6c6f 632c 2072 6574   return loc, ret
-0001c980: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
-0001c990: 6d70 6c41 734d 6174 6368 2873 656c 662c  mplAsMatch(self,
-0001c9a0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
-0001c9b0: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
-0001c9c0: 0a20 2020 2020 2020 2072 6573 756c 7420  .        result 
-0001c9d0: 3d20 7365 6c66 2e72 655f 6d61 7463 6828  = self.re_match(
-0001c9e0: 696e 7374 7269 6e67 2c20 6c6f 6329 0a20  instring, loc). 
-0001c9f0: 2020 2020 2020 2069 6620 6e6f 7420 7265         if not re
-0001ca00: 7375 6c74 3a0a 2020 2020 2020 2020 2020  sult:.          
-0001ca10: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
-0001ca20: 6570 7469 6f6e 2869 6e73 7472 696e 672c  eption(instring,
-0001ca30: 206c 6f63 2c20 7365 6c66 2e65 7272 6d73   loc, self.errms
-0001ca40: 672c 2073 656c 6629 0a0a 2020 2020 2020  g, self)..      
-0001ca50: 2020 6c6f 6320 3d20 7265 7375 6c74 2e65    loc = result.e
-0001ca60: 6e64 2829 0a20 2020 2020 2020 2072 6574  nd().        ret
-0001ca70: 203d 2072 6573 756c 740a 2020 2020 2020   = result.      
-0001ca80: 2020 7265 7475 726e 206c 6f63 2c20 7265    return loc, re
-0001ca90: 740a 0a20 2020 2064 6566 2073 7562 2873  t..    def sub(s
-0001caa0: 656c 662c 2072 6570 6c3a 2073 7472 2920  elf, repl: str) 
-0001cab0: 2d3e 2050 6172 7365 7245 6c65 6d65 6e74  -> ParserElement
-0001cac0: 3a0a 2020 2020 2020 2020 7222 2222 0a20  :.        r""". 
-0001cad0: 2020 2020 2020 2052 6574 7572 6e20 3a63         Return :c
-0001cae0: 6c61 7373 3a60 5265 6765 7860 2077 6974  lass:`Regex` wit
-0001caf0: 6820 616e 2061 7474 6163 6865 6420 7061  h an attached pa
-0001cb00: 7273 6520 6163 7469 6f6e 2074 6f20 7472  rse action to tr
-0001cb10: 616e 7366 6f72 6d20 7468 6520 7061 7273  ansform the pars
-0001cb20: 6564 0a20 2020 2020 2020 2072 6573 756c  ed.        resul
-0001cb30: 7420 6173 2069 6620 6361 6c6c 6564 2075  t as if called u
-0001cb40: 7369 6e67 2060 7265 2e73 7562 2865 7870  sing `re.sub(exp
-0001cb50: 722c 2072 6570 6c2c 2073 7472 696e 6729  r, repl, string)
-0001cb60: 203c 6874 7470 733a 2f2f 646f 6373 2e70   <https://docs.p
-0001cb70: 7974 686f 6e2e 6f72 672f 332f 6c69 6272  ython.org/3/libr
-0001cb80: 6172 792f 7265 2e68 746d 6c23 7265 2e73  ary/re.html#re.s
-0001cb90: 7562 3e60 5f2e 0a0a 2020 2020 2020 2020  ub>`_...        
-0001cba0: 4578 616d 706c 653a 3a0a 0a20 2020 2020  Example::..     
-0001cbb0: 2020 2020 2020 206d 616b 655f 6874 6d6c         make_html
-0001cbc0: 203d 2052 6567 6578 2872 2228 5c77 2b29   = Regex(r"(\w+)
-0001cbd0: 3a28 2e2a 3f29 3a22 292e 7375 6228 7222  :(.*?):").sub(r"
-0001cbe0: 3c5c 313e 5c32 3c2f 5c31 3e22 290a 2020  <\1>\2</\1>").  
-0001cbf0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-0001cc00: 6d61 6b65 5f68 746d 6c2e 7472 616e 7366  make_html.transf
-0001cc10: 6f72 6d5f 7374 7269 6e67 2822 6831 3a6d  orm_string("h1:m
-0001cc20: 6169 6e20 7469 746c 653a 2229 290a 2020  ain title:")).  
-0001cc30: 2020 2020 2020 2020 2020 2320 7072 696e            # prin
-0001cc40: 7473 2022 3c68 313e 6d61 696e 2074 6974  ts "<h1>main tit
-0001cc50: 6c65 3c2f 6831 3e22 0a20 2020 2020 2020  le</h1>".       
-0001cc60: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-0001cc70: 7365 6c66 2e61 7347 726f 7570 4c69 7374  self.asGroupList
-0001cc80: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-0001cc90: 6973 6520 5479 7065 4572 726f 7228 2263  ise TypeError("c
-0001cca0: 616e 6e6f 7420 7573 6520 7375 6228 2920  annot use sub() 
-0001ccb0: 7769 7468 2052 6567 6578 2861 735f 6772  with Regex(as_gr
-0001ccc0: 6f75 705f 6c69 7374 3d54 7275 6529 2229  oup_list=True)")
-0001ccd0: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
-0001cce0: 662e 6173 4d61 7463 6820 616e 6420 6361  f.asMatch and ca
-0001ccf0: 6c6c 6162 6c65 2872 6570 6c29 3a0a 2020  llable(repl):.  
-0001cd00: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0001cd10: 5479 7065 4572 726f 7228 0a20 2020 2020  TypeError(.     
-0001cd20: 2020 2020 2020 2020 2020 2022 6361 6e6e             "cann
-0001cd30: 6f74 2075 7365 2073 7562 2829 2077 6974  ot use sub() wit
-0001cd40: 6820 6120 6361 6c6c 6162 6c65 2077 6974  h a callable wit
-0001cd50: 6820 5265 6765 7828 6173 5f6d 6174 6368  h Regex(as_match
-0001cd60: 3d54 7275 6529 220a 2020 2020 2020 2020  =True)".        
-0001cd70: 2020 2020 290a 0a20 2020 2020 2020 2069      )..        i
-0001cd80: 6620 7365 6c66 2e61 734d 6174 6368 3a0a  f self.asMatch:.
-0001cd90: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
-0001cda0: 2070 6128 746f 6b65 6e73 293a 0a20 2020   pa(tokens):.   
-0001cdb0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0001cdc0: 7572 6e20 746f 6b65 6e73 5b30 5d2e 6578  urn tokens[0].ex
-0001cdd0: 7061 6e64 2872 6570 6c29 0a0a 2020 2020  pand(repl)..    
-0001cde0: 2020 2020 656c 7365 3a0a 0a20 2020 2020      else:..     
-0001cdf0: 2020 2020 2020 2064 6566 2070 6128 746f         def pa(to
-0001ce00: 6b65 6e73 293a 0a20 2020 2020 2020 2020  kens):.         
-0001ce10: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-0001ce20: 6c66 2e72 652e 7375 6228 7265 706c 2c20  lf.re.sub(repl, 
-0001ce30: 746f 6b65 6e73 5b30 5d29 0a0a 2020 2020  tokens[0])..    
-0001ce40: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-0001ce50: 6164 645f 7061 7273 655f 6163 7469 6f6e  add_parse_action
-0001ce60: 2870 6129 0a0a 0a63 6c61 7373 2051 756f  (pa)...class Quo
-0001ce70: 7465 6453 7472 696e 6728 546f 6b65 6e29  tedString(Token)
-0001ce80: 3a0a 2020 2020 7222 2222 0a20 2020 2054  :.    r""".    T
-0001ce90: 6f6b 656e 2066 6f72 206d 6174 6368 696e  oken for matchin
-0001cea0: 6720 7374 7269 6e67 7320 7468 6174 2061  g strings that a
-0001ceb0: 7265 2064 656c 696d 6974 6564 2062 7920  re delimited by 
-0001cec0: 7175 6f74 696e 6720 6368 6172 6163 7465  quoting characte
-0001ced0: 7273 2e0a 0a20 2020 2044 6566 696e 6564  rs...    Defined
-0001cee0: 2077 6974 6820 7468 6520 666f 6c6c 6f77   with the follow
-0001cef0: 696e 6720 7061 7261 6d65 7465 7273 3a0a  ing parameters:.
-0001cf00: 0a20 2020 202d 2060 6071 756f 7465 5f63  .    - ``quote_c
-0001cf10: 6861 7260 6020 2d20 7374 7269 6e67 206f  har`` - string o
-0001cf20: 6620 6f6e 6520 6f72 206d 6f72 6520 6368  f one or more ch
-0001cf30: 6172 6163 7465 7273 2064 6566 696e 696e  aracters definin
-0001cf40: 6720 7468 650a 2020 2020 2020 7175 6f74  g the.      quot
-0001cf50: 6520 6465 6c69 6d69 7469 6e67 2073 7472  e delimiting str
-0001cf60: 696e 670a 2020 2020 2d20 6060 6573 635f  ing.    - ``esc_
-0001cf70: 6368 6172 6060 202d 2063 6861 7261 6374  char`` - charact
-0001cf80: 6572 2074 6f20 7265 5f65 7363 6170 6520  er to re_escape 
-0001cf90: 7175 6f74 6573 2c20 7479 7069 6361 6c6c  quotes, typicall
-0001cfa0: 7920 6261 636b 736c 6173 680a 2020 2020  y backslash.    
-0001cfb0: 2020 2864 6566 6175 6c74 3d20 6060 4e6f    (default= ``No
-0001cfc0: 6e65 6060 290a 2020 2020 2d20 6060 6573  ne``).    - ``es
-0001cfd0: 635f 7175 6f74 6560 6020 2d20 7370 6563  c_quote`` - spec
-0001cfe0: 6961 6c20 7175 6f74 6520 7365 7175 656e  ial quote sequen
-0001cff0: 6365 2074 6f20 7265 5f65 7363 6170 6520  ce to re_escape 
-0001d000: 616e 2065 6d62 6564 6465 6420 7175 6f74  an embedded quot
-0001d010: 650a 2020 2020 2020 7374 7269 6e67 2028  e.      string (
-0001d020: 7375 6368 2061 7320 5351 4c27 7320 6060  such as SQL's ``
-0001d030: 2222 6060 2074 6f20 7265 5f65 7363 6170  ""`` to re_escap
-0001d040: 6520 616e 2065 6d62 6564 6465 6420 6060  e an embedded ``
-0001d050: 2260 6029 0a20 2020 2020 2028 6465 6661  "``).      (defa
-0001d060: 756c 743d 2060 604e 6f6e 6560 6029 0a20  ult= ``None``). 
-0001d070: 2020 202d 2060 606d 756c 7469 6c69 6e65     - ``multiline
-0001d080: 6060 202d 2062 6f6f 6c65 616e 2069 6e64  `` - boolean ind
-0001d090: 6963 6174 696e 6720 7768 6574 6865 7220  icating whether 
-0001d0a0: 7175 6f74 6573 2063 616e 2073 7061 6e0a  quotes can span.
-0001d0b0: 2020 2020 2020 6d75 6c74 6970 6c65 206c        multiple l
-0001d0c0: 696e 6573 2028 6465 6661 756c 743d 2060  ines (default= `
-0001d0d0: 6046 616c 7365 6060 290a 2020 2020 2d20  `False``).    - 
-0001d0e0: 6060 756e 7175 6f74 655f 7265 7375 6c74  ``unquote_result
-0001d0f0: 7360 6020 2d20 626f 6f6c 6561 6e20 696e  s`` - boolean in
-0001d100: 6469 6361 7469 6e67 2077 6865 7468 6572  dicating whether
-0001d110: 2074 6865 206d 6174 6368 6564 2074 6578   the matched tex
-0001d120: 740a 2020 2020 2020 7368 6f75 6c64 2062  t.      should b
-0001d130: 6520 756e 7175 6f74 6564 2028 6465 6661  e unquoted (defa
-0001d140: 756c 743d 2060 6054 7275 6560 6029 0a20  ult= ``True``). 
-0001d150: 2020 202d 2060 6065 6e64 5f71 756f 7465     - ``end_quote
-0001d160: 5f63 6861 7260 6020 2d20 7374 7269 6e67  _char`` - string
-0001d170: 206f 6620 6f6e 6520 6f72 206d 6f72 6520   of one or more 
-0001d180: 6368 6172 6163 7465 7273 2064 6566 696e  characters defin
-0001d190: 696e 6720 7468 650a 2020 2020 2020 656e  ing the.      en
-0001d1a0: 6420 6f66 2074 6865 2071 756f 7465 2064  d of the quote d
-0001d1b0: 656c 696d 6974 6564 2073 7472 696e 6720  elimited string 
-0001d1c0: 2864 6566 6175 6c74 3d20 6060 4e6f 6e65  (default= ``None
-0001d1d0: 6060 2020 3d3e 2073 616d 6520 6173 0a20  ``  => same as. 
-0001d1e0: 2020 2020 2071 756f 7465 5f63 6861 7229       quote_char)
-0001d1f0: 0a20 2020 202d 2060 6063 6f6e 7665 7274  .    - ``convert
-0001d200: 5f77 6869 7465 7370 6163 655f 6573 6361  _whitespace_esca
-0001d210: 7065 7360 6020 2d20 636f 6e76 6572 7420  pes`` - convert 
-0001d220: 6573 6361 7065 6420 7768 6974 6573 7061  escaped whitespa
-0001d230: 6365 0a20 2020 2020 2028 6060 275c 7427  ce.      (``'\t'
-0001d240: 6060 2c20 6060 275c 6e27 6060 2c20 6574  ``, ``'\n'``, et
-0001d250: 632e 2920 746f 2061 6374 7561 6c20 7768  c.) to actual wh
-0001d260: 6974 6573 7061 6365 0a20 2020 2020 2028  itespace.      (
-0001d270: 6465 6661 756c 743d 2060 6054 7275 6560  default= ``True`
-0001d280: 6029 0a0a 2020 2020 4578 616d 706c 653a  `)..    Example:
-0001d290: 3a0a 0a20 2020 2020 2020 2071 7320 3d20  :..        qs = 
-0001d2a0: 5175 6f74 6564 5374 7269 6e67 2827 2227  QuotedString('"'
-0001d2b0: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
-0001d2c0: 7173 2e73 6561 7263 685f 7374 7269 6e67  qs.search_string
-0001d2d0: 2827 6c73 6a64 6620 2254 6869 7320 6973  ('lsjdf "This is
-0001d2e0: 2074 6865 2071 756f 7465 2220 736c 646a   the quote" sldj
-0001d2f0: 6627 2929 0a20 2020 2020 2020 2063 6f6d  f')).        com
-0001d300: 706c 6578 5f71 7320 3d20 5175 6f74 6564  plex_qs = Quoted
-0001d310: 5374 7269 6e67 2827 7b7b 272c 2065 6e64  String('{{', end
-0001d320: 5f71 756f 7465 5f63 6861 723d 277d 7d27  _quote_char='}}'
-0001d330: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
-0001d340: 636f 6d70 6c65 785f 7173 2e73 6561 7263  complex_qs.searc
-0001d350: 685f 7374 7269 6e67 2827 6c73 6a64 6620  h_string('lsjdf 
-0001d360: 7b7b 5468 6973 2069 7320 7468 6520 2271  {{This is the "q
-0001d370: 756f 7465 227d 7d20 736c 646a 6627 2929  uote"}} sldjf'))
-0001d380: 0a20 2020 2020 2020 2073 716c 5f71 7320  .        sql_qs 
-0001d390: 3d20 5175 6f74 6564 5374 7269 6e67 2827  = QuotedString('
-0001d3a0: 2227 2c20 6573 635f 7175 6f74 653d 2722  "', esc_quote='"
-0001d3b0: 2227 290a 2020 2020 2020 2020 7072 696e  "').        prin
-0001d3c0: 7428 7371 6c5f 7173 2e73 6561 7263 685f  t(sql_qs.search_
-0001d3d0: 7374 7269 6e67 2827 6c73 6a64 6620 2254  string('lsjdf "T
-0001d3e0: 6869 7320 6973 2074 6865 2071 756f 7465  his is the quote
-0001d3f0: 2077 6974 6820 2222 656d 6265 6464 6564   with ""embedded
-0001d400: 2222 2071 756f 7465 7322 2073 6c64 6a66  "" quotes" sldjf
-0001d410: 2729 290a 0a20 2020 2070 7269 6e74 733a  '))..    prints:
-0001d420: 3a0a 0a20 2020 2020 2020 205b 5b27 5468  :..        [['Th
-0001d430: 6973 2069 7320 7468 6520 7175 6f74 6527  is is the quote'
-0001d440: 5d5d 0a20 2020 2020 2020 205b 5b27 5468  ]].        [['Th
-0001d450: 6973 2069 7320 7468 6520 2271 756f 7465  is is the "quote
-0001d460: 2227 5d5d 0a20 2020 2020 2020 205b 5b27  "']].        [['
-0001d470: 5468 6973 2069 7320 7468 6520 7175 6f74  This is the quot
-0001d480: 6520 7769 7468 2022 656d 6265 6464 6564  e with "embedded
-0001d490: 2220 7175 6f74 6573 275d 5d0a 2020 2020  " quotes']].    
-0001d4a0: 2222 220a 2020 2020 7773 5f6d 6170 203d  """.    ws_map =
-0001d4b0: 2064 6963 7428 2828 7222 5c74 222c 2022   dict(((r"\t", "
-0001d4c0: 5c74 2229 2c20 2872 225c 6e22 2c20 225c  \t"), (r"\n", "\
-0001d4d0: 6e22 292c 2028 7222 5c66 222c 2022 5c66  n"), (r"\f", "\f
-0001d4e0: 2229 2c20 2872 225c 7222 2c20 225c 7222  "), (r"\r", "\r"
-0001d4f0: 2929 290a 0a20 2020 2064 6566 205f 5f69  )))..    def __i
-0001d500: 6e69 745f 5f28 0a20 2020 2020 2020 2073  nit__(.        s
-0001d510: 656c 662c 0a20 2020 2020 2020 2071 756f  elf,.        quo
-0001d520: 7465 5f63 6861 723a 2073 7472 203d 2022  te_char: str = "
-0001d530: 222c 0a20 2020 2020 2020 2065 7363 5f63  ",.        esc_c
-0001d540: 6861 723a 2074 7970 696e 672e 4f70 7469  har: typing.Opti
-0001d550: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-0001d560: 2c0a 2020 2020 2020 2020 6573 635f 7175  ,.        esc_qu
-0001d570: 6f74 653a 2074 7970 696e 672e 4f70 7469  ote: typing.Opti
-0001d580: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
-0001d590: 2c0a 2020 2020 2020 2020 6d75 6c74 696c  ,.        multil
-0001d5a0: 696e 653a 2062 6f6f 6c20 3d20 4661 6c73  ine: bool = Fals
-0001d5b0: 652c 0a20 2020 2020 2020 2075 6e71 756f  e,.        unquo
-0001d5c0: 7465 5f72 6573 756c 7473 3a20 626f 6f6c  te_results: bool
-0001d5d0: 203d 2054 7275 652c 0a20 2020 2020 2020   = True,.       
-0001d5e0: 2065 6e64 5f71 756f 7465 5f63 6861 723a   end_quote_char:
-0001d5f0: 2074 7970 696e 672e 4f70 7469 6f6e 616c   typing.Optional
-0001d600: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
-0001d610: 2020 2020 2020 636f 6e76 6572 745f 7768        convert_wh
-0001d620: 6974 6573 7061 6365 5f65 7363 6170 6573  itespace_escapes
-0001d630: 3a20 626f 6f6c 203d 2054 7275 652c 0a20  : bool = True,. 
-0001d640: 2020 2020 2020 202a 2c0a 2020 2020 2020         *,.      
-0001d650: 2020 7175 6f74 6543 6861 723a 2073 7472    quoteChar: str
-0001d660: 203d 2022 222c 0a20 2020 2020 2020 2065   = "",.        e
-0001d670: 7363 4368 6172 3a20 7479 7069 6e67 2e4f  scChar: typing.O
-0001d680: 7074 696f 6e61 6c5b 7374 725d 203d 204e  ptional[str] = N
-0001d690: 6f6e 652c 0a20 2020 2020 2020 2065 7363  one,.        esc
-0001d6a0: 5175 6f74 653a 2074 7970 696e 672e 4f70  Quote: typing.Op
-0001d6b0: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
-0001d6c0: 6e65 2c0a 2020 2020 2020 2020 756e 7175  ne,.        unqu
-0001d6d0: 6f74 6552 6573 756c 7473 3a20 626f 6f6c  oteResults: bool
-0001d6e0: 203d 2054 7275 652c 0a20 2020 2020 2020   = True,.       
-0001d6f0: 2065 6e64 5175 6f74 6543 6861 723a 2074   endQuoteChar: t
-0001d700: 7970 696e 672e 4f70 7469 6f6e 616c 5b73  yping.Optional[s
-0001d710: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
-0001d720: 2020 2020 636f 6e76 6572 7457 6869 7465      convertWhite
-0001d730: 7370 6163 6545 7363 6170 6573 3a20 626f  spaceEscapes: bo
-0001d740: 6f6c 203d 2054 7275 652c 0a20 2020 2029  ol = True,.    )
-0001d750: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
-0001d760: 292e 5f5f 696e 6974 5f5f 2829 0a20 2020  ).__init__().   
-0001d770: 2020 2020 2065 7363 4368 6172 203d 2065       escChar = e
-0001d780: 7363 4368 6172 206f 7220 6573 635f 6368  scChar or esc_ch
-0001d790: 6172 0a20 2020 2020 2020 2065 7363 5175  ar.        escQu
-0001d7a0: 6f74 6520 3d20 6573 6351 756f 7465 206f  ote = escQuote o
-0001d7b0: 7220 6573 635f 7175 6f74 650a 2020 2020  r esc_quote.    
-0001d7c0: 2020 2020 756e 7175 6f74 6552 6573 756c      unquoteResul
-0001d7d0: 7473 203d 2075 6e71 756f 7465 5265 7375  ts = unquoteResu
-0001d7e0: 6c74 7320 616e 6420 756e 7175 6f74 655f  lts and unquote_
-0001d7f0: 7265 7375 6c74 730a 2020 2020 2020 2020  results.        
-0001d800: 656e 6451 756f 7465 4368 6172 203d 2065  endQuoteChar = e
-0001d810: 6e64 5175 6f74 6543 6861 7220 6f72 2065  ndQuoteChar or e
-0001d820: 6e64 5f71 756f 7465 5f63 6861 720a 2020  nd_quote_char.  
-0001d830: 2020 2020 2020 636f 6e76 6572 7457 6869        convertWhi
-0001d840: 7465 7370 6163 6545 7363 6170 6573 203d  tespaceEscapes =
-0001d850: 2028 0a20 2020 2020 2020 2020 2020 2063   (.            c
-0001d860: 6f6e 7665 7274 5768 6974 6573 7061 6365  onvertWhitespace
-0001d870: 4573 6361 7065 7320 616e 6420 636f 6e76  Escapes and conv
-0001d880: 6572 745f 7768 6974 6573 7061 6365 5f65  ert_whitespace_e
-0001d890: 7363 6170 6573 0a20 2020 2020 2020 2029  scapes.        )
-0001d8a0: 0a20 2020 2020 2020 2071 756f 7465 5f63  .        quote_c
-0001d8b0: 6861 7220 3d20 7175 6f74 6543 6861 7220  har = quoteChar 
-0001d8c0: 6f72 2071 756f 7465 5f63 6861 720a 0a20  or quote_char.. 
-0001d8d0: 2020 2020 2020 2023 2072 656d 6f76 6520         # remove 
-0001d8e0: 7768 6974 6520 7370 6163 6520 6672 6f6d  white space from
-0001d8f0: 2071 756f 7465 2063 6861 7273 202d 2077   quote chars - w
-0001d900: 6f6e 7420 776f 726b 2061 6e79 7761 790a  ont work anyway.
-0001d910: 2020 2020 2020 2020 7175 6f74 655f 6368          quote_ch
-0001d920: 6172 203d 2071 756f 7465 5f63 6861 722e  ar = quote_char.
-0001d930: 7374 7269 7028 290a 2020 2020 2020 2020  strip().        
-0001d940: 6966 206e 6f74 2071 756f 7465 5f63 6861  if not quote_cha
-0001d950: 723a 0a20 2020 2020 2020 2020 2020 2072  r:.            r
-0001d960: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
-0001d970: 2271 756f 7465 5f63 6861 7220 6361 6e6e  "quote_char cann
-0001d980: 6f74 2062 6520 7468 6520 656d 7074 7920  ot be the empty 
-0001d990: 7374 7269 6e67 2229 0a0a 2020 2020 2020  string")..      
-0001d9a0: 2020 6966 2065 6e64 5175 6f74 6543 6861    if endQuoteCha
-0001d9b0: 7220 6973 204e 6f6e 653a 0a20 2020 2020  r is None:.     
-0001d9c0: 2020 2020 2020 2065 6e64 5175 6f74 6543         endQuoteC
-0001d9d0: 6861 7220 3d20 7175 6f74 655f 6368 6172  har = quote_char
-0001d9e0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0001d9f0: 2020 2020 2020 2020 2020 2065 6e64 5175             endQu
-0001da00: 6f74 6543 6861 7220 3d20 656e 6451 756f  oteChar = endQuo
-0001da10: 7465 4368 6172 2e73 7472 6970 2829 0a20  teChar.strip(). 
-0001da20: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
-0001da30: 7420 656e 6451 756f 7465 4368 6172 3a0a  t endQuoteChar:.
-0001da40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001da50: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
-0001da60: 2822 656e 645f 7175 6f74 655f 6368 6172  ("end_quote_char
-0001da70: 2063 616e 6e6f 7420 6265 2074 6865 2065   cannot be the e
-0001da80: 6d70 7479 2073 7472 696e 6722 290a 0a20  mpty string").. 
-0001da90: 2020 2020 2020 2073 656c 662e 7175 6f74         self.quot
-0001daa0: 6543 6861 723a 2073 7472 203d 2071 756f  eChar: str = quo
-0001dab0: 7465 5f63 6861 720a 2020 2020 2020 2020  te_char.        
-0001dac0: 7365 6c66 2e71 756f 7465 4368 6172 4c65  self.quoteCharLe
-0001dad0: 6e3a 2069 6e74 203d 206c 656e 2871 756f  n: int = len(quo
-0001dae0: 7465 5f63 6861 7229 0a20 2020 2020 2020  te_char).       
-0001daf0: 2073 656c 662e 6669 7273 7451 756f 7465   self.firstQuote
-0001db00: 4368 6172 3a20 7374 7220 3d20 7175 6f74  Char: str = quot
-0001db10: 655f 6368 6172 5b30 5d0a 2020 2020 2020  e_char[0].      
-0001db20: 2020 7365 6c66 2e65 6e64 5175 6f74 6543    self.endQuoteC
-0001db30: 6861 723a 2073 7472 203d 2065 6e64 5175  har: str = endQu
-0001db40: 6f74 6543 6861 720a 2020 2020 2020 2020  oteChar.        
-0001db50: 7365 6c66 2e65 6e64 5175 6f74 6543 6861  self.endQuoteCha
-0001db60: 724c 656e 3a20 696e 7420 3d20 6c65 6e28  rLen: int = len(
-0001db70: 656e 6451 756f 7465 4368 6172 290a 2020  endQuoteChar).  
-0001db80: 2020 2020 2020 7365 6c66 2e65 7363 4368        self.escCh
-0001db90: 6172 3a20 7374 7220 3d20 6573 6343 6861  ar: str = escCha
-0001dba0: 7220 6f72 2022 220a 2020 2020 2020 2020  r or "".        
-0001dbb0: 7365 6c66 2e65 7363 5175 6f74 653a 2073  self.escQuote: s
-0001dbc0: 7472 203d 2065 7363 5175 6f74 6520 6f72  tr = escQuote or
-0001dbd0: 2022 220a 2020 2020 2020 2020 7365 6c66   "".        self
-0001dbe0: 2e75 6e71 756f 7465 5265 7375 6c74 733a  .unquoteResults:
-0001dbf0: 2062 6f6f 6c20 3d20 756e 7175 6f74 6552   bool = unquoteR
-0001dc00: 6573 756c 7473 0a20 2020 2020 2020 2073  esults.        s
-0001dc10: 656c 662e 636f 6e76 6572 7457 6869 7465  elf.convertWhite
-0001dc20: 7370 6163 6545 7363 6170 6573 3a20 626f  spaceEscapes: bo
-0001dc30: 6f6c 203d 2063 6f6e 7665 7274 5768 6974  ol = convertWhit
-0001dc40: 6573 7061 6365 4573 6361 7065 730a 2020  espaceEscapes.  
-0001dc50: 2020 2020 2020 7365 6c66 2e6d 756c 7469        self.multi
-0001dc60: 6c69 6e65 203d 206d 756c 7469 6c69 6e65  line = multiline
-0001dc70: 0a0a 2020 2020 2020 2020 7365 7020 3d20  ..        sep = 
-0001dc80: 2222 0a20 2020 2020 2020 2069 6e6e 6572  "".        inner
-0001dc90: 5f70 6174 7465 726e 203d 2022 220a 0a20  _pattern = "".. 
-0001dca0: 2020 2020 2020 2069 6620 6573 6351 756f         if escQuo
-0001dcb0: 7465 3a0a 2020 2020 2020 2020 2020 2020  te:.            
-0001dcc0: 696e 6e65 725f 7061 7474 6572 6e20 2b3d  inner_pattern +=
-0001dcd0: 2072 6622 7b73 6570 7d28 3f3a 7b72 652e   rf"{sep}(?:{re.
-0001dce0: 6573 6361 7065 2865 7363 5175 6f74 6529  escape(escQuote)
-0001dcf0: 7d29 220a 2020 2020 2020 2020 2020 2020  })".            
-0001dd00: 7365 7020 3d20 227c 220a 0a20 2020 2020  sep = "|"..     
-0001dd10: 2020 2069 6620 6573 6343 6861 723a 0a20     if escChar:. 
-0001dd20: 2020 2020 2020 2020 2020 2069 6e6e 6572             inner
-0001dd30: 5f70 6174 7465 726e 202b 3d20 7266 227b  _pattern += rf"{
-0001dd40: 7365 707d 283f 3a7b 7265 2e65 7363 6170  sep}(?:{re.escap
-0001dd50: 6528 6573 6343 6861 7229 7d2e 2922 0a20  e(escChar)}.)". 
-0001dd60: 2020 2020 2020 2020 2020 2073 6570 203d             sep =
-0001dd70: 2022 7c22 0a20 2020 2020 2020 2020 2020   "|".           
-0001dd80: 2073 656c 662e 6573 6343 6861 7252 6570   self.escCharRep
-0001dd90: 6c61 6365 5061 7474 6572 6e20 3d20 7265  lacePattern = re
-0001dda0: 2e65 7363 6170 6528 6573 6343 6861 7229  .escape(escChar)
-0001ddb0: 202b 2022 282e 2922 0a0a 2020 2020 2020   + "(.)"..      
-0001ddc0: 2020 6966 206c 656e 2873 656c 662e 656e    if len(self.en
-0001ddd0: 6451 756f 7465 4368 6172 2920 3e20 313a  dQuoteChar) > 1:
-0001dde0: 0a20 2020 2020 2020 2020 2020 2069 6e6e  .            inn
-0001ddf0: 6572 5f70 6174 7465 726e 202b 3d20 280a  er_pattern += (.
-0001de00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001de10: 6622 7b73 6570 7d28 3f3a 220a 2020 2020  f"{sep}(?:".    
-0001de20: 2020 2020 2020 2020 2020 2020 2b20 227c              + "|
-0001de30: 222e 6a6f 696e 280a 2020 2020 2020 2020  ".join(.        
-0001de40: 2020 2020 2020 2020 2020 2020 6622 283f              f"(?
-0001de50: 3a7b 7265 2e65 7363 6170 6528 7365 6c66  :{re.escape(self
-0001de60: 2e65 6e64 5175 6f74 6543 6861 725b 3a69  .endQuoteChar[:i
-0001de70: 5d29 7d28 3f21 7b72 652e 6573 6361 7065  ])}(?!{re.escape
-0001de80: 2873 656c 662e 656e 6451 756f 7465 4368  (self.endQuoteCh
-0001de90: 6172 5b69 3a5d 297d 2929 220a 2020 2020  ar[i:])}))".    
-0001dea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001deb0: 666f 7220 6920 696e 2072 616e 6765 286c  for i in range(l
-0001dec0: 656e 2873 656c 662e 656e 6451 756f 7465  en(self.endQuote
-0001ded0: 4368 6172 2920 2d20 312c 2030 2c20 2d31  Char) - 1, 0, -1
-0001dee0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001def0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-0001df00: 2020 2020 2b20 2229 220a 2020 2020 2020      + ")".      
-0001df10: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-0001df20: 2020 2020 7365 7020 3d20 227c 220a 0a20      sep = "|".. 
-0001df30: 2020 2020 2020 2073 656c 662e 666c 6167         self.flag
-0001df40: 7320 3d20 7265 2e52 6567 6578 466c 6167  s = re.RegexFlag
-0001df50: 2830 290a 0a20 2020 2020 2020 2069 6620  (0)..        if 
-0001df60: 6d75 6c74 696c 696e 653a 0a20 2020 2020  multiline:.     
-0001df70: 2020 2020 2020 2073 656c 662e 666c 6167         self.flag
-0001df80: 7320 3d20 7265 2e4d 554c 5449 4c49 4e45  s = re.MULTILINE
-0001df90: 207c 2072 652e 444f 5441 4c4c 0a20 2020   | re.DOTALL.   
-0001dfa0: 2020 2020 2020 2020 2069 6e6e 6572 5f70           inner_p
-0001dfb0: 6174 7465 726e 202b 3d20 280a 2020 2020  attern += (.    
-0001dfc0: 2020 2020 2020 2020 2020 2020 7266 227b              rf"{
-0001dfd0: 7365 707d 283f 3a5b 5e7b 5f65 7363 6170  sep}(?:[^{_escap
-0001dfe0: 655f 7265 6765 785f 7261 6e67 655f 6368  e_regex_range_ch
-0001dff0: 6172 7328 7365 6c66 2e65 6e64 5175 6f74  ars(self.endQuot
-0001e000: 6543 6861 725b 305d 297d 220a 2020 2020  eChar[0])}".    
-0001e010: 2020 2020 2020 2020 2020 2020 7266 227b              rf"{
-0001e020: 285f 6573 6361 7065 5f72 6567 6578 5f72  (_escape_regex_r
-0001e030: 616e 6765 5f63 6861 7273 2865 7363 4368  ange_chars(escCh
-0001e040: 6172 2920 6966 2065 7363 4368 6172 2069  ar) if escChar i
-0001e050: 7320 6e6f 7420 4e6f 6e65 2065 6c73 6520  s not None else 
-0001e060: 2727 297d 5d29 220a 2020 2020 2020 2020  '')}])".        
-0001e070: 2020 2020 290a 2020 2020 2020 2020 656c      ).        el
-0001e080: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0001e090: 696e 6e65 725f 7061 7474 6572 6e20 2b3d  inner_pattern +=
-0001e0a0: 2028 0a20 2020 2020 2020 2020 2020 2020   (.             
-0001e0b0: 2020 2072 6622 7b73 6570 7d28 3f3a 5b5e     rf"{sep}(?:[^
-0001e0c0: 7b5f 6573 6361 7065 5f72 6567 6578 5f72  {_escape_regex_r
-0001e0d0: 616e 6765 5f63 6861 7273 2873 656c 662e  ange_chars(self.
-0001e0e0: 656e 6451 756f 7465 4368 6172 5b30 5d29  endQuoteChar[0])
-0001e0f0: 7d5c 6e5c 7222 0a20 2020 2020 2020 2020  }\n\r".         
-0001e100: 2020 2020 2020 2072 6622 7b28 5f65 7363         rf"{(_esc
-0001e110: 6170 655f 7265 6765 785f 7261 6e67 655f  ape_regex_range_
-0001e120: 6368 6172 7328 6573 6343 6861 7229 2069  chars(escChar) i
-0001e130: 6620 6573 6343 6861 7220 6973 206e 6f74  f escChar is not
-0001e140: 204e 6f6e 6520 656c 7365 2027 2729 7d5d   None else '')}]
-0001e150: 2922 0a20 2020 2020 2020 2020 2020 2029  )".            )
-0001e160: 0a0a 2020 2020 2020 2020 7365 6c66 2e70  ..        self.p
-0001e170: 6174 7465 726e 203d 2022 222e 6a6f 696e  attern = "".join
-0001e180: 280a 2020 2020 2020 2020 2020 2020 5b0a  (.            [.
-0001e190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e1a0: 7265 2e65 7363 6170 6528 7365 6c66 2e71  re.escape(self.q
-0001e1b0: 756f 7465 4368 6172 292c 0a20 2020 2020  uoteChar),.     
-0001e1c0: 2020 2020 2020 2020 2020 2022 283f 3a22             "(?:"
-0001e1d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0001e1e0: 2020 696e 6e65 725f 7061 7474 6572 6e2c    inner_pattern,
-0001e1f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001e200: 2022 292a 222c 0a20 2020 2020 2020 2020   ")*",.         
-0001e210: 2020 2020 2020 2072 652e 6573 6361 7065         re.escape
-0001e220: 2873 656c 662e 656e 6451 756f 7465 4368  (self.endQuoteCh
-0001e230: 6172 292c 0a20 2020 2020 2020 2020 2020  ar),.           
-0001e240: 205d 0a20 2020 2020 2020 2029 0a0a 2020   ].        )..  
-0001e250: 2020 2020 2020 6966 2073 656c 662e 756e        if self.un
-0001e260: 7175 6f74 6552 6573 756c 7473 3a0a 2020  quoteResults:.  
-0001e270: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
-0001e280: 662e 636f 6e76 6572 7457 6869 7465 7370  f.convertWhitesp
-0001e290: 6163 6545 7363 6170 6573 3a0a 2020 2020  aceEscapes:.    
-0001e2a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001e2b0: 2e75 6e71 756f 7465 5f73 6361 6e5f 7265  .unquote_scan_re
-0001e2c0: 203d 2072 652e 636f 6d70 696c 6528 0a20   = re.compile(. 
-0001e2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e2e0: 2020 2072 6622 287b 277c 272e 6a6f 696e     rf"({'|'.join
-0001e2f0: 2872 652e 6573 6361 7065 286b 2920 666f  (re.escape(k) fo
-0001e300: 7220 6b20 696e 2073 656c 662e 7773 5f6d  r k in self.ws_m
-0001e310: 6170 297d 297c 287b 7265 2e65 7363 6170  ap)})|({re.escap
-0001e320: 6528 7365 6c66 2e65 7363 4368 6172 297d  e(self.escChar)}
-0001e330: 2e29 7c28 5c6e 7c2e 2922 2c0a 2020 2020  .)|(\n|.)",.    
-0001e340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e350: 666c 6167 733d 7365 6c66 2e66 6c61 6773  flags=self.flags
-0001e360: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0001e370: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-0001e380: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0001e390: 2020 2020 2020 7365 6c66 2e75 6e71 756f        self.unquo
-0001e3a0: 7465 5f73 6361 6e5f 7265 203d 2072 652e  te_scan_re = re.
-0001e3b0: 636f 6d70 696c 6528 0a20 2020 2020 2020  compile(.       
-0001e3c0: 2020 2020 2020 2020 2020 2020 2072 6622               rf"
-0001e3d0: 287b 7265 2e65 7363 6170 6528 7365 6c66  ({re.escape(self
-0001e3e0: 2e65 7363 4368 6172 297d 2e29 7c28 5c6e  .escChar)}.)|(\n
-0001e3f0: 7c2e 2922 2c20 666c 6167 733d 7365 6c66  |.)", flags=self
-0001e400: 2e66 6c61 6773 0a20 2020 2020 2020 2020  .flags.         
-0001e410: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
-0001e420: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-0001e430: 2020 2073 656c 662e 7265 203d 2072 652e     self.re = re.
-0001e440: 636f 6d70 696c 6528 7365 6c66 2e70 6174  compile(self.pat
-0001e450: 7465 726e 2c20 7365 6c66 2e66 6c61 6773  tern, self.flags
-0001e460: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-0001e470: 6c66 2e72 6553 7472 696e 6720 3d20 7365  lf.reString = se
-0001e480: 6c66 2e70 6174 7465 726e 0a20 2020 2020  lf.pattern.     
-0001e490: 2020 2020 2020 2073 656c 662e 7265 5f6d         self.re_m
-0001e4a0: 6174 6368 203d 2073 656c 662e 7265 2e6d  atch = self.re.m
-0001e4b0: 6174 6368 0a20 2020 2020 2020 2065 7863  atch.        exc
-0001e4c0: 6570 7420 7265 2e65 7272 6f72 3a0a 2020  ept re.error:.  
-0001e4d0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0001e4e0: 5661 6c75 6545 7272 6f72 2866 2269 6e76  ValueError(f"inv
-0001e4f0: 616c 6964 2070 6174 7465 726e 207b 7365  alid pattern {se
-0001e500: 6c66 2e70 6174 7465 726e 2172 7d20 7061  lf.pattern!r} pa
-0001e510: 7373 6564 2074 6f20 5265 6765 7822 290a  ssed to Regex").
-0001e520: 0a20 2020 2020 2020 2073 656c 662e 6572  .        self.er
-0001e530: 726d 7367 203d 2022 4578 7065 6374 6564  rmsg = "Expected
-0001e540: 2022 202b 2073 656c 662e 6e61 6d65 0a20   " + self.name. 
-0001e550: 2020 2020 2020 2073 656c 662e 6d61 7949         self.mayI
-0001e560: 6e64 6578 4572 726f 7220 3d20 4661 6c73  ndexError = Fals
-0001e570: 650a 2020 2020 2020 2020 7365 6c66 2e6d  e.        self.m
-0001e580: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
-0001e590: 5472 7565 0a0a 2020 2020 6465 6620 5f67  True..    def _g
-0001e5a0: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
-0001e5b0: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
-0001e5c0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-0001e5d0: 2e71 756f 7465 4368 6172 203d 3d20 7365  .quoteChar == se
-0001e5e0: 6c66 2e65 6e64 5175 6f74 6543 6861 7220  lf.endQuoteChar 
-0001e5f0: 616e 6420 6973 696e 7374 616e 6365 2873  and isinstance(s
-0001e600: 656c 662e 7175 6f74 6543 6861 722c 2073  elf.quoteChar, s
-0001e610: 7472 5f74 7970 6529 3a0a 2020 2020 2020  tr_type):.      
-0001e620: 2020 2020 2020 7265 7475 726e 2066 2273        return f"s
-0001e630: 7472 696e 6720 656e 636c 6f73 6564 2069  tring enclosed i
-0001e640: 6e20 7b73 656c 662e 7175 6f74 6543 6861  n {self.quoteCha
-0001e650: 7221 727d 220a 0a20 2020 2020 2020 2072  r!r}"..        r
-0001e660: 6574 7572 6e20 6622 7175 6f74 6564 2073  eturn f"quoted s
-0001e670: 7472 696e 672c 2073 7461 7274 696e 6720  tring, starting 
-0001e680: 7769 7468 207b 7365 6c66 2e71 756f 7465  with {self.quote
-0001e690: 4368 6172 7d20 656e 6469 6e67 2077 6974  Char} ending wit
-0001e6a0: 6820 7b73 656c 662e 656e 6451 756f 7465  h {self.endQuote
-0001e6b0: 4368 6172 7d22 0a0a 2020 2020 6465 6620  Char}"..    def 
-0001e6c0: 7061 7273 6549 6d70 6c28 7365 6c66 2c20  parseImpl(self, 
-0001e6d0: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
-0001e6e0: 6f41 6374 696f 6e73 3d54 7275 6529 3a0a  oActions=True):.
-0001e6f0: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
-0001e700: 2028 0a20 2020 2020 2020 2020 2020 2069   (.            i
-0001e710: 6e73 7472 696e 675b 6c6f 635d 203d 3d20  nstring[loc] == 
-0001e720: 7365 6c66 2e66 6972 7374 5175 6f74 6543  self.firstQuoteC
-0001e730: 6861 720a 2020 2020 2020 2020 2020 2020  har.            
-0001e740: 616e 6420 7365 6c66 2e72 655f 6d61 7463  and self.re_matc
-0001e750: 6828 696e 7374 7269 6e67 2c20 6c6f 6329  h(instring, loc)
-0001e760: 0a20 2020 2020 2020 2020 2020 206f 7220  .            or 
-0001e770: 4e6f 6e65 0a20 2020 2020 2020 2029 0a20  None.        ). 
-0001e780: 2020 2020 2020 2069 6620 6e6f 7420 7265         if not re
-0001e790: 7375 6c74 3a0a 2020 2020 2020 2020 2020  sult:.          
-0001e7a0: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
-0001e7b0: 6570 7469 6f6e 2869 6e73 7472 696e 672c  eption(instring,
-0001e7c0: 206c 6f63 2c20 7365 6c66 2e65 7272 6d73   loc, self.errms
-0001e7d0: 672c 2073 656c 6629 0a0a 2020 2020 2020  g, self)..      
-0001e7e0: 2020 6c6f 6320 3d20 7265 7375 6c74 2e65    loc = result.e
-0001e7f0: 6e64 2829 0a20 2020 2020 2020 2072 6574  nd().        ret
-0001e800: 203d 2072 6573 756c 742e 6772 6f75 7028   = result.group(
-0001e810: 290a 0a20 2020 2020 2020 2069 6620 7365  )..        if se
-0001e820: 6c66 2e75 6e71 756f 7465 5265 7375 6c74  lf.unquoteResult
-0001e830: 733a 0a20 2020 2020 2020 2020 2020 2023  s:.            #
-0001e840: 2073 7472 6970 206f 6666 2071 756f 7465   strip off quote
-0001e850: 730a 2020 2020 2020 2020 2020 2020 7265  s.            re
-0001e860: 7420 3d20 7265 745b 7365 6c66 2e71 756f  t = ret[self.quo
-0001e870: 7465 4368 6172 4c65 6e20 3a20 2d73 656c  teCharLen : -sel
-0001e880: 662e 656e 6451 756f 7465 4368 6172 4c65  f.endQuoteCharLe
-0001e890: 6e5d 0a0a 2020 2020 2020 2020 2020 2020  n]..            
-0001e8a0: 6966 2069 7369 6e73 7461 6e63 6528 7265  if isinstance(re
-0001e8b0: 742c 2073 7472 5f74 7970 6529 3a0a 2020  t, str_type):.  
-0001e8c0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0001e8d0: 2073 656c 662e 636f 6e76 6572 7457 6869   self.convertWhi
-0001e8e0: 7465 7370 6163 6545 7363 6170 6573 3a0a  tespaceEscapes:.
-0001e8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e900: 2020 2020 7265 7420 3d20 2222 2e6a 6f69      ret = "".joi
-0001e910: 6e28 0a20 2020 2020 2020 2020 2020 2020  n(.             
-0001e920: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001e930: 7773 5f6d 6170 5b6d 6174 6368 2e67 726f  ws_map[match.gro
-0001e940: 7570 2831 295d 0a20 2020 2020 2020 2020  up(1)].         
-0001e950: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0001e960: 6620 6d61 7463 682e 6772 6f75 7028 3129  f match.group(1)
-0001e970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001e980: 2020 2020 2020 2020 2065 6c73 6520 6d61           else ma
-0001e990: 7463 682e 6772 6f75 7028 3229 5b2d 315d  tch.group(2)[-1]
-0001e9a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001e9b0: 2020 2020 2020 2020 2069 6620 6d61 7463           if matc
-0001e9c0: 682e 6772 6f75 7028 3229 0a20 2020 2020  h.group(2).     
-0001e9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e9e0: 2020 2065 6c73 6520 6d61 7463 682e 6772     else match.gr
-0001e9f0: 6f75 7028 3329 0a20 2020 2020 2020 2020  oup(3).         
-0001ea00: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0001ea10: 6f72 206d 6174 6368 2069 6e20 7365 6c66  or match in self
-0001ea20: 2e75 6e71 756f 7465 5f73 6361 6e5f 7265  .unquote_scan_re
-0001ea30: 2e66 696e 6469 7465 7228 7265 7429 0a20  .finditer(ret). 
+0001adb0: 203d 2072 652e 636f 6d70 696c 6528 7365   = re.compile(se
+0001adc0: 6c66 2e72 6553 7472 696e 6729 0a20 2020  lf.reString).   
+0001add0: 2020 2020 2020 2020 2065 7863 6570 7420           except 
+0001ade0: 7265 2e65 7272 6f72 3a0a 2020 2020 2020  re.error:.      
+0001adf0: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
+0001ae00: 6520 3d20 4e6f 6e65 2020 2320 7479 7065  e = None  # type
+0001ae10: 3a20 6967 6e6f 7265 5b61 7373 6967 6e6d  : ignore[assignm
+0001ae20: 656e 745d 0a20 2020 2020 2020 2020 2020  ent].           
+0001ae30: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0001ae40: 2020 2020 2020 2073 656c 662e 7265 5f6d         self.re_m
+0001ae50: 6174 6368 203d 2073 656c 662e 7265 2e6d  atch = self.re.m
+0001ae60: 6174 6368 0a20 2020 2020 2020 2020 2020  atch.           
+0001ae70: 2020 2020 2073 656c 662e 7061 7273 6549       self.parseI
+0001ae80: 6d70 6c20 3d20 7365 6c66 2e70 6172 7365  mpl = self.parse
+0001ae90: 496d 706c 5f72 6567 6578 2020 2320 7479  Impl_regex  # ty
+0001aea0: 7065 3a20 6967 6e6f 7265 5b61 7373 6967  pe: ignore[assig
+0001aeb0: 6e6d 656e 745d 0a0a 2020 2020 6465 6620  nment]..    def 
+0001aec0: 5f67 656e 6572 6174 6544 6566 6175 6c74  _generateDefault
+0001aed0: 4e61 6d65 2873 656c 6629 202d 3e20 7374  Name(self) -> st
+0001aee0: 723a 0a20 2020 2020 2020 2064 6566 2063  r:.        def c
+0001aef0: 6861 7273 4173 5374 7228 7329 3a0a 2020  harsAsStr(s):.  
+0001af00: 2020 2020 2020 2020 2020 6d61 785f 7265            max_re
+0001af10: 7072 5f6c 656e 203d 2031 360a 2020 2020  pr_len = 16.    
+0001af20: 2020 2020 2020 2020 7320 3d20 5f63 6f6c          s = _col
+0001af30: 6c61 7073 655f 7374 7269 6e67 5f74 6f5f  lapse_string_to_
+0001af40: 7261 6e67 6573 2873 2c20 7265 5f65 7363  ranges(s, re_esc
+0001af50: 6170 653d 4661 6c73 6529 0a20 2020 2020  ape=False).     
+0001af60: 2020 2020 2020 2069 6620 6c65 6e28 7329         if len(s)
+0001af70: 203e 206d 6178 5f72 6570 725f 6c65 6e3a   > max_repr_len:
+0001af80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001af90: 2072 6574 7572 6e20 735b 3a20 6d61 785f   return s[: max_
+0001afa0: 7265 7072 5f6c 656e 202d 2033 5d20 2b20  repr_len - 3] + 
+0001afb0: 222e 2e2e 220a 2020 2020 2020 2020 2020  "...".          
+0001afc0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001afd0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+0001afe0: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
+0001aff0: 662e 696e 6974 4368 6172 7320 213d 2073  f.initChars != s
+0001b000: 656c 662e 626f 6479 4368 6172 733a 0a20  elf.bodyChars:. 
+0001b010: 2020 2020 2020 2020 2020 2062 6173 6520             base 
+0001b020: 3d20 6622 573a 287b 6368 6172 7341 7353  = f"W:({charsAsS
+0001b030: 7472 2873 656c 662e 696e 6974 4368 6172  tr(self.initChar
+0001b040: 7329 7d2c 207b 6368 6172 7341 7353 7472  s)}, {charsAsStr
+0001b050: 2873 656c 662e 626f 6479 4368 6172 7329  (self.bodyChars)
+0001b060: 7d29 220a 2020 2020 2020 2020 656c 7365  })".        else
+0001b070: 3a0a 2020 2020 2020 2020 2020 2020 6261  :.            ba
+0001b080: 7365 203d 2066 2257 3a28 7b63 6861 7273  se = f"W:({chars
+0001b090: 4173 5374 7228 7365 6c66 2e69 6e69 7443  AsStr(self.initC
+0001b0a0: 6861 7273 297d 2922 0a0a 2020 2020 2020  hars)})"..      
+0001b0b0: 2020 2320 6164 6420 6c65 6e67 7468 2073    # add length s
+0001b0c0: 7065 6369 6669 6361 7469 6f6e 0a20 2020  pecification.   
+0001b0d0: 2020 2020 2069 6620 7365 6c66 2e6d 696e       if self.min
+0001b0e0: 4c65 6e20 3e20 3120 6f72 2073 656c 662e  Len > 1 or self.
+0001b0f0: 6d61 784c 656e 2021 3d20 5f4d 4158 5f49  maxLen != _MAX_I
+0001b100: 4e54 3a0a 2020 2020 2020 2020 2020 2020  NT:.            
+0001b110: 6966 2073 656c 662e 6d69 6e4c 656e 203d  if self.minLen =
+0001b120: 3d20 7365 6c66 2e6d 6178 4c65 6e3a 0a20  = self.maxLen:. 
+0001b130: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001b140: 6620 7365 6c66 2e6d 696e 4c65 6e20 3d3d  f self.minLen ==
+0001b150: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
+0001b160: 2020 2020 2020 2020 7265 7475 726e 2062          return b
+0001b170: 6173 655b 323a 5d0a 2020 2020 2020 2020  ase[2:].        
+0001b180: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0001b190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b1a0: 2020 7265 7475 726e 2062 6173 6520 2b20    return base + 
+0001b1b0: 6622 7b7b 7b73 656c 662e 6d69 6e4c 656e  f"{{{self.minLen
+0001b1c0: 7d7d 7d22 0a20 2020 2020 2020 2020 2020  }}}".           
+0001b1d0: 2065 6c69 6620 7365 6c66 2e6d 6178 4c65   elif self.maxLe
+0001b1e0: 6e20 3d3d 205f 4d41 585f 494e 543a 0a20  n == _MAX_INT:. 
+0001b1f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0001b200: 6574 7572 6e20 6261 7365 202b 2066 227b  eturn base + f"{
+0001b210: 7b7b 7365 6c66 2e6d 696e 4c65 6e7d 2c2e  {{self.minLen},.
+0001b220: 2e2e 7d7d 220a 2020 2020 2020 2020 2020  ..}}".          
+0001b230: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001b240: 2020 2020 2020 2020 7265 7475 726e 2062          return b
+0001b250: 6173 6520 2b20 6622 7b7b 7b73 656c 662e  ase + f"{{{self.
+0001b260: 6d69 6e4c 656e 7d2c 7b73 656c 662e 6d61  minLen},{self.ma
+0001b270: 784c 656e 7d7d 7d22 0a20 2020 2020 2020  xLen}}}".       
+0001b280: 2072 6574 7572 6e20 6261 7365 0a0a 2020   return base..  
+0001b290: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
+0001b2a0: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+0001b2b0: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
+0001b2c0: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
+0001b2d0: 2069 6e73 7472 696e 675b 6c6f 635d 206e   instring[loc] n
+0001b2e0: 6f74 2069 6e20 7365 6c66 2e69 6e69 7443  ot in self.initC
+0001b2f0: 6861 7273 3a0a 2020 2020 2020 2020 2020  hars:.          
+0001b300: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
+0001b310: 6570 7469 6f6e 2869 6e73 7472 696e 672c  eption(instring,
+0001b320: 206c 6f63 2c20 7365 6c66 2e65 7272 6d73   loc, self.errms
+0001b330: 672c 2073 656c 6629 0a0a 2020 2020 2020  g, self)..      
+0001b340: 2020 7374 6172 7420 3d20 6c6f 630a 2020    start = loc.  
+0001b350: 2020 2020 2020 6c6f 6320 2b3d 2031 0a20        loc += 1. 
+0001b360: 2020 2020 2020 2069 6e73 7472 6c65 6e20         instrlen 
+0001b370: 3d20 6c65 6e28 696e 7374 7269 6e67 290a  = len(instring).
+0001b380: 2020 2020 2020 2020 626f 6479 6368 6172          bodychar
+0001b390: 7320 3d20 7365 6c66 2e62 6f64 7943 6861  s = self.bodyCha
+0001b3a0: 7273 0a20 2020 2020 2020 206d 6178 6c6f  rs.        maxlo
+0001b3b0: 6320 3d20 7374 6172 7420 2b20 7365 6c66  c = start + self
+0001b3c0: 2e6d 6178 4c65 6e0a 2020 2020 2020 2020  .maxLen.        
+0001b3d0: 6d61 786c 6f63 203d 206d 696e 286d 6178  maxloc = min(max
+0001b3e0: 6c6f 632c 2069 6e73 7472 6c65 6e29 0a20  loc, instrlen). 
+0001b3f0: 2020 2020 2020 2077 6869 6c65 206c 6f63         while loc
+0001b400: 203c 206d 6178 6c6f 6320 616e 6420 696e   < maxloc and in
+0001b410: 7374 7269 6e67 5b6c 6f63 5d20 696e 2062  string[loc] in b
+0001b420: 6f64 7963 6861 7273 3a0a 2020 2020 2020  odychars:.      
+0001b430: 2020 2020 2020 6c6f 6320 2b3d 2031 0a0a        loc += 1..
+0001b440: 2020 2020 2020 2020 7468 726f 7745 7863          throwExc
+0001b450: 6570 7469 6f6e 203d 2046 616c 7365 0a20  eption = False. 
+0001b460: 2020 2020 2020 2069 6620 6c6f 6320 2d20         if loc - 
+0001b470: 7374 6172 7420 3c20 7365 6c66 2e6d 696e  start < self.min
+0001b480: 4c65 6e3a 0a20 2020 2020 2020 2020 2020  Len:.           
+0001b490: 2074 6872 6f77 4578 6365 7074 696f 6e20   throwException 
+0001b4a0: 3d20 5472 7565 0a20 2020 2020 2020 2065  = True.        e
+0001b4b0: 6c69 6620 7365 6c66 2e6d 6178 5370 6563  lif self.maxSpec
+0001b4c0: 6966 6965 6420 616e 6420 6c6f 6320 3c20  ified and loc < 
+0001b4d0: 696e 7374 726c 656e 2061 6e64 2069 6e73  instrlen and ins
+0001b4e0: 7472 696e 675b 6c6f 635d 2069 6e20 626f  tring[loc] in bo
+0001b4f0: 6479 6368 6172 733a 0a20 2020 2020 2020  dychars:.       
+0001b500: 2020 2020 2074 6872 6f77 4578 6365 7074       throwExcept
+0001b510: 696f 6e20 3d20 5472 7565 0a20 2020 2020  ion = True.     
+0001b520: 2020 2065 6c69 6620 7365 6c66 2e61 734b     elif self.asK
+0001b530: 6579 776f 7264 3a0a 2020 2020 2020 2020  eyword:.        
+0001b540: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
+0001b550: 2020 2020 2020 2020 2073 7461 7274 203e           start >
+0001b560: 2030 0a20 2020 2020 2020 2020 2020 2020   0.             
+0001b570: 2020 2061 6e64 2069 6e73 7472 696e 675b     and instring[
+0001b580: 7374 6172 7420 2d20 315d 2069 6e20 626f  start - 1] in bo
+0001b590: 6479 6368 6172 730a 2020 2020 2020 2020  dychars.        
+0001b5a0: 2020 2020 2020 2020 6f72 206c 6f63 203c          or loc <
+0001b5b0: 2069 6e73 7472 6c65 6e0a 2020 2020 2020   instrlen.      
+0001b5c0: 2020 2020 2020 2020 2020 616e 6420 696e            and in
+0001b5d0: 7374 7269 6e67 5b6c 6f63 5d20 696e 2062  string[loc] in b
+0001b5e0: 6f64 7963 6861 7273 0a20 2020 2020 2020  odychars.       
+0001b5f0: 2020 2020 2029 3a0a 2020 2020 2020 2020       ):.        
+0001b600: 2020 2020 2020 2020 7468 726f 7745 7863          throwExc
+0001b610: 6570 7469 6f6e 203d 2054 7275 650a 0a20  eption = True.. 
+0001b620: 2020 2020 2020 2069 6620 7468 726f 7745         if throwE
+0001b630: 7863 6570 7469 6f6e 3a0a 2020 2020 2020  xception:.      
+0001b640: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
+0001b650: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
+0001b660: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
+0001b670: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
+0001b680: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
+0001b690: 2c20 696e 7374 7269 6e67 5b73 7461 7274  , instring[start
+0001b6a0: 3a6c 6f63 5d0a 0a20 2020 2064 6566 2070  :loc]..    def p
+0001b6b0: 6172 7365 496d 706c 5f72 6567 6578 2873  arseImpl_regex(s
+0001b6c0: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+0001b6d0: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+0001b6e0: 7565 293a 0a20 2020 2020 2020 2072 6573  ue):.        res
+0001b6f0: 756c 7420 3d20 7365 6c66 2e72 655f 6d61  ult = self.re_ma
+0001b700: 7463 6828 696e 7374 7269 6e67 2c20 6c6f  tch(instring, lo
+0001b710: 6329 0a20 2020 2020 2020 2069 6620 6e6f  c).        if no
+0001b720: 7420 7265 7375 6c74 3a0a 2020 2020 2020  t result:.      
+0001b730: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
+0001b740: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
+0001b750: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
+0001b760: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
+0001b770: 2020 2020 2020 6c6f 6320 3d20 7265 7375        loc = resu
+0001b780: 6c74 2e65 6e64 2829 0a20 2020 2020 2020  lt.end().       
+0001b790: 2072 6574 7572 6e20 6c6f 632c 2072 6573   return loc, res
+0001b7a0: 756c 742e 6772 6f75 7028 290a 0a0a 636c  ult.group()...cl
+0001b7b0: 6173 7320 4368 6172 2857 6f72 6429 3a0a  ass Char(Word):.
+0001b7c0: 2020 2020 2222 2241 2073 686f 7274 2d63      """A short-c
+0001b7d0: 7574 2063 6c61 7373 2066 6f72 2064 6566  ut class for def
+0001b7e0: 696e 696e 6720 3a63 6c61 7373 3a60 576f  ining :class:`Wo
+0001b7f0: 7264 6020 6060 2863 6861 7261 6374 6572  rd` ``(character
+0001b800: 732c 2065 7861 6374 3d31 2960 602c 0a20  s, exact=1)``,. 
+0001b810: 2020 2077 6865 6e20 6465 6669 6e69 6e67     when defining
+0001b820: 2061 206d 6174 6368 206f 6620 616e 7920   a match of any 
+0001b830: 7369 6e67 6c65 2063 6861 7261 6374 6572  single character
+0001b840: 2069 6e20 6120 7374 7269 6e67 206f 660a   in a string of.
+0001b850: 2020 2020 6368 6172 6163 7465 7273 2e0a      characters..
+0001b860: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
+0001b870: 205f 5f69 6e69 745f 5f28 0a20 2020 2020   __init__(.     
+0001b880: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0001b890: 2063 6861 7273 6574 3a20 7374 722c 0a20   charset: str,. 
+0001b8a0: 2020 2020 2020 2061 735f 6b65 7977 6f72         as_keywor
+0001b8b0: 643a 2062 6f6f 6c20 3d20 4661 6c73 652c  d: bool = False,
+0001b8c0: 0a20 2020 2020 2020 2065 7863 6c75 6465  .        exclude
+0001b8d0: 5f63 6861 7273 3a20 7479 7069 6e67 2e4f  _chars: typing.O
+0001b8e0: 7074 696f 6e61 6c5b 7374 725d 203d 204e  ptional[str] = N
+0001b8f0: 6f6e 652c 0a20 2020 2020 2020 202a 2c0a  one,.        *,.
+0001b900: 2020 2020 2020 2020 6173 4b65 7977 6f72          asKeywor
+0001b910: 643a 2062 6f6f 6c20 3d20 4661 6c73 652c  d: bool = False,
+0001b920: 0a20 2020 2020 2020 2065 7863 6c75 6465  .        exclude
+0001b930: 4368 6172 733a 2074 7970 696e 672e 4f70  Chars: typing.Op
+0001b940: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
+0001b950: 6e65 2c0a 2020 2020 293a 0a20 2020 2020  ne,.    ):.     
+0001b960: 2020 2061 734b 6579 776f 7264 203d 2061     asKeyword = a
+0001b970: 734b 6579 776f 7264 206f 7220 6173 5f6b  sKeyword or as_k
+0001b980: 6579 776f 7264 0a20 2020 2020 2020 2065  eyword.        e
+0001b990: 7863 6c75 6465 4368 6172 7320 3d20 6578  xcludeChars = ex
+0001b9a0: 636c 7564 6543 6861 7273 206f 7220 6578  cludeChars or ex
+0001b9b0: 636c 7564 655f 6368 6172 730a 2020 2020  clude_chars.    
+0001b9c0: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+0001b9d0: 6974 5f5f 280a 2020 2020 2020 2020 2020  it__(.          
+0001b9e0: 2020 6368 6172 7365 742c 2065 7861 6374    charset, exact
+0001b9f0: 3d31 2c20 6173 5f6b 6579 776f 7264 3d61  =1, as_keyword=a
+0001ba00: 734b 6579 776f 7264 2c20 6578 636c 7564  sKeyword, exclud
+0001ba10: 655f 6368 6172 733d 6578 636c 7564 6543  e_chars=excludeC
+0001ba20: 6861 7273 0a20 2020 2020 2020 2029 0a0a  hars.        )..
+0001ba30: 0a63 6c61 7373 2052 6567 6578 2854 6f6b  .class Regex(Tok
+0001ba40: 656e 293a 0a20 2020 2072 2222 2254 6f6b  en):.    r"""Tok
+0001ba50: 656e 2066 6f72 206d 6174 6368 696e 6720  en for matching 
+0001ba60: 7374 7269 6e67 7320 7468 6174 206d 6174  strings that mat
+0001ba70: 6368 2061 2067 6976 656e 2072 6567 756c  ch a given regul
+0001ba80: 6172 0a20 2020 2065 7870 7265 7373 696f  ar.    expressio
+0001ba90: 6e2e 2044 6566 696e 6564 2077 6974 6820  n. Defined with 
+0001baa0: 7374 7269 6e67 2073 7065 6369 6679 696e  string specifyin
+0001bab0: 6720 7468 6520 7265 6775 6c61 7220 6578  g the regular ex
+0001bac0: 7072 6573 7369 6f6e 2069 6e0a 2020 2020  pression in.    
+0001bad0: 6120 666f 726d 2072 6563 6f67 6e69 7a65  a form recognize
+0001bae0: 6420 6279 2074 6865 2073 7464 6c69 6220  d by the stdlib 
+0001baf0: 5079 7468 6f6e 2020 6072 6520 6d6f 6475  Python  `re modu
+0001bb00: 6c65 203c 6874 7470 733a 2f2f 646f 6373  le <https://docs
+0001bb10: 2e70 7974 686f 6e2e 6f72 672f 332f 6c69  .python.org/3/li
+0001bb20: 6272 6172 792f 7265 2e68 746d 6c3e 605f  brary/re.html>`_
+0001bb30: 2e0a 2020 2020 4966 2074 6865 2067 6976  ..    If the giv
+0001bb40: 656e 2072 6567 6578 2063 6f6e 7461 696e  en regex contain
+0001bb50: 7320 6e61 6d65 6420 6772 6f75 7073 2028  s named groups (
+0001bb60: 6465 6669 6e65 6420 7573 696e 6720 6060  defined using ``
+0001bb70: 283f 503c 6e61 6d65 3e2e 2e2e 2960 6029  (?P<name>...)``)
+0001bb80: 2c0a 2020 2020 7468 6573 6520 7769 6c6c  ,.    these will
+0001bb90: 2062 6520 7072 6573 6572 7665 6420 6173   be preserved as
+0001bba0: 206e 616d 6564 203a 636c 6173 733a 6050   named :class:`P
+0001bbb0: 6172 7365 5265 7375 6c74 7360 2e0a 0a20  arseResults`... 
+0001bbc0: 2020 2049 6620 696e 7374 6561 6420 6f66     If instead of
+0001bbd0: 2074 6865 2050 7974 686f 6e20 7374 646c   the Python stdl
+0001bbe0: 6962 2060 6072 6560 6020 6d6f 6475 6c65  ib ``re`` module
+0001bbf0: 2079 6f75 2077 6973 6820 746f 2075 7365   you wish to use
+0001bc00: 2061 2064 6966 6665 7265 6e74 2052 4520   a different RE 
+0001bc10: 6d6f 6475 6c65 0a20 2020 2028 7375 6368  module.    (such
+0001bc20: 2061 7320 7468 6520 6060 7265 6765 7860   as the ``regex`
+0001bc30: 6020 6d6f 6475 6c65 292c 2079 6f75 2063  ` module), you c
+0001bc40: 616e 2064 6f20 736f 2062 7920 6275 696c  an do so by buil
+0001bc50: 6469 6e67 2079 6f75 7220 6060 5265 6765  ding your ``Rege
+0001bc60: 7860 6020 6f62 6a65 6374 2077 6974 680a  x`` object with.
+0001bc70: 2020 2020 6120 636f 6d70 696c 6564 2052      a compiled R
+0001bc80: 4520 7468 6174 2077 6173 2063 6f6d 7069  E that was compi
+0001bc90: 6c65 6420 7573 696e 6720 6060 7265 6765  led using ``rege
+0001bca0: 7860 602e 0a0a 2020 2020 4578 616d 706c  x``...    Exampl
+0001bcb0: 653a 3a0a 0a20 2020 2020 2020 2072 6561  e::..        rea
+0001bcc0: 6c6e 756d 203d 2052 6567 6578 2872 225b  lnum = Regex(r"[
+0001bcd0: 2b2d 5d3f 5c64 2b5c 2e5c 642a 2229 0a20  +-]?\d+\.\d*"). 
+0001bce0: 2020 2020 2020 2023 2072 6566 3a20 6874         # ref: ht
+0001bcf0: 7470 733a 2f2f 7374 6163 6b6f 7665 7266  tps://stackoverf
+0001bd00: 6c6f 772e 636f 6d2f 7175 6573 7469 6f6e  low.com/question
+0001bd10: 732f 3236 3733 3939 2f68 6f77 2d64 6f2d  s/267399/how-do-
+0001bd20: 796f 752d 6d61 7463 682d 6f6e 6c79 2d76  you-match-only-v
+0001bd30: 616c 6964 2d72 6f6d 616e 2d6e 756d 6572  alid-roman-numer
+0001bd40: 616c 732d 7769 7468 2d61 2d72 6567 756c  als-with-a-regul
+0001bd50: 6172 2d65 7870 7265 7373 696f 6e0a 2020  ar-expression.  
+0001bd60: 2020 2020 2020 726f 6d61 6e20 3d20 5265        roman = Re
+0001bd70: 6765 7828 7222 4d7b 302c 347d 2843 4d7c  gex(r"M{0,4}(CM|
+0001bd80: 4344 7c44 3f7b 302c 337d 2928 5843 7c58  CD|D?{0,3})(XC|X
+0001bd90: 4c7c 4c3f 587b 302c 337d 2928 4958 7c49  L|L?X{0,3})(IX|I
+0001bda0: 567c 563f 497b 302c 337d 2922 290a 0a20  V|V?I{0,3})").. 
+0001bdb0: 2020 2020 2020 2023 206e 616d 6564 2066         # named f
+0001bdc0: 6965 6c64 7320 696e 2061 2072 6567 6578  ields in a regex
+0001bdd0: 2077 696c 6c20 6265 2072 6574 7572 6e65   will be returne
+0001bde0: 6420 6173 206e 616d 6564 2072 6573 756c  d as named resul
+0001bdf0: 7473 0a20 2020 2020 2020 2064 6174 6520  ts.        date 
+0001be00: 3d20 5265 6765 7828 7227 283f 503c 7965  = Regex(r'(?P<ye
+0001be10: 6172 3e5c 647b 347d 292d 283f 503c 6d6f  ar>\d{4})-(?P<mo
+0001be20: 6e74 683e 5c64 5c64 3f29 2d28 3f50 3c64  nth>\d\d?)-(?P<d
+0001be30: 6179 3e5c 645c 643f 2927 290a 0a20 2020  ay>\d\d?)')..   
+0001be40: 2020 2020 2023 2074 6865 2052 6567 6578       # the Regex
+0001be50: 2063 6c61 7373 2077 696c 6c20 6163 6365   class will acce
+0001be60: 7074 2072 6527 7320 636f 6d70 696c 6564  pt re's compiled
+0001be70: 2075 7369 6e67 2074 6865 2072 6567 6578   using the regex
+0001be80: 206d 6f64 756c 650a 2020 2020 2020 2020   module.        
+0001be90: 696d 706f 7274 2072 6567 6578 0a20 2020  import regex.   
+0001bea0: 2020 2020 2070 6172 7365 7220 3d20 7070       parser = pp
+0001beb0: 2e52 6567 6578 2872 6567 6578 2e63 6f6d  .Regex(regex.com
+0001bec0: 7069 6c65 2872 275b 302d 395d 2729 290a  pile(r'[0-9]')).
+0001bed0: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
+0001bee0: 205f 5f69 6e69 745f 5f28 0a20 2020 2020   __init__(.     
+0001bef0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0001bf00: 2070 6174 7465 726e 3a20 416e 792c 0a20   pattern: Any,. 
+0001bf10: 2020 2020 2020 2066 6c61 6773 3a20 556e         flags: Un
+0001bf20: 696f 6e5b 7265 2e52 6567 6578 466c 6167  ion[re.RegexFlag
+0001bf30: 2c20 696e 745d 203d 2030 2c0a 2020 2020  , int] = 0,.    
+0001bf40: 2020 2020 6173 5f67 726f 7570 5f6c 6973      as_group_lis
+0001bf50: 743a 2062 6f6f 6c20 3d20 4661 6c73 652c  t: bool = False,
+0001bf60: 0a20 2020 2020 2020 2061 735f 6d61 7463  .        as_matc
+0001bf70: 683a 2062 6f6f 6c20 3d20 4661 6c73 652c  h: bool = False,
+0001bf80: 0a20 2020 2020 2020 202a 2c0a 2020 2020  .        *,.    
+0001bf90: 2020 2020 6173 4772 6f75 704c 6973 743a      asGroupList:
+0001bfa0: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
+0001bfb0: 2020 2020 2020 2061 734d 6174 6368 3a20         asMatch: 
+0001bfc0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+0001bfd0: 2020 293a 0a20 2020 2020 2020 2022 2222    ):.        """
+0001bfe0: 5468 6520 7061 7261 6d65 7465 7273 2060  The parameters `
+0001bff0: 6070 6174 7465 726e 6060 2061 6e64 2060  `pattern`` and `
+0001c000: 6066 6c61 6773 6060 2061 7265 2070 6173  `flags`` are pas
+0001c010: 7365 640a 2020 2020 2020 2020 746f 2074  sed.        to t
+0001c020: 6865 2060 6072 652e 636f 6d70 696c 6528  he ``re.compile(
+0001c030: 2960 6020 6675 6e63 7469 6f6e 2061 732d  )`` function as-
+0001c040: 6973 2e20 5365 6520 7468 6520 5079 7468  is. See the Pyth
+0001c050: 6f6e 0a20 2020 2020 2020 2060 7265 206d  on.        `re m
+0001c060: 6f64 756c 6520 3c68 7474 7073 3a2f 2f64  odule <https://d
+0001c070: 6f63 732e 7079 7468 6f6e 2e6f 7267 2f33  ocs.python.org/3
+0001c080: 2f6c 6962 7261 7279 2f72 652e 6874 6d6c  /library/re.html
+0001c090: 3e60 5f20 6d6f 6475 6c65 2066 6f72 2061  >`_ module for a
+0001c0a0: 6e0a 2020 2020 2020 2020 6578 706c 616e  n.        explan
+0001c0b0: 6174 696f 6e20 6f66 2074 6865 2061 6363  ation of the acc
+0001c0c0: 6570 7461 626c 6520 7061 7474 6572 6e73  eptable patterns
+0001c0d0: 2061 6e64 2066 6c61 6773 2e0a 2020 2020   and flags..    
+0001c0e0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001c0f0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
+0001c100: 2829 0a20 2020 2020 2020 2061 7347 726f  ().        asGro
+0001c110: 7570 4c69 7374 203d 2061 7347 726f 7570  upList = asGroup
+0001c120: 4c69 7374 206f 7220 6173 5f67 726f 7570  List or as_group
+0001c130: 5f6c 6973 740a 2020 2020 2020 2020 6173  _list.        as
+0001c140: 4d61 7463 6820 3d20 6173 4d61 7463 6820  Match = asMatch 
+0001c150: 6f72 2061 735f 6d61 7463 680a 0a20 2020  or as_match..   
+0001c160: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+0001c170: 6365 2870 6174 7465 726e 2c20 7374 725f  ce(pattern, str_
+0001c180: 7479 7065 293a 0a20 2020 2020 2020 2020  type):.         
+0001c190: 2020 2069 6620 6e6f 7420 7061 7474 6572     if not patter
+0001c1a0: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
+0001c1b0: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
+0001c1c0: 726f 7228 226e 756c 6c20 7374 7269 6e67  ror("null string
+0001c1d0: 2070 6173 7365 6420 746f 2052 6567 6578   passed to Regex
+0001c1e0: 3b20 7573 6520 456d 7074 7928 2920 696e  ; use Empty() in
+0001c1f0: 7374 6561 6422 290a 0a20 2020 2020 2020  stead")..       
+0001c200: 2020 2020 2073 656c 662e 5f72 6520 3d20       self._re = 
+0001c210: 4e6f 6e65 0a20 2020 2020 2020 2020 2020  None.           
+0001c220: 2073 656c 662e 7265 5374 7269 6e67 203d   self.reString =
+0001c230: 2073 656c 662e 7061 7474 6572 6e20 3d20   self.pattern = 
+0001c240: 7061 7474 6572 6e0a 2020 2020 2020 2020  pattern.        
+0001c250: 2020 2020 7365 6c66 2e66 6c61 6773 203d      self.flags =
+0001c260: 2066 6c61 6773 0a0a 2020 2020 2020 2020   flags..        
+0001c270: 656c 6966 2068 6173 6174 7472 2870 6174  elif hasattr(pat
+0001c280: 7465 726e 2c20 2270 6174 7465 726e 2229  tern, "pattern")
+0001c290: 2061 6e64 2068 6173 6174 7472 2870 6174   and hasattr(pat
+0001c2a0: 7465 726e 2c20 226d 6174 6368 2229 3a0a  tern, "match"):.
+0001c2b0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001c2c0: 2e5f 7265 203d 2070 6174 7465 726e 0a20  ._re = pattern. 
+0001c2d0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001c2e0: 7061 7474 6572 6e20 3d20 7365 6c66 2e72  pattern = self.r
+0001c2f0: 6553 7472 696e 6720 3d20 7061 7474 6572  eString = patter
+0001c300: 6e2e 7061 7474 6572 6e0a 2020 2020 2020  n.pattern.      
+0001c310: 2020 2020 2020 7365 6c66 2e66 6c61 6773        self.flags
+0001c320: 203d 2066 6c61 6773 0a0a 2020 2020 2020   = flags..      
+0001c330: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001c340: 2020 2020 7261 6973 6520 5479 7065 4572      raise TypeEr
+0001c350: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
+0001c360: 2020 2020 2022 5265 6765 7820 6d61 7920       "Regex may 
+0001c370: 6f6e 6c79 2062 6520 636f 6e73 7472 7563  only be construc
+0001c380: 7465 6420 7769 7468 2061 2073 7472 696e  ted with a strin
+0001c390: 6720 6f72 2061 2063 6f6d 7069 6c65 6420  g or a compiled 
+0001c3a0: 5245 206f 626a 6563 7422 0a20 2020 2020  RE object".     
+0001c3b0: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+0001c3c0: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
+0001c3d0: 2245 7870 6563 7465 6420 2220 2b20 7365  "Expected " + se
+0001c3e0: 6c66 2e6e 616d 650a 2020 2020 2020 2020  lf.name.        
+0001c3f0: 7365 6c66 2e6d 6179 496e 6465 7845 7272  self.mayIndexErr
+0001c400: 6f72 203d 2046 616c 7365 0a20 2020 2020  or = False.     
+0001c410: 2020 2073 656c 662e 6173 4772 6f75 704c     self.asGroupL
+0001c420: 6973 7420 3d20 6173 4772 6f75 704c 6973  ist = asGroupLis
+0001c430: 740a 2020 2020 2020 2020 7365 6c66 2e61  t.        self.a
+0001c440: 734d 6174 6368 203d 2061 734d 6174 6368  sMatch = asMatch
+0001c450: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0001c460: 2e61 7347 726f 7570 4c69 7374 3a0a 2020  .asGroupList:.  
+0001c470: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
+0001c480: 6172 7365 496d 706c 203d 2073 656c 662e  arseImpl = self.
+0001c490: 7061 7273 6549 6d70 6c41 7347 726f 7570  parseImplAsGroup
+0001c4a0: 4c69 7374 2020 2320 7479 7065 3a20 6967  List  # type: ig
+0001c4b0: 6e6f 7265 205b 6173 7369 676e 6d65 6e74  nore [assignment
+0001c4c0: 5d0a 2020 2020 2020 2020 6966 2073 656c  ].        if sel
+0001c4d0: 662e 6173 4d61 7463 683a 0a20 2020 2020  f.asMatch:.     
+0001c4e0: 2020 2020 2020 2073 656c 662e 7061 7273         self.pars
+0001c4f0: 6549 6d70 6c20 3d20 7365 6c66 2e70 6172  eImpl = self.par
+0001c500: 7365 496d 706c 4173 4d61 7463 6820 2023  seImplAsMatch  #
+0001c510: 2074 7970 653a 2069 676e 6f72 6520 5b61   type: ignore [a
+0001c520: 7373 6967 6e6d 656e 745d 0a0a 2020 2020  ssignment]..    
+0001c530: 4063 6163 6865 645f 7072 6f70 6572 7479  @cached_property
+0001c540: 0a20 2020 2064 6566 2072 6528 7365 6c66  .    def re(self
+0001c550: 293a 0a20 2020 2020 2020 2069 6620 7365  ):.        if se
+0001c560: 6c66 2e5f 7265 3a0a 2020 2020 2020 2020  lf._re:.        
+0001c570: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+0001c580: 5f72 650a 2020 2020 2020 2020 656c 7365  _re.        else
+0001c590: 3a0a 2020 2020 2020 2020 2020 2020 7472  :.            tr
+0001c5a0: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
+0001c5b0: 2020 2072 6574 7572 6e20 7265 2e63 6f6d     return re.com
+0001c5c0: 7069 6c65 2873 656c 662e 7061 7474 6572  pile(self.patter
+0001c5d0: 6e2c 2073 656c 662e 666c 6167 7329 0a20  n, self.flags). 
+0001c5e0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0001c5f0: 7420 7265 2e65 7272 6f72 3a0a 2020 2020  t re.error:.    
+0001c600: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0001c610: 6520 5661 6c75 6545 7272 6f72 2866 2269  e ValueError(f"i
+0001c620: 6e76 616c 6964 2070 6174 7465 726e 2028  nvalid pattern (
+0001c630: 7b73 656c 662e 7061 7474 6572 6e21 727d  {self.pattern!r}
+0001c640: 2920 7061 7373 6564 2074 6f20 5265 6765  ) passed to Rege
+0001c650: 7822 290a 0a20 2020 2040 6361 6368 6564  x")..    @cached
+0001c660: 5f70 726f 7065 7274 790a 2020 2020 6465  _property.    de
+0001c670: 6620 7265 5f6d 6174 6368 2873 656c 6629  f re_match(self)
+0001c680: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+0001c690: 2073 656c 662e 7265 2e6d 6174 6368 0a0a   self.re.match..
+0001c6a0: 2020 2020 4063 6163 6865 645f 7072 6f70      @cached_prop
+0001c6b0: 6572 7479 0a20 2020 2064 6566 206d 6179  erty.    def may
+0001c6c0: 5265 7475 726e 456d 7074 7928 7365 6c66  ReturnEmpty(self
+0001c6d0: 293a 0a20 2020 2020 2020 2072 6574 7572  ):.        retur
+0001c6e0: 6e20 7365 6c66 2e72 655f 6d61 7463 6828  n self.re_match(
+0001c6f0: 2222 2920 6973 206e 6f74 204e 6f6e 650a  "") is not None.
+0001c700: 0a20 2020 2064 6566 205f 6765 6e65 7261  .    def _genera
+0001c710: 7465 4465 6661 756c 744e 616d 6528 7365  teDefaultName(se
+0001c720: 6c66 2920 2d3e 2073 7472 3a0a 2020 2020  lf) -> str:.    
+0001c730: 2020 2020 7265 7475 726e 2022 5265 3a28      return "Re:(
+0001c740: 7b7d 2922 2e66 6f72 6d61 7428 7265 7072  {})".format(repr
+0001c750: 2873 656c 662e 7061 7474 6572 6e29 2e72  (self.pattern).r
+0001c760: 6570 6c61 6365 2822 5c5c 5c5c 222c 2022  eplace("\\\\", "
+0001c770: 5c5c 2229 290a 0a20 2020 2064 6566 2070  \\"))..    def p
+0001c780: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
+0001c790: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+0001c7a0: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
+0001c7b0: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+0001c7c0: 7365 6c66 2e72 655f 6d61 7463 6828 696e  self.re_match(in
+0001c7d0: 7374 7269 6e67 2c20 6c6f 6329 0a20 2020  string, loc).   
+0001c7e0: 2020 2020 2069 6620 6e6f 7420 7265 7375       if not resu
+0001c7f0: 6c74 3a0a 2020 2020 2020 2020 2020 2020  lt:.            
+0001c800: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
+0001c810: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
+0001c820: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
+0001c830: 2073 656c 6629 0a0a 2020 2020 2020 2020   self)..        
+0001c840: 6c6f 6320 3d20 7265 7375 6c74 2e65 6e64  loc = result.end
+0001c850: 2829 0a20 2020 2020 2020 2072 6574 203d  ().        ret =
+0001c860: 2050 6172 7365 5265 7375 6c74 7328 7265   ParseResults(re
+0001c870: 7375 6c74 2e67 726f 7570 2829 290a 2020  sult.group()).  
+0001c880: 2020 2020 2020 6420 3d20 7265 7375 6c74        d = result
+0001c890: 2e67 726f 7570 6469 6374 2829 0a20 2020  .groupdict().   
+0001c8a0: 2020 2020 2069 6620 643a 0a20 2020 2020       if d:.     
+0001c8b0: 2020 2020 2020 2066 6f72 206b 2c20 7620         for k, v 
+0001c8c0: 696e 2064 2e69 7465 6d73 2829 3a0a 2020  in d.items():.  
+0001c8d0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0001c8e0: 745b 6b5d 203d 2076 0a20 2020 2020 2020  t[k] = v.       
+0001c8f0: 2072 6574 7572 6e20 6c6f 632c 2072 6574   return loc, ret
+0001c900: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
+0001c910: 6d70 6c41 7347 726f 7570 4c69 7374 2873  mplAsGroupList(s
+0001c920: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+0001c930: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+0001c940: 7565 293a 0a20 2020 2020 2020 2072 6573  ue):.        res
+0001c950: 756c 7420 3d20 7365 6c66 2e72 655f 6d61  ult = self.re_ma
+0001c960: 7463 6828 696e 7374 7269 6e67 2c20 6c6f  tch(instring, lo
+0001c970: 6329 0a20 2020 2020 2020 2069 6620 6e6f  c).        if no
+0001c980: 7420 7265 7375 6c74 3a0a 2020 2020 2020  t result:.      
+0001c990: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
+0001c9a0: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
+0001c9b0: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
+0001c9c0: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
+0001c9d0: 2020 2020 2020 6c6f 6320 3d20 7265 7375        loc = resu
+0001c9e0: 6c74 2e65 6e64 2829 0a20 2020 2020 2020  lt.end().       
+0001c9f0: 2072 6574 203d 2072 6573 756c 742e 6772   ret = result.gr
+0001ca00: 6f75 7073 2829 0a20 2020 2020 2020 2072  oups().        r
+0001ca10: 6574 7572 6e20 6c6f 632c 2072 6574 0a0a  eturn loc, ret..
+0001ca20: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
+0001ca30: 6c41 734d 6174 6368 2873 656c 662c 2069  lAsMatch(self, i
+0001ca40: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+0001ca50: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
+0001ca60: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+0001ca70: 7365 6c66 2e72 655f 6d61 7463 6828 696e  self.re_match(in
+0001ca80: 7374 7269 6e67 2c20 6c6f 6329 0a20 2020  string, loc).   
+0001ca90: 2020 2020 2069 6620 6e6f 7420 7265 7375       if not resu
+0001caa0: 6c74 3a0a 2020 2020 2020 2020 2020 2020  lt:.            
+0001cab0: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
+0001cac0: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
+0001cad0: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
+0001cae0: 2073 656c 6629 0a0a 2020 2020 2020 2020   self)..        
+0001caf0: 6c6f 6320 3d20 7265 7375 6c74 2e65 6e64  loc = result.end
+0001cb00: 2829 0a20 2020 2020 2020 2072 6574 203d  ().        ret =
+0001cb10: 2072 6573 756c 740a 2020 2020 2020 2020   result.        
+0001cb20: 7265 7475 726e 206c 6f63 2c20 7265 740a  return loc, ret.
+0001cb30: 0a20 2020 2064 6566 2073 7562 2873 656c  .    def sub(sel
+0001cb40: 662c 2072 6570 6c3a 2073 7472 2920 2d3e  f, repl: str) ->
+0001cb50: 2050 6172 7365 7245 6c65 6d65 6e74 3a0a   ParserElement:.
+0001cb60: 2020 2020 2020 2020 7222 2222 0a20 2020          r""".   
+0001cb70: 2020 2020 2052 6574 7572 6e20 3a63 6c61       Return :cla
+0001cb80: 7373 3a60 5265 6765 7860 2077 6974 6820  ss:`Regex` with 
+0001cb90: 616e 2061 7474 6163 6865 6420 7061 7273  an attached pars
+0001cba0: 6520 6163 7469 6f6e 2074 6f20 7472 616e  e action to tran
+0001cbb0: 7366 6f72 6d20 7468 6520 7061 7273 6564  sform the parsed
+0001cbc0: 0a20 2020 2020 2020 2072 6573 756c 7420  .        result 
+0001cbd0: 6173 2069 6620 6361 6c6c 6564 2075 7369  as if called usi
+0001cbe0: 6e67 2060 7265 2e73 7562 2865 7870 722c  ng `re.sub(expr,
+0001cbf0: 2072 6570 6c2c 2073 7472 696e 6729 203c   repl, string) <
+0001cc00: 6874 7470 733a 2f2f 646f 6373 2e70 7974  https://docs.pyt
+0001cc10: 686f 6e2e 6f72 672f 332f 6c69 6272 6172  hon.org/3/librar
+0001cc20: 792f 7265 2e68 746d 6c23 7265 2e73 7562  y/re.html#re.sub
+0001cc30: 3e60 5f2e 0a0a 2020 2020 2020 2020 4578  >`_...        Ex
+0001cc40: 616d 706c 653a 3a0a 0a20 2020 2020 2020  ample::..       
+0001cc50: 2020 2020 206d 616b 655f 6874 6d6c 203d       make_html =
+0001cc60: 2052 6567 6578 2872 2228 5c77 2b29 3a28   Regex(r"(\w+):(
+0001cc70: 2e2a 3f29 3a22 292e 7375 6228 7222 3c5c  .*?):").sub(r"<\
+0001cc80: 313e 5c32 3c2f 5c31 3e22 290a 2020 2020  1>\2</\1>").    
+0001cc90: 2020 2020 2020 2020 7072 696e 7428 6d61          print(ma
+0001cca0: 6b65 5f68 746d 6c2e 7472 616e 7366 6f72  ke_html.transfor
+0001ccb0: 6d5f 7374 7269 6e67 2822 6831 3a6d 6169  m_string("h1:mai
+0001ccc0: 6e20 7469 746c 653a 2229 290a 2020 2020  n title:")).    
+0001ccd0: 2020 2020 2020 2020 2320 7072 696e 7473          # prints
+0001cce0: 2022 3c68 313e 6d61 696e 2074 6974 6c65   "<h1>main title
+0001ccf0: 3c2f 6831 3e22 0a20 2020 2020 2020 2022  </h1>".        "
+0001cd00: 2222 0a20 2020 2020 2020 2069 6620 7365  "".        if se
+0001cd10: 6c66 2e61 7347 726f 7570 4c69 7374 3a0a  lf.asGroupList:.
+0001cd20: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0001cd30: 6520 5479 7065 4572 726f 7228 2263 616e  e TypeError("can
+0001cd40: 6e6f 7420 7573 6520 7375 6228 2920 7769  not use sub() wi
+0001cd50: 7468 2052 6567 6578 2861 735f 6772 6f75  th Regex(as_grou
+0001cd60: 705f 6c69 7374 3d54 7275 6529 2229 0a0a  p_list=True)")..
+0001cd70: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+0001cd80: 6173 4d61 7463 6820 616e 6420 6361 6c6c  asMatch and call
+0001cd90: 6162 6c65 2872 6570 6c29 3a0a 2020 2020  able(repl):.    
+0001cda0: 2020 2020 2020 2020 7261 6973 6520 5479          raise Ty
+0001cdb0: 7065 4572 726f 7228 0a20 2020 2020 2020  peError(.       
+0001cdc0: 2020 2020 2020 2020 2022 6361 6e6e 6f74           "cannot
+0001cdd0: 2075 7365 2073 7562 2829 2077 6974 6820   use sub() with 
+0001cde0: 6120 6361 6c6c 6162 6c65 2077 6974 6820  a callable with 
+0001cdf0: 5265 6765 7828 6173 5f6d 6174 6368 3d54  Regex(as_match=T
+0001ce00: 7275 6529 220a 2020 2020 2020 2020 2020  rue)".          
+0001ce10: 2020 290a 0a20 2020 2020 2020 2069 6620    )..        if 
+0001ce20: 7365 6c66 2e61 734d 6174 6368 3a0a 0a20  self.asMatch:.. 
+0001ce30: 2020 2020 2020 2020 2020 2064 6566 2070             def p
+0001ce40: 6128 746f 6b65 6e73 293a 0a20 2020 2020  a(tokens):.     
+0001ce50: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0001ce60: 6e20 746f 6b65 6e73 5b30 5d2e 6578 7061  n tokens[0].expa
+0001ce70: 6e64 2872 6570 6c29 0a0a 2020 2020 2020  nd(repl)..      
+0001ce80: 2020 656c 7365 3a0a 0a20 2020 2020 2020    else:..       
+0001ce90: 2020 2020 2064 6566 2070 6128 746f 6b65       def pa(toke
+0001cea0: 6e73 293a 0a20 2020 2020 2020 2020 2020  ns):.           
+0001ceb0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+0001cec0: 2e72 652e 7375 6228 7265 706c 2c20 746f  .re.sub(repl, to
+0001ced0: 6b65 6e73 5b30 5d29 0a0a 2020 2020 2020  kens[0])..      
+0001cee0: 2020 7265 7475 726e 2073 656c 662e 6164    return self.ad
+0001cef0: 645f 7061 7273 655f 6163 7469 6f6e 2870  d_parse_action(p
+0001cf00: 6129 0a0a 0a63 6c61 7373 2051 756f 7465  a)...class Quote
+0001cf10: 6453 7472 696e 6728 546f 6b65 6e29 3a0a  dString(Token):.
+0001cf20: 2020 2020 7222 2222 0a20 2020 2054 6f6b      r""".    Tok
+0001cf30: 656e 2066 6f72 206d 6174 6368 696e 6720  en for matching 
+0001cf40: 7374 7269 6e67 7320 7468 6174 2061 7265  strings that are
+0001cf50: 2064 656c 696d 6974 6564 2062 7920 7175   delimited by qu
+0001cf60: 6f74 696e 6720 6368 6172 6163 7465 7273  oting characters
+0001cf70: 2e0a 0a20 2020 2044 6566 696e 6564 2077  ...    Defined w
+0001cf80: 6974 6820 7468 6520 666f 6c6c 6f77 696e  ith the followin
+0001cf90: 6720 7061 7261 6d65 7465 7273 3a0a 0a20  g parameters:.. 
+0001cfa0: 2020 202d 2060 6071 756f 7465 5f63 6861     - ``quote_cha
+0001cfb0: 7260 6020 2d20 7374 7269 6e67 206f 6620  r`` - string of 
+0001cfc0: 6f6e 6520 6f72 206d 6f72 6520 6368 6172  one or more char
+0001cfd0: 6163 7465 7273 2064 6566 696e 696e 6720  acters defining 
+0001cfe0: 7468 650a 2020 2020 2020 7175 6f74 6520  the.      quote 
+0001cff0: 6465 6c69 6d69 7469 6e67 2073 7472 696e  delimiting strin
+0001d000: 670a 2020 2020 2d20 6060 6573 635f 6368  g.    - ``esc_ch
+0001d010: 6172 6060 202d 2063 6861 7261 6374 6572  ar`` - character
+0001d020: 2074 6f20 7265 5f65 7363 6170 6520 7175   to re_escape qu
+0001d030: 6f74 6573 2c20 7479 7069 6361 6c6c 7920  otes, typically 
+0001d040: 6261 636b 736c 6173 680a 2020 2020 2020  backslash.      
+0001d050: 2864 6566 6175 6c74 3d20 6060 4e6f 6e65  (default= ``None
+0001d060: 6060 290a 2020 2020 2d20 6060 6573 635f  ``).    - ``esc_
+0001d070: 7175 6f74 6560 6020 2d20 7370 6563 6961  quote`` - specia
+0001d080: 6c20 7175 6f74 6520 7365 7175 656e 6365  l quote sequence
+0001d090: 2074 6f20 7265 5f65 7363 6170 6520 616e   to re_escape an
+0001d0a0: 2065 6d62 6564 6465 6420 7175 6f74 650a   embedded quote.
+0001d0b0: 2020 2020 2020 7374 7269 6e67 2028 7375        string (su
+0001d0c0: 6368 2061 7320 5351 4c27 7320 6060 2222  ch as SQL's ``""
+0001d0d0: 6060 2074 6f20 7265 5f65 7363 6170 6520  `` to re_escape 
+0001d0e0: 616e 2065 6d62 6564 6465 6420 6060 2260  an embedded ``"`
+0001d0f0: 6029 0a20 2020 2020 2028 6465 6661 756c  `).      (defaul
+0001d100: 743d 2060 604e 6f6e 6560 6029 0a20 2020  t= ``None``).   
+0001d110: 202d 2060 606d 756c 7469 6c69 6e65 6060   - ``multiline``
+0001d120: 202d 2062 6f6f 6c65 616e 2069 6e64 6963   - boolean indic
+0001d130: 6174 696e 6720 7768 6574 6865 7220 7175  ating whether qu
+0001d140: 6f74 6573 2063 616e 2073 7061 6e0a 2020  otes can span.  
+0001d150: 2020 2020 6d75 6c74 6970 6c65 206c 696e      multiple lin
+0001d160: 6573 2028 6465 6661 756c 743d 2060 6046  es (default= ``F
+0001d170: 616c 7365 6060 290a 2020 2020 2d20 6060  alse``).    - ``
+0001d180: 756e 7175 6f74 655f 7265 7375 6c74 7360  unquote_results`
+0001d190: 6020 2d20 626f 6f6c 6561 6e20 696e 6469  ` - boolean indi
+0001d1a0: 6361 7469 6e67 2077 6865 7468 6572 2074  cating whether t
+0001d1b0: 6865 206d 6174 6368 6564 2074 6578 740a  he matched text.
+0001d1c0: 2020 2020 2020 7368 6f75 6c64 2062 6520        should be 
+0001d1d0: 756e 7175 6f74 6564 2028 6465 6661 756c  unquoted (defaul
+0001d1e0: 743d 2060 6054 7275 6560 6029 0a20 2020  t= ``True``).   
+0001d1f0: 202d 2060 6065 6e64 5f71 756f 7465 5f63   - ``end_quote_c
+0001d200: 6861 7260 6020 2d20 7374 7269 6e67 206f  har`` - string o
+0001d210: 6620 6f6e 6520 6f72 206d 6f72 6520 6368  f one or more ch
+0001d220: 6172 6163 7465 7273 2064 6566 696e 696e  aracters definin
+0001d230: 6720 7468 650a 2020 2020 2020 656e 6420  g the.      end 
+0001d240: 6f66 2074 6865 2071 756f 7465 2064 656c  of the quote del
+0001d250: 696d 6974 6564 2073 7472 696e 6720 2864  imited string (d
+0001d260: 6566 6175 6c74 3d20 6060 4e6f 6e65 6060  efault= ``None``
+0001d270: 2020 3d3e 2073 616d 6520 6173 0a20 2020    => same as.   
+0001d280: 2020 2071 756f 7465 5f63 6861 7229 0a20     quote_char). 
+0001d290: 2020 202d 2060 6063 6f6e 7665 7274 5f77     - ``convert_w
+0001d2a0: 6869 7465 7370 6163 655f 6573 6361 7065  hitespace_escape
+0001d2b0: 7360 6020 2d20 636f 6e76 6572 7420 6573  s`` - convert es
+0001d2c0: 6361 7065 6420 7768 6974 6573 7061 6365  caped whitespace
+0001d2d0: 0a20 2020 2020 2028 6060 275c 7427 6060  .      (``'\t'``
+0001d2e0: 2c20 6060 275c 6e27 6060 2c20 6574 632e  , ``'\n'``, etc.
+0001d2f0: 2920 746f 2061 6374 7561 6c20 7768 6974  ) to actual whit
+0001d300: 6573 7061 6365 0a20 2020 2020 2028 6465  espace.      (de
+0001d310: 6661 756c 743d 2060 6054 7275 6560 6029  fault= ``True``)
+0001d320: 0a0a 2020 2020 4578 616d 706c 653a 3a0a  ..    Example::.
+0001d330: 0a20 2020 2020 2020 2071 7320 3d20 5175  .        qs = Qu
+0001d340: 6f74 6564 5374 7269 6e67 2827 2227 290a  otedString('"').
+0001d350: 2020 2020 2020 2020 7072 696e 7428 7173          print(qs
+0001d360: 2e73 6561 7263 685f 7374 7269 6e67 2827  .search_string('
+0001d370: 6c73 6a64 6620 2254 6869 7320 6973 2074  lsjdf "This is t
+0001d380: 6865 2071 756f 7465 2220 736c 646a 6627  he quote" sldjf'
+0001d390: 2929 0a20 2020 2020 2020 2063 6f6d 706c  )).        compl
+0001d3a0: 6578 5f71 7320 3d20 5175 6f74 6564 5374  ex_qs = QuotedSt
+0001d3b0: 7269 6e67 2827 7b7b 272c 2065 6e64 5f71  ring('{{', end_q
+0001d3c0: 756f 7465 5f63 6861 723d 277d 7d27 290a  uote_char='}}').
+0001d3d0: 2020 2020 2020 2020 7072 696e 7428 636f          print(co
+0001d3e0: 6d70 6c65 785f 7173 2e73 6561 7263 685f  mplex_qs.search_
+0001d3f0: 7374 7269 6e67 2827 6c73 6a64 6620 7b7b  string('lsjdf {{
+0001d400: 5468 6973 2069 7320 7468 6520 2271 756f  This is the "quo
+0001d410: 7465 227d 7d20 736c 646a 6627 2929 0a20  te"}} sldjf')). 
+0001d420: 2020 2020 2020 2073 716c 5f71 7320 3d20         sql_qs = 
+0001d430: 5175 6f74 6564 5374 7269 6e67 2827 2227  QuotedString('"'
+0001d440: 2c20 6573 635f 7175 6f74 653d 2722 2227  , esc_quote='""'
+0001d450: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
+0001d460: 7371 6c5f 7173 2e73 6561 7263 685f 7374  sql_qs.search_st
+0001d470: 7269 6e67 2827 6c73 6a64 6620 2254 6869  ring('lsjdf "Thi
+0001d480: 7320 6973 2074 6865 2071 756f 7465 2077  s is the quote w
+0001d490: 6974 6820 2222 656d 6265 6464 6564 2222  ith ""embedded""
+0001d4a0: 2071 756f 7465 7322 2073 6c64 6a66 2729   quotes" sldjf')
+0001d4b0: 290a 0a20 2020 2070 7269 6e74 733a 3a0a  )..    prints::.
+0001d4c0: 0a20 2020 2020 2020 205b 5b27 5468 6973  .        [['This
+0001d4d0: 2069 7320 7468 6520 7175 6f74 6527 5d5d   is the quote']]
+0001d4e0: 0a20 2020 2020 2020 205b 5b27 5468 6973  .        [['This
+0001d4f0: 2069 7320 7468 6520 2271 756f 7465 2227   is the "quote"'
+0001d500: 5d5d 0a20 2020 2020 2020 205b 5b27 5468  ]].        [['Th
+0001d510: 6973 2069 7320 7468 6520 7175 6f74 6520  is is the quote 
+0001d520: 7769 7468 2022 656d 6265 6464 6564 2220  with "embedded" 
+0001d530: 7175 6f74 6573 275d 5d0a 2020 2020 2222  quotes']].    ""
+0001d540: 220a 2020 2020 7773 5f6d 6170 203d 2064  ".    ws_map = d
+0001d550: 6963 7428 2828 7222 5c74 222c 2022 5c74  ict(((r"\t", "\t
+0001d560: 2229 2c20 2872 225c 6e22 2c20 225c 6e22  "), (r"\n", "\n"
+0001d570: 292c 2028 7222 5c66 222c 2022 5c66 2229  ), (r"\f", "\f")
+0001d580: 2c20 2872 225c 7222 2c20 225c 7222 2929  , (r"\r", "\r"))
+0001d590: 290a 0a20 2020 2064 6566 205f 5f69 6e69  )..    def __ini
+0001d5a0: 745f 5f28 0a20 2020 2020 2020 2073 656c  t__(.        sel
+0001d5b0: 662c 0a20 2020 2020 2020 2071 756f 7465  f,.        quote
+0001d5c0: 5f63 6861 723a 2073 7472 203d 2022 222c  _char: str = "",
+0001d5d0: 0a20 2020 2020 2020 2065 7363 5f63 6861  .        esc_cha
+0001d5e0: 723a 2074 7970 696e 672e 4f70 7469 6f6e  r: typing.Option
+0001d5f0: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  al[str] = None,.
+0001d600: 2020 2020 2020 2020 6573 635f 7175 6f74          esc_quot
+0001d610: 653a 2074 7970 696e 672e 4f70 7469 6f6e  e: typing.Option
+0001d620: 616c 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  al[str] = None,.
+0001d630: 2020 2020 2020 2020 6d75 6c74 696c 696e          multilin
+0001d640: 653a 2062 6f6f 6c20 3d20 4661 6c73 652c  e: bool = False,
+0001d650: 0a20 2020 2020 2020 2075 6e71 756f 7465  .        unquote
+0001d660: 5f72 6573 756c 7473 3a20 626f 6f6c 203d  _results: bool =
+0001d670: 2054 7275 652c 0a20 2020 2020 2020 2065   True,.        e
+0001d680: 6e64 5f71 756f 7465 5f63 6861 723a 2074  nd_quote_char: t
+0001d690: 7970 696e 672e 4f70 7469 6f6e 616c 5b73  yping.Optional[s
+0001d6a0: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
+0001d6b0: 2020 2020 636f 6e76 6572 745f 7768 6974      convert_whit
+0001d6c0: 6573 7061 6365 5f65 7363 6170 6573 3a20  espace_escapes: 
+0001d6d0: 626f 6f6c 203d 2054 7275 652c 0a20 2020  bool = True,.   
+0001d6e0: 2020 2020 202a 2c0a 2020 2020 2020 2020       *,.        
+0001d6f0: 7175 6f74 6543 6861 723a 2073 7472 203d  quoteChar: str =
+0001d700: 2022 222c 0a20 2020 2020 2020 2065 7363   "",.        esc
+0001d710: 4368 6172 3a20 7479 7069 6e67 2e4f 7074  Char: typing.Opt
+0001d720: 696f 6e61 6c5b 7374 725d 203d 204e 6f6e  ional[str] = Non
+0001d730: 652c 0a20 2020 2020 2020 2065 7363 5175  e,.        escQu
+0001d740: 6f74 653a 2074 7970 696e 672e 4f70 7469  ote: typing.Opti
+0001d750: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
+0001d760: 2c0a 2020 2020 2020 2020 756e 7175 6f74  ,.        unquot
+0001d770: 6552 6573 756c 7473 3a20 626f 6f6c 203d  eResults: bool =
+0001d780: 2054 7275 652c 0a20 2020 2020 2020 2065   True,.        e
+0001d790: 6e64 5175 6f74 6543 6861 723a 2074 7970  ndQuoteChar: typ
+0001d7a0: 696e 672e 4f70 7469 6f6e 616c 5b73 7472  ing.Optional[str
+0001d7b0: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
+0001d7c0: 2020 636f 6e76 6572 7457 6869 7465 7370    convertWhitesp
+0001d7d0: 6163 6545 7363 6170 6573 3a20 626f 6f6c  aceEscapes: bool
+0001d7e0: 203d 2054 7275 652c 0a20 2020 2029 3a0a   = True,.    ):.
+0001d7f0: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+0001d800: 5f5f 696e 6974 5f5f 2829 0a20 2020 2020  __init__().     
+0001d810: 2020 2065 7363 4368 6172 203d 2065 7363     escChar = esc
+0001d820: 4368 6172 206f 7220 6573 635f 6368 6172  Char or esc_char
+0001d830: 0a20 2020 2020 2020 2065 7363 5175 6f74  .        escQuot
+0001d840: 6520 3d20 6573 6351 756f 7465 206f 7220  e = escQuote or 
+0001d850: 6573 635f 7175 6f74 650a 2020 2020 2020  esc_quote.      
+0001d860: 2020 756e 7175 6f74 6552 6573 756c 7473    unquoteResults
+0001d870: 203d 2075 6e71 756f 7465 5265 7375 6c74   = unquoteResult
+0001d880: 7320 616e 6420 756e 7175 6f74 655f 7265  s and unquote_re
+0001d890: 7375 6c74 730a 2020 2020 2020 2020 656e  sults.        en
+0001d8a0: 6451 756f 7465 4368 6172 203d 2065 6e64  dQuoteChar = end
+0001d8b0: 5175 6f74 6543 6861 7220 6f72 2065 6e64  QuoteChar or end
+0001d8c0: 5f71 756f 7465 5f63 6861 720a 2020 2020  _quote_char.    
+0001d8d0: 2020 2020 636f 6e76 6572 7457 6869 7465      convertWhite
+0001d8e0: 7370 6163 6545 7363 6170 6573 203d 2028  spaceEscapes = (
+0001d8f0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+0001d900: 7665 7274 5768 6974 6573 7061 6365 4573  vertWhitespaceEs
+0001d910: 6361 7065 7320 616e 6420 636f 6e76 6572  capes and conver
+0001d920: 745f 7768 6974 6573 7061 6365 5f65 7363  t_whitespace_esc
+0001d930: 6170 6573 0a20 2020 2020 2020 2029 0a20  apes.        ). 
+0001d940: 2020 2020 2020 2071 756f 7465 5f63 6861         quote_cha
+0001d950: 7220 3d20 7175 6f74 6543 6861 7220 6f72  r = quoteChar or
+0001d960: 2071 756f 7465 5f63 6861 720a 0a20 2020   quote_char..   
+0001d970: 2020 2020 2023 2072 656d 6f76 6520 7768       # remove wh
+0001d980: 6974 6520 7370 6163 6520 6672 6f6d 2071  ite space from q
+0001d990: 756f 7465 2063 6861 7273 202d 2077 6f6e  uote chars - won
+0001d9a0: 7420 776f 726b 2061 6e79 7761 790a 2020  t work anyway.  
+0001d9b0: 2020 2020 2020 7175 6f74 655f 6368 6172        quote_char
+0001d9c0: 203d 2071 756f 7465 5f63 6861 722e 7374   = quote_char.st
+0001d9d0: 7269 7028 290a 2020 2020 2020 2020 6966  rip().        if
+0001d9e0: 206e 6f74 2071 756f 7465 5f63 6861 723a   not quote_char:
+0001d9f0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0001da00: 7365 2056 616c 7565 4572 726f 7228 2271  se ValueError("q
+0001da10: 756f 7465 5f63 6861 7220 6361 6e6e 6f74  uote_char cannot
+0001da20: 2062 6520 7468 6520 656d 7074 7920 7374   be the empty st
+0001da30: 7269 6e67 2229 0a0a 2020 2020 2020 2020  ring")..        
+0001da40: 6966 2065 6e64 5175 6f74 6543 6861 7220  if endQuoteChar 
+0001da50: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+0001da60: 2020 2020 2065 6e64 5175 6f74 6543 6861       endQuoteCha
+0001da70: 7220 3d20 7175 6f74 655f 6368 6172 0a20  r = quote_char. 
+0001da80: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001da90: 2020 2020 2020 2020 2065 6e64 5175 6f74           endQuot
+0001daa0: 6543 6861 7220 3d20 656e 6451 756f 7465  eChar = endQuote
+0001dab0: 4368 6172 2e73 7472 6970 2829 0a20 2020  Char.strip().   
+0001dac0: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
+0001dad0: 656e 6451 756f 7465 4368 6172 3a0a 2020  endQuoteChar:.  
+0001dae0: 2020 2020 2020 2020 2020 2020 2020 7261                ra
+0001daf0: 6973 6520 5661 6c75 6545 7272 6f72 2822  ise ValueError("
+0001db00: 656e 645f 7175 6f74 655f 6368 6172 2063  end_quote_char c
+0001db10: 616e 6e6f 7420 6265 2074 6865 2065 6d70  annot be the emp
+0001db20: 7479 2073 7472 696e 6722 290a 0a20 2020  ty string")..   
+0001db30: 2020 2020 2073 656c 662e 7175 6f74 6543       self.quoteC
+0001db40: 6861 723a 2073 7472 203d 2071 756f 7465  har: str = quote
+0001db50: 5f63 6861 720a 2020 2020 2020 2020 7365  _char.        se
+0001db60: 6c66 2e71 756f 7465 4368 6172 4c65 6e3a  lf.quoteCharLen:
+0001db70: 2069 6e74 203d 206c 656e 2871 756f 7465   int = len(quote
+0001db80: 5f63 6861 7229 0a20 2020 2020 2020 2073  _char).        s
+0001db90: 656c 662e 6669 7273 7451 756f 7465 4368  elf.firstQuoteCh
+0001dba0: 6172 3a20 7374 7220 3d20 7175 6f74 655f  ar: str = quote_
+0001dbb0: 6368 6172 5b30 5d0a 2020 2020 2020 2020  char[0].        
+0001dbc0: 7365 6c66 2e65 6e64 5175 6f74 6543 6861  self.endQuoteCha
+0001dbd0: 723a 2073 7472 203d 2065 6e64 5175 6f74  r: str = endQuot
+0001dbe0: 6543 6861 720a 2020 2020 2020 2020 7365  eChar.        se
+0001dbf0: 6c66 2e65 6e64 5175 6f74 6543 6861 724c  lf.endQuoteCharL
+0001dc00: 656e 3a20 696e 7420 3d20 6c65 6e28 656e  en: int = len(en
+0001dc10: 6451 756f 7465 4368 6172 290a 2020 2020  dQuoteChar).    
+0001dc20: 2020 2020 7365 6c66 2e65 7363 4368 6172      self.escChar
+0001dc30: 3a20 7374 7220 3d20 6573 6343 6861 7220  : str = escChar 
+0001dc40: 6f72 2022 220a 2020 2020 2020 2020 7365  or "".        se
+0001dc50: 6c66 2e65 7363 5175 6f74 653a 2073 7472  lf.escQuote: str
+0001dc60: 203d 2065 7363 5175 6f74 6520 6f72 2022   = escQuote or "
+0001dc70: 220a 2020 2020 2020 2020 7365 6c66 2e75  ".        self.u
+0001dc80: 6e71 756f 7465 5265 7375 6c74 733a 2062  nquoteResults: b
+0001dc90: 6f6f 6c20 3d20 756e 7175 6f74 6552 6573  ool = unquoteRes
+0001dca0: 756c 7473 0a20 2020 2020 2020 2073 656c  ults.        sel
+0001dcb0: 662e 636f 6e76 6572 7457 6869 7465 7370  f.convertWhitesp
+0001dcc0: 6163 6545 7363 6170 6573 3a20 626f 6f6c  aceEscapes: bool
+0001dcd0: 203d 2063 6f6e 7665 7274 5768 6974 6573   = convertWhites
+0001dce0: 7061 6365 4573 6361 7065 730a 2020 2020  paceEscapes.    
+0001dcf0: 2020 2020 7365 6c66 2e6d 756c 7469 6c69      self.multili
+0001dd00: 6e65 203d 206d 756c 7469 6c69 6e65 0a0a  ne = multiline..
+0001dd10: 2020 2020 2020 2020 7365 7020 3d20 2222          sep = ""
+0001dd20: 0a20 2020 2020 2020 2069 6e6e 6572 5f70  .        inner_p
+0001dd30: 6174 7465 726e 203d 2022 220a 0a20 2020  attern = ""..   
+0001dd40: 2020 2020 2069 6620 6573 6351 756f 7465       if escQuote
+0001dd50: 3a0a 2020 2020 2020 2020 2020 2020 696e  :.            in
+0001dd60: 6e65 725f 7061 7474 6572 6e20 2b3d 2072  ner_pattern += r
+0001dd70: 6622 7b73 6570 7d28 3f3a 7b72 652e 6573  f"{sep}(?:{re.es
+0001dd80: 6361 7065 2865 7363 5175 6f74 6529 7d29  cape(escQuote)})
+0001dd90: 220a 2020 2020 2020 2020 2020 2020 7365  ".            se
+0001dda0: 7020 3d20 227c 220a 0a20 2020 2020 2020  p = "|"..       
+0001ddb0: 2069 6620 6573 6343 6861 723a 0a20 2020   if escChar:.   
+0001ddc0: 2020 2020 2020 2020 2069 6e6e 6572 5f70           inner_p
+0001ddd0: 6174 7465 726e 202b 3d20 7266 227b 7365  attern += rf"{se
+0001dde0: 707d 283f 3a7b 7265 2e65 7363 6170 6528  p}(?:{re.escape(
+0001ddf0: 6573 6343 6861 7229 7d2e 2922 0a20 2020  escChar)}.)".   
+0001de00: 2020 2020 2020 2020 2073 6570 203d 2022           sep = "
+0001de10: 7c22 0a20 2020 2020 2020 2020 2020 2073  |".            s
+0001de20: 656c 662e 6573 6343 6861 7252 6570 6c61  elf.escCharRepla
+0001de30: 6365 5061 7474 6572 6e20 3d20 7265 2e65  cePattern = re.e
+0001de40: 7363 6170 6528 6573 6343 6861 7229 202b  scape(escChar) +
+0001de50: 2022 282e 2922 0a0a 2020 2020 2020 2020   "(.)"..        
+0001de60: 6966 206c 656e 2873 656c 662e 656e 6451  if len(self.endQ
+0001de70: 756f 7465 4368 6172 2920 3e20 313a 0a20  uoteChar) > 1:. 
+0001de80: 2020 2020 2020 2020 2020 2069 6e6e 6572             inner
+0001de90: 5f70 6174 7465 726e 202b 3d20 280a 2020  _pattern += (.  
+0001dea0: 2020 2020 2020 2020 2020 2020 2020 6622                f"
+0001deb0: 7b73 6570 7d28 3f3a 220a 2020 2020 2020  {sep}(?:".      
+0001dec0: 2020 2020 2020 2020 2020 2b20 227c 222e            + "|".
+0001ded0: 6a6f 696e 280a 2020 2020 2020 2020 2020  join(.          
+0001dee0: 2020 2020 2020 2020 2020 6622 283f 3a7b            f"(?:{
+0001def0: 7265 2e65 7363 6170 6528 7365 6c66 2e65  re.escape(self.e
+0001df00: 6e64 5175 6f74 6543 6861 725b 3a69 5d29  ndQuoteChar[:i])
+0001df10: 7d28 3f21 7b72 652e 6573 6361 7065 2873  }(?!{re.escape(s
+0001df20: 656c 662e 656e 6451 756f 7465 4368 6172  elf.endQuoteChar
+0001df30: 5b69 3a5d 297d 2929 220a 2020 2020 2020  [i:])}))".      
+0001df40: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+0001df50: 7220 6920 696e 2072 616e 6765 286c 656e  r i in range(len
+0001df60: 2873 656c 662e 656e 6451 756f 7465 4368  (self.endQuoteCh
+0001df70: 6172 2920 2d20 312c 2030 2c20 2d31 290a  ar) - 1, 0, -1).
+0001df80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001df90: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0001dfa0: 2020 2b20 2229 220a 2020 2020 2020 2020    + ")".        
+0001dfb0: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+0001dfc0: 2020 7365 7020 3d20 227c 220a 0a20 2020    sep = "|"..   
+0001dfd0: 2020 2020 2073 656c 662e 666c 6167 7320       self.flags 
+0001dfe0: 3d20 7265 2e52 6567 6578 466c 6167 2830  = re.RegexFlag(0
+0001dff0: 290a 0a20 2020 2020 2020 2069 6620 6d75  )..        if mu
+0001e000: 6c74 696c 696e 653a 0a20 2020 2020 2020  ltiline:.       
+0001e010: 2020 2020 2073 656c 662e 666c 6167 7320       self.flags 
+0001e020: 3d20 7265 2e4d 554c 5449 4c49 4e45 207c  = re.MULTILINE |
+0001e030: 2072 652e 444f 5441 4c4c 0a20 2020 2020   re.DOTALL.     
+0001e040: 2020 2020 2020 2069 6e6e 6572 5f70 6174         inner_pat
+0001e050: 7465 726e 202b 3d20 280a 2020 2020 2020  tern += (.      
+0001e060: 2020 2020 2020 2020 2020 7266 227b 7365            rf"{se
+0001e070: 707d 283f 3a5b 5e7b 5f65 7363 6170 655f  p}(?:[^{_escape_
+0001e080: 7265 6765 785f 7261 6e67 655f 6368 6172  regex_range_char
+0001e090: 7328 7365 6c66 2e65 6e64 5175 6f74 6543  s(self.endQuoteC
+0001e0a0: 6861 725b 305d 297d 220a 2020 2020 2020  har[0])}".      
+0001e0b0: 2020 2020 2020 2020 2020 7266 227b 285f            rf"{(_
+0001e0c0: 6573 6361 7065 5f72 6567 6578 5f72 616e  escape_regex_ran
+0001e0d0: 6765 5f63 6861 7273 2865 7363 4368 6172  ge_chars(escChar
+0001e0e0: 2920 6966 2065 7363 4368 6172 2069 7320  ) if escChar is 
+0001e0f0: 6e6f 7420 4e6f 6e65 2065 6c73 6520 2727  not None else ''
+0001e100: 297d 5d29 220a 2020 2020 2020 2020 2020  )}])".          
+0001e110: 2020 290a 2020 2020 2020 2020 656c 7365    ).        else
+0001e120: 3a0a 2020 2020 2020 2020 2020 2020 696e  :.            in
+0001e130: 6e65 725f 7061 7474 6572 6e20 2b3d 2028  ner_pattern += (
+0001e140: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001e150: 2072 6622 7b73 6570 7d28 3f3a 5b5e 7b5f   rf"{sep}(?:[^{_
+0001e160: 6573 6361 7065 5f72 6567 6578 5f72 616e  escape_regex_ran
+0001e170: 6765 5f63 6861 7273 2873 656c 662e 656e  ge_chars(self.en
+0001e180: 6451 756f 7465 4368 6172 5b30 5d29 7d5c  dQuoteChar[0])}\
+0001e190: 6e5c 7222 0a20 2020 2020 2020 2020 2020  n\r".           
+0001e1a0: 2020 2020 2072 6622 7b28 5f65 7363 6170       rf"{(_escap
+0001e1b0: 655f 7265 6765 785f 7261 6e67 655f 6368  e_regex_range_ch
+0001e1c0: 6172 7328 6573 6343 6861 7229 2069 6620  ars(escChar) if 
+0001e1d0: 6573 6343 6861 7220 6973 206e 6f74 204e  escChar is not N
+0001e1e0: 6f6e 6520 656c 7365 2027 2729 7d5d 2922  one else '')}])"
+0001e1f0: 0a20 2020 2020 2020 2020 2020 2029 0a0a  .            )..
+0001e200: 2020 2020 2020 2020 7365 6c66 2e70 6174          self.pat
+0001e210: 7465 726e 203d 2022 222e 6a6f 696e 280a  tern = "".join(.
+0001e220: 2020 2020 2020 2020 2020 2020 5b0a 2020              [.  
+0001e230: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0001e240: 2e65 7363 6170 6528 7365 6c66 2e71 756f  .escape(self.quo
+0001e250: 7465 4368 6172 292c 0a20 2020 2020 2020  teChar),.       
+0001e260: 2020 2020 2020 2020 2022 283f 3a22 2c0a           "(?:",.
+0001e270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e280: 696e 6e65 725f 7061 7474 6572 6e2c 0a20  inner_pattern,. 
+0001e290: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0001e2a0: 292a 222c 0a20 2020 2020 2020 2020 2020  )*",.           
+0001e2b0: 2020 2020 2072 652e 6573 6361 7065 2873       re.escape(s
+0001e2c0: 656c 662e 656e 6451 756f 7465 4368 6172  elf.endQuoteChar
+0001e2d0: 292c 0a20 2020 2020 2020 2020 2020 205d  ),.            ]
+0001e2e0: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
+0001e2f0: 2020 2020 6966 2073 656c 662e 756e 7175      if self.unqu
+0001e300: 6f74 6552 6573 756c 7473 3a0a 2020 2020  oteResults:.    
+0001e310: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+0001e320: 636f 6e76 6572 7457 6869 7465 7370 6163  convertWhitespac
+0001e330: 6545 7363 6170 6573 3a0a 2020 2020 2020  eEscapes:.      
+0001e340: 2020 2020 2020 2020 2020 7365 6c66 2e75            self.u
+0001e350: 6e71 756f 7465 5f73 6361 6e5f 7265 203d  nquote_scan_re =
+0001e360: 2072 652e 636f 6d70 696c 6528 0a20 2020   re.compile(.   
+0001e370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e380: 2072 6622 287b 277c 272e 6a6f 696e 2872   rf"({'|'.join(r
+0001e390: 652e 6573 6361 7065 286b 2920 666f 7220  e.escape(k) for 
+0001e3a0: 6b20 696e 2073 656c 662e 7773 5f6d 6170  k in self.ws_map
+0001e3b0: 297d 297c 287b 7265 2e65 7363 6170 6528  )})|({re.escape(
+0001e3c0: 7365 6c66 2e65 7363 4368 6172 297d 2e29  self.escChar)}.)
+0001e3d0: 7c28 5c6e 7c2e 2922 2c0a 2020 2020 2020  |(\n|.)",.      
+0001e3e0: 2020 2020 2020 2020 2020 2020 2020 666c                fl
+0001e3f0: 6167 733d 7365 6c66 2e66 6c61 6773 2c0a  ags=self.flags,.
+0001e400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e410: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
+0001e420: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001e430: 2020 2020 7365 6c66 2e75 6e71 756f 7465      self.unquote
+0001e440: 5f73 6361 6e5f 7265 203d 2072 652e 636f  _scan_re = re.co
+0001e450: 6d70 696c 6528 0a20 2020 2020 2020 2020  mpile(.         
+0001e460: 2020 2020 2020 2020 2020 2072 6622 287b             rf"({
+0001e470: 7265 2e65 7363 6170 6528 7365 6c66 2e65  re.escape(self.e
+0001e480: 7363 4368 6172 297d 2e29 7c28 5c6e 7c2e  scChar)}.)|(\n|.
+0001e490: 2922 2c20 666c 6167 733d 7365 6c66 2e66  )", flags=self.f
+0001e4a0: 6c61 6773 0a20 2020 2020 2020 2020 2020  lags.           
+0001e4b0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
+0001e4c0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+0001e4d0: 2073 656c 662e 7265 203d 2072 652e 636f   self.re = re.co
+0001e4e0: 6d70 696c 6528 7365 6c66 2e70 6174 7465  mpile(self.patte
+0001e4f0: 726e 2c20 7365 6c66 2e66 6c61 6773 290a  rn, self.flags).
+0001e500: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001e510: 2e72 6553 7472 696e 6720 3d20 7365 6c66  .reString = self
+0001e520: 2e70 6174 7465 726e 0a20 2020 2020 2020  .pattern.       
+0001e530: 2020 2020 2073 656c 662e 7265 5f6d 6174       self.re_mat
+0001e540: 6368 203d 2073 656c 662e 7265 2e6d 6174  ch = self.re.mat
+0001e550: 6368 0a20 2020 2020 2020 2065 7863 6570  ch.        excep
+0001e560: 7420 7265 2e65 7272 6f72 3a0a 2020 2020  t re.error:.    
+0001e570: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
+0001e580: 6c75 6545 7272 6f72 2866 2269 6e76 616c  lueError(f"inval
+0001e590: 6964 2070 6174 7465 726e 207b 7365 6c66  id pattern {self
+0001e5a0: 2e70 6174 7465 726e 2172 7d20 7061 7373  .pattern!r} pass
+0001e5b0: 6564 2074 6f20 5265 6765 7822 290a 0a20  ed to Regex").. 
+0001e5c0: 2020 2020 2020 2073 656c 662e 6572 726d         self.errm
+0001e5d0: 7367 203d 2022 4578 7065 6374 6564 2022  sg = "Expected "
+0001e5e0: 202b 2073 656c 662e 6e61 6d65 0a20 2020   + self.name.   
+0001e5f0: 2020 2020 2073 656c 662e 6d61 7949 6e64       self.mayInd
+0001e600: 6578 4572 726f 7220 3d20 4661 6c73 650a  exError = False.
+0001e610: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
+0001e620: 5265 7475 726e 456d 7074 7920 3d20 5472  ReturnEmpty = Tr
+0001e630: 7565 0a0a 2020 2020 6465 6620 5f67 656e  ue..    def _gen
+0001e640: 6572 6174 6544 6566 6175 6c74 4e61 6d65  erateDefaultName
+0001e650: 2873 656c 6629 202d 3e20 7374 723a 0a20  (self) -> str:. 
+0001e660: 2020 2020 2020 2069 6620 7365 6c66 2e71         if self.q
+0001e670: 756f 7465 4368 6172 203d 3d20 7365 6c66  uoteChar == self
+0001e680: 2e65 6e64 5175 6f74 6543 6861 7220 616e  .endQuoteChar an
+0001e690: 6420 6973 696e 7374 616e 6365 2873 656c  d isinstance(sel
+0001e6a0: 662e 7175 6f74 6543 6861 722c 2073 7472  f.quoteChar, str
+0001e6b0: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
+0001e6c0: 2020 2020 7265 7475 726e 2066 2273 7472      return f"str
+0001e6d0: 696e 6720 656e 636c 6f73 6564 2069 6e20  ing enclosed in 
+0001e6e0: 7b73 656c 662e 7175 6f74 6543 6861 7221  {self.quoteChar!
+0001e6f0: 727d 220a 0a20 2020 2020 2020 2072 6574  r}"..        ret
+0001e700: 7572 6e20 6622 7175 6f74 6564 2073 7472  urn f"quoted str
+0001e710: 696e 672c 2073 7461 7274 696e 6720 7769  ing, starting wi
+0001e720: 7468 207b 7365 6c66 2e71 756f 7465 4368  th {self.quoteCh
+0001e730: 6172 7d20 656e 6469 6e67 2077 6974 6820  ar} ending with 
+0001e740: 7b73 656c 662e 656e 6451 756f 7465 4368  {self.endQuoteCh
+0001e750: 6172 7d22 0a0a 2020 2020 6465 6620 7061  ar}"..    def pa
+0001e760: 7273 6549 6d70 6c28 7365 6c66 2c20 696e  rseImpl(self, in
+0001e770: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
+0001e780: 6374 696f 6e73 3d54 7275 6529 3a0a 2020  ctions=True):.  
+0001e790: 2020 2020 2020 7265 7375 6c74 203d 2028        result = (
+0001e7a0: 0a20 2020 2020 2020 2020 2020 2069 6e73  .            ins
+0001e7b0: 7472 696e 675b 6c6f 635d 203d 3d20 7365  tring[loc] == se
+0001e7c0: 6c66 2e66 6972 7374 5175 6f74 6543 6861  lf.firstQuoteCha
+0001e7d0: 720a 2020 2020 2020 2020 2020 2020 616e  r.            an
+0001e7e0: 6420 7365 6c66 2e72 655f 6d61 7463 6828  d self.re_match(
+0001e7f0: 696e 7374 7269 6e67 2c20 6c6f 6329 0a20  instring, loc). 
+0001e800: 2020 2020 2020 2020 2020 206f 7220 4e6f             or No
+0001e810: 6e65 0a20 2020 2020 2020 2029 0a20 2020  ne.        ).   
+0001e820: 2020 2020 2069 6620 6e6f 7420 7265 7375       if not resu
+0001e830: 6c74 3a0a 2020 2020 2020 2020 2020 2020  lt:.            
+0001e840: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
+0001e850: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
+0001e860: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
+0001e870: 2073 656c 6629 0a0a 2020 2020 2020 2020   self)..        
+0001e880: 6c6f 6320 3d20 7265 7375 6c74 2e65 6e64  loc = result.end
+0001e890: 2829 0a20 2020 2020 2020 2072 6574 203d  ().        ret =
+0001e8a0: 2072 6573 756c 742e 6772 6f75 7028 290a   result.group().
+0001e8b0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0001e8c0: 2e75 6e71 756f 7465 5265 7375 6c74 733a  .unquoteResults:
+0001e8d0: 0a20 2020 2020 2020 2020 2020 2023 2073  .            # s
+0001e8e0: 7472 6970 206f 6666 2071 756f 7465 730a  trip off quotes.
+0001e8f0: 2020 2020 2020 2020 2020 2020 7265 7420              ret 
+0001e900: 3d20 7265 745b 7365 6c66 2e71 756f 7465  = ret[self.quote
+0001e910: 4368 6172 4c65 6e20 3a20 2d73 656c 662e  CharLen : -self.
+0001e920: 656e 6451 756f 7465 4368 6172 4c65 6e5d  endQuoteCharLen]
+0001e930: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+0001e940: 2069 7369 6e73 7461 6e63 6528 7265 742c   isinstance(ret,
+0001e950: 2073 7472 5f74 7970 6529 3a0a 2020 2020   str_type):.    
+0001e960: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+0001e970: 656c 662e 636f 6e76 6572 7457 6869 7465  elf.convertWhite
+0001e980: 7370 6163 6545 7363 6170 6573 3a0a 2020  spaceEscapes:.  
+0001e990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e9a0: 2020 7265 7420 3d20 2222 2e6a 6f69 6e28    ret = "".join(
+0001e9b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001e9c0: 2020 2020 2020 2020 2073 656c 662e 7773           self.ws
+0001e9d0: 5f6d 6170 5b6d 6174 6368 2e67 726f 7570  _map[match.group
+0001e9e0: 2831 295d 0a20 2020 2020 2020 2020 2020  (1)].           
+0001e9f0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0001ea00: 6d61 7463 682e 6772 6f75 7028 3129 0a20  match.group(1). 
+0001ea10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ea20: 2020 2020 2020 2065 6c73 6520 6d61 7463         else matc
+0001ea30: 682e 6772 6f75 7028 3229 5b2d 315d 0a20  h.group(2)[-1]. 
 0001ea40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ea50: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-0001ea60: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0001ea70: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001ea80: 6574 203d 2022 222e 6a6f 696e 280a 2020  et = "".join(.  
-0001ea90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001eaa0: 2020 2020 2020 6d61 7463 682e 6772 6f75        match.grou
-0001eab0: 7028 3129 5b2d 315d 2069 6620 6d61 7463  p(1)[-1] if matc
-0001eac0: 682e 6772 6f75 7028 3129 2065 6c73 6520  h.group(1) else 
-0001ead0: 6d61 7463 682e 6772 6f75 7028 3229 0a20  match.group(2). 
+0001ea50: 2020 2020 2020 2069 6620 6d61 7463 682e         if match.
+0001ea60: 6772 6f75 7028 3229 0a20 2020 2020 2020  group(2).       
+0001ea70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ea80: 2065 6c73 6520 6d61 7463 682e 6772 6f75   else match.grou
+0001ea90: 7028 3329 0a20 2020 2020 2020 2020 2020  p(3).           
+0001eaa0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+0001eab0: 206d 6174 6368 2069 6e20 7365 6c66 2e75   match in self.u
+0001eac0: 6e71 756f 7465 5f73 6361 6e5f 7265 2e66  nquote_scan_re.f
+0001ead0: 696e 6469 7465 7228 7265 7429 0a20 2020  inditer(ret).   
 0001eae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001eaf0: 2020 2020 2020 2066 6f72 206d 6174 6368         for match
-0001eb00: 2069 6e20 7365 6c66 2e75 6e71 756f 7465   in self.unquote
-0001eb10: 5f73 6361 6e5f 7265 2e66 696e 6469 7465  _scan_re.findite
-0001eb20: 7228 7265 7429 0a20 2020 2020 2020 2020  r(ret).         
-0001eb30: 2020 2020 2020 2020 2020 2029 0a0a 2020             )..  
-0001eb40: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0001eb50: 7265 706c 6163 6520 6573 6361 7065 6420  replace escaped 
-0001eb60: 7175 6f74 6573 0a20 2020 2020 2020 2020  quotes.         
-0001eb70: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
-0001eb80: 7363 5175 6f74 653a 0a20 2020 2020 2020  scQuote:.       
-0001eb90: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0001eba0: 203d 2072 6574 2e72 6570 6c61 6365 2873   = ret.replace(s
-0001ebb0: 656c 662e 6573 6351 756f 7465 2c20 7365  elf.escQuote, se
-0001ebc0: 6c66 2e65 6e64 5175 6f74 6543 6861 7229  lf.endQuoteChar)
-0001ebd0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0001ebe0: 206c 6f63 2c20 7265 740a 0a0a 636c 6173   loc, ret...clas
-0001ebf0: 7320 4368 6172 734e 6f74 496e 2854 6f6b  s CharsNotIn(Tok
-0001ec00: 656e 293a 0a20 2020 2022 2222 546f 6b65  en):.    """Toke
-0001ec10: 6e20 666f 7220 6d61 7463 6869 6e67 2077  n for matching w
-0001ec20: 6f72 6473 2063 6f6d 706f 7365 6420 6f66  ords composed of
-0001ec30: 2063 6861 7261 6374 6572 7320 2a6e 6f74   characters *not
-0001ec40: 2a20 696e 2061 2067 6976 656e 0a20 2020  * in a given.   
-0001ec50: 2073 6574 2028 7769 6c6c 2069 6e63 6c75   set (will inclu
-0001ec60: 6465 2077 6869 7465 7370 6163 6520 696e  de whitespace in
-0001ec70: 206d 6174 6368 6564 2063 6861 7261 6374   matched charact
-0001ec80: 6572 7320 6966 206e 6f74 206c 6973 7465  ers if not liste
-0001ec90: 6420 696e 0a20 2020 2074 6865 2070 726f  d in.    the pro
-0001eca0: 7669 6465 6420 6578 636c 7573 696f 6e20  vided exclusion 
-0001ecb0: 7365 7420 2d20 7365 6520 6578 616d 706c  set - see exampl
-0001ecc0: 6529 2e20 4465 6669 6e65 6420 7769 7468  e). Defined with
-0001ecd0: 2073 7472 696e 670a 2020 2020 636f 6e74   string.    cont
-0001ece0: 6169 6e69 6e67 2061 6c6c 2064 6973 616c  aining all disal
-0001ecf0: 6c6f 7765 6420 6368 6172 6163 7465 7273  lowed characters
-0001ed00: 2c20 616e 6420 616e 206f 7074 696f 6e61  , and an optiona
-0001ed10: 6c20 6d69 6e69 6d75 6d2c 0a20 2020 206d  l minimum,.    m
-0001ed20: 6178 696d 756d 2c20 616e 642f 6f72 2065  aximum, and/or e
-0001ed30: 7861 6374 206c 656e 6774 682e 2020 5468  xact length.  Th
-0001ed40: 6520 6465 6661 756c 7420 7661 6c75 6520  e default value 
-0001ed50: 666f 7220 6060 6d69 6e60 6020 6973 0a20  for ``min`` is. 
-0001ed60: 2020 2031 2028 6120 6d69 6e69 6d75 6d20     1 (a minimum 
-0001ed70: 7661 6c75 6520 3c20 3120 6973 206e 6f74  value < 1 is not
-0001ed80: 2076 616c 6964 293b 2074 6865 2064 6566   valid); the def
-0001ed90: 6175 6c74 2076 616c 7565 7320 666f 720a  ault values for.
-0001eda0: 2020 2020 6060 6d61 7860 6020 616e 6420      ``max`` and 
-0001edb0: 6060 6578 6163 7460 6020 6172 6520 302c  ``exact`` are 0,
-0001edc0: 206d 6561 6e69 6e67 206e 6f20 6d61 7869   meaning no maxi
-0001edd0: 6d75 6d20 6f72 2065 7861 6374 0a20 2020  mum or exact.   
-0001ede0: 206c 656e 6774 6820 7265 7374 7269 6374   length restrict
-0001edf0: 696f 6e2e 0a0a 2020 2020 4578 616d 706c  ion...    Exampl
-0001ee00: 653a 3a0a 0a20 2020 2020 2020 2023 2064  e::..        # d
-0001ee10: 6566 696e 6520 6120 636f 6d6d 612d 7365  efine a comma-se
-0001ee20: 7061 7261 7465 642d 7661 6c75 6520 6173  parated-value as
-0001ee30: 2061 6e79 7468 696e 6720 7468 6174 2069   anything that i
-0001ee40: 7320 6e6f 7420 6120 272c 270a 2020 2020  s not a ','.    
-0001ee50: 2020 2020 6373 765f 7661 6c75 6520 3d20      csv_value = 
-0001ee60: 4368 6172 734e 6f74 496e 2827 2c27 290a  CharsNotIn(',').
-0001ee70: 2020 2020 2020 2020 7072 696e 7428 6465          print(de
-0001ee80: 6c69 6d69 7465 645f 6c69 7374 2863 7376  limited_list(csv
-0001ee90: 5f76 616c 7565 292e 7061 7273 655f 7374  _value).parse_st
-0001eea0: 7269 6e67 2822 646b 6c73 2c6c 7364 6b6a  ring("dkls,lsdkj
-0001eeb0: 662c 7331 3220 3334 2c40 2123 2c32 3133  f,s12 34,@!#,213
-0001eec0: 2229 290a 0a20 2020 2070 7269 6e74 733a  "))..    prints:
-0001eed0: 3a0a 0a20 2020 2020 2020 205b 2764 6b6c  :..        ['dkl
-0001eee0: 7327 2c20 276c 7364 6b6a 6627 2c20 2773  s', 'lsdkjf', 's
-0001eef0: 3132 2033 3427 2c20 2740 2123 272c 2027  12 34', '@!#', '
-0001ef00: 3231 3327 5d0a 2020 2020 2222 220a 0a20  213'].    """.. 
-0001ef10: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
-0001ef20: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-0001ef30: 2020 2020 2020 206e 6f74 5f63 6861 7273         not_chars
-0001ef40: 3a20 7374 7220 3d20 2222 2c0a 2020 2020  : str = "",.    
-0001ef50: 2020 2020 6d69 6e3a 2069 6e74 203d 2031      min: int = 1
-0001ef60: 2c0a 2020 2020 2020 2020 6d61 783a 2069  ,.        max: i
-0001ef70: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
-0001ef80: 6578 6163 743a 2069 6e74 203d 2030 2c0a  exact: int = 0,.
-0001ef90: 2020 2020 2020 2020 2a2c 0a20 2020 2020          *,.     
-0001efa0: 2020 206e 6f74 4368 6172 733a 2073 7472     notChars: str
-0001efb0: 203d 2022 222c 0a20 2020 2029 3a0a 2020   = "",.    ):.  
-0001efc0: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
-0001efd0: 696e 6974 5f5f 2829 0a20 2020 2020 2020  init__().       
-0001efe0: 2073 656c 662e 736b 6970 5768 6974 6573   self.skipWhites
-0001eff0: 7061 6365 203d 2046 616c 7365 0a20 2020  pace = False.   
-0001f000: 2020 2020 2073 656c 662e 6e6f 7443 6861       self.notCha
-0001f010: 7273 203d 206e 6f74 5f63 6861 7273 206f  rs = not_chars o
-0001f020: 7220 6e6f 7443 6861 7273 0a20 2020 2020  r notChars.     
-0001f030: 2020 2073 656c 662e 6e6f 7443 6861 7273     self.notChars
-0001f040: 5365 7420 3d20 7365 7428 7365 6c66 2e6e  Set = set(self.n
-0001f050: 6f74 4368 6172 7329 0a0a 2020 2020 2020  otChars)..      
-0001f060: 2020 6966 206d 696e 203c 2031 3a0a 2020    if min < 1:.  
-0001f070: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0001f080: 5661 6c75 6545 7272 6f72 280a 2020 2020  ValueError(.    
-0001f090: 2020 2020 2020 2020 2020 2020 2263 616e              "can
-0001f0a0: 6e6f 7420 7370 6563 6966 7920 6120 6d69  not specify a mi
-0001f0b0: 6e69 6d75 6d20 6c65 6e67 7468 203c 2031  nimum length < 1
-0001f0c0: 3b20 7573 6520 220a 2020 2020 2020 2020  ; use ".        
-0001f0d0: 2020 2020 2020 2020 224f 7074 2843 6861          "Opt(Cha
-0001f0e0: 7273 4e6f 7449 6e28 2929 2069 6620 7a65  rsNotIn()) if ze
-0001f0f0: 726f 2d6c 656e 6774 6820 6368 6172 2067  ro-length char g
-0001f100: 726f 7570 2069 7320 7065 726d 6974 7465  roup is permitte
-0001f110: 6422 0a20 2020 2020 2020 2020 2020 2029  d".            )
-0001f120: 0a0a 2020 2020 2020 2020 7365 6c66 2e6d  ..        self.m
-0001f130: 696e 4c65 6e20 3d20 6d69 6e0a 0a20 2020  inLen = min..   
-0001f140: 2020 2020 2069 6620 6d61 7820 3e20 303a       if max > 0:
-0001f150: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001f160: 662e 6d61 784c 656e 203d 206d 6178 0a20  f.maxLen = max. 
-0001f170: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0001f180: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
-0001f190: 784c 656e 203d 205f 4d41 585f 494e 540a  xLen = _MAX_INT.
-0001f1a0: 0a20 2020 2020 2020 2069 6620 6578 6163  .        if exac
-0001f1b0: 7420 3e20 303a 0a20 2020 2020 2020 2020  t > 0:.         
-0001f1c0: 2020 2073 656c 662e 6d61 784c 656e 203d     self.maxLen =
-0001f1d0: 2065 7861 6374 0a20 2020 2020 2020 2020   exact.         
-0001f1e0: 2020 2073 656c 662e 6d69 6e4c 656e 203d     self.minLen =
-0001f1f0: 2065 7861 6374 0a0a 2020 2020 2020 2020   exact..        
-0001f200: 7365 6c66 2e65 7272 6d73 6720 3d20 2245  self.errmsg = "E
-0001f210: 7870 6563 7465 6420 2220 2b20 7365 6c66  xpected " + self
-0001f220: 2e6e 616d 650a 2020 2020 2020 2020 7365  .name.        se
-0001f230: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
-0001f240: 7920 3d20 7365 6c66 2e6d 696e 4c65 6e20  y = self.minLen 
-0001f250: 3d3d 2030 0a20 2020 2020 2020 2073 656c  == 0.        sel
-0001f260: 662e 6d61 7949 6e64 6578 4572 726f 7220  f.mayIndexError 
-0001f270: 3d20 4661 6c73 650a 0a20 2020 2064 6566  = False..    def
-0001f280: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
-0001f290: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
-0001f2a0: 7472 3a0a 2020 2020 2020 2020 6e6f 745f  tr:.        not_
-0001f2b0: 6368 6172 735f 7374 7220 3d20 5f63 6f6c  chars_str = _col
-0001f2c0: 6c61 7073 655f 7374 7269 6e67 5f74 6f5f  lapse_string_to_
-0001f2d0: 7261 6e67 6573 2873 656c 662e 6e6f 7443  ranges(self.notC
-0001f2e0: 6861 7273 290a 2020 2020 2020 2020 6966  hars).        if
-0001f2f0: 206c 656e 286e 6f74 5f63 6861 7273 5f73   len(not_chars_s
-0001f300: 7472 2920 3e20 3136 3a0a 2020 2020 2020  tr) > 16:.      
-0001f310: 2020 2020 2020 7265 7475 726e 2066 2221        return f"!
-0001f320: 573a 287b 7365 6c66 2e6e 6f74 4368 6172  W:({self.notChar
-0001f330: 735b 3a20 3136 202d 2033 5d7d 2e2e 2e29  s[: 16 - 3]}...)
-0001f340: 220a 2020 2020 2020 2020 656c 7365 3a0a  ".        else:.
-0001f350: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0001f360: 726e 2066 2221 573a 287b 7365 6c66 2e6e  rn f"!W:({self.n
-0001f370: 6f74 4368 6172 737d 2922 0a0a 2020 2020  otChars})"..    
-0001f380: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
-0001f390: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
-0001f3a0: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
-0001f3b0: 6529 3a0a 2020 2020 2020 2020 6e6f 7463  e):.        notc
-0001f3c0: 6861 7273 203d 2073 656c 662e 6e6f 7443  hars = self.notC
-0001f3d0: 6861 7273 5365 740a 2020 2020 2020 2020  harsSet.        
-0001f3e0: 6966 2069 6e73 7472 696e 675b 6c6f 635d  if instring[loc]
-0001f3f0: 2069 6e20 6e6f 7463 6861 7273 3a0a 2020   in notchars:.  
-0001f400: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-0001f410: 5061 7273 6545 7863 6570 7469 6f6e 2869  ParseException(i
-0001f420: 6e73 7472 696e 672c 206c 6f63 2c20 7365  nstring, loc, se
-0001f430: 6c66 2e65 7272 6d73 672c 2073 656c 6629  lf.errmsg, self)
-0001f440: 0a0a 2020 2020 2020 2020 7374 6172 7420  ..        start 
-0001f450: 3d20 6c6f 630a 2020 2020 2020 2020 6c6f  = loc.        lo
-0001f460: 6320 2b3d 2031 0a20 2020 2020 2020 206d  c += 1.        m
-0001f470: 6178 6c65 6e20 3d20 6d69 6e28 7374 6172  axlen = min(star
-0001f480: 7420 2b20 7365 6c66 2e6d 6178 4c65 6e2c  t + self.maxLen,
-0001f490: 206c 656e 2869 6e73 7472 696e 6729 290a   len(instring)).
-0001f4a0: 2020 2020 2020 2020 7768 696c 6520 6c6f          while lo
-0001f4b0: 6320 3c20 6d61 786c 656e 2061 6e64 2069  c < maxlen and i
-0001f4c0: 6e73 7472 696e 675b 6c6f 635d 206e 6f74  nstring[loc] not
-0001f4d0: 2069 6e20 6e6f 7463 6861 7273 3a0a 2020   in notchars:.  
-0001f4e0: 2020 2020 2020 2020 2020 6c6f 6320 2b3d            loc +=
-0001f4f0: 2031 0a0a 2020 2020 2020 2020 6966 206c   1..        if l
-0001f500: 6f63 202d 2073 7461 7274 203c 2073 656c  oc - start < sel
-0001f510: 662e 6d69 6e4c 656e 3a0a 2020 2020 2020  f.minLen:.      
-0001f520: 2020 2020 2020 7261 6973 6520 5061 7273        raise Pars
-0001f530: 6545 7863 6570 7469 6f6e 2869 6e73 7472  eException(instr
-0001f540: 696e 672c 206c 6f63 2c20 7365 6c66 2e65  ing, loc, self.e
-0001f550: 7272 6d73 672c 2073 656c 6629 0a0a 2020  rrmsg, self)..  
-0001f560: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
-0001f570: 2c20 696e 7374 7269 6e67 5b73 7461 7274  , instring[start
-0001f580: 3a6c 6f63 5d0a 0a0a 636c 6173 7320 5768  :loc]...class Wh
-0001f590: 6974 6528 546f 6b65 6e29 3a0a 2020 2020  ite(Token):.    
-0001f5a0: 2222 2253 7065 6369 616c 206d 6174 6368  """Special match
-0001f5b0: 696e 6720 636c 6173 7320 666f 7220 6d61  ing class for ma
-0001f5c0: 7463 6869 6e67 2077 6869 7465 7370 6163  tching whitespac
-0001f5d0: 652e 2020 4e6f 726d 616c 6c79 2c0a 2020  e.  Normally,.  
-0001f5e0: 2020 7768 6974 6573 7061 6365 2069 7320    whitespace is 
-0001f5f0: 6967 6e6f 7265 6420 6279 2070 7970 6172  ignored by pypar
-0001f600: 7369 6e67 2067 7261 6d6d 6172 732e 2020  sing grammars.  
-0001f610: 5468 6973 2063 6c61 7373 2069 7320 696e  This class is in
-0001f620: 636c 7564 6564 0a20 2020 2077 6865 6e20  cluded.    when 
-0001f630: 736f 6d65 2077 6869 7465 7370 6163 6520  some whitespace 
-0001f640: 7374 7275 6374 7572 6573 2061 7265 2073  structures are s
-0001f650: 6967 6e69 6669 6361 6e74 2e20 2044 6566  ignificant.  Def
-0001f660: 696e 6520 7769 7468 0a20 2020 2061 2073  ine with.    a s
-0001f670: 7472 696e 6720 636f 6e74 6169 6e69 6e67  tring containing
-0001f680: 2074 6865 2077 6869 7465 7370 6163 6520   the whitespace 
-0001f690: 6368 6172 6163 7465 7273 2074 6f20 6265  characters to be
-0001f6a0: 206d 6174 6368 6564 3b20 6465 6661 756c   matched; defaul
-0001f6b0: 740a 2020 2020 6973 2060 6022 205c 5c74  t.    is ``" \\t
-0001f6c0: 5c5c 725c 5c6e 2260 602e 2020 416c 736f  \\r\\n"``.  Also
-0001f6d0: 2074 616b 6573 206f 7074 696f 6e61 6c20   takes optional 
-0001f6e0: 6060 6d69 6e60 602c 0a20 2020 2060 606d  ``min``,.    ``m
-0001f6f0: 6178 6060 2c20 616e 6420 6060 6578 6163  ax``, and ``exac
-0001f700: 7460 6020 6172 6775 6d65 6e74 732c 2061  t`` arguments, a
-0001f710: 7320 6465 6669 6e65 6420 666f 7220 7468  s defined for th
-0001f720: 650a 2020 2020 3a63 6c61 7373 3a60 576f  e.    :class:`Wo
-0001f730: 7264 6020 636c 6173 732e 0a20 2020 2022  rd` class..    "
-0001f740: 2222 0a0a 2020 2020 7768 6974 6553 7472  ""..    whiteStr
-0001f750: 7320 3d20 7b0a 2020 2020 2020 2020 2220  s = {.        " 
-0001f760: 223a 2022 3c53 503e 222c 0a20 2020 2020  ": "<SP>",.     
-0001f770: 2020 2022 5c74 223a 2022 3c54 4142 3e22     "\t": "<TAB>"
-0001f780: 2c0a 2020 2020 2020 2020 225c 6e22 3a20  ,.        "\n": 
-0001f790: 223c 4c46 3e22 2c0a 2020 2020 2020 2020  "<LF>",.        
-0001f7a0: 225c 7222 3a20 223c 4352 3e22 2c0a 2020  "\r": "<CR>",.  
-0001f7b0: 2020 2020 2020 225c 6622 3a20 223c 4646        "\f": "<FF
-0001f7c0: 3e22 2c0a 2020 2020 2020 2020 225c 7530  >",.        "\u0
-0001f7d0: 3041 3022 3a20 223c 4e42 5350 3e22 2c0a  0A0": "<NBSP>",.
-0001f7e0: 2020 2020 2020 2020 225c 7531 3638 3022          "\u1680"
-0001f7f0: 3a20 223c 4f47 4841 4d5f 5350 4143 455f  : "<OGHAM_SPACE_
-0001f800: 4d41 524b 3e22 2c0a 2020 2020 2020 2020  MARK>",.        
-0001f810: 225c 7531 3830 4522 3a20 223c 4d4f 4e47  "\u180E": "<MONG
-0001f820: 4f4c 4941 4e5f 564f 5745 4c5f 5345 5041  OLIAN_VOWEL_SEPA
-0001f830: 5241 544f 523e 222c 0a20 2020 2020 2020  RATOR>",.       
-0001f840: 2022 5c75 3230 3030 223a 2022 3c45 4e5f   "\u2000": "<EN_
-0001f850: 5155 4144 3e22 2c0a 2020 2020 2020 2020  QUAD>",.        
-0001f860: 225c 7532 3030 3122 3a20 223c 454d 5f51  "\u2001": "<EM_Q
-0001f870: 5541 443e 222c 0a20 2020 2020 2020 2022  UAD>",.        "
-0001f880: 5c75 3230 3032 223a 2022 3c45 4e5f 5350  \u2002": "<EN_SP
-0001f890: 4143 453e 222c 0a20 2020 2020 2020 2022  ACE>",.        "
-0001f8a0: 5c75 3230 3033 223a 2022 3c45 4d5f 5350  \u2003": "<EM_SP
-0001f8b0: 4143 453e 222c 0a20 2020 2020 2020 2022  ACE>",.        "
-0001f8c0: 5c75 3230 3034 223a 2022 3c54 4852 4545  \u2004": "<THREE
-0001f8d0: 2d50 4552 2d45 4d5f 5350 4143 453e 222c  -PER-EM_SPACE>",
-0001f8e0: 0a20 2020 2020 2020 2022 5c75 3230 3035  .        "\u2005
-0001f8f0: 223a 2022 3c46 4f55 522d 5045 522d 454d  ": "<FOUR-PER-EM
-0001f900: 5f53 5041 4345 3e22 2c0a 2020 2020 2020  _SPACE>",.      
-0001f910: 2020 225c 7532 3030 3622 3a20 223c 5349    "\u2006": "<SI
-0001f920: 582d 5045 522d 454d 5f53 5041 4345 3e22  X-PER-EM_SPACE>"
-0001f930: 2c0a 2020 2020 2020 2020 225c 7532 3030  ,.        "\u200
-0001f940: 3722 3a20 223c 4649 4755 5245 5f53 5041  7": "<FIGURE_SPA
-0001f950: 4345 3e22 2c0a 2020 2020 2020 2020 225c  CE>",.        "\
-0001f960: 7532 3030 3822 3a20 223c 5055 4e43 5455  u2008": "<PUNCTU
-0001f970: 4154 494f 4e5f 5350 4143 453e 222c 0a20  ATION_SPACE>",. 
-0001f980: 2020 2020 2020 2022 5c75 3230 3039 223a         "\u2009":
-0001f990: 2022 3c54 4849 4e5f 5350 4143 453e 222c   "<THIN_SPACE>",
-0001f9a0: 0a20 2020 2020 2020 2022 5c75 3230 3041  .        "\u200A
-0001f9b0: 223a 2022 3c48 4149 525f 5350 4143 453e  ": "<HAIR_SPACE>
-0001f9c0: 222c 0a20 2020 2020 2020 2022 5c75 3230  ",.        "\u20
-0001f9d0: 3042 223a 2022 3c5a 4552 4f5f 5749 4454  0B": "<ZERO_WIDT
-0001f9e0: 485f 5350 4143 453e 222c 0a20 2020 2020  H_SPACE>",.     
-0001f9f0: 2020 2022 5c75 3230 3246 223a 2022 3c4e     "\u202F": "<N
-0001fa00: 4e42 5350 3e22 2c0a 2020 2020 2020 2020  NBSP>",.        
-0001fa10: 225c 7532 3035 4622 3a20 223c 4d4d 5350  "\u205F": "<MMSP
-0001fa20: 3e22 2c0a 2020 2020 2020 2020 225c 7533  >",.        "\u3
-0001fa30: 3030 3022 3a20 223c 4944 454f 4752 4150  000": "<IDEOGRAP
-0001fa40: 4849 435f 5350 4143 453e 222c 0a20 2020  HIC_SPACE>",.   
-0001fa50: 207d 0a0a 2020 2020 6465 6620 5f5f 696e   }..    def __in
-0001fa60: 6974 5f5f 2873 656c 662c 2077 733a 2073  it__(self, ws: s
-0001fa70: 7472 203d 2022 205c 745c 725c 6e22 2c20  tr = " \t\r\n", 
-0001fa80: 6d69 6e3a 2069 6e74 203d 2031 2c20 6d61  min: int = 1, ma
-0001fa90: 783a 2069 6e74 203d 2030 2c20 6578 6163  x: int = 0, exac
-0001faa0: 743a 2069 6e74 203d 2030 293a 0a20 2020  t: int = 0):.   
-0001fab0: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
-0001fac0: 6e69 745f 5f28 290a 2020 2020 2020 2020  nit__().        
-0001fad0: 7365 6c66 2e6d 6174 6368 5768 6974 6520  self.matchWhite 
-0001fae0: 3d20 7773 0a20 2020 2020 2020 2073 656c  = ws.        sel
-0001faf0: 662e 7365 745f 7768 6974 6573 7061 6365  f.set_whitespace
-0001fb00: 5f63 6861 7273 280a 2020 2020 2020 2020  _chars(.        
-0001fb10: 2020 2020 2222 2e6a 6f69 6e28 6320 666f      "".join(c fo
-0001fb20: 7220 6320 696e 2073 656c 662e 7768 6974  r c in self.whit
-0001fb30: 6553 7472 7320 6966 2063 206e 6f74 2069  eStrs if c not i
-0001fb40: 6e20 7365 6c66 2e6d 6174 6368 5768 6974  n self.matchWhit
-0001fb50: 6529 2c0a 2020 2020 2020 2020 2020 2020  e),.            
-0001fb60: 636f 7079 5f64 6566 6175 6c74 733d 5472  copy_defaults=Tr
-0001fb70: 7565 2c0a 2020 2020 2020 2020 290a 2020  ue,.        ).  
-0001fb80: 2020 2020 2020 2320 7365 6c66 2e6c 6561        # self.lea
-0001fb90: 7665 5f77 6869 7465 7370 6163 6528 290a  ve_whitespace().
-0001fba0: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
-0001fbb0: 5265 7475 726e 456d 7074 7920 3d20 5472  ReturnEmpty = Tr
-0001fbc0: 7565 0a20 2020 2020 2020 2073 656c 662e  ue.        self.
-0001fbd0: 6572 726d 7367 203d 2022 4578 7065 6374  errmsg = "Expect
-0001fbe0: 6564 2022 202b 2073 656c 662e 6e61 6d65  ed " + self.name
-0001fbf0: 0a0a 2020 2020 2020 2020 7365 6c66 2e6d  ..        self.m
-0001fc00: 696e 4c65 6e20 3d20 6d69 6e0a 0a20 2020  inLen = min..   
-0001fc10: 2020 2020 2069 6620 6d61 7820 3e20 303a       if max > 0:
-0001fc20: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001fc30: 662e 6d61 784c 656e 203d 206d 6178 0a20  f.maxLen = max. 
-0001fc40: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0001fc50: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
-0001fc60: 784c 656e 203d 205f 4d41 585f 494e 540a  xLen = _MAX_INT.
-0001fc70: 0a20 2020 2020 2020 2069 6620 6578 6163  .        if exac
-0001fc80: 7420 3e20 303a 0a20 2020 2020 2020 2020  t > 0:.         
-0001fc90: 2020 2073 656c 662e 6d61 784c 656e 203d     self.maxLen =
-0001fca0: 2065 7861 6374 0a20 2020 2020 2020 2020   exact.         
-0001fcb0: 2020 2073 656c 662e 6d69 6e4c 656e 203d     self.minLen =
-0001fcc0: 2065 7861 6374 0a0a 2020 2020 6465 6620   exact..    def 
-0001fcd0: 5f67 656e 6572 6174 6544 6566 6175 6c74  _generateDefault
-0001fce0: 4e61 6d65 2873 656c 6629 202d 3e20 7374  Name(self) -> st
-0001fcf0: 723a 0a20 2020 2020 2020 2072 6574 7572  r:.        retur
-0001fd00: 6e20 2222 2e6a 6f69 6e28 5768 6974 652e  n "".join(White.
-0001fd10: 7768 6974 6553 7472 735b 635d 2066 6f72  whiteStrs[c] for
-0001fd20: 2063 2069 6e20 7365 6c66 2e6d 6174 6368   c in self.match
-0001fd30: 5768 6974 6529 0a0a 2020 2020 6465 6620  White)..    def 
-0001fd40: 7061 7273 6549 6d70 6c28 7365 6c66 2c20  parseImpl(self, 
-0001fd50: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
-0001fd60: 6f41 6374 696f 6e73 3d54 7275 6529 3a0a  oActions=True):.
-0001fd70: 2020 2020 2020 2020 6966 2069 6e73 7472          if instr
-0001fd80: 696e 675b 6c6f 635d 206e 6f74 2069 6e20  ing[loc] not in 
-0001fd90: 7365 6c66 2e6d 6174 6368 5768 6974 653a  self.matchWhite:
-0001fda0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0001fdb0: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
-0001fdc0: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
-0001fdd0: 2073 656c 662e 6572 726d 7367 2c20 7365   self.errmsg, se
-0001fde0: 6c66 290a 2020 2020 2020 2020 7374 6172  lf).        star
-0001fdf0: 7420 3d20 6c6f 630a 2020 2020 2020 2020  t = loc.        
-0001fe00: 6c6f 6320 2b3d 2031 0a20 2020 2020 2020  loc += 1.       
-0001fe10: 206d 6178 6c6f 6320 3d20 7374 6172 7420   maxloc = start 
-0001fe20: 2b20 7365 6c66 2e6d 6178 4c65 6e0a 2020  + self.maxLen.  
-0001fe30: 2020 2020 2020 6d61 786c 6f63 203d 206d        maxloc = m
-0001fe40: 696e 286d 6178 6c6f 632c 206c 656e 2869  in(maxloc, len(i
-0001fe50: 6e73 7472 696e 6729 290a 2020 2020 2020  nstring)).      
-0001fe60: 2020 7768 696c 6520 6c6f 6320 3c20 6d61    while loc < ma
-0001fe70: 786c 6f63 2061 6e64 2069 6e73 7472 696e  xloc and instrin
-0001fe80: 675b 6c6f 635d 2069 6e20 7365 6c66 2e6d  g[loc] in self.m
-0001fe90: 6174 6368 5768 6974 653a 0a20 2020 2020  atchWhite:.     
-0001fea0: 2020 2020 2020 206c 6f63 202b 3d20 310a         loc += 1.
-0001feb0: 0a20 2020 2020 2020 2069 6620 6c6f 6320  .        if loc 
-0001fec0: 2d20 7374 6172 7420 3c20 7365 6c66 2e6d  - start < self.m
-0001fed0: 696e 4c65 6e3a 0a20 2020 2020 2020 2020  inLen:.         
-0001fee0: 2020 2072 6169 7365 2050 6172 7365 4578     raise ParseEx
-0001fef0: 6365 7074 696f 6e28 696e 7374 7269 6e67  ception(instring
-0001ff00: 2c20 6c6f 632c 2073 656c 662e 6572 726d  , loc, self.errm
-0001ff10: 7367 2c20 7365 6c66 290a 0a20 2020 2020  sg, self)..     
-0001ff20: 2020 2072 6574 7572 6e20 6c6f 632c 2069     return loc, i
-0001ff30: 6e73 7472 696e 675b 7374 6172 743a 6c6f  nstring[start:lo
-0001ff40: 635d 0a0a 0a63 6c61 7373 2050 6f73 6974  c]...class Posit
-0001ff50: 696f 6e54 6f6b 656e 2854 6f6b 656e 293a  ionToken(Token):
-0001ff60: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
-0001ff70: 5f28 7365 6c66 293a 0a20 2020 2020 2020  _(self):.       
-0001ff80: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
-0001ff90: 5f28 290a 2020 2020 2020 2020 7365 6c66  _().        self
-0001ffa0: 2e6d 6179 5265 7475 726e 456d 7074 7920  .mayReturnEmpty 
-0001ffb0: 3d20 5472 7565 0a20 2020 2020 2020 2073  = True.        s
-0001ffc0: 656c 662e 6d61 7949 6e64 6578 4572 726f  elf.mayIndexErro
-0001ffd0: 7220 3d20 4661 6c73 650a 0a0a 636c 6173  r = False...clas
-0001ffe0: 7320 476f 546f 436f 6c75 6d6e 2850 6f73  s GoToColumn(Pos
-0001fff0: 6974 696f 6e54 6f6b 656e 293a 0a20 2020  itionToken):.   
-00020000: 2022 2222 546f 6b65 6e20 746f 2061 6476   """Token to adv
-00020010: 616e 6365 2074 6f20 6120 7370 6563 6966  ance to a specif
-00020020: 6963 2063 6f6c 756d 6e20 6f66 2069 6e70  ic column of inp
-00020030: 7574 2074 6578 743b 2075 7365 6675 6c20  ut text; useful 
-00020040: 666f 720a 2020 2020 7461 6275 6c61 7220  for.    tabular 
-00020050: 7265 706f 7274 2073 6372 6170 696e 672e  report scraping.
-00020060: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
-00020070: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
-00020080: 2063 6f6c 6e6f 3a20 696e 7429 3a0a 2020   colno: int):.  
-00020090: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
-000200a0: 696e 6974 5f5f 2829 0a20 2020 2020 2020  init__().       
-000200b0: 2073 656c 662e 636f 6c20 3d20 636f 6c6e   self.col = coln
-000200c0: 6f0a 0a20 2020 2064 6566 2070 7265 5061  o..    def prePa
-000200d0: 7273 6528 7365 6c66 2c20 696e 7374 7269  rse(self, instri
-000200e0: 6e67 3a20 7374 722c 206c 6f63 3a20 696e  ng: str, loc: in
-000200f0: 7429 202d 3e20 696e 743a 0a20 2020 2020  t) -> int:.     
-00020100: 2020 2069 6620 636f 6c28 6c6f 632c 2069     if col(loc, i
-00020110: 6e73 7472 696e 6729 2021 3d20 7365 6c66  nstring) != self
-00020120: 2e63 6f6c 3a0a 2020 2020 2020 2020 2020  .col:.          
-00020130: 2020 696e 7374 726c 656e 203d 206c 656e    instrlen = len
-00020140: 2869 6e73 7472 696e 6729 0a20 2020 2020  (instring).     
-00020150: 2020 2020 2020 2069 6620 7365 6c66 2e69         if self.i
-00020160: 676e 6f72 6545 7870 7273 3a0a 2020 2020  gnoreExprs:.    
-00020170: 2020 2020 2020 2020 2020 2020 6c6f 6320              loc 
-00020180: 3d20 7365 6c66 2e5f 736b 6970 4967 6e6f  = self._skipIgno
-00020190: 7261 626c 6573 2869 6e73 7472 696e 672c  rables(instring,
-000201a0: 206c 6f63 290a 2020 2020 2020 2020 2020   loc).          
-000201b0: 2020 7768 696c 6520 280a 2020 2020 2020    while (.      
-000201c0: 2020 2020 2020 2020 2020 6c6f 6320 3c20            loc < 
-000201d0: 696e 7374 726c 656e 0a20 2020 2020 2020  instrlen.       
-000201e0: 2020 2020 2020 2020 2061 6e64 2069 6e73           and ins
-000201f0: 7472 696e 675b 6c6f 635d 2e69 7373 7061  tring[loc].isspa
-00020200: 6365 2829 0a20 2020 2020 2020 2020 2020  ce().           
-00020210: 2020 2020 2061 6e64 2063 6f6c 286c 6f63       and col(loc
-00020220: 2c20 696e 7374 7269 6e67 2920 213d 2073  , instring) != s
-00020230: 656c 662e 636f 6c0a 2020 2020 2020 2020  elf.col.        
-00020240: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
-00020250: 2020 2020 2020 206c 6f63 202b 3d20 310a         loc += 1.
-00020260: 2020 2020 2020 2020 7265 7475 726e 206c          return l
-00020270: 6f63 0a0a 2020 2020 6465 6620 7061 7273  oc..    def pars
-00020280: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
-00020290: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
-000202a0: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
-000202b0: 2020 2020 7468 6973 636f 6c20 3d20 636f      thiscol = co
-000202c0: 6c28 6c6f 632c 2069 6e73 7472 696e 6729  l(loc, instring)
-000202d0: 0a20 2020 2020 2020 2069 6620 7468 6973  .        if this
-000202e0: 636f 6c20 3e20 7365 6c66 2e63 6f6c 3a0a  col > self.col:.
-000202f0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00020300: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
-00020310: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-00020320: 2254 6578 7420 6e6f 7420 696e 2065 7870  "Text not in exp
-00020330: 6563 7465 6420 636f 6c75 6d6e 222c 2073  ected column", s
-00020340: 656c 6629 0a20 2020 2020 2020 206e 6577  elf).        new
-00020350: 6c6f 6320 3d20 6c6f 6320 2b20 7365 6c66  loc = loc + self
-00020360: 2e63 6f6c 202d 2074 6869 7363 6f6c 0a20  .col - thiscol. 
-00020370: 2020 2020 2020 2072 6574 203d 2069 6e73         ret = ins
-00020380: 7472 696e 675b 6c6f 633a 6e65 776c 6f63  tring[loc:newloc
-00020390: 5d0a 2020 2020 2020 2020 7265 7475 726e  ].        return
-000203a0: 206e 6577 6c6f 632c 2072 6574 0a0a 0a63   newloc, ret...c
-000203b0: 6c61 7373 204c 696e 6553 7461 7274 2850  lass LineStart(P
-000203c0: 6f73 6974 696f 6e54 6f6b 656e 293a 0a20  ositionToken):. 
-000203d0: 2020 2072 2222 224d 6174 6368 6573 2069     r"""Matches i
-000203e0: 6620 6375 7272 656e 7420 706f 7369 7469  f current positi
-000203f0: 6f6e 2069 7320 6174 2074 6865 2062 6567  on is at the beg
-00020400: 696e 6e69 6e67 206f 6620 6120 6c69 6e65  inning of a line
-00020410: 2077 6974 6869 6e0a 2020 2020 7468 6520   within.    the 
-00020420: 7061 7273 6520 7374 7269 6e67 0a0a 2020  parse string..  
-00020430: 2020 4578 616d 706c 653a 3a0a 0a20 2020    Example::..   
-00020440: 2020 2020 2074 6573 7420 3d20 2727 275c       test = '''\
-00020450: 0a20 2020 2020 2020 2041 4141 2074 6869  .        AAA thi
-00020460: 7320 6c69 6e65 0a20 2020 2020 2020 2041  s line.        A
-00020470: 4141 2061 6e64 2074 6869 7320 6c69 6e65  AA and this line
-00020480: 0a20 2020 2020 2020 2020 2041 4141 2062  .          AAA b
-00020490: 7574 206e 6f74 2074 6869 7320 6f6e 650a  ut not this one.
-000204a0: 2020 2020 2020 2020 4220 4141 4120 616e          B AAA an
-000204b0: 6420 6465 6669 6e69 7465 6c79 206e 6f74  d definitely not
-000204c0: 2074 6869 7320 6f6e 650a 2020 2020 2020   this one.      
-000204d0: 2020 2727 270a 0a20 2020 2020 2020 2066    '''..        f
-000204e0: 6f72 2074 2069 6e20 284c 696e 6553 7461  or t in (LineSta
-000204f0: 7274 2829 202b 2027 4141 4127 202b 2072  rt() + 'AAA' + r
-00020500: 6573 745f 6f66 5f6c 696e 6529 2e73 6561  est_of_line).sea
-00020510: 7263 685f 7374 7269 6e67 2874 6573 7429  rch_string(test)
-00020520: 3a0a 2020 2020 2020 2020 2020 2020 7072  :.            pr
-00020530: 696e 7428 7429 0a0a 2020 2020 7072 696e  int(t)..    prin
-00020540: 7473 3a3a 0a0a 2020 2020 2020 2020 5b27  ts::..        ['
-00020550: 4141 4127 2c20 2720 7468 6973 206c 696e  AAA', ' this lin
-00020560: 6527 5d0a 2020 2020 2020 2020 5b27 4141  e'].        ['AA
-00020570: 4127 2c20 2720 616e 6420 7468 6973 206c  A', ' and this l
-00020580: 696e 6527 5d0a 0a20 2020 2022 2222 0a0a  ine']..    """..
-00020590: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-000205a0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-000205b0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
-000205c0: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
-000205d0: 6c65 6176 655f 7768 6974 6573 7061 6365  leave_whitespace
-000205e0: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
-000205f0: 6f72 6967 5f77 6869 7465 4368 6172 7320  orig_whiteChars 
-00020600: 3d20 7365 7428 2920 7c20 7365 6c66 2e77  = set() | self.w
-00020610: 6869 7465 4368 6172 730a 2020 2020 2020  hiteChars.      
-00020620: 2020 7365 6c66 2e77 6869 7465 4368 6172    self.whiteChar
-00020630: 732e 6469 7363 6172 6428 225c 6e22 290a  s.discard("\n").
-00020640: 2020 2020 2020 2020 7365 6c66 2e73 6b69          self.ski
-00020650: 7070 6572 203d 2045 6d70 7479 2829 2e73  pper = Empty().s
-00020660: 6574 5f77 6869 7465 7370 6163 655f 6368  et_whitespace_ch
-00020670: 6172 7328 7365 6c66 2e77 6869 7465 4368  ars(self.whiteCh
-00020680: 6172 7329 0a20 2020 2020 2020 2073 656c  ars).        sel
-00020690: 662e 6572 726d 7367 203d 2022 4578 7065  f.errmsg = "Expe
-000206a0: 6374 6564 2073 7461 7274 206f 6620 6c69  cted start of li
-000206b0: 6e65 220a 0a20 2020 2064 6566 2070 7265  ne"..    def pre
-000206c0: 5061 7273 6528 7365 6c66 2c20 696e 7374  Parse(self, inst
-000206d0: 7269 6e67 3a20 7374 722c 206c 6f63 3a20  ring: str, loc: 
-000206e0: 696e 7429 202d 3e20 696e 743a 0a20 2020  int) -> int:.   
-000206f0: 2020 2020 2069 6620 6c6f 6320 3d3d 2030       if loc == 0
-00020700: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00020710: 7475 726e 206c 6f63 0a20 2020 2020 2020  turn loc.       
-00020720: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00020730: 2020 2072 6574 203d 2073 656c 662e 736b     ret = self.sk
-00020740: 6970 7065 722e 7072 6550 6172 7365 2869  ipper.preParse(i
-00020750: 6e73 7472 696e 672c 206c 6f63 290a 2020  nstring, loc).  
-00020760: 2020 2020 2020 2020 2020 6966 2022 5c6e            if "\n
-00020770: 2220 696e 2073 656c 662e 6f72 6967 5f77  " in self.orig_w
-00020780: 6869 7465 4368 6172 733a 0a20 2020 2020  hiteChars:.     
-00020790: 2020 2020 2020 2020 2020 2077 6869 6c65             while
-000207a0: 2069 6e73 7472 696e 675b 7265 7420 3a20   instring[ret : 
-000207b0: 7265 7420 2b20 315d 203d 3d20 225c 6e22  ret + 1] == "\n"
-000207c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000207d0: 2020 2020 2020 7265 7420 3d20 7365 6c66        ret = self
-000207e0: 2e73 6b69 7070 6572 2e70 7265 5061 7273  .skipper.prePars
-000207f0: 6528 696e 7374 7269 6e67 2c20 7265 7420  e(instring, ret 
-00020800: 2b20 3129 0a20 2020 2020 2020 2020 2020  + 1).           
-00020810: 2072 6574 7572 6e20 7265 740a 0a20 2020   return ret..   
-00020820: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
-00020830: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
-00020840: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
-00020850: 7565 293a 0a20 2020 2020 2020 2069 6620  ue):.        if 
-00020860: 636f 6c28 6c6f 632c 2069 6e73 7472 696e  col(loc, instrin
-00020870: 6729 203d 3d20 313a 0a20 2020 2020 2020  g) == 1:.       
-00020880: 2020 2020 2072 6574 7572 6e20 6c6f 632c       return loc,
-00020890: 205b 5d0a 2020 2020 2020 2020 7261 6973   [].        rais
-000208a0: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
-000208b0: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-000208c0: 7365 6c66 2e65 7272 6d73 672c 2073 656c  self.errmsg, sel
-000208d0: 6629 0a0a 0a63 6c61 7373 204c 696e 6545  f)...class LineE
-000208e0: 6e64 2850 6f73 6974 696f 6e54 6f6b 656e  nd(PositionToken
-000208f0: 293a 0a20 2020 2022 2222 4d61 7463 6865  ):.    """Matche
-00020900: 7320 6966 2063 7572 7265 6e74 2070 6f73  s if current pos
-00020910: 6974 696f 6e20 6973 2061 7420 7468 6520  ition is at the 
-00020920: 656e 6420 6f66 2061 206c 696e 6520 7769  end of a line wi
-00020930: 7468 696e 2074 6865 0a20 2020 2070 6172  thin the.    par
-00020940: 7365 2073 7472 696e 670a 2020 2020 2222  se string.    ""
-00020950: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-00020960: 745f 5f28 7365 6c66 293a 0a20 2020 2020  t__(self):.     
-00020970: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
-00020980: 745f 5f28 290a 2020 2020 2020 2020 7365  t__().        se
-00020990: 6c66 2e77 6869 7465 4368 6172 732e 6469  lf.whiteChars.di
-000209a0: 7363 6172 6428 225c 6e22 290a 2020 2020  scard("\n").    
-000209b0: 2020 2020 7365 6c66 2e73 6574 5f77 6869      self.set_whi
-000209c0: 7465 7370 6163 655f 6368 6172 7328 7365  tespace_chars(se
-000209d0: 6c66 2e77 6869 7465 4368 6172 732c 2063  lf.whiteChars, c
-000209e0: 6f70 795f 6465 6661 756c 7473 3d46 616c  opy_defaults=Fal
-000209f0: 7365 290a 2020 2020 2020 2020 7365 6c66  se).        self
-00020a00: 2e65 7272 6d73 6720 3d20 2245 7870 6563  .errmsg = "Expec
-00020a10: 7465 6420 656e 6420 6f66 206c 696e 6522  ted end of line"
-00020a20: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
-00020a30: 6d70 6c28 7365 6c66 2c20 696e 7374 7269  mpl(self, instri
-00020a40: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
-00020a50: 6e73 3d54 7275 6529 3a0a 2020 2020 2020  ns=True):.      
-00020a60: 2020 6966 206c 6f63 203c 206c 656e 2869    if loc < len(i
-00020a70: 6e73 7472 696e 6729 3a0a 2020 2020 2020  nstring):.      
-00020a80: 2020 2020 2020 6966 2069 6e73 7472 696e        if instrin
-00020a90: 675b 6c6f 635d 203d 3d20 225c 6e22 3a0a  g[loc] == "\n":.
-00020aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020ab0: 7265 7475 726e 206c 6f63 202b 2031 2c20  return loc + 1, 
-00020ac0: 225c 6e22 0a20 2020 2020 2020 2020 2020  "\n".           
-00020ad0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00020ae0: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
-00020af0: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
-00020b00: 7269 6e67 2c20 6c6f 632c 2073 656c 662e  ring, loc, self.
-00020b10: 6572 726d 7367 2c20 7365 6c66 290a 2020  errmsg, self).  
-00020b20: 2020 2020 2020 656c 6966 206c 6f63 203d        elif loc =
-00020b30: 3d20 6c65 6e28 696e 7374 7269 6e67 293a  = len(instring):
-00020b40: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00020b50: 7572 6e20 6c6f 6320 2b20 312c 205b 5d0a  urn loc + 1, [].
-00020b60: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00020b70: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00020b80: 5061 7273 6545 7863 6570 7469 6f6e 2869  ParseException(i
-00020b90: 6e73 7472 696e 672c 206c 6f63 2c20 7365  nstring, loc, se
-00020ba0: 6c66 2e65 7272 6d73 672c 2073 656c 6629  lf.errmsg, self)
-00020bb0: 0a0a 0a63 6c61 7373 2053 7472 696e 6753  ...class StringS
-00020bc0: 7461 7274 2850 6f73 6974 696f 6e54 6f6b  tart(PositionTok
-00020bd0: 656e 293a 0a20 2020 2022 2222 4d61 7463  en):.    """Matc
-00020be0: 6865 7320 6966 2063 7572 7265 6e74 2070  hes if current p
-00020bf0: 6f73 6974 696f 6e20 6973 2061 7420 7468  osition is at th
-00020c00: 6520 6265 6769 6e6e 696e 6720 6f66 2074  e beginning of t
-00020c10: 6865 2070 6172 7365 0a20 2020 2073 7472  he parse.    str
-00020c20: 696e 670a 2020 2020 2222 220a 0a20 2020  ing.    """..   
-00020c30: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
-00020c40: 6c66 293a 0a20 2020 2020 2020 2073 7570  lf):.        sup
-00020c50: 6572 2829 2e5f 5f69 6e69 745f 5f28 290a  er().__init__().
-00020c60: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
-00020c70: 6d73 6720 3d20 2245 7870 6563 7465 6420  msg = "Expected 
-00020c80: 7374 6172 7420 6f66 2074 6578 7422 0a0a  start of text"..
-00020c90: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
-00020ca0: 6c28 7365 6c66 2c20 696e 7374 7269 6e67  l(self, instring
-00020cb0: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
-00020cc0: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
-00020cd0: 6966 206c 6f63 2021 3d20 303a 0a20 2020  if loc != 0:.   
-00020ce0: 2020 2020 2020 2020 2023 2073 6565 2069           # see i
-00020cf0: 6620 656e 7469 7265 2073 7472 696e 6720  f entire string 
-00020d00: 7570 2074 6f20 6865 7265 2069 7320 6a75  up to here is ju
-00020d10: 7374 2077 6869 7465 7370 6163 6520 616e  st whitespace an
-00020d20: 6420 6967 6e6f 7265 6162 6c65 730a 2020  d ignoreables.  
-00020d30: 2020 2020 2020 2020 2020 6966 206c 6f63            if loc
-00020d40: 2021 3d20 7365 6c66 2e70 7265 5061 7273   != self.prePars
-00020d50: 6528 696e 7374 7269 6e67 2c20 3029 3a0a  e(instring, 0):.
-00020d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020d70: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
-00020d80: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
-00020d90: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
-00020da0: 2073 656c 6629 0a20 2020 2020 2020 2072   self).        r
-00020db0: 6574 7572 6e20 6c6f 632c 205b 5d0a 0a0a  eturn loc, []...
-00020dc0: 636c 6173 7320 5374 7269 6e67 456e 6428  class StringEnd(
-00020dd0: 506f 7369 7469 6f6e 546f 6b65 6e29 3a0a  PositionToken):.
-00020de0: 2020 2020 2222 220a 2020 2020 4d61 7463      """.    Matc
-00020df0: 6865 7320 6966 2063 7572 7265 6e74 2070  hes if current p
-00020e00: 6f73 6974 696f 6e20 6973 2061 7420 7468  osition is at th
-00020e10: 6520 656e 6420 6f66 2074 6865 2070 6172  e end of the par
-00020e20: 7365 2073 7472 696e 670a 2020 2020 2222  se string.    ""
-00020e30: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-00020e40: 745f 5f28 7365 6c66 293a 0a20 2020 2020  t__(self):.     
-00020e50: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
-00020e60: 745f 5f28 290a 2020 2020 2020 2020 7365  t__().        se
-00020e70: 6c66 2e65 7272 6d73 6720 3d20 2245 7870  lf.errmsg = "Exp
-00020e80: 6563 7465 6420 656e 6420 6f66 2074 6578  ected end of tex
-00020e90: 7422 0a0a 2020 2020 6465 6620 7061 7273  t"..    def pars
-00020ea0: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
-00020eb0: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
-00020ec0: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
-00020ed0: 2020 2020 6966 206c 6f63 203c 206c 656e      if loc < len
-00020ee0: 2869 6e73 7472 696e 6729 3a0a 2020 2020  (instring):.    
-00020ef0: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
-00020f00: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
-00020f10: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
-00020f20: 2e65 7272 6d73 672c 2073 656c 6629 0a20  .errmsg, self). 
-00020f30: 2020 2020 2020 2065 6c69 6620 6c6f 6320         elif loc 
-00020f40: 3d3d 206c 656e 2869 6e73 7472 696e 6729  == len(instring)
-00020f50: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00020f60: 7475 726e 206c 6f63 202b 2031 2c20 5b5d  turn loc + 1, []
-00020f70: 0a20 2020 2020 2020 2065 6c69 6620 6c6f  .        elif lo
-00020f80: 6320 3e20 6c65 6e28 696e 7374 7269 6e67  c > len(instring
-00020f90: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
-00020fa0: 6574 7572 6e20 6c6f 632c 205b 5d0a 2020  eturn loc, [].  
-00020fb0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00020fc0: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
-00020fd0: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
-00020fe0: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
-00020ff0: 2e65 7272 6d73 672c 2073 656c 6629 0a0a  .errmsg, self)..
-00021000: 0a63 6c61 7373 2057 6f72 6453 7461 7274  .class WordStart
-00021010: 2850 6f73 6974 696f 6e54 6f6b 656e 293a  (PositionToken):
-00021020: 0a20 2020 2022 2222 4d61 7463 6865 7320  .    """Matches 
-00021030: 6966 2074 6865 2063 7572 7265 6e74 2070  if the current p
-00021040: 6f73 6974 696f 6e20 6973 2061 7420 7468  osition is at th
-00021050: 6520 6265 6769 6e6e 696e 6720 6f66 2061  e beginning of a
-00021060: 0a20 2020 203a 636c 6173 733a 6057 6f72  .    :class:`Wor
-00021070: 6460 2c20 616e 6420 6973 206e 6f74 2070  d`, and is not p
-00021080: 7265 6365 6465 6420 6279 2061 6e79 2063  receded by any c
-00021090: 6861 7261 6374 6572 2069 6e20 6120 6769  haracter in a gi
-000210a0: 7665 6e0a 2020 2020 7365 7420 6f66 2060  ven.    set of `
-000210b0: 6077 6f72 645f 6368 6172 7360 6020 2864  `word_chars`` (d
-000210c0: 6566 6175 6c74 3d20 6060 7072 696e 7461  efault= ``printa
-000210d0: 626c 6573 6060 292e 2054 6f20 656d 756c  bles``). To emul
-000210e0: 6174 6520 7468 650a 2020 2020 6060 5c62  ate the.    ``\b
-000210f0: 6060 2062 6568 6176 696f 7220 6f66 2072  `` behavior of r
-00021100: 6567 756c 6172 2065 7870 7265 7373 696f  egular expressio
-00021110: 6e73 2c20 7573 650a 2020 2020 6060 576f  ns, use.    ``Wo
-00021120: 7264 5374 6172 7428 616c 7068 616e 756d  rdStart(alphanum
-00021130: 7329 6060 2e20 6060 576f 7264 5374 6172  s)``. ``WordStar
-00021140: 7460 6020 7769 6c6c 2061 6c73 6f20 6d61  t`` will also ma
-00021150: 7463 6820 6174 0a20 2020 2074 6865 2062  tch at.    the b
-00021160: 6567 696e 6e69 6e67 206f 6620 7468 6520  eginning of the 
-00021170: 7374 7269 6e67 2062 6569 6e67 2070 6172  string being par
-00021180: 7365 642c 206f 7220 6174 2074 6865 2062  sed, or at the b
-00021190: 6567 696e 6e69 6e67 206f 660a 2020 2020  eginning of.    
-000211a0: 6120 6c69 6e65 2e0a 2020 2020 2222 220a  a line..    """.
-000211b0: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
-000211c0: 5f28 7365 6c66 2c20 776f 7264 5f63 6861  _(self, word_cha
-000211d0: 7273 3a20 7374 7220 3d20 7072 696e 7461  rs: str = printa
-000211e0: 626c 6573 2c20 2a2c 2077 6f72 6443 6861  bles, *, wordCha
-000211f0: 7273 3a20 7374 7220 3d20 7072 696e 7461  rs: str = printa
-00021200: 626c 6573 293a 0a20 2020 2020 2020 2077  bles):.        w
-00021210: 6f72 6443 6861 7273 203d 2077 6f72 645f  ordChars = word_
-00021220: 6368 6172 7320 6966 2077 6f72 6443 6861  chars if wordCha
-00021230: 7273 203d 3d20 7072 696e 7461 626c 6573  rs == printables
-00021240: 2065 6c73 6520 776f 7264 4368 6172 730a   else wordChars.
-00021250: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-00021260: 5f5f 696e 6974 5f5f 2829 0a20 2020 2020  __init__().     
-00021270: 2020 2073 656c 662e 776f 7264 4368 6172     self.wordChar
-00021280: 7320 3d20 7365 7428 776f 7264 4368 6172  s = set(wordChar
-00021290: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
-000212a0: 6572 726d 7367 203d 2022 4e6f 7420 6174  errmsg = "Not at
-000212b0: 2074 6865 2073 7461 7274 206f 6620 6120   the start of a 
-000212c0: 776f 7264 220a 0a20 2020 2064 6566 2070  word"..    def p
-000212d0: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
-000212e0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
-000212f0: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
-00021300: 2020 2020 2020 2069 6620 6c6f 6320 213d         if loc !=
-00021310: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-00021320: 6966 2028 0a20 2020 2020 2020 2020 2020  if (.           
-00021330: 2020 2020 2069 6e73 7472 696e 675b 6c6f       instring[lo
-00021340: 6320 2d20 315d 2069 6e20 7365 6c66 2e77  c - 1] in self.w
-00021350: 6f72 6443 6861 7273 0a20 2020 2020 2020  ordChars.       
-00021360: 2020 2020 2020 2020 206f 7220 696e 7374           or inst
-00021370: 7269 6e67 5b6c 6f63 5d20 6e6f 7420 696e  ring[loc] not in
-00021380: 2073 656c 662e 776f 7264 4368 6172 730a   self.wordChars.
-00021390: 2020 2020 2020 2020 2020 2020 293a 0a20              ):. 
-000213a0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-000213b0: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
-000213c0: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
-000213d0: 632c 2073 656c 662e 6572 726d 7367 2c20  c, self.errmsg, 
-000213e0: 7365 6c66 290a 2020 2020 2020 2020 7265  self).        re
-000213f0: 7475 726e 206c 6f63 2c20 5b5d 0a0a 0a63  turn loc, []...c
-00021400: 6c61 7373 2057 6f72 6445 6e64 2850 6f73  lass WordEnd(Pos
-00021410: 6974 696f 6e54 6f6b 656e 293a 0a20 2020  itionToken):.   
-00021420: 2022 2222 4d61 7463 6865 7320 6966 2074   """Matches if t
-00021430: 6865 2063 7572 7265 6e74 2070 6f73 6974  he current posit
-00021440: 696f 6e20 6973 2061 7420 7468 6520 656e  ion is at the en
-00021450: 6420 6f66 2061 203a 636c 6173 733a 6057  d of a :class:`W
-00021460: 6f72 6460 2c0a 2020 2020 616e 6420 6973  ord`,.    and is
-00021470: 206e 6f74 2066 6f6c 6c6f 7765 6420 6279   not followed by
-00021480: 2061 6e79 2063 6861 7261 6374 6572 2069   any character i
-00021490: 6e20 6120 6769 7665 6e20 7365 7420 6f66  n a given set of
-000214a0: 2060 6077 6f72 645f 6368 6172 7360 600a   ``word_chars``.
-000214b0: 2020 2020 2864 6566 6175 6c74 3d20 6060      (default= ``
-000214c0: 7072 696e 7461 626c 6573 6060 292e 2054  printables``). T
-000214d0: 6f20 656d 756c 6174 6520 7468 6520 6060  o emulate the ``
-000214e0: 5c62 6060 2062 6568 6176 696f 7220 6f66  \b`` behavior of
-000214f0: 0a20 2020 2072 6567 756c 6172 2065 7870  .    regular exp
-00021500: 7265 7373 696f 6e73 2c20 7573 6520 6060  ressions, use ``
-00021510: 576f 7264 456e 6428 616c 7068 616e 756d  WordEnd(alphanum
-00021520: 7329 6060 2e20 6060 576f 7264 456e 6460  s)``. ``WordEnd`
-00021530: 600a 2020 2020 7769 6c6c 2061 6c73 6f20  `.    will also 
-00021540: 6d61 7463 6820 6174 2074 6865 2065 6e64  match at the end
-00021550: 206f 6620 7468 6520 7374 7269 6e67 2062   of the string b
-00021560: 6569 6e67 2070 6172 7365 642c 206f 7220  eing parsed, or 
-00021570: 6174 2074 6865 2065 6e64 0a20 2020 206f  at the end.    o
-00021580: 6620 6120 6c69 6e65 2e0a 2020 2020 2222  f a line..    ""
-00021590: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-000215a0: 745f 5f28 7365 6c66 2c20 776f 7264 5f63  t__(self, word_c
-000215b0: 6861 7273 3a20 7374 7220 3d20 7072 696e  hars: str = prin
-000215c0: 7461 626c 6573 2c20 2a2c 2077 6f72 6443  tables, *, wordC
-000215d0: 6861 7273 3a20 7374 7220 3d20 7072 696e  hars: str = prin
-000215e0: 7461 626c 6573 293a 0a20 2020 2020 2020  tables):.       
-000215f0: 2077 6f72 6443 6861 7273 203d 2077 6f72   wordChars = wor
-00021600: 645f 6368 6172 7320 6966 2077 6f72 6443  d_chars if wordC
-00021610: 6861 7273 203d 3d20 7072 696e 7461 626c  hars == printabl
-00021620: 6573 2065 6c73 6520 776f 7264 4368 6172  es else wordChar
-00021630: 730a 2020 2020 2020 2020 7375 7065 7228  s.        super(
-00021640: 292e 5f5f 696e 6974 5f5f 2829 0a20 2020  ).__init__().   
-00021650: 2020 2020 2073 656c 662e 776f 7264 4368       self.wordCh
-00021660: 6172 7320 3d20 7365 7428 776f 7264 4368  ars = set(wordCh
-00021670: 6172 7329 0a20 2020 2020 2020 2073 656c  ars).        sel
-00021680: 662e 736b 6970 5768 6974 6573 7061 6365  f.skipWhitespace
-00021690: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
-000216a0: 2073 656c 662e 6572 726d 7367 203d 2022   self.errmsg = "
-000216b0: 4e6f 7420 6174 2074 6865 2065 6e64 206f  Not at the end o
-000216c0: 6620 6120 776f 7264 220a 0a20 2020 2064  f a word"..    d
-000216d0: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
-000216e0: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
-000216f0: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
-00021700: 293a 0a20 2020 2020 2020 2069 6e73 7472  ):.        instr
-00021710: 6c65 6e20 3d20 6c65 6e28 696e 7374 7269  len = len(instri
-00021720: 6e67 290a 2020 2020 2020 2020 6966 2069  ng).        if i
-00021730: 6e73 7472 6c65 6e20 3e20 3020 616e 6420  nstrlen > 0 and 
-00021740: 6c6f 6320 3c20 696e 7374 726c 656e 3a0a  loc < instrlen:.
-00021750: 2020 2020 2020 2020 2020 2020 6966 2028              if (
-00021760: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00021770: 2069 6e73 7472 696e 675b 6c6f 635d 2069   instring[loc] i
-00021780: 6e20 7365 6c66 2e77 6f72 6443 6861 7273  n self.wordChars
-00021790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000217a0: 206f 7220 696e 7374 7269 6e67 5b6c 6f63   or instring[loc
-000217b0: 202d 2031 5d20 6e6f 7420 696e 2073 656c   - 1] not in sel
-000217c0: 662e 776f 7264 4368 6172 730a 2020 2020  f.wordChars.    
-000217d0: 2020 2020 2020 2020 293a 0a20 2020 2020          ):.     
-000217e0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-000217f0: 2050 6172 7365 4578 6365 7074 696f 6e28   ParseException(
-00021800: 696e 7374 7269 6e67 2c20 6c6f 632c 2073  instring, loc, s
-00021810: 656c 662e 6572 726d 7367 2c20 7365 6c66  elf.errmsg, self
-00021820: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-00021830: 206c 6f63 2c20 5b5d 0a0a 0a63 6c61 7373   loc, []...class
-00021840: 2050 6172 7365 4578 7072 6573 7369 6f6e   ParseExpression
-00021850: 2850 6172 7365 7245 6c65 6d65 6e74 293a  (ParserElement):
-00021860: 0a20 2020 2022 2222 4162 7374 7261 6374  .    """Abstract
-00021870: 2073 7562 636c 6173 7320 6f66 2050 6172   subclass of Par
-00021880: 7365 7245 6c65 6d65 6e74 2c20 666f 7220  serElement, for 
-00021890: 636f 6d62 696e 696e 6720 616e 640a 2020  combining and.  
-000218a0: 2020 706f 7374 2d70 726f 6365 7373 696e    post-processin
-000218b0: 6720 7061 7273 6564 2074 6f6b 656e 732e  g parsed tokens.
-000218c0: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
-000218d0: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
-000218e0: 2065 7870 7273 3a20 7479 7069 6e67 2e49   exprs: typing.I
-000218f0: 7465 7261 626c 655b 5061 7273 6572 456c  terable[ParserEl
-00021900: 656d 656e 745d 2c20 7361 7665 6c69 7374  ement], savelist
-00021910: 3a20 626f 6f6c 203d 2046 616c 7365 293a  : bool = False):
-00021920: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
-00021930: 2e5f 5f69 6e69 745f 5f28 7361 7665 6c69  .__init__(saveli
-00021940: 7374 290a 2020 2020 2020 2020 7365 6c66  st).        self
-00021950: 2e65 7870 7273 3a20 4c69 7374 5b50 6172  .exprs: List[Par
-00021960: 7365 7245 6c65 6d65 6e74 5d0a 2020 2020  serElement].    
-00021970: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-00021980: 6528 6578 7072 732c 205f 6765 6e65 7261  e(exprs, _genera
-00021990: 746f 7254 7970 6529 3a0a 2020 2020 2020  torType):.      
-000219a0: 2020 2020 2020 6578 7072 7320 3d20 6c69        exprs = li
-000219b0: 7374 2865 7870 7273 290a 0a20 2020 2020  st(exprs)..     
-000219c0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-000219d0: 2865 7870 7273 2c20 7374 725f 7479 7065  (exprs, str_type
-000219e0: 293a 0a20 2020 2020 2020 2020 2020 2073  ):.            s
-000219f0: 656c 662e 6578 7072 7320 3d20 5b73 656c  elf.exprs = [sel
-00021a00: 662e 5f6c 6974 6572 616c 5374 7269 6e67  f._literalString
-00021a10: 436c 6173 7328 6578 7072 7329 5d0a 2020  Class(exprs)].  
-00021a20: 2020 2020 2020 656c 6966 2069 7369 6e73        elif isins
-00021a30: 7461 6e63 6528 6578 7072 732c 2050 6172  tance(exprs, Par
-00021a40: 7365 7245 6c65 6d65 6e74 293a 0a20 2020  serElement):.   
-00021a50: 2020 2020 2020 2020 2073 656c 662e 6578           self.ex
-00021a60: 7072 7320 3d20 5b65 7870 7273 5d0a 2020  prs = [exprs].  
-00021a70: 2020 2020 2020 656c 6966 2069 7369 6e73        elif isins
-00021a80: 7461 6e63 6528 6578 7072 732c 2049 7465  tance(exprs, Ite
-00021a90: 7261 626c 6529 3a0a 2020 2020 2020 2020  rable):.        
-00021aa0: 2020 2020 6578 7072 7320 3d20 6c69 7374      exprs = list
-00021ab0: 2865 7870 7273 290a 2020 2020 2020 2020  (exprs).        
-00021ac0: 2020 2020 2320 6966 2073 6571 7565 6e63      # if sequenc
-00021ad0: 6520 6f66 2073 7472 696e 6773 2070 726f  e of strings pro
-00021ae0: 7669 6465 642c 2077 7261 7020 7769 7468  vided, wrap with
-00021af0: 204c 6974 6572 616c 0a20 2020 2020 2020   Literal.       
-00021b00: 2020 2020 2069 6620 616e 7928 6973 696e       if any(isin
-00021b10: 7374 616e 6365 2865 7870 722c 2073 7472  stance(expr, str
-00021b20: 5f74 7970 6529 2066 6f72 2065 7870 7220  _type) for expr 
-00021b30: 696e 2065 7870 7273 293a 0a20 2020 2020  in exprs):.     
-00021b40: 2020 2020 2020 2020 2020 2065 7870 7273             exprs
-00021b50: 203d 2028 0a20 2020 2020 2020 2020 2020   = (.           
-00021b60: 2020 2020 2020 2020 2073 656c 662e 5f6c           self._l
-00021b70: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
-00021b80: 7328 6529 2069 6620 6973 696e 7374 616e  s(e) if isinstan
-00021b90: 6365 2865 2c20 7374 725f 7479 7065 2920  ce(e, str_type) 
-00021ba0: 656c 7365 2065 0a20 2020 2020 2020 2020  else e.         
-00021bb0: 2020 2020 2020 2020 2020 2066 6f72 2065             for e
-00021bc0: 2069 6e20 6578 7072 730a 2020 2020 2020   in exprs.      
-00021bd0: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
-00021be0: 2020 2020 2020 2020 7365 6c66 2e65 7870          self.exp
-00021bf0: 7273 203d 206c 6973 7428 6578 7072 7329  rs = list(exprs)
-00021c00: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00021c10: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
-00021c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021c30: 7365 6c66 2e65 7870 7273 203d 206c 6973  self.exprs = lis
-00021c40: 7428 6578 7072 7329 0a20 2020 2020 2020  t(exprs).       
-00021c50: 2020 2020 2065 7863 6570 7420 5479 7065       except Type
-00021c60: 4572 726f 723a 0a20 2020 2020 2020 2020  Error:.         
-00021c70: 2020 2020 2020 2073 656c 662e 6578 7072         self.expr
-00021c80: 7320 3d20 5b65 7870 7273 5d0a 2020 2020  s = [exprs].    
-00021c90: 2020 2020 7365 6c66 2e63 616c 6c50 7265      self.callPre
-00021ca0: 7061 7273 6520 3d20 4661 6c73 650a 0a20  parse = False.. 
-00021cb0: 2020 2064 6566 2072 6563 7572 7365 2873     def recurse(s
-00021cc0: 656c 6629 202d 3e20 4c69 7374 5b50 6172  elf) -> List[Par
-00021cd0: 7365 7245 6c65 6d65 6e74 5d3a 0a20 2020  serElement]:.   
-00021ce0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00021cf0: 2e65 7870 7273 5b3a 5d0a 0a20 2020 2064  .exprs[:]..    d
-00021d00: 6566 2061 7070 656e 6428 7365 6c66 2c20  ef append(self, 
-00021d10: 6f74 6865 7229 202d 3e20 5061 7273 6572  other) -> Parser
-00021d20: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
-00021d30: 2073 656c 662e 6578 7072 732e 6170 7065   self.exprs.appe
-00021d40: 6e64 286f 7468 6572 290a 2020 2020 2020  nd(other).      
-00021d50: 2020 7365 6c66 2e5f 6465 6661 756c 744e    self._defaultN
-00021d60: 616d 6520 3d20 4e6f 6e65 0a20 2020 2020  ame = None.     
-00021d70: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-00021d80: 2020 2020 6465 6620 6c65 6176 655f 7768      def leave_wh
-00021d90: 6974 6573 7061 6365 2873 656c 662c 2072  itespace(self, r
-00021da0: 6563 7572 7369 7665 3a20 626f 6f6c 203d  ecursive: bool =
-00021db0: 2054 7275 6529 202d 3e20 5061 7273 6572   True) -> Parser
-00021dc0: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
-00021dd0: 2022 2222 0a20 2020 2020 2020 2045 7874   """.        Ext
-00021de0: 656e 6473 2060 606c 6561 7665 5f77 6869  ends ``leave_whi
-00021df0: 7465 7370 6163 6560 6020 6465 6669 6e65  tespace`` define
-00021e00: 6420 696e 2062 6173 6520 636c 6173 732c  d in base class,
-00021e10: 2061 6e64 2061 6c73 6f20 696e 766f 6b65   and also invoke
-00021e20: 7320 6060 6c65 6176 655f 7768 6974 6573  s ``leave_whites
-00021e30: 7061 6365 6060 206f 6e0a 2020 2020 2020  pace`` on.      
-00021e40: 2020 2020 2061 6c6c 2063 6f6e 7461 696e       all contain
-00021e50: 6564 2065 7870 7265 7373 696f 6e73 2e0a  ed expressions..
-00021e60: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00021e70: 2020 2020 7375 7065 7228 292e 6c65 6176      super().leav
-00021e80: 655f 7768 6974 6573 7061 6365 2872 6563  e_whitespace(rec
-00021e90: 7572 7369 7665 290a 0a20 2020 2020 2020  ursive)..       
-00021ea0: 2069 6620 7265 6375 7273 6976 653a 0a20   if recursive:. 
-00021eb0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00021ec0: 6578 7072 7320 3d20 5b65 2e63 6f70 7928  exprs = [e.copy(
-00021ed0: 2920 666f 7220 6520 696e 2073 656c 662e  ) for e in self.
-00021ee0: 6578 7072 735d 0a20 2020 2020 2020 2020  exprs].         
-00021ef0: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
-00021f00: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
-00021f10: 2020 2020 2020 2020 652e 6c65 6176 655f          e.leave_
-00021f20: 7768 6974 6573 7061 6365 2872 6563 7572  whitespace(recur
-00021f30: 7369 7665 290a 2020 2020 2020 2020 7265  sive).        re
-00021f40: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
-00021f50: 6566 2069 676e 6f72 655f 7768 6974 6573  ef ignore_whites
-00021f60: 7061 6365 2873 656c 662c 2072 6563 7572  pace(self, recur
-00021f70: 7369 7665 3a20 626f 6f6c 203d 2054 7275  sive: bool = Tru
-00021f80: 6529 202d 3e20 5061 7273 6572 456c 656d  e) -> ParserElem
-00021f90: 656e 743a 0a20 2020 2020 2020 2022 2222  ent:.        """
-00021fa0: 0a20 2020 2020 2020 2045 7874 656e 6473  .        Extends
-00021fb0: 2060 6069 676e 6f72 655f 7768 6974 6573   ``ignore_whites
-00021fc0: 7061 6365 6060 2064 6566 696e 6564 2069  pace`` defined i
-00021fd0: 6e20 6261 7365 2063 6c61 7373 2c20 616e  n base class, an
-00021fe0: 6420 616c 736f 2069 6e76 6f6b 6573 2060  d also invokes `
-00021ff0: 606c 6561 7665 5f77 6869 7465 7370 6163  `leave_whitespac
-00022000: 6560 6020 6f6e 0a20 2020 2020 2020 2020  e`` on.         
-00022010: 2020 616c 6c20 636f 6e74 6169 6e65 6420    all contained 
-00022020: 6578 7072 6573 7369 6f6e 732e 0a20 2020  expressions..   
-00022030: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00022040: 2073 7570 6572 2829 2e69 676e 6f72 655f   super().ignore_
-00022050: 7768 6974 6573 7061 6365 2872 6563 7572  whitespace(recur
-00022060: 7369 7665 290a 2020 2020 2020 2020 6966  sive).        if
-00022070: 2072 6563 7572 7369 7665 3a0a 2020 2020   recursive:.    
-00022080: 2020 2020 2020 2020 7365 6c66 2e65 7870          self.exp
-00022090: 7273 203d 205b 652e 636f 7079 2829 2066  rs = [e.copy() f
-000220a0: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
-000220b0: 7273 5d0a 2020 2020 2020 2020 2020 2020  rs].            
-000220c0: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
-000220d0: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
-000220e0: 2020 2020 2065 2e69 676e 6f72 655f 7768       e.ignore_wh
-000220f0: 6974 6573 7061 6365 2872 6563 7572 7369  itespace(recursi
-00022100: 7665 290a 2020 2020 2020 2020 7265 7475  ve).        retu
-00022110: 726e 2073 656c 660a 0a20 2020 2064 6566  rn self..    def
-00022120: 2069 676e 6f72 6528 7365 6c66 2c20 6f74   ignore(self, ot
-00022130: 6865 7229 202d 3e20 5061 7273 6572 456c  her) -> ParserEl
-00022140: 656d 656e 743a 0a20 2020 2020 2020 2069  ement:.        i
-00022150: 6620 6973 696e 7374 616e 6365 286f 7468  f isinstance(oth
-00022160: 6572 2c20 5375 7070 7265 7373 293a 0a20  er, Suppress):. 
-00022170: 2020 2020 2020 2020 2020 2069 6620 6f74             if ot
-00022180: 6865 7220 6e6f 7420 696e 2073 656c 662e  her not in self.
-00022190: 6967 6e6f 7265 4578 7072 733a 0a20 2020  ignoreExprs:.   
-000221a0: 2020 2020 2020 2020 2020 2020 2073 7570               sup
-000221b0: 6572 2829 2e69 676e 6f72 6528 6f74 6865  er().ignore(othe
-000221c0: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
-000221d0: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
-000221e0: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
-000221f0: 2020 2020 2020 2020 2020 2020 652e 6967              e.ig
-00022200: 6e6f 7265 2873 656c 662e 6967 6e6f 7265  nore(self.ignore
-00022210: 4578 7072 735b 2d31 5d29 0a20 2020 2020  Exprs[-1]).     
-00022220: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00022230: 2020 2020 2073 7570 6572 2829 2e69 676e       super().ign
-00022240: 6f72 6528 6f74 6865 7229 0a20 2020 2020  ore(other).     
-00022250: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
-00022260: 7365 6c66 2e65 7870 7273 3a0a 2020 2020  self.exprs:.    
-00022270: 2020 2020 2020 2020 2020 2020 652e 6967              e.ig
-00022280: 6e6f 7265 2873 656c 662e 6967 6e6f 7265  nore(self.ignore
-00022290: 4578 7072 735b 2d31 5d29 0a20 2020 2020  Exprs[-1]).     
-000222a0: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-000222b0: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
-000222c0: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
-000222d0: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
-000222e0: 2020 2072 6574 7572 6e20 6622 7b73 656c     return f"{sel
-000222f0: 662e 5f5f 636c 6173 735f 5f2e 5f5f 6e61  f.__class__.__na
-00022300: 6d65 5f5f 7d3a 287b 7374 7228 7365 6c66  me__}:({str(self
-00022310: 2e65 7870 7273 297d 2922 0a0a 2020 2020  .exprs)})"..    
-00022320: 6465 6620 7374 7265 616d 6c69 6e65 2873  def streamline(s
-00022330: 656c 6629 202d 3e20 5061 7273 6572 456c  elf) -> ParserEl
-00022340: 656d 656e 743a 0a20 2020 2020 2020 2069  ement:.        i
-00022350: 6620 7365 6c66 2e73 7472 6561 6d6c 696e  f self.streamlin
-00022360: 6564 3a0a 2020 2020 2020 2020 2020 2020  ed:.            
-00022370: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
-00022380: 2020 2020 2073 7570 6572 2829 2e73 7472       super().str
-00022390: 6561 6d6c 696e 6528 290a 0a20 2020 2020  eamline()..     
-000223a0: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
-000223b0: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
-000223c0: 2020 2020 652e 7374 7265 616d 6c69 6e65      e.streamline
-000223d0: 2829 0a0a 2020 2020 2020 2020 2320 636f  ()..        # co
-000223e0: 6c6c 6170 7365 206e 6573 7465 6420 3a63  llapse nested :c
-000223f0: 6c61 7373 3a60 416e 6460 2773 206f 6620  lass:`And`'s of 
-00022400: 7468 6520 666f 726d 2060 6041 6e64 2841  the form ``And(A
-00022410: 6e64 2841 6e64 2861 2c20 6229 2c20 6329  nd(And(a, b), c)
-00022420: 2c20 6429 6060 2074 6f20 6060 416e 6428  , d)`` to ``And(
-00022430: 612c 2062 2c20 632c 2064 2960 600a 2020  a, b, c, d)``.  
-00022440: 2020 2020 2020 2320 6275 7420 6f6e 6c79        # but only
-00022450: 2069 6620 7468 6572 6520 6172 6520 6e6f   if there are no
-00022460: 2070 6172 7365 2061 6374 696f 6e73 206f   parse actions o
-00022470: 7220 7265 7375 6c74 734e 616d 6573 206f  r resultsNames o
-00022480: 6e20 7468 6520 6e65 7374 6564 2041 6e64  n the nested And
-00022490: 2773 0a20 2020 2020 2020 2023 2028 6c69  's.        # (li
-000224a0: 6b65 7769 7365 2066 6f72 203a 636c 6173  kewise for :clas
-000224b0: 733a 604f 7260 2773 2061 6e64 203a 636c  s:`Or`'s and :cl
-000224c0: 6173 733a 604d 6174 6368 4669 7273 7460  ass:`MatchFirst`
-000224d0: 2773 290a 2020 2020 2020 2020 6966 206c  's).        if l
-000224e0: 656e 2873 656c 662e 6578 7072 7329 203d  en(self.exprs) =
-000224f0: 3d20 323a 0a20 2020 2020 2020 2020 2020  = 2:.           
-00022500: 206f 7468 6572 203d 2073 656c 662e 6578   other = self.ex
-00022510: 7072 735b 305d 0a20 2020 2020 2020 2020  prs[0].         
-00022520: 2020 2069 6620 280a 2020 2020 2020 2020     if (.        
-00022530: 2020 2020 2020 2020 6973 696e 7374 616e          isinstan
-00022540: 6365 286f 7468 6572 2c20 7365 6c66 2e5f  ce(other, self._
-00022550: 5f63 6c61 7373 5f5f 290a 2020 2020 2020  _class__).      
-00022560: 2020 2020 2020 2020 2020 616e 6420 6e6f            and no
-00022570: 7420 6f74 6865 722e 7061 7273 6541 6374  t other.parseAct
-00022580: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
-00022590: 2020 2020 616e 6420 6f74 6865 722e 7265      and other.re
-000225a0: 7375 6c74 734e 616d 6520 6973 204e 6f6e  sultsName is Non
-000225b0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-000225c0: 2020 616e 6420 6e6f 7420 6f74 6865 722e    and not other.
-000225d0: 6465 6275 670a 2020 2020 2020 2020 2020  debug.          
-000225e0: 2020 293a 0a20 2020 2020 2020 2020 2020    ):.           
-000225f0: 2020 2020 2073 656c 662e 6578 7072 7320       self.exprs 
-00022600: 3d20 6f74 6865 722e 6578 7072 735b 3a5d  = other.exprs[:]
-00022610: 202b 205b 7365 6c66 2e65 7870 7273 5b31   + [self.exprs[1
-00022620: 5d5d 0a20 2020 2020 2020 2020 2020 2020  ]].             
-00022630: 2020 2073 656c 662e 5f64 6566 6175 6c74     self._default
-00022640: 4e61 6d65 203d 204e 6f6e 650a 2020 2020  Name = None.    
-00022650: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00022660: 2e6d 6179 5265 7475 726e 456d 7074 7920  .mayReturnEmpty 
-00022670: 7c3d 206f 7468 6572 2e6d 6179 5265 7475  |= other.mayRetu
-00022680: 726e 456d 7074 790a 2020 2020 2020 2020  rnEmpty.        
-00022690: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
-000226a0: 496e 6465 7845 7272 6f72 207c 3d20 6f74  IndexError |= ot
-000226b0: 6865 722e 6d61 7949 6e64 6578 4572 726f  her.mayIndexErro
-000226c0: 720a 0a20 2020 2020 2020 2020 2020 206f  r..            o
-000226d0: 7468 6572 203d 2073 656c 662e 6578 7072  ther = self.expr
-000226e0: 735b 2d31 5d0a 2020 2020 2020 2020 2020  s[-1].          
-000226f0: 2020 6966 2028 0a20 2020 2020 2020 2020    if (.         
-00022700: 2020 2020 2020 2069 7369 6e73 7461 6e63         isinstanc
-00022710: 6528 6f74 6865 722c 2073 656c 662e 5f5f  e(other, self.__
-00022720: 636c 6173 735f 5f29 0a20 2020 2020 2020  class__).       
-00022730: 2020 2020 2020 2020 2061 6e64 206e 6f74           and not
-00022740: 206f 7468 6572 2e70 6172 7365 4163 7469   other.parseActi
-00022750: 6f6e 0a20 2020 2020 2020 2020 2020 2020  on.             
-00022760: 2020 2061 6e64 206f 7468 6572 2e72 6573     and other.res
-00022770: 756c 7473 4e61 6d65 2069 7320 4e6f 6e65  ultsName is None
-00022780: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00022790: 2061 6e64 206e 6f74 206f 7468 6572 2e64   and not other.d
-000227a0: 6562 7567 0a20 2020 2020 2020 2020 2020  ebug.           
-000227b0: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
-000227c0: 2020 2020 7365 6c66 2e65 7870 7273 203d      self.exprs =
-000227d0: 2073 656c 662e 6578 7072 735b 3a2d 315d   self.exprs[:-1]
-000227e0: 202b 206f 7468 6572 2e65 7870 7273 5b3a   + other.exprs[:
-000227f0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-00022800: 2020 7365 6c66 2e5f 6465 6661 756c 744e    self._defaultN
-00022810: 616d 6520 3d20 4e6f 6e65 0a20 2020 2020  ame = None.     
-00022820: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00022830: 6d61 7952 6574 7572 6e45 6d70 7479 207c  mayReturnEmpty |
-00022840: 3d20 6f74 6865 722e 6d61 7952 6574 7572  = other.mayRetur
-00022850: 6e45 6d70 7479 0a20 2020 2020 2020 2020  nEmpty.         
-00022860: 2020 2020 2020 2073 656c 662e 6d61 7949         self.mayI
-00022870: 6e64 6578 4572 726f 7220 7c3d 206f 7468  ndexError |= oth
-00022880: 6572 2e6d 6179 496e 6465 7845 7272 6f72  er.mayIndexError
-00022890: 0a0a 2020 2020 2020 2020 7365 6c66 2e65  ..        self.e
-000228a0: 7272 6d73 6720 3d20 2245 7870 6563 7465  rrmsg = "Expecte
-000228b0: 6420 2220 2b20 7374 7228 7365 6c66 290a  d " + str(self).
-000228c0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000228d0: 7365 6c66 0a0a 2020 2020 6465 6620 7661  self..    def va
-000228e0: 6c69 6461 7465 2873 656c 662c 2076 616c  lidate(self, val
-000228f0: 6964 6174 6554 7261 6365 3d4e 6f6e 6529  idateTrace=None)
-00022900: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
-00022910: 2020 7761 726e 696e 6773 2e77 6172 6e28    warnings.warn(
-00022920: 0a20 2020 2020 2020 2020 2020 2022 5061  .            "Pa
-00022930: 7273 6572 456c 656d 656e 742e 7661 6c69  rserElement.vali
-00022940: 6461 7465 2829 2069 7320 6465 7072 6563  date() is deprec
-00022950: 6174 6564 2c20 616e 6420 7368 6f75 6c64  ated, and should
-00022960: 206e 6f74 2062 6520 7573 6564 2074 6f20   not be used to 
-00022970: 6368 6563 6b20 666f 7220 6c65 6674 2072  check for left r
-00022980: 6563 7572 7369 6f6e 222c 0a20 2020 2020  ecursion",.     
-00022990: 2020 2020 2020 2044 6570 7265 6361 7469         Deprecati
-000229a0: 6f6e 5761 726e 696e 672c 0a20 2020 2020  onWarning,.     
-000229b0: 2020 2020 2020 2073 7461 636b 6c65 7665         stackleve
-000229c0: 6c3d 322c 0a20 2020 2020 2020 2029 0a20  l=2,.        ). 
-000229d0: 2020 2020 2020 2074 6d70 203d 2028 7661         tmp = (va
-000229e0: 6c69 6461 7465 5472 6163 6520 6966 2076  lidateTrace if v
-000229f0: 616c 6964 6174 6554 7261 6365 2069 7320  alidateTrace is 
-00022a00: 6e6f 7420 4e6f 6e65 2065 6c73 6520 5b5d  not None else []
-00022a10: 295b 3a5d 202b 205b 7365 6c66 5d0a 2020  )[:] + [self].  
-00022a20: 2020 2020 2020 666f 7220 6520 696e 2073        for e in s
-00022a30: 656c 662e 6578 7072 733a 0a20 2020 2020  elf.exprs:.     
-00022a40: 2020 2020 2020 2065 2e76 616c 6964 6174         e.validat
-00022a50: 6528 746d 7029 0a20 2020 2020 2020 2073  e(tmp).        s
-00022a60: 656c 662e 5f63 6865 636b 5265 6375 7273  elf._checkRecurs
-00022a70: 696f 6e28 5b5d 290a 0a20 2020 2064 6566  ion([])..    def
-00022a80: 2063 6f70 7928 7365 6c66 2920 2d3e 2050   copy(self) -> P
-00022a90: 6172 7365 7245 6c65 6d65 6e74 3a0a 2020  arserElement:.  
-00022aa0: 2020 2020 2020 7265 7420 3d20 7375 7065        ret = supe
-00022ab0: 7228 292e 636f 7079 2829 0a20 2020 2020  r().copy().     
-00022ac0: 2020 2072 6574 203d 2074 7970 696e 672e     ret = typing.
-00022ad0: 6361 7374 2850 6172 7365 4578 7072 6573  cast(ParseExpres
-00022ae0: 7369 6f6e 2c20 7265 7429 0a20 2020 2020  sion, ret).     
-00022af0: 2020 2072 6574 2e65 7870 7273 203d 205b     ret.exprs = [
-00022b00: 652e 636f 7079 2829 2066 6f72 2065 2069  e.copy() for e i
-00022b10: 6e20 7365 6c66 2e65 7870 7273 5d0a 2020  n self.exprs].  
-00022b20: 2020 2020 2020 7265 7475 726e 2072 6574        return ret
-00022b30: 0a0a 2020 2020 6465 6620 5f73 6574 5265  ..    def _setRe
-00022b40: 7375 6c74 734e 616d 6528 7365 6c66 2c20  sultsName(self, 
-00022b50: 6e61 6d65 2c20 6c69 7374 416c 6c4d 6174  name, listAllMat
-00022b60: 6368 6573 3d46 616c 7365 293a 0a20 2020  ches=False):.   
-00022b70: 2020 2020 2069 6620 280a 2020 2020 2020       if (.      
-00022b80: 2020 2020 2020 5f5f 6469 6167 5f5f 2e77        __diag__.w
-00022b90: 6172 6e5f 756e 6772 6f75 7065 645f 6e61  arn_ungrouped_na
-00022ba0: 6d65 645f 746f 6b65 6e73 5f69 6e5f 636f  med_tokens_in_co
-00022bb0: 6c6c 6563 7469 6f6e 0a20 2020 2020 2020  llection.       
-00022bc0: 2020 2020 2061 6e64 2044 6961 676e 6f73       and Diagnos
-00022bd0: 7469 6373 2e77 6172 6e5f 756e 6772 6f75  tics.warn_ungrou
-00022be0: 7065 645f 6e61 6d65 645f 746f 6b65 6e73  ped_named_tokens
-00022bf0: 5f69 6e5f 636f 6c6c 6563 7469 6f6e 0a20  _in_collection. 
-00022c00: 2020 2020 2020 2020 2020 206e 6f74 2069             not i
-00022c10: 6e20 7365 6c66 2e73 7570 7072 6573 735f  n self.suppress_
-00022c20: 7761 726e 696e 6773 5f0a 2020 2020 2020  warnings_.      
-00022c30: 2020 293a 0a20 2020 2020 2020 2020 2020    ):.           
-00022c40: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
-00022c50: 7870 7273 3a0a 2020 2020 2020 2020 2020  xprs:.          
-00022c60: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
-00022c70: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00022c80: 7369 6e73 7461 6e63 6528 652c 2050 6172  sinstance(e, Par
-00022c90: 7365 7245 6c65 6d65 6e74 290a 2020 2020  serElement).    
-00022ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022cb0: 616e 6420 652e 7265 7375 6c74 734e 616d  and e.resultsNam
-00022cc0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00022cd0: 2020 2020 2020 616e 6420 4469 6167 6e6f        and Diagno
-00022ce0: 7374 6963 732e 7761 726e 5f75 6e67 726f  stics.warn_ungro
-00022cf0: 7570 6564 5f6e 616d 6564 5f74 6f6b 656e  uped_named_token
-00022d00: 735f 696e 5f63 6f6c 6c65 6374 696f 6e0a  s_in_collection.
-00022d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022d20: 2020 2020 6e6f 7420 696e 2065 2e73 7570      not in e.sup
-00022d30: 7072 6573 735f 7761 726e 696e 6773 5f0a  press_warnings_.
-00022d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022d50: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00022d60: 2020 2020 2020 2077 6172 6e69 6e67 732e         warnings.
-00022d70: 7761 726e 280a 2020 2020 2020 2020 2020  warn(.          
-00022d80: 2020 2020 2020 2020 2020 2020 2020 227b                "{
-00022d90: 7d3a 2073 6574 7469 6e67 2072 6573 756c  }: setting resul
-00022da0: 7473 206e 616d 6520 7b21 727d 206f 6e20  ts name {!r} on 
-00022db0: 7b7d 2065 7870 7265 7373 696f 6e20 220a  {} expression ".
-00022dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022dd0: 2020 2020 2020 2020 2263 6f6c 6c69 6465          "collide
-00022de0: 7320 7769 7468 207b 2172 7d20 6f6e 2063  s with {!r} on c
-00022df0: 6f6e 7461 696e 6564 2065 7870 7265 7373  ontained express
-00022e00: 696f 6e22 2e66 6f72 6d61 7428 0a20 2020  ion".format(.   
-00022e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022e20: 2020 2020 2020 2020 2022 7761 726e 5f75           "warn_u
-00022e30: 6e67 726f 7570 6564 5f6e 616d 6564 5f74  ngrouped_named_t
-00022e40: 6f6b 656e 735f 696e 5f63 6f6c 6c65 6374  okens_in_collect
-00022e50: 696f 6e22 2c0a 2020 2020 2020 2020 2020  ion",.          
+0001eaf0: 2029 0a20 2020 2020 2020 2020 2020 2020   ).             
+0001eb00: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0001eb10: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+0001eb20: 203d 2022 222e 6a6f 696e 280a 2020 2020   = "".join(.    
+0001eb30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001eb40: 2020 2020 6d61 7463 682e 6772 6f75 7028      match.group(
+0001eb50: 3129 5b2d 315d 2069 6620 6d61 7463 682e  1)[-1] if match.
+0001eb60: 6772 6f75 7028 3129 2065 6c73 6520 6d61  group(1) else ma
+0001eb70: 7463 682e 6772 6f75 7028 3229 0a20 2020  tch.group(2).   
+0001eb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001eb90: 2020 2020 2066 6f72 206d 6174 6368 2069       for match i
+0001eba0: 6e20 7365 6c66 2e75 6e71 756f 7465 5f73  n self.unquote_s
+0001ebb0: 6361 6e5f 7265 2e66 696e 6469 7465 7228  can_re.finditer(
+0001ebc0: 7265 7429 0a20 2020 2020 2020 2020 2020  ret).           
+0001ebd0: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+0001ebe0: 2020 2020 2020 2020 2020 2020 2320 7265              # re
+0001ebf0: 706c 6163 6520 6573 6361 7065 6420 7175  place escaped qu
+0001ec00: 6f74 6573 0a20 2020 2020 2020 2020 2020  otes.           
+0001ec10: 2020 2020 2069 6620 7365 6c66 2e65 7363       if self.esc
+0001ec20: 5175 6f74 653a 0a20 2020 2020 2020 2020  Quote:.         
+0001ec30: 2020 2020 2020 2020 2020 2072 6574 203d             ret =
+0001ec40: 2072 6574 2e72 6570 6c61 6365 2873 656c   ret.replace(sel
+0001ec50: 662e 6573 6351 756f 7465 2c20 7365 6c66  f.escQuote, self
+0001ec60: 2e65 6e64 5175 6f74 6543 6861 7229 0a0a  .endQuoteChar)..
+0001ec70: 2020 2020 2020 2020 7265 7475 726e 206c          return l
+0001ec80: 6f63 2c20 7265 740a 0a0a 636c 6173 7320  oc, ret...class 
+0001ec90: 4368 6172 734e 6f74 496e 2854 6f6b 656e  CharsNotIn(Token
+0001eca0: 293a 0a20 2020 2022 2222 546f 6b65 6e20  ):.    """Token 
+0001ecb0: 666f 7220 6d61 7463 6869 6e67 2077 6f72  for matching wor
+0001ecc0: 6473 2063 6f6d 706f 7365 6420 6f66 2063  ds composed of c
+0001ecd0: 6861 7261 6374 6572 7320 2a6e 6f74 2a20  haracters *not* 
+0001ece0: 696e 2061 2067 6976 656e 0a20 2020 2073  in a given.    s
+0001ecf0: 6574 2028 7769 6c6c 2069 6e63 6c75 6465  et (will include
+0001ed00: 2077 6869 7465 7370 6163 6520 696e 206d   whitespace in m
+0001ed10: 6174 6368 6564 2063 6861 7261 6374 6572  atched character
+0001ed20: 7320 6966 206e 6f74 206c 6973 7465 6420  s if not listed 
+0001ed30: 696e 0a20 2020 2074 6865 2070 726f 7669  in.    the provi
+0001ed40: 6465 6420 6578 636c 7573 696f 6e20 7365  ded exclusion se
+0001ed50: 7420 2d20 7365 6520 6578 616d 706c 6529  t - see example)
+0001ed60: 2e20 4465 6669 6e65 6420 7769 7468 2073  . Defined with s
+0001ed70: 7472 696e 670a 2020 2020 636f 6e74 6169  tring.    contai
+0001ed80: 6e69 6e67 2061 6c6c 2064 6973 616c 6c6f  ning all disallo
+0001ed90: 7765 6420 6368 6172 6163 7465 7273 2c20  wed characters, 
+0001eda0: 616e 6420 616e 206f 7074 696f 6e61 6c20  and an optional 
+0001edb0: 6d69 6e69 6d75 6d2c 0a20 2020 206d 6178  minimum,.    max
+0001edc0: 696d 756d 2c20 616e 642f 6f72 2065 7861  imum, and/or exa
+0001edd0: 6374 206c 656e 6774 682e 2020 5468 6520  ct length.  The 
+0001ede0: 6465 6661 756c 7420 7661 6c75 6520 666f  default value fo
+0001edf0: 7220 6060 6d69 6e60 6020 6973 0a20 2020  r ``min`` is.   
+0001ee00: 2031 2028 6120 6d69 6e69 6d75 6d20 7661   1 (a minimum va
+0001ee10: 6c75 6520 3c20 3120 6973 206e 6f74 2076  lue < 1 is not v
+0001ee20: 616c 6964 293b 2074 6865 2064 6566 6175  alid); the defau
+0001ee30: 6c74 2076 616c 7565 7320 666f 720a 2020  lt values for.  
+0001ee40: 2020 6060 6d61 7860 6020 616e 6420 6060    ``max`` and ``
+0001ee50: 6578 6163 7460 6020 6172 6520 302c 206d  exact`` are 0, m
+0001ee60: 6561 6e69 6e67 206e 6f20 6d61 7869 6d75  eaning no maximu
+0001ee70: 6d20 6f72 2065 7861 6374 0a20 2020 206c  m or exact.    l
+0001ee80: 656e 6774 6820 7265 7374 7269 6374 696f  ength restrictio
+0001ee90: 6e2e 0a0a 2020 2020 4578 616d 706c 653a  n...    Example:
+0001eea0: 3a0a 0a20 2020 2020 2020 2023 2064 6566  :..        # def
+0001eeb0: 696e 6520 6120 636f 6d6d 612d 7365 7061  ine a comma-sepa
+0001eec0: 7261 7465 642d 7661 6c75 6520 6173 2061  rated-value as a
+0001eed0: 6e79 7468 696e 6720 7468 6174 2069 7320  nything that is 
+0001eee0: 6e6f 7420 6120 272c 270a 2020 2020 2020  not a ','.      
+0001eef0: 2020 6373 765f 7661 6c75 6520 3d20 4368    csv_value = Ch
+0001ef00: 6172 734e 6f74 496e 2827 2c27 290a 2020  arsNotIn(',').  
+0001ef10: 2020 2020 2020 7072 696e 7428 4465 6c69        print(Deli
+0001ef20: 6d69 7465 644c 6973 7428 6373 765f 7661  mitedList(csv_va
+0001ef30: 6c75 6529 2e70 6172 7365 5f73 7472 696e  lue).parse_strin
+0001ef40: 6728 2264 6b6c 732c 6c73 646b 6a66 2c73  g("dkls,lsdkjf,s
+0001ef50: 3132 2033 342c 4021 232c 3231 3322 2929  12 34,@!#,213"))
+0001ef60: 0a0a 2020 2020 7072 696e 7473 3a3a 0a0a  ..    prints::..
+0001ef70: 2020 2020 2020 2020 5b27 646b 6c73 272c          ['dkls',
+0001ef80: 2027 6c73 646b 6a66 272c 2027 7331 3220   'lsdkjf', 's12 
+0001ef90: 3334 272c 2027 4021 2327 2c20 2732 3133  34', '@!#', '213
+0001efa0: 275d 0a20 2020 2022 2222 0a0a 2020 2020  '].    """..    
+0001efb0: 6465 6620 5f5f 696e 6974 5f5f 280a 2020  def __init__(.  
+0001efc0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+0001efd0: 2020 2020 6e6f 745f 6368 6172 733a 2073      not_chars: s
+0001efe0: 7472 203d 2022 222c 0a20 2020 2020 2020  tr = "",.       
+0001eff0: 206d 696e 3a20 696e 7420 3d20 312c 0a20   min: int = 1,. 
+0001f000: 2020 2020 2020 206d 6178 3a20 696e 7420         max: int 
+0001f010: 3d20 302c 0a20 2020 2020 2020 2065 7861  = 0,.        exa
+0001f020: 6374 3a20 696e 7420 3d20 302c 0a20 2020  ct: int = 0,.   
+0001f030: 2020 2020 202a 2c0a 2020 2020 2020 2020       *,.        
+0001f040: 6e6f 7443 6861 7273 3a20 7374 7220 3d20  notChars: str = 
+0001f050: 2222 2c0a 2020 2020 293a 0a20 2020 2020  "",.    ):.     
+0001f060: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
+0001f070: 745f 5f28 290a 2020 2020 2020 2020 7365  t__().        se
+0001f080: 6c66 2e73 6b69 7057 6869 7465 7370 6163  lf.skipWhitespac
+0001f090: 6520 3d20 4661 6c73 650a 2020 2020 2020  e = False.      
+0001f0a0: 2020 7365 6c66 2e6e 6f74 4368 6172 7320    self.notChars 
+0001f0b0: 3d20 6e6f 745f 6368 6172 7320 6f72 206e  = not_chars or n
+0001f0c0: 6f74 4368 6172 730a 2020 2020 2020 2020  otChars.        
+0001f0d0: 7365 6c66 2e6e 6f74 4368 6172 7353 6574  self.notCharsSet
+0001f0e0: 203d 2073 6574 2873 656c 662e 6e6f 7443   = set(self.notC
+0001f0f0: 6861 7273 290a 0a20 2020 2020 2020 2069  hars)..        i
+0001f100: 6620 6d69 6e20 3c20 313a 0a20 2020 2020  f min < 1:.     
+0001f110: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
+0001f120: 7565 4572 726f 7228 0a20 2020 2020 2020  ueError(.       
+0001f130: 2020 2020 2020 2020 2022 6361 6e6e 6f74           "cannot
+0001f140: 2073 7065 6369 6679 2061 206d 696e 696d   specify a minim
+0001f150: 756d 206c 656e 6774 6820 3c20 313b 2075  um length < 1; u
+0001f160: 7365 2022 0a20 2020 2020 2020 2020 2020  se ".           
+0001f170: 2020 2020 2022 4f70 7428 4368 6172 734e       "Opt(CharsN
+0001f180: 6f74 496e 2829 2920 6966 207a 6572 6f2d  otIn()) if zero-
+0001f190: 6c65 6e67 7468 2063 6861 7220 6772 6f75  length char grou
+0001f1a0: 7020 6973 2070 6572 6d69 7474 6564 220a  p is permitted".
+0001f1b0: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
+0001f1c0: 2020 2020 2020 2073 656c 662e 6d69 6e4c         self.minL
+0001f1d0: 656e 203d 206d 696e 0a0a 2020 2020 2020  en = min..      
+0001f1e0: 2020 6966 206d 6178 203e 2030 3a0a 2020    if max > 0:.  
+0001f1f0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001f200: 6178 4c65 6e20 3d20 6d61 780a 2020 2020  axLen = max.    
+0001f210: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001f220: 2020 2020 2020 7365 6c66 2e6d 6178 4c65        self.maxLe
+0001f230: 6e20 3d20 5f4d 4158 5f49 4e54 0a0a 2020  n = _MAX_INT..  
+0001f240: 2020 2020 2020 6966 2065 7861 6374 203e        if exact >
+0001f250: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
+0001f260: 7365 6c66 2e6d 6178 4c65 6e20 3d20 6578  self.maxLen = ex
+0001f270: 6163 740a 2020 2020 2020 2020 2020 2020  act.            
+0001f280: 7365 6c66 2e6d 696e 4c65 6e20 3d20 6578  self.minLen = ex
+0001f290: 6163 740a 0a20 2020 2020 2020 2073 656c  act..        sel
+0001f2a0: 662e 6572 726d 7367 203d 2022 4578 7065  f.errmsg = "Expe
+0001f2b0: 6374 6564 2022 202b 2073 656c 662e 6e61  cted " + self.na
+0001f2c0: 6d65 0a20 2020 2020 2020 2073 656c 662e  me.        self.
+0001f2d0: 6d61 7952 6574 7572 6e45 6d70 7479 203d  mayReturnEmpty =
+0001f2e0: 2073 656c 662e 6d69 6e4c 656e 203d 3d20   self.minLen == 
+0001f2f0: 300a 2020 2020 2020 2020 7365 6c66 2e6d  0.        self.m
+0001f300: 6179 496e 6465 7845 7272 6f72 203d 2046  ayIndexError = F
+0001f310: 616c 7365 0a0a 2020 2020 6465 6620 5f67  alse..    def _g
+0001f320: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
+0001f330: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
+0001f340: 0a20 2020 2020 2020 206e 6f74 5f63 6861  .        not_cha
+0001f350: 7273 5f73 7472 203d 205f 636f 6c6c 6170  rs_str = _collap
+0001f360: 7365 5f73 7472 696e 675f 746f 5f72 616e  se_string_to_ran
+0001f370: 6765 7328 7365 6c66 2e6e 6f74 4368 6172  ges(self.notChar
+0001f380: 7329 0a20 2020 2020 2020 2069 6620 6c65  s).        if le
+0001f390: 6e28 6e6f 745f 6368 6172 735f 7374 7229  n(not_chars_str)
+0001f3a0: 203e 2031 363a 0a20 2020 2020 2020 2020   > 16:.         
+0001f3b0: 2020 2072 6574 7572 6e20 6622 2157 3a28     return f"!W:(
+0001f3c0: 7b73 656c 662e 6e6f 7443 6861 7273 5b3a  {self.notChars[:
+0001f3d0: 2031 3620 2d20 335d 7d2e 2e2e 2922 0a20   16 - 3]}...)". 
+0001f3e0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001f3f0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+0001f400: 6622 2157 3a28 7b73 656c 662e 6e6f 7443  f"!W:({self.notC
+0001f410: 6861 7273 7d29 220a 0a20 2020 2064 6566  hars})"..    def
+0001f420: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
+0001f430: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+0001f440: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
+0001f450: 0a20 2020 2020 2020 206e 6f74 6368 6172  .        notchar
+0001f460: 7320 3d20 7365 6c66 2e6e 6f74 4368 6172  s = self.notChar
+0001f470: 7353 6574 0a20 2020 2020 2020 2069 6620  sSet.        if 
+0001f480: 696e 7374 7269 6e67 5b6c 6f63 5d20 696e  instring[loc] in
+0001f490: 206e 6f74 6368 6172 733a 0a20 2020 2020   notchars:.     
+0001f4a0: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
+0001f4b0: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
+0001f4c0: 7269 6e67 2c20 6c6f 632c 2073 656c 662e  ring, loc, self.
+0001f4d0: 6572 726d 7367 2c20 7365 6c66 290a 0a20  errmsg, self).. 
+0001f4e0: 2020 2020 2020 2073 7461 7274 203d 206c         start = l
+0001f4f0: 6f63 0a20 2020 2020 2020 206c 6f63 202b  oc.        loc +
+0001f500: 3d20 310a 2020 2020 2020 2020 6d61 786c  = 1.        maxl
+0001f510: 656e 203d 206d 696e 2873 7461 7274 202b  en = min(start +
+0001f520: 2073 656c 662e 6d61 784c 656e 2c20 6c65   self.maxLen, le
+0001f530: 6e28 696e 7374 7269 6e67 2929 0a20 2020  n(instring)).   
+0001f540: 2020 2020 2077 6869 6c65 206c 6f63 203c       while loc <
+0001f550: 206d 6178 6c65 6e20 616e 6420 696e 7374   maxlen and inst
+0001f560: 7269 6e67 5b6c 6f63 5d20 6e6f 7420 696e  ring[loc] not in
+0001f570: 206e 6f74 6368 6172 733a 0a20 2020 2020   notchars:.     
+0001f580: 2020 2020 2020 206c 6f63 202b 3d20 310a         loc += 1.
+0001f590: 0a20 2020 2020 2020 2069 6620 6c6f 6320  .        if loc 
+0001f5a0: 2d20 7374 6172 7420 3c20 7365 6c66 2e6d  - start < self.m
+0001f5b0: 696e 4c65 6e3a 0a20 2020 2020 2020 2020  inLen:.         
+0001f5c0: 2020 2072 6169 7365 2050 6172 7365 4578     raise ParseEx
+0001f5d0: 6365 7074 696f 6e28 696e 7374 7269 6e67  ception(instring
+0001f5e0: 2c20 6c6f 632c 2073 656c 662e 6572 726d  , loc, self.errm
+0001f5f0: 7367 2c20 7365 6c66 290a 0a20 2020 2020  sg, self)..     
+0001f600: 2020 2072 6574 7572 6e20 6c6f 632c 2069     return loc, i
+0001f610: 6e73 7472 696e 675b 7374 6172 743a 6c6f  nstring[start:lo
+0001f620: 635d 0a0a 0a63 6c61 7373 2057 6869 7465  c]...class White
+0001f630: 2854 6f6b 656e 293a 0a20 2020 2022 2222  (Token):.    """
+0001f640: 5370 6563 6961 6c20 6d61 7463 6869 6e67  Special matching
+0001f650: 2063 6c61 7373 2066 6f72 206d 6174 6368   class for match
+0001f660: 696e 6720 7768 6974 6573 7061 6365 2e20  ing whitespace. 
+0001f670: 204e 6f72 6d61 6c6c 792c 0a20 2020 2077   Normally,.    w
+0001f680: 6869 7465 7370 6163 6520 6973 2069 676e  hitespace is ign
+0001f690: 6f72 6564 2062 7920 7079 7061 7273 696e  ored by pyparsin
+0001f6a0: 6720 6772 616d 6d61 7273 2e20 2054 6869  g grammars.  Thi
+0001f6b0: 7320 636c 6173 7320 6973 2069 6e63 6c75  s class is inclu
+0001f6c0: 6465 640a 2020 2020 7768 656e 2073 6f6d  ded.    when som
+0001f6d0: 6520 7768 6974 6573 7061 6365 2073 7472  e whitespace str
+0001f6e0: 7563 7475 7265 7320 6172 6520 7369 676e  uctures are sign
+0001f6f0: 6966 6963 616e 742e 2020 4465 6669 6e65  ificant.  Define
+0001f700: 2077 6974 680a 2020 2020 6120 7374 7269   with.    a stri
+0001f710: 6e67 2063 6f6e 7461 696e 696e 6720 7468  ng containing th
+0001f720: 6520 7768 6974 6573 7061 6365 2063 6861  e whitespace cha
+0001f730: 7261 6374 6572 7320 746f 2062 6520 6d61  racters to be ma
+0001f740: 7463 6865 643b 2064 6566 6175 6c74 0a20  tched; default. 
+0001f750: 2020 2069 7320 6060 2220 5c5c 745c 5c72     is ``" \\t\\r
+0001f760: 5c5c 6e22 6060 2e20 2041 6c73 6f20 7461  \\n"``.  Also ta
+0001f770: 6b65 7320 6f70 7469 6f6e 616c 2060 606d  kes optional ``m
+0001f780: 696e 6060 2c0a 2020 2020 6060 6d61 7860  in``,.    ``max`
+0001f790: 602c 2061 6e64 2060 6065 7861 6374 6060  `, and ``exact``
+0001f7a0: 2061 7267 756d 656e 7473 2c20 6173 2064   arguments, as d
+0001f7b0: 6566 696e 6564 2066 6f72 2074 6865 0a20  efined for the. 
+0001f7c0: 2020 203a 636c 6173 733a 6057 6f72 6460     :class:`Word`
+0001f7d0: 2063 6c61 7373 2e0a 2020 2020 2222 220a   class..    """.
+0001f7e0: 0a20 2020 2077 6869 7465 5374 7273 203d  .    whiteStrs =
+0001f7f0: 207b 0a20 2020 2020 2020 2022 2022 3a20   {.        " ": 
+0001f800: 223c 5350 3e22 2c0a 2020 2020 2020 2020  "<SP>",.        
+0001f810: 225c 7422 3a20 223c 5441 423e 222c 0a20  "\t": "<TAB>",. 
+0001f820: 2020 2020 2020 2022 5c6e 223a 2022 3c4c         "\n": "<L
+0001f830: 463e 222c 0a20 2020 2020 2020 2022 5c72  F>",.        "\r
+0001f840: 223a 2022 3c43 523e 222c 0a20 2020 2020  ": "<CR>",.     
+0001f850: 2020 2022 5c66 223a 2022 3c46 463e 222c     "\f": "<FF>",
+0001f860: 0a20 2020 2020 2020 2022 5c75 3030 4130  .        "\u00A0
+0001f870: 223a 2022 3c4e 4253 503e 222c 0a20 2020  ": "<NBSP>",.   
+0001f880: 2020 2020 2022 5c75 3136 3830 223a 2022       "\u1680": "
+0001f890: 3c4f 4748 414d 5f53 5041 4345 5f4d 4152  <OGHAM_SPACE_MAR
+0001f8a0: 4b3e 222c 0a20 2020 2020 2020 2022 5c75  K>",.        "\u
+0001f8b0: 3138 3045 223a 2022 3c4d 4f4e 474f 4c49  180E": "<MONGOLI
+0001f8c0: 414e 5f56 4f57 454c 5f53 4550 4152 4154  AN_VOWEL_SEPARAT
+0001f8d0: 4f52 3e22 2c0a 2020 2020 2020 2020 225c  OR>",.        "\
+0001f8e0: 7532 3030 3022 3a20 223c 454e 5f51 5541  u2000": "<EN_QUA
+0001f8f0: 443e 222c 0a20 2020 2020 2020 2022 5c75  D>",.        "\u
+0001f900: 3230 3031 223a 2022 3c45 4d5f 5155 4144  2001": "<EM_QUAD
+0001f910: 3e22 2c0a 2020 2020 2020 2020 225c 7532  >",.        "\u2
+0001f920: 3030 3222 3a20 223c 454e 5f53 5041 4345  002": "<EN_SPACE
+0001f930: 3e22 2c0a 2020 2020 2020 2020 225c 7532  >",.        "\u2
+0001f940: 3030 3322 3a20 223c 454d 5f53 5041 4345  003": "<EM_SPACE
+0001f950: 3e22 2c0a 2020 2020 2020 2020 225c 7532  >",.        "\u2
+0001f960: 3030 3422 3a20 223c 5448 5245 452d 5045  004": "<THREE-PE
+0001f970: 522d 454d 5f53 5041 4345 3e22 2c0a 2020  R-EM_SPACE>",.  
+0001f980: 2020 2020 2020 225c 7532 3030 3522 3a20        "\u2005": 
+0001f990: 223c 464f 5552 2d50 4552 2d45 4d5f 5350  "<FOUR-PER-EM_SP
+0001f9a0: 4143 453e 222c 0a20 2020 2020 2020 2022  ACE>",.        "
+0001f9b0: 5c75 3230 3036 223a 2022 3c53 4958 2d50  \u2006": "<SIX-P
+0001f9c0: 4552 2d45 4d5f 5350 4143 453e 222c 0a20  ER-EM_SPACE>",. 
+0001f9d0: 2020 2020 2020 2022 5c75 3230 3037 223a         "\u2007":
+0001f9e0: 2022 3c46 4947 5552 455f 5350 4143 453e   "<FIGURE_SPACE>
+0001f9f0: 222c 0a20 2020 2020 2020 2022 5c75 3230  ",.        "\u20
+0001fa00: 3038 223a 2022 3c50 554e 4354 5541 5449  08": "<PUNCTUATI
+0001fa10: 4f4e 5f53 5041 4345 3e22 2c0a 2020 2020  ON_SPACE>",.    
+0001fa20: 2020 2020 225c 7532 3030 3922 3a20 223c      "\u2009": "<
+0001fa30: 5448 494e 5f53 5041 4345 3e22 2c0a 2020  THIN_SPACE>",.  
+0001fa40: 2020 2020 2020 225c 7532 3030 4122 3a20        "\u200A": 
+0001fa50: 223c 4841 4952 5f53 5041 4345 3e22 2c0a  "<HAIR_SPACE>",.
+0001fa60: 2020 2020 2020 2020 225c 7532 3030 4222          "\u200B"
+0001fa70: 3a20 223c 5a45 524f 5f57 4944 5448 5f53  : "<ZERO_WIDTH_S
+0001fa80: 5041 4345 3e22 2c0a 2020 2020 2020 2020  PACE>",.        
+0001fa90: 225c 7532 3032 4622 3a20 223c 4e4e 4253  "\u202F": "<NNBS
+0001faa0: 503e 222c 0a20 2020 2020 2020 2022 5c75  P>",.        "\u
+0001fab0: 3230 3546 223a 2022 3c4d 4d53 503e 222c  205F": "<MMSP>",
+0001fac0: 0a20 2020 2020 2020 2022 5c75 3330 3030  .        "\u3000
+0001fad0: 223a 2022 3c49 4445 4f47 5241 5048 4943  ": "<IDEOGRAPHIC
+0001fae0: 5f53 5041 4345 3e22 2c0a 2020 2020 7d0a  _SPACE>",.    }.
+0001faf0: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
+0001fb00: 5f28 7365 6c66 2c20 7773 3a20 7374 7220  _(self, ws: str 
+0001fb10: 3d20 2220 5c74 5c72 5c6e 222c 206d 696e  = " \t\r\n", min
+0001fb20: 3a20 696e 7420 3d20 312c 206d 6178 3a20  : int = 1, max: 
+0001fb30: 696e 7420 3d20 302c 2065 7861 6374 3a20  int = 0, exact: 
+0001fb40: 696e 7420 3d20 3029 3a0a 2020 2020 2020  int = 0):.      
+0001fb50: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
+0001fb60: 5f5f 2829 0a20 2020 2020 2020 2073 656c  __().        sel
+0001fb70: 662e 6d61 7463 6857 6869 7465 203d 2077  f.matchWhite = w
+0001fb80: 730a 2020 2020 2020 2020 7365 6c66 2e73  s.        self.s
+0001fb90: 6574 5f77 6869 7465 7370 6163 655f 6368  et_whitespace_ch
+0001fba0: 6172 7328 0a20 2020 2020 2020 2020 2020  ars(.           
+0001fbb0: 2022 222e 6a6f 696e 2863 2066 6f72 2063   "".join(c for c
+0001fbc0: 2069 6e20 7365 6c66 2e77 6869 7465 5374   in self.whiteSt
+0001fbd0: 7273 2069 6620 6320 6e6f 7420 696e 2073  rs if c not in s
+0001fbe0: 656c 662e 6d61 7463 6857 6869 7465 292c  elf.matchWhite),
+0001fbf0: 0a20 2020 2020 2020 2020 2020 2063 6f70  .            cop
+0001fc00: 795f 6465 6661 756c 7473 3d54 7275 652c  y_defaults=True,
+0001fc10: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+0001fc20: 2020 2023 2073 656c 662e 6c65 6176 655f     # self.leave_
+0001fc30: 7768 6974 6573 7061 6365 2829 0a20 2020  whitespace().   
+0001fc40: 2020 2020 2073 656c 662e 6d61 7952 6574       self.mayRet
+0001fc50: 7572 6e45 6d70 7479 203d 2054 7275 650a  urnEmpty = True.
+0001fc60: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
+0001fc70: 6d73 6720 3d20 2245 7870 6563 7465 6420  msg = "Expected 
+0001fc80: 2220 2b20 7365 6c66 2e6e 616d 650a 0a20  " + self.name.. 
+0001fc90: 2020 2020 2020 2073 656c 662e 6d69 6e4c         self.minL
+0001fca0: 656e 203d 206d 696e 0a0a 2020 2020 2020  en = min..      
+0001fcb0: 2020 6966 206d 6178 203e 2030 3a0a 2020    if max > 0:.  
+0001fcc0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001fcd0: 6178 4c65 6e20 3d20 6d61 780a 2020 2020  axLen = max.    
+0001fce0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001fcf0: 2020 2020 2020 7365 6c66 2e6d 6178 4c65        self.maxLe
+0001fd00: 6e20 3d20 5f4d 4158 5f49 4e54 0a0a 2020  n = _MAX_INT..  
+0001fd10: 2020 2020 2020 6966 2065 7861 6374 203e        if exact >
+0001fd20: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
+0001fd30: 7365 6c66 2e6d 6178 4c65 6e20 3d20 6578  self.maxLen = ex
+0001fd40: 6163 740a 2020 2020 2020 2020 2020 2020  act.            
+0001fd50: 7365 6c66 2e6d 696e 4c65 6e20 3d20 6578  self.minLen = ex
+0001fd60: 6163 740a 0a20 2020 2064 6566 205f 6765  act..    def _ge
+0001fd70: 6e65 7261 7465 4465 6661 756c 744e 616d  nerateDefaultNam
+0001fd80: 6528 7365 6c66 2920 2d3e 2073 7472 3a0a  e(self) -> str:.
+0001fd90: 2020 2020 2020 2020 7265 7475 726e 2022          return "
+0001fda0: 222e 6a6f 696e 2857 6869 7465 2e77 6869  ".join(White.whi
+0001fdb0: 7465 5374 7273 5b63 5d20 666f 7220 6320  teStrs[c] for c 
+0001fdc0: 696e 2073 656c 662e 6d61 7463 6857 6869  in self.matchWhi
+0001fdd0: 7465 290a 0a20 2020 2064 6566 2070 6172  te)..    def par
+0001fde0: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
+0001fdf0: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+0001fe00: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
+0001fe10: 2020 2020 2069 6620 696e 7374 7269 6e67       if instring
+0001fe20: 5b6c 6f63 5d20 6e6f 7420 696e 2073 656c  [loc] not in sel
+0001fe30: 662e 6d61 7463 6857 6869 7465 3a0a 2020  f.matchWhite:.  
+0001fe40: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0001fe50: 5061 7273 6545 7863 6570 7469 6f6e 2869  ParseException(i
+0001fe60: 6e73 7472 696e 672c 206c 6f63 2c20 7365  nstring, loc, se
+0001fe70: 6c66 2e65 7272 6d73 672c 2073 656c 6629  lf.errmsg, self)
+0001fe80: 0a20 2020 2020 2020 2073 7461 7274 203d  .        start =
+0001fe90: 206c 6f63 0a20 2020 2020 2020 206c 6f63   loc.        loc
+0001fea0: 202b 3d20 310a 2020 2020 2020 2020 6d61   += 1.        ma
+0001feb0: 786c 6f63 203d 2073 7461 7274 202b 2073  xloc = start + s
+0001fec0: 656c 662e 6d61 784c 656e 0a20 2020 2020  elf.maxLen.     
+0001fed0: 2020 206d 6178 6c6f 6320 3d20 6d69 6e28     maxloc = min(
+0001fee0: 6d61 786c 6f63 2c20 6c65 6e28 696e 7374  maxloc, len(inst
+0001fef0: 7269 6e67 2929 0a20 2020 2020 2020 2077  ring)).        w
+0001ff00: 6869 6c65 206c 6f63 203c 206d 6178 6c6f  hile loc < maxlo
+0001ff10: 6320 616e 6420 696e 7374 7269 6e67 5b6c  c and instring[l
+0001ff20: 6f63 5d20 696e 2073 656c 662e 6d61 7463  oc] in self.matc
+0001ff30: 6857 6869 7465 3a0a 2020 2020 2020 2020  hWhite:.        
+0001ff40: 2020 2020 6c6f 6320 2b3d 2031 0a0a 2020      loc += 1..  
+0001ff50: 2020 2020 2020 6966 206c 6f63 202d 2073        if loc - s
+0001ff60: 7461 7274 203c 2073 656c 662e 6d69 6e4c  tart < self.minL
+0001ff70: 656e 3a0a 2020 2020 2020 2020 2020 2020  en:.            
+0001ff80: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
+0001ff90: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
+0001ffa0: 6f63 2c20 7365 6c66 2e65 7272 6d73 672c  oc, self.errmsg,
+0001ffb0: 2073 656c 6629 0a0a 2020 2020 2020 2020   self)..        
+0001ffc0: 7265 7475 726e 206c 6f63 2c20 696e 7374  return loc, inst
+0001ffd0: 7269 6e67 5b73 7461 7274 3a6c 6f63 5d0a  ring[start:loc].
+0001ffe0: 0a0a 636c 6173 7320 506f 7369 7469 6f6e  ..class Position
+0001fff0: 546f 6b65 6e28 546f 6b65 6e29 3a0a 2020  Token(Token):.  
+00020000: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
+00020010: 656c 6629 3a0a 2020 2020 2020 2020 7375  elf):.        su
+00020020: 7065 7228 292e 5f5f 696e 6974 5f5f 2829  per().__init__()
+00020030: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
+00020040: 7952 6574 7572 6e45 6d70 7479 203d 2054  yReturnEmpty = T
+00020050: 7275 650a 2020 2020 2020 2020 7365 6c66  rue.        self
+00020060: 2e6d 6179 496e 6465 7845 7272 6f72 203d  .mayIndexError =
+00020070: 2046 616c 7365 0a0a 0a63 6c61 7373 2047   False...class G
+00020080: 6f54 6f43 6f6c 756d 6e28 506f 7369 7469  oToColumn(Positi
+00020090: 6f6e 546f 6b65 6e29 3a0a 2020 2020 2222  onToken):.    ""
+000200a0: 2254 6f6b 656e 2074 6f20 6164 7661 6e63  "Token to advanc
+000200b0: 6520 746f 2061 2073 7065 6369 6669 6320  e to a specific 
+000200c0: 636f 6c75 6d6e 206f 6620 696e 7075 7420  column of input 
+000200d0: 7465 7874 3b20 7573 6566 756c 2066 6f72  text; useful for
+000200e0: 0a20 2020 2074 6162 756c 6172 2072 6570  .    tabular rep
+000200f0: 6f72 7420 7363 7261 7069 6e67 2e0a 2020  ort scraping..  
+00020100: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
+00020110: 5f69 6e69 745f 5f28 7365 6c66 2c20 636f  _init__(self, co
+00020120: 6c6e 6f3a 2069 6e74 293a 0a20 2020 2020  lno: int):.     
+00020130: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
+00020140: 745f 5f28 290a 2020 2020 2020 2020 7365  t__().        se
+00020150: 6c66 2e63 6f6c 203d 2063 6f6c 6e6f 0a0a  lf.col = colno..
+00020160: 2020 2020 6465 6620 7072 6550 6172 7365      def preParse
+00020170: 2873 656c 662c 2069 6e73 7472 696e 673a  (self, instring:
+00020180: 2073 7472 2c20 6c6f 633a 2069 6e74 2920   str, loc: int) 
+00020190: 2d3e 2069 6e74 3a0a 2020 2020 2020 2020  -> int:.        
+000201a0: 6966 2063 6f6c 286c 6f63 2c20 696e 7374  if col(loc, inst
+000201b0: 7269 6e67 2920 213d 2073 656c 662e 636f  ring) != self.co
+000201c0: 6c3a 0a20 2020 2020 2020 2020 2020 2069  l:.            i
+000201d0: 6e73 7472 6c65 6e20 3d20 6c65 6e28 696e  nstrlen = len(in
+000201e0: 7374 7269 6e67 290a 2020 2020 2020 2020  string).        
+000201f0: 2020 2020 6966 2073 656c 662e 6967 6e6f      if self.igno
+00020200: 7265 4578 7072 733a 0a20 2020 2020 2020  reExprs:.       
+00020210: 2020 2020 2020 2020 206c 6f63 203d 2073           loc = s
+00020220: 656c 662e 5f73 6b69 7049 676e 6f72 6162  elf._skipIgnorab
+00020230: 6c65 7328 696e 7374 7269 6e67 2c20 6c6f  les(instring, lo
+00020240: 6329 0a20 2020 2020 2020 2020 2020 2077  c).            w
+00020250: 6869 6c65 2028 0a20 2020 2020 2020 2020  hile (.         
+00020260: 2020 2020 2020 206c 6f63 203c 2069 6e73         loc < ins
+00020270: 7472 6c65 6e0a 2020 2020 2020 2020 2020  trlen.          
+00020280: 2020 2020 2020 616e 6420 696e 7374 7269        and instri
+00020290: 6e67 5b6c 6f63 5d2e 6973 7370 6163 6528  ng[loc].isspace(
+000202a0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+000202b0: 2020 616e 6420 636f 6c28 6c6f 632c 2069    and col(loc, i
+000202c0: 6e73 7472 696e 6729 2021 3d20 7365 6c66  nstring) != self
+000202d0: 2e63 6f6c 0a20 2020 2020 2020 2020 2020  .col.           
+000202e0: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
+000202f0: 2020 2020 6c6f 6320 2b3d 2031 0a20 2020      loc += 1.   
+00020300: 2020 2020 2072 6574 7572 6e20 6c6f 630a       return loc.
+00020310: 0a20 2020 2064 6566 2070 6172 7365 496d  .    def parseIm
+00020320: 706c 2873 656c 662c 2069 6e73 7472 696e  pl(self, instrin
+00020330: 672c 206c 6f63 2c20 646f 4163 7469 6f6e  g, loc, doAction
+00020340: 733d 5472 7565 293a 0a20 2020 2020 2020  s=True):.       
+00020350: 2074 6869 7363 6f6c 203d 2063 6f6c 286c   thiscol = col(l
+00020360: 6f63 2c20 696e 7374 7269 6e67 290a 2020  oc, instring).  
+00020370: 2020 2020 2020 6966 2074 6869 7363 6f6c        if thiscol
+00020380: 203e 2073 656c 662e 636f 6c3a 0a20 2020   > self.col:.   
+00020390: 2020 2020 2020 2020 2072 6169 7365 2050           raise P
+000203a0: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
+000203b0: 7374 7269 6e67 2c20 6c6f 632c 2022 5465  string, loc, "Te
+000203c0: 7874 206e 6f74 2069 6e20 6578 7065 6374  xt not in expect
+000203d0: 6564 2063 6f6c 756d 6e22 2c20 7365 6c66  ed column", self
+000203e0: 290a 2020 2020 2020 2020 6e65 776c 6f63  ).        newloc
+000203f0: 203d 206c 6f63 202b 2073 656c 662e 636f   = loc + self.co
+00020400: 6c20 2d20 7468 6973 636f 6c0a 2020 2020  l - thiscol.    
+00020410: 2020 2020 7265 7420 3d20 696e 7374 7269      ret = instri
+00020420: 6e67 5b6c 6f63 3a6e 6577 6c6f 635d 0a20  ng[loc:newloc]. 
+00020430: 2020 2020 2020 2072 6574 7572 6e20 6e65         return ne
+00020440: 776c 6f63 2c20 7265 740a 0a0a 636c 6173  wloc, ret...clas
+00020450: 7320 4c69 6e65 5374 6172 7428 506f 7369  s LineStart(Posi
+00020460: 7469 6f6e 546f 6b65 6e29 3a0a 2020 2020  tionToken):.    
+00020470: 7222 2222 4d61 7463 6865 7320 6966 2063  r"""Matches if c
+00020480: 7572 7265 6e74 2070 6f73 6974 696f 6e20  urrent position 
+00020490: 6973 2061 7420 7468 6520 6265 6769 6e6e  is at the beginn
+000204a0: 696e 6720 6f66 2061 206c 696e 6520 7769  ing of a line wi
+000204b0: 7468 696e 0a20 2020 2074 6865 2070 6172  thin.    the par
+000204c0: 7365 2073 7472 696e 670a 0a20 2020 2045  se string..    E
+000204d0: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
+000204e0: 2020 7465 7374 203d 2027 2727 5c0a 2020    test = '''\.  
+000204f0: 2020 2020 2020 4141 4120 7468 6973 206c        AAA this l
+00020500: 696e 650a 2020 2020 2020 2020 4141 4120  ine.        AAA 
+00020510: 616e 6420 7468 6973 206c 696e 650a 2020  and this line.  
+00020520: 2020 2020 2020 2020 4141 4120 6275 7420          AAA but 
+00020530: 6e6f 7420 7468 6973 206f 6e65 0a20 2020  not this one.   
+00020540: 2020 2020 2042 2041 4141 2061 6e64 2064       B AAA and d
+00020550: 6566 696e 6974 656c 7920 6e6f 7420 7468  efinitely not th
+00020560: 6973 206f 6e65 0a20 2020 2020 2020 2027  is one.        '
+00020570: 2727 0a0a 2020 2020 2020 2020 666f 7220  ''..        for 
+00020580: 7420 696e 2028 4c69 6e65 5374 6172 7428  t in (LineStart(
+00020590: 2920 2b20 2741 4141 2720 2b20 7265 7374  ) + 'AAA' + rest
+000205a0: 5f6f 665f 6c69 6e65 292e 7365 6172 6368  _of_line).search
+000205b0: 5f73 7472 696e 6728 7465 7374 293a 0a20  _string(test):. 
+000205c0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+000205d0: 2874 290a 0a20 2020 2070 7269 6e74 733a  (t)..    prints:
+000205e0: 3a0a 0a20 2020 2020 2020 205b 2741 4141  :..        ['AAA
+000205f0: 272c 2027 2074 6869 7320 6c69 6e65 275d  ', ' this line']
+00020600: 0a20 2020 2020 2020 205b 2741 4141 272c  .        ['AAA',
+00020610: 2027 2061 6e64 2074 6869 7320 6c69 6e65   ' and this line
+00020620: 275d 0a0a 2020 2020 2222 220a 0a20 2020  ']..    """..   
+00020630: 2064 6566 205f 5f69 6e69 745f 5f28 7365   def __init__(se
+00020640: 6c66 293a 0a20 2020 2020 2020 2073 7570  lf):.        sup
+00020650: 6572 2829 2e5f 5f69 6e69 745f 5f28 290a  er().__init__().
+00020660: 2020 2020 2020 2020 7365 6c66 2e6c 6561          self.lea
+00020670: 7665 5f77 6869 7465 7370 6163 6528 290a  ve_whitespace().
+00020680: 2020 2020 2020 2020 7365 6c66 2e6f 7269          self.ori
+00020690: 675f 7768 6974 6543 6861 7273 203d 2073  g_whiteChars = s
+000206a0: 6574 2829 207c 2073 656c 662e 7768 6974  et() | self.whit
+000206b0: 6543 6861 7273 0a20 2020 2020 2020 2073  eChars.        s
+000206c0: 656c 662e 7768 6974 6543 6861 7273 2e64  elf.whiteChars.d
+000206d0: 6973 6361 7264 2822 5c6e 2229 0a20 2020  iscard("\n").   
+000206e0: 2020 2020 2073 656c 662e 736b 6970 7065       self.skippe
+000206f0: 7220 3d20 456d 7074 7928 292e 7365 745f  r = Empty().set_
+00020700: 7768 6974 6573 7061 6365 5f63 6861 7273  whitespace_chars
+00020710: 2873 656c 662e 7768 6974 6543 6861 7273  (self.whiteChars
+00020720: 290a 2020 2020 2020 2020 7365 6c66 2e65  ).        self.e
+00020730: 7272 6d73 6720 3d20 2245 7870 6563 7465  rrmsg = "Expecte
+00020740: 6420 7374 6172 7420 6f66 206c 696e 6522  d start of line"
+00020750: 0a0a 2020 2020 6465 6620 7072 6550 6172  ..    def prePar
+00020760: 7365 2873 656c 662c 2069 6e73 7472 696e  se(self, instrin
+00020770: 673a 2073 7472 2c20 6c6f 633a 2069 6e74  g: str, loc: int
+00020780: 2920 2d3e 2069 6e74 3a0a 2020 2020 2020  ) -> int:.      
+00020790: 2020 6966 206c 6f63 203d 3d20 303a 0a20    if loc == 0:. 
+000207a0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+000207b0: 6e20 6c6f 630a 2020 2020 2020 2020 656c  n loc.        el
+000207c0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+000207d0: 7265 7420 3d20 7365 6c66 2e73 6b69 7070  ret = self.skipp
+000207e0: 6572 2e70 7265 5061 7273 6528 696e 7374  er.preParse(inst
+000207f0: 7269 6e67 2c20 6c6f 6329 0a20 2020 2020  ring, loc).     
+00020800: 2020 2020 2020 2069 6620 225c 6e22 2069         if "\n" i
+00020810: 6e20 7365 6c66 2e6f 7269 675f 7768 6974  n self.orig_whit
+00020820: 6543 6861 7273 3a0a 2020 2020 2020 2020  eChars:.        
+00020830: 2020 2020 2020 2020 7768 696c 6520 696e          while in
+00020840: 7374 7269 6e67 5b72 6574 203a 2072 6574  string[ret : ret
+00020850: 202b 2031 5d20 3d3d 2022 5c6e 223a 0a20   + 1] == "\n":. 
+00020860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020870: 2020 2072 6574 203d 2073 656c 662e 736b     ret = self.sk
+00020880: 6970 7065 722e 7072 6550 6172 7365 2869  ipper.preParse(i
+00020890: 6e73 7472 696e 672c 2072 6574 202b 2031  nstring, ret + 1
+000208a0: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+000208b0: 7475 726e 2072 6574 0a0a 2020 2020 6465  turn ret..    de
+000208c0: 6620 7061 7273 6549 6d70 6c28 7365 6c66  f parseImpl(self
+000208d0: 2c20 696e 7374 7269 6e67 2c20 6c6f 632c  , instring, loc,
+000208e0: 2064 6f41 6374 696f 6e73 3d54 7275 6529   doActions=True)
+000208f0: 3a0a 2020 2020 2020 2020 6966 2063 6f6c  :.        if col
+00020900: 286c 6f63 2c20 696e 7374 7269 6e67 2920  (loc, instring) 
+00020910: 3d3d 2031 3a0a 2020 2020 2020 2020 2020  == 1:.          
+00020920: 2020 7265 7475 726e 206c 6f63 2c20 5b5d    return loc, []
+00020930: 0a20 2020 2020 2020 2072 6169 7365 2050  .        raise P
+00020940: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
+00020950: 7374 7269 6e67 2c20 6c6f 632c 2073 656c  string, loc, sel
+00020960: 662e 6572 726d 7367 2c20 7365 6c66 290a  f.errmsg, self).
+00020970: 0a0a 636c 6173 7320 4c69 6e65 456e 6428  ..class LineEnd(
+00020980: 506f 7369 7469 6f6e 546f 6b65 6e29 3a0a  PositionToken):.
+00020990: 2020 2020 2222 224d 6174 6368 6573 2069      """Matches i
+000209a0: 6620 6375 7272 656e 7420 706f 7369 7469  f current positi
+000209b0: 6f6e 2069 7320 6174 2074 6865 2065 6e64  on is at the end
+000209c0: 206f 6620 6120 6c69 6e65 2077 6974 6869   of a line withi
+000209d0: 6e20 7468 650a 2020 2020 7061 7273 6520  n the.    parse 
+000209e0: 7374 7269 6e67 0a20 2020 2022 2222 0a0a  string.    """..
+000209f0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+00020a00: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00020a10: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
+00020a20: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
+00020a30: 7768 6974 6543 6861 7273 2e64 6973 6361  whiteChars.disca
+00020a40: 7264 2822 5c6e 2229 0a20 2020 2020 2020  rd("\n").       
+00020a50: 2073 656c 662e 7365 745f 7768 6974 6573   self.set_whites
+00020a60: 7061 6365 5f63 6861 7273 2873 656c 662e  pace_chars(self.
+00020a70: 7768 6974 6543 6861 7273 2c20 636f 7079  whiteChars, copy
+00020a80: 5f64 6566 6175 6c74 733d 4661 6c73 6529  _defaults=False)
+00020a90: 0a20 2020 2020 2020 2073 656c 662e 6572  .        self.er
+00020aa0: 726d 7367 203d 2022 4578 7065 6374 6564  rmsg = "Expected
+00020ab0: 2065 6e64 206f 6620 6c69 6e65 220a 0a20   end of line".. 
+00020ac0: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
+00020ad0: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
+00020ae0: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
+00020af0: 5472 7565 293a 0a20 2020 2020 2020 2069  True):.        i
+00020b00: 6620 6c6f 6320 3c20 6c65 6e28 696e 7374  f loc < len(inst
+00020b10: 7269 6e67 293a 0a20 2020 2020 2020 2020  ring):.         
+00020b20: 2020 2069 6620 696e 7374 7269 6e67 5b6c     if instring[l
+00020b30: 6f63 5d20 3d3d 2022 5c6e 223a 0a20 2020  oc] == "\n":.   
+00020b40: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+00020b50: 7572 6e20 6c6f 6320 2b20 312c 2022 5c6e  urn loc + 1, "\n
+00020b60: 220a 2020 2020 2020 2020 2020 2020 656c  ".            el
+00020b70: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00020b80: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
+00020b90: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
+00020ba0: 672c 206c 6f63 2c20 7365 6c66 2e65 7272  g, loc, self.err
+00020bb0: 6d73 672c 2073 656c 6629 0a20 2020 2020  msg, self).     
+00020bc0: 2020 2065 6c69 6620 6c6f 6320 3d3d 206c     elif loc == l
+00020bd0: 656e 2869 6e73 7472 696e 6729 3a0a 2020  en(instring):.  
+00020be0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00020bf0: 206c 6f63 202b 2031 2c20 5b5d 0a20 2020   loc + 1, [].   
+00020c00: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00020c10: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
+00020c20: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
+00020c30: 7269 6e67 2c20 6c6f 632c 2073 656c 662e  ring, loc, self.
+00020c40: 6572 726d 7367 2c20 7365 6c66 290a 0a0a  errmsg, self)...
+00020c50: 636c 6173 7320 5374 7269 6e67 5374 6172  class StringStar
+00020c60: 7428 506f 7369 7469 6f6e 546f 6b65 6e29  t(PositionToken)
+00020c70: 3a0a 2020 2020 2222 224d 6174 6368 6573  :.    """Matches
+00020c80: 2069 6620 6375 7272 656e 7420 706f 7369   if current posi
+00020c90: 7469 6f6e 2069 7320 6174 2074 6865 2062  tion is at the b
+00020ca0: 6567 696e 6e69 6e67 206f 6620 7468 6520  eginning of the 
+00020cb0: 7061 7273 650a 2020 2020 7374 7269 6e67  parse.    string
+00020cc0: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
+00020cd0: 6620 5f5f 696e 6974 5f5f 2873 656c 6629  f __init__(self)
+00020ce0: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
+00020cf0: 292e 5f5f 696e 6974 5f5f 2829 0a20 2020  ).__init__().   
+00020d00: 2020 2020 2073 656c 662e 6572 726d 7367       self.errmsg
+00020d10: 203d 2022 4578 7065 6374 6564 2073 7461   = "Expected sta
+00020d20: 7274 206f 6620 7465 7874 220a 0a20 2020  rt of text"..   
+00020d30: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
+00020d40: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
+00020d50: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
+00020d60: 7565 293a 0a20 2020 2020 2020 2069 6620  ue):.        if 
+00020d70: 6c6f 6320 213d 2030 3a0a 2020 2020 2020  loc != 0:.      
+00020d80: 2020 2020 2020 2320 7365 6520 6966 2065        # see if e
+00020d90: 6e74 6972 6520 7374 7269 6e67 2075 7020  ntire string up 
+00020da0: 746f 2068 6572 6520 6973 206a 7573 7420  to here is just 
+00020db0: 7768 6974 6573 7061 6365 2061 6e64 2069  whitespace and i
+00020dc0: 676e 6f72 6561 626c 6573 0a20 2020 2020  gnoreables.     
+00020dd0: 2020 2020 2020 2069 6620 6c6f 6320 213d         if loc !=
+00020de0: 2073 656c 662e 7072 6550 6172 7365 2869   self.preParse(i
+00020df0: 6e73 7472 696e 672c 2030 293a 0a20 2020  nstring, 0):.   
+00020e00: 2020 2020 2020 2020 2020 2020 2072 6169               rai
+00020e10: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
+00020e20: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
+00020e30: 2073 656c 662e 6572 726d 7367 2c20 7365   self.errmsg, se
+00020e40: 6c66 290a 2020 2020 2020 2020 7265 7475  lf).        retu
+00020e50: 726e 206c 6f63 2c20 5b5d 0a0a 0a63 6c61  rn loc, []...cla
+00020e60: 7373 2053 7472 696e 6745 6e64 2850 6f73  ss StringEnd(Pos
+00020e70: 6974 696f 6e54 6f6b 656e 293a 0a20 2020  itionToken):.   
+00020e80: 2022 2222 0a20 2020 204d 6174 6368 6573   """.    Matches
+00020e90: 2069 6620 6375 7272 656e 7420 706f 7369   if current posi
+00020ea0: 7469 6f6e 2069 7320 6174 2074 6865 2065  tion is at the e
+00020eb0: 6e64 206f 6620 7468 6520 7061 7273 6520  nd of the parse 
+00020ec0: 7374 7269 6e67 0a20 2020 2022 2222 0a0a  string.    """..
+00020ed0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+00020ee0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00020ef0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
+00020f00: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
+00020f10: 6572 726d 7367 203d 2022 4578 7065 6374  errmsg = "Expect
+00020f20: 6564 2065 6e64 206f 6620 7465 7874 220a  ed end of text".
+00020f30: 0a20 2020 2064 6566 2070 6172 7365 496d  .    def parseIm
+00020f40: 706c 2873 656c 662c 2069 6e73 7472 696e  pl(self, instrin
+00020f50: 672c 206c 6f63 2c20 646f 4163 7469 6f6e  g, loc, doAction
+00020f60: 733d 5472 7565 293a 0a20 2020 2020 2020  s=True):.       
+00020f70: 2069 6620 6c6f 6320 3c20 6c65 6e28 696e   if loc < len(in
+00020f80: 7374 7269 6e67 293a 0a20 2020 2020 2020  string):.       
+00020f90: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
+00020fa0: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
+00020fb0: 6e67 2c20 6c6f 632c 2073 656c 662e 6572  ng, loc, self.er
+00020fc0: 726d 7367 2c20 7365 6c66 290a 2020 2020  rmsg, self).    
+00020fd0: 2020 2020 656c 6966 206c 6f63 203d 3d20      elif loc == 
+00020fe0: 6c65 6e28 696e 7374 7269 6e67 293a 0a20  len(instring):. 
+00020ff0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00021000: 6e20 6c6f 6320 2b20 312c 205b 5d0a 2020  n loc + 1, [].  
+00021010: 2020 2020 2020 656c 6966 206c 6f63 203e        elif loc >
+00021020: 206c 656e 2869 6e73 7472 696e 6729 3a0a   len(instring):.
+00021030: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00021040: 726e 206c 6f63 2c20 5b5d 0a20 2020 2020  rn loc, [].     
+00021050: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00021060: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
+00021070: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
+00021080: 6e67 2c20 6c6f 632c 2073 656c 662e 6572  ng, loc, self.er
+00021090: 726d 7367 2c20 7365 6c66 290a 0a0a 636c  rmsg, self)...cl
+000210a0: 6173 7320 576f 7264 5374 6172 7428 506f  ass WordStart(Po
+000210b0: 7369 7469 6f6e 546f 6b65 6e29 3a0a 2020  sitionToken):.  
+000210c0: 2020 2222 224d 6174 6368 6573 2069 6620    """Matches if 
+000210d0: 7468 6520 6375 7272 656e 7420 706f 7369  the current posi
+000210e0: 7469 6f6e 2069 7320 6174 2074 6865 2062  tion is at the b
+000210f0: 6567 696e 6e69 6e67 206f 6620 610a 2020  eginning of a.  
+00021100: 2020 3a63 6c61 7373 3a60 576f 7264 602c    :class:`Word`,
+00021110: 2061 6e64 2069 7320 6e6f 7420 7072 6563   and is not prec
+00021120: 6564 6564 2062 7920 616e 7920 6368 6172  eded by any char
+00021130: 6163 7465 7220 696e 2061 2067 6976 656e  acter in a given
+00021140: 0a20 2020 2073 6574 206f 6620 6060 776f  .    set of ``wo
+00021150: 7264 5f63 6861 7273 6060 2028 6465 6661  rd_chars`` (defa
+00021160: 756c 743d 2060 6070 7269 6e74 6162 6c65  ult= ``printable
+00021170: 7360 6029 2e20 546f 2065 6d75 6c61 7465  s``). To emulate
+00021180: 2074 6865 0a20 2020 2060 605c 6260 6020   the.    ``\b`` 
+00021190: 6265 6861 7669 6f72 206f 6620 7265 6775  behavior of regu
+000211a0: 6c61 7220 6578 7072 6573 7369 6f6e 732c  lar expressions,
+000211b0: 2075 7365 0a20 2020 2060 6057 6f72 6453   use.    ``WordS
+000211c0: 7461 7274 2861 6c70 6861 6e75 6d73 2960  tart(alphanums)`
+000211d0: 602e 2060 6057 6f72 6453 7461 7274 6060  `. ``WordStart``
+000211e0: 2077 696c 6c20 616c 736f 206d 6174 6368   will also match
+000211f0: 2061 740a 2020 2020 7468 6520 6265 6769   at.    the begi
+00021200: 6e6e 696e 6720 6f66 2074 6865 2073 7472  nning of the str
+00021210: 696e 6720 6265 696e 6720 7061 7273 6564  ing being parsed
+00021220: 2c20 6f72 2061 7420 7468 6520 6265 6769  , or at the begi
+00021230: 6e6e 696e 6720 6f66 0a20 2020 2061 206c  nning of.    a l
+00021240: 696e 652e 0a20 2020 2022 2222 0a0a 2020  ine..    """..  
+00021250: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
+00021260: 656c 662c 2077 6f72 645f 6368 6172 733a  elf, word_chars:
+00021270: 2073 7472 203d 2070 7269 6e74 6162 6c65   str = printable
+00021280: 732c 202a 2c20 776f 7264 4368 6172 733a  s, *, wordChars:
+00021290: 2073 7472 203d 2070 7269 6e74 6162 6c65   str = printable
+000212a0: 7329 3a0a 2020 2020 2020 2020 776f 7264  s):.        word
+000212b0: 4368 6172 7320 3d20 776f 7264 5f63 6861  Chars = word_cha
+000212c0: 7273 2069 6620 776f 7264 4368 6172 7320  rs if wordChars 
+000212d0: 3d3d 2070 7269 6e74 6162 6c65 7320 656c  == printables el
+000212e0: 7365 2077 6f72 6443 6861 7273 0a20 2020  se wordChars.   
+000212f0: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
+00021300: 6e69 745f 5f28 290a 2020 2020 2020 2020  nit__().        
+00021310: 7365 6c66 2e77 6f72 6443 6861 7273 203d  self.wordChars =
+00021320: 2073 6574 2877 6f72 6443 6861 7273 290a   set(wordChars).
+00021330: 2020 2020 2020 2020 7365 6c66 2e65 7272          self.err
+00021340: 6d73 6720 3d20 224e 6f74 2061 7420 7468  msg = "Not at th
+00021350: 6520 7374 6172 7420 6f66 2061 2077 6f72  e start of a wor
+00021360: 6422 0a0a 2020 2020 6465 6620 7061 7273  d"..    def pars
+00021370: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
+00021380: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+00021390: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
+000213a0: 2020 2020 6966 206c 6f63 2021 3d20 303a      if loc != 0:
+000213b0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+000213c0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+000213d0: 2020 696e 7374 7269 6e67 5b6c 6f63 202d    instring[loc -
+000213e0: 2031 5d20 696e 2073 656c 662e 776f 7264   1] in self.word
+000213f0: 4368 6172 730a 2020 2020 2020 2020 2020  Chars.          
+00021400: 2020 2020 2020 6f72 2069 6e73 7472 696e        or instrin
+00021410: 675b 6c6f 635d 206e 6f74 2069 6e20 7365  g[loc] not in se
+00021420: 6c66 2e77 6f72 6443 6861 7273 0a20 2020  lf.wordChars.   
+00021430: 2020 2020 2020 2020 2029 3a0a 2020 2020           ):.    
+00021440: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00021450: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
+00021460: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
+00021470: 7365 6c66 2e65 7272 6d73 672c 2073 656c  self.errmsg, sel
+00021480: 6629 0a20 2020 2020 2020 2072 6574 7572  f).        retur
+00021490: 6e20 6c6f 632c 205b 5d0a 0a0a 636c 6173  n loc, []...clas
+000214a0: 7320 576f 7264 456e 6428 506f 7369 7469  s WordEnd(Positi
+000214b0: 6f6e 546f 6b65 6e29 3a0a 2020 2020 2222  onToken):.    ""
+000214c0: 224d 6174 6368 6573 2069 6620 7468 6520  "Matches if the 
+000214d0: 6375 7272 656e 7420 706f 7369 7469 6f6e  current position
+000214e0: 2069 7320 6174 2074 6865 2065 6e64 206f   is at the end o
+000214f0: 6620 6120 3a63 6c61 7373 3a60 576f 7264  f a :class:`Word
+00021500: 602c 0a20 2020 2061 6e64 2069 7320 6e6f  `,.    and is no
+00021510: 7420 666f 6c6c 6f77 6564 2062 7920 616e  t followed by an
+00021520: 7920 6368 6172 6163 7465 7220 696e 2061  y character in a
+00021530: 2067 6976 656e 2073 6574 206f 6620 6060   given set of ``
+00021540: 776f 7264 5f63 6861 7273 6060 0a20 2020  word_chars``.   
+00021550: 2028 6465 6661 756c 743d 2060 6070 7269   (default= ``pri
+00021560: 6e74 6162 6c65 7360 6029 2e20 546f 2065  ntables``). To e
+00021570: 6d75 6c61 7465 2074 6865 2060 605c 6260  mulate the ``\b`
+00021580: 6020 6265 6861 7669 6f72 206f 660a 2020  ` behavior of.  
+00021590: 2020 7265 6775 6c61 7220 6578 7072 6573    regular expres
+000215a0: 7369 6f6e 732c 2075 7365 2060 6057 6f72  sions, use ``Wor
+000215b0: 6445 6e64 2861 6c70 6861 6e75 6d73 2960  dEnd(alphanums)`
+000215c0: 602e 2060 6057 6f72 6445 6e64 6060 0a20  `. ``WordEnd``. 
+000215d0: 2020 2077 696c 6c20 616c 736f 206d 6174     will also mat
+000215e0: 6368 2061 7420 7468 6520 656e 6420 6f66  ch at the end of
+000215f0: 2074 6865 2073 7472 696e 6720 6265 696e   the string bein
+00021600: 6720 7061 7273 6564 2c20 6f72 2061 7420  g parsed, or at 
+00021610: 7468 6520 656e 640a 2020 2020 6f66 2061  the end.    of a
+00021620: 206c 696e 652e 0a20 2020 2022 2222 0a0a   line..    """..
+00021630: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+00021640: 2873 656c 662c 2077 6f72 645f 6368 6172  (self, word_char
+00021650: 733a 2073 7472 203d 2070 7269 6e74 6162  s: str = printab
+00021660: 6c65 732c 202a 2c20 776f 7264 4368 6172  les, *, wordChar
+00021670: 733a 2073 7472 203d 2070 7269 6e74 6162  s: str = printab
+00021680: 6c65 7329 3a0a 2020 2020 2020 2020 776f  les):.        wo
+00021690: 7264 4368 6172 7320 3d20 776f 7264 5f63  rdChars = word_c
+000216a0: 6861 7273 2069 6620 776f 7264 4368 6172  hars if wordChar
+000216b0: 7320 3d3d 2070 7269 6e74 6162 6c65 7320  s == printables 
+000216c0: 656c 7365 2077 6f72 6443 6861 7273 0a20  else wordChars. 
+000216d0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
+000216e0: 5f69 6e69 745f 5f28 290a 2020 2020 2020  _init__().      
+000216f0: 2020 7365 6c66 2e77 6f72 6443 6861 7273    self.wordChars
+00021700: 203d 2073 6574 2877 6f72 6443 6861 7273   = set(wordChars
+00021710: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
+00021720: 6b69 7057 6869 7465 7370 6163 6520 3d20  kipWhitespace = 
+00021730: 4661 6c73 650a 2020 2020 2020 2020 7365  False.        se
+00021740: 6c66 2e65 7272 6d73 6720 3d20 224e 6f74  lf.errmsg = "Not
+00021750: 2061 7420 7468 6520 656e 6420 6f66 2061   at the end of a
+00021760: 2077 6f72 6422 0a0a 2020 2020 6465 6620   word"..    def 
+00021770: 7061 7273 6549 6d70 6c28 7365 6c66 2c20  parseImpl(self, 
+00021780: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
+00021790: 6f41 6374 696f 6e73 3d54 7275 6529 3a0a  oActions=True):.
+000217a0: 2020 2020 2020 2020 696e 7374 726c 656e          instrlen
+000217b0: 203d 206c 656e 2869 6e73 7472 696e 6729   = len(instring)
+000217c0: 0a20 2020 2020 2020 2069 6620 696e 7374  .        if inst
+000217d0: 726c 656e 203e 2030 2061 6e64 206c 6f63  rlen > 0 and loc
+000217e0: 203c 2069 6e73 7472 6c65 6e3a 0a20 2020   < instrlen:.   
+000217f0: 2020 2020 2020 2020 2069 6620 280a 2020           if (.  
+00021800: 2020 2020 2020 2020 2020 2020 2020 696e                in
+00021810: 7374 7269 6e67 5b6c 6f63 5d20 696e 2073  string[loc] in s
+00021820: 656c 662e 776f 7264 4368 6172 730a 2020  elf.wordChars.  
+00021830: 2020 2020 2020 2020 2020 2020 2020 6f72                or
+00021840: 2069 6e73 7472 696e 675b 6c6f 6320 2d20   instring[loc - 
+00021850: 315d 206e 6f74 2069 6e20 7365 6c66 2e77  1] not in self.w
+00021860: 6f72 6443 6861 7273 0a20 2020 2020 2020  ordChars.       
+00021870: 2020 2020 2029 3a0a 2020 2020 2020 2020       ):.        
+00021880: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
+00021890: 7273 6545 7863 6570 7469 6f6e 2869 6e73  rseException(ins
+000218a0: 7472 696e 672c 206c 6f63 2c20 7365 6c66  tring, loc, self
+000218b0: 2e65 7272 6d73 672c 2073 656c 6629 0a20  .errmsg, self). 
+000218c0: 2020 2020 2020 2072 6574 7572 6e20 6c6f         return lo
+000218d0: 632c 205b 5d0a 0a0a 636c 6173 7320 5061  c, []...class Pa
+000218e0: 7273 6545 7870 7265 7373 696f 6e28 5061  rseExpression(Pa
+000218f0: 7273 6572 456c 656d 656e 7429 3a0a 2020  rserElement):.  
+00021900: 2020 2222 2241 6273 7472 6163 7420 7375    """Abstract su
+00021910: 6263 6c61 7373 206f 6620 5061 7273 6572  bclass of Parser
+00021920: 456c 656d 656e 742c 2066 6f72 2063 6f6d  Element, for com
+00021930: 6269 6e69 6e67 2061 6e64 0a20 2020 2070  bining and.    p
+00021940: 6f73 742d 7072 6f63 6573 7369 6e67 2070  ost-processing p
+00021950: 6172 7365 6420 746f 6b65 6e73 2e0a 2020  arsed tokens..  
+00021960: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
+00021970: 5f69 6e69 745f 5f28 7365 6c66 2c20 6578  _init__(self, ex
+00021980: 7072 733a 2074 7970 696e 672e 4974 6572  prs: typing.Iter
+00021990: 6162 6c65 5b50 6172 7365 7245 6c65 6d65  able[ParserEleme
+000219a0: 6e74 5d2c 2073 6176 656c 6973 743a 2062  nt], savelist: b
+000219b0: 6f6f 6c20 3d20 4661 6c73 6529 3a0a 2020  ool = False):.  
+000219c0: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
+000219d0: 696e 6974 5f5f 2873 6176 656c 6973 7429  init__(savelist)
+000219e0: 0a20 2020 2020 2020 2073 656c 662e 6578  .        self.ex
+000219f0: 7072 733a 204c 6973 745b 5061 7273 6572  prs: List[Parser
+00021a00: 456c 656d 656e 745d 0a20 2020 2020 2020  Element].       
+00021a10: 2069 6620 6973 696e 7374 616e 6365 2865   if isinstance(e
+00021a20: 7870 7273 2c20 5f67 656e 6572 6174 6f72  xprs, _generator
+00021a30: 5479 7065 293a 0a20 2020 2020 2020 2020  Type):.         
+00021a40: 2020 2065 7870 7273 203d 206c 6973 7428     exprs = list(
+00021a50: 6578 7072 7329 0a0a 2020 2020 2020 2020  exprs)..        
+00021a60: 6966 2069 7369 6e73 7461 6e63 6528 6578  if isinstance(ex
+00021a70: 7072 732c 2073 7472 5f74 7970 6529 3a0a  prs, str_type):.
+00021a80: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00021a90: 2e65 7870 7273 203d 205b 7365 6c66 2e5f  .exprs = [self._
+00021aa0: 6c69 7465 7261 6c53 7472 696e 6743 6c61  literalStringCla
+00021ab0: 7373 2865 7870 7273 295d 0a20 2020 2020  ss(exprs)].     
+00021ac0: 2020 2065 6c69 6620 6973 696e 7374 616e     elif isinstan
+00021ad0: 6365 2865 7870 7273 2c20 5061 7273 6572  ce(exprs, Parser
+00021ae0: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
+00021af0: 2020 2020 2020 7365 6c66 2e65 7870 7273        self.exprs
+00021b00: 203d 205b 6578 7072 735d 0a20 2020 2020   = [exprs].     
+00021b10: 2020 2065 6c69 6620 6973 696e 7374 616e     elif isinstan
+00021b20: 6365 2865 7870 7273 2c20 4974 6572 6162  ce(exprs, Iterab
+00021b30: 6c65 293a 0a20 2020 2020 2020 2020 2020  le):.           
+00021b40: 2065 7870 7273 203d 206c 6973 7428 6578   exprs = list(ex
+00021b50: 7072 7329 0a20 2020 2020 2020 2020 2020  prs).           
+00021b60: 2023 2069 6620 7365 7175 656e 6365 206f   # if sequence o
+00021b70: 6620 7374 7269 6e67 7320 7072 6f76 6964  f strings provid
+00021b80: 6564 2c20 7772 6170 2077 6974 6820 4c69  ed, wrap with Li
+00021b90: 7465 7261 6c0a 2020 2020 2020 2020 2020  teral.          
+00021ba0: 2020 6966 2061 6e79 2869 7369 6e73 7461    if any(isinsta
+00021bb0: 6e63 6528 6578 7072 2c20 7374 725f 7479  nce(expr, str_ty
+00021bc0: 7065 2920 666f 7220 6578 7072 2069 6e20  pe) for expr in 
+00021bd0: 6578 7072 7329 3a0a 2020 2020 2020 2020  exprs):.        
+00021be0: 2020 2020 2020 2020 6578 7072 7320 3d20          exprs = 
+00021bf0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00021c00: 2020 2020 2020 7365 6c66 2e5f 6c69 7465        self._lite
+00021c10: 7261 6c53 7472 696e 6743 6c61 7373 2865  ralStringClass(e
+00021c20: 2920 6966 2069 7369 6e73 7461 6e63 6528  ) if isinstance(
+00021c30: 652c 2073 7472 5f74 7970 6529 2065 6c73  e, str_type) els
+00021c40: 6520 650a 2020 2020 2020 2020 2020 2020  e e.            
+00021c50: 2020 2020 2020 2020 666f 7220 6520 696e          for e in
+00021c60: 2065 7870 7273 0a20 2020 2020 2020 2020   exprs.         
+00021c70: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00021c80: 2020 2020 2073 656c 662e 6578 7072 7320       self.exprs 
+00021c90: 3d20 6c69 7374 2865 7870 7273 290a 2020  = list(exprs).  
+00021ca0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00021cb0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00021cc0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00021cd0: 662e 6578 7072 7320 3d20 6c69 7374 2865  f.exprs = list(e
+00021ce0: 7870 7273 290a 2020 2020 2020 2020 2020  xprs).          
+00021cf0: 2020 6578 6365 7074 2054 7970 6545 7272    except TypeErr
+00021d00: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
+00021d10: 2020 2020 7365 6c66 2e65 7870 7273 203d      self.exprs =
+00021d20: 205b 6578 7072 735d 0a20 2020 2020 2020   [exprs].       
+00021d30: 2073 656c 662e 6361 6c6c 5072 6570 6172   self.callPrepar
+00021d40: 7365 203d 2046 616c 7365 0a0a 2020 2020  se = False..    
+00021d50: 6465 6620 7265 6375 7273 6528 7365 6c66  def recurse(self
+00021d60: 2920 2d3e 204c 6973 745b 5061 7273 6572  ) -> List[Parser
+00021d70: 456c 656d 656e 745d 3a0a 2020 2020 2020  Element]:.      
+00021d80: 2020 7265 7475 726e 2073 656c 662e 6578    return self.ex
+00021d90: 7072 735b 3a5d 0a0a 2020 2020 6465 6620  prs[:]..    def 
+00021da0: 6170 7065 6e64 2873 656c 662c 206f 7468  append(self, oth
+00021db0: 6572 2920 2d3e 2050 6172 7365 7245 6c65  er) -> ParserEle
+00021dc0: 6d65 6e74 3a0a 2020 2020 2020 2020 7365  ment:.        se
+00021dd0: 6c66 2e65 7870 7273 2e61 7070 656e 6428  lf.exprs.append(
+00021de0: 6f74 6865 7229 0a20 2020 2020 2020 2073  other).        s
+00021df0: 656c 662e 5f64 6566 6175 6c74 4e61 6d65  elf._defaultName
+00021e00: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+00021e10: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
+00021e20: 2064 6566 206c 6561 7665 5f77 6869 7465   def leave_white
+00021e30: 7370 6163 6528 7365 6c66 2c20 7265 6375  space(self, recu
+00021e40: 7273 6976 653a 2062 6f6f 6c20 3d20 5472  rsive: bool = Tr
+00021e50: 7565 2920 2d3e 2050 6172 7365 7245 6c65  ue) -> ParserEle
+00021e60: 6d65 6e74 3a0a 2020 2020 2020 2020 2222  ment:.        ""
+00021e70: 220a 2020 2020 2020 2020 4578 7465 6e64  ".        Extend
+00021e80: 7320 6060 6c65 6176 655f 7768 6974 6573  s ``leave_whites
+00021e90: 7061 6365 6060 2064 6566 696e 6564 2069  pace`` defined i
+00021ea0: 6e20 6261 7365 2063 6c61 7373 2c20 616e  n base class, an
+00021eb0: 6420 616c 736f 2069 6e76 6f6b 6573 2060  d also invokes `
+00021ec0: 606c 6561 7665 5f77 6869 7465 7370 6163  `leave_whitespac
+00021ed0: 6560 6020 6f6e 0a20 2020 2020 2020 2020  e`` on.         
+00021ee0: 2020 616c 6c20 636f 6e74 6169 6e65 6420    all contained 
+00021ef0: 6578 7072 6573 7369 6f6e 732e 0a20 2020  expressions..   
+00021f00: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00021f10: 2073 7570 6572 2829 2e6c 6561 7665 5f77   super().leave_w
+00021f20: 6869 7465 7370 6163 6528 7265 6375 7273  hitespace(recurs
+00021f30: 6976 6529 0a0a 2020 2020 2020 2020 6966  ive)..        if
+00021f40: 2072 6563 7572 7369 7665 3a0a 2020 2020   recursive:.    
+00021f50: 2020 2020 2020 2020 7365 6c66 2e65 7870          self.exp
+00021f60: 7273 203d 205b 652e 636f 7079 2829 2066  rs = [e.copy() f
+00021f70: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
+00021f80: 7273 5d0a 2020 2020 2020 2020 2020 2020  rs].            
+00021f90: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
+00021fa0: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
+00021fb0: 2020 2020 2065 2e6c 6561 7665 5f77 6869       e.leave_whi
+00021fc0: 7465 7370 6163 6528 7265 6375 7273 6976  tespace(recursiv
+00021fd0: 6529 0a20 2020 2020 2020 2072 6574 7572  e).        retur
+00021fe0: 6e20 7365 6c66 0a0a 2020 2020 6465 6620  n self..    def 
+00021ff0: 6967 6e6f 7265 5f77 6869 7465 7370 6163  ignore_whitespac
+00022000: 6528 7365 6c66 2c20 7265 6375 7273 6976  e(self, recursiv
+00022010: 653a 2062 6f6f 6c20 3d20 5472 7565 2920  e: bool = True) 
+00022020: 2d3e 2050 6172 7365 7245 6c65 6d65 6e74  -> ParserElement
+00022030: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+00022040: 2020 2020 2020 4578 7465 6e64 7320 6060        Extends ``
+00022050: 6967 6e6f 7265 5f77 6869 7465 7370 6163  ignore_whitespac
+00022060: 6560 6020 6465 6669 6e65 6420 696e 2062  e`` defined in b
+00022070: 6173 6520 636c 6173 732c 2061 6e64 2061  ase class, and a
+00022080: 6c73 6f20 696e 766f 6b65 7320 6060 6c65  lso invokes ``le
+00022090: 6176 655f 7768 6974 6573 7061 6365 6060  ave_whitespace``
+000220a0: 206f 6e0a 2020 2020 2020 2020 2020 2061   on.           a
+000220b0: 6c6c 2063 6f6e 7461 696e 6564 2065 7870  ll contained exp
+000220c0: 7265 7373 696f 6e73 2e0a 2020 2020 2020  ressions..      
+000220d0: 2020 2222 220a 2020 2020 2020 2020 7375    """.        su
+000220e0: 7065 7228 292e 6967 6e6f 7265 5f77 6869  per().ignore_whi
+000220f0: 7465 7370 6163 6528 7265 6375 7273 6976  tespace(recursiv
+00022100: 6529 0a20 2020 2020 2020 2069 6620 7265  e).        if re
+00022110: 6375 7273 6976 653a 0a20 2020 2020 2020  cursive:.       
+00022120: 2020 2020 2073 656c 662e 6578 7072 7320       self.exprs 
+00022130: 3d20 5b65 2e63 6f70 7928 2920 666f 7220  = [e.copy() for 
+00022140: 6520 696e 2073 656c 662e 6578 7072 735d  e in self.exprs]
+00022150: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+00022160: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
+00022170: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00022180: 2020 652e 6967 6e6f 7265 5f77 6869 7465    e.ignore_white
+00022190: 7370 6163 6528 7265 6375 7273 6976 6529  space(recursive)
+000221a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000221b0: 7365 6c66 0a0a 2020 2020 6465 6620 6967  self..    def ig
+000221c0: 6e6f 7265 2873 656c 662c 206f 7468 6572  nore(self, other
+000221d0: 2920 2d3e 2050 6172 7365 7245 6c65 6d65  ) -> ParserEleme
+000221e0: 6e74 3a0a 2020 2020 2020 2020 6966 2069  nt:.        if i
+000221f0: 7369 6e73 7461 6e63 6528 6f74 6865 722c  sinstance(other,
+00022200: 2053 7570 7072 6573 7329 3a0a 2020 2020   Suppress):.    
+00022210: 2020 2020 2020 2020 6966 206f 7468 6572          if other
+00022220: 206e 6f74 2069 6e20 7365 6c66 2e69 676e   not in self.ign
+00022230: 6f72 6545 7870 7273 3a0a 2020 2020 2020  oreExprs:.      
+00022240: 2020 2020 2020 2020 2020 7375 7065 7228            super(
+00022250: 292e 6967 6e6f 7265 286f 7468 6572 290a  ).ignore(other).
+00022260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022270: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
+00022280: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
+00022290: 2020 2020 2020 2020 2065 2e69 676e 6f72           e.ignor
+000222a0: 6528 7365 6c66 2e69 676e 6f72 6545 7870  e(self.ignoreExp
+000222b0: 7273 5b2d 315d 290a 2020 2020 2020 2020  rs[-1]).        
+000222c0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+000222d0: 2020 7375 7065 7228 292e 6967 6e6f 7265    super().ignore
+000222e0: 286f 7468 6572 290a 2020 2020 2020 2020  (other).        
+000222f0: 2020 2020 666f 7220 6520 696e 2073 656c      for e in sel
+00022300: 662e 6578 7072 733a 0a20 2020 2020 2020  f.exprs:.       
+00022310: 2020 2020 2020 2020 2065 2e69 676e 6f72           e.ignor
+00022320: 6528 7365 6c66 2e69 676e 6f72 6545 7870  e(self.ignoreExp
+00022330: 7273 5b2d 315d 290a 2020 2020 2020 2020  rs[-1]).        
+00022340: 7265 7475 726e 2073 656c 660a 0a20 2020  return self..   
+00022350: 2064 6566 205f 6765 6e65 7261 7465 4465   def _generateDe
+00022360: 6661 756c 744e 616d 6528 7365 6c66 2920  faultName(self) 
+00022370: 2d3e 2073 7472 3a0a 2020 2020 2020 2020  -> str:.        
+00022380: 7265 7475 726e 2066 227b 7365 6c66 2e5f  return f"{self._
+00022390: 5f63 6c61 7373 5f5f 2e5f 5f6e 616d 655f  _class__.__name_
+000223a0: 5f7d 3a28 7b73 7472 2873 656c 662e 6578  _}:({str(self.ex
+000223b0: 7072 7329 7d29 220a 0a20 2020 2064 6566  prs)})"..    def
+000223c0: 2073 7472 6561 6d6c 696e 6528 7365 6c66   streamline(self
+000223d0: 2920 2d3e 2050 6172 7365 7245 6c65 6d65  ) -> ParserEleme
+000223e0: 6e74 3a0a 2020 2020 2020 2020 6966 2073  nt:.        if s
+000223f0: 656c 662e 7374 7265 616d 6c69 6e65 643a  elf.streamlined:
+00022400: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00022410: 7572 6e20 7365 6c66 0a0a 2020 2020 2020  urn self..      
+00022420: 2020 7375 7065 7228 292e 7374 7265 616d    super().stream
+00022430: 6c69 6e65 2829 0a0a 2020 2020 2020 2020  line()..        
+00022440: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
+00022450: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
+00022460: 2065 2e73 7472 6561 6d6c 696e 6528 290a   e.streamline().
+00022470: 0a20 2020 2020 2020 2023 2063 6f6c 6c61  .        # colla
+00022480: 7073 6520 6e65 7374 6564 203a 636c 6173  pse nested :clas
+00022490: 733a 6041 6e64 6027 7320 6f66 2074 6865  s:`And`'s of the
+000224a0: 2066 6f72 6d20 6060 416e 6428 416e 6428   form ``And(And(
+000224b0: 416e 6428 612c 2062 292c 2063 292c 2064  And(a, b), c), d
+000224c0: 2960 6020 746f 2060 6041 6e64 2861 2c20  )`` to ``And(a, 
+000224d0: 622c 2063 2c20 6429 6060 0a20 2020 2020  b, c, d)``.     
+000224e0: 2020 2023 2062 7574 206f 6e6c 7920 6966     # but only if
+000224f0: 2074 6865 7265 2061 7265 206e 6f20 7061   there are no pa
+00022500: 7273 6520 6163 7469 6f6e 7320 6f72 2072  rse actions or r
+00022510: 6573 756c 7473 4e61 6d65 7320 6f6e 2074  esultsNames on t
+00022520: 6865 206e 6573 7465 6420 416e 6427 730a  he nested And's.
+00022530: 2020 2020 2020 2020 2320 286c 696b 6577          # (likew
+00022540: 6973 6520 666f 7220 3a63 6c61 7373 3a60  ise for :class:`
+00022550: 4f72 6027 7320 616e 6420 3a63 6c61 7373  Or`'s and :class
+00022560: 3a60 4d61 7463 6846 6972 7374 6027 7329  :`MatchFirst`'s)
+00022570: 0a20 2020 2020 2020 2069 6620 6c65 6e28  .        if len(
+00022580: 7365 6c66 2e65 7870 7273 2920 3d3d 2032  self.exprs) == 2
+00022590: 3a0a 2020 2020 2020 2020 2020 2020 6f74  :.            ot
+000225a0: 6865 7220 3d20 7365 6c66 2e65 7870 7273  her = self.exprs
+000225b0: 5b30 5d0a 2020 2020 2020 2020 2020 2020  [0].            
+000225c0: 6966 2028 0a20 2020 2020 2020 2020 2020  if (.           
+000225d0: 2020 2020 2069 7369 6e73 7461 6e63 6528       isinstance(
+000225e0: 6f74 6865 722c 2073 656c 662e 5f5f 636c  other, self.__cl
+000225f0: 6173 735f 5f29 0a20 2020 2020 2020 2020  ass__).         
+00022600: 2020 2020 2020 2061 6e64 206e 6f74 206f         and not o
+00022610: 7468 6572 2e70 6172 7365 4163 7469 6f6e  ther.parseAction
+00022620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00022630: 2061 6e64 206f 7468 6572 2e72 6573 756c   and other.resul
+00022640: 7473 4e61 6d65 2069 7320 4e6f 6e65 0a20  tsName is None. 
+00022650: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00022660: 6e64 206e 6f74 206f 7468 6572 2e64 6562  nd not other.deb
+00022670: 7567 0a20 2020 2020 2020 2020 2020 2029  ug.            )
+00022680: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00022690: 2020 7365 6c66 2e65 7870 7273 203d 206f    self.exprs = o
+000226a0: 7468 6572 2e65 7870 7273 5b3a 5d20 2b20  ther.exprs[:] + 
+000226b0: 5b73 656c 662e 6578 7072 735b 315d 5d0a  [self.exprs[1]].
+000226c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000226d0: 7365 6c66 2e5f 6465 6661 756c 744e 616d  self._defaultNam
+000226e0: 6520 3d20 4e6f 6e65 0a20 2020 2020 2020  e = None.       
+000226f0: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
+00022700: 7952 6574 7572 6e45 6d70 7479 207c 3d20  yReturnEmpty |= 
+00022710: 6f74 6865 722e 6d61 7952 6574 7572 6e45  other.mayReturnE
+00022720: 6d70 7479 0a20 2020 2020 2020 2020 2020  mpty.           
+00022730: 2020 2020 2073 656c 662e 6d61 7949 6e64       self.mayInd
+00022740: 6578 4572 726f 7220 7c3d 206f 7468 6572  exError |= other
+00022750: 2e6d 6179 496e 6465 7845 7272 6f72 0a0a  .mayIndexError..
+00022760: 2020 2020 2020 2020 2020 2020 6f74 6865              othe
+00022770: 7220 3d20 7365 6c66 2e65 7870 7273 5b2d  r = self.exprs[-
+00022780: 315d 0a20 2020 2020 2020 2020 2020 2069  1].            i
+00022790: 6620 280a 2020 2020 2020 2020 2020 2020  f (.            
+000227a0: 2020 2020 6973 696e 7374 616e 6365 286f      isinstance(o
+000227b0: 7468 6572 2c20 7365 6c66 2e5f 5f63 6c61  ther, self.__cla
+000227c0: 7373 5f5f 290a 2020 2020 2020 2020 2020  ss__).          
+000227d0: 2020 2020 2020 616e 6420 6e6f 7420 6f74        and not ot
+000227e0: 6865 722e 7061 7273 6541 6374 696f 6e0a  her.parseAction.
+000227f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022800: 616e 6420 6f74 6865 722e 7265 7375 6c74  and other.result
+00022810: 734e 616d 6520 6973 204e 6f6e 650a 2020  sName is None.  
+00022820: 2020 2020 2020 2020 2020 2020 2020 616e                an
+00022830: 6420 6e6f 7420 6f74 6865 722e 6465 6275  d not other.debu
+00022840: 670a 2020 2020 2020 2020 2020 2020 293a  g.            ):
+00022850: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00022860: 2073 656c 662e 6578 7072 7320 3d20 7365   self.exprs = se
+00022870: 6c66 2e65 7870 7273 5b3a 2d31 5d20 2b20  lf.exprs[:-1] + 
+00022880: 6f74 6865 722e 6578 7072 735b 3a5d 0a20  other.exprs[:]. 
+00022890: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000228a0: 656c 662e 5f64 6566 6175 6c74 4e61 6d65  elf._defaultName
+000228b0: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+000228c0: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
+000228d0: 5265 7475 726e 456d 7074 7920 7c3d 206f  ReturnEmpty |= o
+000228e0: 7468 6572 2e6d 6179 5265 7475 726e 456d  ther.mayReturnEm
+000228f0: 7074 790a 2020 2020 2020 2020 2020 2020  pty.            
+00022900: 2020 2020 7365 6c66 2e6d 6179 496e 6465      self.mayInde
+00022910: 7845 7272 6f72 207c 3d20 6f74 6865 722e  xError |= other.
+00022920: 6d61 7949 6e64 6578 4572 726f 720a 0a20  mayIndexError.. 
+00022930: 2020 2020 2020 2073 656c 662e 6572 726d         self.errm
+00022940: 7367 203d 2022 4578 7065 6374 6564 2022  sg = "Expected "
+00022950: 202b 2073 7472 2873 656c 6629 0a0a 2020   + str(self)..  
+00022960: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00022970: 660a 0a20 2020 2064 6566 2076 616c 6964  f..    def valid
+00022980: 6174 6528 7365 6c66 2c20 7661 6c69 6461  ate(self, valida
+00022990: 7465 5472 6163 653d 4e6f 6e65 2920 2d3e  teTrace=None) ->
+000229a0: 204e 6f6e 653a 0a20 2020 2020 2020 2077   None:.        w
+000229b0: 6172 6e69 6e67 732e 7761 726e 280a 2020  arnings.warn(.  
+000229c0: 2020 2020 2020 2020 2020 2250 6172 7365            "Parse
+000229d0: 7245 6c65 6d65 6e74 2e76 616c 6964 6174  rElement.validat
+000229e0: 6528 2920 6973 2064 6570 7265 6361 7465  e() is deprecate
+000229f0: 642c 2061 6e64 2073 686f 756c 6420 6e6f  d, and should no
+00022a00: 7420 6265 2075 7365 6420 746f 2063 6865  t be used to che
+00022a10: 636b 2066 6f72 206c 6566 7420 7265 6375  ck for left recu
+00022a20: 7273 696f 6e22 2c0a 2020 2020 2020 2020  rsion",.        
+00022a30: 2020 2020 4465 7072 6563 6174 696f 6e57      DeprecationW
+00022a40: 6172 6e69 6e67 2c0a 2020 2020 2020 2020  arning,.        
+00022a50: 2020 2020 7374 6163 6b6c 6576 656c 3d32      stacklevel=2
+00022a60: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+00022a70: 2020 2020 746d 7020 3d20 2876 616c 6964      tmp = (valid
+00022a80: 6174 6554 7261 6365 2069 6620 7661 6c69  ateTrace if vali
+00022a90: 6461 7465 5472 6163 6520 6973 206e 6f74  dateTrace is not
+00022aa0: 204e 6f6e 6520 656c 7365 205b 5d29 5b3a   None else [])[:
+00022ab0: 5d20 2b20 5b73 656c 665d 0a20 2020 2020  ] + [self].     
+00022ac0: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
+00022ad0: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
+00022ae0: 2020 2020 652e 7661 6c69 6461 7465 2874      e.validate(t
+00022af0: 6d70 290a 2020 2020 2020 2020 7365 6c66  mp).        self
+00022b00: 2e5f 6368 6563 6b52 6563 7572 7369 6f6e  ._checkRecursion
+00022b10: 285b 5d29 0a0a 2020 2020 6465 6620 636f  ([])..    def co
+00022b20: 7079 2873 656c 6629 202d 3e20 5061 7273  py(self) -> Pars
+00022b30: 6572 456c 656d 656e 743a 0a20 2020 2020  erElement:.     
+00022b40: 2020 2072 6574 203d 2073 7570 6572 2829     ret = super()
+00022b50: 2e63 6f70 7928 290a 2020 2020 2020 2020  .copy().        
+00022b60: 7265 7420 3d20 7479 7069 6e67 2e63 6173  ret = typing.cas
+00022b70: 7428 5061 7273 6545 7870 7265 7373 696f  t(ParseExpressio
+00022b80: 6e2c 2072 6574 290a 2020 2020 2020 2020  n, ret).        
+00022b90: 7265 742e 6578 7072 7320 3d20 5b65 2e63  ret.exprs = [e.c
+00022ba0: 6f70 7928 2920 666f 7220 6520 696e 2073  opy() for e in s
+00022bb0: 656c 662e 6578 7072 735d 0a20 2020 2020  elf.exprs].     
+00022bc0: 2020 2072 6574 7572 6e20 7265 740a 0a20     return ret.. 
+00022bd0: 2020 2064 6566 205f 7365 7452 6573 756c     def _setResul
+00022be0: 7473 4e61 6d65 2873 656c 662c 206e 616d  tsName(self, nam
+00022bf0: 652c 206c 6973 7441 6c6c 4d61 7463 6865  e, listAllMatche
+00022c00: 733d 4661 6c73 6529 3a0a 2020 2020 2020  s=False):.      
+00022c10: 2020 6966 2028 0a20 2020 2020 2020 2020    if (.         
+00022c20: 2020 205f 5f64 6961 675f 5f2e 7761 726e     __diag__.warn
+00022c30: 5f75 6e67 726f 7570 6564 5f6e 616d 6564  _ungrouped_named
+00022c40: 5f74 6f6b 656e 735f 696e 5f63 6f6c 6c65  _tokens_in_colle
+00022c50: 6374 696f 6e0a 2020 2020 2020 2020 2020  ction.          
+00022c60: 2020 616e 6420 4469 6167 6e6f 7374 6963    and Diagnostic
+00022c70: 732e 7761 726e 5f75 6e67 726f 7570 6564  s.warn_ungrouped
+00022c80: 5f6e 616d 6564 5f74 6f6b 656e 735f 696e  _named_tokens_in
+00022c90: 5f63 6f6c 6c65 6374 696f 6e0a 2020 2020  _collection.    
+00022ca0: 2020 2020 2020 2020 6e6f 7420 696e 2073          not in s
+00022cb0: 656c 662e 7375 7070 7265 7373 5f77 6172  elf.suppress_war
+00022cc0: 6e69 6e67 735f 0a20 2020 2020 2020 2029  nings_.        )
+00022cd0: 3a0a 2020 2020 2020 2020 2020 2020 666f  :.            fo
+00022ce0: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
+00022cf0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00022d00: 2020 2069 6620 280a 2020 2020 2020 2020     if (.        
+00022d10: 2020 2020 2020 2020 2020 2020 6973 696e              isin
+00022d20: 7374 616e 6365 2865 2c20 5061 7273 6572  stance(e, Parser
+00022d30: 456c 656d 656e 7429 0a20 2020 2020 2020  Element).       
+00022d40: 2020 2020 2020 2020 2020 2020 2061 6e64               and
+00022d50: 2065 2e72 6573 756c 7473 4e61 6d65 0a20   e.resultsName. 
+00022d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022d70: 2020 2061 6e64 2044 6961 676e 6f73 7469     and Diagnosti
+00022d80: 6373 2e77 6172 6e5f 756e 6772 6f75 7065  cs.warn_ungroupe
+00022d90: 645f 6e61 6d65 645f 746f 6b65 6e73 5f69  d_named_tokens_i
+00022da0: 6e5f 636f 6c6c 6563 7469 6f6e 0a20 2020  n_collection.   
+00022db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022dc0: 206e 6f74 2069 6e20 652e 7375 7070 7265   not in e.suppre
+00022dd0: 7373 5f77 6172 6e69 6e67 735f 0a20 2020  ss_warnings_.   
+00022de0: 2020 2020 2020 2020 2020 2020 2029 3a0a               ):.
+00022df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022e00: 2020 2020 7761 726e 696e 6773 2e77 6172      warnings.war
+00022e10: 6e28 0a20 2020 2020 2020 2020 2020 2020  n(.             
+00022e20: 2020 2020 2020 2020 2020 2022 7b7d 3a20             "{}: 
+00022e30: 7365 7474 696e 6720 7265 7375 6c74 7320  setting results 
+00022e40: 6e61 6d65 207b 2172 7d20 6f6e 207b 7d20  name {!r} on {} 
+00022e50: 6578 7072 6573 7369 6f6e 2022 0a20 2020  expression ".   
 00022e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022e70: 2020 6e61 6d65 2c0a 2020 2020 2020 2020    name,.        
-00022e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022e90: 2020 2020 7479 7065 2873 656c 6629 2e5f      type(self)._
-00022ea0: 5f6e 616d 655f 5f2c 0a20 2020 2020 2020  _name__,.       
+00022e70: 2020 2020 2022 636f 6c6c 6964 6573 2077       "collides w
+00022e80: 6974 6820 7b21 727d 206f 6e20 636f 6e74  ith {!r} on cont
+00022e90: 6169 6e65 6420 6578 7072 6573 7369 6f6e  ained expression
+00022ea0: 222e 666f 726d 6174 280a 2020 2020 2020  ".format(.      
 00022eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022ec0: 2020 2020 2065 2e72 6573 756c 7473 4e61       e.resultsNa
-00022ed0: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
-00022ee0: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
-00022ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022f00: 2020 2020 2020 2073 7461 636b 6c65 7665         stackleve
-00022f10: 6c3d 332c 0a20 2020 2020 2020 2020 2020  l=3,.           
-00022f20: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
-00022f30: 2020 2020 7265 7475 726e 2073 7570 6572      return super
-00022f40: 2829 2e5f 7365 7452 6573 756c 7473 4e61  ()._setResultsNa
-00022f50: 6d65 286e 616d 652c 206c 6973 7441 6c6c  me(name, listAll
-00022f60: 4d61 7463 6865 7329 0a0a 2020 2020 2320  Matches)..    # 
-00022f70: 436f 6d70 6174 6962 696c 6974 7920 7379  Compatibility sy
-00022f80: 6e6f 6e79 6d73 0a20 2020 2023 2066 6d74  nonyms.    # fmt
-00022f90: 3a20 6f66 660a 2020 2020 4072 6570 6c61  : off.    @repla
-00022fa0: 6365 645f 6279 5f70 6570 3828 6c65 6176  ced_by_pep8(leav
-00022fb0: 655f 7768 6974 6573 7061 6365 290a 2020  e_whitespace).  
-00022fc0: 2020 6465 6620 6c65 6176 6557 6869 7465    def leaveWhite
-00022fd0: 7370 6163 6528 7365 6c66 293a 202e 2e2e  space(self): ...
-00022fe0: 0a0a 2020 2020 4072 6570 6c61 6365 645f  ..    @replaced_
-00022ff0: 6279 5f70 6570 3828 6967 6e6f 7265 5f77  by_pep8(ignore_w
-00023000: 6869 7465 7370 6163 6529 0a20 2020 2064  hitespace).    d
-00023010: 6566 2069 676e 6f72 6557 6869 7465 7370  ef ignoreWhitesp
-00023020: 6163 6528 7365 6c66 293a 202e 2e2e 0a20  ace(self): .... 
-00023030: 2020 2023 2066 6d74 3a20 6f6e 0a0a 0a63     # fmt: on...c
-00023040: 6c61 7373 2041 6e64 2850 6172 7365 4578  lass And(ParseEx
-00023050: 7072 6573 7369 6f6e 293a 0a20 2020 2022  pression):.    "
-00023060: 2222 0a20 2020 2052 6571 7569 7265 7320  "".    Requires 
-00023070: 616c 6c20 6769 7665 6e20 3a63 6c61 7373  all given :class
-00023080: 3a60 5061 7273 6545 7870 7265 7373 696f  :`ParseExpressio
-00023090: 6e60 2073 2074 6f20 6265 2066 6f75 6e64  n` s to be found
-000230a0: 2069 6e20 7468 6520 6769 7665 6e20 6f72   in the given or
-000230b0: 6465 722e 0a20 2020 2045 7870 7265 7373  der..    Express
-000230c0: 696f 6e73 206d 6179 2062 6520 7365 7061  ions may be sepa
-000230d0: 7261 7465 6420 6279 2077 6869 7465 7370  rated by whitesp
-000230e0: 6163 652e 0a20 2020 204d 6179 2062 6520  ace..    May be 
-000230f0: 636f 6e73 7472 7563 7465 6420 7573 696e  constructed usin
-00023100: 6720 7468 6520 6060 272b 2760 6020 6f70  g the ``'+'`` op
-00023110: 6572 6174 6f72 2e0a 2020 2020 4d61 7920  erator..    May 
-00023120: 616c 736f 2062 6520 636f 6e73 7472 7563  also be construc
-00023130: 7465 6420 7573 696e 6720 7468 6520 6060  ted using the ``
-00023140: 272d 2760 6020 6f70 6572 6174 6f72 2c20  '-'`` operator, 
-00023150: 7768 6963 6820 7769 6c6c 0a20 2020 2073  which will.    s
-00023160: 7570 7072 6573 7320 6261 636b 7472 6163  uppress backtrac
-00023170: 6b69 6e67 2e0a 0a20 2020 2045 7861 6d70  king...    Examp
-00023180: 6c65 3a3a 0a0a 2020 2020 2020 2020 696e  le::..        in
-00023190: 7465 6765 7220 3d20 576f 7264 286e 756d  teger = Word(num
-000231a0: 7329 0a20 2020 2020 2020 206e 616d 655f  s).        name_
-000231b0: 6578 7072 203d 2057 6f72 6428 616c 7068  expr = Word(alph
-000231c0: 6173 295b 312c 202e 2e2e 5d0a 0a20 2020  as)[1, ...]..   
-000231d0: 2020 2020 2065 7870 7220 3d20 416e 6428       expr = And(
-000231e0: 5b69 6e74 6567 6572 2822 6964 2229 2c20  [integer("id"), 
-000231f0: 6e61 6d65 5f65 7870 7228 226e 616d 6522  name_expr("name"
-00023200: 292c 2069 6e74 6567 6572 2822 6167 6522  ), integer("age"
-00023210: 295d 290a 2020 2020 2020 2020 2320 6d6f  )]).        # mo
-00023220: 7265 2065 6173 696c 7920 7772 6974 7465  re easily writte
-00023230: 6e20 6173 3a0a 2020 2020 2020 2020 6578  n as:.        ex
-00023240: 7072 203d 2069 6e74 6567 6572 2822 6964  pr = integer("id
-00023250: 2229 202b 206e 616d 655f 6578 7072 2822  ") + name_expr("
-00023260: 6e61 6d65 2229 202b 2069 6e74 6567 6572  name") + integer
-00023270: 2822 6167 6522 290a 2020 2020 2222 220a  ("age").    """.
-00023280: 0a20 2020 2063 6c61 7373 205f 4572 726f  .    class _Erro
-00023290: 7253 746f 7028 456d 7074 7929 3a0a 2020  rStop(Empty):.  
-000232a0: 2020 2020 2020 6465 6620 5f5f 696e 6974        def __init
-000232b0: 5f5f 2873 656c 662c 202a 6172 6773 2c20  __(self, *args, 
-000232c0: 2a2a 6b77 6172 6773 293a 0a20 2020 2020  **kwargs):.     
-000232d0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
-000232e0: 5f69 6e69 745f 5f28 2a61 7267 732c 202a  _init__(*args, *
-000232f0: 2a6b 7761 7267 7329 0a20 2020 2020 2020  *kwargs).       
-00023300: 2020 2020 2073 656c 662e 6c65 6176 655f       self.leave_
-00023310: 7768 6974 6573 7061 6365 2829 0a0a 2020  whitespace()..  
-00023320: 2020 2020 2020 6465 6620 5f67 656e 6572        def _gener
-00023330: 6174 6544 6566 6175 6c74 4e61 6d65 2873  ateDefaultName(s
-00023340: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
-00023350: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00023360: 222d 220a 0a20 2020 2064 6566 205f 5f69  "-"..    def __i
-00023370: 6e69 745f 5f28 0a20 2020 2020 2020 2073  nit__(.        s
-00023380: 656c 662c 2065 7870 7273 5f61 7267 3a20  elf, exprs_arg: 
-00023390: 7479 7069 6e67 2e49 7465 7261 626c 655b  typing.Iterable[
-000233a0: 5061 7273 6572 456c 656d 656e 745d 2c20  ParserElement], 
-000233b0: 7361 7665 6c69 7374 3a20 626f 6f6c 203d  savelist: bool =
-000233c0: 2054 7275 650a 2020 2020 293a 0a20 2020   True.    ):.   
-000233d0: 2020 2020 2065 7870 7273 3a20 4c69 7374       exprs: List
-000233e0: 5b50 6172 7365 7245 6c65 6d65 6e74 5d20  [ParserElement] 
-000233f0: 3d20 6c69 7374 2865 7870 7273 5f61 7267  = list(exprs_arg
-00023400: 290a 2020 2020 2020 2020 6966 2065 7870  ).        if exp
-00023410: 7273 2061 6e64 2045 6c6c 6970 7369 7320  rs and Ellipsis 
-00023420: 696e 2065 7870 7273 3a0a 2020 2020 2020  in exprs:.      
-00023430: 2020 2020 2020 746d 7020 3d20 5b5d 0a20        tmp = []. 
-00023440: 2020 2020 2020 2020 2020 2066 6f72 2069             for i
-00023450: 2c20 6578 7072 2069 6e20 656e 756d 6572  , expr in enumer
-00023460: 6174 6528 6578 7072 7329 3a0a 2020 2020  ate(exprs):.    
-00023470: 2020 2020 2020 2020 2020 2020 6966 2065              if e
-00023480: 7870 7220 6973 2045 6c6c 6970 7369 733a  xpr is Ellipsis:
-00023490: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000234a0: 2020 2020 2069 6620 6920 3c20 6c65 6e28       if i < len(
-000234b0: 6578 7072 7329 202d 2031 3a0a 2020 2020  exprs) - 1:.    
-000234c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000234d0: 2020 2020 736b 6970 746f 5f61 7267 3a20      skipto_arg: 
-000234e0: 5061 7273 6572 456c 656d 656e 7420 3d20  ParserElement = 
-000234f0: 7479 7069 6e67 2e63 6173 7428 0a20 2020  typing.cast(.   
-00023500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023510: 2020 2020 2020 2020 2050 6172 7365 4578           ParseEx
-00023520: 7072 6573 7369 6f6e 2c20 2845 6d70 7479  pression, (Empty
-00023530: 2829 202b 2065 7870 7273 5b69 202b 2031  () + exprs[i + 1
-00023540: 5d29 0a20 2020 2020 2020 2020 2020 2020  ]).             
-00023550: 2020 2020 2020 2020 2020 2029 2e65 7870             ).exp
-00023560: 7273 5b2d 315d 0a20 2020 2020 2020 2020  rs[-1].         
-00023570: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00023580: 6d70 2e61 7070 656e 6428 536b 6970 546f  mp.append(SkipTo
-00023590: 2873 6b69 7074 6f5f 6172 6729 2822 5f73  (skipto_arg)("_s
-000235a0: 6b69 7070 6564 2a22 2929 0a20 2020 2020  kipped*")).     
-000235b0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000235c0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-000235d0: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-000235e0: 7365 2045 7863 6570 7469 6f6e 280a 2020  se Exception(.  
-000235f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023600: 2020 2020 2020 2020 2020 2263 616e 6e6f            "canno
-00023610: 7420 636f 6e73 7472 7563 7420 416e 6420  t construct And 
-00023620: 7769 7468 2073 6571 7565 6e63 6520 656e  with sequence en
-00023630: 6469 6e67 2069 6e20 2e2e 2e22 0a20 2020  ding in ...".   
-00023640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023650: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
-00023660: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00023670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023680: 2074 6d70 2e61 7070 656e 6428 6578 7072   tmp.append(expr
-00023690: 290a 2020 2020 2020 2020 2020 2020 6578  ).            ex
-000236a0: 7072 735b 3a5d 203d 2074 6d70 0a20 2020  prs[:] = tmp.   
-000236b0: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
-000236c0: 6e69 745f 5f28 6578 7072 732c 2073 6176  nit__(exprs, sav
-000236d0: 656c 6973 7429 0a20 2020 2020 2020 2069  elist).        i
-000236e0: 6620 7365 6c66 2e65 7870 7273 3a0a 2020  f self.exprs:.  
-000236f0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-00023700: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
-00023710: 616c 6c28 652e 6d61 7952 6574 7572 6e45  all(e.mayReturnE
-00023720: 6d70 7479 2066 6f72 2065 2069 6e20 7365  mpty for e in se
-00023730: 6c66 2e65 7870 7273 290a 2020 2020 2020  lf.exprs).      
-00023740: 2020 2020 2020 6966 206e 6f74 2069 7369        if not isi
-00023750: 6e73 7461 6e63 6528 7365 6c66 2e65 7870  nstance(self.exp
-00023760: 7273 5b30 5d2c 2057 6869 7465 293a 0a20  rs[0], White):. 
-00023770: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00023780: 656c 662e 7365 745f 7768 6974 6573 7061  elf.set_whitespa
-00023790: 6365 5f63 6861 7273 280a 2020 2020 2020  ce_chars(.      
-000237a0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-000237b0: 6c66 2e65 7870 7273 5b30 5d2e 7768 6974  lf.exprs[0].whit
-000237c0: 6543 6861 7273 2c0a 2020 2020 2020 2020  eChars,.        
-000237d0: 2020 2020 2020 2020 2020 2020 636f 7079              copy
-000237e0: 5f64 6566 6175 6c74 733d 7365 6c66 2e65  _defaults=self.e
-000237f0: 7870 7273 5b30 5d2e 636f 7079 4465 6661  xprs[0].copyDefa
-00023800: 756c 7457 6869 7465 4368 6172 732c 0a20  ultWhiteChars,. 
-00023810: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-00023820: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023830: 2073 656c 662e 736b 6970 5768 6974 6573   self.skipWhites
-00023840: 7061 6365 203d 2073 656c 662e 6578 7072  pace = self.expr
-00023850: 735b 305d 2e73 6b69 7057 6869 7465 7370  s[0].skipWhitesp
-00023860: 6163 650a 2020 2020 2020 2020 2020 2020  ace.            
-00023870: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00023880: 2020 2020 2020 7365 6c66 2e73 6b69 7057        self.skipW
-00023890: 6869 7465 7370 6163 6520 3d20 4661 6c73  hitespace = Fals
-000238a0: 650a 2020 2020 2020 2020 656c 7365 3a0a  e.        else:.
-000238b0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-000238c0: 2e6d 6179 5265 7475 726e 456d 7074 7920  .mayReturnEmpty 
-000238d0: 3d20 5472 7565 0a20 2020 2020 2020 2073  = True.        s
-000238e0: 656c 662e 6361 6c6c 5072 6570 6172 7365  elf.callPreparse
-000238f0: 203d 2054 7275 650a 0a20 2020 2064 6566   = True..    def
-00023900: 2073 7472 6561 6d6c 696e 6528 7365 6c66   streamline(self
-00023910: 2920 2d3e 2050 6172 7365 7245 6c65 6d65  ) -> ParserEleme
-00023920: 6e74 3a0a 2020 2020 2020 2020 2320 636f  nt:.        # co
-00023930: 6c6c 6170 7365 2061 6e79 205f 5065 6e64  llapse any _Pend
-00023940: 696e 6753 6b69 7027 730a 2020 2020 2020  ingSkip's.      
-00023950: 2020 6966 2073 656c 662e 6578 7072 733a    if self.exprs:
-00023960: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00023970: 616e 7928 0a20 2020 2020 2020 2020 2020  any(.           
-00023980: 2020 2020 2069 7369 6e73 7461 6e63 6528       isinstance(
-00023990: 652c 2050 6172 7365 4578 7072 6573 7369  e, ParseExpressi
-000239a0: 6f6e 290a 2020 2020 2020 2020 2020 2020  on).            
-000239b0: 2020 2020 616e 6420 652e 6578 7072 730a      and e.exprs.
-000239c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000239d0: 616e 6420 6973 696e 7374 616e 6365 2865  and isinstance(e
-000239e0: 2e65 7870 7273 5b2d 315d 2c20 5f50 656e  .exprs[-1], _Pen
-000239f0: 6469 6e67 536b 6970 290a 2020 2020 2020  dingSkip).      
-00023a00: 2020 2020 2020 2020 2020 666f 7220 6520            for e 
-00023a10: 696e 2073 656c 662e 6578 7072 735b 3a2d  in self.exprs[:-
-00023a20: 315d 0a20 2020 2020 2020 2020 2020 2029  1].            )
-00023a30: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00023a40: 2020 6465 6c65 7465 645f 6578 7072 5f6d    deleted_expr_m
-00023a50: 6172 6b65 7220 3d20 4e6f 4d61 7463 6828  arker = NoMatch(
-00023a60: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00023a70: 2020 666f 7220 692c 2065 2069 6e20 656e    for i, e in en
-00023a80: 756d 6572 6174 6528 7365 6c66 2e65 7870  umerate(self.exp
-00023a90: 7273 5b3a 2d31 5d29 3a0a 2020 2020 2020  rs[:-1]):.      
-00023aa0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00023ab0: 2065 2069 7320 6465 6c65 7465 645f 6578   e is deleted_ex
-00023ac0: 7072 5f6d 6172 6b65 723a 0a20 2020 2020  pr_marker:.     
-00023ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023ae0: 2020 2063 6f6e 7469 6e75 650a 2020 2020     continue.    
-00023af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023b00: 6966 2028 0a20 2020 2020 2020 2020 2020  if (.           
-00023b10: 2020 2020 2020 2020 2020 2020 2069 7369               isi
-00023b20: 6e73 7461 6e63 6528 652c 2050 6172 7365  nstance(e, Parse
-00023b30: 4578 7072 6573 7369 6f6e 290a 2020 2020  Expression).    
-00023b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023b50: 2020 2020 616e 6420 652e 6578 7072 730a      and e.exprs.
-00023b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023b70: 2020 2020 2020 2020 616e 6420 6973 696e          and isin
-00023b80: 7374 616e 6365 2865 2e65 7870 7273 5b2d  stance(e.exprs[-
-00023b90: 315d 2c20 5f50 656e 6469 6e67 536b 6970  1], _PendingSkip
-00023ba0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00023bb0: 2020 2020 2020 293a 0a20 2020 2020 2020        ):.       
-00023bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023bd0: 2065 2e65 7870 7273 5b2d 315d 203d 2065   e.exprs[-1] = e
-00023be0: 2e65 7870 7273 5b2d 315d 202b 2073 656c  .exprs[-1] + sel
-00023bf0: 662e 6578 7072 735b 6920 2b20 315d 0a20  f.exprs[i + 1]. 
+00022ec0: 2020 2020 2020 2277 6172 6e5f 756e 6772        "warn_ungr
+00022ed0: 6f75 7065 645f 6e61 6d65 645f 746f 6b65  ouped_named_toke
+00022ee0: 6e73 5f69 6e5f 636f 6c6c 6563 7469 6f6e  ns_in_collection
+00022ef0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00022f00: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+00022f10: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
+00022f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022f30: 2074 7970 6528 7365 6c66 292e 5f5f 6e61   type(self).__na
+00022f40: 6d65 5f5f 2c0a 2020 2020 2020 2020 2020  me__,.          
+00022f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022f60: 2020 652e 7265 7375 6c74 734e 616d 652c    e.resultsName,
+00022f70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00022f80: 2020 2020 2020 2020 2029 2c0a 2020 2020           ),.    
+00022f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022fa0: 2020 2020 7374 6163 6b6c 6576 656c 3d33      stacklevel=3
+00022fb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00022fc0: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
+00022fd0: 2072 6574 7572 6e20 7375 7065 7228 292e   return super().
+00022fe0: 5f73 6574 5265 7375 6c74 734e 616d 6528  _setResultsName(
+00022ff0: 6e61 6d65 2c20 6c69 7374 416c 6c4d 6174  name, listAllMat
+00023000: 6368 6573 290a 0a20 2020 2023 2043 6f6d  ches)..    # Com
+00023010: 7061 7469 6269 6c69 7479 2073 796e 6f6e  patibility synon
+00023020: 796d 730a 2020 2020 2320 666d 743a 206f  yms.    # fmt: o
+00023030: 6666 0a20 2020 2040 7265 706c 6163 6564  ff.    @replaced
+00023040: 5f62 795f 7065 7038 286c 6561 7665 5f77  _by_pep8(leave_w
+00023050: 6869 7465 7370 6163 6529 0a20 2020 2064  hitespace).    d
+00023060: 6566 206c 6561 7665 5768 6974 6573 7061  ef leaveWhitespa
+00023070: 6365 2873 656c 6629 3a20 2e2e 2e0a 0a20  ce(self): ..... 
+00023080: 2020 2040 7265 706c 6163 6564 5f62 795f     @replaced_by_
+00023090: 7065 7038 2869 676e 6f72 655f 7768 6974  pep8(ignore_whit
+000230a0: 6573 7061 6365 290a 2020 2020 6465 6620  espace).    def 
+000230b0: 6967 6e6f 7265 5768 6974 6573 7061 6365  ignoreWhitespace
+000230c0: 2873 656c 6629 3a20 2e2e 2e0a 2020 2020  (self): ....    
+000230d0: 2320 666d 743a 206f 6e0a 0a0a 636c 6173  # fmt: on...clas
+000230e0: 7320 416e 6428 5061 7273 6545 7870 7265  s And(ParseExpre
+000230f0: 7373 696f 6e29 3a0a 2020 2020 2222 220a  ssion):.    """.
+00023100: 2020 2020 5265 7175 6972 6573 2061 6c6c      Requires all
+00023110: 2067 6976 656e 203a 636c 6173 733a 6050   given :class:`P
+00023120: 6172 7365 4578 7072 6573 7369 6f6e 6020  arseExpression` 
+00023130: 7320 746f 2062 6520 666f 756e 6420 696e  s to be found in
+00023140: 2074 6865 2067 6976 656e 206f 7264 6572   the given order
+00023150: 2e0a 2020 2020 4578 7072 6573 7369 6f6e  ..    Expression
+00023160: 7320 6d61 7920 6265 2073 6570 6172 6174  s may be separat
+00023170: 6564 2062 7920 7768 6974 6573 7061 6365  ed by whitespace
+00023180: 2e0a 2020 2020 4d61 7920 6265 2063 6f6e  ..    May be con
+00023190: 7374 7275 6374 6564 2075 7369 6e67 2074  structed using t
+000231a0: 6865 2060 6027 2b27 6060 206f 7065 7261  he ``'+'`` opera
+000231b0: 746f 722e 0a20 2020 204d 6179 2061 6c73  tor..    May als
+000231c0: 6f20 6265 2063 6f6e 7374 7275 6374 6564  o be constructed
+000231d0: 2075 7369 6e67 2074 6865 2060 6027 2d27   using the ``'-'
+000231e0: 6060 206f 7065 7261 746f 722c 2077 6869  `` operator, whi
+000231f0: 6368 2077 696c 6c0a 2020 2020 7375 7070  ch will.    supp
+00023200: 7265 7373 2062 6163 6b74 7261 636b 696e  ress backtrackin
+00023210: 672e 0a0a 2020 2020 4578 616d 706c 653a  g...    Example:
+00023220: 3a0a 0a20 2020 2020 2020 2069 6e74 6567  :..        integ
+00023230: 6572 203d 2057 6f72 6428 6e75 6d73 290a  er = Word(nums).
+00023240: 2020 2020 2020 2020 6e61 6d65 5f65 7870          name_exp
+00023250: 7220 3d20 576f 7264 2861 6c70 6861 7329  r = Word(alphas)
+00023260: 5b31 2c20 2e2e 2e5d 0a0a 2020 2020 2020  [1, ...]..      
+00023270: 2020 6578 7072 203d 2041 6e64 285b 696e    expr = And([in
+00023280: 7465 6765 7228 2269 6422 292c 206e 616d  teger("id"), nam
+00023290: 655f 6578 7072 2822 6e61 6d65 2229 2c20  e_expr("name"), 
+000232a0: 696e 7465 6765 7228 2261 6765 2229 5d29  integer("age")])
+000232b0: 0a20 2020 2020 2020 2023 206d 6f72 6520  .        # more 
+000232c0: 6561 7369 6c79 2077 7269 7474 656e 2061  easily written a
+000232d0: 733a 0a20 2020 2020 2020 2065 7870 7220  s:.        expr 
+000232e0: 3d20 696e 7465 6765 7228 2269 6422 2920  = integer("id") 
+000232f0: 2b20 6e61 6d65 5f65 7870 7228 226e 616d  + name_expr("nam
+00023300: 6522 2920 2b20 696e 7465 6765 7228 2261  e") + integer("a
+00023310: 6765 2229 0a20 2020 2022 2222 0a0a 2020  ge").    """..  
+00023320: 2020 636c 6173 7320 5f45 7272 6f72 5374    class _ErrorSt
+00023330: 6f70 2845 6d70 7479 293a 0a20 2020 2020  op(Empty):.     
+00023340: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
+00023350: 7365 6c66 2c20 2a61 7267 732c 202a 2a6b  self, *args, **k
+00023360: 7761 7267 7329 3a0a 2020 2020 2020 2020  wargs):.        
+00023370: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+00023380: 6974 5f5f 282a 6172 6773 2c20 2a2a 6b77  it__(*args, **kw
+00023390: 6172 6773 290a 2020 2020 2020 2020 2020  args).          
+000233a0: 2020 7365 6c66 2e6c 6561 7665 5f77 6869    self.leave_whi
+000233b0: 7465 7370 6163 6528 290a 0a20 2020 2020  tespace()..     
+000233c0: 2020 2064 6566 205f 6765 6e65 7261 7465     def _generate
+000233d0: 4465 6661 756c 744e 616d 6528 7365 6c66  DefaultName(self
+000233e0: 2920 2d3e 2073 7472 3a0a 2020 2020 2020  ) -> str:.      
+000233f0: 2020 2020 2020 7265 7475 726e 2022 2d22        return "-"
+00023400: 0a0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
+00023410: 5f5f 280a 2020 2020 2020 2020 7365 6c66  __(.        self
+00023420: 2c20 6578 7072 735f 6172 673a 2074 7970  , exprs_arg: typ
+00023430: 696e 672e 4974 6572 6162 6c65 5b50 6172  ing.Iterable[Par
+00023440: 7365 7245 6c65 6d65 6e74 5d2c 2073 6176  serElement], sav
+00023450: 656c 6973 743a 2062 6f6f 6c20 3d20 5472  elist: bool = Tr
+00023460: 7565 0a20 2020 2029 3a0a 2020 2020 2020  ue.    ):.      
+00023470: 2020 6578 7072 733a 204c 6973 745b 5061    exprs: List[Pa
+00023480: 7273 6572 456c 656d 656e 745d 203d 206c  rserElement] = l
+00023490: 6973 7428 6578 7072 735f 6172 6729 0a20  ist(exprs_arg). 
+000234a0: 2020 2020 2020 2069 6620 6578 7072 7320         if exprs 
+000234b0: 616e 6420 456c 6c69 7073 6973 2069 6e20  and Ellipsis in 
+000234c0: 6578 7072 733a 0a20 2020 2020 2020 2020  exprs:.         
+000234d0: 2020 2074 6d70 203d 205b 5d0a 2020 2020     tmp = [].    
+000234e0: 2020 2020 2020 2020 666f 7220 692c 2065          for i, e
+000234f0: 7870 7220 696e 2065 6e75 6d65 7261 7465  xpr in enumerate
+00023500: 2865 7870 7273 293a 0a20 2020 2020 2020  (exprs):.       
+00023510: 2020 2020 2020 2020 2069 6620 6578 7072           if expr
+00023520: 2069 7320 456c 6c69 7073 6973 3a0a 2020   is Ellipsis:.  
+00023530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023540: 2020 6966 2069 203c 206c 656e 2865 7870    if i < len(exp
+00023550: 7273 2920 2d20 313a 0a20 2020 2020 2020  rs) - 1:.       
+00023560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023570: 2073 6b69 7074 6f5f 6172 673a 2050 6172   skipto_arg: Par
+00023580: 7365 7245 6c65 6d65 6e74 203d 2074 7970  serElement = typ
+00023590: 696e 672e 6361 7374 280a 2020 2020 2020  ing.cast(.      
+000235a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000235b0: 2020 2020 2020 5061 7273 6545 7870 7265        ParseExpre
+000235c0: 7373 696f 6e2c 2028 456d 7074 7928 2920  ssion, (Empty() 
+000235d0: 2b20 6578 7072 735b 6920 2b20 315d 290a  + exprs[i + 1]).
+000235e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000235f0: 2020 2020 2020 2020 292e 6578 7072 735b          ).exprs[
+00023600: 2d31 5d0a 2020 2020 2020 2020 2020 2020  -1].            
+00023610: 2020 2020 2020 2020 2020 2020 746d 702e              tmp.
+00023620: 6170 7065 6e64 2853 6b69 7054 6f28 736b  append(SkipTo(sk
+00023630: 6970 746f 5f61 7267 2928 225f 736b 6970  ipto_arg)("_skip
+00023640: 7065 642a 2229 290a 2020 2020 2020 2020  ped*")).        
+00023650: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00023660: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00023670: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00023680: 4578 6365 7074 696f 6e28 0a20 2020 2020  Exception(.     
+00023690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000236a0: 2020 2020 2020 2022 6361 6e6e 6f74 2063         "cannot c
+000236b0: 6f6e 7374 7275 6374 2041 6e64 2077 6974  onstruct And wit
+000236c0: 6820 7365 7175 656e 6365 2065 6e64 696e  h sequence endin
+000236d0: 6720 696e 202e 2e2e 220a 2020 2020 2020  g in ...".      
+000236e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000236f0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+00023700: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00023710: 2020 2020 2020 2020 2020 2020 2020 746d                tm
+00023720: 702e 6170 7065 6e64 2865 7870 7229 0a20  p.append(expr). 
+00023730: 2020 2020 2020 2020 2020 2065 7870 7273             exprs
+00023740: 5b3a 5d20 3d20 746d 700a 2020 2020 2020  [:] = tmp.      
+00023750: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
+00023760: 5f5f 2865 7870 7273 2c20 7361 7665 6c69  __(exprs, saveli
+00023770: 7374 290a 2020 2020 2020 2020 6966 2073  st).        if s
+00023780: 656c 662e 6578 7072 733a 0a20 2020 2020  elf.exprs:.     
+00023790: 2020 2020 2020 2073 656c 662e 6d61 7952         self.mayR
+000237a0: 6574 7572 6e45 6d70 7479 203d 2061 6c6c  eturnEmpty = all
+000237b0: 2865 2e6d 6179 5265 7475 726e 456d 7074  (e.mayReturnEmpt
+000237c0: 7920 666f 7220 6520 696e 2073 656c 662e  y for e in self.
+000237d0: 6578 7072 7329 0a20 2020 2020 2020 2020  exprs).         
+000237e0: 2020 2069 6620 6e6f 7420 6973 696e 7374     if not isinst
+000237f0: 616e 6365 2873 656c 662e 6578 7072 735b  ance(self.exprs[
+00023800: 305d 2c20 5768 6974 6529 3a0a 2020 2020  0], White):.    
+00023810: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00023820: 2e73 6574 5f77 6869 7465 7370 6163 655f  .set_whitespace_
+00023830: 6368 6172 7328 0a20 2020 2020 2020 2020  chars(.         
+00023840: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00023850: 6578 7072 735b 305d 2e77 6869 7465 4368  exprs[0].whiteCh
+00023860: 6172 732c 0a20 2020 2020 2020 2020 2020  ars,.           
+00023870: 2020 2020 2020 2020 2063 6f70 795f 6465           copy_de
+00023880: 6661 756c 7473 3d73 656c 662e 6578 7072  faults=self.expr
+00023890: 735b 305d 2e63 6f70 7944 6566 6175 6c74  s[0].copyDefault
+000238a0: 5768 6974 6543 6861 7273 2c0a 2020 2020  WhiteChars,.    
+000238b0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+000238c0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000238d0: 6c66 2e73 6b69 7057 6869 7465 7370 6163  lf.skipWhitespac
+000238e0: 6520 3d20 7365 6c66 2e65 7870 7273 5b30  e = self.exprs[0
+000238f0: 5d2e 736b 6970 5768 6974 6573 7061 6365  ].skipWhitespace
+00023900: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+00023910: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00023920: 2020 2073 656c 662e 736b 6970 5768 6974     self.skipWhit
+00023930: 6573 7061 6365 203d 2046 616c 7365 0a20  espace = False. 
+00023940: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00023950: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
+00023960: 7952 6574 7572 6e45 6d70 7479 203d 2054  yReturnEmpty = T
+00023970: 7275 650a 2020 2020 2020 2020 7365 6c66  rue.        self
+00023980: 2e63 616c 6c50 7265 7061 7273 6520 3d20  .callPreparse = 
+00023990: 5472 7565 0a0a 2020 2020 6465 6620 7374  True..    def st
+000239a0: 7265 616d 6c69 6e65 2873 656c 6629 202d  reamline(self) -
+000239b0: 3e20 5061 7273 6572 456c 656d 656e 743a  > ParserElement:
+000239c0: 0a20 2020 2020 2020 2023 2063 6f6c 6c61  .        # colla
+000239d0: 7073 6520 616e 7920 5f50 656e 6469 6e67  pse any _Pending
+000239e0: 536b 6970 2773 0a20 2020 2020 2020 2069  Skip's.        i
+000239f0: 6620 7365 6c66 2e65 7870 7273 3a0a 2020  f self.exprs:.  
+00023a00: 2020 2020 2020 2020 2020 6966 2061 6e79            if any
+00023a10: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00023a20: 2020 6973 696e 7374 616e 6365 2865 2c20    isinstance(e, 
+00023a30: 5061 7273 6545 7870 7265 7373 696f 6e29  ParseExpression)
+00023a40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023a50: 2061 6e64 2065 2e65 7870 7273 0a20 2020   and e.exprs.   
+00023a60: 2020 2020 2020 2020 2020 2020 2061 6e64               and
+00023a70: 2069 7369 6e73 7461 6e63 6528 652e 6578   isinstance(e.ex
+00023a80: 7072 735b 2d31 5d2c 205f 5065 6e64 696e  prs[-1], _Pendin
+00023a90: 6753 6b69 7029 0a20 2020 2020 2020 2020  gSkip).         
+00023aa0: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
+00023ab0: 7365 6c66 2e65 7870 7273 5b3a 2d31 5d0a  self.exprs[:-1].
+00023ac0: 2020 2020 2020 2020 2020 2020 293a 0a20              ):. 
+00023ad0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00023ae0: 656c 6574 6564 5f65 7870 725f 6d61 726b  eleted_expr_mark
+00023af0: 6572 203d 204e 6f4d 6174 6368 2829 0a20  er = NoMatch(). 
+00023b00: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00023b10: 6f72 2069 2c20 6520 696e 2065 6e75 6d65  or i, e in enume
+00023b20: 7261 7465 2873 656c 662e 6578 7072 735b  rate(self.exprs[
+00023b30: 3a2d 315d 293a 0a20 2020 2020 2020 2020  :-1]):.         
+00023b40: 2020 2020 2020 2020 2020 2069 6620 6520             if e 
+00023b50: 6973 2064 656c 6574 6564 5f65 7870 725f  is deleted_expr_
+00023b60: 6d61 726b 6572 3a0a 2020 2020 2020 2020  marker:.        
+00023b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023b80: 636f 6e74 696e 7565 0a20 2020 2020 2020  continue.       
+00023b90: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00023ba0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00023bb0: 2020 2020 2020 2020 2020 6973 696e 7374            isinst
+00023bc0: 616e 6365 2865 2c20 5061 7273 6545 7870  ance(e, ParseExp
+00023bd0: 7265 7373 696f 6e29 0a20 2020 2020 2020  ression).       
+00023be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023bf0: 2061 6e64 2065 2e65 7870 7273 0a20 2020   and e.exprs.   
 00023c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023c10: 2020 2020 2020 2073 656c 662e 6578 7072         self.expr
-00023c20: 735b 6920 2b20 315d 203d 2064 656c 6574  s[i + 1] = delet
-00023c30: 6564 5f65 7870 725f 6d61 726b 6572 0a20  ed_expr_marker. 
-00023c40: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00023c50: 656c 662e 6578 7072 7320 3d20 5b65 2066  elf.exprs = [e f
-00023c60: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
-00023c70: 7273 2069 6620 6520 6973 206e 6f74 2064  rs if e is not d
-00023c80: 656c 6574 6564 5f65 7870 725f 6d61 726b  eleted_expr_mark
-00023c90: 6572 5d0a 0a20 2020 2020 2020 2073 7570  er]..        sup
-00023ca0: 6572 2829 2e73 7472 6561 6d6c 696e 6528  er().streamline(
-00023cb0: 290a 0a20 2020 2020 2020 2023 206c 696e  )..        # lin
-00023cc0: 6b20 616e 7920 496e 6465 6e74 6564 426c  k any IndentedBl
-00023cd0: 6f63 6b73 2074 6f20 7468 6520 7072 696f  ocks to the prio
-00023ce0: 7220 6578 7072 6573 7369 6f6e 0a20 2020  r expression.   
-00023cf0: 2020 2020 2070 7265 763a 2050 6172 7365       prev: Parse
-00023d00: 7245 6c65 6d65 6e74 0a20 2020 2020 2020  rElement.       
-00023d10: 2063 7572 3a20 5061 7273 6572 456c 656d   cur: ParserElem
-00023d20: 656e 740a 2020 2020 2020 2020 666f 7220  ent.        for 
-00023d30: 7072 6576 2c20 6375 7220 696e 207a 6970  prev, cur in zip
-00023d40: 2873 656c 662e 6578 7072 732c 2073 656c  (self.exprs, sel
-00023d50: 662e 6578 7072 735b 313a 5d29 3a0a 2020  f.exprs[1:]):.  
-00023d60: 2020 2020 2020 2020 2020 2320 7472 6176            # trav
-00023d70: 6572 7365 2063 7572 206f 7220 616e 7920  erse cur or any 
-00023d80: 6669 7273 7420 656d 6265 6464 6564 2065  first embedded e
-00023d90: 7870 7220 6f66 2063 7572 206c 6f6f 6b69  xpr of cur looki
-00023da0: 6e67 2066 6f72 2061 6e20 496e 6465 6e74  ng for an Indent
-00023db0: 6564 426c 6f63 6b0a 2020 2020 2020 2020  edBlock.        
-00023dc0: 2020 2020 2320 2862 7574 2077 6174 6368      # (but watch
-00023dd0: 206f 7574 2066 6f72 2072 6563 7572 7369   out for recursi
-00023de0: 7665 2067 7261 6d6d 6172 290a 2020 2020  ve grammar).    
-00023df0: 2020 2020 2020 2020 7365 656e 203d 2073          seen = s
-00023e00: 6574 2829 0a20 2020 2020 2020 2020 2020  et().           
-00023e10: 2077 6869 6c65 2054 7275 653a 0a20 2020   while True:.   
-00023e20: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00023e30: 6964 2863 7572 2920 696e 2073 6565 6e3a  id(cur) in seen:
-00023e40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023e50: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
-00023e60: 2020 2020 2020 2020 2020 2073 6565 6e2e             seen.
-00023e70: 6164 6428 6964 2863 7572 2929 0a20 2020  add(id(cur)).   
-00023e80: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-00023e90: 6973 696e 7374 616e 6365 2863 7572 2c20  isinstance(cur, 
-00023ea0: 496e 6465 6e74 6564 426c 6f63 6b29 3a0a  IndentedBlock):.
-00023eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023ec0: 2020 2020 7072 6576 2e61 6464 5f70 6172      prev.add_par
-00023ed0: 7365 5f61 6374 696f 6e28 0a20 2020 2020  se_action(.     
+00023c10: 2020 2020 2061 6e64 2069 7369 6e73 7461       and isinsta
+00023c20: 6e63 6528 652e 6578 7072 735b 2d31 5d2c  nce(e.exprs[-1],
+00023c30: 205f 5065 6e64 696e 6753 6b69 7029 0a20   _PendingSkip). 
+00023c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023c50: 2020 2029 3a0a 2020 2020 2020 2020 2020     ):.          
+00023c60: 2020 2020 2020 2020 2020 2020 2020 652e                e.
+00023c70: 6578 7072 735b 2d31 5d20 3d20 652e 6578  exprs[-1] = e.ex
+00023c80: 7072 735b 2d31 5d20 2b20 7365 6c66 2e65  prs[-1] + self.e
+00023c90: 7870 7273 5b69 202b 2031 5d0a 2020 2020  xprs[i + 1].    
+00023ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023cb0: 2020 2020 7365 6c66 2e65 7870 7273 5b69      self.exprs[i
+00023cc0: 202b 2031 5d20 3d20 6465 6c65 7465 645f   + 1] = deleted_
+00023cd0: 6578 7072 5f6d 6172 6b65 720a 2020 2020  expr_marker.    
+00023ce0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00023cf0: 2e65 7870 7273 203d 205b 6520 666f 7220  .exprs = [e for 
+00023d00: 6520 696e 2073 656c 662e 6578 7072 7320  e in self.exprs 
+00023d10: 6966 2065 2069 7320 6e6f 7420 6465 6c65  if e is not dele
+00023d20: 7465 645f 6578 7072 5f6d 6172 6b65 725d  ted_expr_marker]
+00023d30: 0a0a 2020 2020 2020 2020 7375 7065 7228  ..        super(
+00023d40: 292e 7374 7265 616d 6c69 6e65 2829 0a0a  ).streamline()..
+00023d50: 2020 2020 2020 2020 2320 6c69 6e6b 2061          # link a
+00023d60: 6e79 2049 6e64 656e 7465 6442 6c6f 636b  ny IndentedBlock
+00023d70: 7320 746f 2074 6865 2070 7269 6f72 2065  s to the prior e
+00023d80: 7870 7265 7373 696f 6e0a 2020 2020 2020  xpression.      
+00023d90: 2020 7072 6576 3a20 5061 7273 6572 456c    prev: ParserEl
+00023da0: 656d 656e 740a 2020 2020 2020 2020 6375  ement.        cu
+00023db0: 723a 2050 6172 7365 7245 6c65 6d65 6e74  r: ParserElement
+00023dc0: 0a20 2020 2020 2020 2066 6f72 2070 7265  .        for pre
+00023dd0: 762c 2063 7572 2069 6e20 7a69 7028 7365  v, cur in zip(se
+00023de0: 6c66 2e65 7870 7273 2c20 7365 6c66 2e65  lf.exprs, self.e
+00023df0: 7870 7273 5b31 3a5d 293a 0a20 2020 2020  xprs[1:]):.     
+00023e00: 2020 2020 2020 2023 2074 7261 7665 7273         # travers
+00023e10: 6520 6375 7220 6f72 2061 6e79 2066 6972  e cur or any fir
+00023e20: 7374 2065 6d62 6564 6465 6420 6578 7072  st embedded expr
+00023e30: 206f 6620 6375 7220 6c6f 6f6b 696e 6720   of cur looking 
+00023e40: 666f 7220 616e 2049 6e64 656e 7465 6442  for an IndentedB
+00023e50: 6c6f 636b 0a20 2020 2020 2020 2020 2020  lock.           
+00023e60: 2023 2028 6275 7420 7761 7463 6820 6f75   # (but watch ou
+00023e70: 7420 666f 7220 7265 6375 7273 6976 6520  t for recursive 
+00023e80: 6772 616d 6d61 7229 0a20 2020 2020 2020  grammar).       
+00023e90: 2020 2020 2073 6565 6e20 3d20 7365 7428       seen = set(
+00023ea0: 290a 2020 2020 2020 2020 2020 2020 7768  ).            wh
+00023eb0: 696c 6520 5472 7565 3a0a 2020 2020 2020  ile True:.      
+00023ec0: 2020 2020 2020 2020 2020 6966 2069 6428            if id(
+00023ed0: 6375 7229 2069 6e20 7365 656e 3a0a 2020  cur) in seen:.  
 00023ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023ef0: 2020 206c 616d 6264 6120 732c 206c 2c20     lambda s, l, 
-00023f00: 742c 2063 7572 5f3d 6375 723a 2073 6574  t, cur_=cur: set
-00023f10: 6174 7472 280a 2020 2020 2020 2020 2020  attr(.          
-00023f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f30: 2020 6375 725f 2c20 2270 6172 656e 745f    cur_, "parent_
-00023f40: 616e 6368 6f72 222c 2063 6f6c 286c 2c20  anchor", col(l, 
-00023f50: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
-00023f60: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-00023f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023f80: 2029 0a20 2020 2020 2020 2020 2020 2020   ).             
-00023f90: 2020 2020 2020 2062 7265 616b 0a20 2020         break.   
-00023fa0: 2020 2020 2020 2020 2020 2020 2073 7562               sub
-00023fb0: 7320 3d20 6375 722e 7265 6375 7273 6528  s = cur.recurse(
-00023fc0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00023fd0: 2020 6e65 7874 5f66 6972 7374 203d 206e    next_first = n
-00023fe0: 6578 7428 6974 6572 2873 7562 7329 2c20  ext(iter(subs), 
-00023ff0: 4e6f 6e65 290a 2020 2020 2020 2020 2020  None).          
-00024000: 2020 2020 2020 6966 206e 6578 745f 6669        if next_fi
-00024010: 7273 7420 6973 204e 6f6e 653a 0a20 2020  rst is None:.   
+00023ef0: 2020 6272 6561 6b0a 2020 2020 2020 2020    break.        
+00023f00: 2020 2020 2020 2020 7365 656e 2e61 6464          seen.add
+00023f10: 2869 6428 6375 7229 290a 2020 2020 2020  (id(cur)).      
+00023f20: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
+00023f30: 6e73 7461 6e63 6528 6375 722c 2049 6e64  nstance(cur, Ind
+00023f40: 656e 7465 6442 6c6f 636b 293a 0a20 2020  entedBlock):.   
+00023f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023f60: 2070 7265 762e 6164 645f 7061 7273 655f   prev.add_parse_
+00023f70: 6163 7469 6f6e 280a 2020 2020 2020 2020  action(.        
+00023f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023f90: 6c61 6d62 6461 2073 2c20 6c2c 2074 2c20  lambda s, l, t, 
+00023fa0: 6375 725f 3d63 7572 3a20 7365 7461 7474  cur_=cur: setatt
+00023fb0: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
+00023fc0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00023fd0: 7572 5f2c 2022 7061 7265 6e74 5f61 6e63  ur_, "parent_anc
+00023fe0: 686f 7222 2c20 636f 6c28 6c2c 2073 290a  hor", col(l, s).
+00023ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024000: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00024010: 2020 2020 2020 2020 2020 2020 2020 290a                ).
 00024020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024030: 2062 7265 616b 0a20 2020 2020 2020 2020   break.         
-00024040: 2020 2020 2020 2063 7572 203d 2074 7970         cur = typ
-00024050: 696e 672e 6361 7374 2850 6172 7365 7245  ing.cast(ParserE
-00024060: 6c65 6d65 6e74 2c20 6e65 7874 5f66 6972  lement, next_fir
-00024070: 7374 290a 0a20 2020 2020 2020 2073 656c  st)..        sel
-00024080: 662e 6d61 7952 6574 7572 6e45 6d70 7479  f.mayReturnEmpty
-00024090: 203d 2061 6c6c 2865 2e6d 6179 5265 7475   = all(e.mayRetu
-000240a0: 726e 456d 7074 7920 666f 7220 6520 696e  rnEmpty for e in
-000240b0: 2073 656c 662e 6578 7072 7329 0a20 2020   self.exprs).   
-000240c0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-000240d0: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
-000240e0: 6d70 6c28 7365 6c66 2c20 696e 7374 7269  mpl(self, instri
-000240f0: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
-00024100: 6e73 3d54 7275 6529 3a0a 2020 2020 2020  ns=True):.      
-00024110: 2020 2320 7061 7373 2046 616c 7365 2061    # pass False a
-00024120: 7320 6361 6c6c 5072 6550 6172 7365 2061  s callPreParse a
-00024130: 7267 2074 6f20 5f70 6172 7365 2066 6f72  rg to _parse for
-00024140: 2066 6972 7374 2065 6c65 6d65 6e74 2c20   first element, 
-00024150: 7369 6e63 6520 7765 2061 6c72 6561 6479  since we already
-00024160: 0a20 2020 2020 2020 2023 2070 7265 2d70  .        # pre-p
-00024170: 6172 7365 6420 7468 6520 7374 7269 6e67  arsed the string
-00024180: 2061 7320 7061 7274 206f 6620 6f75 7220   as part of our 
-00024190: 416e 6420 7072 652d 7061 7273 696e 670a  And pre-parsing.
-000241a0: 2020 2020 2020 2020 6c6f 632c 2072 6573          loc, res
-000241b0: 756c 746c 6973 7420 3d20 7365 6c66 2e65  ultlist = self.e
-000241c0: 7870 7273 5b30 5d2e 5f70 6172 7365 280a  xprs[0]._parse(.
-000241d0: 2020 2020 2020 2020 2020 2020 696e 7374              inst
-000241e0: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
-000241f0: 696f 6e73 2c20 6361 6c6c 5072 6550 6172  ions, callPrePar
-00024200: 7365 3d46 616c 7365 0a20 2020 2020 2020  se=False.       
-00024210: 2029 0a20 2020 2020 2020 2065 7272 6f72   ).        error
-00024220: 5374 6f70 203d 2046 616c 7365 0a20 2020  Stop = False.   
-00024230: 2020 2020 2066 6f72 2065 2069 6e20 7365       for e in se
-00024240: 6c66 2e65 7870 7273 5b31 3a5d 3a0a 2020  lf.exprs[1:]:.  
-00024250: 2020 2020 2020 2020 2020 2320 6966 2069            # if i
-00024260: 7369 6e73 7461 6e63 6528 652c 2041 6e64  sinstance(e, And
-00024270: 2e5f 4572 726f 7253 746f 7029 3a0a 2020  ._ErrorStop):.  
-00024280: 2020 2020 2020 2020 2020 6966 2074 7970            if typ
-00024290: 6528 6529 2069 7320 416e 642e 5f45 7272  e(e) is And._Err
-000242a0: 6f72 5374 6f70 3a0a 2020 2020 2020 2020  orStop:.        
+00024030: 2020 2020 6272 6561 6b0a 2020 2020 2020      break.      
+00024040: 2020 2020 2020 2020 2020 7375 6273 203d            subs =
+00024050: 2063 7572 2e72 6563 7572 7365 2829 0a20   cur.recurse(). 
+00024060: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+00024070: 6578 745f 6669 7273 7420 3d20 6e65 7874  ext_first = next
+00024080: 2869 7465 7228 7375 6273 292c 204e 6f6e  (iter(subs), Non
+00024090: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+000240a0: 2020 2069 6620 6e65 7874 5f66 6972 7374     if next_first
+000240b0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
+000240c0: 2020 2020 2020 2020 2020 2020 2020 6272                br
+000240d0: 6561 6b0a 2020 2020 2020 2020 2020 2020  eak.            
+000240e0: 2020 2020 6375 7220 3d20 7479 7069 6e67      cur = typing
+000240f0: 2e63 6173 7428 5061 7273 6572 456c 656d  .cast(ParserElem
+00024100: 656e 742c 206e 6578 745f 6669 7273 7429  ent, next_first)
+00024110: 0a0a 2020 2020 2020 2020 7365 6c66 2e6d  ..        self.m
+00024120: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
+00024130: 616c 6c28 652e 6d61 7952 6574 7572 6e45  all(e.mayReturnE
+00024140: 6d70 7479 2066 6f72 2065 2069 6e20 7365  mpty for e in se
+00024150: 6c66 2e65 7870 7273 290a 2020 2020 2020  lf.exprs).      
+00024160: 2020 7265 7475 726e 2073 656c 660a 0a20    return self.. 
+00024170: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
+00024180: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
+00024190: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
+000241a0: 5472 7565 293a 0a20 2020 2020 2020 2023  True):.        #
+000241b0: 2070 6173 7320 4661 6c73 6520 6173 2063   pass False as c
+000241c0: 616c 6c50 7265 5061 7273 6520 6172 6720  allPreParse arg 
+000241d0: 746f 205f 7061 7273 6520 666f 7220 6669  to _parse for fi
+000241e0: 7273 7420 656c 656d 656e 742c 2073 696e  rst element, sin
+000241f0: 6365 2077 6520 616c 7265 6164 790a 2020  ce we already.  
+00024200: 2020 2020 2020 2320 7072 652d 7061 7273        # pre-pars
+00024210: 6564 2074 6865 2073 7472 696e 6720 6173  ed the string as
+00024220: 2070 6172 7420 6f66 206f 7572 2041 6e64   part of our And
+00024230: 2070 7265 2d70 6172 7369 6e67 0a20 2020   pre-parsing.   
+00024240: 2020 2020 206c 6f63 2c20 7265 7375 6c74       loc, result
+00024250: 6c69 7374 203d 2073 656c 662e 6578 7072  list = self.expr
+00024260: 735b 305d 2e5f 7061 7273 6528 0a20 2020  s[0]._parse(.   
+00024270: 2020 2020 2020 2020 2069 6e73 7472 696e           instrin
+00024280: 672c 206c 6f63 2c20 646f 4163 7469 6f6e  g, loc, doAction
+00024290: 732c 2063 616c 6c50 7265 5061 7273 653d  s, callPreParse=
+000242a0: 4661 6c73 650a 2020 2020 2020 2020 290a  False.        ).
 000242b0: 2020 2020 2020 2020 6572 726f 7253 746f          errorSto
-000242c0: 7020 3d20 5472 7565 0a20 2020 2020 2020  p = True.       
-000242d0: 2020 2020 2020 2020 2063 6f6e 7469 6e75           continu
-000242e0: 650a 2020 2020 2020 2020 2020 2020 6966  e.            if
-000242f0: 2065 7272 6f72 5374 6f70 3a0a 2020 2020   errorStop:.    
-00024300: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-00024310: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024320: 2020 2020 206c 6f63 2c20 6578 7072 746f       loc, exprto
-00024330: 6b65 6e73 203d 2065 2e5f 7061 7273 6528  kens = e._parse(
-00024340: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
-00024350: 6f41 6374 696f 6e73 290a 2020 2020 2020  oActions).      
-00024360: 2020 2020 2020 2020 2020 6578 6365 7074            except
-00024370: 2050 6172 7365 5379 6e74 6178 4578 6365   ParseSyntaxExce
-00024380: 7074 696f 6e3a 0a20 2020 2020 2020 2020  ption:.         
-00024390: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-000243a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000243b0: 2065 7863 6570 7420 5061 7273 6542 6173   except ParseBas
-000243c0: 6545 7863 6570 7469 6f6e 2061 7320 7065  eException as pe
-000243d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000243e0: 2020 2020 2020 7065 2e5f 5f74 7261 6365        pe.__trace
-000243f0: 6261 636b 5f5f 203d 204e 6f6e 650a 2020  back__ = None.  
-00024400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024410: 2020 7261 6973 6520 5061 7273 6553 796e    raise ParseSyn
-00024420: 7461 7845 7863 6570 7469 6f6e 2e5f 6672  taxException._fr
-00024430: 6f6d 5f65 7863 6570 7469 6f6e 2870 6529  om_exception(pe)
-00024440: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024450: 2065 7863 6570 7420 496e 6465 7845 7272   except IndexErr
-00024460: 6f72 3a0a 2020 2020 2020 2020 2020 2020  or:.            
-00024470: 2020 2020 2020 2020 7261 6973 6520 5061          raise Pa
-00024480: 7273 6553 796e 7461 7845 7863 6570 7469  rseSyntaxExcepti
-00024490: 6f6e 280a 2020 2020 2020 2020 2020 2020  on(.            
-000244a0: 2020 2020 2020 2020 2020 2020 696e 7374              inst
-000244b0: 7269 6e67 2c20 6c65 6e28 696e 7374 7269  ring, len(instri
-000244c0: 6e67 292c 2073 656c 662e 6572 726d 7367  ng), self.errmsg
-000244d0: 2c20 7365 6c66 0a20 2020 2020 2020 2020  , self.         
-000244e0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-000244f0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00024500: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-00024510: 6f63 2c20 6578 7072 746f 6b65 6e73 203d  oc, exprtokens =
-00024520: 2065 2e5f 7061 7273 6528 696e 7374 7269   e._parse(instri
-00024530: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
-00024540: 6e73 290a 2020 2020 2020 2020 2020 2020  ns).            
-00024550: 7265 7375 6c74 6c69 7374 202b 3d20 6578  resultlist += ex
-00024560: 7072 746f 6b65 6e73 0a20 2020 2020 2020  prtokens.       
-00024570: 2072 6574 7572 6e20 6c6f 632c 2072 6573   return loc, res
-00024580: 756c 746c 6973 740a 0a20 2020 2064 6566  ultlist..    def
-00024590: 205f 5f69 6164 645f 5f28 7365 6c66 2c20   __iadd__(self, 
-000245a0: 6f74 6865 7229 3a0a 2020 2020 2020 2020  other):.        
-000245b0: 6966 2069 7369 6e73 7461 6e63 6528 6f74  if isinstance(ot
-000245c0: 6865 722c 2073 7472 5f74 7970 6529 3a0a  her, str_type):.
-000245d0: 2020 2020 2020 2020 2020 2020 6f74 6865              othe
-000245e0: 7220 3d20 7365 6c66 2e5f 6c69 7465 7261  r = self._litera
-000245f0: 6c53 7472 696e 6743 6c61 7373 286f 7468  lStringClass(oth
-00024600: 6572 290a 2020 2020 2020 2020 6966 206e  er).        if n
-00024610: 6f74 2069 7369 6e73 7461 6e63 6528 6f74  ot isinstance(ot
-00024620: 6865 722c 2050 6172 7365 7245 6c65 6d65  her, ParserEleme
-00024630: 6e74 293a 0a20 2020 2020 2020 2020 2020  nt):.           
-00024640: 2072 6574 7572 6e20 4e6f 7449 6d70 6c65   return NotImple
-00024650: 6d65 6e74 6564 0a20 2020 2020 2020 2072  mented.        r
-00024660: 6574 7572 6e20 7365 6c66 2e61 7070 656e  eturn self.appen
-00024670: 6428 6f74 6865 7229 2020 2320 416e 6428  d(other)  # And(
-00024680: 5b73 656c 662c 206f 7468 6572 5d29 0a0a  [self, other])..
-00024690: 2020 2020 6465 6620 5f63 6865 636b 5265      def _checkRe
-000246a0: 6375 7273 696f 6e28 7365 6c66 2c20 7061  cursion(self, pa
-000246b0: 7273 6545 6c65 6d65 6e74 4c69 7374 293a  rseElementList):
-000246c0: 0a20 2020 2020 2020 2073 7562 5265 6343  .        subRecC
-000246d0: 6865 636b 4c69 7374 203d 2070 6172 7365  heckList = parse
-000246e0: 456c 656d 656e 744c 6973 745b 3a5d 202b  ElementList[:] +
-000246f0: 205b 7365 6c66 5d0a 2020 2020 2020 2020   [self].        
-00024700: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
-00024710: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
-00024720: 2065 2e5f 6368 6563 6b52 6563 7572 7369   e._checkRecursi
-00024730: 6f6e 2873 7562 5265 6343 6865 636b 4c69  on(subRecCheckLi
-00024740: 7374 290a 2020 2020 2020 2020 2020 2020  st).            
-00024750: 6966 206e 6f74 2065 2e6d 6179 5265 7475  if not e.mayRetu
-00024760: 726e 456d 7074 793a 0a20 2020 2020 2020  rnEmpty:.       
-00024770: 2020 2020 2020 2020 2062 7265 616b 0a0a           break..
-00024780: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
-00024790: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
-000247a0: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
-000247b0: 2020 2069 6e6e 6572 203d 2022 2022 2e6a     inner = " ".j
-000247c0: 6f69 6e28 7374 7228 6529 2066 6f72 2065  oin(str(e) for e
-000247d0: 2069 6e20 7365 6c66 2e65 7870 7273 290a   in self.exprs).
-000247e0: 2020 2020 2020 2020 2320 7374 7269 7020          # strip 
-000247f0: 6f66 6620 7265 6475 6e64 616e 7420 696e  off redundant in
-00024800: 6e65 7220 7b7d 2773 0a20 2020 2020 2020  ner {}'s.       
-00024810: 2077 6869 6c65 206c 656e 2869 6e6e 6572   while len(inner
-00024820: 2920 3e20 3120 616e 6420 696e 6e65 725b  ) > 1 and inner[
-00024830: 3020 3a3a 206c 656e 2869 6e6e 6572 2920  0 :: len(inner) 
-00024840: 2d20 315d 203d 3d20 227b 7d22 3a0a 2020  - 1] == "{}":.  
-00024850: 2020 2020 2020 2020 2020 696e 6e65 7220            inner 
-00024860: 3d20 696e 6e65 725b 313a 2d31 5d0a 2020  = inner[1:-1].  
-00024870: 2020 2020 2020 7265 7475 726e 2022 7b22        return "{"
-00024880: 202b 2069 6e6e 6572 202b 2022 7d22 0a0a   + inner + "}"..
-00024890: 0a63 6c61 7373 204f 7228 5061 7273 6545  .class Or(ParseE
-000248a0: 7870 7265 7373 696f 6e29 3a0a 2020 2020  xpression):.    
-000248b0: 2222 2252 6571 7569 7265 7320 7468 6174  """Requires that
-000248c0: 2061 7420 6c65 6173 7420 6f6e 6520 3a63   at least one :c
-000248d0: 6c61 7373 3a60 5061 7273 6545 7870 7265  lass:`ParseExpre
-000248e0: 7373 696f 6e60 2069 7320 666f 756e 642e  ssion` is found.
-000248f0: 2049 660a 2020 2020 7477 6f20 6578 7072   If.    two expr
-00024900: 6573 7369 6f6e 7320 6d61 7463 682c 2074  essions match, t
-00024910: 6865 2065 7870 7265 7373 696f 6e20 7468  he expression th
-00024920: 6174 206d 6174 6368 6573 2074 6865 206c  at matches the l
-00024930: 6f6e 6765 7374 0a20 2020 2073 7472 696e  ongest.    strin
-00024940: 6720 7769 6c6c 2062 6520 7573 6564 2e20  g will be used. 
-00024950: 4d61 7920 6265 2063 6f6e 7374 7275 6374  May be construct
-00024960: 6564 2075 7369 6e67 2074 6865 2060 6027  ed using the ``'
-00024970: 5e27 6060 0a20 2020 206f 7065 7261 746f  ^'``.    operato
-00024980: 722e 0a0a 2020 2020 4578 616d 706c 653a  r...    Example:
-00024990: 3a0a 0a20 2020 2020 2020 2023 2063 6f6e  :..        # con
-000249a0: 7374 7275 6374 204f 7220 7573 696e 6720  struct Or using 
-000249b0: 275e 2720 6f70 6572 6174 6f72 0a0a 2020  '^' operator..  
-000249c0: 2020 2020 2020 6e75 6d62 6572 203d 2057        number = W
-000249d0: 6f72 6428 6e75 6d73 2920 5e20 436f 6d62  ord(nums) ^ Comb
-000249e0: 696e 6528 576f 7264 286e 756d 7329 202b  ine(Word(nums) +
-000249f0: 2027 2e27 202b 2057 6f72 6428 6e75 6d73   '.' + Word(nums
-00024a00: 2929 0a20 2020 2020 2020 2070 7269 6e74  )).        print
-00024a10: 286e 756d 6265 722e 7365 6172 6368 5f73  (number.search_s
-00024a20: 7472 696e 6728 2231 3233 2033 2e31 3431  tring("123 3.141
-00024a30: 3620 3738 3922 2929 0a0a 2020 2020 7072  6 789"))..    pr
-00024a40: 696e 7473 3a3a 0a0a 2020 2020 2020 2020  ints::..        
-00024a50: 5b5b 2731 3233 275d 2c20 5b27 332e 3134  [['123'], ['3.14
-00024a60: 3136 275d 2c20 5b27 3738 3927 5d5d 0a20  16'], ['789']]. 
-00024a70: 2020 2022 2222 0a0a 2020 2020 6465 6620     """..    def 
-00024a80: 5f5f 696e 6974 5f5f 2873 656c 662c 2065  __init__(self, e
-00024a90: 7870 7273 3a20 7479 7069 6e67 2e49 7465  xprs: typing.Ite
-00024aa0: 7261 626c 655b 5061 7273 6572 456c 656d  rable[ParserElem
-00024ab0: 656e 745d 2c20 7361 7665 6c69 7374 3a20  ent], savelist: 
-00024ac0: 626f 6f6c 203d 2046 616c 7365 293a 0a20  bool = False):. 
-00024ad0: 2020 2020 2020 2073 7570 6572 2829 2e5f         super()._
-00024ae0: 5f69 6e69 745f 5f28 6578 7072 732c 2073  _init__(exprs, s
-00024af0: 6176 656c 6973 7429 0a20 2020 2020 2020  avelist).       
-00024b00: 2069 6620 7365 6c66 2e65 7870 7273 3a0a   if self.exprs:.
-00024b10: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00024b20: 2e6d 6179 5265 7475 726e 456d 7074 7920  .mayReturnEmpty 
-00024b30: 3d20 616e 7928 652e 6d61 7952 6574 7572  = any(e.mayRetur
-00024b40: 6e45 6d70 7479 2066 6f72 2065 2069 6e20  nEmpty for e in 
-00024b50: 7365 6c66 2e65 7870 7273 290a 2020 2020  self.exprs).    
-00024b60: 2020 2020 2020 2020 7365 6c66 2e73 6b69          self.ski
-00024b70: 7057 6869 7465 7370 6163 6520 3d20 616c  pWhitespace = al
-00024b80: 6c28 652e 736b 6970 5768 6974 6573 7061  l(e.skipWhitespa
-00024b90: 6365 2066 6f72 2065 2069 6e20 7365 6c66  ce for e in self
-00024ba0: 2e65 7870 7273 290a 2020 2020 2020 2020  .exprs).        
-00024bb0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00024bc0: 2020 7365 6c66 2e6d 6179 5265 7475 726e    self.mayReturn
-00024bd0: 456d 7074 7920 3d20 5472 7565 0a0a 2020  Empty = True..  
-00024be0: 2020 6465 6620 7374 7265 616d 6c69 6e65    def streamline
-00024bf0: 2873 656c 6629 202d 3e20 5061 7273 6572  (self) -> Parser
-00024c00: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
-00024c10: 2073 7570 6572 2829 2e73 7472 6561 6d6c   super().streaml
-00024c20: 696e 6528 290a 2020 2020 2020 2020 6966  ine().        if
-00024c30: 2073 656c 662e 6578 7072 733a 0a20 2020   self.exprs:.   
-00024c40: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
-00024c50: 7952 6574 7572 6e45 6d70 7479 203d 2061  yReturnEmpty = a
-00024c60: 6e79 2865 2e6d 6179 5265 7475 726e 456d  ny(e.mayReturnEm
-00024c70: 7074 7920 666f 7220 6520 696e 2073 656c  pty for e in sel
-00024c80: 662e 6578 7072 7329 0a20 2020 2020 2020  f.exprs).       
-00024c90: 2020 2020 2073 656c 662e 7361 7665 4173       self.saveAs
-00024ca0: 4c69 7374 203d 2061 6e79 2865 2e73 6176  List = any(e.sav
-00024cb0: 6541 734c 6973 7420 666f 7220 6520 696e  eAsList for e in
-00024cc0: 2073 656c 662e 6578 7072 7329 0a20 2020   self.exprs).   
-00024cd0: 2020 2020 2020 2020 2073 656c 662e 736b           self.sk
-00024ce0: 6970 5768 6974 6573 7061 6365 203d 2061  ipWhitespace = a
-00024cf0: 6c6c 280a 2020 2020 2020 2020 2020 2020  ll(.            
-00024d00: 2020 2020 652e 736b 6970 5768 6974 6573      e.skipWhites
-00024d10: 7061 6365 2061 6e64 206e 6f74 2069 7369  pace and not isi
-00024d20: 6e73 7461 6e63 6528 652c 2057 6869 7465  nstance(e, White
-00024d30: 2920 666f 7220 6520 696e 2073 656c 662e  ) for e in self.
-00024d40: 6578 7072 730a 2020 2020 2020 2020 2020  exprs.          
-00024d50: 2020 290a 2020 2020 2020 2020 656c 7365    ).        else
-00024d60: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00024d70: 6c66 2e73 6176 6541 734c 6973 7420 3d20  lf.saveAsList = 
-00024d80: 4661 6c73 650a 2020 2020 2020 2020 7265  False.        re
-00024d90: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
-00024da0: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
-00024db0: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
-00024dc0: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
-00024dd0: 293a 0a20 2020 2020 2020 206d 6178 4578  ):.        maxEx
-00024de0: 634c 6f63 203d 202d 310a 2020 2020 2020  cLoc = -1.      
-00024df0: 2020 6d61 7845 7863 6570 7469 6f6e 203d    maxException =
-00024e00: 204e 6f6e 650a 2020 2020 2020 2020 6d61   None.        ma
-00024e10: 7463 6865 7320 3d20 5b5d 0a20 2020 2020  tches = [].     
-00024e20: 2020 2066 6174 616c 7320 3d20 5b5d 0a20     fatals = []. 
-00024e30: 2020 2020 2020 2069 6620 616c 6c28 652e         if all(e.
-00024e40: 6361 6c6c 5072 6570 6172 7365 2066 6f72  callPreparse for
-00024e50: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
-00024e60: 293a 0a20 2020 2020 2020 2020 2020 206c  ):.            l
-00024e70: 6f63 203d 2073 656c 662e 7072 6550 6172  oc = self.prePar
-00024e80: 7365 2869 6e73 7472 696e 672c 206c 6f63  se(instring, loc
-00024e90: 290a 2020 2020 2020 2020 666f 7220 6520  ).        for e 
-00024ea0: 696e 2073 656c 662e 6578 7072 733a 0a20  in self.exprs:. 
-00024eb0: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
-00024ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024ed0: 6c6f 6332 203d 2065 2e74 7279 5f70 6172  loc2 = e.try_par
-00024ee0: 7365 2869 6e73 7472 696e 672c 206c 6f63  se(instring, loc
-00024ef0: 2c20 7261 6973 655f 6661 7461 6c3d 5472  , raise_fatal=Tr
-00024f00: 7565 290a 2020 2020 2020 2020 2020 2020  ue).            
-00024f10: 6578 6365 7074 2050 6172 7365 4661 7461  except ParseFata
-00024f20: 6c45 7863 6570 7469 6f6e 2061 7320 7066  lException as pf
-00024f30: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00024f40: 2020 2070 6665 2e5f 5f74 7261 6365 6261     pfe.__traceba
-00024f50: 636b 5f5f 203d 204e 6f6e 650a 2020 2020  ck__ = None.    
-00024f60: 2020 2020 2020 2020 2020 2020 7066 652e              pfe.
-00024f70: 7061 7273 6572 5f65 6c65 6d65 6e74 203d  parser_element =
-00024f80: 2065 0a20 2020 2020 2020 2020 2020 2020   e.             
-00024f90: 2020 2066 6174 616c 732e 6170 7065 6e64     fatals.append
-00024fa0: 2870 6665 290a 2020 2020 2020 2020 2020  (pfe).          
-00024fb0: 2020 2020 2020 6d61 7845 7863 6570 7469        maxExcepti
-00024fc0: 6f6e 203d 204e 6f6e 650a 2020 2020 2020  on = None.      
-00024fd0: 2020 2020 2020 2020 2020 6d61 7845 7863            maxExc
-00024fe0: 4c6f 6320 3d20 2d31 0a20 2020 2020 2020  Loc = -1.       
-00024ff0: 2020 2020 2065 7863 6570 7420 5061 7273       except Pars
-00025000: 6545 7863 6570 7469 6f6e 2061 7320 6572  eException as er
-00025010: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00025020: 2020 2069 6620 6e6f 7420 6661 7461 6c73     if not fatals
-00025030: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00025040: 2020 2020 2020 6572 722e 5f5f 7472 6163        err.__trac
-00025050: 6562 6163 6b5f 5f20 3d20 4e6f 6e65 0a20  eback__ = None. 
-00025060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025070: 2020 2069 6620 6572 722e 6c6f 6320 3e20     if err.loc > 
-00025080: 6d61 7845 7863 4c6f 633a 0a20 2020 2020  maxExcLoc:.     
-00025090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000250a0: 2020 206d 6178 4578 6365 7074 696f 6e20     maxException 
-000250b0: 3d20 6572 720a 2020 2020 2020 2020 2020  = err.          
-000250c0: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-000250d0: 7845 7863 4c6f 6320 3d20 6572 722e 6c6f  xExcLoc = err.lo
-000250e0: 630a 2020 2020 2020 2020 2020 2020 6578  c.            ex
-000250f0: 6365 7074 2049 6e64 6578 4572 726f 723a  cept IndexError:
-00025100: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025110: 2069 6620 6c65 6e28 696e 7374 7269 6e67   if len(instring
-00025120: 2920 3e20 6d61 7845 7863 4c6f 633a 0a20  ) > maxExcLoc:. 
+000242c0: 7020 3d20 4661 6c73 650a 2020 2020 2020  p = False.      
+000242d0: 2020 666f 7220 6520 696e 2073 656c 662e    for e in self.
+000242e0: 6578 7072 735b 313a 5d3a 0a20 2020 2020  exprs[1:]:.     
+000242f0: 2020 2020 2020 2023 2069 6620 6973 696e         # if isin
+00024300: 7374 616e 6365 2865 2c20 416e 642e 5f45  stance(e, And._E
+00024310: 7272 6f72 5374 6f70 293a 0a20 2020 2020  rrorStop):.     
+00024320: 2020 2020 2020 2069 6620 7479 7065 2865         if type(e
+00024330: 2920 6973 2041 6e64 2e5f 4572 726f 7253  ) is And._ErrorS
+00024340: 746f 703a 0a20 2020 2020 2020 2020 2020  top:.           
+00024350: 2020 2020 2065 7272 6f72 5374 6f70 203d       errorStop =
+00024360: 2054 7275 650a 2020 2020 2020 2020 2020   True.          
+00024370: 2020 2020 2020 636f 6e74 696e 7565 0a20        continue. 
+00024380: 2020 2020 2020 2020 2020 2069 6620 6572             if er
+00024390: 726f 7253 746f 703a 0a20 2020 2020 2020  rorStop:.       
+000243a0: 2020 2020 2020 2020 2074 7279 3a0a 2020           try:.  
+000243b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000243c0: 2020 6c6f 632c 2065 7870 7274 6f6b 656e    loc, exprtoken
+000243d0: 7320 3d20 652e 5f70 6172 7365 2869 6e73  s = e._parse(ins
+000243e0: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+000243f0: 7469 6f6e 7329 0a20 2020 2020 2020 2020  tions).         
+00024400: 2020 2020 2020 2065 7863 6570 7420 5061         except Pa
+00024410: 7273 6553 796e 7461 7845 7863 6570 7469  rseSyntaxExcepti
+00024420: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
+00024430: 2020 2020 2020 2020 7261 6973 650a 2020          raise.  
+00024440: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+00024450: 6365 7074 2050 6172 7365 4261 7365 4578  cept ParseBaseEx
+00024460: 6365 7074 696f 6e20 6173 2070 653a 0a20  ception as pe:. 
+00024470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024480: 2020 2070 652e 5f5f 7472 6163 6562 6163     pe.__tracebac
+00024490: 6b5f 5f20 3d20 4e6f 6e65 0a20 2020 2020  k__ = None.     
+000244a0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+000244b0: 6169 7365 2050 6172 7365 5379 6e74 6178  aise ParseSyntax
+000244c0: 4578 6365 7074 696f 6e2e 5f66 726f 6d5f  Exception._from_
+000244d0: 6578 6365 7074 696f 6e28 7065 290a 2020  exception(pe).  
+000244e0: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+000244f0: 6365 7074 2049 6e64 6578 4572 726f 723a  cept IndexError:
+00024500: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024510: 2020 2020 2072 6169 7365 2050 6172 7365       raise Parse
+00024520: 5379 6e74 6178 4578 6365 7074 696f 6e28  SyntaxException(
+00024530: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024540: 2020 2020 2020 2020 2069 6e73 7472 696e           instrin
+00024550: 672c 206c 656e 2869 6e73 7472 696e 6729  g, len(instring)
+00024560: 2c20 7365 6c66 2e65 7272 6d73 672c 2073  , self.errmsg, s
+00024570: 656c 660a 2020 2020 2020 2020 2020 2020  elf.            
+00024580: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00024590: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+000245a0: 2020 2020 2020 2020 2020 2020 6c6f 632c              loc,
+000245b0: 2065 7870 7274 6f6b 656e 7320 3d20 652e   exprtokens = e.
+000245c0: 5f70 6172 7365 2869 6e73 7472 696e 672c  _parse(instring,
+000245d0: 206c 6f63 2c20 646f 4163 7469 6f6e 7329   loc, doActions)
+000245e0: 0a20 2020 2020 2020 2020 2020 2072 6573  .            res
+000245f0: 756c 746c 6973 7420 2b3d 2065 7870 7274  ultlist += exprt
+00024600: 6f6b 656e 730a 2020 2020 2020 2020 7265  okens.        re
+00024610: 7475 726e 206c 6f63 2c20 7265 7375 6c74  turn loc, result
+00024620: 6c69 7374 0a0a 2020 2020 6465 6620 5f5f  list..    def __
+00024630: 6961 6464 5f5f 2873 656c 662c 206f 7468  iadd__(self, oth
+00024640: 6572 293a 0a20 2020 2020 2020 2069 6620  er):.        if 
+00024650: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
+00024660: 2c20 7374 725f 7479 7065 293a 0a20 2020  , str_type):.   
+00024670: 2020 2020 2020 2020 206f 7468 6572 203d           other =
+00024680: 2073 656c 662e 5f6c 6974 6572 616c 5374   self._literalSt
+00024690: 7269 6e67 436c 6173 7328 6f74 6865 7229  ringClass(other)
+000246a0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+000246b0: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
+000246c0: 2c20 5061 7273 6572 456c 656d 656e 7429  , ParserElement)
+000246d0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+000246e0: 7475 726e 204e 6f74 496d 706c 656d 656e  turn NotImplemen
+000246f0: 7465 640a 2020 2020 2020 2020 7265 7475  ted.        retu
+00024700: 726e 2073 656c 662e 6170 7065 6e64 286f  rn self.append(o
+00024710: 7468 6572 2920 2023 2041 6e64 285b 7365  ther)  # And([se
+00024720: 6c66 2c20 6f74 6865 725d 290a 0a20 2020  lf, other])..   
+00024730: 2064 6566 205f 6368 6563 6b52 6563 7572   def _checkRecur
+00024740: 7369 6f6e 2873 656c 662c 2070 6172 7365  sion(self, parse
+00024750: 456c 656d 656e 744c 6973 7429 3a0a 2020  ElementList):.  
+00024760: 2020 2020 2020 7375 6252 6563 4368 6563        subRecChec
+00024770: 6b4c 6973 7420 3d20 7061 7273 6545 6c65  kList = parseEle
+00024780: 6d65 6e74 4c69 7374 5b3a 5d20 2b20 5b73  mentList[:] + [s
+00024790: 656c 665d 0a20 2020 2020 2020 2066 6f72  elf].        for
+000247a0: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
+000247b0: 3a0a 2020 2020 2020 2020 2020 2020 652e  :.            e.
+000247c0: 5f63 6865 636b 5265 6375 7273 696f 6e28  _checkRecursion(
+000247d0: 7375 6252 6563 4368 6563 6b4c 6973 7429  subRecCheckList)
+000247e0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+000247f0: 6e6f 7420 652e 6d61 7952 6574 7572 6e45  not e.mayReturnE
+00024800: 6d70 7479 3a0a 2020 2020 2020 2020 2020  mpty:.          
+00024810: 2020 2020 2020 6272 6561 6b0a 0a20 2020        break..   
+00024820: 2064 6566 205f 6765 6e65 7261 7465 4465   def _generateDe
+00024830: 6661 756c 744e 616d 6528 7365 6c66 2920  faultName(self) 
+00024840: 2d3e 2073 7472 3a0a 2020 2020 2020 2020  -> str:.        
+00024850: 696e 6e65 7220 3d20 2220 222e 6a6f 696e  inner = " ".join
+00024860: 2873 7472 2865 2920 666f 7220 6520 696e  (str(e) for e in
+00024870: 2073 656c 662e 6578 7072 7329 0a20 2020   self.exprs).   
+00024880: 2020 2020 2023 2073 7472 6970 206f 6666       # strip off
+00024890: 2072 6564 756e 6461 6e74 2069 6e6e 6572   redundant inner
+000248a0: 207b 7d27 730a 2020 2020 2020 2020 7768   {}'s.        wh
+000248b0: 696c 6520 6c65 6e28 696e 6e65 7229 203e  ile len(inner) >
+000248c0: 2031 2061 6e64 2069 6e6e 6572 5b30 203a   1 and inner[0 :
+000248d0: 3a20 6c65 6e28 696e 6e65 7229 202d 2031  : len(inner) - 1
+000248e0: 5d20 3d3d 2022 7b7d 223a 0a20 2020 2020  ] == "{}":.     
+000248f0: 2020 2020 2020 2069 6e6e 6572 203d 2069         inner = i
+00024900: 6e6e 6572 5b31 3a2d 315d 0a20 2020 2020  nner[1:-1].     
+00024910: 2020 2072 6574 7572 6e20 227b 2220 2b20     return "{" + 
+00024920: 696e 6e65 7220 2b20 227d 220a 0a0a 636c  inner + "}"...cl
+00024930: 6173 7320 4f72 2850 6172 7365 4578 7072  ass Or(ParseExpr
+00024940: 6573 7369 6f6e 293a 0a20 2020 2022 2222  ession):.    """
+00024950: 5265 7175 6972 6573 2074 6861 7420 6174  Requires that at
+00024960: 206c 6561 7374 206f 6e65 203a 636c 6173   least one :clas
+00024970: 733a 6050 6172 7365 4578 7072 6573 7369  s:`ParseExpressi
+00024980: 6f6e 6020 6973 2066 6f75 6e64 2e20 4966  on` is found. If
+00024990: 0a20 2020 2074 776f 2065 7870 7265 7373  .    two express
+000249a0: 696f 6e73 206d 6174 6368 2c20 7468 6520  ions match, the 
+000249b0: 6578 7072 6573 7369 6f6e 2074 6861 7420  expression that 
+000249c0: 6d61 7463 6865 7320 7468 6520 6c6f 6e67  matches the long
+000249d0: 6573 740a 2020 2020 7374 7269 6e67 2077  est.    string w
+000249e0: 696c 6c20 6265 2075 7365 642e 204d 6179  ill be used. May
+000249f0: 2062 6520 636f 6e73 7472 7563 7465 6420   be constructed 
+00024a00: 7573 696e 6720 7468 6520 6060 275e 2760  using the ``'^'`
+00024a10: 600a 2020 2020 6f70 6572 6174 6f72 2e0a  `.    operator..
+00024a20: 0a20 2020 2045 7861 6d70 6c65 3a3a 0a0a  .    Example::..
+00024a30: 2020 2020 2020 2020 2320 636f 6e73 7472          # constr
+00024a40: 7563 7420 4f72 2075 7369 6e67 2027 5e27  uct Or using '^'
+00024a50: 206f 7065 7261 746f 720a 0a20 2020 2020   operator..     
+00024a60: 2020 206e 756d 6265 7220 3d20 576f 7264     number = Word
+00024a70: 286e 756d 7329 205e 2043 6f6d 6269 6e65  (nums) ^ Combine
+00024a80: 2857 6f72 6428 6e75 6d73 2920 2b20 272e  (Word(nums) + '.
+00024a90: 2720 2b20 576f 7264 286e 756d 7329 290a  ' + Word(nums)).
+00024aa0: 2020 2020 2020 2020 7072 696e 7428 6e75          print(nu
+00024ab0: 6d62 6572 2e73 6561 7263 685f 7374 7269  mber.search_stri
+00024ac0: 6e67 2822 3132 3320 332e 3134 3136 2037  ng("123 3.1416 7
+00024ad0: 3839 2229 290a 0a20 2020 2070 7269 6e74  89"))..    print
+00024ae0: 733a 3a0a 0a20 2020 2020 2020 205b 5b27  s::..        [['
+00024af0: 3132 3327 5d2c 205b 2733 2e31 3431 3627  123'], ['3.1416'
+00024b00: 5d2c 205b 2737 3839 275d 5d0a 2020 2020  ], ['789']].    
+00024b10: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
+00024b20: 6e69 745f 5f28 7365 6c66 2c20 6578 7072  nit__(self, expr
+00024b30: 733a 2074 7970 696e 672e 4974 6572 6162  s: typing.Iterab
+00024b40: 6c65 5b50 6172 7365 7245 6c65 6d65 6e74  le[ParserElement
+00024b50: 5d2c 2073 6176 656c 6973 743a 2062 6f6f  ], savelist: boo
+00024b60: 6c20 3d20 4661 6c73 6529 3a0a 2020 2020  l = False):.    
+00024b70: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+00024b80: 6974 5f5f 2865 7870 7273 2c20 7361 7665  it__(exprs, save
+00024b90: 6c69 7374 290a 2020 2020 2020 2020 6966  list).        if
+00024ba0: 2073 656c 662e 6578 7072 733a 0a20 2020   self.exprs:.   
+00024bb0: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
+00024bc0: 7952 6574 7572 6e45 6d70 7479 203d 2061  yReturnEmpty = a
+00024bd0: 6e79 2865 2e6d 6179 5265 7475 726e 456d  ny(e.mayReturnEm
+00024be0: 7074 7920 666f 7220 6520 696e 2073 656c  pty for e in sel
+00024bf0: 662e 6578 7072 7329 0a20 2020 2020 2020  f.exprs).       
+00024c00: 2020 2020 2073 656c 662e 736b 6970 5768       self.skipWh
+00024c10: 6974 6573 7061 6365 203d 2061 6c6c 2865  itespace = all(e
+00024c20: 2e73 6b69 7057 6869 7465 7370 6163 6520  .skipWhitespace 
+00024c30: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
+00024c40: 7072 7329 0a20 2020 2020 2020 2065 6c73  prs).        els
+00024c50: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+00024c60: 656c 662e 6d61 7952 6574 7572 6e45 6d70  elf.mayReturnEmp
+00024c70: 7479 203d 2054 7275 650a 0a20 2020 2064  ty = True..    d
+00024c80: 6566 2073 7472 6561 6d6c 696e 6528 7365  ef streamline(se
+00024c90: 6c66 2920 2d3e 2050 6172 7365 7245 6c65  lf) -> ParserEle
+00024ca0: 6d65 6e74 3a0a 2020 2020 2020 2020 7375  ment:.        su
+00024cb0: 7065 7228 292e 7374 7265 616d 6c69 6e65  per().streamline
+00024cc0: 2829 0a20 2020 2020 2020 2069 6620 7365  ().        if se
+00024cd0: 6c66 2e65 7870 7273 3a0a 2020 2020 2020  lf.exprs:.      
+00024ce0: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
+00024cf0: 7475 726e 456d 7074 7920 3d20 616e 7928  turnEmpty = any(
+00024d00: 652e 6d61 7952 6574 7572 6e45 6d70 7479  e.mayReturnEmpty
+00024d10: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
+00024d20: 7870 7273 290a 2020 2020 2020 2020 2020  xprs).          
+00024d30: 2020 7365 6c66 2e73 6176 6541 734c 6973    self.saveAsLis
+00024d40: 7420 3d20 616e 7928 652e 7361 7665 4173  t = any(e.saveAs
+00024d50: 4c69 7374 2066 6f72 2065 2069 6e20 7365  List for e in se
+00024d60: 6c66 2e65 7870 7273 290a 2020 2020 2020  lf.exprs).      
+00024d70: 2020 2020 2020 7365 6c66 2e73 6b69 7057        self.skipW
+00024d80: 6869 7465 7370 6163 6520 3d20 616c 6c28  hitespace = all(
+00024d90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024da0: 2065 2e73 6b69 7057 6869 7465 7370 6163   e.skipWhitespac
+00024db0: 6520 616e 6420 6e6f 7420 6973 696e 7374  e and not isinst
+00024dc0: 616e 6365 2865 2c20 5768 6974 6529 2066  ance(e, White) f
+00024dd0: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
+00024de0: 7273 0a20 2020 2020 2020 2020 2020 2029  rs.            )
+00024df0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00024e00: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00024e10: 7361 7665 4173 4c69 7374 203d 2046 616c  saveAsList = Fal
+00024e20: 7365 0a20 2020 2020 2020 2072 6574 7572  se.        retur
+00024e30: 6e20 7365 6c66 0a0a 2020 2020 6465 6620  n self..    def 
+00024e40: 7061 7273 6549 6d70 6c28 7365 6c66 2c20  parseImpl(self, 
+00024e50: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
+00024e60: 6f41 6374 696f 6e73 3d54 7275 6529 3a0a  oActions=True):.
+00024e70: 2020 2020 2020 2020 6d61 7845 7863 4c6f          maxExcLo
+00024e80: 6320 3d20 2d31 0a20 2020 2020 2020 206d  c = -1.        m
+00024e90: 6178 4578 6365 7074 696f 6e20 3d20 4e6f  axException = No
+00024ea0: 6e65 0a20 2020 2020 2020 206d 6174 6368  ne.        match
+00024eb0: 6573 203d 205b 5d0a 2020 2020 2020 2020  es = [].        
+00024ec0: 6661 7461 6c73 203d 205b 5d0a 2020 2020  fatals = [].    
+00024ed0: 2020 2020 6966 2061 6c6c 2865 2e63 616c      if all(e.cal
+00024ee0: 6c50 7265 7061 7273 6520 666f 7220 6520  lPreparse for e 
+00024ef0: 696e 2073 656c 662e 6578 7072 7329 3a0a  in self.exprs):.
+00024f00: 2020 2020 2020 2020 2020 2020 6c6f 6320              loc 
+00024f10: 3d20 7365 6c66 2e70 7265 5061 7273 6528  = self.preParse(
+00024f20: 696e 7374 7269 6e67 2c20 6c6f 6329 0a20  instring, loc). 
+00024f30: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
+00024f40: 7365 6c66 2e65 7870 7273 3a0a 2020 2020  self.exprs:.    
+00024f50: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+00024f60: 2020 2020 2020 2020 2020 2020 206c 6f63               loc
+00024f70: 3220 3d20 652e 7472 795f 7061 7273 6528  2 = e.try_parse(
+00024f80: 696e 7374 7269 6e67 2c20 6c6f 632c 2072  instring, loc, r
+00024f90: 6169 7365 5f66 6174 616c 3d54 7275 6529  aise_fatal=True)
+00024fa0: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
+00024fb0: 6570 7420 5061 7273 6546 6174 616c 4578  ept ParseFatalEx
+00024fc0: 6365 7074 696f 6e20 6173 2070 6665 3a0a  ception as pfe:.
+00024fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024fe0: 7066 652e 5f5f 7472 6163 6562 6163 6b5f  pfe.__traceback_
+00024ff0: 5f20 3d20 4e6f 6e65 0a20 2020 2020 2020  _ = None.       
+00025000: 2020 2020 2020 2020 2070 6665 2e70 6172           pfe.par
+00025010: 7365 725f 656c 656d 656e 7420 3d20 650a  ser_element = e.
+00025020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025030: 6661 7461 6c73 2e61 7070 656e 6428 7066  fatals.append(pf
+00025040: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+00025050: 2020 206d 6178 4578 6365 7074 696f 6e20     maxException 
+00025060: 3d20 4e6f 6e65 0a20 2020 2020 2020 2020  = None.         
+00025070: 2020 2020 2020 206d 6178 4578 634c 6f63         maxExcLoc
+00025080: 203d 202d 310a 2020 2020 2020 2020 2020   = -1.          
+00025090: 2020 6578 6365 7074 2050 6172 7365 4578    except ParseEx
+000250a0: 6365 7074 696f 6e20 6173 2065 7272 3a0a  ception as err:.
+000250b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000250c0: 6966 206e 6f74 2066 6174 616c 733a 0a20  if not fatals:. 
+000250d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000250e0: 2020 2065 7272 2e5f 5f74 7261 6365 6261     err.__traceba
+000250f0: 636b 5f5f 203d 204e 6f6e 650a 2020 2020  ck__ = None.    
+00025100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025110: 6966 2065 7272 2e6c 6f63 203e 206d 6178  if err.loc > max
+00025120: 4578 634c 6f63 3a0a 2020 2020 2020 2020  ExcLoc:.        
 00025130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025140: 2020 206d 6178 4578 6365 7074 696f 6e20     maxException 
-00025150: 3d20 5061 7273 6545 7863 6570 7469 6f6e  = ParseException
-00025160: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00025170: 2020 2020 2020 2020 2020 696e 7374 7269            instri
-00025180: 6e67 2c20 6c65 6e28 696e 7374 7269 6e67  ng, len(instring
-00025190: 292c 2065 2e65 7272 6d73 672c 2073 656c  ), e.errmsg, sel
-000251a0: 660a 2020 2020 2020 2020 2020 2020 2020  f.              
-000251b0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-000251c0: 2020 2020 2020 2020 2020 2020 6d61 7845              maxE
-000251d0: 7863 4c6f 6320 3d20 6c65 6e28 696e 7374  xcLoc = len(inst
-000251e0: 7269 6e67 290a 2020 2020 2020 2020 2020  ring).          
-000251f0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00025200: 2020 2020 2020 2020 2320 7361 7665 206d          # save m
-00025210: 6174 6368 2061 6d6f 6e67 2061 6c6c 206d  atch among all m
-00025220: 6174 6368 6573 2c20 746f 2072 6574 7279  atches, to retry
-00025230: 206c 6f6e 6765 7374 2074 6f20 7368 6f72   longest to shor
-00025240: 7465 7374 0a20 2020 2020 2020 2020 2020  test.           
-00025250: 2020 2020 206d 6174 6368 6573 2e61 7070       matches.app
-00025260: 656e 6428 286c 6f63 322c 2065 2929 0a0a  end((loc2, e))..
-00025270: 2020 2020 2020 2020 6966 206d 6174 6368          if match
-00025280: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
-00025290: 2320 7265 2d65 7661 6c75 6174 6520 616c  # re-evaluate al
-000252a0: 6c20 6d61 7463 6865 7320 696e 2064 6573  l matches in des
-000252b0: 6365 6e64 696e 6720 6f72 6465 7220 6f66  cending order of
-000252c0: 206c 656e 6774 6820 6f66 206d 6174 6368   length of match
-000252d0: 2c20 696e 2063 6173 6520 6174 7461 6368  , in case attach
-000252e0: 6564 2061 6374 696f 6e73 0a20 2020 2020  ed actions.     
-000252f0: 2020 2020 2020 2023 206d 6967 6874 2063         # might c
-00025300: 6861 6e67 6520 7768 6574 6865 7220 6f72  hange whether or
-00025310: 2068 6f77 206d 7563 6820 7468 6579 206d   how much they m
-00025320: 6174 6368 206f 6620 7468 6520 696e 7075  atch of the inpu
-00025330: 742e 0a20 2020 2020 2020 2020 2020 206d  t..            m
-00025340: 6174 6368 6573 2e73 6f72 7428 6b65 793d  atches.sort(key=
-00025350: 6974 656d 6765 7474 6572 2830 292c 2072  itemgetter(0), r
-00025360: 6576 6572 7365 3d54 7275 6529 0a0a 2020  everse=True)..  
-00025370: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-00025380: 2064 6f41 6374 696f 6e73 3a0a 2020 2020   doActions:.    
-00025390: 2020 2020 2020 2020 2020 2020 2320 6e6f              # no
-000253a0: 2066 7572 7468 6572 2063 6f6e 6469 7469   further conditi
-000253b0: 6f6e 7320 6f72 2070 6172 7365 2061 6374  ons or parse act
-000253c0: 696f 6e73 2074 6f20 6368 616e 6765 2074  ions to change t
-000253d0: 6865 2073 656c 6563 7469 6f6e 206f 660a  he selection of.
-000253e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000253f0: 2320 616c 7465 726e 6174 6976 652c 2073  # alternative, s
-00025400: 6f20 7468 6520 6669 7273 7420 6d61 7463  o the first matc
-00025410: 6820 7769 6c6c 2062 6520 7468 6520 6265  h will be the be
-00025420: 7374 206d 6174 6368 0a20 2020 2020 2020  st match.       
-00025430: 2020 2020 2020 2020 2062 6573 745f 6578           best_ex
-00025440: 7072 203d 206d 6174 6368 6573 5b30 5d5b  pr = matches[0][
-00025450: 315d 0a20 2020 2020 2020 2020 2020 2020  1].             
-00025460: 2020 2072 6574 7572 6e20 6265 7374 5f65     return best_e
-00025470: 7870 722e 5f70 6172 7365 2869 6e73 7472  xpr._parse(instr
-00025480: 696e 672c 206c 6f63 2c20 646f 4163 7469  ing, loc, doActi
-00025490: 6f6e 7329 0a0a 2020 2020 2020 2020 2020  ons)..          
-000254a0: 2020 6c6f 6e67 6573 7420 3d20 2d31 2c20    longest = -1, 
-000254b0: 4e6f 6e65 0a20 2020 2020 2020 2020 2020  None.           
-000254c0: 2066 6f72 206c 6f63 312c 2065 7870 7231   for loc1, expr1
-000254d0: 2069 6e20 6d61 7463 6865 733a 0a20 2020   in matches:.   
-000254e0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-000254f0: 6c6f 6331 203c 3d20 6c6f 6e67 6573 745b  loc1 <= longest[
-00025500: 305d 3a0a 2020 2020 2020 2020 2020 2020  0]:.            
-00025510: 2020 2020 2020 2020 2320 616c 7265 6164          # alread
-00025520: 7920 6861 7665 2061 206c 6f6e 6765 7220  y have a longer 
-00025530: 6d61 7463 6820 7468 616e 2074 6869 7320  match than this 
-00025540: 6f6e 6520 7769 6c6c 2064 656c 6976 6572  one will deliver
-00025550: 2c20 7765 2061 7265 2064 6f6e 650a 2020  , we are done.  
-00025560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025570: 2020 7265 7475 726e 206c 6f6e 6765 7374    return longest
-00025580: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00025590: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-000255a0: 2020 2020 2020 2020 2020 206c 6f63 322c             loc2,
-000255b0: 2074 6f6b 7320 3d20 6578 7072 312e 5f70   toks = expr1._p
-000255c0: 6172 7365 2869 6e73 7472 696e 672c 206c  arse(instring, l
-000255d0: 6f63 2c20 646f 4163 7469 6f6e 7329 0a20  oc, doActions). 
-000255e0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-000255f0: 7863 6570 7420 5061 7273 6545 7863 6570  xcept ParseExcep
-00025600: 7469 6f6e 2061 7320 6572 723a 0a20 2020  tion as err:.   
-00025610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025620: 2065 7272 2e5f 5f74 7261 6365 6261 636b   err.__traceback
-00025630: 5f5f 203d 204e 6f6e 650a 2020 2020 2020  __ = None.      
-00025640: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00025650: 2065 7272 2e6c 6f63 203e 206d 6178 4578   err.loc > maxEx
-00025660: 634c 6f63 3a0a 2020 2020 2020 2020 2020  cLoc:.          
-00025670: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-00025680: 7845 7863 6570 7469 6f6e 203d 2065 7272  xException = err
-00025690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000256a0: 2020 2020 2020 2020 206d 6178 4578 634c           maxExcL
-000256b0: 6f63 203d 2065 7272 2e6c 6f63 0a20 2020  oc = err.loc.   
-000256c0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-000256d0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-000256e0: 2020 2020 2020 2069 6620 6c6f 6332 203e         if loc2 >
-000256f0: 3d20 6c6f 6331 3a0a 2020 2020 2020 2020  = loc1:.        
-00025700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025710: 7265 7475 726e 206c 6f63 322c 2074 6f6b  return loc2, tok
-00025720: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-00025730: 2020 2020 2020 2320 6469 646e 2774 206d        # didn't m
-00025740: 6174 6368 2061 7320 6d75 6368 2061 7320  atch as much as 
-00025750: 6265 666f 7265 0a20 2020 2020 2020 2020  before.         
-00025760: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-00025770: 6c6f 6332 203e 206c 6f6e 6765 7374 5b30  loc2 > longest[0
-00025780: 5d3a 0a20 2020 2020 2020 2020 2020 2020  ]:.             
-00025790: 2020 2020 2020 2020 2020 206c 6f6e 6765             longe
-000257a0: 7374 203d 206c 6f63 322c 2074 6f6b 730a  st = loc2, toks.
-000257b0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-000257c0: 6c6f 6e67 6573 7420 213d 2028 2d31 2c20  longest != (-1, 
-000257d0: 4e6f 6e65 293a 0a20 2020 2020 2020 2020  None):.         
-000257e0: 2020 2020 2020 2072 6574 7572 6e20 6c6f         return lo
-000257f0: 6e67 6573 740a 0a20 2020 2020 2020 2069  ngest..        i
-00025800: 6620 6661 7461 6c73 3a0a 2020 2020 2020  f fatals:.      
-00025810: 2020 2020 2020 6966 206c 656e 2866 6174        if len(fat
-00025820: 616c 7329 203e 2031 3a0a 2020 2020 2020  als) > 1:.      
-00025830: 2020 2020 2020 2020 2020 6661 7461 6c73            fatals
-00025840: 2e73 6f72 7428 6b65 793d 6c61 6d62 6461  .sort(key=lambda
-00025850: 2065 3a20 2d65 2e6c 6f63 290a 2020 2020   e: -e.loc).    
-00025860: 2020 2020 2020 2020 2020 2020 6966 2066              if f
-00025870: 6174 616c 735b 305d 2e6c 6f63 203d 3d20  atals[0].loc == 
-00025880: 6661 7461 6c73 5b31 5d2e 6c6f 633a 0a20  fatals[1].loc:. 
-00025890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000258a0: 2020 2066 6174 616c 732e 736f 7274 286b     fatals.sort(k
-000258b0: 6579 3d6c 616d 6264 6120 653a 2028 2d65  ey=lambda e: (-e
-000258c0: 2e6c 6f63 2c20 2d6c 656e 2873 7472 2865  .loc, -len(str(e
-000258d0: 2e70 6172 7365 725f 656c 656d 656e 7429  .parser_element)
-000258e0: 2929 290a 2020 2020 2020 2020 2020 2020  ))).            
-000258f0: 6d61 785f 6661 7461 6c20 3d20 6661 7461  max_fatal = fata
-00025900: 6c73 5b30 5d0a 2020 2020 2020 2020 2020  ls[0].          
-00025910: 2020 7261 6973 6520 6d61 785f 6661 7461    raise max_fata
-00025920: 6c0a 0a20 2020 2020 2020 2069 6620 6d61  l..        if ma
-00025930: 7845 7863 6570 7469 6f6e 2069 7320 6e6f  xException is no
-00025940: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-00025950: 2020 2020 2320 696e 6665 7220 6672 6f6d      # infer from
-00025960: 2074 6869 7320 6368 6563 6b20 7468 6174   this check that
-00025970: 2061 6c6c 2061 6c74 6572 6e61 7469 7665   all alternative
-00025980: 7320 6661 696c 6564 2061 7420 7468 6520  s failed at the 
-00025990: 6375 7272 656e 7420 706f 7369 7469 6f6e  current position
-000259a0: 0a20 2020 2020 2020 2020 2020 2023 2073  .            # s
-000259b0: 6f20 656d 6974 2074 6869 7320 636f 6c6c  o emit this coll
-000259c0: 6563 7469 7665 2065 7272 6f72 206d 6573  ective error mes
-000259d0: 7361 6765 2069 6e73 7465 6164 206f 6620  sage instead of 
-000259e0: 616e 7920 7369 6e67 6c65 2065 7272 6f72  any single error
-000259f0: 206d 6573 7361 6765 0a20 2020 2020 2020   message.       
-00025a00: 2020 2020 2069 6620 6d61 7845 7863 4c6f       if maxExcLo
-00025a10: 6320 3d3d 206c 6f63 3a0a 2020 2020 2020  c == loc:.      
-00025a20: 2020 2020 2020 2020 2020 6d61 7845 7863            maxExc
-00025a30: 6570 7469 6f6e 2e6d 7367 203d 2073 656c  eption.msg = sel
-00025a40: 662e 6572 726d 7367 0a20 2020 2020 2020  f.errmsg.       
-00025a50: 2020 2020 2072 6169 7365 206d 6178 4578       raise maxEx
-00025a60: 6365 7074 696f 6e0a 2020 2020 2020 2020  ception.        
-00025a70: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00025a80: 2020 7261 6973 6520 5061 7273 6545 7863    raise ParseExc
-00025a90: 6570 7469 6f6e 280a 2020 2020 2020 2020  eption(.        
-00025aa0: 2020 2020 2020 2020 696e 7374 7269 6e67          instring
-00025ab0: 2c20 6c6f 632c 2022 6e6f 2064 6566 696e  , loc, "no defin
-00025ac0: 6564 2061 6c74 6572 6e61 7469 7665 7320  ed alternatives 
-00025ad0: 746f 206d 6174 6368 222c 2073 656c 660a  to match", self.
-00025ae0: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
-00025af0: 2020 2064 6566 205f 5f69 786f 725f 5f28     def __ixor__(
-00025b00: 7365 6c66 2c20 6f74 6865 7229 3a0a 2020  self, other):.  
-00025b10: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
-00025b20: 6e63 6528 6f74 6865 722c 2073 7472 5f74  nce(other, str_t
-00025b30: 7970 6529 3a0a 2020 2020 2020 2020 2020  ype):.          
-00025b40: 2020 6f74 6865 7220 3d20 7365 6c66 2e5f    other = self._
-00025b50: 6c69 7465 7261 6c53 7472 696e 6743 6c61  literalStringCla
-00025b60: 7373 286f 7468 6572 290a 2020 2020 2020  ss(other).      
-00025b70: 2020 6966 206e 6f74 2069 7369 6e73 7461    if not isinsta
-00025b80: 6e63 6528 6f74 6865 722c 2050 6172 7365  nce(other, Parse
-00025b90: 7245 6c65 6d65 6e74 293a 0a20 2020 2020  rElement):.     
-00025ba0: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
-00025bb0: 7449 6d70 6c65 6d65 6e74 6564 0a20 2020  tImplemented.   
-00025bc0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00025bd0: 2e61 7070 656e 6428 6f74 6865 7229 2020  .append(other)  
-00025be0: 2320 4f72 285b 7365 6c66 2c20 6f74 6865  # Or([self, othe
-00025bf0: 725d 290a 0a20 2020 2064 6566 205f 6765  r])..    def _ge
-00025c00: 6e65 7261 7465 4465 6661 756c 744e 616d  nerateDefaultNam
-00025c10: 6528 7365 6c66 2920 2d3e 2073 7472 3a0a  e(self) -> str:.
-00025c20: 2020 2020 2020 2020 7265 7475 726e 2022          return "
-00025c30: 7b22 202b 2022 205e 2022 2e6a 6f69 6e28  {" + " ^ ".join(
-00025c40: 7374 7228 6529 2066 6f72 2065 2069 6e20  str(e) for e in 
-00025c50: 7365 6c66 2e65 7870 7273 2920 2b20 227d  self.exprs) + "}
-00025c60: 220a 0a20 2020 2064 6566 205f 7365 7452  "..    def _setR
-00025c70: 6573 756c 7473 4e61 6d65 2873 656c 662c  esultsName(self,
-00025c80: 206e 616d 652c 206c 6973 7441 6c6c 4d61   name, listAllMa
-00025c90: 7463 6865 733d 4661 6c73 6529 3a0a 2020  tches=False):.  
-00025ca0: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
-00025cb0: 2020 2020 2020 205f 5f64 6961 675f 5f2e         __diag__.
-00025cc0: 7761 726e 5f6d 756c 7469 706c 655f 746f  warn_multiple_to
-00025cd0: 6b65 6e73 5f69 6e5f 6e61 6d65 645f 616c  kens_in_named_al
-00025ce0: 7465 726e 6174 696f 6e0a 2020 2020 2020  ternation.      
-00025cf0: 2020 2020 2020 616e 6420 4469 6167 6e6f        and Diagno
-00025d00: 7374 6963 732e 7761 726e 5f6d 756c 7469  stics.warn_multi
-00025d10: 706c 655f 746f 6b65 6e73 5f69 6e5f 6e61  ple_tokens_in_na
-00025d20: 6d65 645f 616c 7465 726e 6174 696f 6e0a  med_alternation.
-00025d30: 2020 2020 2020 2020 2020 2020 6e6f 7420              not 
-00025d40: 696e 2073 656c 662e 7375 7070 7265 7373  in self.suppress
-00025d50: 5f77 6172 6e69 6e67 735f 0a20 2020 2020  _warnings_.     
-00025d60: 2020 2029 3a0a 2020 2020 2020 2020 2020     ):.          
-00025d70: 2020 6966 2061 6e79 280a 2020 2020 2020    if any(.      
-00025d80: 2020 2020 2020 2020 2020 6973 696e 7374            isinst
-00025d90: 616e 6365 2865 2c20 416e 6429 0a20 2020  ance(e, And).   
-00025da0: 2020 2020 2020 2020 2020 2020 2061 6e64               and
-00025db0: 2044 6961 676e 6f73 7469 6373 2e77 6172   Diagnostics.war
-00025dc0: 6e5f 6d75 6c74 6970 6c65 5f74 6f6b 656e  n_multiple_token
-00025dd0: 735f 696e 5f6e 616d 6564 5f61 6c74 6572  s_in_named_alter
-00025de0: 6e61 7469 6f6e 0a20 2020 2020 2020 2020  nation.         
-00025df0: 2020 2020 2020 206e 6f74 2069 6e20 652e         not in e.
-00025e00: 7375 7070 7265 7373 5f77 6172 6e69 6e67  suppress_warning
-00025e10: 735f 0a20 2020 2020 2020 2020 2020 2020  s_.             
-00025e20: 2020 2066 6f72 2065 2069 6e20 7365 6c66     for e in self
-00025e30: 2e65 7870 7273 0a20 2020 2020 2020 2020  .exprs.         
-00025e40: 2020 2029 3a0a 2020 2020 2020 2020 2020     ):.          
-00025e50: 2020 2020 2020 7761 726e 696e 6773 2e77        warnings.w
-00025e60: 6172 6e28 0a20 2020 2020 2020 2020 2020  arn(.           
-00025e70: 2020 2020 2020 2020 2022 7b7d 3a20 7365           "{}: se
-00025e80: 7474 696e 6720 7265 7375 6c74 7320 6e61  tting results na
-00025e90: 6d65 207b 2172 7d20 6f6e 207b 7d20 6578  me {!r} on {} ex
-00025ea0: 7072 6573 7369 6f6e 2022 0a20 2020 2020  pression ".     
-00025eb0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00025ec0: 7769 6c6c 2072 6574 7572 6e20 6120 6c69  will return a li
-00025ed0: 7374 206f 6620 616c 6c20 7061 7273 6564  st of all parsed
-00025ee0: 2074 6f6b 656e 7320 696e 2061 6e20 416e   tokens in an An
-00025ef0: 6420 616c 7465 726e 6174 6976 652c 2022  d alternative, "
-00025f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025f10: 2020 2020 2022 696e 2070 7269 6f72 2076       "in prior v
-00025f20: 6572 7369 6f6e 7320 6f6e 6c79 2074 6865  ersions only the
-00025f30: 2066 6972 7374 2074 6f6b 656e 2077 6173   first token was
-00025f40: 2072 6574 7572 6e65 643b 2065 6e63 6c6f   returned; enclo
-00025f50: 7365 2022 0a20 2020 2020 2020 2020 2020  se ".           
-00025f60: 2020 2020 2020 2020 2022 636f 6e74 6169           "contai
-00025f70: 6e65 6420 6172 6775 6d65 6e74 2069 6e20  ned argument in 
-00025f80: 4772 6f75 7022 2e66 6f72 6d61 7428 0a20  Group".format(. 
-00025f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025fa0: 2020 2020 2020 2022 7761 726e 5f6d 756c         "warn_mul
-00025fb0: 7469 706c 655f 746f 6b65 6e73 5f69 6e5f  tiple_tokens_in_
-00025fc0: 6e61 6d65 645f 616c 7465 726e 6174 696f  named_alternatio
-00025fd0: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
-00025fe0: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-00025ff0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00026000: 2020 2020 2020 2020 2020 7479 7065 2873            type(s
-00026010: 656c 6629 2e5f 5f6e 616d 655f 5f2c 0a20  elf).__name__,. 
-00026020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026030: 2020 2029 2c0a 2020 2020 2020 2020 2020     ),.          
-00026040: 2020 2020 2020 2020 2020 7374 6163 6b6c            stackl
-00026050: 6576 656c 3d33 2c0a 2020 2020 2020 2020  evel=3,.        
-00026060: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
-00026070: 2020 2072 6574 7572 6e20 7375 7065 7228     return super(
-00026080: 292e 5f73 6574 5265 7375 6c74 734e 616d  )._setResultsNam
-00026090: 6528 6e61 6d65 2c20 6c69 7374 416c 6c4d  e(name, listAllM
-000260a0: 6174 6368 6573 290a 0a0a 636c 6173 7320  atches)...class 
-000260b0: 4d61 7463 6846 6972 7374 2850 6172 7365  MatchFirst(Parse
-000260c0: 4578 7072 6573 7369 6f6e 293a 0a20 2020  Expression):.   
-000260d0: 2022 2222 5265 7175 6972 6573 2074 6861   """Requires tha
-000260e0: 7420 6174 206c 6561 7374 206f 6e65 203a  t at least one :
-000260f0: 636c 6173 733a 6050 6172 7365 4578 7072  class:`ParseExpr
-00026100: 6573 7369 6f6e 6020 6973 2066 6f75 6e64  ession` is found
-00026110: 2e20 4966 0a20 2020 206d 6f72 6520 7468  . If.    more th
-00026120: 616e 206f 6e65 2065 7870 7265 7373 696f  an one expressio
-00026130: 6e20 6d61 7463 6865 732c 2074 6865 2066  n matches, the f
-00026140: 6972 7374 206f 6e65 206c 6973 7465 6420  irst one listed 
-00026150: 6973 2074 6865 206f 6e65 2074 6861 7420  is the one that 
-00026160: 7769 6c6c 0a20 2020 206d 6174 6368 2e20  will.    match. 
-00026170: 4d61 7920 6265 2063 6f6e 7374 7275 6374  May be construct
-00026180: 6564 2075 7369 6e67 2074 6865 2060 6027  ed using the ``'
-00026190: 7c27 6060 206f 7065 7261 746f 722e 0a0a  |'`` operator...
-000261a0: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
-000261b0: 2020 2020 2020 2023 2063 6f6e 7374 7275         # constru
-000261c0: 6374 204d 6174 6368 4669 7273 7420 7573  ct MatchFirst us
-000261d0: 696e 6720 277c 2720 6f70 6572 6174 6f72  ing '|' operator
-000261e0: 0a0a 2020 2020 2020 2020 2320 7761 7463  ..        # watc
-000261f0: 6820 7468 6520 6f72 6465 7220 6f66 2065  h the order of e
-00026200: 7870 7265 7373 696f 6e73 2074 6f20 6d61  xpressions to ma
-00026210: 7463 680a 2020 2020 2020 2020 6e75 6d62  tch.        numb
-00026220: 6572 203d 2057 6f72 6428 6e75 6d73 2920  er = Word(nums) 
-00026230: 7c20 436f 6d62 696e 6528 576f 7264 286e  | Combine(Word(n
-00026240: 756d 7329 202b 2027 2e27 202b 2057 6f72  ums) + '.' + Wor
-00026250: 6428 6e75 6d73 2929 0a20 2020 2020 2020  d(nums)).       
-00026260: 2070 7269 6e74 286e 756d 6265 722e 7365   print(number.se
-00026270: 6172 6368 5f73 7472 696e 6728 2231 3233  arch_string("123
-00026280: 2033 2e31 3431 3620 3738 3922 2929 2023   3.1416 789")) #
-00026290: 2020 4661 696c 2120 2d3e 205b 5b27 3132    Fail! -> [['12
-000262a0: 3327 5d2c 205b 2733 275d 2c20 5b27 3134  3'], ['3'], ['14
-000262b0: 3136 275d 2c20 5b27 3738 3927 5d5d 0a0a  16'], ['789']]..
-000262c0: 2020 2020 2020 2020 2320 7075 7420 6d6f          # put mo
-000262d0: 7265 2073 656c 6563 7469 7665 2065 7870  re selective exp
-000262e0: 7265 7373 696f 6e20 6669 7273 740a 2020  ression first.  
-000262f0: 2020 2020 2020 6e75 6d62 6572 203d 2043        number = C
-00026300: 6f6d 6269 6e65 2857 6f72 6428 6e75 6d73  ombine(Word(nums
-00026310: 2920 2b20 272e 2720 2b20 576f 7264 286e  ) + '.' + Word(n
-00026320: 756d 7329 2920 7c20 576f 7264 286e 756d  ums)) | Word(num
-00026330: 7329 0a20 2020 2020 2020 2070 7269 6e74  s).        print
-00026340: 286e 756d 6265 722e 7365 6172 6368 5f73  (number.search_s
-00026350: 7472 696e 6728 2231 3233 2033 2e31 3431  tring("123 3.141
-00026360: 3620 3738 3922 2929 2023 2020 4265 7474  6 789")) #  Bett
-00026370: 6572 202d 3e20 5b5b 2731 3233 275d 2c20  er -> [['123'], 
-00026380: 5b27 332e 3134 3136 275d 2c20 5b27 3738  ['3.1416'], ['78
-00026390: 3927 5d5d 0a20 2020 2022 2222 0a0a 2020  9']].    """..  
-000263a0: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
-000263b0: 656c 662c 2065 7870 7273 3a20 7479 7069  elf, exprs: typi
-000263c0: 6e67 2e49 7465 7261 626c 655b 5061 7273  ng.Iterable[Pars
-000263d0: 6572 456c 656d 656e 745d 2c20 7361 7665  erElement], save
-000263e0: 6c69 7374 3a20 626f 6f6c 203d 2046 616c  list: bool = Fal
-000263f0: 7365 293a 0a20 2020 2020 2020 2073 7570  se):.        sup
-00026400: 6572 2829 2e5f 5f69 6e69 745f 5f28 6578  er().__init__(ex
-00026410: 7072 732c 2073 6176 656c 6973 7429 0a20  prs, savelist). 
-00026420: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
-00026430: 7870 7273 3a0a 2020 2020 2020 2020 2020  xprs:.          
-00026440: 2020 7365 6c66 2e6d 6179 5265 7475 726e    self.mayReturn
-00026450: 456d 7074 7920 3d20 616e 7928 652e 6d61  Empty = any(e.ma
-00026460: 7952 6574 7572 6e45 6d70 7479 2066 6f72  yReturnEmpty for
-00026470: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
-00026480: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-00026490: 6c66 2e73 6b69 7057 6869 7465 7370 6163  lf.skipWhitespac
-000264a0: 6520 3d20 616c 6c28 652e 736b 6970 5768  e = all(e.skipWh
-000264b0: 6974 6573 7061 6365 2066 6f72 2065 2069  itespace for e i
-000264c0: 6e20 7365 6c66 2e65 7870 7273 290a 2020  n self.exprs).  
-000264d0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-000264e0: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
-000264f0: 5265 7475 726e 456d 7074 7920 3d20 5472  ReturnEmpty = Tr
-00026500: 7565 0a0a 2020 2020 6465 6620 7374 7265  ue..    def stre
-00026510: 616d 6c69 6e65 2873 656c 6629 202d 3e20  amline(self) -> 
-00026520: 5061 7273 6572 456c 656d 656e 743a 0a20  ParserElement:. 
-00026530: 2020 2020 2020 2069 6620 7365 6c66 2e73         if self.s
-00026540: 7472 6561 6d6c 696e 6564 3a0a 2020 2020  treamlined:.    
-00026550: 2020 2020 2020 2020 7265 7475 726e 2073          return s
-00026560: 656c 660a 0a20 2020 2020 2020 2073 7570  elf..        sup
-00026570: 6572 2829 2e73 7472 6561 6d6c 696e 6528  er().streamline(
-00026580: 290a 2020 2020 2020 2020 6966 2073 656c  ).        if sel
-00026590: 662e 6578 7072 733a 0a20 2020 2020 2020  f.exprs:.       
-000265a0: 2020 2020 2073 656c 662e 7361 7665 4173       self.saveAs
-000265b0: 4c69 7374 203d 2061 6e79 2865 2e73 6176  List = any(e.sav
-000265c0: 6541 734c 6973 7420 666f 7220 6520 696e  eAsList for e in
-000265d0: 2073 656c 662e 6578 7072 7329 0a20 2020   self.exprs).   
-000265e0: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
-000265f0: 7952 6574 7572 6e45 6d70 7479 203d 2061  yReturnEmpty = a
-00026600: 6e79 2865 2e6d 6179 5265 7475 726e 456d  ny(e.mayReturnEm
-00026610: 7074 7920 666f 7220 6520 696e 2073 656c  pty for e in sel
-00026620: 662e 6578 7072 7329 0a20 2020 2020 2020  f.exprs).       
-00026630: 2020 2020 2073 656c 662e 736b 6970 5768       self.skipWh
-00026640: 6974 6573 7061 6365 203d 2061 6c6c 280a  itespace = all(.
-00026650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026660: 652e 736b 6970 5768 6974 6573 7061 6365  e.skipWhitespace
-00026670: 2061 6e64 206e 6f74 2069 7369 6e73 7461   and not isinsta
-00026680: 6e63 6528 652c 2057 6869 7465 2920 666f  nce(e, White) fo
-00026690: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
-000266a0: 730a 2020 2020 2020 2020 2020 2020 290a  s.            ).
-000266b0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-000266c0: 2020 2020 2020 2020 2020 7365 6c66 2e73            self.s
-000266d0: 6176 6541 734c 6973 7420 3d20 4661 6c73  aveAsList = Fals
-000266e0: 650a 2020 2020 2020 2020 2020 2020 7365  e.            se
-000266f0: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
-00026700: 7920 3d20 5472 7565 0a20 2020 2020 2020  y = True.       
-00026710: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-00026720: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-00026730: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-00026740: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
-00026750: 7275 6529 3a0a 2020 2020 2020 2020 6d61  rue):.        ma
-00026760: 7845 7863 4c6f 6320 3d20 2d31 0a20 2020  xExcLoc = -1.   
-00026770: 2020 2020 206d 6178 4578 6365 7074 696f       maxExceptio
-00026780: 6e20 3d20 4e6f 6e65 0a0a 2020 2020 2020  n = None..      
-00026790: 2020 666f 7220 6520 696e 2073 656c 662e    for e in self.
-000267a0: 6578 7072 733a 0a20 2020 2020 2020 2020  exprs:.         
-000267b0: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-000267c0: 2020 2020 2020 2020 7265 7475 726e 2065          return e
-000267d0: 2e5f 7061 7273 6528 0a20 2020 2020 2020  ._parse(.       
-000267e0: 2020 2020 2020 2020 2020 2020 2069 6e73               ins
-000267f0: 7472 696e 672c 0a20 2020 2020 2020 2020  tring,.         
-00026800: 2020 2020 2020 2020 2020 206c 6f63 2c0a             loc,.
-00026810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026820: 2020 2020 646f 4163 7469 6f6e 732c 0a20      doActions,. 
-00026830: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-00026840: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
-00026850: 6570 7420 5061 7273 6546 6174 616c 4578  ept ParseFatalEx
-00026860: 6365 7074 696f 6e20 6173 2070 6665 3a0a  ception as pfe:.
-00026870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026880: 7066 652e 5f5f 7472 6163 6562 6163 6b5f  pfe.__traceback_
-00026890: 5f20 3d20 4e6f 6e65 0a20 2020 2020 2020  _ = None.       
-000268a0: 2020 2020 2020 2020 2070 6665 2e70 6172           pfe.par
-000268b0: 7365 725f 656c 656d 656e 7420 3d20 650a  ser_element = e.
-000268c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000268d0: 7261 6973 650a 2020 2020 2020 2020 2020  raise.          
-000268e0: 2020 6578 6365 7074 2050 6172 7365 4578    except ParseEx
-000268f0: 6365 7074 696f 6e20 6173 2065 7272 3a0a  ception as err:.
-00026900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026910: 6966 2065 7272 2e6c 6f63 203e 206d 6178  if err.loc > max
-00026920: 4578 634c 6f63 3a0a 2020 2020 2020 2020  ExcLoc:.        
-00026930: 2020 2020 2020 2020 2020 2020 6d61 7845              maxE
-00026940: 7863 6570 7469 6f6e 203d 2065 7272 0a20  xception = err. 
-00026950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026960: 2020 206d 6178 4578 634c 6f63 203d 2065     maxExcLoc = e
-00026970: 7272 2e6c 6f63 0a20 2020 2020 2020 2020  rr.loc.         
-00026980: 2020 2065 7863 6570 7420 496e 6465 7845     except IndexE
-00026990: 7272 6f72 3a0a 2020 2020 2020 2020 2020  rror:.          
-000269a0: 2020 2020 2020 6966 206c 656e 2869 6e73        if len(ins
-000269b0: 7472 696e 6729 203e 206d 6178 4578 634c  tring) > maxExcL
-000269c0: 6f63 3a0a 2020 2020 2020 2020 2020 2020  oc:.            
-000269d0: 2020 2020 2020 2020 6d61 7845 7863 6570          maxExcep
-000269e0: 7469 6f6e 203d 2050 6172 7365 4578 6365  tion = ParseExce
-000269f0: 7074 696f 6e28 0a20 2020 2020 2020 2020  ption(.         
-00026a00: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00026a10: 6e73 7472 696e 672c 206c 656e 2869 6e73  nstring, len(ins
-00026a20: 7472 696e 6729 2c20 652e 6572 726d 7367  tring), e.errmsg
-00026a30: 2c20 7365 6c66 0a20 2020 2020 2020 2020  , self.         
-00026a40: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-00026a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026a60: 206d 6178 4578 634c 6f63 203d 206c 656e   maxExcLoc = len
-00026a70: 2869 6e73 7472 696e 6729 0a0a 2020 2020  (instring)..    
-00026a80: 2020 2020 6966 206d 6178 4578 6365 7074      if maxExcept
-00026a90: 696f 6e20 6973 206e 6f74 204e 6f6e 653a  ion is not None:
-00026aa0: 0a20 2020 2020 2020 2020 2020 2023 2069  .            # i
-00026ab0: 6e66 6572 2066 726f 6d20 7468 6973 2063  nfer from this c
-00026ac0: 6865 636b 2074 6861 7420 616c 6c20 616c  heck that all al
-00026ad0: 7465 726e 6174 6976 6573 2066 6169 6c65  ternatives faile
-00026ae0: 6420 6174 2074 6865 2063 7572 7265 6e74  d at the current
-00026af0: 2070 6f73 6974 696f 6e0a 2020 2020 2020   position.      
-00026b00: 2020 2020 2020 2320 736f 2065 6d69 7420        # so emit 
-00026b10: 7468 6973 2063 6f6c 6c65 6374 6976 6520  this collective 
-00026b20: 6572 726f 7220 6d65 7373 6167 6520 696e  error message in
-00026b30: 7374 6561 6420 6f66 2061 6e79 2069 6e64  stead of any ind
-00026b40: 6976 6964 7561 6c20 6572 726f 7220 6d65  ividual error me
-00026b50: 7373 6167 650a 2020 2020 2020 2020 2020  ssage.          
-00026b60: 2020 6966 206d 6178 4578 634c 6f63 203d    if maxExcLoc =
-00026b70: 3d20 6c6f 633a 0a20 2020 2020 2020 2020  = loc:.         
-00026b80: 2020 2020 2020 206d 6178 4578 6365 7074         maxExcept
-00026b90: 696f 6e2e 6d73 6720 3d20 7365 6c66 2e65  ion.msg = self.e
-00026ba0: 7272 6d73 670a 2020 2020 2020 2020 2020  rrmsg.          
-00026bb0: 2020 7261 6973 6520 6d61 7845 7863 6570    raise maxExcep
-00026bc0: 7469 6f6e 0a20 2020 2020 2020 2065 6c73  tion.        els
-00026bd0: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-00026be0: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
-00026bf0: 696f 6e28 0a20 2020 2020 2020 2020 2020  ion(.           
-00026c00: 2020 2020 2069 6e73 7472 696e 672c 206c       instring, l
-00026c10: 6f63 2c20 226e 6f20 6465 6669 6e65 6420  oc, "no defined 
-00026c20: 616c 7465 726e 6174 6976 6573 2074 6f20  alternatives to 
-00026c30: 6d61 7463 6822 2c20 7365 6c66 0a20 2020  match", self.   
-00026c40: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
-00026c50: 6465 6620 5f5f 696f 725f 5f28 7365 6c66  def __ior__(self
-00026c60: 2c20 6f74 6865 7229 3a0a 2020 2020 2020  , other):.      
-00026c70: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-00026c80: 6f74 6865 722c 2073 7472 5f74 7970 6529  other, str_type)
-00026c90: 3a0a 2020 2020 2020 2020 2020 2020 6f74  :.            ot
-00026ca0: 6865 7220 3d20 7365 6c66 2e5f 6c69 7465  her = self._lite
-00026cb0: 7261 6c53 7472 696e 6743 6c61 7373 286f  ralStringClass(o
-00026cc0: 7468 6572 290a 2020 2020 2020 2020 6966  ther).        if
-00026cd0: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
-00026ce0: 6f74 6865 722c 2050 6172 7365 7245 6c65  other, ParserEle
-00026cf0: 6d65 6e74 293a 0a20 2020 2020 2020 2020  ment):.         
-00026d00: 2020 2072 6574 7572 6e20 4e6f 7449 6d70     return NotImp
-00026d10: 6c65 6d65 6e74 6564 0a20 2020 2020 2020  lemented.       
-00026d20: 2072 6574 7572 6e20 7365 6c66 2e61 7070   return self.app
-00026d30: 656e 6428 6f74 6865 7229 2020 2320 4d61  end(other)  # Ma
-00026d40: 7463 6846 6972 7374 285b 7365 6c66 2c20  tchFirst([self, 
-00026d50: 6f74 6865 725d 290a 0a20 2020 2064 6566  other])..    def
-00026d60: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
-00026d70: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
-00026d80: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
-00026d90: 726e 2022 7b22 202b 2022 207c 2022 2e6a  rn "{" + " | ".j
-00026da0: 6f69 6e28 7374 7228 6529 2066 6f72 2065  oin(str(e) for e
-00026db0: 2069 6e20 7365 6c66 2e65 7870 7273 2920   in self.exprs) 
-00026dc0: 2b20 227d 220a 0a20 2020 2064 6566 205f  + "}"..    def _
-00026dd0: 7365 7452 6573 756c 7473 4e61 6d65 2873  setResultsName(s
-00026de0: 656c 662c 206e 616d 652c 206c 6973 7441  elf, name, listA
-00026df0: 6c6c 4d61 7463 6865 733d 4661 6c73 6529  llMatches=False)
-00026e00: 3a0a 2020 2020 2020 2020 6966 2028 0a20  :.        if (. 
-00026e10: 2020 2020 2020 2020 2020 205f 5f64 6961             __dia
-00026e20: 675f 5f2e 7761 726e 5f6d 756c 7469 706c  g__.warn_multipl
-00026e30: 655f 746f 6b65 6e73 5f69 6e5f 6e61 6d65  e_tokens_in_name
-00026e40: 645f 616c 7465 726e 6174 696f 6e0a 2020  d_alternation.  
-00026e50: 2020 2020 2020 2020 2020 616e 6420 4469            and Di
-00026e60: 6167 6e6f 7374 6963 732e 7761 726e 5f6d  agnostics.warn_m
-00026e70: 756c 7469 706c 655f 746f 6b65 6e73 5f69  ultiple_tokens_i
-00026e80: 6e5f 6e61 6d65 645f 616c 7465 726e 6174  n_named_alternat
-00026e90: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
-00026ea0: 6e6f 7420 696e 2073 656c 662e 7375 7070  not in self.supp
-00026eb0: 7265 7373 5f77 6172 6e69 6e67 735f 0a20  ress_warnings_. 
-00026ec0: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
-00026ed0: 2020 2020 2020 6966 2061 6e79 280a 2020        if any(.  
-00026ee0: 2020 2020 2020 2020 2020 2020 2020 6973                is
-00026ef0: 696e 7374 616e 6365 2865 2c20 416e 6429  instance(e, And)
-00026f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00026f10: 2061 6e64 2044 6961 676e 6f73 7469 6373   and Diagnostics
-00026f20: 2e77 6172 6e5f 6d75 6c74 6970 6c65 5f74  .warn_multiple_t
-00026f30: 6f6b 656e 735f 696e 5f6e 616d 6564 5f61  okens_in_named_a
-00026f40: 6c74 6572 6e61 7469 6f6e 0a20 2020 2020  lternation.     
-00026f50: 2020 2020 2020 2020 2020 206e 6f74 2069             not i
-00026f60: 6e20 652e 7375 7070 7265 7373 5f77 6172  n e.suppress_war
-00026f70: 6e69 6e67 735f 0a20 2020 2020 2020 2020  nings_.         
-00026f80: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
-00026f90: 7365 6c66 2e65 7870 7273 0a20 2020 2020  self.exprs.     
-00026fa0: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
-00026fb0: 2020 2020 2020 2020 2020 7761 726e 696e            warnin
-00026fc0: 6773 2e77 6172 6e28 0a20 2020 2020 2020  gs.warn(.       
-00026fd0: 2020 2020 2020 2020 2020 2020 2022 7b7d               "{}
-00026fe0: 3a20 7365 7474 696e 6720 7265 7375 6c74  : setting result
-00026ff0: 7320 6e61 6d65 207b 2172 7d20 6f6e 207b  s name {!r} on {
-00027000: 7d20 6578 7072 6573 7369 6f6e 2022 0a20  } expression ". 
-00027010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027020: 2020 2022 7769 6c6c 2072 6574 7572 6e20     "will return 
-00027030: 6120 6c69 7374 206f 6620 616c 6c20 7061  a list of all pa
-00027040: 7273 6564 2074 6f6b 656e 7320 696e 2061  rsed tokens in a
-00027050: 6e20 416e 6420 616c 7465 726e 6174 6976  n And alternativ
-00027060: 652c 2022 0a20 2020 2020 2020 2020 2020  e, ".           
-00027070: 2020 2020 2020 2020 2022 696e 2070 7269           "in pri
-00027080: 6f72 2076 6572 7369 6f6e 7320 6f6e 6c79  or versions only
-00027090: 2074 6865 2066 6972 7374 2074 6f6b 656e   the first token
-000270a0: 2077 6173 2072 6574 7572 6e65 643b 2065   was returned; e
-000270b0: 6e63 6c6f 7365 2022 0a20 2020 2020 2020  nclose ".       
-000270c0: 2020 2020 2020 2020 2020 2020 2022 636f               "co
-000270d0: 6e74 6169 6e65 6420 6172 6775 6d65 6e74  ntained argument
-000270e0: 2069 6e20 4772 6f75 7022 2e66 6f72 6d61   in Group".forma
-000270f0: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
-00027100: 2020 2020 2020 2020 2020 2022 7761 726e             "warn
-00027110: 5f6d 756c 7469 706c 655f 746f 6b65 6e73  _multiple_tokens
-00027120: 5f69 6e5f 6e61 6d65 645f 616c 7465 726e  _in_named_altern
-00027130: 6174 696f 6e22 2c0a 2020 2020 2020 2020  ation",.        
-00027140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027150: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
-00027160: 2020 2020 2020 2020 2020 2020 2020 7479                ty
-00027170: 7065 2873 656c 6629 2e5f 5f6e 616d 655f  pe(self).__name_
-00027180: 5f2c 0a20 2020 2020 2020 2020 2020 2020  _,.             
-00027190: 2020 2020 2020 2029 2c0a 2020 2020 2020         ),.      
-000271a0: 2020 2020 2020 2020 2020 2020 2020 7374                st
-000271b0: 6163 6b6c 6576 656c 3d33 2c0a 2020 2020  acklevel=3,.    
-000271c0: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
-000271d0: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
-000271e0: 7065 7228 292e 5f73 6574 5265 7375 6c74  per()._setResult
-000271f0: 734e 616d 6528 6e61 6d65 2c20 6c69 7374  sName(name, list
-00027200: 416c 6c4d 6174 6368 6573 290a 0a0a 636c  AllMatches)...cl
-00027210: 6173 7320 4561 6368 2850 6172 7365 4578  ass Each(ParseEx
-00027220: 7072 6573 7369 6f6e 293a 0a20 2020 2022  pression):.    "
-00027230: 2222 5265 7175 6972 6573 2061 6c6c 2067  ""Requires all g
-00027240: 6976 656e 203a 636c 6173 733a 6050 6172  iven :class:`Par
-00027250: 7365 4578 7072 6573 7369 6f6e 6020 7320  seExpression` s 
-00027260: 746f 2062 6520 666f 756e 642c 2062 7574  to be found, but
-00027270: 2069 6e0a 2020 2020 616e 7920 6f72 6465   in.    any orde
-00027280: 722e 2045 7870 7265 7373 696f 6e73 206d  r. Expressions m
-00027290: 6179 2062 6520 7365 7061 7261 7465 6420  ay be separated 
-000272a0: 6279 2077 6869 7465 7370 6163 652e 0a0a  by whitespace...
-000272b0: 2020 2020 4d61 7920 6265 2063 6f6e 7374      May be const
-000272c0: 7275 6374 6564 2075 7369 6e67 2074 6865  ructed using the
-000272d0: 2060 6027 2627 6060 206f 7065 7261 746f   ``'&'`` operato
-000272e0: 722e 0a0a 2020 2020 4578 616d 706c 653a  r...    Example:
-000272f0: 3a0a 0a20 2020 2020 2020 2063 6f6c 6f72  :..        color
-00027300: 203d 206f 6e65 5f6f 6628 2252 4544 204f   = one_of("RED O
-00027310: 5241 4e47 4520 5945 4c4c 4f57 2047 5245  RANGE YELLOW GRE
-00027320: 454e 2042 4c55 4520 5055 5250 4c45 2042  EN BLUE PURPLE B
-00027330: 4c41 434b 2057 4849 5445 2042 524f 574e  LACK WHITE BROWN
-00027340: 2229 0a20 2020 2020 2020 2073 6861 7065  ").        shape
-00027350: 5f74 7970 6520 3d20 6f6e 655f 6f66 2822  _type = one_of("
-00027360: 5351 5541 5245 2043 4952 434c 4520 5452  SQUARE CIRCLE TR
-00027370: 4941 4e47 4c45 2053 5441 5220 4845 5841  IANGLE STAR HEXA
-00027380: 474f 4e20 4f43 5441 474f 4e22 290a 2020  GON OCTAGON").  
-00027390: 2020 2020 2020 696e 7465 6765 7220 3d20        integer = 
-000273a0: 576f 7264 286e 756d 7329 0a20 2020 2020  Word(nums).     
-000273b0: 2020 2073 6861 7065 5f61 7474 7220 3d20     shape_attr = 
-000273c0: 2273 6861 7065 3a22 202b 2073 6861 7065  "shape:" + shape
-000273d0: 5f74 7970 6528 2273 6861 7065 2229 0a20  _type("shape"). 
-000273e0: 2020 2020 2020 2070 6f73 6e5f 6174 7472         posn_attr
-000273f0: 203d 2022 706f 736e 3a22 202b 2047 726f   = "posn:" + Gro
-00027400: 7570 2869 6e74 6567 6572 2822 7822 2920  up(integer("x") 
-00027410: 2b20 272c 2720 2b20 696e 7465 6765 7228  + ',' + integer(
-00027420: 2279 2229 2928 2270 6f73 6e22 290a 2020  "y"))("posn").  
-00027430: 2020 2020 2020 636f 6c6f 725f 6174 7472        color_attr
-00027440: 203d 2022 636f 6c6f 723a 2220 2b20 636f   = "color:" + co
-00027450: 6c6f 7228 2263 6f6c 6f72 2229 0a20 2020  lor("color").   
-00027460: 2020 2020 2073 697a 655f 6174 7472 203d       size_attr =
-00027470: 2022 7369 7a65 3a22 202b 2069 6e74 6567   "size:" + integ
-00027480: 6572 2822 7369 7a65 2229 0a0a 2020 2020  er("size")..    
-00027490: 2020 2020 2320 7573 6520 4561 6368 2028      # use Each (
-000274a0: 7573 696e 6720 6f70 6572 6174 6f72 2027  using operator '
-000274b0: 2627 2920 746f 2061 6363 6570 7420 6174  &') to accept at
-000274c0: 7472 6962 7574 6573 2069 6e20 616e 7920  tributes in any 
-000274d0: 6f72 6465 720a 2020 2020 2020 2020 2320  order.        # 
-000274e0: 2873 6861 7065 2061 6e64 2070 6f73 6e20  (shape and posn 
-000274f0: 6172 6520 7265 7175 6972 6564 2c20 636f  are required, co
-00027500: 6c6f 7220 616e 6420 7369 7a65 2061 7265  lor and size are
-00027510: 206f 7074 696f 6e61 6c29 0a20 2020 2020   optional).     
-00027520: 2020 2073 6861 7065 5f73 7065 6320 3d20     shape_spec = 
-00027530: 7368 6170 655f 6174 7472 2026 2070 6f73  shape_attr & pos
-00027540: 6e5f 6174 7472 2026 204f 7074 2863 6f6c  n_attr & Opt(col
-00027550: 6f72 5f61 7474 7229 2026 204f 7074 2873  or_attr) & Opt(s
-00027560: 697a 655f 6174 7472 290a 0a20 2020 2020  ize_attr)..     
-00027570: 2020 2073 6861 7065 5f73 7065 632e 7275     shape_spec.ru
-00027580: 6e5f 7465 7374 7328 2727 270a 2020 2020  n_tests('''.    
-00027590: 2020 2020 2020 2020 7368 6170 653a 2053          shape: S
-000275a0: 5155 4152 4520 636f 6c6f 723a 2042 4c41  QUARE color: BLA
-000275b0: 434b 2070 6f73 6e3a 2031 3030 2c20 3132  CK posn: 100, 12
-000275c0: 300a 2020 2020 2020 2020 2020 2020 7368  0.            sh
-000275d0: 6170 653a 2043 4952 434c 4520 7369 7a65  ape: CIRCLE size
-000275e0: 3a20 3530 2063 6f6c 6f72 3a20 424c 5545  : 50 color: BLUE
-000275f0: 2070 6f73 6e3a 2035 302c 3830 0a20 2020   posn: 50,80.   
-00027600: 2020 2020 2020 2020 2063 6f6c 6f72 3a47           color:G
-00027610: 5245 454e 2073 697a 653a 3230 2073 6861  REEN size:20 sha
-00027620: 7065 3a54 5249 414e 474c 4520 706f 736e  pe:TRIANGLE posn
-00027630: 3a32 302c 3430 0a20 2020 2020 2020 2020  :20,40.         
-00027640: 2020 2027 2727 0a20 2020 2020 2020 2020     '''.         
-00027650: 2020 2029 0a0a 2020 2020 7072 696e 7473     )..    prints
-00027660: 3a3a 0a0a 2020 2020 2020 2020 7368 6170  ::..        shap
-00027670: 653a 2053 5155 4152 4520 636f 6c6f 723a  e: SQUARE color:
-00027680: 2042 4c41 434b 2070 6f73 6e3a 2031 3030   BLACK posn: 100
-00027690: 2c20 3132 300a 2020 2020 2020 2020 5b27  , 120.        ['
-000276a0: 7368 6170 653a 272c 2027 5351 5541 5245  shape:', 'SQUARE
-000276b0: 272c 2027 636f 6c6f 723a 272c 2027 424c  ', 'color:', 'BL
-000276c0: 4143 4b27 2c20 2770 6f73 6e3a 272c 205b  ACK', 'posn:', [
-000276d0: 2731 3030 272c 2027 2c27 2c20 2731 3230  '100', ',', '120
-000276e0: 275d 5d0a 2020 2020 2020 2020 2d20 636f  ']].        - co
-000276f0: 6c6f 723a 2042 4c41 434b 0a20 2020 2020  lor: BLACK.     
-00027700: 2020 202d 2070 6f73 6e3a 205b 2731 3030     - posn: ['100
-00027710: 272c 2027 2c27 2c20 2731 3230 275d 0a20  ', ',', '120']. 
-00027720: 2020 2020 2020 2020 202d 2078 3a20 3130           - x: 10
-00027730: 300a 2020 2020 2020 2020 2020 2d20 793a  0.          - y:
-00027740: 2031 3230 0a20 2020 2020 2020 202d 2073   120.        - s
-00027750: 6861 7065 3a20 5351 5541 5245 0a0a 0a20  hape: SQUARE... 
-00027760: 2020 2020 2020 2073 6861 7065 3a20 4349         shape: CI
-00027770: 5243 4c45 2073 697a 653a 2035 3020 636f  RCLE size: 50 co
-00027780: 6c6f 723a 2042 4c55 4520 706f 736e 3a20  lor: BLUE posn: 
-00027790: 3530 2c38 300a 2020 2020 2020 2020 5b27  50,80.        ['
-000277a0: 7368 6170 653a 272c 2027 4349 5243 4c45  shape:', 'CIRCLE
-000277b0: 272c 2027 7369 7a65 3a27 2c20 2735 3027  ', 'size:', '50'
-000277c0: 2c20 2763 6f6c 6f72 3a27 2c20 2742 4c55  , 'color:', 'BLU
-000277d0: 4527 2c20 2770 6f73 6e3a 272c 205b 2735  E', 'posn:', ['5
-000277e0: 3027 2c20 272c 272c 2027 3830 275d 5d0a  0', ',', '80']].
-000277f0: 2020 2020 2020 2020 2d20 636f 6c6f 723a          - color:
-00027800: 2042 4c55 450a 2020 2020 2020 2020 2d20   BLUE.        - 
-00027810: 706f 736e 3a20 5b27 3530 272c 2027 2c27  posn: ['50', ','
-00027820: 2c20 2738 3027 5d0a 2020 2020 2020 2020  , '80'].        
-00027830: 2020 2d20 783a 2035 300a 2020 2020 2020    - x: 50.      
-00027840: 2020 2020 2d20 793a 2038 300a 2020 2020      - y: 80.    
-00027850: 2020 2020 2d20 7368 6170 653a 2043 4952      - shape: CIR
-00027860: 434c 450a 2020 2020 2020 2020 2d20 7369  CLE.        - si
-00027870: 7a65 3a20 3530 0a0a 0a20 2020 2020 2020  ze: 50...       
-00027880: 2063 6f6c 6f72 3a20 4752 4545 4e20 7369   color: GREEN si
-00027890: 7a65 3a20 3230 2073 6861 7065 3a20 5452  ze: 20 shape: TR
-000278a0: 4941 4e47 4c45 2070 6f73 6e3a 2032 302c  IANGLE posn: 20,
-000278b0: 3430 0a20 2020 2020 2020 205b 2763 6f6c  40.        ['col
-000278c0: 6f72 3a27 2c20 2747 5245 454e 272c 2027  or:', 'GREEN', '
-000278d0: 7369 7a65 3a27 2c20 2732 3027 2c20 2773  size:', '20', 's
-000278e0: 6861 7065 3a27 2c20 2754 5249 414e 474c  hape:', 'TRIANGL
-000278f0: 4527 2c20 2770 6f73 6e3a 272c 205b 2732  E', 'posn:', ['2
-00027900: 3027 2c20 272c 272c 2027 3430 275d 5d0a  0', ',', '40']].
-00027910: 2020 2020 2020 2020 2d20 636f 6c6f 723a          - color:
-00027920: 2047 5245 454e 0a20 2020 2020 2020 202d   GREEN.        -
-00027930: 2070 6f73 6e3a 205b 2732 3027 2c20 272c   posn: ['20', ',
-00027940: 272c 2027 3430 275d 0a20 2020 2020 2020  ', '40'].       
-00027950: 2020 202d 2078 3a20 3230 0a20 2020 2020     - x: 20.     
-00027960: 2020 2020 202d 2079 3a20 3430 0a20 2020       - y: 40.   
-00027970: 2020 2020 202d 2073 6861 7065 3a20 5452       - shape: TR
-00027980: 4941 4e47 4c45 0a20 2020 2020 2020 202d  IANGLE.        -
-00027990: 2073 697a 653a 2032 300a 2020 2020 2222   size: 20.    ""
-000279a0: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-000279b0: 745f 5f28 7365 6c66 2c20 6578 7072 733a  t__(self, exprs:
-000279c0: 2074 7970 696e 672e 4974 6572 6162 6c65   typing.Iterable
-000279d0: 5b50 6172 7365 7245 6c65 6d65 6e74 5d2c  [ParserElement],
-000279e0: 2073 6176 656c 6973 743a 2062 6f6f 6c20   savelist: bool 
-000279f0: 3d20 5472 7565 293a 0a20 2020 2020 2020  = True):.       
-00027a00: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
-00027a10: 5f28 6578 7072 732c 2073 6176 656c 6973  _(exprs, savelis
-00027a20: 7429 0a20 2020 2020 2020 2069 6620 7365  t).        if se
-00027a30: 6c66 2e65 7870 7273 3a0a 2020 2020 2020  lf.exprs:.      
-00027a40: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
-00027a50: 7475 726e 456d 7074 7920 3d20 616c 6c28  turnEmpty = all(
-00027a60: 652e 6d61 7952 6574 7572 6e45 6d70 7479  e.mayReturnEmpty
-00027a70: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
-00027a80: 7870 7273 290a 2020 2020 2020 2020 656c  xprs).        el
-00027a90: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00027aa0: 7365 6c66 2e6d 6179 5265 7475 726e 456d  self.mayReturnEm
-00027ab0: 7074 7920 3d20 5472 7565 0a20 2020 2020  pty = True.     
-00027ac0: 2020 2073 656c 662e 736b 6970 5768 6974     self.skipWhit
-00027ad0: 6573 7061 6365 203d 2054 7275 650a 2020  espace = True.  
-00027ae0: 2020 2020 2020 7365 6c66 2e69 6e69 7445        self.initE
-00027af0: 7870 7247 726f 7570 7320 3d20 5472 7565  xprGroups = True
-00027b00: 0a20 2020 2020 2020 2073 656c 662e 7361  .        self.sa
-00027b10: 7665 4173 4c69 7374 203d 2054 7275 650a  veAsList = True.
-00027b20: 0a20 2020 2064 6566 205f 5f69 616e 645f  .    def __iand_
-00027b30: 5f28 7365 6c66 2c20 6f74 6865 7229 3a0a  _(self, other):.
-00027b40: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-00027b50: 7461 6e63 6528 6f74 6865 722c 2073 7472  tance(other, str
-00027b60: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
-00027b70: 2020 2020 6f74 6865 7220 3d20 7365 6c66      other = self
-00027b80: 2e5f 6c69 7465 7261 6c53 7472 696e 6743  ._literalStringC
-00027b90: 6c61 7373 286f 7468 6572 290a 2020 2020  lass(other).    
-00027ba0: 2020 2020 6966 206e 6f74 2069 7369 6e73      if not isins
-00027bb0: 7461 6e63 6528 6f74 6865 722c 2050 6172  tance(other, Par
-00027bc0: 7365 7245 6c65 6d65 6e74 293a 0a20 2020  serElement):.   
-00027bd0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00027be0: 4e6f 7449 6d70 6c65 6d65 6e74 6564 0a20  NotImplemented. 
-00027bf0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00027c00: 6c66 2e61 7070 656e 6428 6f74 6865 7229  lf.append(other)
-00027c10: 2020 2320 4561 6368 285b 7365 6c66 2c20    # Each([self, 
-00027c20: 6f74 6865 725d 290a 0a20 2020 2064 6566  other])..    def
-00027c30: 2073 7472 6561 6d6c 696e 6528 7365 6c66   streamline(self
-00027c40: 2920 2d3e 2050 6172 7365 7245 6c65 6d65  ) -> ParserEleme
-00027c50: 6e74 3a0a 2020 2020 2020 2020 7375 7065  nt:.        supe
-00027c60: 7228 292e 7374 7265 616d 6c69 6e65 2829  r().streamline()
-00027c70: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-00027c80: 2e65 7870 7273 3a0a 2020 2020 2020 2020  .exprs:.        
-00027c90: 2020 2020 7365 6c66 2e6d 6179 5265 7475      self.mayRetu
-00027ca0: 726e 456d 7074 7920 3d20 616c 6c28 652e  rnEmpty = all(e.
-00027cb0: 6d61 7952 6574 7572 6e45 6d70 7479 2066  mayReturnEmpty f
-00027cc0: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
-00027cd0: 7273 290a 2020 2020 2020 2020 656c 7365  rs).        else
-00027ce0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00027cf0: 6c66 2e6d 6179 5265 7475 726e 456d 7074  lf.mayReturnEmpt
-00027d00: 7920 3d20 5472 7565 0a20 2020 2020 2020  y = True.       
-00027d10: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-00027d20: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-00027d30: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-00027d40: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
-00027d50: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
-00027d60: 2073 656c 662e 696e 6974 4578 7072 4772   self.initExprGr
-00027d70: 6f75 7073 3a0a 2020 2020 2020 2020 2020  oups:.          
-00027d80: 2020 7365 6c66 2e6f 7074 316d 6170 203d    self.opt1map =
-00027d90: 2064 6963 7428 0a20 2020 2020 2020 2020   dict(.         
-00027da0: 2020 2020 2020 2028 6964 2865 2e65 7870         (id(e.exp
-00027db0: 7229 2c20 6529 2066 6f72 2065 2069 6e20  r), e) for e in 
-00027dc0: 7365 6c66 2e65 7870 7273 2069 6620 6973  self.exprs if is
-00027dd0: 696e 7374 616e 6365 2865 2c20 4f70 7429  instance(e, Opt)
-00027de0: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-00027df0: 2020 2020 2020 2020 2020 206f 7074 3120             opt1 
-00027e00: 3d20 5b65 2e65 7870 7220 666f 7220 6520  = [e.expr for e 
-00027e10: 696e 2073 656c 662e 6578 7072 7320 6966  in self.exprs if
-00027e20: 2069 7369 6e73 7461 6e63 6528 652c 204f   isinstance(e, O
-00027e30: 7074 295d 0a20 2020 2020 2020 2020 2020  pt)].           
-00027e40: 206f 7074 3220 3d20 5b0a 2020 2020 2020   opt2 = [.      
-00027e50: 2020 2020 2020 2020 2020 650a 2020 2020            e.    
-00027e60: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00027e70: 6520 696e 2073 656c 662e 6578 7072 730a  e in self.exprs.
-00027e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027e90: 6966 2065 2e6d 6179 5265 7475 726e 456d  if e.mayReturnEm
-00027ea0: 7074 7920 616e 6420 6e6f 7420 6973 696e  pty and not isin
-00027eb0: 7374 616e 6365 2865 2c20 284f 7074 2c20  stance(e, (Opt, 
-00027ec0: 5265 6765 782c 205a 6572 6f4f 724d 6f72  Regex, ZeroOrMor
-00027ed0: 6529 290a 2020 2020 2020 2020 2020 2020  e)).            
-00027ee0: 5d0a 2020 2020 2020 2020 2020 2020 7365  ].            se
-00027ef0: 6c66 2e6f 7074 696f 6e61 6c73 203d 206f  lf.optionals = o
-00027f00: 7074 3120 2b20 6f70 7432 0a20 2020 2020  pt1 + opt2.     
-00027f10: 2020 2020 2020 2073 656c 662e 6d75 6c74         self.mult
-00027f20: 696f 7074 696f 6e61 6c73 203d 205b 0a20  ioptionals = [. 
-00027f30: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00027f40: 2e65 7870 722e 7365 745f 7265 7375 6c74  .expr.set_result
-00027f50: 735f 6e61 6d65 2865 2e72 6573 756c 7473  s_name(e.results
-00027f60: 4e61 6d65 2c20 6c69 7374 5f61 6c6c 5f6d  Name, list_all_m
-00027f70: 6174 6368 6573 3d54 7275 6529 0a20 2020  atches=True).   
-00027f80: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-00027f90: 2065 2069 6e20 7365 6c66 2e65 7870 7273   e in self.exprs
-00027fa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00027fb0: 2069 6620 6973 696e 7374 616e 6365 2865   if isinstance(e
-00027fc0: 2c20 5f4d 756c 7469 706c 654d 6174 6368  , _MultipleMatch
-00027fd0: 290a 2020 2020 2020 2020 2020 2020 5d0a  ).            ].
-00027fe0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00027ff0: 2e6d 756c 7469 7265 7175 6972 6564 203d  .multirequired =
-00028000: 205b 0a20 2020 2020 2020 2020 2020 2020   [.             
-00028010: 2020 2065 2e65 7870 722e 7365 745f 7265     e.expr.set_re
-00028020: 7375 6c74 735f 6e61 6d65 2865 2e72 6573  sults_name(e.res
-00028030: 756c 7473 4e61 6d65 2c20 6c69 7374 5f61  ultsName, list_a
-00028040: 6c6c 5f6d 6174 6368 6573 3d54 7275 6529  ll_matches=True)
-00028050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028060: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
-00028070: 7870 7273 0a20 2020 2020 2020 2020 2020  xprs.           
-00028080: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-00028090: 6365 2865 2c20 4f6e 654f 724d 6f72 6529  ce(e, OneOrMore)
-000280a0: 0a20 2020 2020 2020 2020 2020 205d 0a20  .            ]. 
-000280b0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000280c0: 7265 7175 6972 6564 203d 205b 0a20 2020  required = [.   
-000280d0: 2020 2020 2020 2020 2020 2020 2065 2066               e f
-000280e0: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
-000280f0: 7273 2069 6620 6e6f 7420 6973 696e 7374  rs if not isinst
-00028100: 616e 6365 2865 2c20 284f 7074 2c20 5a65  ance(e, (Opt, Ze
-00028110: 726f 4f72 4d6f 7265 2c20 4f6e 654f 724d  roOrMore, OneOrM
-00028120: 6f72 6529 290a 2020 2020 2020 2020 2020  ore)).          
-00028130: 2020 5d0a 2020 2020 2020 2020 2020 2020    ].            
-00028140: 7365 6c66 2e72 6571 7569 7265 6420 2b3d  self.required +=
-00028150: 2073 656c 662e 6d75 6c74 6972 6571 7569   self.multirequi
-00028160: 7265 640a 2020 2020 2020 2020 2020 2020  red.            
-00028170: 7365 6c66 2e69 6e69 7445 7870 7247 726f  self.initExprGro
-00028180: 7570 7320 3d20 4661 6c73 650a 0a20 2020  ups = False..   
-00028190: 2020 2020 2074 6d70 4c6f 6320 3d20 6c6f       tmpLoc = lo
-000281a0: 630a 2020 2020 2020 2020 746d 7052 6571  c.        tmpReq
-000281b0: 6420 3d20 7365 6c66 2e72 6571 7569 7265  d = self.require
-000281c0: 645b 3a5d 0a20 2020 2020 2020 2074 6d70  d[:].        tmp
-000281d0: 4f70 7420 3d20 7365 6c66 2e6f 7074 696f  Opt = self.optio
-000281e0: 6e61 6c73 5b3a 5d0a 2020 2020 2020 2020  nals[:].        
-000281f0: 6d75 6c74 6973 203d 2073 656c 662e 6d75  multis = self.mu
-00028200: 6c74 696f 7074 696f 6e61 6c73 5b3a 5d0a  ltioptionals[:].
-00028210: 2020 2020 2020 2020 6d61 7463 684f 7264          matchOrd
-00028220: 6572 203d 205b 5d0a 0a20 2020 2020 2020  er = []..       
-00028230: 206b 6565 704d 6174 6368 696e 6720 3d20   keepMatching = 
-00028240: 5472 7565 0a20 2020 2020 2020 2066 6169  True.        fai
-00028250: 6c65 6420 3d20 5b5d 0a20 2020 2020 2020  led = [].       
-00028260: 2066 6174 616c 7320 3d20 5b5d 0a20 2020   fatals = [].   
-00028270: 2020 2020 2077 6869 6c65 206b 6565 704d       while keepM
-00028280: 6174 6368 696e 673a 0a20 2020 2020 2020  atching:.       
-00028290: 2020 2020 2074 6d70 4578 7072 7320 3d20       tmpExprs = 
-000282a0: 746d 7052 6571 6420 2b20 746d 704f 7074  tmpReqd + tmpOpt
-000282b0: 202b 206d 756c 7469 730a 2020 2020 2020   + multis.      
-000282c0: 2020 2020 2020 6661 696c 6564 2e63 6c65        failed.cle
-000282d0: 6172 2829 0a20 2020 2020 2020 2020 2020  ar().           
-000282e0: 2066 6174 616c 732e 636c 6561 7228 290a   fatals.clear().
-000282f0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00028300: 6520 696e 2074 6d70 4578 7072 733a 0a20  e in tmpExprs:. 
-00028310: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00028320: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-00028330: 2020 2020 2020 2020 746d 704c 6f63 203d          tmpLoc =
-00028340: 2065 2e74 7279 5f70 6172 7365 2869 6e73   e.try_parse(ins
-00028350: 7472 696e 672c 2074 6d70 4c6f 632c 2072  tring, tmpLoc, r
-00028360: 6169 7365 5f66 6174 616c 3d54 7275 6529  aise_fatal=True)
-00028370: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028380: 2065 7863 6570 7420 5061 7273 6546 6174   except ParseFat
-00028390: 616c 4578 6365 7074 696f 6e20 6173 2070  alException as p
-000283a0: 6665 3a0a 2020 2020 2020 2020 2020 2020  fe:.            
-000283b0: 2020 2020 2020 2020 7066 652e 5f5f 7472          pfe.__tr
-000283c0: 6163 6562 6163 6b5f 5f20 3d20 4e6f 6e65  aceback__ = None
-000283d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000283e0: 2020 2020 2070 6665 2e70 6172 7365 725f       pfe.parser_
-000283f0: 656c 656d 656e 7420 3d20 650a 2020 2020  element = e.    
-00028400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028410: 6661 7461 6c73 2e61 7070 656e 6428 7066  fatals.append(pf
-00028420: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-00028430: 2020 2020 2020 2066 6169 6c65 642e 6170         failed.ap
-00028440: 7065 6e64 2865 290a 2020 2020 2020 2020  pend(e).        
-00028450: 2020 2020 2020 2020 6578 6365 7074 2050          except P
-00028460: 6172 7365 4578 6365 7074 696f 6e3a 0a20  arseException:. 
+00025140: 6d61 7845 7863 6570 7469 6f6e 203d 2065  maxException = e
+00025150: 7272 0a20 2020 2020 2020 2020 2020 2020  rr.             
+00025160: 2020 2020 2020 2020 2020 206d 6178 4578             maxEx
+00025170: 634c 6f63 203d 2065 7272 2e6c 6f63 0a20  cLoc = err.loc. 
+00025180: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+00025190: 7420 496e 6465 7845 7272 6f72 3a0a 2020  t IndexError:.  
+000251a0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+000251b0: 206c 656e 2869 6e73 7472 696e 6729 203e   len(instring) >
+000251c0: 206d 6178 4578 634c 6f63 3a0a 2020 2020   maxExcLoc:.    
+000251d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000251e0: 6d61 7845 7863 6570 7469 6f6e 203d 2050  maxException = P
+000251f0: 6172 7365 4578 6365 7074 696f 6e28 0a20  arseException(. 
+00025200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025210: 2020 2020 2020 2069 6e73 7472 696e 672c         instring,
+00025220: 206c 656e 2869 6e73 7472 696e 6729 2c20   len(instring), 
+00025230: 652e 6572 726d 7367 2c20 7365 6c66 0a20  e.errmsg, self. 
+00025240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025250: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+00025260: 2020 2020 2020 2020 206d 6178 4578 634c           maxExcL
+00025270: 6f63 203d 206c 656e 2869 6e73 7472 696e  oc = len(instrin
+00025280: 6729 0a20 2020 2020 2020 2020 2020 2065  g).            e
+00025290: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000252a0: 2020 2020 2023 2073 6176 6520 6d61 7463       # save matc
+000252b0: 6820 616d 6f6e 6720 616c 6c20 6d61 7463  h among all matc
+000252c0: 6865 732c 2074 6f20 7265 7472 7920 6c6f  hes, to retry lo
+000252d0: 6e67 6573 7420 746f 2073 686f 7274 6573  ngest to shortes
+000252e0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
+000252f0: 2020 6d61 7463 6865 732e 6170 7065 6e64    matches.append
+00025300: 2828 6c6f 6332 2c20 6529 290a 0a20 2020  ((loc2, e))..   
+00025310: 2020 2020 2069 6620 6d61 7463 6865 733a       if matches:
+00025320: 0a20 2020 2020 2020 2020 2020 2023 2072  .            # r
+00025330: 652d 6576 616c 7561 7465 2061 6c6c 206d  e-evaluate all m
+00025340: 6174 6368 6573 2069 6e20 6465 7363 656e  atches in descen
+00025350: 6469 6e67 206f 7264 6572 206f 6620 6c65  ding order of le
+00025360: 6e67 7468 206f 6620 6d61 7463 682c 2069  ngth of match, i
+00025370: 6e20 6361 7365 2061 7474 6163 6865 6420  n case attached 
+00025380: 6163 7469 6f6e 730a 2020 2020 2020 2020  actions.        
+00025390: 2020 2020 2320 6d69 6768 7420 6368 616e      # might chan
+000253a0: 6765 2077 6865 7468 6572 206f 7220 686f  ge whether or ho
+000253b0: 7720 6d75 6368 2074 6865 7920 6d61 7463  w much they matc
+000253c0: 6820 6f66 2074 6865 2069 6e70 7574 2e0a  h of the input..
+000253d0: 2020 2020 2020 2020 2020 2020 6d61 7463              matc
+000253e0: 6865 732e 736f 7274 286b 6579 3d69 7465  hes.sort(key=ite
+000253f0: 6d67 6574 7465 7228 3029 2c20 7265 7665  mgetter(0), reve
+00025400: 7273 653d 5472 7565 290a 0a20 2020 2020  rse=True)..     
+00025410: 2020 2020 2020 2069 6620 6e6f 7420 646f         if not do
+00025420: 4163 7469 6f6e 733a 0a20 2020 2020 2020  Actions:.       
+00025430: 2020 2020 2020 2020 2023 206e 6f20 6675           # no fu
+00025440: 7274 6865 7220 636f 6e64 6974 696f 6e73  rther conditions
+00025450: 206f 7220 7061 7273 6520 6163 7469 6f6e   or parse action
+00025460: 7320 746f 2063 6861 6e67 6520 7468 6520  s to change the 
+00025470: 7365 6c65 6374 696f 6e20 6f66 0a20 2020  selection of.   
+00025480: 2020 2020 2020 2020 2020 2020 2023 2061               # a
+00025490: 6c74 6572 6e61 7469 7665 2c20 736f 2074  lternative, so t
+000254a0: 6865 2066 6972 7374 206d 6174 6368 2077  he first match w
+000254b0: 696c 6c20 6265 2074 6865 2062 6573 7420  ill be the best 
+000254c0: 6d61 7463 680a 2020 2020 2020 2020 2020  match.          
+000254d0: 2020 2020 2020 6265 7374 5f65 7870 7220        best_expr 
+000254e0: 3d20 6d61 7463 6865 735b 305d 5b31 5d0a  = matches[0][1].
+000254f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025500: 7265 7475 726e 2062 6573 745f 6578 7072  return best_expr
+00025510: 2e5f 7061 7273 6528 696e 7374 7269 6e67  ._parse(instring
+00025520: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
+00025530: 290a 0a20 2020 2020 2020 2020 2020 206c  )..            l
+00025540: 6f6e 6765 7374 203d 202d 312c 204e 6f6e  ongest = -1, Non
+00025550: 650a 2020 2020 2020 2020 2020 2020 666f  e.            fo
+00025560: 7220 6c6f 6331 2c20 6578 7072 3120 696e  r loc1, expr1 in
+00025570: 206d 6174 6368 6573 3a0a 2020 2020 2020   matches:.      
+00025580: 2020 2020 2020 2020 2020 6966 206c 6f63            if loc
+00025590: 3120 3c3d 206c 6f6e 6765 7374 5b30 5d3a  1 <= longest[0]:
+000255a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000255b0: 2020 2020 2023 2061 6c72 6561 6479 2068       # already h
+000255c0: 6176 6520 6120 6c6f 6e67 6572 206d 6174  ave a longer mat
+000255d0: 6368 2074 6861 6e20 7468 6973 206f 6e65  ch than this one
+000255e0: 2077 696c 6c20 6465 6c69 7665 722c 2077   will deliver, w
+000255f0: 6520 6172 6520 646f 6e65 0a20 2020 2020  e are done.     
+00025600: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00025610: 6574 7572 6e20 6c6f 6e67 6573 740a 0a20  eturn longest.. 
+00025620: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00025630: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+00025640: 2020 2020 2020 2020 6c6f 6332 2c20 746f          loc2, to
+00025650: 6b73 203d 2065 7870 7231 2e5f 7061 7273  ks = expr1._pars
+00025660: 6528 696e 7374 7269 6e67 2c20 6c6f 632c  e(instring, loc,
+00025670: 2064 6f41 6374 696f 6e73 290a 2020 2020   doActions).    
+00025680: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+00025690: 7074 2050 6172 7365 4578 6365 7074 696f  pt ParseExceptio
+000256a0: 6e20 6173 2065 7272 3a0a 2020 2020 2020  n as err:.      
+000256b0: 2020 2020 2020 2020 2020 2020 2020 6572                er
+000256c0: 722e 5f5f 7472 6163 6562 6163 6b5f 5f20  r.__traceback__ 
+000256d0: 3d20 4e6f 6e65 0a20 2020 2020 2020 2020  = None.         
+000256e0: 2020 2020 2020 2020 2020 2069 6620 6572             if er
+000256f0: 722e 6c6f 6320 3e20 6d61 7845 7863 4c6f  r.loc > maxExcLo
+00025700: 633a 0a20 2020 2020 2020 2020 2020 2020  c:.             
+00025710: 2020 2020 2020 2020 2020 206d 6178 4578             maxEx
+00025720: 6365 7074 696f 6e20 3d20 6572 720a 2020  ception = err.  
+00025730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025740: 2020 2020 2020 6d61 7845 7863 4c6f 6320        maxExcLoc 
+00025750: 3d20 6572 722e 6c6f 630a 2020 2020 2020  = err.loc.      
+00025760: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00025770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025780: 2020 2020 6966 206c 6f63 3220 3e3d 206c      if loc2 >= l
+00025790: 6f63 313a 0a20 2020 2020 2020 2020 2020  oc1:.           
+000257a0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+000257b0: 7572 6e20 6c6f 6332 2c20 746f 6b73 0a20  urn loc2, toks. 
+000257c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000257d0: 2020 2023 2064 6964 6e27 7420 6d61 7463     # didn't matc
+000257e0: 6820 6173 206d 7563 6820 6173 2062 6566  h as much as bef
+000257f0: 6f72 650a 2020 2020 2020 2020 2020 2020  ore.            
+00025800: 2020 2020 2020 2020 656c 6966 206c 6f63          elif loc
+00025810: 3220 3e20 6c6f 6e67 6573 745b 305d 3a0a  2 > longest[0]:.
+00025820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025830: 2020 2020 2020 2020 6c6f 6e67 6573 7420          longest 
+00025840: 3d20 6c6f 6332 2c20 746f 6b73 0a0a 2020  = loc2, toks..  
+00025850: 2020 2020 2020 2020 2020 6966 206c 6f6e            if lon
+00025860: 6765 7374 2021 3d20 282d 312c 204e 6f6e  gest != (-1, Non
+00025870: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
+00025880: 2020 2020 7265 7475 726e 206c 6f6e 6765      return longe
+00025890: 7374 0a0a 2020 2020 2020 2020 6966 2066  st..        if f
+000258a0: 6174 616c 733a 0a20 2020 2020 2020 2020  atals:.         
+000258b0: 2020 2069 6620 6c65 6e28 6661 7461 6c73     if len(fatals
+000258c0: 2920 3e20 313a 0a20 2020 2020 2020 2020  ) > 1:.         
+000258d0: 2020 2020 2020 2066 6174 616c 732e 736f         fatals.so
+000258e0: 7274 286b 6579 3d6c 616d 6264 6120 653a  rt(key=lambda e:
+000258f0: 202d 652e 6c6f 6329 0a20 2020 2020 2020   -e.loc).       
+00025900: 2020 2020 2020 2020 2069 6620 6661 7461           if fata
+00025910: 6c73 5b30 5d2e 6c6f 6320 3d3d 2066 6174  ls[0].loc == fat
+00025920: 616c 735b 315d 2e6c 6f63 3a0a 2020 2020  als[1].loc:.    
+00025930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025940: 6661 7461 6c73 2e73 6f72 7428 6b65 793d  fatals.sort(key=
+00025950: 6c61 6d62 6461 2065 3a20 282d 652e 6c6f  lambda e: (-e.lo
+00025960: 632c 202d 6c65 6e28 7374 7228 652e 7061  c, -len(str(e.pa
+00025970: 7273 6572 5f65 6c65 6d65 6e74 2929 2929  rser_element))))
+00025980: 0a20 2020 2020 2020 2020 2020 206d 6178  .            max
+00025990: 5f66 6174 616c 203d 2066 6174 616c 735b  _fatal = fatals[
+000259a0: 305d 0a20 2020 2020 2020 2020 2020 2072  0].            r
+000259b0: 6169 7365 206d 6178 5f66 6174 616c 0a0a  aise max_fatal..
+000259c0: 2020 2020 2020 2020 6966 206d 6178 4578          if maxEx
+000259d0: 6365 7074 696f 6e20 6973 206e 6f74 204e  ception is not N
+000259e0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+000259f0: 2023 2069 6e66 6572 2066 726f 6d20 7468   # infer from th
+00025a00: 6973 2063 6865 636b 2074 6861 7420 616c  is check that al
+00025a10: 6c20 616c 7465 726e 6174 6976 6573 2066  l alternatives f
+00025a20: 6169 6c65 6420 6174 2074 6865 2063 7572  ailed at the cur
+00025a30: 7265 6e74 2070 6f73 6974 696f 6e0a 2020  rent position.  
+00025a40: 2020 2020 2020 2020 2020 2320 736f 2065            # so e
+00025a50: 6d69 7420 7468 6973 2063 6f6c 6c65 6374  mit this collect
+00025a60: 6976 6520 6572 726f 7220 6d65 7373 6167  ive error messag
+00025a70: 6520 696e 7374 6561 6420 6f66 2061 6e79  e instead of any
+00025a80: 2073 696e 676c 6520 6572 726f 7220 6d65   single error me
+00025a90: 7373 6167 650a 2020 2020 2020 2020 2020  ssage.          
+00025aa0: 2020 6966 206d 6178 4578 634c 6f63 203d    if maxExcLoc =
+00025ab0: 3d20 6c6f 633a 0a20 2020 2020 2020 2020  = loc:.         
+00025ac0: 2020 2020 2020 206d 6178 4578 6365 7074         maxExcept
+00025ad0: 696f 6e2e 6d73 6720 3d20 7365 6c66 2e65  ion.msg = self.e
+00025ae0: 7272 6d73 670a 2020 2020 2020 2020 2020  rrmsg.          
+00025af0: 2020 7261 6973 6520 6d61 7845 7863 6570    raise maxExcep
+00025b00: 7469 6f6e 0a20 2020 2020 2020 2065 6c73  tion.        els
+00025b10: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+00025b20: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
+00025b30: 696f 6e28 0a20 2020 2020 2020 2020 2020  ion(.           
+00025b40: 2020 2020 2069 6e73 7472 696e 672c 206c       instring, l
+00025b50: 6f63 2c20 226e 6f20 6465 6669 6e65 6420  oc, "no defined 
+00025b60: 616c 7465 726e 6174 6976 6573 2074 6f20  alternatives to 
+00025b70: 6d61 7463 6822 2c20 7365 6c66 0a20 2020  match", self.   
+00025b80: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+00025b90: 6465 6620 5f5f 6978 6f72 5f5f 2873 656c  def __ixor__(sel
+00025ba0: 662c 206f 7468 6572 293a 0a20 2020 2020  f, other):.     
+00025bb0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+00025bc0: 286f 7468 6572 2c20 7374 725f 7479 7065  (other, str_type
+00025bd0: 293a 0a20 2020 2020 2020 2020 2020 206f  ):.            o
+00025be0: 7468 6572 203d 2073 656c 662e 5f6c 6974  ther = self._lit
+00025bf0: 6572 616c 5374 7269 6e67 436c 6173 7328  eralStringClass(
+00025c00: 6f74 6865 7229 0a20 2020 2020 2020 2069  other).        i
+00025c10: 6620 6e6f 7420 6973 696e 7374 616e 6365  f not isinstance
+00025c20: 286f 7468 6572 2c20 5061 7273 6572 456c  (other, ParserEl
+00025c30: 656d 656e 7429 3a0a 2020 2020 2020 2020  ement):.        
+00025c40: 2020 2020 7265 7475 726e 204e 6f74 496d      return NotIm
+00025c50: 706c 656d 656e 7465 640a 2020 2020 2020  plemented.      
+00025c60: 2020 7265 7475 726e 2073 656c 662e 6170    return self.ap
+00025c70: 7065 6e64 286f 7468 6572 2920 2023 204f  pend(other)  # O
+00025c80: 7228 5b73 656c 662c 206f 7468 6572 5d29  r([self, other])
+00025c90: 0a0a 2020 2020 6465 6620 5f67 656e 6572  ..    def _gener
+00025ca0: 6174 6544 6566 6175 6c74 4e61 6d65 2873  ateDefaultName(s
+00025cb0: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
+00025cc0: 2020 2020 2072 6574 7572 6e20 227b 2220       return "{" 
+00025cd0: 2b20 2220 5e20 222e 6a6f 696e 2873 7472  + " ^ ".join(str
+00025ce0: 2865 2920 666f 7220 6520 696e 2073 656c  (e) for e in sel
+00025cf0: 662e 6578 7072 7329 202b 2022 7d22 0a0a  f.exprs) + "}"..
+00025d00: 2020 2020 6465 6620 5f73 6574 5265 7375      def _setResu
+00025d10: 6c74 734e 616d 6528 7365 6c66 2c20 6e61  ltsName(self, na
+00025d20: 6d65 2c20 6c69 7374 416c 6c4d 6174 6368  me, listAllMatch
+00025d30: 6573 3d46 616c 7365 293a 0a20 2020 2020  es=False):.     
+00025d40: 2020 2069 6620 280a 2020 2020 2020 2020     if (.        
+00025d50: 2020 2020 5f5f 6469 6167 5f5f 2e77 6172      __diag__.war
+00025d60: 6e5f 6d75 6c74 6970 6c65 5f74 6f6b 656e  n_multiple_token
+00025d70: 735f 696e 5f6e 616d 6564 5f61 6c74 6572  s_in_named_alter
+00025d80: 6e61 7469 6f6e 0a20 2020 2020 2020 2020  nation.         
+00025d90: 2020 2061 6e64 2044 6961 676e 6f73 7469     and Diagnosti
+00025da0: 6373 2e77 6172 6e5f 6d75 6c74 6970 6c65  cs.warn_multiple
+00025db0: 5f74 6f6b 656e 735f 696e 5f6e 616d 6564  _tokens_in_named
+00025dc0: 5f61 6c74 6572 6e61 7469 6f6e 0a20 2020  _alternation.   
+00025dd0: 2020 2020 2020 2020 206e 6f74 2069 6e20           not in 
+00025de0: 7365 6c66 2e73 7570 7072 6573 735f 7761  self.suppress_wa
+00025df0: 726e 696e 6773 5f0a 2020 2020 2020 2020  rnings_.        
+00025e00: 293a 0a20 2020 2020 2020 2020 2020 2069  ):.            i
+00025e10: 6620 616e 7928 0a20 2020 2020 2020 2020  f any(.         
+00025e20: 2020 2020 2020 2069 7369 6e73 7461 6e63         isinstanc
+00025e30: 6528 652c 2041 6e64 290a 2020 2020 2020  e(e, And).      
+00025e40: 2020 2020 2020 2020 2020 616e 6420 4469            and Di
+00025e50: 6167 6e6f 7374 6963 732e 7761 726e 5f6d  agnostics.warn_m
+00025e60: 756c 7469 706c 655f 746f 6b65 6e73 5f69  ultiple_tokens_i
+00025e70: 6e5f 6e61 6d65 645f 616c 7465 726e 6174  n_named_alternat
+00025e80: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
+00025e90: 2020 2020 6e6f 7420 696e 2065 2e73 7570      not in e.sup
+00025ea0: 7072 6573 735f 7761 726e 696e 6773 5f0a  press_warnings_.
+00025eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025ec0: 666f 7220 6520 696e 2073 656c 662e 6578  for e in self.ex
+00025ed0: 7072 730a 2020 2020 2020 2020 2020 2020  prs.            
+00025ee0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00025ef0: 2020 2077 6172 6e69 6e67 732e 7761 726e     warnings.warn
+00025f00: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00025f10: 2020 2020 2020 227b 7d3a 2073 6574 7469        "{}: setti
+00025f20: 6e67 2072 6573 756c 7473 206e 616d 6520  ng results name 
+00025f30: 7b21 727d 206f 6e20 7b7d 2065 7870 7265  {!r} on {} expre
+00025f40: 7373 696f 6e20 220a 2020 2020 2020 2020  ssion ".        
+00025f50: 2020 2020 2020 2020 2020 2020 2277 696c              "wil
+00025f60: 6c20 7265 7475 726e 2061 206c 6973 7420  l return a list 
+00025f70: 6f66 2061 6c6c 2070 6172 7365 6420 746f  of all parsed to
+00025f80: 6b65 6e73 2069 6e20 616e 2041 6e64 2061  kens in an And a
+00025f90: 6c74 6572 6e61 7469 7665 2c20 220a 2020  lternative, ".  
+00025fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025fb0: 2020 2269 6e20 7072 696f 7220 7665 7273    "in prior vers
+00025fc0: 696f 6e73 206f 6e6c 7920 7468 6520 6669  ions only the fi
+00025fd0: 7273 7420 746f 6b65 6e20 7761 7320 7265  rst token was re
+00025fe0: 7475 726e 6564 3b20 656e 636c 6f73 6520  turned; enclose 
+00025ff0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00026000: 2020 2020 2020 2263 6f6e 7461 696e 6564        "contained
+00026010: 2061 7267 756d 656e 7420 696e 2047 726f   argument in Gro
+00026020: 7570 222e 666f 726d 6174 280a 2020 2020  up".format(.    
+00026030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026040: 2020 2020 2277 6172 6e5f 6d75 6c74 6970      "warn_multip
+00026050: 6c65 5f74 6f6b 656e 735f 696e 5f6e 616d  le_tokens_in_nam
+00026060: 6564 5f61 6c74 6572 6e61 7469 6f6e 222c  ed_alternation",
+00026070: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00026080: 2020 2020 2020 2020 206e 616d 652c 0a20           name,. 
+00026090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000260a0: 2020 2020 2020 2074 7970 6528 7365 6c66         type(self
+000260b0: 292e 5f5f 6e61 6d65 5f5f 2c0a 2020 2020  ).__name__,.    
+000260c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000260d0: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+000260e0: 2020 2020 2020 2073 7461 636b 6c65 7665         stackleve
+000260f0: 6c3d 332c 0a20 2020 2020 2020 2020 2020  l=3,.           
+00026100: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
+00026110: 7265 7475 726e 2073 7570 6572 2829 2e5f  return super()._
+00026120: 7365 7452 6573 756c 7473 4e61 6d65 286e  setResultsName(n
+00026130: 616d 652c 206c 6973 7441 6c6c 4d61 7463  ame, listAllMatc
+00026140: 6865 7329 0a0a 0a63 6c61 7373 204d 6174  hes)...class Mat
+00026150: 6368 4669 7273 7428 5061 7273 6545 7870  chFirst(ParseExp
+00026160: 7265 7373 696f 6e29 3a0a 2020 2020 2222  ression):.    ""
+00026170: 2252 6571 7569 7265 7320 7468 6174 2061  "Requires that a
+00026180: 7420 6c65 6173 7420 6f6e 6520 3a63 6c61  t least one :cla
+00026190: 7373 3a60 5061 7273 6545 7870 7265 7373  ss:`ParseExpress
+000261a0: 696f 6e60 2069 7320 666f 756e 642e 2049  ion` is found. I
+000261b0: 660a 2020 2020 6d6f 7265 2074 6861 6e20  f.    more than 
+000261c0: 6f6e 6520 6578 7072 6573 7369 6f6e 206d  one expression m
+000261d0: 6174 6368 6573 2c20 7468 6520 6669 7273  atches, the firs
+000261e0: 7420 6f6e 6520 6c69 7374 6564 2069 7320  t one listed is 
+000261f0: 7468 6520 6f6e 6520 7468 6174 2077 696c  the one that wil
+00026200: 6c0a 2020 2020 6d61 7463 682e 204d 6179  l.    match. May
+00026210: 2062 6520 636f 6e73 7472 7563 7465 6420   be constructed 
+00026220: 7573 696e 6720 7468 6520 6060 277c 2760  using the ``'|'`
+00026230: 6020 6f70 6572 6174 6f72 2e0a 0a20 2020  ` operator...   
+00026240: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
+00026250: 2020 2020 2320 636f 6e73 7472 7563 7420      # construct 
+00026260: 4d61 7463 6846 6972 7374 2075 7369 6e67  MatchFirst using
+00026270: 2027 7c27 206f 7065 7261 746f 720a 0a20   '|' operator.. 
+00026280: 2020 2020 2020 2023 2077 6174 6368 2074         # watch t
+00026290: 6865 206f 7264 6572 206f 6620 6578 7072  he order of expr
+000262a0: 6573 7369 6f6e 7320 746f 206d 6174 6368  essions to match
+000262b0: 0a20 2020 2020 2020 206e 756d 6265 7220  .        number 
+000262c0: 3d20 576f 7264 286e 756d 7329 207c 2043  = Word(nums) | C
+000262d0: 6f6d 6269 6e65 2857 6f72 6428 6e75 6d73  ombine(Word(nums
+000262e0: 2920 2b20 272e 2720 2b20 576f 7264 286e  ) + '.' + Word(n
+000262f0: 756d 7329 290a 2020 2020 2020 2020 7072  ums)).        pr
+00026300: 696e 7428 6e75 6d62 6572 2e73 6561 7263  int(number.searc
+00026310: 685f 7374 7269 6e67 2822 3132 3320 332e  h_string("123 3.
+00026320: 3134 3136 2037 3839 2229 2920 2320 2046  1416 789")) #  F
+00026330: 6169 6c21 202d 3e20 5b5b 2731 3233 275d  ail! -> [['123']
+00026340: 2c20 5b27 3327 5d2c 205b 2731 3431 3627  , ['3'], ['1416'
+00026350: 5d2c 205b 2737 3839 275d 5d0a 0a20 2020  ], ['789']]..   
+00026360: 2020 2020 2023 2070 7574 206d 6f72 6520       # put more 
+00026370: 7365 6c65 6374 6976 6520 6578 7072 6573  selective expres
+00026380: 7369 6f6e 2066 6972 7374 0a20 2020 2020  sion first.     
+00026390: 2020 206e 756d 6265 7220 3d20 436f 6d62     number = Comb
+000263a0: 696e 6528 576f 7264 286e 756d 7329 202b  ine(Word(nums) +
+000263b0: 2027 2e27 202b 2057 6f72 6428 6e75 6d73   '.' + Word(nums
+000263c0: 2929 207c 2057 6f72 6428 6e75 6d73 290a  )) | Word(nums).
+000263d0: 2020 2020 2020 2020 7072 696e 7428 6e75          print(nu
+000263e0: 6d62 6572 2e73 6561 7263 685f 7374 7269  mber.search_stri
+000263f0: 6e67 2822 3132 3320 332e 3134 3136 2037  ng("123 3.1416 7
+00026400: 3839 2229 2920 2320 2042 6574 7465 7220  89")) #  Better 
+00026410: 2d3e 205b 5b27 3132 3327 5d2c 205b 2733  -> [['123'], ['3
+00026420: 2e31 3431 3627 5d2c 205b 2737 3839 275d  .1416'], ['789']
+00026430: 5d0a 2020 2020 2222 220a 0a20 2020 2064  ].    """..    d
+00026440: 6566 205f 5f69 6e69 745f 5f28 7365 6c66  ef __init__(self
+00026450: 2c20 6578 7072 733a 2074 7970 696e 672e  , exprs: typing.
+00026460: 4974 6572 6162 6c65 5b50 6172 7365 7245  Iterable[ParserE
+00026470: 6c65 6d65 6e74 5d2c 2073 6176 656c 6973  lement], savelis
+00026480: 743a 2062 6f6f 6c20 3d20 4661 6c73 6529  t: bool = False)
+00026490: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
+000264a0: 292e 5f5f 696e 6974 5f5f 2865 7870 7273  ).__init__(exprs
+000264b0: 2c20 7361 7665 6c69 7374 290a 2020 2020  , savelist).    
+000264c0: 2020 2020 6966 2073 656c 662e 6578 7072      if self.expr
+000264d0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+000264e0: 656c 662e 6d61 7952 6574 7572 6e45 6d70  elf.mayReturnEmp
+000264f0: 7479 203d 2061 6e79 2865 2e6d 6179 5265  ty = any(e.mayRe
+00026500: 7475 726e 456d 7074 7920 666f 7220 6520  turnEmpty for e 
+00026510: 696e 2073 656c 662e 6578 7072 7329 0a20  in self.exprs). 
+00026520: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00026530: 736b 6970 5768 6974 6573 7061 6365 203d  skipWhitespace =
+00026540: 2061 6c6c 2865 2e73 6b69 7057 6869 7465   all(e.skipWhite
+00026550: 7370 6163 6520 666f 7220 6520 696e 2073  space for e in s
+00026560: 656c 662e 6578 7072 7329 0a20 2020 2020  elf.exprs).     
+00026570: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00026580: 2020 2020 2073 656c 662e 6d61 7952 6574       self.mayRet
+00026590: 7572 6e45 6d70 7479 203d 2054 7275 650a  urnEmpty = True.
+000265a0: 0a20 2020 2064 6566 2073 7472 6561 6d6c  .    def streaml
+000265b0: 696e 6528 7365 6c66 2920 2d3e 2050 6172  ine(self) -> Par
+000265c0: 7365 7245 6c65 6d65 6e74 3a0a 2020 2020  serElement:.    
+000265d0: 2020 2020 6966 2073 656c 662e 7374 7265      if self.stre
+000265e0: 616d 6c69 6e65 643a 0a20 2020 2020 2020  amlined:.       
+000265f0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00026600: 0a0a 2020 2020 2020 2020 7375 7065 7228  ..        super(
+00026610: 292e 7374 7265 616d 6c69 6e65 2829 0a20  ).streamline(). 
+00026620: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
+00026630: 7870 7273 3a0a 2020 2020 2020 2020 2020  xprs:.          
+00026640: 2020 7365 6c66 2e73 6176 6541 734c 6973    self.saveAsLis
+00026650: 7420 3d20 616e 7928 652e 7361 7665 4173  t = any(e.saveAs
+00026660: 4c69 7374 2066 6f72 2065 2069 6e20 7365  List for e in se
+00026670: 6c66 2e65 7870 7273 290a 2020 2020 2020  lf.exprs).      
+00026680: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
+00026690: 7475 726e 456d 7074 7920 3d20 616e 7928  turnEmpty = any(
+000266a0: 652e 6d61 7952 6574 7572 6e45 6d70 7479  e.mayReturnEmpty
+000266b0: 2066 6f72 2065 2069 6e20 7365 6c66 2e65   for e in self.e
+000266c0: 7870 7273 290a 2020 2020 2020 2020 2020  xprs).          
+000266d0: 2020 7365 6c66 2e73 6b69 7057 6869 7465    self.skipWhite
+000266e0: 7370 6163 6520 3d20 616c 6c28 0a20 2020  space = all(.   
+000266f0: 2020 2020 2020 2020 2020 2020 2065 2e73               e.s
+00026700: 6b69 7057 6869 7465 7370 6163 6520 616e  kipWhitespace an
+00026710: 6420 6e6f 7420 6973 696e 7374 616e 6365  d not isinstance
+00026720: 2865 2c20 5768 6974 6529 2066 6f72 2065  (e, White) for e
+00026730: 2069 6e20 7365 6c66 2e65 7870 7273 0a20   in self.exprs. 
+00026740: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+00026750: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00026760: 2020 2020 2020 2073 656c 662e 7361 7665         self.save
+00026770: 4173 4c69 7374 203d 2046 616c 7365 0a20  AsList = False. 
+00026780: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00026790: 6d61 7952 6574 7572 6e45 6d70 7479 203d  mayReturnEmpty =
+000267a0: 2054 7275 650a 2020 2020 2020 2020 7265   True.        re
+000267b0: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
+000267c0: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
+000267d0: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
+000267e0: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
+000267f0: 293a 0a20 2020 2020 2020 206d 6178 4578  ):.        maxEx
+00026800: 634c 6f63 203d 202d 310a 2020 2020 2020  cLoc = -1.      
+00026810: 2020 6d61 7845 7863 6570 7469 6f6e 203d    maxException =
+00026820: 204e 6f6e 650a 0a20 2020 2020 2020 2066   None..        f
+00026830: 6f72 2065 2069 6e20 7365 6c66 2e65 7870  or e in self.exp
+00026840: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
+00026850: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+00026860: 2020 2020 2072 6574 7572 6e20 652e 5f70       return e._p
+00026870: 6172 7365 280a 2020 2020 2020 2020 2020  arse(.          
+00026880: 2020 2020 2020 2020 2020 696e 7374 7269            instri
+00026890: 6e67 2c0a 2020 2020 2020 2020 2020 2020  ng,.            
+000268a0: 2020 2020 2020 2020 6c6f 632c 0a20 2020          loc,.   
+000268b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000268c0: 2064 6f41 6374 696f 6e73 2c0a 2020 2020   doActions,.    
+000268d0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+000268e0: 2020 2020 2020 2020 2020 6578 6365 7074            except
+000268f0: 2050 6172 7365 4661 7461 6c45 7863 6570   ParseFatalExcep
+00026900: 7469 6f6e 2061 7320 7066 653a 0a20 2020  tion as pfe:.   
+00026910: 2020 2020 2020 2020 2020 2020 2070 6665               pfe
+00026920: 2e5f 5f74 7261 6365 6261 636b 5f5f 203d  .__traceback__ =
+00026930: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
+00026940: 2020 2020 2020 7066 652e 7061 7273 6572        pfe.parser
+00026950: 5f65 6c65 6d65 6e74 203d 2065 0a20 2020  _element = e.   
+00026960: 2020 2020 2020 2020 2020 2020 2072 6169               rai
+00026970: 7365 0a20 2020 2020 2020 2020 2020 2065  se.            e
+00026980: 7863 6570 7420 5061 7273 6545 7863 6570  xcept ParseExcep
+00026990: 7469 6f6e 2061 7320 6572 723a 0a20 2020  tion as err:.   
+000269a0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000269b0: 6572 722e 6c6f 6320 3e20 6d61 7845 7863  err.loc > maxExc
+000269c0: 4c6f 633a 0a20 2020 2020 2020 2020 2020  Loc:.           
+000269d0: 2020 2020 2020 2020 206d 6178 4578 6365           maxExce
+000269e0: 7074 696f 6e20 3d20 6572 720a 2020 2020  ption = err.    
+000269f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026a00: 6d61 7845 7863 4c6f 6320 3d20 6572 722e  maxExcLoc = err.
+00026a10: 6c6f 630a 2020 2020 2020 2020 2020 2020  loc.            
+00026a20: 6578 6365 7074 2049 6e64 6578 4572 726f  except IndexErro
+00026a30: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
+00026a40: 2020 2069 6620 6c65 6e28 696e 7374 7269     if len(instri
+00026a50: 6e67 2920 3e20 6d61 7845 7863 4c6f 633a  ng) > maxExcLoc:
+00026a60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00026a70: 2020 2020 206d 6178 4578 6365 7074 696f       maxExceptio
+00026a80: 6e20 3d20 5061 7273 6545 7863 6570 7469  n = ParseExcepti
+00026a90: 6f6e 280a 2020 2020 2020 2020 2020 2020  on(.            
+00026aa0: 2020 2020 2020 2020 2020 2020 696e 7374              inst
+00026ab0: 7269 6e67 2c20 6c65 6e28 696e 7374 7269  ring, len(instri
+00026ac0: 6e67 292c 2065 2e65 7272 6d73 672c 2073  ng), e.errmsg, s
+00026ad0: 656c 660a 2020 2020 2020 2020 2020 2020  elf.            
+00026ae0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00026af0: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
+00026b00: 7845 7863 4c6f 6320 3d20 6c65 6e28 696e  xExcLoc = len(in
+00026b10: 7374 7269 6e67 290a 0a20 2020 2020 2020  string)..       
+00026b20: 2069 6620 6d61 7845 7863 6570 7469 6f6e   if maxException
+00026b30: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+00026b40: 2020 2020 2020 2020 2020 2320 696e 6665            # infe
+00026b50: 7220 6672 6f6d 2074 6869 7320 6368 6563  r from this chec
+00026b60: 6b20 7468 6174 2061 6c6c 2061 6c74 6572  k that all alter
+00026b70: 6e61 7469 7665 7320 6661 696c 6564 2061  natives failed a
+00026b80: 7420 7468 6520 6375 7272 656e 7420 706f  t the current po
+00026b90: 7369 7469 6f6e 0a20 2020 2020 2020 2020  sition.         
+00026ba0: 2020 2023 2073 6f20 656d 6974 2074 6869     # so emit thi
+00026bb0: 7320 636f 6c6c 6563 7469 7665 2065 7272  s collective err
+00026bc0: 6f72 206d 6573 7361 6765 2069 6e73 7465  or message inste
+00026bd0: 6164 206f 6620 616e 7920 696e 6469 7669  ad of any indivi
+00026be0: 6475 616c 2065 7272 6f72 206d 6573 7361  dual error messa
+00026bf0: 6765 0a20 2020 2020 2020 2020 2020 2069  ge.            i
+00026c00: 6620 6d61 7845 7863 4c6f 6320 3d3d 206c  f maxExcLoc == l
+00026c10: 6f63 3a0a 2020 2020 2020 2020 2020 2020  oc:.            
+00026c20: 2020 2020 6d61 7845 7863 6570 7469 6f6e      maxException
+00026c30: 2e6d 7367 203d 2073 656c 662e 6572 726d  .msg = self.errm
+00026c40: 7367 0a20 2020 2020 2020 2020 2020 2072  sg.            r
+00026c50: 6169 7365 206d 6178 4578 6365 7074 696f  aise maxExceptio
+00026c60: 6e0a 2020 2020 2020 2020 656c 7365 3a0a  n.        else:.
+00026c70: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00026c80: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
+00026c90: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00026ca0: 2020 696e 7374 7269 6e67 2c20 6c6f 632c    instring, loc,
+00026cb0: 2022 6e6f 2064 6566 696e 6564 2061 6c74   "no defined alt
+00026cc0: 6572 6e61 7469 7665 7320 746f 206d 6174  ernatives to mat
+00026cd0: 6368 222c 2073 656c 660a 2020 2020 2020  ch", self.      
+00026ce0: 2020 2020 2020 290a 0a20 2020 2064 6566        )..    def
+00026cf0: 205f 5f69 6f72 5f5f 2873 656c 662c 206f   __ior__(self, o
+00026d00: 7468 6572 293a 0a20 2020 2020 2020 2069  ther):.        i
+00026d10: 6620 6973 696e 7374 616e 6365 286f 7468  f isinstance(oth
+00026d20: 6572 2c20 7374 725f 7479 7065 293a 0a20  er, str_type):. 
+00026d30: 2020 2020 2020 2020 2020 206f 7468 6572             other
+00026d40: 203d 2073 656c 662e 5f6c 6974 6572 616c   = self._literal
+00026d50: 5374 7269 6e67 436c 6173 7328 6f74 6865  StringClass(othe
+00026d60: 7229 0a20 2020 2020 2020 2069 6620 6e6f  r).        if no
+00026d70: 7420 6973 696e 7374 616e 6365 286f 7468  t isinstance(oth
+00026d80: 6572 2c20 5061 7273 6572 456c 656d 656e  er, ParserElemen
+00026d90: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
+00026da0: 7265 7475 726e 204e 6f74 496d 706c 656d  return NotImplem
+00026db0: 656e 7465 640a 2020 2020 2020 2020 7265  ented.        re
+00026dc0: 7475 726e 2073 656c 662e 6170 7065 6e64  turn self.append
+00026dd0: 286f 7468 6572 2920 2023 204d 6174 6368  (other)  # Match
+00026de0: 4669 7273 7428 5b73 656c 662c 206f 7468  First([self, oth
+00026df0: 6572 5d29 0a0a 2020 2020 6465 6620 5f67  er])..    def _g
+00026e00: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
+00026e10: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
+00026e20: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00026e30: 227b 2220 2b20 2220 7c20 222e 6a6f 696e  "{" + " | ".join
+00026e40: 2873 7472 2865 2920 666f 7220 6520 696e  (str(e) for e in
+00026e50: 2073 656c 662e 6578 7072 7329 202b 2022   self.exprs) + "
+00026e60: 7d22 0a0a 2020 2020 6465 6620 5f73 6574  }"..    def _set
+00026e70: 5265 7375 6c74 734e 616d 6528 7365 6c66  ResultsName(self
+00026e80: 2c20 6e61 6d65 2c20 6c69 7374 416c 6c4d  , name, listAllM
+00026e90: 6174 6368 6573 3d46 616c 7365 293a 0a20  atches=False):. 
+00026ea0: 2020 2020 2020 2069 6620 280a 2020 2020         if (.    
+00026eb0: 2020 2020 2020 2020 5f5f 6469 6167 5f5f          __diag__
+00026ec0: 2e77 6172 6e5f 6d75 6c74 6970 6c65 5f74  .warn_multiple_t
+00026ed0: 6f6b 656e 735f 696e 5f6e 616d 6564 5f61  okens_in_named_a
+00026ee0: 6c74 6572 6e61 7469 6f6e 0a20 2020 2020  lternation.     
+00026ef0: 2020 2020 2020 2061 6e64 2044 6961 676e         and Diagn
+00026f00: 6f73 7469 6373 2e77 6172 6e5f 6d75 6c74  ostics.warn_mult
+00026f10: 6970 6c65 5f74 6f6b 656e 735f 696e 5f6e  iple_tokens_in_n
+00026f20: 616d 6564 5f61 6c74 6572 6e61 7469 6f6e  amed_alternation
+00026f30: 0a20 2020 2020 2020 2020 2020 206e 6f74  .            not
+00026f40: 2069 6e20 7365 6c66 2e73 7570 7072 6573   in self.suppres
+00026f50: 735f 7761 726e 696e 6773 5f0a 2020 2020  s_warnings_.    
+00026f60: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
+00026f70: 2020 2069 6620 616e 7928 0a20 2020 2020     if any(.     
+00026f80: 2020 2020 2020 2020 2020 2069 7369 6e73             isins
+00026f90: 7461 6e63 6528 652c 2041 6e64 290a 2020  tance(e, And).  
+00026fa0: 2020 2020 2020 2020 2020 2020 2020 616e                an
+00026fb0: 6420 4469 6167 6e6f 7374 6963 732e 7761  d Diagnostics.wa
+00026fc0: 726e 5f6d 756c 7469 706c 655f 746f 6b65  rn_multiple_toke
+00026fd0: 6e73 5f69 6e5f 6e61 6d65 645f 616c 7465  ns_in_named_alte
+00026fe0: 726e 6174 696f 6e0a 2020 2020 2020 2020  rnation.        
+00026ff0: 2020 2020 2020 2020 6e6f 7420 696e 2065          not in e
+00027000: 2e73 7570 7072 6573 735f 7761 726e 696e  .suppress_warnin
+00027010: 6773 5f0a 2020 2020 2020 2020 2020 2020  gs_.            
+00027020: 2020 2020 666f 7220 6520 696e 2073 656c      for e in sel
+00027030: 662e 6578 7072 730a 2020 2020 2020 2020  f.exprs.        
+00027040: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
+00027050: 2020 2020 2020 2077 6172 6e69 6e67 732e         warnings.
+00027060: 7761 726e 280a 2020 2020 2020 2020 2020  warn(.          
+00027070: 2020 2020 2020 2020 2020 227b 7d3a 2073            "{}: s
+00027080: 6574 7469 6e67 2072 6573 756c 7473 206e  etting results n
+00027090: 616d 6520 7b21 727d 206f 6e20 7b7d 2065  ame {!r} on {} e
+000270a0: 7870 7265 7373 696f 6e20 220a 2020 2020  xpression ".    
+000270b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000270c0: 2277 696c 6c20 7265 7475 726e 2061 206c  "will return a l
+000270d0: 6973 7420 6f66 2061 6c6c 2070 6172 7365  ist of all parse
+000270e0: 6420 746f 6b65 6e73 2069 6e20 616e 2041  d tokens in an A
+000270f0: 6e64 2061 6c74 6572 6e61 7469 7665 2c20  nd alternative, 
+00027100: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00027110: 2020 2020 2020 2269 6e20 7072 696f 7220        "in prior 
+00027120: 7665 7273 696f 6e73 206f 6e6c 7920 7468  versions only th
+00027130: 6520 6669 7273 7420 746f 6b65 6e20 7761  e first token wa
+00027140: 7320 7265 7475 726e 6564 3b20 656e 636c  s returned; encl
+00027150: 6f73 6520 220a 2020 2020 2020 2020 2020  ose ".          
+00027160: 2020 2020 2020 2020 2020 2263 6f6e 7461            "conta
+00027170: 696e 6564 2061 7267 756d 656e 7420 696e  ined argument in
+00027180: 2047 726f 7570 222e 666f 726d 6174 280a   Group".format(.
+00027190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000271a0: 2020 2020 2020 2020 2277 6172 6e5f 6d75          "warn_mu
+000271b0: 6c74 6970 6c65 5f74 6f6b 656e 735f 696e  ltiple_tokens_in
+000271c0: 5f6e 616d 6564 5f61 6c74 6572 6e61 7469  _named_alternati
+000271d0: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
+000271e0: 2020 2020 2020 2020 2020 2020 206e 616d               nam
+000271f0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00027200: 2020 2020 2020 2020 2020 2074 7970 6528             type(
+00027210: 7365 6c66 292e 5f5f 6e61 6d65 5f5f 2c0a  self).__name__,.
+00027220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027230: 2020 2020 292c 0a20 2020 2020 2020 2020      ),.         
+00027240: 2020 2020 2020 2020 2020 2073 7461 636b             stack
+00027250: 6c65 7665 6c3d 332c 0a20 2020 2020 2020  level=3,.       
+00027260: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+00027270: 2020 2020 7265 7475 726e 2073 7570 6572      return super
+00027280: 2829 2e5f 7365 7452 6573 756c 7473 4e61  ()._setResultsNa
+00027290: 6d65 286e 616d 652c 206c 6973 7441 6c6c  me(name, listAll
+000272a0: 4d61 7463 6865 7329 0a0a 0a63 6c61 7373  Matches)...class
+000272b0: 2045 6163 6828 5061 7273 6545 7870 7265   Each(ParseExpre
+000272c0: 7373 696f 6e29 3a0a 2020 2020 2222 2252  ssion):.    """R
+000272d0: 6571 7569 7265 7320 616c 6c20 6769 7665  equires all give
+000272e0: 6e20 3a63 6c61 7373 3a60 5061 7273 6545  n :class:`ParseE
+000272f0: 7870 7265 7373 696f 6e60 2073 2074 6f20  xpression` s to 
+00027300: 6265 2066 6f75 6e64 2c20 6275 7420 696e  be found, but in
+00027310: 0a20 2020 2061 6e79 206f 7264 6572 2e20  .    any order. 
+00027320: 4578 7072 6573 7369 6f6e 7320 6d61 7920  Expressions may 
+00027330: 6265 2073 6570 6172 6174 6564 2062 7920  be separated by 
+00027340: 7768 6974 6573 7061 6365 2e0a 0a20 2020  whitespace...   
+00027350: 204d 6179 2062 6520 636f 6e73 7472 7563   May be construc
+00027360: 7465 6420 7573 696e 6720 7468 6520 6060  ted using the ``
+00027370: 2726 2760 6020 6f70 6572 6174 6f72 2e0a  '&'`` operator..
+00027380: 0a20 2020 2045 7861 6d70 6c65 3a3a 0a0a  .    Example::..
+00027390: 2020 2020 2020 2020 636f 6c6f 7220 3d20          color = 
+000273a0: 6f6e 655f 6f66 2822 5245 4420 4f52 414e  one_of("RED ORAN
+000273b0: 4745 2059 454c 4c4f 5720 4752 4545 4e20  GE YELLOW GREEN 
+000273c0: 424c 5545 2050 5552 504c 4520 424c 4143  BLUE PURPLE BLAC
+000273d0: 4b20 5748 4954 4520 4252 4f57 4e22 290a  K WHITE BROWN").
+000273e0: 2020 2020 2020 2020 7368 6170 655f 7479          shape_ty
+000273f0: 7065 203d 206f 6e65 5f6f 6628 2253 5155  pe = one_of("SQU
+00027400: 4152 4520 4349 5243 4c45 2054 5249 414e  ARE CIRCLE TRIAN
+00027410: 474c 4520 5354 4152 2048 4558 4147 4f4e  GLE STAR HEXAGON
+00027420: 204f 4354 4147 4f4e 2229 0a20 2020 2020   OCTAGON").     
+00027430: 2020 2069 6e74 6567 6572 203d 2057 6f72     integer = Wor
+00027440: 6428 6e75 6d73 290a 2020 2020 2020 2020  d(nums).        
+00027450: 7368 6170 655f 6174 7472 203d 2022 7368  shape_attr = "sh
+00027460: 6170 653a 2220 2b20 7368 6170 655f 7479  ape:" + shape_ty
+00027470: 7065 2822 7368 6170 6522 290a 2020 2020  pe("shape").    
+00027480: 2020 2020 706f 736e 5f61 7474 7220 3d20      posn_attr = 
+00027490: 2270 6f73 6e3a 2220 2b20 4772 6f75 7028  "posn:" + Group(
+000274a0: 696e 7465 6765 7228 2278 2229 202b 2027  integer("x") + '
+000274b0: 2c27 202b 2069 6e74 6567 6572 2822 7922  ,' + integer("y"
+000274c0: 2929 2822 706f 736e 2229 0a20 2020 2020  ))("posn").     
+000274d0: 2020 2063 6f6c 6f72 5f61 7474 7220 3d20     color_attr = 
+000274e0: 2263 6f6c 6f72 3a22 202b 2063 6f6c 6f72  "color:" + color
+000274f0: 2822 636f 6c6f 7222 290a 2020 2020 2020  ("color").      
+00027500: 2020 7369 7a65 5f61 7474 7220 3d20 2273    size_attr = "s
+00027510: 697a 653a 2220 2b20 696e 7465 6765 7228  ize:" + integer(
+00027520: 2273 697a 6522 290a 0a20 2020 2020 2020  "size")..       
+00027530: 2023 2075 7365 2045 6163 6820 2875 7369   # use Each (usi
+00027540: 6e67 206f 7065 7261 746f 7220 2726 2729  ng operator '&')
+00027550: 2074 6f20 6163 6365 7074 2061 7474 7269   to accept attri
+00027560: 6275 7465 7320 696e 2061 6e79 206f 7264  butes in any ord
+00027570: 6572 0a20 2020 2020 2020 2023 2028 7368  er.        # (sh
+00027580: 6170 6520 616e 6420 706f 736e 2061 7265  ape and posn are
+00027590: 2072 6571 7569 7265 642c 2063 6f6c 6f72   required, color
+000275a0: 2061 6e64 2073 697a 6520 6172 6520 6f70   and size are op
+000275b0: 7469 6f6e 616c 290a 2020 2020 2020 2020  tional).        
+000275c0: 7368 6170 655f 7370 6563 203d 2073 6861  shape_spec = sha
+000275d0: 7065 5f61 7474 7220 2620 706f 736e 5f61  pe_attr & posn_a
+000275e0: 7474 7220 2620 4f70 7428 636f 6c6f 725f  ttr & Opt(color_
+000275f0: 6174 7472 2920 2620 4f70 7428 7369 7a65  attr) & Opt(size
+00027600: 5f61 7474 7229 0a0a 2020 2020 2020 2020  _attr)..        
+00027610: 7368 6170 655f 7370 6563 2e72 756e 5f74  shape_spec.run_t
+00027620: 6573 7473 2827 2727 0a20 2020 2020 2020  ests('''.       
+00027630: 2020 2020 2073 6861 7065 3a20 5351 5541       shape: SQUA
+00027640: 5245 2063 6f6c 6f72 3a20 424c 4143 4b20  RE color: BLACK 
+00027650: 706f 736e 3a20 3130 302c 2031 3230 0a20  posn: 100, 120. 
+00027660: 2020 2020 2020 2020 2020 2073 6861 7065             shape
+00027670: 3a20 4349 5243 4c45 2073 697a 653a 2035  : CIRCLE size: 5
+00027680: 3020 636f 6c6f 723a 2042 4c55 4520 706f  0 color: BLUE po
+00027690: 736e 3a20 3530 2c38 300a 2020 2020 2020  sn: 50,80.      
+000276a0: 2020 2020 2020 636f 6c6f 723a 4752 4545        color:GREE
+000276b0: 4e20 7369 7a65 3a32 3020 7368 6170 653a  N size:20 shape:
+000276c0: 5452 4941 4e47 4c45 2070 6f73 6e3a 3230  TRIANGLE posn:20
+000276d0: 2c34 300a 2020 2020 2020 2020 2020 2020  ,40.            
+000276e0: 2727 270a 2020 2020 2020 2020 2020 2020  '''.            
+000276f0: 290a 0a20 2020 2070 7269 6e74 733a 3a0a  )..    prints::.
+00027700: 0a20 2020 2020 2020 2073 6861 7065 3a20  .        shape: 
+00027710: 5351 5541 5245 2063 6f6c 6f72 3a20 424c  SQUARE color: BL
+00027720: 4143 4b20 706f 736e 3a20 3130 302c 2031  ACK posn: 100, 1
+00027730: 3230 0a20 2020 2020 2020 205b 2773 6861  20.        ['sha
+00027740: 7065 3a27 2c20 2753 5155 4152 4527 2c20  pe:', 'SQUARE', 
+00027750: 2763 6f6c 6f72 3a27 2c20 2742 4c41 434b  'color:', 'BLACK
+00027760: 272c 2027 706f 736e 3a27 2c20 5b27 3130  ', 'posn:', ['10
+00027770: 3027 2c20 272c 272c 2027 3132 3027 5d5d  0', ',', '120']]
+00027780: 0a20 2020 2020 2020 202d 2063 6f6c 6f72  .        - color
+00027790: 3a20 424c 4143 4b0a 2020 2020 2020 2020  : BLACK.        
+000277a0: 2d20 706f 736e 3a20 5b27 3130 3027 2c20  - posn: ['100', 
+000277b0: 272c 272c 2027 3132 3027 5d0a 2020 2020  ',', '120'].    
+000277c0: 2020 2020 2020 2d20 783a 2031 3030 0a20        - x: 100. 
+000277d0: 2020 2020 2020 2020 202d 2079 3a20 3132           - y: 12
+000277e0: 300a 2020 2020 2020 2020 2d20 7368 6170  0.        - shap
+000277f0: 653a 2053 5155 4152 450a 0a0a 2020 2020  e: SQUARE...    
+00027800: 2020 2020 7368 6170 653a 2043 4952 434c      shape: CIRCL
+00027810: 4520 7369 7a65 3a20 3530 2063 6f6c 6f72  E size: 50 color
+00027820: 3a20 424c 5545 2070 6f73 6e3a 2035 302c  : BLUE posn: 50,
+00027830: 3830 0a20 2020 2020 2020 205b 2773 6861  80.        ['sha
+00027840: 7065 3a27 2c20 2743 4952 434c 4527 2c20  pe:', 'CIRCLE', 
+00027850: 2773 697a 653a 272c 2027 3530 272c 2027  'size:', '50', '
+00027860: 636f 6c6f 723a 272c 2027 424c 5545 272c  color:', 'BLUE',
+00027870: 2027 706f 736e 3a27 2c20 5b27 3530 272c   'posn:', ['50',
+00027880: 2027 2c27 2c20 2738 3027 5d5d 0a20 2020   ',', '80']].   
+00027890: 2020 2020 202d 2063 6f6c 6f72 3a20 424c       - color: BL
+000278a0: 5545 0a20 2020 2020 2020 202d 2070 6f73  UE.        - pos
+000278b0: 6e3a 205b 2735 3027 2c20 272c 272c 2027  n: ['50', ',', '
+000278c0: 3830 275d 0a20 2020 2020 2020 2020 202d  80'].          -
+000278d0: 2078 3a20 3530 0a20 2020 2020 2020 2020   x: 50.         
+000278e0: 202d 2079 3a20 3830 0a20 2020 2020 2020   - y: 80.       
+000278f0: 202d 2073 6861 7065 3a20 4349 5243 4c45   - shape: CIRCLE
+00027900: 0a20 2020 2020 2020 202d 2073 697a 653a  .        - size:
+00027910: 2035 300a 0a0a 2020 2020 2020 2020 636f   50...        co
+00027920: 6c6f 723a 2047 5245 454e 2073 697a 653a  lor: GREEN size:
+00027930: 2032 3020 7368 6170 653a 2054 5249 414e   20 shape: TRIAN
+00027940: 474c 4520 706f 736e 3a20 3230 2c34 300a  GLE posn: 20,40.
+00027950: 2020 2020 2020 2020 5b27 636f 6c6f 723a          ['color:
+00027960: 272c 2027 4752 4545 4e27 2c20 2773 697a  ', 'GREEN', 'siz
+00027970: 653a 272c 2027 3230 272c 2027 7368 6170  e:', '20', 'shap
+00027980: 653a 272c 2027 5452 4941 4e47 4c45 272c  e:', 'TRIANGLE',
+00027990: 2027 706f 736e 3a27 2c20 5b27 3230 272c   'posn:', ['20',
+000279a0: 2027 2c27 2c20 2734 3027 5d5d 0a20 2020   ',', '40']].   
+000279b0: 2020 2020 202d 2063 6f6c 6f72 3a20 4752       - color: GR
+000279c0: 4545 4e0a 2020 2020 2020 2020 2d20 706f  EEN.        - po
+000279d0: 736e 3a20 5b27 3230 272c 2027 2c27 2c20  sn: ['20', ',', 
+000279e0: 2734 3027 5d0a 2020 2020 2020 2020 2020  '40'].          
+000279f0: 2d20 783a 2032 300a 2020 2020 2020 2020  - x: 20.        
+00027a00: 2020 2d20 793a 2034 300a 2020 2020 2020    - y: 40.      
+00027a10: 2020 2d20 7368 6170 653a 2054 5249 414e    - shape: TRIAN
+00027a20: 474c 450a 2020 2020 2020 2020 2d20 7369  GLE.        - si
+00027a30: 7a65 3a20 3230 0a20 2020 2022 2222 0a0a  ze: 20.    """..
+00027a40: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+00027a50: 2873 656c 662c 2065 7870 7273 3a20 7479  (self, exprs: ty
+00027a60: 7069 6e67 2e49 7465 7261 626c 655b 5061  ping.Iterable[Pa
+00027a70: 7273 6572 456c 656d 656e 745d 2c20 7361  rserElement], sa
+00027a80: 7665 6c69 7374 3a20 626f 6f6c 203d 2054  velist: bool = T
+00027a90: 7275 6529 3a0a 2020 2020 2020 2020 7375  rue):.        su
+00027aa0: 7065 7228 292e 5f5f 696e 6974 5f5f 2865  per().__init__(e
+00027ab0: 7870 7273 2c20 7361 7665 6c69 7374 290a  xprs, savelist).
+00027ac0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00027ad0: 6578 7072 733a 0a20 2020 2020 2020 2020  exprs:.         
+00027ae0: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
+00027af0: 6e45 6d70 7479 203d 2061 6c6c 2865 2e6d  nEmpty = all(e.m
+00027b00: 6179 5265 7475 726e 456d 7074 7920 666f  ayReturnEmpty fo
+00027b10: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
+00027b20: 7329 0a20 2020 2020 2020 2065 6c73 653a  s).        else:
+00027b30: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00027b40: 662e 6d61 7952 6574 7572 6e45 6d70 7479  f.mayReturnEmpty
+00027b50: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
+00027b60: 7365 6c66 2e73 6b69 7057 6869 7465 7370  self.skipWhitesp
+00027b70: 6163 6520 3d20 5472 7565 0a20 2020 2020  ace = True.     
+00027b80: 2020 2073 656c 662e 696e 6974 4578 7072     self.initExpr
+00027b90: 4772 6f75 7073 203d 2054 7275 650a 2020  Groups = True.  
+00027ba0: 2020 2020 2020 7365 6c66 2e73 6176 6541        self.saveA
+00027bb0: 734c 6973 7420 3d20 5472 7565 0a0a 2020  sList = True..  
+00027bc0: 2020 6465 6620 5f5f 6961 6e64 5f5f 2873    def __iand__(s
+00027bd0: 656c 662c 206f 7468 6572 293a 0a20 2020  elf, other):.   
+00027be0: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+00027bf0: 6365 286f 7468 6572 2c20 7374 725f 7479  ce(other, str_ty
+00027c00: 7065 293a 0a20 2020 2020 2020 2020 2020  pe):.           
+00027c10: 206f 7468 6572 203d 2073 656c 662e 5f6c   other = self._l
+00027c20: 6974 6572 616c 5374 7269 6e67 436c 6173  iteralStringClas
+00027c30: 7328 6f74 6865 7229 0a20 2020 2020 2020  s(other).       
+00027c40: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
+00027c50: 6365 286f 7468 6572 2c20 5061 7273 6572  ce(other, Parser
+00027c60: 456c 656d 656e 7429 3a0a 2020 2020 2020  Element):.      
+00027c70: 2020 2020 2020 7265 7475 726e 204e 6f74        return Not
+00027c80: 496d 706c 656d 656e 7465 640a 2020 2020  Implemented.    
+00027c90: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00027ca0: 6170 7065 6e64 286f 7468 6572 2920 2023  append(other)  #
+00027cb0: 2045 6163 6828 5b73 656c 662c 206f 7468   Each([self, oth
+00027cc0: 6572 5d29 0a0a 2020 2020 6465 6620 7374  er])..    def st
+00027cd0: 7265 616d 6c69 6e65 2873 656c 6629 202d  reamline(self) -
+00027ce0: 3e20 5061 7273 6572 456c 656d 656e 743a  > ParserElement:
+00027cf0: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+00027d00: 2e73 7472 6561 6d6c 696e 6528 290a 2020  .streamline().  
+00027d10: 2020 2020 2020 6966 2073 656c 662e 6578        if self.ex
+00027d20: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
+00027d30: 2073 656c 662e 6d61 7952 6574 7572 6e45   self.mayReturnE
+00027d40: 6d70 7479 203d 2061 6c6c 2865 2e6d 6179  mpty = all(e.may
+00027d50: 5265 7475 726e 456d 7074 7920 666f 7220  ReturnEmpty for 
+00027d60: 6520 696e 2073 656c 662e 6578 7072 7329  e in self.exprs)
+00027d70: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00027d80: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00027d90: 6d61 7952 6574 7572 6e45 6d70 7479 203d  mayReturnEmpty =
+00027da0: 2054 7275 650a 2020 2020 2020 2020 7265   True.        re
+00027db0: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
+00027dc0: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
+00027dd0: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
+00027de0: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
+00027df0: 293a 0a20 2020 2020 2020 2069 6620 7365  ):.        if se
+00027e00: 6c66 2e69 6e69 7445 7870 7247 726f 7570  lf.initExprGroup
+00027e10: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+00027e20: 656c 662e 6f70 7431 6d61 7020 3d20 6469  elf.opt1map = di
+00027e30: 6374 280a 2020 2020 2020 2020 2020 2020  ct(.            
+00027e40: 2020 2020 2869 6428 652e 6578 7072 292c      (id(e.expr),
+00027e50: 2065 2920 666f 7220 6520 696e 2073 656c   e) for e in sel
+00027e60: 662e 6578 7072 7320 6966 2069 7369 6e73  f.exprs if isins
+00027e70: 7461 6e63 6528 652c 204f 7074 290a 2020  tance(e, Opt).  
+00027e80: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+00027e90: 2020 2020 2020 2020 6f70 7431 203d 205b          opt1 = [
+00027ea0: 652e 6578 7072 2066 6f72 2065 2069 6e20  e.expr for e in 
+00027eb0: 7365 6c66 2e65 7870 7273 2069 6620 6973  self.exprs if is
+00027ec0: 696e 7374 616e 6365 2865 2c20 4f70 7429  instance(e, Opt)
+00027ed0: 5d0a 2020 2020 2020 2020 2020 2020 6f70  ].            op
+00027ee0: 7432 203d 205b 0a20 2020 2020 2020 2020  t2 = [.         
+00027ef0: 2020 2020 2020 2065 0a20 2020 2020 2020         e.       
+00027f00: 2020 2020 2020 2020 2066 6f72 2065 2069           for e i
+00027f10: 6e20 7365 6c66 2e65 7870 7273 0a20 2020  n self.exprs.   
+00027f20: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00027f30: 652e 6d61 7952 6574 7572 6e45 6d70 7479  e.mayReturnEmpty
+00027f40: 2061 6e64 206e 6f74 2069 7369 6e73 7461   and not isinsta
+00027f50: 6e63 6528 652c 2028 4f70 742c 2052 6567  nce(e, (Opt, Reg
+00027f60: 6578 2c20 5a65 726f 4f72 4d6f 7265 2929  ex, ZeroOrMore))
+00027f70: 0a20 2020 2020 2020 2020 2020 205d 0a20  .            ]. 
+00027f80: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00027f90: 6f70 7469 6f6e 616c 7320 3d20 6f70 7431  optionals = opt1
+00027fa0: 202b 206f 7074 320a 2020 2020 2020 2020   + opt2.        
+00027fb0: 2020 2020 7365 6c66 2e6d 756c 7469 6f70      self.multiop
+00027fc0: 7469 6f6e 616c 7320 3d20 5b0a 2020 2020  tionals = [.    
+00027fd0: 2020 2020 2020 2020 2020 2020 652e 6578              e.ex
+00027fe0: 7072 2e73 6574 5f72 6573 756c 7473 5f6e  pr.set_results_n
+00027ff0: 616d 6528 652e 7265 7375 6c74 734e 616d  ame(e.resultsNam
+00028000: 652c 206c 6973 745f 616c 6c5f 6d61 7463  e, list_all_matc
+00028010: 6865 733d 5472 7565 290a 2020 2020 2020  hes=True).      
+00028020: 2020 2020 2020 2020 2020 666f 7220 6520            for e 
+00028030: 696e 2073 656c 662e 6578 7072 730a 2020  in self.exprs.  
+00028040: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00028050: 2069 7369 6e73 7461 6e63 6528 652c 205f   isinstance(e, _
+00028060: 4d75 6c74 6970 6c65 4d61 7463 6829 0a20  MultipleMatch). 
+00028070: 2020 2020 2020 2020 2020 205d 0a20 2020             ].   
+00028080: 2020 2020 2020 2020 2073 656c 662e 6d75           self.mu
+00028090: 6c74 6972 6571 7569 7265 6420 3d20 5b0a  ltirequired = [.
+000280a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000280b0: 652e 6578 7072 2e73 6574 5f72 6573 756c  e.expr.set_resul
+000280c0: 7473 5f6e 616d 6528 652e 7265 7375 6c74  ts_name(e.result
+000280d0: 734e 616d 652c 206c 6973 745f 616c 6c5f  sName, list_all_
+000280e0: 6d61 7463 6865 733d 5472 7565 290a 2020  matches=True).  
+000280f0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00028100: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
+00028110: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+00028120: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+00028130: 652c 204f 6e65 4f72 4d6f 7265 290a 2020  e, OneOrMore).  
+00028140: 2020 2020 2020 2020 2020 5d0a 2020 2020            ].    
+00028150: 2020 2020 2020 2020 7365 6c66 2e72 6571          self.req
+00028160: 7569 7265 6420 3d20 5b0a 2020 2020 2020  uired = [.      
+00028170: 2020 2020 2020 2020 2020 6520 666f 7220            e for 
+00028180: 6520 696e 2073 656c 662e 6578 7072 7320  e in self.exprs 
+00028190: 6966 206e 6f74 2069 7369 6e73 7461 6e63  if not isinstanc
+000281a0: 6528 652c 2028 4f70 742c 205a 6572 6f4f  e(e, (Opt, ZeroO
+000281b0: 724d 6f72 652c 204f 6e65 4f72 4d6f 7265  rMore, OneOrMore
+000281c0: 2929 0a20 2020 2020 2020 2020 2020 205d  )).            ]
+000281d0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+000281e0: 662e 7265 7175 6972 6564 202b 3d20 7365  f.required += se
+000281f0: 6c66 2e6d 756c 7469 7265 7175 6972 6564  lf.multirequired
+00028200: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00028210: 662e 696e 6974 4578 7072 4772 6f75 7073  f.initExprGroups
+00028220: 203d 2046 616c 7365 0a0a 2020 2020 2020   = False..      
+00028230: 2020 746d 704c 6f63 203d 206c 6f63 0a20    tmpLoc = loc. 
+00028240: 2020 2020 2020 2074 6d70 5265 7164 203d         tmpReqd =
+00028250: 2073 656c 662e 7265 7175 6972 6564 5b3a   self.required[:
+00028260: 5d0a 2020 2020 2020 2020 746d 704f 7074  ].        tmpOpt
+00028270: 203d 2073 656c 662e 6f70 7469 6f6e 616c   = self.optional
+00028280: 735b 3a5d 0a20 2020 2020 2020 206d 756c  s[:].        mul
+00028290: 7469 7320 3d20 7365 6c66 2e6d 756c 7469  tis = self.multi
+000282a0: 6f70 7469 6f6e 616c 735b 3a5d 0a20 2020  optionals[:].   
+000282b0: 2020 2020 206d 6174 6368 4f72 6465 7220       matchOrder 
+000282c0: 3d20 5b5d 0a0a 2020 2020 2020 2020 6b65  = []..        ke
+000282d0: 6570 4d61 7463 6869 6e67 203d 2054 7275  epMatching = Tru
+000282e0: 650a 2020 2020 2020 2020 6661 696c 6564  e.        failed
+000282f0: 203d 205b 5d0a 2020 2020 2020 2020 6661   = [].        fa
+00028300: 7461 6c73 203d 205b 5d0a 2020 2020 2020  tals = [].      
+00028310: 2020 7768 696c 6520 6b65 6570 4d61 7463    while keepMatc
+00028320: 6869 6e67 3a0a 2020 2020 2020 2020 2020  hing:.          
+00028330: 2020 746d 7045 7870 7273 203d 2074 6d70    tmpExprs = tmp
+00028340: 5265 7164 202b 2074 6d70 4f70 7420 2b20  Reqd + tmpOpt + 
+00028350: 6d75 6c74 6973 0a20 2020 2020 2020 2020  multis.         
+00028360: 2020 2066 6169 6c65 642e 636c 6561 7228     failed.clear(
+00028370: 290a 2020 2020 2020 2020 2020 2020 6661  ).            fa
+00028380: 7461 6c73 2e63 6c65 6172 2829 0a20 2020  tals.clear().   
+00028390: 2020 2020 2020 2020 2066 6f72 2065 2069           for e i
+000283a0: 6e20 746d 7045 7870 7273 3a0a 2020 2020  n tmpExprs:.    
+000283b0: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+000283c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000283d0: 2020 2020 2074 6d70 4c6f 6320 3d20 652e       tmpLoc = e.
+000283e0: 7472 795f 7061 7273 6528 696e 7374 7269  try_parse(instri
+000283f0: 6e67 2c20 746d 704c 6f63 2c20 7261 6973  ng, tmpLoc, rais
+00028400: 655f 6661 7461 6c3d 5472 7565 290a 2020  e_fatal=True).  
+00028410: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+00028420: 6365 7074 2050 6172 7365 4661 7461 6c45  cept ParseFatalE
+00028430: 7863 6570 7469 6f6e 2061 7320 7066 653a  xception as pfe:
+00028440: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028450: 2020 2020 2070 6665 2e5f 5f74 7261 6365       pfe.__trace
+00028460: 6261 636b 5f5f 203d 204e 6f6e 650a 2020  back__ = None.  
 00028470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028480: 2020 2066 6169 6c65 642e 6170 7065 6e64     failed.append
-00028490: 2865 290a 2020 2020 2020 2020 2020 2020  (e).            
-000284a0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-000284b0: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
-000284c0: 7463 684f 7264 6572 2e61 7070 656e 6428  tchOrder.append(
-000284d0: 7365 6c66 2e6f 7074 316d 6170 2e67 6574  self.opt1map.get
-000284e0: 2869 6428 6529 2c20 6529 290a 2020 2020  (id(e), e)).    
-000284f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028500: 6966 2065 2069 6e20 746d 7052 6571 643a  if e in tmpReqd:
-00028510: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028520: 2020 2020 2020 2020 2074 6d70 5265 7164           tmpReqd
-00028530: 2e72 656d 6f76 6528 6529 0a20 2020 2020  .remove(e).     
-00028540: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00028550: 6c69 6620 6520 696e 2074 6d70 4f70 743a  lif e in tmpOpt:
-00028560: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028570: 2020 2020 2020 2020 2074 6d70 4f70 742e           tmpOpt.
-00028580: 7265 6d6f 7665 2865 290a 2020 2020 2020  remove(e).      
-00028590: 2020 2020 2020 6966 206c 656e 2866 6169        if len(fai
-000285a0: 6c65 6429 203d 3d20 6c65 6e28 746d 7045  led) == len(tmpE
-000285b0: 7870 7273 293a 0a20 2020 2020 2020 2020  xprs):.         
-000285c0: 2020 2020 2020 206b 6565 704d 6174 6368         keepMatch
-000285d0: 696e 6720 3d20 4661 6c73 650a 0a20 2020  ing = False..   
-000285e0: 2020 2020 2023 206c 6f6f 6b20 666f 7220       # look for 
-000285f0: 616e 7920 5061 7273 6546 6174 616c 4578  any ParseFatalEx
-00028600: 6365 7074 696f 6e73 0a20 2020 2020 2020  ceptions.       
-00028610: 2069 6620 6661 7461 6c73 3a0a 2020 2020   if fatals:.    
-00028620: 2020 2020 2020 2020 6966 206c 656e 2866          if len(f
-00028630: 6174 616c 7329 203e 2031 3a0a 2020 2020  atals) > 1:.    
-00028640: 2020 2020 2020 2020 2020 2020 6661 7461              fata
-00028650: 6c73 2e73 6f72 7428 6b65 793d 6c61 6d62  ls.sort(key=lamb
-00028660: 6461 2065 3a20 2d65 2e6c 6f63 290a 2020  da e: -e.loc).  
-00028670: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00028680: 2066 6174 616c 735b 305d 2e6c 6f63 203d   fatals[0].loc =
-00028690: 3d20 6661 7461 6c73 5b31 5d2e 6c6f 633a  = fatals[1].loc:
-000286a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000286b0: 2020 2020 2066 6174 616c 732e 736f 7274       fatals.sort
-000286c0: 286b 6579 3d6c 616d 6264 6120 653a 2028  (key=lambda e: (
-000286d0: 2d65 2e6c 6f63 2c20 2d6c 656e 2873 7472  -e.loc, -len(str
-000286e0: 2865 2e70 6172 7365 725f 656c 656d 656e  (e.parser_elemen
-000286f0: 7429 2929 290a 2020 2020 2020 2020 2020  t)))).          
-00028700: 2020 6d61 785f 6661 7461 6c20 3d20 6661    max_fatal = fa
-00028710: 7461 6c73 5b30 5d0a 2020 2020 2020 2020  tals[0].        
-00028720: 2020 2020 7261 6973 6520 6d61 785f 6661      raise max_fa
-00028730: 7461 6c0a 0a20 2020 2020 2020 2069 6620  tal..        if 
-00028740: 746d 7052 6571 643a 0a20 2020 2020 2020  tmpReqd:.       
-00028750: 2020 2020 206d 6973 7369 6e67 203d 2022       missing = "
-00028760: 2c20 222e 6a6f 696e 285b 7374 7228 6529  , ".join([str(e)
-00028770: 2066 6f72 2065 2069 6e20 746d 7052 6571   for e in tmpReq
-00028780: 645d 290a 2020 2020 2020 2020 2020 2020  d]).            
-00028790: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
-000287a0: 7469 6f6e 280a 2020 2020 2020 2020 2020  tion(.          
-000287b0: 2020 2020 2020 696e 7374 7269 6e67 2c0a        instring,.
-000287c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000287d0: 6c6f 632c 0a20 2020 2020 2020 2020 2020  loc,.           
-000287e0: 2020 2020 2066 224d 6973 7369 6e67 206f       f"Missing o
-000287f0: 6e65 206f 7220 6d6f 7265 2072 6571 7569  ne or more requi
-00028800: 7265 6420 656c 656d 656e 7473 2028 7b6d  red elements ({m
-00028810: 6973 7369 6e67 7d29 222c 0a20 2020 2020  issing})",.     
-00028820: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
-00028830: 2020 2320 6164 6420 616e 7920 756e 6d61    # add any unma
-00028840: 7463 6865 6420 4f70 7473 2c20 696e 2063  tched Opts, in c
-00028850: 6173 6520 7468 6579 2068 6176 6520 6465  ase they have de
-00028860: 6661 756c 7420 7661 6c75 6573 2064 6566  fault values def
-00028870: 696e 6564 0a20 2020 2020 2020 206d 6174  ined.        mat
-00028880: 6368 4f72 6465 7220 2b3d 205b 6520 666f  chOrder += [e fo
-00028890: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
-000288a0: 7320 6966 2069 7369 6e73 7461 6e63 6528  s if isinstance(
-000288b0: 652c 204f 7074 2920 616e 6420 652e 6578  e, Opt) and e.ex
-000288c0: 7072 2069 6e20 746d 704f 7074 5d0a 0a20  pr in tmpOpt].. 
-000288d0: 2020 2020 2020 2074 6f74 616c 5f72 6573         total_res
-000288e0: 756c 7473 203d 2050 6172 7365 5265 7375  ults = ParseResu
-000288f0: 6c74 7328 5b5d 290a 2020 2020 2020 2020  lts([]).        
-00028900: 666f 7220 6520 696e 206d 6174 6368 4f72  for e in matchOr
-00028910: 6465 723a 0a20 2020 2020 2020 2020 2020  der:.           
-00028920: 206c 6f63 2c20 7265 7375 6c74 7320 3d20   loc, results = 
-00028930: 652e 5f70 6172 7365 2869 6e73 7472 696e  e._parse(instrin
-00028940: 672c 206c 6f63 2c20 646f 4163 7469 6f6e  g, loc, doAction
-00028950: 7329 0a20 2020 2020 2020 2020 2020 2074  s).            t
-00028960: 6f74 616c 5f72 6573 756c 7473 202b 3d20  otal_results += 
-00028970: 7265 7375 6c74 730a 0a20 2020 2020 2020  results..       
-00028980: 2072 6574 7572 6e20 6c6f 632c 2074 6f74   return loc, tot
-00028990: 616c 5f72 6573 756c 7473 0a0a 2020 2020  al_results..    
-000289a0: 6465 6620 5f67 656e 6572 6174 6544 6566  def _generateDef
-000289b0: 6175 6c74 4e61 6d65 2873 656c 6629 202d  aultName(self) -
-000289c0: 3e20 7374 723a 0a20 2020 2020 2020 2072  > str:.        r
-000289d0: 6574 7572 6e20 227b 2220 2b20 2220 2620  eturn "{" + " & 
-000289e0: 222e 6a6f 696e 2873 7472 2865 2920 666f  ".join(str(e) fo
-000289f0: 7220 6520 696e 2073 656c 662e 6578 7072  r e in self.expr
-00028a00: 7329 202b 2022 7d22 0a0a 0a63 6c61 7373  s) + "}"...class
-00028a10: 2050 6172 7365 456c 656d 656e 7445 6e68   ParseElementEnh
-00028a20: 616e 6365 2850 6172 7365 7245 6c65 6d65  ance(ParserEleme
-00028a30: 6e74 293a 0a20 2020 2022 2222 4162 7374  nt):.    """Abst
-00028a40: 7261 6374 2073 7562 636c 6173 7320 6f66  ract subclass of
-00028a50: 203a 636c 6173 733a 6050 6172 7365 7245   :class:`ParserE
-00028a60: 6c65 6d65 6e74 602c 2066 6f72 2063 6f6d  lement`, for com
-00028a70: 6269 6e69 6e67 2061 6e64 0a20 2020 2070  bining and.    p
-00028a80: 6f73 742d 7072 6f63 6573 7369 6e67 2070  ost-processing p
-00028a90: 6172 7365 6420 746f 6b65 6e73 2e0a 2020  arsed tokens..  
-00028aa0: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
-00028ab0: 5f69 6e69 745f 5f28 7365 6c66 2c20 6578  _init__(self, ex
-00028ac0: 7072 3a20 556e 696f 6e5b 5061 7273 6572  pr: Union[Parser
-00028ad0: 456c 656d 656e 742c 2073 7472 5d2c 2073  Element, str], s
-00028ae0: 6176 656c 6973 743a 2062 6f6f 6c20 3d20  avelist: bool = 
-00028af0: 4661 6c73 6529 3a0a 2020 2020 2020 2020  False):.        
-00028b00: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
-00028b10: 2873 6176 656c 6973 7429 0a20 2020 2020  (savelist).     
-00028b20: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-00028b30: 2865 7870 722c 2073 7472 5f74 7970 6529  (expr, str_type)
-00028b40: 3a0a 2020 2020 2020 2020 2020 2020 6578  :.            ex
-00028b50: 7072 5f73 7472 203d 2074 7970 696e 672e  pr_str = typing.
-00028b60: 6361 7374 2873 7472 2c20 6578 7072 290a  cast(str, expr).
-00028b70: 2020 2020 2020 2020 2020 2020 6966 2069              if i
-00028b80: 7373 7562 636c 6173 7328 7365 6c66 2e5f  ssubclass(self._
-00028b90: 6c69 7465 7261 6c53 7472 696e 6743 6c61  literalStringCla
-00028ba0: 7373 2c20 546f 6b65 6e29 3a0a 2020 2020  ss, Token):.    
-00028bb0: 2020 2020 2020 2020 2020 2020 6578 7072              expr
-00028bc0: 203d 2073 656c 662e 5f6c 6974 6572 616c   = self._literal
-00028bd0: 5374 7269 6e67 436c 6173 7328 6578 7072  StringClass(expr
-00028be0: 5f73 7472 2920 2023 2074 7970 653a 2069  _str)  # type: i
-00028bf0: 676e 6f72 655b 6361 6c6c 2d61 7267 5d0a  gnore[call-arg].
-00028c00: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00028c10: 2069 7373 7562 636c 6173 7328 7479 7065   issubclass(type
-00028c20: 2873 656c 6629 2c20 7365 6c66 2e5f 6c69  (self), self._li
-00028c30: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
-00028c40: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00028c50: 2020 2065 7870 7220 3d20 4c69 7465 7261     expr = Litera
-00028c60: 6c28 6578 7072 5f73 7472 290a 2020 2020  l(expr_str).    
-00028c70: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00028c80: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-00028c90: 7072 203d 2073 656c 662e 5f6c 6974 6572  pr = self._liter
-00028ca0: 616c 5374 7269 6e67 436c 6173 7328 4c69  alStringClass(Li
-00028cb0: 7465 7261 6c28 6578 7072 5f73 7472 2929  teral(expr_str))
-00028cc0: 2020 2320 7479 7065 3a20 6967 6e6f 7265    # type: ignore
-00028cd0: 5b61 7373 6967 6e6d 656e 742c 2063 616c  [assignment, cal
-00028ce0: 6c2d 6172 675d 0a20 2020 2020 2020 2065  l-arg].        e
-00028cf0: 7870 7220 3d20 7479 7069 6e67 2e63 6173  xpr = typing.cas
-00028d00: 7428 5061 7273 6572 456c 656d 656e 742c  t(ParserElement,
-00028d10: 2065 7870 7229 0a20 2020 2020 2020 2073   expr).        s
-00028d20: 656c 662e 6578 7072 203d 2065 7870 720a  elf.expr = expr.
-00028d30: 2020 2020 2020 2020 6966 2065 7870 7220          if expr 
-00028d40: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-00028d50: 2020 2020 2020 2020 2073 656c 662e 6d61           self.ma
-00028d60: 7949 6e64 6578 4572 726f 7220 3d20 6578  yIndexError = ex
-00028d70: 7072 2e6d 6179 496e 6465 7845 7272 6f72  pr.mayIndexError
-00028d80: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00028d90: 662e 6d61 7952 6574 7572 6e45 6d70 7479  f.mayReturnEmpty
-00028da0: 203d 2065 7870 722e 6d61 7952 6574 7572   = expr.mayRetur
-00028db0: 6e45 6d70 7479 0a20 2020 2020 2020 2020  nEmpty.         
-00028dc0: 2020 2073 656c 662e 7365 745f 7768 6974     self.set_whit
-00028dd0: 6573 7061 6365 5f63 6861 7273 280a 2020  espace_chars(.  
-00028de0: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-00028df0: 7072 2e77 6869 7465 4368 6172 732c 2063  pr.whiteChars, c
-00028e00: 6f70 795f 6465 6661 756c 7473 3d65 7870  opy_defaults=exp
-00028e10: 722e 636f 7079 4465 6661 756c 7457 6869  r.copyDefaultWhi
-00028e20: 7465 4368 6172 730a 2020 2020 2020 2020  teChars.        
-00028e30: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
-00028e40: 2020 7365 6c66 2e73 6b69 7057 6869 7465    self.skipWhite
-00028e50: 7370 6163 6520 3d20 6578 7072 2e73 6b69  space = expr.ski
-00028e60: 7057 6869 7465 7370 6163 650a 2020 2020  pWhitespace.    
-00028e70: 2020 2020 2020 2020 7365 6c66 2e73 6176          self.sav
-00028e80: 6541 734c 6973 7420 3d20 6578 7072 2e73  eAsList = expr.s
-00028e90: 6176 6541 734c 6973 740a 2020 2020 2020  aveAsList.      
-00028ea0: 2020 2020 2020 7365 6c66 2e63 616c 6c50        self.callP
-00028eb0: 7265 7061 7273 6520 3d20 6578 7072 2e63  reparse = expr.c
-00028ec0: 616c 6c50 7265 7061 7273 650a 2020 2020  allPreparse.    
-00028ed0: 2020 2020 2020 2020 7365 6c66 2e69 676e          self.ign
-00028ee0: 6f72 6545 7870 7273 2e65 7874 656e 6428  oreExprs.extend(
-00028ef0: 6578 7072 2e69 676e 6f72 6545 7870 7273  expr.ignoreExprs
-00028f00: 290a 0a20 2020 2064 6566 2072 6563 7572  )..    def recur
-00028f10: 7365 2873 656c 6629 202d 3e20 4c69 7374  se(self) -> List
-00028f20: 5b50 6172 7365 7245 6c65 6d65 6e74 5d3a  [ParserElement]:
-00028f30: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00028f40: 5b73 656c 662e 6578 7072 5d20 6966 2073  [self.expr] if s
-00028f50: 656c 662e 6578 7072 2069 7320 6e6f 7420  elf.expr is not 
-00028f60: 4e6f 6e65 2065 6c73 6520 5b5d 0a0a 2020  None else []..  
-00028f70: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
-00028f80: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
-00028f90: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
-00028fa0: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
-00028fb0: 2073 656c 662e 6578 7072 2069 7320 6e6f   self.expr is no
-00028fc0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-00028fd0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-00028fe0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00028ff0: 7365 6c66 2e65 7870 722e 5f70 6172 7365  self.expr._parse
-00029000: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-00029010: 646f 4163 7469 6f6e 732c 2063 616c 6c50  doActions, callP
-00029020: 7265 5061 7273 653d 4661 6c73 6529 0a20  reParse=False). 
-00029030: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-00029040: 7420 5061 7273 6542 6173 6545 7863 6570  t ParseBaseExcep
-00029050: 7469 6f6e 2061 7320 7062 653a 0a20 2020  tion as pbe:.   
-00029060: 2020 2020 2020 2020 2020 2020 2070 6265               pbe
-00029070: 2e6d 7367 203d 2073 656c 662e 6572 726d  .msg = self.errm
-00029080: 7367 0a20 2020 2020 2020 2020 2020 2020  sg.             
-00029090: 2020 2072 6169 7365 0a20 2020 2020 2020     raise.       
-000290a0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-000290b0: 2020 2072 6169 7365 2050 6172 7365 4578     raise ParseEx
-000290c0: 6365 7074 696f 6e28 696e 7374 7269 6e67  ception(instring
-000290d0: 2c20 6c6f 632c 2022 4e6f 2065 7870 7265  , loc, "No expre
-000290e0: 7373 696f 6e20 6465 6669 6e65 6422 2c20  ssion defined", 
-000290f0: 7365 6c66 290a 0a20 2020 2064 6566 206c  self)..    def l
-00029100: 6561 7665 5f77 6869 7465 7370 6163 6528  eave_whitespace(
-00029110: 7365 6c66 2c20 7265 6375 7273 6976 653a  self, recursive:
-00029120: 2062 6f6f 6c20 3d20 5472 7565 2920 2d3e   bool = True) ->
-00029130: 2050 6172 7365 7245 6c65 6d65 6e74 3a0a   ParserElement:.
-00029140: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-00029150: 6c65 6176 655f 7768 6974 6573 7061 6365  leave_whitespace
-00029160: 2872 6563 7572 7369 7665 290a 0a20 2020  (recursive)..   
-00029170: 2020 2020 2069 6620 7265 6375 7273 6976       if recursiv
-00029180: 653a 0a20 2020 2020 2020 2020 2020 2069  e:.            i
-00029190: 6620 7365 6c66 2e65 7870 7220 6973 206e  f self.expr is n
-000291a0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-000291b0: 2020 2020 2020 2020 2073 656c 662e 6578           self.ex
-000291c0: 7072 203d 2073 656c 662e 6578 7072 2e63  pr = self.expr.c
-000291d0: 6f70 7928 290a 2020 2020 2020 2020 2020  opy().          
-000291e0: 2020 2020 2020 7365 6c66 2e65 7870 722e        self.expr.
-000291f0: 6c65 6176 655f 7768 6974 6573 7061 6365  leave_whitespace
-00029200: 2872 6563 7572 7369 7665 290a 2020 2020  (recursive).    
-00029210: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
-00029220: 0a20 2020 2064 6566 2069 676e 6f72 655f  .    def ignore_
-00029230: 7768 6974 6573 7061 6365 2873 656c 662c  whitespace(self,
-00029240: 2072 6563 7572 7369 7665 3a20 626f 6f6c   recursive: bool
-00029250: 203d 2054 7275 6529 202d 3e20 5061 7273   = True) -> Pars
-00029260: 6572 456c 656d 656e 743a 0a20 2020 2020  erElement:.     
-00029270: 2020 2073 7570 6572 2829 2e69 676e 6f72     super().ignor
-00029280: 655f 7768 6974 6573 7061 6365 2872 6563  e_whitespace(rec
-00029290: 7572 7369 7665 290a 0a20 2020 2020 2020  ursive)..       
-000292a0: 2069 6620 7265 6375 7273 6976 653a 0a20   if recursive:. 
-000292b0: 2020 2020 2020 2020 2020 2069 6620 7365             if se
-000292c0: 6c66 2e65 7870 7220 6973 206e 6f74 204e  lf.expr is not N
-000292d0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-000292e0: 2020 2020 2073 656c 662e 6578 7072 203d       self.expr =
-000292f0: 2073 656c 662e 6578 7072 2e63 6f70 7928   self.expr.copy(
-00029300: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00029310: 2020 7365 6c66 2e65 7870 722e 6967 6e6f    self.expr.igno
-00029320: 7265 5f77 6869 7465 7370 6163 6528 7265  re_whitespace(re
-00029330: 6375 7273 6976 6529 0a20 2020 2020 2020  cursive).       
-00029340: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-00029350: 2020 6465 6620 6967 6e6f 7265 2873 656c    def ignore(sel
-00029360: 662c 206f 7468 6572 2920 2d3e 2050 6172  f, other) -> Par
-00029370: 7365 7245 6c65 6d65 6e74 3a0a 2020 2020  serElement:.    
-00029380: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-00029390: 6528 6f74 6865 722c 2053 7570 7072 6573  e(other, Suppres
-000293a0: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
-000293b0: 6966 206f 7468 6572 206e 6f74 2069 6e20  if other not in 
-000293c0: 7365 6c66 2e69 676e 6f72 6545 7870 7273  self.ignoreExprs
-000293d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000293e0: 2020 7375 7065 7228 292e 6967 6e6f 7265    super().ignore
-000293f0: 286f 7468 6572 290a 2020 2020 2020 2020  (other).        
-00029400: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00029410: 6578 7072 2069 7320 6e6f 7420 4e6f 6e65  expr is not None
-00029420: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00029430: 2020 2020 2020 7365 6c66 2e65 7870 722e        self.expr.
-00029440: 6967 6e6f 7265 2873 656c 662e 6967 6e6f  ignore(self.igno
-00029450: 7265 4578 7072 735b 2d31 5d29 0a20 2020  reExprs[-1]).   
-00029460: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00029470: 2020 2020 2020 2073 7570 6572 2829 2e69         super().i
-00029480: 676e 6f72 6528 6f74 6865 7229 0a20 2020  gnore(other).   
-00029490: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
-000294a0: 2e65 7870 7220 6973 206e 6f74 204e 6f6e  .expr is not Non
-000294b0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-000294c0: 2020 2073 656c 662e 6578 7072 2e69 676e     self.expr.ign
-000294d0: 6f72 6528 7365 6c66 2e69 676e 6f72 6545  ore(self.ignoreE
-000294e0: 7870 7273 5b2d 315d 290a 2020 2020 2020  xprs[-1]).      
-000294f0: 2020 7265 7475 726e 2073 656c 660a 0a20    return self.. 
-00029500: 2020 2064 6566 2073 7472 6561 6d6c 696e     def streamlin
-00029510: 6528 7365 6c66 2920 2d3e 2050 6172 7365  e(self) -> Parse
-00029520: 7245 6c65 6d65 6e74 3a0a 2020 2020 2020  rElement:.      
-00029530: 2020 7375 7065 7228 292e 7374 7265 616d    super().stream
-00029540: 6c69 6e65 2829 0a20 2020 2020 2020 2069  line().        i
-00029550: 6620 7365 6c66 2e65 7870 7220 6973 206e  f self.expr is n
-00029560: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-00029570: 2020 2020 2073 656c 662e 6578 7072 2e73       self.expr.s
-00029580: 7472 6561 6d6c 696e 6528 290a 2020 2020  treamline().    
-00029590: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
-000295a0: 0a20 2020 2064 6566 205f 6368 6563 6b52  .    def _checkR
-000295b0: 6563 7572 7369 6f6e 2873 656c 662c 2070  ecursion(self, p
-000295c0: 6172 7365 456c 656d 656e 744c 6973 7429  arseElementList)
-000295d0: 3a0a 2020 2020 2020 2020 6966 2073 656c  :.        if sel
-000295e0: 6620 696e 2070 6172 7365 456c 656d 656e  f in parseElemen
-000295f0: 744c 6973 743a 0a20 2020 2020 2020 2020  tList:.         
-00029600: 2020 2072 6169 7365 2052 6563 7572 7369     raise Recursi
-00029610: 7665 4772 616d 6d61 7245 7863 6570 7469  veGrammarExcepti
-00029620: 6f6e 2870 6172 7365 456c 656d 656e 744c  on(parseElementL
-00029630: 6973 7420 2b20 5b73 656c 665d 290a 2020  ist + [self]).  
-00029640: 2020 2020 2020 7375 6252 6563 4368 6563        subRecChec
-00029650: 6b4c 6973 7420 3d20 7061 7273 6545 6c65  kList = parseEle
-00029660: 6d65 6e74 4c69 7374 5b3a 5d20 2b20 5b73  mentList[:] + [s
-00029670: 656c 665d 0a20 2020 2020 2020 2069 6620  elf].        if 
-00029680: 7365 6c66 2e65 7870 7220 6973 206e 6f74  self.expr is not
-00029690: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-000296a0: 2020 2073 656c 662e 6578 7072 2e5f 6368     self.expr._ch
-000296b0: 6563 6b52 6563 7572 7369 6f6e 2873 7562  eckRecursion(sub
-000296c0: 5265 6343 6865 636b 4c69 7374 290a 0a20  RecCheckList).. 
-000296d0: 2020 2064 6566 2076 616c 6964 6174 6528     def validate(
-000296e0: 7365 6c66 2c20 7661 6c69 6461 7465 5472  self, validateTr
-000296f0: 6163 653d 4e6f 6e65 2920 2d3e 204e 6f6e  ace=None) -> Non
-00029700: 653a 0a20 2020 2020 2020 2077 6172 6e69  e:.        warni
-00029710: 6e67 732e 7761 726e 280a 2020 2020 2020  ngs.warn(.      
-00029720: 2020 2020 2020 2250 6172 7365 7245 6c65        "ParserEle
-00029730: 6d65 6e74 2e76 616c 6964 6174 6528 2920  ment.validate() 
-00029740: 6973 2064 6570 7265 6361 7465 642c 2061  is deprecated, a
-00029750: 6e64 2073 686f 756c 6420 6e6f 7420 6265  nd should not be
-00029760: 2075 7365 6420 746f 2063 6865 636b 2066   used to check f
-00029770: 6f72 206c 6566 7420 7265 6375 7273 696f  or left recursio
-00029780: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
-00029790: 4465 7072 6563 6174 696f 6e57 6172 6e69  DeprecationWarni
-000297a0: 6e67 2c0a 2020 2020 2020 2020 2020 2020  ng,.            
-000297b0: 7374 6163 6b6c 6576 656c 3d32 2c0a 2020  stacklevel=2,.  
-000297c0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-000297d0: 6966 2076 616c 6964 6174 6554 7261 6365  if validateTrace
-000297e0: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
-000297f0: 2020 2020 2020 7661 6c69 6461 7465 5472        validateTr
-00029800: 6163 6520 3d20 5b5d 0a20 2020 2020 2020  ace = [].       
-00029810: 2074 6d70 203d 2076 616c 6964 6174 6554   tmp = validateT
-00029820: 7261 6365 5b3a 5d20 2b20 5b73 656c 665d  race[:] + [self]
-00029830: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-00029840: 2e65 7870 7220 6973 206e 6f74 204e 6f6e  .expr is not Non
-00029850: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-00029860: 656c 662e 6578 7072 2e76 616c 6964 6174  elf.expr.validat
-00029870: 6528 746d 7029 0a20 2020 2020 2020 2073  e(tmp).        s
-00029880: 656c 662e 5f63 6865 636b 5265 6375 7273  elf._checkRecurs
-00029890: 696f 6e28 5b5d 290a 0a20 2020 2064 6566  ion([])..    def
-000298a0: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
-000298b0: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
-000298c0: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
-000298d0: 726e 2066 227b 7365 6c66 2e5f 5f63 6c61  rn f"{self.__cla
-000298e0: 7373 5f5f 2e5f 5f6e 616d 655f 5f7d 3a28  ss__.__name__}:(
-000298f0: 7b73 7472 2873 656c 662e 6578 7072 297d  {str(self.expr)}
-00029900: 2922 0a0a 2020 2020 2320 436f 6d70 6174  )"..    # Compat
-00029910: 6962 696c 6974 7920 7379 6e6f 6e79 6d73  ibility synonyms
-00029920: 0a20 2020 2023 2066 6d74 3a20 6f66 660a  .    # fmt: off.
-00029930: 2020 2020 4072 6570 6c61 6365 645f 6279      @replaced_by
-00029940: 5f70 6570 3828 6c65 6176 655f 7768 6974  _pep8(leave_whit
-00029950: 6573 7061 6365 290a 2020 2020 6465 6620  espace).    def 
-00029960: 6c65 6176 6557 6869 7465 7370 6163 6528  leaveWhitespace(
-00029970: 7365 6c66 293a 202e 2e2e 0a0a 2020 2020  self): .....    
-00029980: 4072 6570 6c61 6365 645f 6279 5f70 6570  @replaced_by_pep
-00029990: 3828 6967 6e6f 7265 5f77 6869 7465 7370  8(ignore_whitesp
-000299a0: 6163 6529 0a20 2020 2064 6566 2069 676e  ace).    def ign
-000299b0: 6f72 6557 6869 7465 7370 6163 6528 7365  oreWhitespace(se
-000299c0: 6c66 293a 202e 2e2e 0a20 2020 2023 2066  lf): ....    # f
-000299d0: 6d74 3a20 6f6e 0a0a 0a63 6c61 7373 2049  mt: on...class I
-000299e0: 6e64 656e 7465 6442 6c6f 636b 2850 6172  ndentedBlock(Par
-000299f0: 7365 456c 656d 656e 7445 6e68 616e 6365  seElementEnhance
-00029a00: 293a 0a20 2020 2022 2222 0a20 2020 2045  ):.    """.    E
-00029a10: 7870 7265 7373 696f 6e20 746f 206d 6174  xpression to mat
-00029a20: 6368 206f 6e65 206f 7220 6d6f 7265 2065  ch one or more e
-00029a30: 7870 7265 7373 696f 6e73 2061 7420 6120  xpressions at a 
-00029a40: 6769 7665 6e20 696e 6465 6e74 6174 696f  given indentatio
-00029a50: 6e20 6c65 7665 6c2e 0a20 2020 2055 7365  n level..    Use
-00029a60: 6675 6c20 666f 7220 7061 7273 696e 6720  ful for parsing 
-00029a70: 7465 7874 2077 6865 7265 2073 7472 7563  text where struc
-00029a80: 7475 7265 2069 7320 696d 706c 6965 6420  ture is implied 
-00029a90: 6279 2069 6e64 656e 7461 7469 6f6e 2028  by indentation (
-00029aa0: 6c69 6b65 2050 7974 686f 6e20 736f 7572  like Python sour
-00029ab0: 6365 2063 6f64 6529 2e0a 2020 2020 2222  ce code)..    ""
-00029ac0: 220a 0a20 2020 2063 6c61 7373 205f 496e  "..    class _In
-00029ad0: 6465 6e74 2845 6d70 7479 293a 0a20 2020  dent(Empty):.   
-00029ae0: 2020 2020 2064 6566 205f 5f69 6e69 745f       def __init_
-00029af0: 5f28 7365 6c66 2c20 7265 665f 636f 6c3a  _(self, ref_col:
-00029b00: 2069 6e74 293a 0a20 2020 2020 2020 2020   int):.         
-00029b10: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
-00029b20: 745f 5f28 290a 2020 2020 2020 2020 2020  t__().          
-00029b30: 2020 7365 6c66 2e65 7272 6d73 6720 3d20    self.errmsg = 
-00029b40: 6622 6578 7065 6374 6564 2069 6e64 656e  f"expected inden
-00029b50: 7420 6174 2063 6f6c 756d 6e20 7b72 6566  t at column {ref
-00029b60: 5f63 6f6c 7d22 0a20 2020 2020 2020 2020  _col}".         
-00029b70: 2020 2073 656c 662e 6164 645f 636f 6e64     self.add_cond
-00029b80: 6974 696f 6e28 6c61 6d62 6461 2073 2c20  ition(lambda s, 
-00029b90: 6c2c 2074 3a20 636f 6c28 6c2c 2073 2920  l, t: col(l, s) 
-00029ba0: 3d3d 2072 6566 5f63 6f6c 290a 0a20 2020  == ref_col)..   
-00029bb0: 2063 6c61 7373 205f 496e 6465 6e74 4772   class _IndentGr
-00029bc0: 6561 7465 7228 456d 7074 7929 3a0a 2020  eater(Empty):.  
-00029bd0: 2020 2020 2020 6465 6620 5f5f 696e 6974        def __init
-00029be0: 5f5f 2873 656c 662c 2072 6566 5f63 6f6c  __(self, ref_col
-00029bf0: 3a20 696e 7429 3a0a 2020 2020 2020 2020  : int):.        
-00029c00: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
-00029c10: 6974 5f5f 2829 0a20 2020 2020 2020 2020  it__().         
-00029c20: 2020 2073 656c 662e 6572 726d 7367 203d     self.errmsg =
-00029c30: 2066 2265 7870 6563 7465 6420 696e 6465   f"expected inde
-00029c40: 6e74 2061 7420 636f 6c75 6d6e 2067 7265  nt at column gre
-00029c50: 6174 6572 2074 6861 6e20 7b72 6566 5f63  ater than {ref_c
-00029c60: 6f6c 7d22 0a20 2020 2020 2020 2020 2020  ol}".           
-00029c70: 2073 656c 662e 6164 645f 636f 6e64 6974   self.add_condit
-00029c80: 696f 6e28 6c61 6d62 6461 2073 2c20 6c2c  ion(lambda s, l,
-00029c90: 2074 3a20 636f 6c28 6c2c 2073 2920 3e20   t: col(l, s) > 
-00029ca0: 7265 665f 636f 6c29 0a0a 2020 2020 6465  ref_col)..    de
-00029cb0: 6620 5f5f 696e 6974 5f5f 280a 2020 2020  f __init__(.    
-00029cc0: 2020 2020 7365 6c66 2c20 6578 7072 3a20      self, expr: 
-00029cd0: 5061 7273 6572 456c 656d 656e 742c 202a  ParserElement, *
-00029ce0: 2c20 7265 6375 7273 6976 653a 2062 6f6f  , recursive: boo
-00029cf0: 6c20 3d20 4661 6c73 652c 2067 726f 7570  l = False, group
-00029d00: 6564 3a20 626f 6f6c 203d 2054 7275 650a  ed: bool = True.
-00029d10: 2020 2020 293a 0a20 2020 2020 2020 2073      ):.        s
-00029d20: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
-00029d30: 6578 7072 2c20 7361 7665 6c69 7374 3d54  expr, savelist=T
-00029d40: 7275 6529 0a20 2020 2020 2020 2023 2069  rue).        # i
-00029d50: 6620 7265 6375 7273 6976 653a 0a20 2020  f recursive:.   
-00029d60: 2020 2020 2023 2020 2020 2072 6169 7365       #     raise
-00029d70: 204e 6f74 496d 706c 656d 656e 7465 6445   NotImplementedE
-00029d80: 7272 6f72 2822 496e 6465 6e74 6564 426c  rror("IndentedBl
-00029d90: 6f63 6b20 7769 7468 2072 6563 7572 7369  ock with recursi
-00029da0: 7665 2069 7320 6e6f 7420 696d 706c 656d  ve is not implem
-00029db0: 656e 7465 6422 290a 2020 2020 2020 2020  ented").        
-00029dc0: 7365 6c66 2e5f 7265 6375 7273 6976 6520  self._recursive 
-00029dd0: 3d20 7265 6375 7273 6976 650a 2020 2020  = recursive.    
-00029de0: 2020 2020 7365 6c66 2e5f 6772 6f75 7065      self._groupe
-00029df0: 6420 3d20 6772 6f75 7065 640a 2020 2020  d = grouped.    
-00029e00: 2020 2020 7365 6c66 2e70 6172 656e 745f      self.parent_
-00029e10: 616e 6368 6f72 203d 2031 0a0a 2020 2020  anchor = 1..    
-00029e20: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
-00029e30: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
-00029e40: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
-00029e50: 6529 3a0a 2020 2020 2020 2020 2320 6164  e):.        # ad
-00029e60: 7661 6e63 6520 7061 7273 6520 706f 7369  vance parse posi
-00029e70: 7469 6f6e 2074 6f20 6e6f 6e2d 7768 6974  tion to non-whit
-00029e80: 6573 7061 6365 2062 7920 7573 696e 6720  espace by using 
-00029e90: 616e 2045 6d70 7479 2829 0a20 2020 2020  an Empty().     
-00029ea0: 2020 2023 2074 6869 7320 7368 6f75 6c64     # this should
-00029eb0: 2062 6520 7468 6520 636f 6c75 6d6e 2074   be the column t
-00029ec0: 6f20 6265 2075 7365 6420 666f 7220 616c  o be used for al
-00029ed0: 6c20 7375 6273 6571 7565 6e74 2069 6e64  l subsequent ind
-00029ee0: 656e 7465 6420 6c69 6e65 730a 2020 2020  ented lines.    
-00029ef0: 2020 2020 616e 6368 6f72 5f6c 6f63 203d      anchor_loc =
-00029f00: 2045 6d70 7479 2829 2e70 7265 5061 7273   Empty().prePars
-00029f10: 6528 696e 7374 7269 6e67 2c20 6c6f 6329  e(instring, loc)
-00029f20: 0a0a 2020 2020 2020 2020 2320 7365 6520  ..        # see 
-00029f30: 6966 2073 656c 662e 6578 7072 206d 6174  if self.expr mat
-00029f40: 6368 6573 2061 7420 7468 6520 6375 7272  ches at the curr
-00029f50: 656e 7420 6c6f 6361 7469 6f6e 202d 2069  ent location - i
-00029f60: 6620 6e6f 7420 6974 2077 696c 6c20 7261  f not it will ra
-00029f70: 6973 6520 616e 2065 7863 6570 7469 6f6e  ise an exception
-00029f80: 0a20 2020 2020 2020 2023 2061 6e64 206e  .        # and n
-00029f90: 6f20 6675 7274 6865 7220 776f 726b 2069  o further work i
-00029fa0: 7320 6e65 6365 7373 6172 790a 2020 2020  s necessary.    
-00029fb0: 2020 2020 7365 6c66 2e65 7870 722e 7472      self.expr.tr
-00029fc0: 795f 7061 7273 6528 696e 7374 7269 6e67  y_parse(instring
-00029fd0: 2c20 616e 6368 6f72 5f6c 6f63 2c20 646f  , anchor_loc, do
-00029fe0: 4163 7469 6f6e 7329 0a0a 2020 2020 2020  Actions)..      
-00029ff0: 2020 696e 6465 6e74 5f63 6f6c 203d 2063    indent_col = c
-0002a000: 6f6c 2861 6e63 686f 725f 6c6f 632c 2069  ol(anchor_loc, i
-0002a010: 6e73 7472 696e 6729 0a20 2020 2020 2020  nstring).       
-0002a020: 2070 6565 725f 6465 7465 6374 5f65 7870   peer_detect_exp
-0002a030: 7220 3d20 7365 6c66 2e5f 496e 6465 6e74  r = self._Indent
-0002a040: 2869 6e64 656e 745f 636f 6c29 0a0a 2020  (indent_col)..  
-0002a050: 2020 2020 2020 696e 6e65 725f 6578 7072        inner_expr
-0002a060: 203d 2045 6d70 7479 2829 202b 2070 6565   = Empty() + pee
-0002a070: 725f 6465 7465 6374 5f65 7870 7220 2b20  r_detect_expr + 
-0002a080: 7365 6c66 2e65 7870 720a 2020 2020 2020  self.expr.      
-0002a090: 2020 6966 2073 656c 662e 5f72 6563 7572    if self._recur
-0002a0a0: 7369 7665 3a0a 2020 2020 2020 2020 2020  sive:.          
-0002a0b0: 2020 7375 625f 696e 6465 6e74 203d 2073    sub_indent = s
-0002a0c0: 656c 662e 5f49 6e64 656e 7447 7265 6174  elf._IndentGreat
-0002a0d0: 6572 2869 6e64 656e 745f 636f 6c29 0a20  er(indent_col). 
-0002a0e0: 2020 2020 2020 2020 2020 206e 6573 7465             neste
-0002a0f0: 645f 626c 6f63 6b20 3d20 496e 6465 6e74  d_block = Indent
-0002a100: 6564 426c 6f63 6b28 0a20 2020 2020 2020  edBlock(.       
-0002a110: 2020 2020 2020 2020 2073 656c 662e 6578           self.ex
-0002a120: 7072 2c20 7265 6375 7273 6976 653d 7365  pr, recursive=se
-0002a130: 6c66 2e5f 7265 6375 7273 6976 652c 2067  lf._recursive, g
-0002a140: 726f 7570 6564 3d73 656c 662e 5f67 726f  rouped=self._gro
-0002a150: 7570 6564 0a20 2020 2020 2020 2020 2020  uped.           
-0002a160: 2029 0a20 2020 2020 2020 2020 2020 206e   ).            n
-0002a170: 6573 7465 645f 626c 6f63 6b2e 7365 745f  ested_block.set_
-0002a180: 6465 6275 6728 7365 6c66 2e64 6562 7567  debug(self.debug
-0002a190: 290a 2020 2020 2020 2020 2020 2020 6e65  ).            ne
-0002a1a0: 7374 6564 5f62 6c6f 636b 2e70 6172 656e  sted_block.paren
-0002a1b0: 745f 616e 6368 6f72 203d 2069 6e64 656e  t_anchor = inden
-0002a1c0: 745f 636f 6c0a 2020 2020 2020 2020 2020  t_col.          
-0002a1d0: 2020 696e 6e65 725f 6578 7072 202b 3d20    inner_expr += 
-0002a1e0: 4f70 7428 7375 625f 696e 6465 6e74 202b  Opt(sub_indent +
-0002a1f0: 206e 6573 7465 645f 626c 6f63 6b29 0a0a   nested_block)..
-0002a200: 2020 2020 2020 2020 696e 6e65 725f 6578          inner_ex
-0002a210: 7072 2e73 6574 5f6e 616d 6528 6622 696e  pr.set_name(f"in
-0002a220: 6e65 7220 7b68 6578 2869 6428 696e 6e65  ner {hex(id(inne
-0002a230: 725f 6578 7072 2929 5b2d 343a 5d2e 7570  r_expr))[-4:].up
-0002a240: 7065 7228 297d 407b 696e 6465 6e74 5f63  per()}@{indent_c
-0002a250: 6f6c 7d22 290a 2020 2020 2020 2020 626c  ol}").        bl
-0002a260: 6f63 6b20 3d20 4f6e 654f 724d 6f72 6528  ock = OneOrMore(
-0002a270: 696e 6e65 725f 6578 7072 290a 0a20 2020  inner_expr)..   
-0002a280: 2020 2020 2074 7261 696c 696e 675f 756e       trailing_un
-0002a290: 6465 6e74 203d 2073 656c 662e 5f49 6e64  dent = self._Ind
-0002a2a0: 656e 7428 7365 6c66 2e70 6172 656e 745f  ent(self.parent_
-0002a2b0: 616e 6368 6f72 2920 7c20 5374 7269 6e67  anchor) | String
-0002a2c0: 456e 6428 290a 0a20 2020 2020 2020 2069  End()..        i
-0002a2d0: 6620 7365 6c66 2e5f 6772 6f75 7065 643a  f self._grouped:
-0002a2e0: 0a20 2020 2020 2020 2020 2020 2077 7261  .            wra
-0002a2f0: 7070 6572 203d 2047 726f 7570 0a20 2020  pper = Group.   
-0002a300: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0002a310: 2020 2020 2020 2077 7261 7070 6572 203d         wrapper =
-0002a320: 206c 616d 6264 6120 6578 7072 3a20 6578   lambda expr: ex
-0002a330: 7072 0a20 2020 2020 2020 2072 6574 7572  pr.        retur
-0002a340: 6e20 2877 7261 7070 6572 2862 6c6f 636b  n (wrapper(block
-0002a350: 2920 2b20 4f70 7469 6f6e 616c 2874 7261  ) + Optional(tra
-0002a360: 696c 696e 675f 756e 6465 6e74 2929 2e70  iling_undent)).p
-0002a370: 6172 7365 496d 706c 280a 2020 2020 2020  arseImpl(.      
-0002a380: 2020 2020 2020 696e 7374 7269 6e67 2c20        instring, 
-0002a390: 616e 6368 6f72 5f6c 6f63 2c20 646f 4163  anchor_loc, doAc
-0002a3a0: 7469 6f6e 730a 2020 2020 2020 2020 290a  tions.        ).
-0002a3b0: 0a0a 636c 6173 7320 4174 5374 7269 6e67  ..class AtString
-0002a3c0: 5374 6172 7428 5061 7273 6545 6c65 6d65  Start(ParseEleme
-0002a3d0: 6e74 456e 6861 6e63 6529 3a0a 2020 2020  ntEnhance):.    
-0002a3e0: 2222 224d 6174 6368 6573 2069 6620 6578  """Matches if ex
-0002a3f0: 7072 6573 7369 6f6e 206d 6174 6368 6573  pression matches
-0002a400: 2061 7420 7468 6520 6265 6769 6e6e 696e   at the beginnin
-0002a410: 6720 6f66 2074 6865 2070 6172 7365 0a20  g of the parse. 
-0002a420: 2020 2073 7472 696e 673a 3a0a 0a20 2020     string::..   
-0002a430: 2020 2020 2041 7453 7472 696e 6753 7461       AtStringSta
-0002a440: 7274 2857 6f72 6428 6e75 6d73 2929 2e70  rt(Word(nums)).p
-0002a450: 6172 7365 5f73 7472 696e 6728 2231 3233  arse_string("123
-0002a460: 2229 0a20 2020 2020 2020 2023 2070 7269  ").        # pri
-0002a470: 6e74 7320 5b22 3132 3322 5d0a 0a20 2020  nts ["123"]..   
-0002a480: 2020 2020 2041 7453 7472 696e 6753 7461       AtStringSta
-0002a490: 7274 2857 6f72 6428 6e75 6d73 2929 2e70  rt(Word(nums)).p
-0002a4a0: 6172 7365 5f73 7472 696e 6728 2220 2020  arse_string("   
-0002a4b0: 2031 3233 2229 0a20 2020 2020 2020 2023   123").        #
-0002a4c0: 2072 6169 7365 7320 5061 7273 6545 7863   raises ParseExc
-0002a4d0: 6570 7469 6f6e 0a20 2020 2022 2222 0a0a  eption.    """..
-0002a4e0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-0002a4f0: 2873 656c 662c 2065 7870 723a 2055 6e69  (self, expr: Uni
-0002a500: 6f6e 5b50 6172 7365 7245 6c65 6d65 6e74  on[ParserElement
-0002a510: 2c20 7374 725d 293a 0a20 2020 2020 2020  , str]):.       
-0002a520: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
-0002a530: 5f28 6578 7072 290a 2020 2020 2020 2020  _(expr).        
-0002a540: 7365 6c66 2e63 616c 6c50 7265 7061 7273  self.callPrepars
-0002a550: 6520 3d20 4661 6c73 650a 0a20 2020 2064  e = False..    d
-0002a560: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
-0002a570: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
-0002a580: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
-0002a590: 293a 0a20 2020 2020 2020 2069 6620 6c6f  ):.        if lo
-0002a5a0: 6320 213d 2030 3a0a 2020 2020 2020 2020  c != 0:.        
-0002a5b0: 2020 2020 7261 6973 6520 5061 7273 6545      raise ParseE
-0002a5c0: 7863 6570 7469 6f6e 2869 6e73 7472 696e  xception(instrin
-0002a5d0: 672c 206c 6f63 2c20 226e 6f74 2066 6f75  g, loc, "not fou
-0002a5e0: 6e64 2061 7420 7374 7269 6e67 2073 7461  nd at string sta
-0002a5f0: 7274 2229 0a20 2020 2020 2020 2072 6574  rt").        ret
-0002a600: 7572 6e20 7375 7065 7228 292e 7061 7273  urn super().pars
-0002a610: 6549 6d70 6c28 696e 7374 7269 6e67 2c20  eImpl(instring, 
-0002a620: 6c6f 632c 2064 6f41 6374 696f 6e73 290a  loc, doActions).
-0002a630: 0a0a 636c 6173 7320 4174 4c69 6e65 5374  ..class AtLineSt
-0002a640: 6172 7428 5061 7273 6545 6c65 6d65 6e74  art(ParseElement
-0002a650: 456e 6861 6e63 6529 3a0a 2020 2020 7222  Enhance):.    r"
-0002a660: 2222 4d61 7463 6865 7320 6966 2061 6e20  ""Matches if an 
-0002a670: 6578 7072 6573 7369 6f6e 206d 6174 6368  expression match
-0002a680: 6573 2061 7420 7468 6520 6265 6769 6e6e  es at the beginn
-0002a690: 696e 6720 6f66 2061 206c 696e 6520 7769  ing of a line wi
-0002a6a0: 7468 696e 0a20 2020 2074 6865 2070 6172  thin.    the par
-0002a6b0: 7365 2073 7472 696e 670a 0a20 2020 2045  se string..    E
-0002a6c0: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
-0002a6d0: 2020 7465 7374 203d 2027 2727 5c0a 2020    test = '''\.  
-0002a6e0: 2020 2020 2020 4141 4120 7468 6973 206c        AAA this l
-0002a6f0: 696e 650a 2020 2020 2020 2020 4141 4120  ine.        AAA 
-0002a700: 616e 6420 7468 6973 206c 696e 650a 2020  and this line.  
-0002a710: 2020 2020 2020 2020 4141 4120 6275 7420          AAA but 
-0002a720: 6e6f 7420 7468 6973 206f 6e65 0a20 2020  not this one.   
-0002a730: 2020 2020 2042 2041 4141 2061 6e64 2064       B AAA and d
-0002a740: 6566 696e 6974 656c 7920 6e6f 7420 7468  efinitely not th
-0002a750: 6973 206f 6e65 0a20 2020 2020 2020 2027  is one.        '
-0002a760: 2727 0a0a 2020 2020 2020 2020 666f 7220  ''..        for 
-0002a770: 7420 696e 2028 4174 4c69 6e65 5374 6172  t in (AtLineStar
-0002a780: 7428 2741 4141 2729 202b 2072 6573 745f  t('AAA') + rest_
-0002a790: 6f66 5f6c 696e 6529 2e73 6561 7263 685f  of_line).search_
-0002a7a0: 7374 7269 6e67 2874 6573 7429 3a0a 2020  string(test):.  
-0002a7b0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-0002a7c0: 7429 0a0a 2020 2020 7072 696e 7473 3a3a  t)..    prints::
-0002a7d0: 0a0a 2020 2020 2020 2020 5b27 4141 4127  ..        ['AAA'
-0002a7e0: 2c20 2720 7468 6973 206c 696e 6527 5d0a  , ' this line'].
-0002a7f0: 2020 2020 2020 2020 5b27 4141 4127 2c20          ['AAA', 
-0002a800: 2720 616e 6420 7468 6973 206c 696e 6527  ' and this line'
-0002a810: 5d0a 0a20 2020 2022 2222 0a0a 2020 2020  ]..    """..    
-0002a820: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
-0002a830: 662c 2065 7870 723a 2055 6e69 6f6e 5b50  f, expr: Union[P
-0002a840: 6172 7365 7245 6c65 6d65 6e74 2c20 7374  arserElement, st
-0002a850: 725d 293a 0a20 2020 2020 2020 2073 7570  r]):.        sup
-0002a860: 6572 2829 2e5f 5f69 6e69 745f 5f28 6578  er().__init__(ex
-0002a870: 7072 290a 2020 2020 2020 2020 7365 6c66  pr).        self
-0002a880: 2e63 616c 6c50 7265 7061 7273 6520 3d20  .callPreparse = 
-0002a890: 4661 6c73 650a 0a20 2020 2064 6566 2070  False..    def p
-0002a8a0: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
-0002a8b0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
-0002a8c0: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
-0002a8d0: 2020 2020 2020 2069 6620 636f 6c28 6c6f         if col(lo
-0002a8e0: 632c 2069 6e73 7472 696e 6729 2021 3d20  c, instring) != 
-0002a8f0: 313a 0a20 2020 2020 2020 2020 2020 2072  1:.            r
-0002a900: 6169 7365 2050 6172 7365 4578 6365 7074  aise ParseExcept
-0002a910: 696f 6e28 696e 7374 7269 6e67 2c20 6c6f  ion(instring, lo
-0002a920: 632c 2022 6e6f 7420 666f 756e 6420 6174  c, "not found at
-0002a930: 206c 696e 6520 7374 6172 7422 290a 2020   line start").  
-0002a940: 2020 2020 2020 7265 7475 726e 2073 7570        return sup
-0002a950: 6572 2829 2e70 6172 7365 496d 706c 2869  er().parseImpl(i
-0002a960: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
-0002a970: 4163 7469 6f6e 7329 0a0a 0a63 6c61 7373  Actions)...class
-0002a980: 2046 6f6c 6c6f 7765 6442 7928 5061 7273   FollowedBy(Pars
-0002a990: 6545 6c65 6d65 6e74 456e 6861 6e63 6529  eElementEnhance)
-0002a9a0: 3a0a 2020 2020 2222 224c 6f6f 6b61 6865  :.    """Lookahe
-0002a9b0: 6164 206d 6174 6368 696e 6720 6f66 2074  ad matching of t
-0002a9c0: 6865 2067 6976 656e 2070 6172 7365 2065  he given parse e
-0002a9d0: 7870 7265 7373 696f 6e2e 0a20 2020 2060  xpression..    `
-0002a9e0: 6046 6f6c 6c6f 7765 6442 7960 6020 646f  `FollowedBy`` do
-0002a9f0: 6573 202a 6e6f 742a 2061 6476 616e 6365  es *not* advance
-0002aa00: 2074 6865 2070 6172 7369 6e67 2070 6f73   the parsing pos
-0002aa10: 6974 696f 6e20 7769 7468 696e 0a20 2020  ition within.   
-0002aa20: 2074 6865 2069 6e70 7574 2073 7472 696e   the input strin
-0002aa30: 672c 2069 7420 6f6e 6c79 2076 6572 6966  g, it only verif
-0002aa40: 6965 7320 7468 6174 2074 6865 2073 7065  ies that the spe
-0002aa50: 6369 6669 6564 2070 6172 7365 0a20 2020  cified parse.   
-0002aa60: 2065 7870 7265 7373 696f 6e20 6d61 7463   expression matc
-0002aa70: 6865 7320 6174 2074 6865 2063 7572 7265  hes at the curre
-0002aa80: 6e74 2070 6f73 6974 696f 6e2e 2020 6060  nt position.  ``
-0002aa90: 466f 6c6c 6f77 6564 4279 6060 0a20 2020  FollowedBy``.   
-0002aaa0: 2061 6c77 6179 7320 7265 7475 726e 7320   always returns 
-0002aab0: 6120 6e75 6c6c 2074 6f6b 656e 206c 6973  a null token lis
-0002aac0: 742e 2049 6620 616e 7920 7265 7375 6c74  t. If any result
-0002aad0: 7320 6e61 6d65 7320 6172 6520 6465 6669  s names are defi
-0002aae0: 6e65 640a 2020 2020 696e 2074 6865 206c  ned.    in the l
-0002aaf0: 6f6f 6b61 6865 6164 2065 7870 7265 7373  ookahead express
-0002ab00: 696f 6e2c 2074 686f 7365 202a 7769 6c6c  ion, those *will
-0002ab10: 2a20 6265 2072 6574 7572 6e65 6420 666f  * be returned fo
-0002ab20: 7220 6163 6365 7373 2062 790a 2020 2020  r access by.    
-0002ab30: 6e61 6d65 2e0a 0a20 2020 2045 7861 6d70  name...    Examp
-0002ab40: 6c65 3a3a 0a0a 2020 2020 2020 2020 2320  le::..        # 
-0002ab50: 7573 6520 466f 6c6c 6f77 6564 4279 2074  use FollowedBy t
-0002ab60: 6f20 6d61 7463 6820 6120 6c61 6265 6c20  o match a label 
-0002ab70: 6f6e 6c79 2069 6620 6974 2069 7320 666f  only if it is fo
-0002ab80: 6c6c 6f77 6564 2062 7920 6120 273a 270a  llowed by a ':'.
-0002ab90: 2020 2020 2020 2020 6461 7461 5f77 6f72          data_wor
-0002aba0: 6420 3d20 576f 7264 2861 6c70 6861 7329  d = Word(alphas)
-0002abb0: 0a20 2020 2020 2020 206c 6162 656c 203d  .        label =
-0002abc0: 2064 6174 615f 776f 7264 202b 2046 6f6c   data_word + Fol
-0002abd0: 6c6f 7765 6442 7928 273a 2729 0a20 2020  lowedBy(':').   
-0002abe0: 2020 2020 2061 7474 725f 6578 7072 203d       attr_expr =
-0002abf0: 2047 726f 7570 286c 6162 656c 202b 2053   Group(label + S
-0002ac00: 7570 7072 6573 7328 273a 2729 202b 204f  uppress(':') + O
-0002ac10: 6e65 4f72 4d6f 7265 2864 6174 615f 776f  neOrMore(data_wo
-0002ac20: 7264 2c20 7374 6f70 5f6f 6e3d 6c61 6265  rd, stop_on=labe
-0002ac30: 6c29 2e73 6574 5f70 6172 7365 5f61 6374  l).set_parse_act
-0002ac40: 696f 6e28 2720 272e 6a6f 696e 2929 0a0a  ion(' '.join))..
-0002ac50: 2020 2020 2020 2020 6174 7472 5f65 7870          attr_exp
-0002ac60: 725b 312c 202e 2e2e 5d2e 7061 7273 655f  r[1, ...].parse_
-0002ac70: 7374 7269 6e67 2822 7368 6170 653a 2053  string("shape: S
-0002ac80: 5155 4152 4520 636f 6c6f 723a 2042 4c41  QUARE color: BLA
-0002ac90: 434b 2070 6f73 6e3a 2075 7070 6572 206c  CK posn: upper l
-0002aca0: 6566 7422 292e 7070 7269 6e74 2829 0a0a  eft").pprint()..
-0002acb0: 2020 2020 7072 696e 7473 3a3a 0a0a 2020      prints::..  
-0002acc0: 2020 2020 2020 5b5b 2773 6861 7065 272c        [['shape',
-0002acd0: 2027 5351 5541 5245 275d 2c20 5b27 636f   'SQUARE'], ['co
-0002ace0: 6c6f 7227 2c20 2742 4c41 434b 275d 2c20  lor', 'BLACK'], 
-0002acf0: 5b27 706f 736e 272c 2027 7570 7065 7220  ['posn', 'upper 
-0002ad00: 6c65 6674 275d 5d0a 2020 2020 2222 220a  left']].    """.
-0002ad10: 0a20 2020 2064 6566 205f 5f69 6e69 745f  .    def __init_
-0002ad20: 5f28 7365 6c66 2c20 6578 7072 3a20 556e  _(self, expr: Un
-0002ad30: 696f 6e5b 5061 7273 6572 456c 656d 656e  ion[ParserElemen
-0002ad40: 742c 2073 7472 5d29 3a0a 2020 2020 2020  t, str]):.      
-0002ad50: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-0002ad60: 5f5f 2865 7870 7229 0a20 2020 2020 2020  __(expr).       
-0002ad70: 2073 656c 662e 6d61 7952 6574 7572 6e45   self.mayReturnE
-0002ad80: 6d70 7479 203d 2054 7275 650a 0a20 2020  mpty = True..   
-0002ad90: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
-0002ada0: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
-0002adb0: 6f63 2c20 646f 4163 7469 6f6e 733d 5472  oc, doActions=Tr
-0002adc0: 7565 293a 0a20 2020 2020 2020 2023 2062  ue):.        # b
-0002add0: 7920 7573 696e 6720 7365 6c66 2e5f 6578  y using self._ex
-0002ade0: 7072 2e70 6172 7365 2061 6e64 2064 656c  pr.parse and del
-0002adf0: 6574 696e 6720 7468 6520 636f 6e74 656e  eting the conten
-0002ae00: 7473 206f 6620 7468 6520 7265 7475 726e  ts of the return
-0002ae10: 6564 2050 6172 7365 5265 7375 6c74 7320  ed ParseResults 
-0002ae20: 6c69 7374 0a20 2020 2020 2020 2023 2077  list.        # w
-0002ae30: 6520 6b65 6570 2061 6e79 206e 616d 6564  e keep any named
-0002ae40: 2072 6573 756c 7473 2074 6861 7420 7765   results that we
-0002ae50: 7265 2064 6566 696e 6564 2069 6e20 7468  re defined in th
-0002ae60: 6520 466f 6c6c 6f77 6564 4279 2065 7870  e FollowedBy exp
-0002ae70: 7265 7373 696f 6e0a 2020 2020 2020 2020  ression.        
-0002ae80: 5f2c 2072 6574 203d 2073 656c 662e 6578  _, ret = self.ex
-0002ae90: 7072 2e5f 7061 7273 6528 696e 7374 7269  pr._parse(instri
-0002aea0: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
-0002aeb0: 6e73 3d64 6f41 6374 696f 6e73 290a 2020  ns=doActions).  
-0002aec0: 2020 2020 2020 6465 6c20 7265 745b 3a5d        del ret[:]
-0002aed0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0002aee0: 206c 6f63 2c20 7265 740a 0a0a 636c 6173   loc, ret...clas
-0002aef0: 7320 5072 6563 6564 6564 4279 2850 6172  s PrecededBy(Par
-0002af00: 7365 456c 656d 656e 7445 6e68 616e 6365  seElementEnhance
-0002af10: 293a 0a20 2020 2022 2222 4c6f 6f6b 6265  ):.    """Lookbe
-0002af20: 6869 6e64 206d 6174 6368 696e 6720 6f66  hind matching of
-0002af30: 2074 6865 2067 6976 656e 2070 6172 7365   the given parse
-0002af40: 2065 7870 7265 7373 696f 6e2e 0a20 2020   expression..   
-0002af50: 2060 6050 7265 6365 6465 6442 7960 6020   ``PrecededBy`` 
-0002af60: 646f 6573 206e 6f74 2061 6476 616e 6365  does not advance
-0002af70: 2074 6865 2070 6172 7369 6e67 2070 6f73   the parsing pos
-0002af80: 6974 696f 6e20 7769 7468 696e 2074 6865  ition within the
-0002af90: 0a20 2020 2069 6e70 7574 2073 7472 696e  .    input strin
-0002afa0: 672c 2069 7420 6f6e 6c79 2076 6572 6966  g, it only verif
-0002afb0: 6965 7320 7468 6174 2074 6865 2073 7065  ies that the spe
-0002afc0: 6369 6669 6564 2070 6172 7365 2065 7870  cified parse exp
-0002afd0: 7265 7373 696f 6e0a 2020 2020 6d61 7463  ression.    matc
-0002afe0: 6865 7320 7072 696f 7220 746f 2074 6865  hes prior to the
-0002aff0: 2063 7572 7265 6e74 2070 6f73 6974 696f   current positio
-0002b000: 6e2e 2020 6060 5072 6563 6564 6564 4279  n.  ``PrecededBy
-0002b010: 6060 2061 6c77 6179 730a 2020 2020 7265  `` always.    re
-0002b020: 7475 726e 7320 6120 6e75 6c6c 2074 6f6b  turns a null tok
-0002b030: 656e 206c 6973 742c 2062 7574 2069 6620  en list, but if 
-0002b040: 6120 7265 7375 6c74 7320 6e61 6d65 2069  a results name i
-0002b050: 7320 6465 6669 6e65 6420 6f6e 2074 6865  s defined on the
-0002b060: 0a20 2020 2067 6976 656e 2065 7870 7265  .    given expre
-0002b070: 7373 696f 6e2c 2069 7420 6973 2072 6574  ssion, it is ret
-0002b080: 7572 6e65 642e 0a0a 2020 2020 5061 7261  urned...    Para
-0002b090: 6d65 7465 7273 3a0a 0a20 2020 202d 2060  meters:..    - `
-0002b0a0: 6065 7870 7260 6020 2d20 6578 7072 6573  `expr`` - expres
-0002b0b0: 7369 6f6e 2074 6861 7420 6d75 7374 206d  sion that must m
-0002b0c0: 6174 6368 2070 7269 6f72 2074 6f20 7468  atch prior to th
-0002b0d0: 6520 6375 7272 656e 7420 7061 7273 650a  e current parse.
-0002b0e0: 2020 2020 2020 6c6f 6361 7469 6f6e 0a20        location. 
-0002b0f0: 2020 202d 2060 6072 6574 7265 6174 6060     - ``retreat``
-0002b100: 202d 2028 6465 6661 756c 743d 2060 604e   - (default= ``N
-0002b110: 6f6e 6560 6029 202d 2028 696e 7429 206d  one``) - (int) m
-0002b120: 6178 696d 756d 206e 756d 6265 7220 6f66  aximum number of
-0002b130: 2063 6861 7261 6374 6572 730a 2020 2020   characters.    
-0002b140: 2020 746f 206c 6f6f 6b62 6568 696e 6420    to lookbehind 
-0002b150: 7072 696f 7220 746f 2074 6865 2063 7572  prior to the cur
-0002b160: 7265 6e74 2070 6172 7365 206c 6f63 6174  rent parse locat
-0002b170: 696f 6e0a 0a20 2020 2049 6620 7468 6520  ion..    If the 
-0002b180: 6c6f 6f6b 6265 6869 6e64 2065 7870 7265  lookbehind expre
-0002b190: 7373 696f 6e20 6973 2061 2073 7472 696e  ssion is a strin
-0002b1a0: 672c 203a 636c 6173 733a 604c 6974 6572  g, :class:`Liter
-0002b1b0: 616c 602c 0a20 2020 203a 636c 6173 733a  al`,.    :class:
-0002b1c0: 604b 6579 776f 7264 602c 206f 7220 6120  `Keyword`, or a 
-0002b1d0: 3a63 6c61 7373 3a60 576f 7264 6020 6f72  :class:`Word` or
-0002b1e0: 203a 636c 6173 733a 6043 6861 7273 4e6f   :class:`CharsNo
-0002b1f0: 7449 6e60 0a20 2020 2077 6974 6820 6120  tIn`.    with a 
-0002b200: 7370 6563 6966 6965 6420 6578 6163 7420  specified exact 
-0002b210: 6f72 206d 6178 696d 756d 206c 656e 6774  or maximum lengt
-0002b220: 682c 2074 6865 6e20 7468 6520 7265 7472  h, then the retr
-0002b230: 6561 740a 2020 2020 7061 7261 6d65 7465  eat.    paramete
-0002b240: 7220 6973 206e 6f74 2072 6571 7569 7265  r is not require
-0002b250: 642e 204f 7468 6572 7769 7365 2c20 7265  d. Otherwise, re
-0002b260: 7472 6561 7420 6d75 7374 2062 6520 7370  treat must be sp
-0002b270: 6563 6966 6965 6420 746f 0a20 2020 2067  ecified to.    g
-0002b280: 6976 6520 6120 6d61 7869 6d75 6d20 6e75  ive a maximum nu
-0002b290: 6d62 6572 206f 6620 6368 6172 6163 7465  mber of characte
-0002b2a0: 7273 2074 6f20 6c6f 6f6b 2062 6163 6b20  rs to look back 
-0002b2b0: 6672 6f6d 0a20 2020 2074 6865 2063 7572  from.    the cur
-0002b2c0: 7265 6e74 2070 6172 7365 2070 6f73 6974  rent parse posit
-0002b2d0: 696f 6e20 666f 7220 6120 6c6f 6f6b 6265  ion for a lookbe
-0002b2e0: 6869 6e64 206d 6174 6368 2e0a 0a20 2020  hind match...   
-0002b2f0: 2045 7861 6d70 6c65 3a3a 0a0a 2020 2020   Example::..    
-0002b300: 2020 2020 2320 5642 2d73 7479 6c65 2076      # VB-style v
-0002b310: 6172 6961 626c 6520 6e61 6d65 7320 7769  ariable names wi
-0002b320: 7468 2074 7970 6520 7072 6566 6978 6573  th type prefixes
-0002b330: 0a20 2020 2020 2020 2069 6e74 5f76 6172  .        int_var
-0002b340: 203d 2050 7265 6365 6465 6442 7928 2223   = PrecededBy("#
-0002b350: 2229 202b 2070 7970 6172 7369 6e67 5f63  ") + pyparsing_c
-0002b360: 6f6d 6d6f 6e2e 6964 656e 7469 6669 6572  ommon.identifier
-0002b370: 0a20 2020 2020 2020 2073 7472 5f76 6172  .        str_var
-0002b380: 203d 2050 7265 6365 6465 6442 7928 2224   = PrecededBy("$
-0002b390: 2229 202b 2070 7970 6172 7369 6e67 5f63  ") + pyparsing_c
-0002b3a0: 6f6d 6d6f 6e2e 6964 656e 7469 6669 6572  ommon.identifier
-0002b3b0: 0a0a 2020 2020 2222 220a 0a20 2020 2064  ..    """..    d
-0002b3c0: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
-0002b3d0: 2020 2020 2073 656c 662c 2065 7870 723a       self, expr:
-0002b3e0: 2055 6e69 6f6e 5b50 6172 7365 7245 6c65   Union[ParserEle
-0002b3f0: 6d65 6e74 2c20 7374 725d 2c20 7265 7472  ment, str], retr
-0002b400: 6561 743a 2074 7970 696e 672e 4f70 7469  eat: typing.Opti
-0002b410: 6f6e 616c 5b69 6e74 5d20 3d20 4e6f 6e65  onal[int] = None
-0002b420: 0a20 2020 2029 3a0a 2020 2020 2020 2020  .    ):.        
-0002b430: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
-0002b440: 2865 7870 7229 0a20 2020 2020 2020 2073  (expr).        s
-0002b450: 656c 662e 6578 7072 203d 2073 656c 662e  elf.expr = self.
-0002b460: 6578 7072 2829 2e6c 6561 7665 5f77 6869  expr().leave_whi
-0002b470: 7465 7370 6163 6528 290a 2020 2020 2020  tespace().      
-0002b480: 2020 7365 6c66 2e6d 6179 5265 7475 726e    self.mayReturn
-0002b490: 456d 7074 7920 3d20 5472 7565 0a20 2020  Empty = True.   
-0002b4a0: 2020 2020 2073 656c 662e 6d61 7949 6e64       self.mayInd
-0002b4b0: 6578 4572 726f 7220 3d20 4661 6c73 650a  exError = False.
-0002b4c0: 2020 2020 2020 2020 7365 6c66 2e65 7861          self.exa
-0002b4d0: 6374 203d 2046 616c 7365 0a20 2020 2020  ct = False.     
-0002b4e0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-0002b4f0: 2865 7870 722c 2073 7472 5f74 7970 6529  (expr, str_type)
-0002b500: 3a0a 2020 2020 2020 2020 2020 2020 6578  :.            ex
-0002b510: 7072 203d 2074 7970 696e 672e 6361 7374  pr = typing.cast
-0002b520: 2873 7472 2c20 6578 7072 290a 2020 2020  (str, expr).    
-0002b530: 2020 2020 2020 2020 7265 7472 6561 7420          retreat 
-0002b540: 3d20 6c65 6e28 6578 7072 290a 2020 2020  = len(expr).    
-0002b550: 2020 2020 2020 2020 7365 6c66 2e65 7861          self.exa
-0002b560: 6374 203d 2054 7275 650a 2020 2020 2020  ct = True.      
-0002b570: 2020 656c 6966 2069 7369 6e73 7461 6e63    elif isinstanc
-0002b580: 6528 6578 7072 2c20 284c 6974 6572 616c  e(expr, (Literal
-0002b590: 2c20 4b65 7977 6f72 6429 293a 0a20 2020  , Keyword)):.   
-0002b5a0: 2020 2020 2020 2020 2072 6574 7265 6174           retreat
-0002b5b0: 203d 2065 7870 722e 6d61 7463 684c 656e   = expr.matchLen
-0002b5c0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0002b5d0: 662e 6578 6163 7420 3d20 5472 7565 0a20  f.exact = True. 
-0002b5e0: 2020 2020 2020 2065 6c69 6620 6973 696e         elif isin
-0002b5f0: 7374 616e 6365 2865 7870 722c 2028 576f  stance(expr, (Wo
-0002b600: 7264 2c20 4368 6172 734e 6f74 496e 2929  rd, CharsNotIn))
-0002b610: 2061 6e64 2065 7870 722e 6d61 784c 656e   and expr.maxLen
-0002b620: 2021 3d20 5f4d 4158 5f49 4e54 3a0a 2020   != _MAX_INT:.  
-0002b630: 2020 2020 2020 2020 2020 7265 7472 6561            retrea
-0002b640: 7420 3d20 6578 7072 2e6d 6178 4c65 6e0a  t = expr.maxLen.
-0002b650: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0002b660: 2e65 7861 6374 203d 2054 7275 650a 2020  .exact = True.  
-0002b670: 2020 2020 2020 656c 6966 2069 7369 6e73        elif isins
-0002b680: 7461 6e63 6528 6578 7072 2c20 506f 7369  tance(expr, Posi
-0002b690: 7469 6f6e 546f 6b65 6e29 3a0a 2020 2020  tionToken):.    
-0002b6a0: 2020 2020 2020 2020 7265 7472 6561 7420          retreat 
-0002b6b0: 3d20 300a 2020 2020 2020 2020 2020 2020  = 0.            
-0002b6c0: 7365 6c66 2e65 7861 6374 203d 2054 7275  self.exact = Tru
-0002b6d0: 650a 2020 2020 2020 2020 7365 6c66 2e72  e.        self.r
-0002b6e0: 6574 7265 6174 203d 2072 6574 7265 6174  etreat = retreat
-0002b6f0: 0a20 2020 2020 2020 2073 656c 662e 6572  .        self.er
-0002b700: 726d 7367 203d 2022 6e6f 7420 7072 6563  rmsg = "not prec
-0002b710: 6564 6564 2062 7920 2220 2b20 7374 7228  eded by " + str(
-0002b720: 6578 7072 290a 2020 2020 2020 2020 7365  expr).        se
-0002b730: 6c66 2e73 6b69 7057 6869 7465 7370 6163  lf.skipWhitespac
-0002b740: 6520 3d20 4661 6c73 650a 2020 2020 2020  e = False.      
-0002b750: 2020 7365 6c66 2e70 6172 7365 4163 7469    self.parseActi
-0002b760: 6f6e 2e61 7070 656e 6428 6c61 6d62 6461  on.append(lambda
-0002b770: 2073 2c20 6c2c 2074 3a20 742e 5f5f 6465   s, l, t: t.__de
-0002b780: 6c69 7465 6d5f 5f28 736c 6963 6528 4e6f  litem__(slice(No
-0002b790: 6e65 2c20 4e6f 6e65 2929 290a 0a20 2020  ne, None)))..   
-0002b7a0: 2064 6566 2070 6172 7365 496d 706c 2873   def parseImpl(s
-0002b7b0: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
-0002b7c0: 6f63 3d30 2c20 646f 4163 7469 6f6e 733d  oc=0, doActions=
-0002b7d0: 5472 7565 293a 0a20 2020 2020 2020 2069  True):.        i
-0002b7e0: 6620 7365 6c66 2e65 7861 6374 3a0a 2020  f self.exact:.  
-0002b7f0: 2020 2020 2020 2020 2020 6966 206c 6f63            if loc
-0002b800: 203c 2073 656c 662e 7265 7472 6561 743a   < self.retreat:
-0002b810: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002b820: 2072 6169 7365 2050 6172 7365 4578 6365   raise ParseExce
-0002b830: 7074 696f 6e28 696e 7374 7269 6e67 2c20  ption(instring, 
-0002b840: 6c6f 632c 2073 656c 662e 6572 726d 7367  loc, self.errmsg
-0002b850: 290a 2020 2020 2020 2020 2020 2020 7374  ).            st
-0002b860: 6172 7420 3d20 6c6f 6320 2d20 7365 6c66  art = loc - self
-0002b870: 2e72 6574 7265 6174 0a20 2020 2020 2020  .retreat.       
-0002b880: 2020 2020 205f 2c20 7265 7420 3d20 7365       _, ret = se
-0002b890: 6c66 2e65 7870 722e 5f70 6172 7365 2869  lf.expr._parse(i
-0002b8a0: 6e73 7472 696e 672c 2073 7461 7274 290a  nstring, start).
-0002b8b0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0002b8c0: 2020 2020 2020 2020 2020 2320 7265 7472            # retr
-0002b8d0: 6561 7420 7370 6563 6966 6965 6420 6120  eat specified a 
-0002b8e0: 6d61 7869 6d75 6d20 6c6f 6f6b 6265 6869  maximum lookbehi
-0002b8f0: 6e64 2077 696e 646f 772c 2069 7465 7261  nd window, itera
-0002b900: 7465 0a20 2020 2020 2020 2020 2020 2074  te.            t
-0002b910: 6573 745f 6578 7072 203d 2073 656c 662e  est_expr = self.
-0002b920: 6578 7072 202b 2053 7472 696e 6745 6e64  expr + StringEnd
-0002b930: 2829 0a20 2020 2020 2020 2020 2020 2069  ().            i
-0002b940: 6e73 7472 696e 675f 736c 6963 6520 3d20  nstring_slice = 
-0002b950: 696e 7374 7269 6e67 5b6d 6178 2830 2c20  instring[max(0, 
-0002b960: 6c6f 6320 2d20 7365 6c66 2e72 6574 7265  loc - self.retre
-0002b970: 6174 2920 3a20 6c6f 635d 0a20 2020 2020  at) : loc].     
-0002b980: 2020 2020 2020 206c 6173 745f 6578 7072         last_expr
-0002b990: 203d 2050 6172 7365 4578 6365 7074 696f   = ParseExceptio
-0002b9a0: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
-0002b9b0: 2073 656c 662e 6572 726d 7367 290a 2020   self.errmsg).  
-0002b9c0: 2020 2020 2020 2020 2020 666f 7220 6f66            for of
-0002b9d0: 6673 6574 2069 6e20 7261 6e67 6528 312c  fset in range(1,
-0002b9e0: 206d 696e 286c 6f63 2c20 7365 6c66 2e72   min(loc, self.r
-0002b9f0: 6574 7265 6174 202b 2031 2920 2b20 3129  etreat + 1) + 1)
-0002ba00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0002ba10: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-0002ba20: 2020 2020 2020 2020 2020 2023 2070 7269             # pri
-0002ba30: 6e74 2827 7472 7969 6e67 272c 206f 6666  nt('trying', off
-0002ba40: 7365 742c 2069 6e73 7472 696e 675f 736c  set, instring_sl
-0002ba50: 6963 652c 2072 6570 7228 696e 7374 7269  ice, repr(instri
-0002ba60: 6e67 5f73 6c69 6365 5b6c 6f63 202d 206f  ng_slice[loc - o
-0002ba70: 6666 7365 743a 5d29 290a 2020 2020 2020  ffset:])).      
-0002ba80: 2020 2020 2020 2020 2020 2020 2020 5f2c                _,
-0002ba90: 2072 6574 203d 2074 6573 745f 6578 7072   ret = test_expr
-0002baa0: 2e5f 7061 7273 6528 0a20 2020 2020 2020  ._parse(.       
-0002bab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bac0: 2069 6e73 7472 696e 675f 736c 6963 652c   instring_slice,
-0002bad0: 206c 656e 2869 6e73 7472 696e 675f 736c   len(instring_sl
-0002bae0: 6963 6529 202d 206f 6666 7365 740a 2020  ice) - offset.  
-0002baf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bb00: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-0002bb10: 2020 2020 6578 6365 7074 2050 6172 7365      except Parse
-0002bb20: 4261 7365 4578 6365 7074 696f 6e20 6173  BaseException as
-0002bb30: 2070 6265 3a0a 2020 2020 2020 2020 2020   pbe:.          
-0002bb40: 2020 2020 2020 2020 2020 6c61 7374 5f65            last_e
-0002bb50: 7870 7220 3d20 7062 650a 2020 2020 2020  xpr = pbe.      
-0002bb60: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-0002bb70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bb80: 2020 2020 6272 6561 6b0a 2020 2020 2020      break.      
-0002bb90: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0002bba0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0002bbb0: 6520 6c61 7374 5f65 7870 720a 2020 2020  e last_expr.    
-0002bbc0: 2020 2020 7265 7475 726e 206c 6f63 2c20      return loc, 
-0002bbd0: 7265 740a 0a0a 636c 6173 7320 4c6f 6361  ret...class Loca
-0002bbe0: 7465 6428 5061 7273 6545 6c65 6d65 6e74  ted(ParseElement
-0002bbf0: 456e 6861 6e63 6529 3a0a 2020 2020 2222  Enhance):.    ""
-0002bc00: 220a 2020 2020 4465 636f 7261 7465 7320  ".    Decorates 
-0002bc10: 6120 7265 7475 726e 6564 2074 6f6b 656e  a returned token
-0002bc20: 2077 6974 6820 6974 7320 7374 6172 7469   with its starti
-0002bc30: 6e67 2061 6e64 2065 6e64 696e 670a 2020  ng and ending.  
-0002bc40: 2020 6c6f 6361 7469 6f6e 7320 696e 2074    locations in t
-0002bc50: 6865 2069 6e70 7574 2073 7472 696e 672e  he input string.
-0002bc60: 0a0a 2020 2020 5468 6973 2068 656c 7065  ..    This helpe
-0002bc70: 7220 6164 6473 2074 6865 2066 6f6c 6c6f  r adds the follo
-0002bc80: 7769 6e67 2072 6573 756c 7473 206e 616d  wing results nam
-0002bc90: 6573 3a0a 0a20 2020 202d 2060 606c 6f63  es:..    - ``loc
-0002bca0: 6e5f 7374 6172 7460 6020 2d20 6c6f 6361  n_start`` - loca
-0002bcb0: 7469 6f6e 2077 6865 7265 206d 6174 6368  tion where match
-0002bcc0: 6564 2065 7870 7265 7373 696f 6e20 6265  ed expression be
-0002bcd0: 6769 6e73 0a20 2020 202d 2060 606c 6f63  gins.    - ``loc
-0002bce0: 6e5f 656e 6460 6020 2d20 6c6f 6361 7469  n_end`` - locati
-0002bcf0: 6f6e 2077 6865 7265 206d 6174 6368 6564  on where matched
-0002bd00: 2065 7870 7265 7373 696f 6e20 656e 6473   expression ends
-0002bd10: 0a20 2020 202d 2060 6076 616c 7565 6060  .    - ``value``
-0002bd20: 202d 2074 6865 2061 6374 7561 6c20 7061   - the actual pa
-0002bd30: 7273 6564 2072 6573 756c 7473 0a0a 2020  rsed results..  
-0002bd40: 2020 4265 2063 6172 6566 756c 2069 6620    Be careful if 
-0002bd50: 7468 6520 696e 7075 7420 7465 7874 2063  the input text c
-0002bd60: 6f6e 7461 696e 7320 6060 3c54 4142 3e60  ontains ``<TAB>`
-0002bd70: 6020 6368 6172 6163 7465 7273 2c20 796f  ` characters, yo
-0002bd80: 750a 2020 2020 6d61 7920 7761 6e74 2074  u.    may want t
-0002bd90: 6f20 6361 6c6c 203a 636c 6173 733a 6050  o call :class:`P
-0002bda0: 6172 7365 7245 6c65 6d65 6e74 2e70 6172  arserElement.par
-0002bdb0: 7365 5f77 6974 685f 7461 6273 600a 0a20  se_with_tabs`.. 
-0002bdc0: 2020 2045 7861 6d70 6c65 3a3a 0a0a 2020     Example::..  
-0002bdd0: 2020 2020 2020 7764 203d 2057 6f72 6428        wd = Word(
-0002bde0: 616c 7068 6173 290a 2020 2020 2020 2020  alphas).        
-0002bdf0: 666f 7220 6d61 7463 6820 696e 204c 6f63  for match in Loc
-0002be00: 6174 6564 2877 6429 2e73 6561 7263 685f  ated(wd).search_
-0002be10: 7374 7269 6e67 2822 6c6a 7364 6631 3233  string("ljsdf123
-0002be20: 6c6b 7364 6a6a 6631 3233 6c6b 6b6a 6a31  lksdjjf123lkkjj1
-0002be30: 3232 3222 293a 0a20 2020 2020 2020 2020  222"):.         
-0002be40: 2020 2070 7269 6e74 286d 6174 6368 290a     print(match).
-0002be50: 0a20 2020 2070 7269 6e74 733a 3a0a 0a20  .    prints::.. 
-0002be60: 2020 2020 2020 205b 302c 205b 276c 6a73         [0, ['ljs
-0002be70: 6466 275d 2c20 355d 0a20 2020 2020 2020  df'], 5].       
-0002be80: 205b 382c 205b 276c 6b73 646a 6a66 275d   [8, ['lksdjjf']
-0002be90: 2c20 3135 5d0a 2020 2020 2020 2020 5b31  , 15].        [1
-0002bea0: 382c 205b 276c 6b6b 6a6a 275d 2c20 3233  8, ['lkkjj'], 23
-0002beb0: 5d0a 0a20 2020 2022 2222 0a0a 2020 2020  ]..    """..    
-0002bec0: 6465 6620 7061 7273 6549 6d70 6c28 7365  def parseImpl(se
-0002bed0: 6c66 2c20 696e 7374 7269 6e67 2c20 6c6f  lf, instring, lo
-0002bee0: 632c 2064 6f41 6374 696f 6e73 3d54 7275  c, doActions=Tru
-0002bef0: 6529 3a0a 2020 2020 2020 2020 7374 6172  e):.        star
-0002bf00: 7420 3d20 6c6f 630a 2020 2020 2020 2020  t = loc.        
-0002bf10: 6c6f 632c 2074 6f6b 656e 7320 3d20 7365  loc, tokens = se
-0002bf20: 6c66 2e65 7870 722e 5f70 6172 7365 2869  lf.expr._parse(i
-0002bf30: 6e73 7472 696e 672c 2073 7461 7274 2c20  nstring, start, 
-0002bf40: 646f 4163 7469 6f6e 732c 2063 616c 6c50  doActions, callP
-0002bf50: 7265 5061 7273 653d 4661 6c73 6529 0a20  reParse=False). 
-0002bf60: 2020 2020 2020 2072 6574 5f74 6f6b 656e         ret_token
-0002bf70: 7320 3d20 5061 7273 6552 6573 756c 7473  s = ParseResults
-0002bf80: 285b 7374 6172 742c 2074 6f6b 656e 732c  ([start, tokens,
-0002bf90: 206c 6f63 5d29 0a20 2020 2020 2020 2072   loc]).        r
-0002bfa0: 6574 5f74 6f6b 656e 735b 226c 6f63 6e5f  et_tokens["locn_
-0002bfb0: 7374 6172 7422 5d20 3d20 7374 6172 740a  start"] = start.
-0002bfc0: 2020 2020 2020 2020 7265 745f 746f 6b65          ret_toke
-0002bfd0: 6e73 5b22 7661 6c75 6522 5d20 3d20 746f  ns["value"] = to
-0002bfe0: 6b65 6e73 0a20 2020 2020 2020 2072 6574  kens.        ret
-0002bff0: 5f74 6f6b 656e 735b 226c 6f63 6e5f 656e  _tokens["locn_en
-0002c000: 6422 5d20 3d20 6c6f 630a 2020 2020 2020  d"] = loc.      
-0002c010: 2020 6966 2073 656c 662e 7265 7375 6c74    if self.result
-0002c020: 734e 616d 653a 0a20 2020 2020 2020 2020  sName:.         
-0002c030: 2020 2023 206d 7573 7420 7265 7475 726e     # must return
-0002c040: 2061 7320 6120 6c69 7374 2c20 736f 2074   as a list, so t
-0002c050: 6861 7420 7468 6520 6e61 6d65 2077 696c  hat the name wil
-0002c060: 6c20 6265 2061 7474 6163 6865 6420 746f  l be attached to
-0002c070: 2074 6865 2063 6f6d 706c 6574 6520 6772   the complete gr
-0002c080: 6f75 700a 2020 2020 2020 2020 2020 2020  oup.            
-0002c090: 7265 7475 726e 206c 6f63 2c20 5b72 6574  return loc, [ret
-0002c0a0: 5f74 6f6b 656e 735d 0a20 2020 2020 2020  _tokens].       
-0002c0b0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0002c0c0: 2020 2072 6574 7572 6e20 6c6f 632c 2072     return loc, r
-0002c0d0: 6574 5f74 6f6b 656e 730a 0a0a 636c 6173  et_tokens...clas
-0002c0e0: 7320 4e6f 7441 6e79 2850 6172 7365 456c  s NotAny(ParseEl
-0002c0f0: 656d 656e 7445 6e68 616e 6365 293a 0a20  ementEnhance):. 
-0002c100: 2020 2022 2222 0a20 2020 204c 6f6f 6b61     """.    Looka
-0002c110: 6865 6164 2074 6f20 6469 7361 6c6c 6f77  head to disallow
-0002c120: 206d 6174 6368 696e 6720 7769 7468 2074   matching with t
-0002c130: 6865 2067 6976 656e 2070 6172 7365 2065  he given parse e
-0002c140: 7870 7265 7373 696f 6e2e 0a20 2020 2060  xpression..    `
-0002c150: 604e 6f74 416e 7960 6020 646f 6573 202a  `NotAny`` does *
-0002c160: 6e6f 742a 2061 6476 616e 6365 2074 6865  not* advance the
-0002c170: 2070 6172 7369 6e67 2070 6f73 6974 696f   parsing positio
-0002c180: 6e20 7769 7468 696e 2074 6865 0a20 2020  n within the.   
-0002c190: 2069 6e70 7574 2073 7472 696e 672c 2069   input string, i
-0002c1a0: 7420 6f6e 6c79 2076 6572 6966 6965 7320  t only verifies 
-0002c1b0: 7468 6174 2074 6865 2073 7065 6369 6669  that the specifi
-0002c1c0: 6564 2070 6172 7365 2065 7870 7265 7373  ed parse express
-0002c1d0: 696f 6e0a 2020 2020 646f 6573 202a 6e6f  ion.    does *no
-0002c1e0: 742a 206d 6174 6368 2061 7420 7468 6520  t* match at the 
-0002c1f0: 6375 7272 656e 7420 706f 7369 7469 6f6e  current position
-0002c200: 2e20 2041 6c73 6f2c 2060 604e 6f74 416e  .  Also, ``NotAn
-0002c210: 7960 6020 646f 6573 0a20 2020 202a 6e6f  y`` does.    *no
-0002c220: 742a 2073 6b69 7020 6f76 6572 206c 6561  t* skip over lea
-0002c230: 6469 6e67 2077 6869 7465 7370 6163 652e  ding whitespace.
-0002c240: 2060 604e 6f74 416e 7960 6020 616c 7761   ``NotAny`` alwa
-0002c250: 7973 2072 6574 7572 6e73 0a20 2020 2061  ys returns.    a
-0002c260: 206e 756c 6c20 746f 6b65 6e20 6c69 7374   null token list
-0002c270: 2e20 204d 6179 2062 6520 636f 6e73 7472  .  May be constr
-0002c280: 7563 7465 6420 7573 696e 6720 7468 6520  ucted using the 
-0002c290: 6060 277e 2760 6020 6f70 6572 6174 6f72  ``'~'`` operator
-0002c2a0: 2e0a 0a20 2020 2045 7861 6d70 6c65 3a3a  ...    Example::
-0002c2b0: 0a0a 2020 2020 2020 2020 414e 442c 204f  ..        AND, O
-0002c2c0: 522c 204e 4f54 203d 206d 6170 2843 6173  R, NOT = map(Cas
-0002c2d0: 656c 6573 734b 6579 776f 7264 2c20 2241  elessKeyword, "A
-0002c2e0: 4e44 204f 5220 4e4f 5422 2e73 706c 6974  ND OR NOT".split
-0002c2f0: 2829 290a 0a20 2020 2020 2020 2023 2074  ())..        # t
-0002c300: 616b 6520 6361 7265 206e 6f74 2074 6f20  ake care not to 
-0002c310: 6d69 7374 616b 6520 6b65 7977 6f72 6473  mistake keywords
-0002c320: 2066 6f72 2069 6465 6e74 6966 6965 7273   for identifiers
-0002c330: 0a20 2020 2020 2020 2069 6465 6e74 203d  .        ident =
-0002c340: 207e 2841 4e44 207c 204f 5220 7c20 4e4f   ~(AND | OR | NO
-0002c350: 5429 202b 2057 6f72 6428 616c 7068 6173  T) + Word(alphas
-0002c360: 290a 2020 2020 2020 2020 626f 6f6c 6561  ).        boolea
-0002c370: 6e5f 7465 726d 203d 204f 7074 284e 4f54  n_term = Opt(NOT
-0002c380: 2920 2b20 6964 656e 740a 0a20 2020 2020  ) + ident..     
-0002c390: 2020 2023 2076 6572 7920 6372 7564 6520     # very crude 
-0002c3a0: 626f 6f6c 6561 6e20 6578 7072 6573 7369  boolean expressi
-0002c3b0: 6f6e 202d 2074 6f20 7375 7070 6f72 7420  on - to support 
-0002c3c0: 7061 7265 6e74 6865 7369 7320 6772 6f75  parenthesis grou
-0002c3d0: 7073 2061 6e64 0a20 2020 2020 2020 2023  ps and.        #
-0002c3e0: 206f 7065 7261 7469 6f6e 2068 6965 7261   operation hiera
-0002c3f0: 7263 6879 2c20 7573 6520 696e 6669 785f  rchy, use infix_
-0002c400: 6e6f 7461 7469 6f6e 0a20 2020 2020 2020  notation.       
-0002c410: 2062 6f6f 6c65 616e 5f65 7870 7220 3d20   boolean_expr = 
-0002c420: 626f 6f6c 6561 6e5f 7465 726d 202b 2028  boolean_term + (
-0002c430: 2841 4e44 207c 204f 5229 202b 2062 6f6f  (AND | OR) + boo
-0002c440: 6c65 616e 5f74 6572 6d29 5b2e 2e2e 5d0a  lean_term)[...].
-0002c450: 0a20 2020 2020 2020 2023 2069 6e74 6567  .        # integ
-0002c460: 6572 7320 7468 6174 2061 7265 2066 6f6c  ers that are fol
-0002c470: 6c6f 7765 6420 6279 2022 2e22 2061 7265  lowed by "." are
-0002c480: 2061 6374 7561 6c6c 7920 666c 6f61 7473   actually floats
-0002c490: 0a20 2020 2020 2020 2069 6e74 6567 6572  .        integer
-0002c4a0: 203d 2057 6f72 6428 6e75 6d73 2920 2b20   = Word(nums) + 
-0002c4b0: 7e43 6861 7228 222e 2229 0a20 2020 2022  ~Char(".").    "
-0002c4c0: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
-0002c4d0: 6974 5f5f 2873 656c 662c 2065 7870 723a  it__(self, expr:
-0002c4e0: 2055 6e69 6f6e 5b50 6172 7365 7245 6c65   Union[ParserEle
-0002c4f0: 6d65 6e74 2c20 7374 725d 293a 0a20 2020  ment, str]):.   
-0002c500: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
-0002c510: 6e69 745f 5f28 6578 7072 290a 2020 2020  nit__(expr).    
-0002c520: 2020 2020 2320 646f 204e 4f54 2075 7365      # do NOT use
-0002c530: 2073 656c 662e 6c65 6176 655f 7768 6974   self.leave_whit
-0002c540: 6573 7061 6365 2829 2c20 646f 6e27 7420  espace(), don't 
-0002c550: 7761 6e74 2074 6f20 7072 6f70 6167 6174  want to propagat
-0002c560: 6520 746f 2065 7870 7273 0a20 2020 2020  e to exprs.     
-0002c570: 2020 2023 2073 656c 662e 6c65 6176 655f     # self.leave_
-0002c580: 7768 6974 6573 7061 6365 2829 0a20 2020  whitespace().   
-0002c590: 2020 2020 2073 656c 662e 736b 6970 5768       self.skipWh
-0002c5a0: 6974 6573 7061 6365 203d 2046 616c 7365  itespace = False
-0002c5b0: 0a0a 2020 2020 2020 2020 7365 6c66 2e6d  ..        self.m
-0002c5c0: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
-0002c5d0: 5472 7565 0a20 2020 2020 2020 2073 656c  True.        sel
-0002c5e0: 662e 6572 726d 7367 203d 2022 466f 756e  f.errmsg = "Foun
-0002c5f0: 6420 756e 7761 6e74 6564 2074 6f6b 656e  d unwanted token
-0002c600: 2c20 2220 2b20 7374 7228 7365 6c66 2e65  , " + str(self.e
-0002c610: 7870 7229 0a0a 2020 2020 6465 6620 7061  xpr)..    def pa
-0002c620: 7273 6549 6d70 6c28 7365 6c66 2c20 696e  rseImpl(self, in
-0002c630: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
-0002c640: 6374 696f 6e73 3d54 7275 6529 3a0a 2020  ctions=True):.  
-0002c650: 2020 2020 2020 6966 2073 656c 662e 6578        if self.ex
-0002c660: 7072 2e63 616e 5f70 6172 7365 5f6e 6578  pr.can_parse_nex
-0002c670: 7428 696e 7374 7269 6e67 2c20 6c6f 6329  t(instring, loc)
-0002c680: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-0002c690: 6973 6520 5061 7273 6545 7863 6570 7469  ise ParseExcepti
-0002c6a0: 6f6e 2869 6e73 7472 696e 672c 206c 6f63  on(instring, loc
-0002c6b0: 2c20 7365 6c66 2e65 7272 6d73 672c 2073  , self.errmsg, s
-0002c6c0: 656c 6629 0a20 2020 2020 2020 2072 6574  elf).        ret
-0002c6d0: 7572 6e20 6c6f 632c 205b 5d0a 0a20 2020  urn loc, []..   
-0002c6e0: 2064 6566 205f 6765 6e65 7261 7465 4465   def _generateDe
-0002c6f0: 6661 756c 744e 616d 6528 7365 6c66 2920  faultName(self) 
-0002c700: 2d3e 2073 7472 3a0a 2020 2020 2020 2020  -> str:.        
-0002c710: 7265 7475 726e 2022 7e7b 2220 2b20 7374  return "~{" + st
-0002c720: 7228 7365 6c66 2e65 7870 7229 202b 2022  r(self.expr) + "
-0002c730: 7d22 0a0a 0a63 6c61 7373 205f 4d75 6c74  }"...class _Mult
-0002c740: 6970 6c65 4d61 7463 6828 5061 7273 6545  ipleMatch(ParseE
-0002c750: 6c65 6d65 6e74 456e 6861 6e63 6529 3a0a  lementEnhance):.
-0002c760: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-0002c770: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-0002c780: 2020 2020 2020 2020 6578 7072 3a20 556e          expr: Un
-0002c790: 696f 6e5b 7374 722c 2050 6172 7365 7245  ion[str, ParserE
-0002c7a0: 6c65 6d65 6e74 5d2c 0a20 2020 2020 2020  lement],.       
-0002c7b0: 2073 746f 705f 6f6e 3a20 7479 7069 6e67   stop_on: typing
-0002c7c0: 2e4f 7074 696f 6e61 6c5b 556e 696f 6e5b  .Optional[Union[
-0002c7d0: 5061 7273 6572 456c 656d 656e 742c 2073  ParserElement, s
-0002c7e0: 7472 5d5d 203d 204e 6f6e 652c 0a20 2020  tr]] = None,.   
-0002c7f0: 2020 2020 202a 2c0a 2020 2020 2020 2020       *,.        
-0002c800: 7374 6f70 4f6e 3a20 7479 7069 6e67 2e4f  stopOn: typing.O
-0002c810: 7074 696f 6e61 6c5b 556e 696f 6e5b 5061  ptional[Union[Pa
-0002c820: 7273 6572 456c 656d 656e 742c 2073 7472  rserElement, str
-0002c830: 5d5d 203d 204e 6f6e 652c 0a20 2020 2029  ]] = None,.    )
-0002c840: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
-0002c850: 292e 5f5f 696e 6974 5f5f 2865 7870 7229  ).__init__(expr)
-0002c860: 0a20 2020 2020 2020 2073 746f 704f 6e20  .        stopOn 
-0002c870: 3d20 7374 6f70 4f6e 206f 7220 7374 6f70  = stopOn or stop
-0002c880: 5f6f 6e0a 2020 2020 2020 2020 7365 6c66  _on.        self
-0002c890: 2e73 6176 6541 734c 6973 7420 3d20 5472  .saveAsList = Tr
-0002c8a0: 7565 0a20 2020 2020 2020 2065 6e64 6572  ue.        ender
-0002c8b0: 203d 2073 746f 704f 6e0a 2020 2020 2020   = stopOn.      
-0002c8c0: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-0002c8d0: 656e 6465 722c 2073 7472 5f74 7970 6529  ender, str_type)
-0002c8e0: 3a0a 2020 2020 2020 2020 2020 2020 656e  :.            en
-0002c8f0: 6465 7220 3d20 7365 6c66 2e5f 6c69 7465  der = self._lite
-0002c900: 7261 6c53 7472 696e 6743 6c61 7373 2865  ralStringClass(e
-0002c910: 6e64 6572 290a 2020 2020 2020 2020 7365  nder).        se
-0002c920: 6c66 2e73 746f 704f 6e28 656e 6465 7229  lf.stopOn(ender)
-0002c930: 0a0a 2020 2020 6465 6620 7374 6f70 4f6e  ..    def stopOn
-0002c940: 2873 656c 662c 2065 6e64 6572 2920 2d3e  (self, ender) ->
-0002c950: 2050 6172 7365 7245 6c65 6d65 6e74 3a0a   ParserElement:.
-0002c960: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-0002c970: 7461 6e63 6528 656e 6465 722c 2073 7472  tance(ender, str
-0002c980: 5f74 7970 6529 3a0a 2020 2020 2020 2020  _type):.        
-0002c990: 2020 2020 656e 6465 7220 3d20 7365 6c66      ender = self
-0002c9a0: 2e5f 6c69 7465 7261 6c53 7472 696e 6743  ._literalStringC
-0002c9b0: 6c61 7373 2865 6e64 6572 290a 2020 2020  lass(ender).    
-0002c9c0: 2020 2020 7365 6c66 2e6e 6f74 5f65 6e64      self.not_end
-0002c9d0: 6572 203d 207e 656e 6465 7220 6966 2065  er = ~ender if e
-0002c9e0: 6e64 6572 2069 7320 6e6f 7420 4e6f 6e65  nder is not None
-0002c9f0: 2065 6c73 6520 4e6f 6e65 0a20 2020 2020   else None.     
-0002ca00: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-0002ca10: 2020 2020 6465 6620 7061 7273 6549 6d70      def parseImp
-0002ca20: 6c28 7365 6c66 2c20 696e 7374 7269 6e67  l(self, instring
-0002ca30: 2c20 6c6f 632c 2064 6f41 6374 696f 6e73  , loc, doActions
-0002ca40: 3d54 7275 6529 3a0a 2020 2020 2020 2020  =True):.        
-0002ca50: 7365 6c66 5f65 7870 725f 7061 7273 6520  self_expr_parse 
-0002ca60: 3d20 7365 6c66 2e65 7870 722e 5f70 6172  = self.expr._par
-0002ca70: 7365 0a20 2020 2020 2020 2073 656c 665f  se.        self_
-0002ca80: 736b 6970 5f69 676e 6f72 6162 6c65 7320  skip_ignorables 
-0002ca90: 3d20 7365 6c66 2e5f 736b 6970 4967 6e6f  = self._skipIgno
-0002caa0: 7261 626c 6573 0a20 2020 2020 2020 2063  rables.        c
-0002cab0: 6865 636b 5f65 6e64 6572 203d 2073 656c  heck_ender = sel
-0002cac0: 662e 6e6f 745f 656e 6465 7220 6973 206e  f.not_ender is n
-0002cad0: 6f74 204e 6f6e 650a 2020 2020 2020 2020  ot None.        
-0002cae0: 6966 2063 6865 636b 5f65 6e64 6572 3a0a  if check_ender:.
-0002caf0: 2020 2020 2020 2020 2020 2020 7472 795f              try_
-0002cb00: 6e6f 745f 656e 6465 7220 3d20 7365 6c66  not_ender = self
-0002cb10: 2e6e 6f74 5f65 6e64 6572 2e74 7279 5f70  .not_ender.try_p
-0002cb20: 6172 7365 0a0a 2020 2020 2020 2020 2320  arse..        # 
-0002cb30: 6d75 7374 2062 6520 6174 206c 6561 7374  must be at least
-0002cb40: 206f 6e65 2028 6275 7420 6669 7273 7420   one (but first 
-0002cb50: 7365 6520 6966 2077 6520 6172 6520 7468  see if we are th
-0002cb60: 6520 7374 6f70 4f6e 2073 656e 7469 6e65  e stopOn sentine
-0002cb70: 6c3b 0a20 2020 2020 2020 2023 2069 6620  l;.        # if 
-0002cb80: 736f 2c20 6661 696c 290a 2020 2020 2020  so, fail).      
-0002cb90: 2020 6966 2063 6865 636b 5f65 6e64 6572    if check_ender
-0002cba0: 3a0a 2020 2020 2020 2020 2020 2020 7472  :.            tr
-0002cbb0: 795f 6e6f 745f 656e 6465 7228 696e 7374  y_not_ender(inst
-0002cbc0: 7269 6e67 2c20 6c6f 6329 0a20 2020 2020  ring, loc).     
-0002cbd0: 2020 206c 6f63 2c20 746f 6b65 6e73 203d     loc, tokens =
-0002cbe0: 2073 656c 665f 6578 7072 5f70 6172 7365   self_expr_parse
-0002cbf0: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
-0002cc00: 646f 4163 7469 6f6e 7329 0a20 2020 2020  doActions).     
-0002cc10: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-0002cc20: 2020 2020 6861 7349 676e 6f72 6545 7870      hasIgnoreExp
-0002cc30: 7273 203d 206e 6f74 206e 6f74 2073 656c  rs = not not sel
-0002cc40: 662e 6967 6e6f 7265 4578 7072 730a 2020  f.ignoreExprs.  
-0002cc50: 2020 2020 2020 2020 2020 7768 696c 6520            while 
-0002cc60: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
-0002cc70: 2020 2069 6620 6368 6563 6b5f 656e 6465     if check_ende
-0002cc80: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-0002cc90: 2020 2020 2020 2074 7279 5f6e 6f74 5f65         try_not_e
-0002cca0: 6e64 6572 2869 6e73 7472 696e 672c 206c  nder(instring, l
-0002ccb0: 6f63 290a 2020 2020 2020 2020 2020 2020  oc).            
-0002ccc0: 2020 2020 6966 2068 6173 4967 6e6f 7265      if hasIgnore
-0002ccd0: 4578 7072 733a 0a20 2020 2020 2020 2020  Exprs:.         
-0002cce0: 2020 2020 2020 2020 2020 2070 7265 6c6f             prelo
-0002ccf0: 6320 3d20 7365 6c66 5f73 6b69 705f 6967  c = self_skip_ig
-0002cd00: 6e6f 7261 626c 6573 2869 6e73 7472 696e  norables(instrin
-0002cd10: 672c 206c 6f63 290a 2020 2020 2020 2020  g, loc).        
-0002cd20: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0002cd30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cd40: 2020 7072 656c 6f63 203d 206c 6f63 0a20    preloc = loc. 
-0002cd50: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-0002cd60: 6f63 2c20 746d 7074 6f6b 656e 7320 3d20  oc, tmptokens = 
-0002cd70: 7365 6c66 5f65 7870 725f 7061 7273 6528  self_expr_parse(
-0002cd80: 696e 7374 7269 6e67 2c20 7072 656c 6f63  instring, preloc
-0002cd90: 2c20 646f 4163 7469 6f6e 7329 0a20 2020  , doActions).   
-0002cda0: 2020 2020 2020 2020 2020 2020 2074 6f6b               tok
-0002cdb0: 656e 7320 2b3d 2074 6d70 746f 6b65 6e73  ens += tmptokens
-0002cdc0: 0a20 2020 2020 2020 2065 7863 6570 7420  .        except 
-0002cdd0: 2850 6172 7365 4578 6365 7074 696f 6e2c  (ParseException,
-0002cde0: 2049 6e64 6578 4572 726f 7229 3a0a 2020   IndexError):.  
-0002cdf0: 2020 2020 2020 2020 2020 7061 7373 0a0a            pass..
-0002ce00: 2020 2020 2020 2020 7265 7475 726e 206c          return l
-0002ce10: 6f63 2c20 746f 6b65 6e73 0a0a 2020 2020  oc, tokens..    
-0002ce20: 6465 6620 5f73 6574 5265 7375 6c74 734e  def _setResultsN
-0002ce30: 616d 6528 7365 6c66 2c20 6e61 6d65 2c20  ame(self, name, 
-0002ce40: 6c69 7374 416c 6c4d 6174 6368 6573 3d46  listAllMatches=F
-0002ce50: 616c 7365 293a 0a20 2020 2020 2020 2069  alse):.        i
-0002ce60: 6620 280a 2020 2020 2020 2020 2020 2020  f (.            
-0002ce70: 5f5f 6469 6167 5f5f 2e77 6172 6e5f 756e  __diag__.warn_un
-0002ce80: 6772 6f75 7065 645f 6e61 6d65 645f 746f  grouped_named_to
-0002ce90: 6b65 6e73 5f69 6e5f 636f 6c6c 6563 7469  kens_in_collecti
-0002cea0: 6f6e 0a20 2020 2020 2020 2020 2020 2061  on.            a
-0002ceb0: 6e64 2044 6961 676e 6f73 7469 6373 2e77  nd Diagnostics.w
-0002cec0: 6172 6e5f 756e 6772 6f75 7065 645f 6e61  arn_ungrouped_na
-0002ced0: 6d65 645f 746f 6b65 6e73 5f69 6e5f 636f  med_tokens_in_co
-0002cee0: 6c6c 6563 7469 6f6e 0a20 2020 2020 2020  llection.       
-0002cef0: 2020 2020 206e 6f74 2069 6e20 7365 6c66       not in self
-0002cf00: 2e73 7570 7072 6573 735f 7761 726e 696e  .suppress_warnin
-0002cf10: 6773 5f0a 2020 2020 2020 2020 293a 0a20  gs_.        ):. 
-0002cf20: 2020 2020 2020 2020 2020 2066 6f72 2065             for e
-0002cf30: 2069 6e20 5b73 656c 662e 6578 7072 5d20   in [self.expr] 
-0002cf40: 2b20 7365 6c66 2e65 7870 722e 7265 6375  + self.expr.recu
-0002cf50: 7273 6528 293a 0a20 2020 2020 2020 2020  rse():.         
-0002cf60: 2020 2020 2020 2069 6620 280a 2020 2020         if (.    
-0002cf70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cf80: 6973 696e 7374 616e 6365 2865 2c20 5061  isinstance(e, Pa
-0002cf90: 7273 6572 456c 656d 656e 7429 0a20 2020  rserElement).   
-0002cfa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002cfb0: 2061 6e64 2065 2e72 6573 756c 7473 4e61   and e.resultsNa
-0002cfc0: 6d65 0a20 2020 2020 2020 2020 2020 2020  me.             
-0002cfd0: 2020 2020 2020 2061 6e64 2044 6961 676e         and Diagn
-0002cfe0: 6f73 7469 6373 2e77 6172 6e5f 756e 6772  ostics.warn_ungr
-0002cff0: 6f75 7065 645f 6e61 6d65 645f 746f 6b65  ouped_named_toke
-0002d000: 6e73 5f69 6e5f 636f 6c6c 6563 7469 6f6e  ns_in_collection
-0002d010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002d020: 2020 2020 206e 6f74 2069 6e20 652e 7375       not in e.su
-0002d030: 7070 7265 7373 5f77 6172 6e69 6e67 735f  ppress_warnings_
-0002d040: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002d050: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
-0002d060: 2020 2020 2020 2020 7761 726e 696e 6773          warnings
-0002d070: 2e77 6172 6e28 0a20 2020 2020 2020 2020  .warn(.         
-0002d080: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0002d090: 7b7d 3a20 7365 7474 696e 6720 7265 7375  {}: setting resu
-0002d0a0: 6c74 7320 6e61 6d65 207b 2172 7d20 6f6e  lts name {!r} on
-0002d0b0: 207b 7d20 6578 7072 6573 7369 6f6e 2022   {} expression "
-0002d0c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002d0d0: 2020 2020 2020 2020 2022 636f 6c6c 6964           "collid
-0002d0e0: 6573 2077 6974 6820 7b21 727d 206f 6e20  es with {!r} on 
-0002d0f0: 636f 6e74 6169 6e65 6420 6578 7072 6573  contained expres
-0002d100: 7369 6f6e 222e 666f 726d 6174 280a 2020  sion".format(.  
-0002d110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d120: 2020 2020 2020 2020 2020 2277 6172 6e5f            "warn_
-0002d130: 756e 6772 6f75 7065 645f 6e61 6d65 645f  ungrouped_named_
-0002d140: 746f 6b65 6e73 5f69 6e5f 636f 6c6c 6563  tokens_in_collec
-0002d150: 7469 6f6e 222c 0a20 2020 2020 2020 2020  tion",.         
-0002d160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d170: 2020 206e 616d 652c 0a20 2020 2020 2020     name,.       
+00028480: 2020 7066 652e 7061 7273 6572 5f65 6c65    pfe.parser_ele
+00028490: 6d65 6e74 203d 2065 0a20 2020 2020 2020  ment = e.       
+000284a0: 2020 2020 2020 2020 2020 2020 2066 6174               fat
+000284b0: 616c 732e 6170 7065 6e64 2870 6665 290a  als.append(pfe).
+000284c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000284d0: 2020 2020 6661 696c 6564 2e61 7070 656e      failed.appen
+000284e0: 6428 6529 0a20 2020 2020 2020 2020 2020  d(e).           
+000284f0: 2020 2020 2065 7863 6570 7420 5061 7273       except Pars
+00028500: 6545 7863 6570 7469 6f6e 3a0a 2020 2020  eException:.    
+00028510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028520: 6661 696c 6564 2e61 7070 656e 6428 6529  failed.append(e)
+00028530: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028540: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00028550: 2020 2020 2020 2020 2020 206d 6174 6368             match
+00028560: 4f72 6465 722e 6170 7065 6e64 2873 656c  Order.append(sel
+00028570: 662e 6f70 7431 6d61 702e 6765 7428 6964  f.opt1map.get(id
+00028580: 2865 292c 2065 2929 0a20 2020 2020 2020  (e), e)).       
+00028590: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000285a0: 6520 696e 2074 6d70 5265 7164 3a0a 2020  e in tmpReqd:.  
+000285b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000285c0: 2020 2020 2020 746d 7052 6571 642e 7265        tmpReqd.re
+000285d0: 6d6f 7665 2865 290a 2020 2020 2020 2020  move(e).        
+000285e0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+000285f0: 2065 2069 6e20 746d 704f 7074 3a0a 2020   e in tmpOpt:.  
+00028600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028610: 2020 2020 2020 746d 704f 7074 2e72 656d        tmpOpt.rem
+00028620: 6f76 6528 6529 0a20 2020 2020 2020 2020  ove(e).         
+00028630: 2020 2069 6620 6c65 6e28 6661 696c 6564     if len(failed
+00028640: 2920 3d3d 206c 656e 2874 6d70 4578 7072  ) == len(tmpExpr
+00028650: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
+00028660: 2020 2020 6b65 6570 4d61 7463 6869 6e67      keepMatching
+00028670: 203d 2046 616c 7365 0a0a 2020 2020 2020   = False..      
+00028680: 2020 2320 6c6f 6f6b 2066 6f72 2061 6e79    # look for any
+00028690: 2050 6172 7365 4661 7461 6c45 7863 6570   ParseFatalExcep
+000286a0: 7469 6f6e 730a 2020 2020 2020 2020 6966  tions.        if
+000286b0: 2066 6174 616c 733a 0a20 2020 2020 2020   fatals:.       
+000286c0: 2020 2020 2069 6620 6c65 6e28 6661 7461       if len(fata
+000286d0: 6c73 2920 3e20 313a 0a20 2020 2020 2020  ls) > 1:.       
+000286e0: 2020 2020 2020 2020 2066 6174 616c 732e           fatals.
+000286f0: 736f 7274 286b 6579 3d6c 616d 6264 6120  sort(key=lambda 
+00028700: 653a 202d 652e 6c6f 6329 0a20 2020 2020  e: -e.loc).     
+00028710: 2020 2020 2020 2020 2020 2069 6620 6661             if fa
+00028720: 7461 6c73 5b30 5d2e 6c6f 6320 3d3d 2066  tals[0].loc == f
+00028730: 6174 616c 735b 315d 2e6c 6f63 3a0a 2020  atals[1].loc:.  
+00028740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028750: 2020 6661 7461 6c73 2e73 6f72 7428 6b65    fatals.sort(ke
+00028760: 793d 6c61 6d62 6461 2065 3a20 282d 652e  y=lambda e: (-e.
+00028770: 6c6f 632c 202d 6c65 6e28 7374 7228 652e  loc, -len(str(e.
+00028780: 7061 7273 6572 5f65 6c65 6d65 6e74 2929  parser_element))
+00028790: 2929 0a20 2020 2020 2020 2020 2020 206d  )).            m
+000287a0: 6178 5f66 6174 616c 203d 2066 6174 616c  ax_fatal = fatal
+000287b0: 735b 305d 0a20 2020 2020 2020 2020 2020  s[0].           
+000287c0: 2072 6169 7365 206d 6178 5f66 6174 616c   raise max_fatal
+000287d0: 0a0a 2020 2020 2020 2020 6966 2074 6d70  ..        if tmp
+000287e0: 5265 7164 3a0a 2020 2020 2020 2020 2020  Reqd:.          
+000287f0: 2020 6d69 7373 696e 6720 3d20 222c 2022    missing = ", "
+00028800: 2e6a 6f69 6e28 5b73 7472 2865 2920 666f  .join([str(e) fo
+00028810: 7220 6520 696e 2074 6d70 5265 7164 5d29  r e in tmpReqd])
+00028820: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00028830: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
+00028840: 6e28 0a20 2020 2020 2020 2020 2020 2020  n(.             
+00028850: 2020 2069 6e73 7472 696e 672c 0a20 2020     instring,.   
+00028860: 2020 2020 2020 2020 2020 2020 206c 6f63               loc
+00028870: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00028880: 2020 6622 4d69 7373 696e 6720 6f6e 6520    f"Missing one 
+00028890: 6f72 206d 6f72 6520 7265 7175 6972 6564  or more required
+000288a0: 2065 6c65 6d65 6e74 7320 287b 6d69 7373   elements ({miss
+000288b0: 696e 677d 2922 2c0a 2020 2020 2020 2020  ing})",.        
+000288c0: 2020 2020 290a 0a20 2020 2020 2020 2023      )..        #
+000288d0: 2061 6464 2061 6e79 2075 6e6d 6174 6368   add any unmatch
+000288e0: 6564 204f 7074 732c 2069 6e20 6361 7365  ed Opts, in case
+000288f0: 2074 6865 7920 6861 7665 2064 6566 6175   they have defau
+00028900: 6c74 2076 616c 7565 7320 6465 6669 6e65  lt values define
+00028910: 640a 2020 2020 2020 2020 6d61 7463 684f  d.        matchO
+00028920: 7264 6572 202b 3d20 5b65 2066 6f72 2065  rder += [e for e
+00028930: 2069 6e20 7365 6c66 2e65 7870 7273 2069   in self.exprs i
+00028940: 6620 6973 696e 7374 616e 6365 2865 2c20  f isinstance(e, 
+00028950: 4f70 7429 2061 6e64 2065 2e65 7870 7220  Opt) and e.expr 
+00028960: 696e 2074 6d70 4f70 745d 0a0a 2020 2020  in tmpOpt]..    
+00028970: 2020 2020 746f 7461 6c5f 7265 7375 6c74      total_result
+00028980: 7320 3d20 5061 7273 6552 6573 756c 7473  s = ParseResults
+00028990: 285b 5d29 0a20 2020 2020 2020 2066 6f72  ([]).        for
+000289a0: 2065 2069 6e20 6d61 7463 684f 7264 6572   e in matchOrder
+000289b0: 3a0a 2020 2020 2020 2020 2020 2020 6c6f  :.            lo
+000289c0: 632c 2072 6573 756c 7473 203d 2065 2e5f  c, results = e._
+000289d0: 7061 7273 6528 696e 7374 7269 6e67 2c20  parse(instring, 
+000289e0: 6c6f 632c 2064 6f41 6374 696f 6e73 290a  loc, doActions).
+000289f0: 2020 2020 2020 2020 2020 2020 746f 7461              tota
+00028a00: 6c5f 7265 7375 6c74 7320 2b3d 2072 6573  l_results += res
+00028a10: 756c 7473 0a0a 2020 2020 2020 2020 7265  ults..        re
+00028a20: 7475 726e 206c 6f63 2c20 746f 7461 6c5f  turn loc, total_
+00028a30: 7265 7375 6c74 730a 0a20 2020 2064 6566  results..    def
+00028a40: 205f 6765 6e65 7261 7465 4465 6661 756c   _generateDefaul
+00028a50: 744e 616d 6528 7365 6c66 2920 2d3e 2073  tName(self) -> s
+00028a60: 7472 3a0a 2020 2020 2020 2020 7265 7475  tr:.        retu
+00028a70: 726e 2022 7b22 202b 2022 2026 2022 2e6a  rn "{" + " & ".j
+00028a80: 6f69 6e28 7374 7228 6529 2066 6f72 2065  oin(str(e) for e
+00028a90: 2069 6e20 7365 6c66 2e65 7870 7273 2920   in self.exprs) 
+00028aa0: 2b20 227d 220a 0a0a 636c 6173 7320 5061  + "}"...class Pa
+00028ab0: 7273 6545 6c65 6d65 6e74 456e 6861 6e63  rseElementEnhanc
+00028ac0: 6528 5061 7273 6572 456c 656d 656e 7429  e(ParserElement)
+00028ad0: 3a0a 2020 2020 2222 2241 6273 7472 6163  :.    """Abstrac
+00028ae0: 7420 7375 6263 6c61 7373 206f 6620 3a63  t subclass of :c
+00028af0: 6c61 7373 3a60 5061 7273 6572 456c 656d  lass:`ParserElem
+00028b00: 656e 7460 2c20 666f 7220 636f 6d62 696e  ent`, for combin
+00028b10: 696e 6720 616e 640a 2020 2020 706f 7374  ing and.    post
+00028b20: 2d70 726f 6365 7373 696e 6720 7061 7273  -processing pars
+00028b30: 6564 2074 6f6b 656e 732e 0a20 2020 2022  ed tokens..    "
+00028b40: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
+00028b50: 6974 5f5f 2873 656c 662c 2065 7870 723a  it__(self, expr:
+00028b60: 2055 6e69 6f6e 5b50 6172 7365 7245 6c65   Union[ParserEle
+00028b70: 6d65 6e74 2c20 7374 725d 2c20 7361 7665  ment, str], save
+00028b80: 6c69 7374 3a20 626f 6f6c 203d 2046 616c  list: bool = Fal
+00028b90: 7365 293a 0a20 2020 2020 2020 2073 7570  se):.        sup
+00028ba0: 6572 2829 2e5f 5f69 6e69 745f 5f28 7361  er().__init__(sa
+00028bb0: 7665 6c69 7374 290a 2020 2020 2020 2020  velist).        
+00028bc0: 6966 2069 7369 6e73 7461 6e63 6528 6578  if isinstance(ex
+00028bd0: 7072 2c20 7374 725f 7479 7065 293a 0a20  pr, str_type):. 
+00028be0: 2020 2020 2020 2020 2020 2065 7870 725f             expr_
+00028bf0: 7374 7220 3d20 7479 7069 6e67 2e63 6173  str = typing.cas
+00028c00: 7428 7374 722c 2065 7870 7229 0a20 2020  t(str, expr).   
+00028c10: 2020 2020 2020 2020 2069 6620 6973 7375           if issu
+00028c20: 6263 6c61 7373 2873 656c 662e 5f6c 6974  bclass(self._lit
+00028c30: 6572 616c 5374 7269 6e67 436c 6173 732c  eralStringClass,
+00028c40: 2054 6f6b 656e 293a 0a20 2020 2020 2020   Token):.       
+00028c50: 2020 2020 2020 2020 2065 7870 7220 3d20           expr = 
+00028c60: 7365 6c66 2e5f 6c69 7465 7261 6c53 7472  self._literalStr
+00028c70: 696e 6743 6c61 7373 2865 7870 725f 7374  ingClass(expr_st
+00028c80: 7229 2020 2320 7479 7065 3a20 6967 6e6f  r)  # type: igno
+00028c90: 7265 5b63 616c 6c2d 6172 675d 0a20 2020  re[call-arg].   
+00028ca0: 2020 2020 2020 2020 2065 6c69 6620 6973           elif is
+00028cb0: 7375 6263 6c61 7373 2874 7970 6528 7365  subclass(type(se
+00028cc0: 6c66 292c 2073 656c 662e 5f6c 6974 6572  lf), self._liter
+00028cd0: 616c 5374 7269 6e67 436c 6173 7329 3a0a  alStringClass):.
+00028ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028cf0: 6578 7072 203d 204c 6974 6572 616c 2865  expr = Literal(e
+00028d00: 7870 725f 7374 7229 0a20 2020 2020 2020  xpr_str).       
+00028d10: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00028d20: 2020 2020 2020 2020 2020 2065 7870 7220             expr 
+00028d30: 3d20 7365 6c66 2e5f 6c69 7465 7261 6c53  = self._literalS
+00028d40: 7472 696e 6743 6c61 7373 284c 6974 6572  tringClass(Liter
+00028d50: 616c 2865 7870 725f 7374 7229 2920 2023  al(expr_str))  #
+00028d60: 2074 7970 653a 2069 676e 6f72 655b 6173   type: ignore[as
+00028d70: 7369 676e 6d65 6e74 2c20 6361 6c6c 2d61  signment, call-a
+00028d80: 7267 5d0a 2020 2020 2020 2020 6578 7072  rg].        expr
+00028d90: 203d 2074 7970 696e 672e 6361 7374 2850   = typing.cast(P
+00028da0: 6172 7365 7245 6c65 6d65 6e74 2c20 6578  arserElement, ex
+00028db0: 7072 290a 2020 2020 2020 2020 7365 6c66  pr).        self
+00028dc0: 2e65 7870 7220 3d20 6578 7072 0a20 2020  .expr = expr.   
+00028dd0: 2020 2020 2069 6620 6578 7072 2069 7320       if expr is 
+00028de0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+00028df0: 2020 2020 2020 7365 6c66 2e6d 6179 496e        self.mayIn
+00028e00: 6465 7845 7272 6f72 203d 2065 7870 722e  dexError = expr.
+00028e10: 6d61 7949 6e64 6578 4572 726f 720a 2020  mayIndexError.  
+00028e20: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+00028e30: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
+00028e40: 6578 7072 2e6d 6179 5265 7475 726e 456d  expr.mayReturnEm
+00028e50: 7074 790a 2020 2020 2020 2020 2020 2020  pty.            
+00028e60: 7365 6c66 2e73 6574 5f77 6869 7465 7370  self.set_whitesp
+00028e70: 6163 655f 6368 6172 7328 0a20 2020 2020  ace_chars(.     
+00028e80: 2020 2020 2020 2020 2020 2065 7870 722e             expr.
+00028e90: 7768 6974 6543 6861 7273 2c20 636f 7079  whiteChars, copy
+00028ea0: 5f64 6566 6175 6c74 733d 6578 7072 2e63  _defaults=expr.c
+00028eb0: 6f70 7944 6566 6175 6c74 5768 6974 6543  opyDefaultWhiteC
+00028ec0: 6861 7273 0a20 2020 2020 2020 2020 2020  hars.           
+00028ed0: 2029 0a20 2020 2020 2020 2020 2020 2073   ).            s
+00028ee0: 656c 662e 736b 6970 5768 6974 6573 7061  elf.skipWhitespa
+00028ef0: 6365 203d 2065 7870 722e 736b 6970 5768  ce = expr.skipWh
+00028f00: 6974 6573 7061 6365 0a20 2020 2020 2020  itespace.       
+00028f10: 2020 2020 2073 656c 662e 7361 7665 4173       self.saveAs
+00028f20: 4c69 7374 203d 2065 7870 722e 7361 7665  List = expr.save
+00028f30: 4173 4c69 7374 0a20 2020 2020 2020 2020  AsList.         
+00028f40: 2020 2073 656c 662e 6361 6c6c 5072 6570     self.callPrep
+00028f50: 6172 7365 203d 2065 7870 722e 6361 6c6c  arse = expr.call
+00028f60: 5072 6570 6172 7365 0a20 2020 2020 2020  Preparse.       
+00028f70: 2020 2020 2073 656c 662e 6967 6e6f 7265       self.ignore
+00028f80: 4578 7072 732e 6578 7465 6e64 2865 7870  Exprs.extend(exp
+00028f90: 722e 6967 6e6f 7265 4578 7072 7329 0a0a  r.ignoreExprs)..
+00028fa0: 2020 2020 6465 6620 7265 6375 7273 6528      def recurse(
+00028fb0: 7365 6c66 2920 2d3e 204c 6973 745b 5061  self) -> List[Pa
+00028fc0: 7273 6572 456c 656d 656e 745d 3a0a 2020  rserElement]:.  
+00028fd0: 2020 2020 2020 7265 7475 726e 205b 7365        return [se
+00028fe0: 6c66 2e65 7870 725d 2069 6620 7365 6c66  lf.expr] if self
+00028ff0: 2e65 7870 7220 6973 206e 6f74 204e 6f6e  .expr is not Non
+00029000: 6520 656c 7365 205b 5d0a 0a20 2020 2064  e else []..    d
+00029010: 6566 2070 6172 7365 496d 706c 2873 656c  ef parseImpl(sel
+00029020: 662c 2069 6e73 7472 696e 672c 206c 6f63  f, instring, loc
+00029030: 2c20 646f 4163 7469 6f6e 733d 5472 7565  , doActions=True
+00029040: 293a 0a20 2020 2020 2020 2069 6620 7365  ):.        if se
+00029050: 6c66 2e65 7870 7220 6973 206e 6f74 204e  lf.expr is not N
+00029060: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+00029070: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00029080: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00029090: 662e 6578 7072 2e5f 7061 7273 6528 696e  f.expr._parse(in
+000290a0: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
+000290b0: 6374 696f 6e73 2c20 6361 6c6c 5072 6550  ctions, callPreP
+000290c0: 6172 7365 3d46 616c 7365 290a 2020 2020  arse=False).    
+000290d0: 2020 2020 2020 2020 6578 6365 7074 2050          except P
+000290e0: 6172 7365 4261 7365 4578 6365 7074 696f  arseBaseExceptio
+000290f0: 6e20 6173 2070 6265 3a0a 2020 2020 2020  n as pbe:.      
+00029100: 2020 2020 2020 2020 2020 7062 652e 6d73            pbe.ms
+00029110: 6720 3d20 7365 6c66 2e65 7272 6d73 670a  g = self.errmsg.
+00029120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029130: 7261 6973 650a 2020 2020 2020 2020 656c  raise.        el
+00029140: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00029150: 7261 6973 6520 5061 7273 6545 7863 6570  raise ParseExcep
+00029160: 7469 6f6e 2869 6e73 7472 696e 672c 206c  tion(instring, l
+00029170: 6f63 2c20 224e 6f20 6578 7072 6573 7369  oc, "No expressi
+00029180: 6f6e 2064 6566 696e 6564 222c 2073 656c  on defined", sel
+00029190: 6629 0a0a 2020 2020 6465 6620 6c65 6176  f)..    def leav
+000291a0: 655f 7768 6974 6573 7061 6365 2873 656c  e_whitespace(sel
+000291b0: 662c 2072 6563 7572 7369 7665 3a20 626f  f, recursive: bo
+000291c0: 6f6c 203d 2054 7275 6529 202d 3e20 5061  ol = True) -> Pa
+000291d0: 7273 6572 456c 656d 656e 743a 0a20 2020  rserElement:.   
+000291e0: 2020 2020 2073 7570 6572 2829 2e6c 6561       super().lea
+000291f0: 7665 5f77 6869 7465 7370 6163 6528 7265  ve_whitespace(re
+00029200: 6375 7273 6976 6529 0a0a 2020 2020 2020  cursive)..      
+00029210: 2020 6966 2072 6563 7572 7369 7665 3a0a    if recursive:.
+00029220: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+00029230: 656c 662e 6578 7072 2069 7320 6e6f 7420  elf.expr is not 
+00029240: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00029250: 2020 2020 2020 7365 6c66 2e65 7870 7220        self.expr 
+00029260: 3d20 7365 6c66 2e65 7870 722e 636f 7079  = self.expr.copy
+00029270: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+00029280: 2020 2073 656c 662e 6578 7072 2e6c 6561     self.expr.lea
+00029290: 7665 5f77 6869 7465 7370 6163 6528 7265  ve_whitespace(re
+000292a0: 6375 7273 6976 6529 0a20 2020 2020 2020  cursive).       
+000292b0: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
+000292c0: 2020 6465 6620 6967 6e6f 7265 5f77 6869    def ignore_whi
+000292d0: 7465 7370 6163 6528 7365 6c66 2c20 7265  tespace(self, re
+000292e0: 6375 7273 6976 653a 2062 6f6f 6c20 3d20  cursive: bool = 
+000292f0: 5472 7565 2920 2d3e 2050 6172 7365 7245  True) -> ParserE
+00029300: 6c65 6d65 6e74 3a0a 2020 2020 2020 2020  lement:.        
+00029310: 7375 7065 7228 292e 6967 6e6f 7265 5f77  super().ignore_w
+00029320: 6869 7465 7370 6163 6528 7265 6375 7273  hitespace(recurs
+00029330: 6976 6529 0a0a 2020 2020 2020 2020 6966  ive)..        if
+00029340: 2072 6563 7572 7369 7665 3a0a 2020 2020   recursive:.    
+00029350: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00029360: 6578 7072 2069 7320 6e6f 7420 4e6f 6e65  expr is not None
+00029370: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00029380: 2020 7365 6c66 2e65 7870 7220 3d20 7365    self.expr = se
+00029390: 6c66 2e65 7870 722e 636f 7079 2829 0a20  lf.expr.copy(). 
+000293a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000293b0: 656c 662e 6578 7072 2e69 676e 6f72 655f  elf.expr.ignore_
+000293c0: 7768 6974 6573 7061 6365 2872 6563 7572  whitespace(recur
+000293d0: 7369 7665 290a 2020 2020 2020 2020 7265  sive).        re
+000293e0: 7475 726e 2073 656c 660a 0a20 2020 2064  turn self..    d
+000293f0: 6566 2069 676e 6f72 6528 7365 6c66 2c20  ef ignore(self, 
+00029400: 6f74 6865 7229 202d 3e20 5061 7273 6572  other) -> Parser
+00029410: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
+00029420: 2069 6620 6973 696e 7374 616e 6365 286f   if isinstance(o
+00029430: 7468 6572 2c20 5375 7070 7265 7373 293a  ther, Suppress):
+00029440: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00029450: 6f74 6865 7220 6e6f 7420 696e 2073 656c  other not in sel
+00029460: 662e 6967 6e6f 7265 4578 7072 733a 0a20  f.ignoreExprs:. 
+00029470: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00029480: 7570 6572 2829 2e69 676e 6f72 6528 6f74  uper().ignore(ot
+00029490: 6865 7229 0a20 2020 2020 2020 2020 2020  her).           
+000294a0: 2020 2020 2069 6620 7365 6c66 2e65 7870       if self.exp
+000294b0: 7220 6973 206e 6f74 204e 6f6e 653a 0a20  r is not None:. 
+000294c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000294d0: 2020 2073 656c 662e 6578 7072 2e69 676e     self.expr.ign
+000294e0: 6f72 6528 7365 6c66 2e69 676e 6f72 6545  ore(self.ignoreE
+000294f0: 7870 7273 5b2d 315d 290a 2020 2020 2020  xprs[-1]).      
+00029500: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00029510: 2020 2020 7375 7065 7228 292e 6967 6e6f      super().igno
+00029520: 7265 286f 7468 6572 290a 2020 2020 2020  re(other).      
+00029530: 2020 2020 2020 6966 2073 656c 662e 6578        if self.ex
+00029540: 7072 2069 7320 6e6f 7420 4e6f 6e65 3a0a  pr is not None:.
+00029550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029560: 7365 6c66 2e65 7870 722e 6967 6e6f 7265  self.expr.ignore
+00029570: 2873 656c 662e 6967 6e6f 7265 4578 7072  (self.ignoreExpr
+00029580: 735b 2d31 5d29 0a20 2020 2020 2020 2072  s[-1]).        r
+00029590: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
+000295a0: 6465 6620 7374 7265 616d 6c69 6e65 2873  def streamline(s
+000295b0: 656c 6629 202d 3e20 5061 7273 6572 456c  elf) -> ParserEl
+000295c0: 656d 656e 743a 0a20 2020 2020 2020 2073  ement:.        s
+000295d0: 7570 6572 2829 2e73 7472 6561 6d6c 696e  uper().streamlin
+000295e0: 6528 290a 2020 2020 2020 2020 6966 2073  e().        if s
+000295f0: 656c 662e 6578 7072 2069 7320 6e6f 7420  elf.expr is not 
+00029600: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00029610: 2020 7365 6c66 2e65 7870 722e 7374 7265    self.expr.stre
+00029620: 616d 6c69 6e65 2829 0a20 2020 2020 2020  amline().       
+00029630: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
+00029640: 2020 6465 6620 5f63 6865 636b 5265 6375    def _checkRecu
+00029650: 7273 696f 6e28 7365 6c66 2c20 7061 7273  rsion(self, pars
+00029660: 6545 6c65 6d65 6e74 4c69 7374 293a 0a20  eElementList):. 
+00029670: 2020 2020 2020 2069 6620 7365 6c66 2069         if self i
+00029680: 6e20 7061 7273 6545 6c65 6d65 6e74 4c69  n parseElementLi
+00029690: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
+000296a0: 7261 6973 6520 5265 6375 7273 6976 6547  raise RecursiveG
+000296b0: 7261 6d6d 6172 4578 6365 7074 696f 6e28  rammarException(
+000296c0: 7061 7273 6545 6c65 6d65 6e74 4c69 7374  parseElementList
+000296d0: 202b 205b 7365 6c66 5d29 0a20 2020 2020   + [self]).     
+000296e0: 2020 2073 7562 5265 6343 6865 636b 4c69     subRecCheckLi
+000296f0: 7374 203d 2070 6172 7365 456c 656d 656e  st = parseElemen
+00029700: 744c 6973 745b 3a5d 202b 205b 7365 6c66  tList[:] + [self
+00029710: 5d0a 2020 2020 2020 2020 6966 2073 656c  ].        if sel
+00029720: 662e 6578 7072 2069 7320 6e6f 7420 4e6f  f.expr is not No
+00029730: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+00029740: 7365 6c66 2e65 7870 722e 5f63 6865 636b  self.expr._check
+00029750: 5265 6375 7273 696f 6e28 7375 6252 6563  Recursion(subRec
+00029760: 4368 6563 6b4c 6973 7429 0a0a 2020 2020  CheckList)..    
+00029770: 6465 6620 7661 6c69 6461 7465 2873 656c  def validate(sel
+00029780: 662c 2076 616c 6964 6174 6554 7261 6365  f, validateTrace
+00029790: 3d4e 6f6e 6529 202d 3e20 4e6f 6e65 3a0a  =None) -> None:.
+000297a0: 2020 2020 2020 2020 7761 726e 696e 6773          warnings
+000297b0: 2e77 6172 6e28 0a20 2020 2020 2020 2020  .warn(.         
+000297c0: 2020 2022 5061 7273 6572 456c 656d 656e     "ParserElemen
+000297d0: 742e 7661 6c69 6461 7465 2829 2069 7320  t.validate() is 
+000297e0: 6465 7072 6563 6174 6564 2c20 616e 6420  deprecated, and 
+000297f0: 7368 6f75 6c64 206e 6f74 2062 6520 7573  should not be us
+00029800: 6564 2074 6f20 6368 6563 6b20 666f 7220  ed to check for 
+00029810: 6c65 6674 2072 6563 7572 7369 6f6e 222c  left recursion",
+00029820: 0a20 2020 2020 2020 2020 2020 2044 6570  .            Dep
+00029830: 7265 6361 7469 6f6e 5761 726e 696e 672c  recationWarning,
+00029840: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
+00029850: 636b 6c65 7665 6c3d 322c 0a20 2020 2020  cklevel=2,.     
+00029860: 2020 2029 0a20 2020 2020 2020 2069 6620     ).        if 
+00029870: 7661 6c69 6461 7465 5472 6163 6520 6973  validateTrace is
+00029880: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00029890: 2020 2076 616c 6964 6174 6554 7261 6365     validateTrace
+000298a0: 203d 205b 5d0a 2020 2020 2020 2020 746d   = [].        tm
+000298b0: 7020 3d20 7661 6c69 6461 7465 5472 6163  p = validateTrac
+000298c0: 655b 3a5d 202b 205b 7365 6c66 5d0a 2020  e[:] + [self].  
+000298d0: 2020 2020 2020 6966 2073 656c 662e 6578        if self.ex
+000298e0: 7072 2069 7320 6e6f 7420 4e6f 6e65 3a0a  pr is not None:.
+000298f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00029900: 2e65 7870 722e 7661 6c69 6461 7465 2874  .expr.validate(t
+00029910: 6d70 290a 2020 2020 2020 2020 7365 6c66  mp).        self
+00029920: 2e5f 6368 6563 6b52 6563 7572 7369 6f6e  ._checkRecursion
+00029930: 285b 5d29 0a0a 2020 2020 6465 6620 5f67  ([])..    def _g
+00029940: 656e 6572 6174 6544 6566 6175 6c74 4e61  enerateDefaultNa
+00029950: 6d65 2873 656c 6629 202d 3e20 7374 723a  me(self) -> str:
+00029960: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00029970: 6622 7b73 656c 662e 5f5f 636c 6173 735f  f"{self.__class_
+00029980: 5f2e 5f5f 6e61 6d65 5f5f 7d3a 287b 7374  _.__name__}:({st
+00029990: 7228 7365 6c66 2e65 7870 7229 7d29 220a  r(self.expr)})".
+000299a0: 0a20 2020 2023 2043 6f6d 7061 7469 6269  .    # Compatibi
+000299b0: 6c69 7479 2073 796e 6f6e 796d 730a 2020  lity synonyms.  
+000299c0: 2020 2320 666d 743a 206f 6666 0a20 2020    # fmt: off.   
+000299d0: 2040 7265 706c 6163 6564 5f62 795f 7065   @replaced_by_pe
+000299e0: 7038 286c 6561 7665 5f77 6869 7465 7370  p8(leave_whitesp
+000299f0: 6163 6529 0a20 2020 2064 6566 206c 6561  ace).    def lea
+00029a00: 7665 5768 6974 6573 7061 6365 2873 656c  veWhitespace(sel
+00029a10: 6629 3a20 2e2e 2e0a 0a20 2020 2040 7265  f): .....    @re
+00029a20: 706c 6163 6564 5f62 795f 7065 7038 2869  placed_by_pep8(i
+00029a30: 676e 6f72 655f 7768 6974 6573 7061 6365  gnore_whitespace
+00029a40: 290a 2020 2020 6465 6620 6967 6e6f 7265  ).    def ignore
+00029a50: 5768 6974 6573 7061 6365 2873 656c 6629  Whitespace(self)
+00029a60: 3a20 2e2e 2e0a 2020 2020 2320 666d 743a  : ....    # fmt:
+00029a70: 206f 6e0a 0a0a 636c 6173 7320 496e 6465   on...class Inde
+00029a80: 6e74 6564 426c 6f63 6b28 5061 7273 6545  ntedBlock(ParseE
+00029a90: 6c65 6d65 6e74 456e 6861 6e63 6529 3a0a  lementEnhance):.
+00029aa0: 2020 2020 2222 220a 2020 2020 4578 7072      """.    Expr
+00029ab0: 6573 7369 6f6e 2074 6f20 6d61 7463 6820  ession to match 
+00029ac0: 6f6e 6520 6f72 206d 6f72 6520 6578 7072  one or more expr
+00029ad0: 6573 7369 6f6e 7320 6174 2061 2067 6976  essions at a giv
+00029ae0: 656e 2069 6e64 656e 7461 7469 6f6e 206c  en indentation l
+00029af0: 6576 656c 2e0a 2020 2020 5573 6566 756c  evel..    Useful
+00029b00: 2066 6f72 2070 6172 7369 6e67 2074 6578   for parsing tex
+00029b10: 7420 7768 6572 6520 7374 7275 6374 7572  t where structur
+00029b20: 6520 6973 2069 6d70 6c69 6564 2062 7920  e is implied by 
+00029b30: 696e 6465 6e74 6174 696f 6e20 286c 696b  indentation (lik
+00029b40: 6520 5079 7468 6f6e 2073 6f75 7263 6520  e Python source 
+00029b50: 636f 6465 292e 0a20 2020 2022 2222 0a0a  code)..    """..
+00029b60: 2020 2020 636c 6173 7320 5f49 6e64 656e      class _Inden
+00029b70: 7428 456d 7074 7929 3a0a 2020 2020 2020  t(Empty):.      
+00029b80: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
+00029b90: 656c 662c 2072 6566 5f63 6f6c 3a20 696e  elf, ref_col: in
+00029ba0: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
+00029bb0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
+00029bc0: 2829 0a20 2020 2020 2020 2020 2020 2073  ().            s
+00029bd0: 656c 662e 6572 726d 7367 203d 2066 2265  elf.errmsg = f"e
+00029be0: 7870 6563 7465 6420 696e 6465 6e74 2061  xpected indent a
+00029bf0: 7420 636f 6c75 6d6e 207b 7265 665f 636f  t column {ref_co
+00029c00: 6c7d 220a 2020 2020 2020 2020 2020 2020  l}".            
+00029c10: 7365 6c66 2e61 6464 5f63 6f6e 6469 7469  self.add_conditi
+00029c20: 6f6e 286c 616d 6264 6120 732c 206c 2c20  on(lambda s, l, 
+00029c30: 743a 2063 6f6c 286c 2c20 7329 203d 3d20  t: col(l, s) == 
+00029c40: 7265 665f 636f 6c29 0a0a 2020 2020 636c  ref_col)..    cl
+00029c50: 6173 7320 5f49 6e64 656e 7447 7265 6174  ass _IndentGreat
+00029c60: 6572 2845 6d70 7479 293a 0a20 2020 2020  er(Empty):.     
+00029c70: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
+00029c80: 7365 6c66 2c20 7265 665f 636f 6c3a 2069  self, ref_col: i
+00029c90: 6e74 293a 0a20 2020 2020 2020 2020 2020  nt):.           
+00029ca0: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
+00029cb0: 5f28 290a 2020 2020 2020 2020 2020 2020  _().            
+00029cc0: 7365 6c66 2e65 7272 6d73 6720 3d20 6622  self.errmsg = f"
+00029cd0: 6578 7065 6374 6564 2069 6e64 656e 7420  expected indent 
+00029ce0: 6174 2063 6f6c 756d 6e20 6772 6561 7465  at column greate
+00029cf0: 7220 7468 616e 207b 7265 665f 636f 6c7d  r than {ref_col}
+00029d00: 220a 2020 2020 2020 2020 2020 2020 7365  ".            se
+00029d10: 6c66 2e61 6464 5f63 6f6e 6469 7469 6f6e  lf.add_condition
+00029d20: 286c 616d 6264 6120 732c 206c 2c20 743a  (lambda s, l, t:
+00029d30: 2063 6f6c 286c 2c20 7329 203e 2072 6566   col(l, s) > ref
+00029d40: 5f63 6f6c 290a 0a20 2020 2064 6566 205f  _col)..    def _
+00029d50: 5f69 6e69 745f 5f28 0a20 2020 2020 2020  _init__(.       
+00029d60: 2073 656c 662c 2065 7870 723a 2050 6172   self, expr: Par
+00029d70: 7365 7245 6c65 6d65 6e74 2c20 2a2c 2072  serElement, *, r
+00029d80: 6563 7572 7369 7665 3a20 626f 6f6c 203d  ecursive: bool =
+00029d90: 2046 616c 7365 2c20 6772 6f75 7065 643a   False, grouped:
+00029da0: 2062 6f6f 6c20 3d20 5472 7565 0a20 2020   bool = True.   
+00029db0: 2029 3a0a 2020 2020 2020 2020 7375 7065   ):.        supe
+00029dc0: 7228 292e 5f5f 696e 6974 5f5f 2865 7870  r().__init__(exp
+00029dd0: 722c 2073 6176 656c 6973 743d 5472 7565  r, savelist=True
+00029de0: 290a 2020 2020 2020 2020 2320 6966 2072  ).        # if r
+00029df0: 6563 7572 7369 7665 3a0a 2020 2020 2020  ecursive:.      
+00029e00: 2020 2320 2020 2020 7261 6973 6520 4e6f    #     raise No
+00029e10: 7449 6d70 6c65 6d65 6e74 6564 4572 726f  tImplementedErro
+00029e20: 7228 2249 6e64 656e 7465 6442 6c6f 636b  r("IndentedBlock
+00029e30: 2077 6974 6820 7265 6375 7273 6976 6520   with recursive 
+00029e40: 6973 206e 6f74 2069 6d70 6c65 6d65 6e74  is not implement
+00029e50: 6564 2229 0a20 2020 2020 2020 2073 656c  ed").        sel
+00029e60: 662e 5f72 6563 7572 7369 7665 203d 2072  f._recursive = r
+00029e70: 6563 7572 7369 7665 0a20 2020 2020 2020  ecursive.       
+00029e80: 2073 656c 662e 5f67 726f 7570 6564 203d   self._grouped =
+00029e90: 2067 726f 7570 6564 0a20 2020 2020 2020   grouped.       
+00029ea0: 2073 656c 662e 7061 7265 6e74 5f61 6e63   self.parent_anc
+00029eb0: 686f 7220 3d20 310a 0a20 2020 2064 6566  hor = 1..    def
+00029ec0: 2070 6172 7365 496d 706c 2873 656c 662c   parseImpl(self,
+00029ed0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+00029ee0: 646f 4163 7469 6f6e 733d 5472 7565 293a  doActions=True):
+00029ef0: 0a20 2020 2020 2020 2023 2061 6476 616e  .        # advan
+00029f00: 6365 2070 6172 7365 2070 6f73 6974 696f  ce parse positio
+00029f10: 6e20 746f 206e 6f6e 2d77 6869 7465 7370  n to non-whitesp
+00029f20: 6163 6520 6279 2075 7369 6e67 2061 6e20  ace by using an 
+00029f30: 456d 7074 7928 290a 2020 2020 2020 2020  Empty().        
+00029f40: 2320 7468 6973 2073 686f 756c 6420 6265  # this should be
+00029f50: 2074 6865 2063 6f6c 756d 6e20 746f 2062   the column to b
+00029f60: 6520 7573 6564 2066 6f72 2061 6c6c 2073  e used for all s
+00029f70: 7562 7365 7175 656e 7420 696e 6465 6e74  ubsequent indent
+00029f80: 6564 206c 696e 6573 0a20 2020 2020 2020  ed lines.       
+00029f90: 2061 6e63 686f 725f 6c6f 6320 3d20 456d   anchor_loc = Em
+00029fa0: 7074 7928 292e 7072 6550 6172 7365 2869  pty().preParse(i
+00029fb0: 6e73 7472 696e 672c 206c 6f63 290a 0a20  nstring, loc).. 
+00029fc0: 2020 2020 2020 2023 2073 6565 2069 6620         # see if 
+00029fd0: 7365 6c66 2e65 7870 7220 6d61 7463 6865  self.expr matche
+00029fe0: 7320 6174 2074 6865 2063 7572 7265 6e74  s at the current
+00029ff0: 206c 6f63 6174 696f 6e20 2d20 6966 206e   location - if n
+0002a000: 6f74 2069 7420 7769 6c6c 2072 6169 7365  ot it will raise
+0002a010: 2061 6e20 6578 6365 7074 696f 6e0a 2020   an exception.  
+0002a020: 2020 2020 2020 2320 616e 6420 6e6f 2066        # and no f
+0002a030: 7572 7468 6572 2077 6f72 6b20 6973 206e  urther work is n
+0002a040: 6563 6573 7361 7279 0a20 2020 2020 2020  ecessary.       
+0002a050: 2073 656c 662e 6578 7072 2e74 7279 5f70   self.expr.try_p
+0002a060: 6172 7365 2869 6e73 7472 696e 672c 2061  arse(instring, a
+0002a070: 6e63 686f 725f 6c6f 632c 2064 6f5f 6163  nchor_loc, do_ac
+0002a080: 7469 6f6e 733d 646f 4163 7469 6f6e 7329  tions=doActions)
+0002a090: 0a0a 2020 2020 2020 2020 696e 6465 6e74  ..        indent
+0002a0a0: 5f63 6f6c 203d 2063 6f6c 2861 6e63 686f  _col = col(ancho
+0002a0b0: 725f 6c6f 632c 2069 6e73 7472 696e 6729  r_loc, instring)
+0002a0c0: 0a20 2020 2020 2020 2070 6565 725f 6465  .        peer_de
+0002a0d0: 7465 6374 5f65 7870 7220 3d20 7365 6c66  tect_expr = self
+0002a0e0: 2e5f 496e 6465 6e74 2869 6e64 656e 745f  ._Indent(indent_
+0002a0f0: 636f 6c29 0a0a 2020 2020 2020 2020 696e  col)..        in
+0002a100: 6e65 725f 6578 7072 203d 2045 6d70 7479  ner_expr = Empty
+0002a110: 2829 202b 2070 6565 725f 6465 7465 6374  () + peer_detect
+0002a120: 5f65 7870 7220 2b20 7365 6c66 2e65 7870  _expr + self.exp
+0002a130: 720a 2020 2020 2020 2020 6966 2073 656c  r.        if sel
+0002a140: 662e 5f72 6563 7572 7369 7665 3a0a 2020  f._recursive:.  
+0002a150: 2020 2020 2020 2020 2020 7375 625f 696e            sub_in
+0002a160: 6465 6e74 203d 2073 656c 662e 5f49 6e64  dent = self._Ind
+0002a170: 656e 7447 7265 6174 6572 2869 6e64 656e  entGreater(inden
+0002a180: 745f 636f 6c29 0a20 2020 2020 2020 2020  t_col).         
+0002a190: 2020 206e 6573 7465 645f 626c 6f63 6b20     nested_block 
+0002a1a0: 3d20 496e 6465 6e74 6564 426c 6f63 6b28  = IndentedBlock(
+0002a1b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002a1c0: 2073 656c 662e 6578 7072 2c20 7265 6375   self.expr, recu
+0002a1d0: 7273 6976 653d 7365 6c66 2e5f 7265 6375  rsive=self._recu
+0002a1e0: 7273 6976 652c 2067 726f 7570 6564 3d73  rsive, grouped=s
+0002a1f0: 656c 662e 5f67 726f 7570 6564 0a20 2020  elf._grouped.   
+0002a200: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+0002a210: 2020 2020 2020 206e 6573 7465 645f 626c         nested_bl
+0002a220: 6f63 6b2e 7365 745f 6465 6275 6728 7365  ock.set_debug(se
+0002a230: 6c66 2e64 6562 7567 290a 2020 2020 2020  lf.debug).      
+0002a240: 2020 2020 2020 6e65 7374 6564 5f62 6c6f        nested_blo
+0002a250: 636b 2e70 6172 656e 745f 616e 6368 6f72  ck.parent_anchor
+0002a260: 203d 2069 6e64 656e 745f 636f 6c0a 2020   = indent_col.  
+0002a270: 2020 2020 2020 2020 2020 696e 6e65 725f            inner_
+0002a280: 6578 7072 202b 3d20 4f70 7428 7375 625f  expr += Opt(sub_
+0002a290: 696e 6465 6e74 202b 206e 6573 7465 645f  indent + nested_
+0002a2a0: 626c 6f63 6b29 0a0a 2020 2020 2020 2020  block)..        
+0002a2b0: 696e 6e65 725f 6578 7072 2e73 6574 5f6e  inner_expr.set_n
+0002a2c0: 616d 6528 6622 696e 6e65 7220 7b68 6578  ame(f"inner {hex
+0002a2d0: 2869 6428 696e 6e65 725f 6578 7072 2929  (id(inner_expr))
+0002a2e0: 5b2d 343a 5d2e 7570 7065 7228 297d 407b  [-4:].upper()}@{
+0002a2f0: 696e 6465 6e74 5f63 6f6c 7d22 290a 2020  indent_col}").  
+0002a300: 2020 2020 2020 626c 6f63 6b20 3d20 4f6e        block = On
+0002a310: 654f 724d 6f72 6528 696e 6e65 725f 6578  eOrMore(inner_ex
+0002a320: 7072 290a 0a20 2020 2020 2020 2074 7261  pr)..        tra
+0002a330: 696c 696e 675f 756e 6465 6e74 203d 2073  iling_undent = s
+0002a340: 656c 662e 5f49 6e64 656e 7428 7365 6c66  elf._Indent(self
+0002a350: 2e70 6172 656e 745f 616e 6368 6f72 2920  .parent_anchor) 
+0002a360: 7c20 5374 7269 6e67 456e 6428 290a 0a20  | StringEnd().. 
+0002a370: 2020 2020 2020 2069 6620 7365 6c66 2e5f         if self._
+0002a380: 6772 6f75 7065 643a 0a20 2020 2020 2020  grouped:.       
+0002a390: 2020 2020 2077 7261 7070 6572 203d 2047       wrapper = G
+0002a3a0: 726f 7570 0a20 2020 2020 2020 2065 6c73  roup.        els
+0002a3b0: 653a 0a20 2020 2020 2020 2020 2020 2077  e:.            w
+0002a3c0: 7261 7070 6572 203d 206c 616d 6264 6120  rapper = lambda 
+0002a3d0: 6578 7072 3a20 6578 7072 0a20 2020 2020  expr: expr.     
+0002a3e0: 2020 2072 6574 7572 6e20 2877 7261 7070     return (wrapp
+0002a3f0: 6572 2862 6c6f 636b 2920 2b20 4f70 7469  er(block) + Opti
+0002a400: 6f6e 616c 2874 7261 696c 696e 675f 756e  onal(trailing_un
+0002a410: 6465 6e74 2929 2e70 6172 7365 496d 706c  dent)).parseImpl
+0002a420: 280a 2020 2020 2020 2020 2020 2020 696e  (.            in
+0002a430: 7374 7269 6e67 2c20 616e 6368 6f72 5f6c  string, anchor_l
+0002a440: 6f63 2c20 646f 4163 7469 6f6e 730a 2020  oc, doActions.  
+0002a450: 2020 2020 2020 290a 0a0a 636c 6173 7320        )...class 
+0002a460: 4174 5374 7269 6e67 5374 6172 7428 5061  AtStringStart(Pa
+0002a470: 7273 6545 6c65 6d65 6e74 456e 6861 6e63  rseElementEnhanc
+0002a480: 6529 3a0a 2020 2020 2222 224d 6174 6368  e):.    """Match
+0002a490: 6573 2069 6620 6578 7072 6573 7369 6f6e  es if expression
+0002a4a0: 206d 6174 6368 6573 2061 7420 7468 6520   matches at the 
+0002a4b0: 6265 6769 6e6e 696e 6720 6f66 2074 6865  beginning of the
+0002a4c0: 2070 6172 7365 0a20 2020 2073 7472 696e   parse.    strin
+0002a4d0: 673a 3a0a 0a20 2020 2020 2020 2041 7453  g::..        AtS
+0002a4e0: 7472 696e 6753 7461 7274 2857 6f72 6428  tringStart(Word(
+0002a4f0: 6e75 6d73 2929 2e70 6172 7365 5f73 7472  nums)).parse_str
+0002a500: 696e 6728 2231 3233 2229 0a20 2020 2020  ing("123").     
+0002a510: 2020 2023 2070 7269 6e74 7320 5b22 3132     # prints ["12
+0002a520: 3322 5d0a 0a20 2020 2020 2020 2041 7453  3"]..        AtS
+0002a530: 7472 696e 6753 7461 7274 2857 6f72 6428  tringStart(Word(
+0002a540: 6e75 6d73 2929 2e70 6172 7365 5f73 7472  nums)).parse_str
+0002a550: 696e 6728 2220 2020 2031 3233 2229 0a20  ing("    123"). 
+0002a560: 2020 2020 2020 2023 2072 6169 7365 7320         # raises 
+0002a570: 5061 7273 6545 7863 6570 7469 6f6e 0a20  ParseException. 
+0002a580: 2020 2022 2222 0a0a 2020 2020 6465 6620     """..    def 
+0002a590: 5f5f 696e 6974 5f5f 2873 656c 662c 2065  __init__(self, e
+0002a5a0: 7870 723a 2055 6e69 6f6e 5b50 6172 7365  xpr: Union[Parse
+0002a5b0: 7245 6c65 6d65 6e74 2c20 7374 725d 293a  rElement, str]):
+0002a5c0: 0a20 2020 2020 2020 2073 7570 6572 2829  .        super()
+0002a5d0: 2e5f 5f69 6e69 745f 5f28 6578 7072 290a  .__init__(expr).
+0002a5e0: 2020 2020 2020 2020 7365 6c66 2e63 616c          self.cal
+0002a5f0: 6c50 7265 7061 7273 6520 3d20 4661 6c73  lPreparse = Fals
+0002a600: 650a 0a20 2020 2064 6566 2070 6172 7365  e..    def parse
+0002a610: 496d 706c 2873 656c 662c 2069 6e73 7472  Impl(self, instr
+0002a620: 696e 672c 206c 6f63 2c20 646f 4163 7469  ing, loc, doActi
+0002a630: 6f6e 733d 5472 7565 293a 0a20 2020 2020  ons=True):.     
+0002a640: 2020 2069 6620 6c6f 6320 213d 2030 3a0a     if loc != 0:.
+0002a650: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0002a660: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
+0002a670: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
+0002a680: 226e 6f74 2066 6f75 6e64 2061 7420 7374  "not found at st
+0002a690: 7269 6e67 2073 7461 7274 2229 0a20 2020  ring start").   
+0002a6a0: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
+0002a6b0: 7228 292e 7061 7273 6549 6d70 6c28 696e  r().parseImpl(in
+0002a6c0: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
+0002a6d0: 6374 696f 6e73 290a 0a0a 636c 6173 7320  ctions)...class 
+0002a6e0: 4174 4c69 6e65 5374 6172 7428 5061 7273  AtLineStart(Pars
+0002a6f0: 6545 6c65 6d65 6e74 456e 6861 6e63 6529  eElementEnhance)
+0002a700: 3a0a 2020 2020 7222 2222 4d61 7463 6865  :.    r"""Matche
+0002a710: 7320 6966 2061 6e20 6578 7072 6573 7369  s if an expressi
+0002a720: 6f6e 206d 6174 6368 6573 2061 7420 7468  on matches at th
+0002a730: 6520 6265 6769 6e6e 696e 6720 6f66 2061  e beginning of a
+0002a740: 206c 696e 6520 7769 7468 696e 0a20 2020   line within.   
+0002a750: 2074 6865 2070 6172 7365 2073 7472 696e   the parse strin
+0002a760: 670a 0a20 2020 2045 7861 6d70 6c65 3a3a  g..    Example::
+0002a770: 0a0a 2020 2020 2020 2020 7465 7374 203d  ..        test =
+0002a780: 2027 2727 5c0a 2020 2020 2020 2020 4141   '''\.        AA
+0002a790: 4120 7468 6973 206c 696e 650a 2020 2020  A this line.    
+0002a7a0: 2020 2020 4141 4120 616e 6420 7468 6973      AAA and this
+0002a7b0: 206c 696e 650a 2020 2020 2020 2020 2020   line.          
+0002a7c0: 4141 4120 6275 7420 6e6f 7420 7468 6973  AAA but not this
+0002a7d0: 206f 6e65 0a20 2020 2020 2020 2042 2041   one.        B A
+0002a7e0: 4141 2061 6e64 2064 6566 696e 6974 656c  AA and definitel
+0002a7f0: 7920 6e6f 7420 7468 6973 206f 6e65 0a20  y not this one. 
+0002a800: 2020 2020 2020 2027 2727 0a0a 2020 2020         '''..    
+0002a810: 2020 2020 666f 7220 7420 696e 2028 4174      for t in (At
+0002a820: 4c69 6e65 5374 6172 7428 2741 4141 2729  LineStart('AAA')
+0002a830: 202b 2072 6573 745f 6f66 5f6c 696e 6529   + rest_of_line)
+0002a840: 2e73 6561 7263 685f 7374 7269 6e67 2874  .search_string(t
+0002a850: 6573 7429 3a0a 2020 2020 2020 2020 2020  est):.          
+0002a860: 2020 7072 696e 7428 7429 0a0a 2020 2020    print(t)..    
+0002a870: 7072 696e 7473 3a3a 0a0a 2020 2020 2020  prints::..      
+0002a880: 2020 5b27 4141 4127 2c20 2720 7468 6973    ['AAA', ' this
+0002a890: 206c 696e 6527 5d0a 2020 2020 2020 2020   line'].        
+0002a8a0: 5b27 4141 4127 2c20 2720 616e 6420 7468  ['AAA', ' and th
+0002a8b0: 6973 206c 696e 6527 5d0a 0a20 2020 2022  is line']..    "
+0002a8c0: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
+0002a8d0: 6974 5f5f 2873 656c 662c 2065 7870 723a  it__(self, expr:
+0002a8e0: 2055 6e69 6f6e 5b50 6172 7365 7245 6c65   Union[ParserEle
+0002a8f0: 6d65 6e74 2c20 7374 725d 293a 0a20 2020  ment, str]):.   
+0002a900: 2020 2020 2073 7570 6572 2829 2e5f 5f69       super().__i
+0002a910: 6e69 745f 5f28 6578 7072 290a 2020 2020  nit__(expr).    
+0002a920: 2020 2020 7365 6c66 2e63 616c 6c50 7265      self.callPre
+0002a930: 7061 7273 6520 3d20 4661 6c73 650a 0a20  parse = False.. 
+0002a940: 2020 2064 6566 2070 6172 7365 496d 706c     def parseImpl
+0002a950: 2873 656c 662c 2069 6e73 7472 696e 672c  (self, instring,
+0002a960: 206c 6f63 2c20 646f 4163 7469 6f6e 733d   loc, doActions=
+0002a970: 5472 7565 293a 0a20 2020 2020 2020 2069  True):.        i
+0002a980: 6620 636f 6c28 6c6f 632c 2069 6e73 7472  f col(loc, instr
+0002a990: 696e 6729 2021 3d20 313a 0a20 2020 2020  ing) != 1:.     
+0002a9a0: 2020 2020 2020 2072 6169 7365 2050 6172         raise Par
+0002a9b0: 7365 4578 6365 7074 696f 6e28 696e 7374  seException(inst
+0002a9c0: 7269 6e67 2c20 6c6f 632c 2022 6e6f 7420  ring, loc, "not 
+0002a9d0: 666f 756e 6420 6174 206c 696e 6520 7374  found at line st
+0002a9e0: 6172 7422 290a 2020 2020 2020 2020 7265  art").        re
+0002a9f0: 7475 726e 2073 7570 6572 2829 2e70 6172  turn super().par
+0002aa00: 7365 496d 706c 2869 6e73 7472 696e 672c  seImpl(instring,
+0002aa10: 206c 6f63 2c20 646f 4163 7469 6f6e 7329   loc, doActions)
+0002aa20: 0a0a 0a63 6c61 7373 2046 6f6c 6c6f 7765  ...class Followe
+0002aa30: 6442 7928 5061 7273 6545 6c65 6d65 6e74  dBy(ParseElement
+0002aa40: 456e 6861 6e63 6529 3a0a 2020 2020 2222  Enhance):.    ""
+0002aa50: 224c 6f6f 6b61 6865 6164 206d 6174 6368  "Lookahead match
+0002aa60: 696e 6720 6f66 2074 6865 2067 6976 656e  ing of the given
+0002aa70: 2070 6172 7365 2065 7870 7265 7373 696f   parse expressio
+0002aa80: 6e2e 0a20 2020 2060 6046 6f6c 6c6f 7765  n..    ``Followe
+0002aa90: 6442 7960 6020 646f 6573 202a 6e6f 742a  dBy`` does *not*
+0002aaa0: 2061 6476 616e 6365 2074 6865 2070 6172   advance the par
+0002aab0: 7369 6e67 2070 6f73 6974 696f 6e20 7769  sing position wi
+0002aac0: 7468 696e 0a20 2020 2074 6865 2069 6e70  thin.    the inp
+0002aad0: 7574 2073 7472 696e 672c 2069 7420 6f6e  ut string, it on
+0002aae0: 6c79 2076 6572 6966 6965 7320 7468 6174  ly verifies that
+0002aaf0: 2074 6865 2073 7065 6369 6669 6564 2070   the specified p
+0002ab00: 6172 7365 0a20 2020 2065 7870 7265 7373  arse.    express
+0002ab10: 696f 6e20 6d61 7463 6865 7320 6174 2074  ion matches at t
+0002ab20: 6865 2063 7572 7265 6e74 2070 6f73 6974  he current posit
+0002ab30: 696f 6e2e 2020 6060 466f 6c6c 6f77 6564  ion.  ``Followed
+0002ab40: 4279 6060 0a20 2020 2061 6c77 6179 7320  By``.    always 
+0002ab50: 7265 7475 726e 7320 6120 6e75 6c6c 2074  returns a null t
+0002ab60: 6f6b 656e 206c 6973 742e 2049 6620 616e  oken list. If an
+0002ab70: 7920 7265 7375 6c74 7320 6e61 6d65 7320  y results names 
+0002ab80: 6172 6520 6465 6669 6e65 640a 2020 2020  are defined.    
+0002ab90: 696e 2074 6865 206c 6f6f 6b61 6865 6164  in the lookahead
+0002aba0: 2065 7870 7265 7373 696f 6e2c 2074 686f   expression, tho
+0002abb0: 7365 202a 7769 6c6c 2a20 6265 2072 6574  se *will* be ret
+0002abc0: 7572 6e65 6420 666f 7220 6163 6365 7373  urned for access
+0002abd0: 2062 790a 2020 2020 6e61 6d65 2e0a 0a20   by.    name... 
+0002abe0: 2020 2045 7861 6d70 6c65 3a3a 0a0a 2020     Example::..  
+0002abf0: 2020 2020 2020 2320 7573 6520 466f 6c6c        # use Foll
+0002ac00: 6f77 6564 4279 2074 6f20 6d61 7463 6820  owedBy to match 
+0002ac10: 6120 6c61 6265 6c20 6f6e 6c79 2069 6620  a label only if 
+0002ac20: 6974 2069 7320 666f 6c6c 6f77 6564 2062  it is followed b
+0002ac30: 7920 6120 273a 270a 2020 2020 2020 2020  y a ':'.        
+0002ac40: 6461 7461 5f77 6f72 6420 3d20 576f 7264  data_word = Word
+0002ac50: 2861 6c70 6861 7329 0a20 2020 2020 2020  (alphas).       
+0002ac60: 206c 6162 656c 203d 2064 6174 615f 776f   label = data_wo
+0002ac70: 7264 202b 2046 6f6c 6c6f 7765 6442 7928  rd + FollowedBy(
+0002ac80: 273a 2729 0a20 2020 2020 2020 2061 7474  ':').        att
+0002ac90: 725f 6578 7072 203d 2047 726f 7570 286c  r_expr = Group(l
+0002aca0: 6162 656c 202b 2053 7570 7072 6573 7328  abel + Suppress(
+0002acb0: 273a 2729 202b 204f 6e65 4f72 4d6f 7265  ':') + OneOrMore
+0002acc0: 2864 6174 615f 776f 7264 2c20 7374 6f70  (data_word, stop
+0002acd0: 5f6f 6e3d 6c61 6265 6c29 2e73 6574 5f70  _on=label).set_p
+0002ace0: 6172 7365 5f61 6374 696f 6e28 2720 272e  arse_action(' '.
+0002acf0: 6a6f 696e 2929 0a0a 2020 2020 2020 2020  join))..        
+0002ad00: 6174 7472 5f65 7870 725b 312c 202e 2e2e  attr_expr[1, ...
+0002ad10: 5d2e 7061 7273 655f 7374 7269 6e67 2822  ].parse_string("
+0002ad20: 7368 6170 653a 2053 5155 4152 4520 636f  shape: SQUARE co
+0002ad30: 6c6f 723a 2042 4c41 434b 2070 6f73 6e3a  lor: BLACK posn:
+0002ad40: 2075 7070 6572 206c 6566 7422 292e 7070   upper left").pp
+0002ad50: 7269 6e74 2829 0a0a 2020 2020 7072 696e  rint()..    prin
+0002ad60: 7473 3a3a 0a0a 2020 2020 2020 2020 5b5b  ts::..        [[
+0002ad70: 2773 6861 7065 272c 2027 5351 5541 5245  'shape', 'SQUARE
+0002ad80: 275d 2c20 5b27 636f 6c6f 7227 2c20 2742  '], ['color', 'B
+0002ad90: 4c41 434b 275d 2c20 5b27 706f 736e 272c  LACK'], ['posn',
+0002ada0: 2027 7570 7065 7220 6c65 6674 275d 5d0a   'upper left']].
+0002adb0: 2020 2020 2222 220a 0a20 2020 2064 6566      """..    def
+0002adc0: 205f 5f69 6e69 745f 5f28 7365 6c66 2c20   __init__(self, 
+0002add0: 6578 7072 3a20 556e 696f 6e5b 5061 7273  expr: Union[Pars
+0002ade0: 6572 456c 656d 656e 742c 2073 7472 5d29  erElement, str])
+0002adf0: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
+0002ae00: 292e 5f5f 696e 6974 5f5f 2865 7870 7229  ).__init__(expr)
+0002ae10: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
+0002ae20: 7952 6574 7572 6e45 6d70 7479 203d 2054  yReturnEmpty = T
+0002ae30: 7275 650a 0a20 2020 2064 6566 2070 6172  rue..    def par
+0002ae40: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
+0002ae50: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+0002ae60: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
+0002ae70: 2020 2020 2023 2062 7920 7573 696e 6720       # by using 
+0002ae80: 7365 6c66 2e5f 6578 7072 2e70 6172 7365  self._expr.parse
+0002ae90: 2061 6e64 2064 656c 6574 696e 6720 7468   and deleting th
+0002aea0: 6520 636f 6e74 656e 7473 206f 6620 7468  e contents of th
+0002aeb0: 6520 7265 7475 726e 6564 2050 6172 7365  e returned Parse
+0002aec0: 5265 7375 6c74 7320 6c69 7374 0a20 2020  Results list.   
+0002aed0: 2020 2020 2023 2077 6520 6b65 6570 2061       # we keep a
+0002aee0: 6e79 206e 616d 6564 2072 6573 756c 7473  ny named results
+0002aef0: 2074 6861 7420 7765 7265 2064 6566 696e   that were defin
+0002af00: 6564 2069 6e20 7468 6520 466f 6c6c 6f77  ed in the Follow
+0002af10: 6564 4279 2065 7870 7265 7373 696f 6e0a  edBy expression.
+0002af20: 2020 2020 2020 2020 5f2c 2072 6574 203d          _, ret =
+0002af30: 2073 656c 662e 6578 7072 2e5f 7061 7273   self.expr._pars
+0002af40: 6528 696e 7374 7269 6e67 2c20 6c6f 632c  e(instring, loc,
+0002af50: 2064 6f41 6374 696f 6e73 3d64 6f41 6374   doActions=doAct
+0002af60: 696f 6e73 290a 2020 2020 2020 2020 6465  ions).        de
+0002af70: 6c20 7265 745b 3a5d 0a0a 2020 2020 2020  l ret[:]..      
+0002af80: 2020 7265 7475 726e 206c 6f63 2c20 7265    return loc, re
+0002af90: 740a 0a0a 636c 6173 7320 5072 6563 6564  t...class Preced
+0002afa0: 6564 4279 2850 6172 7365 456c 656d 656e  edBy(ParseElemen
+0002afb0: 7445 6e68 616e 6365 293a 0a20 2020 2022  tEnhance):.    "
+0002afc0: 2222 4c6f 6f6b 6265 6869 6e64 206d 6174  ""Lookbehind mat
+0002afd0: 6368 696e 6720 6f66 2074 6865 2067 6976  ching of the giv
+0002afe0: 656e 2070 6172 7365 2065 7870 7265 7373  en parse express
+0002aff0: 696f 6e2e 0a20 2020 2060 6050 7265 6365  ion..    ``Prece
+0002b000: 6465 6442 7960 6020 646f 6573 206e 6f74  dedBy`` does not
+0002b010: 2061 6476 616e 6365 2074 6865 2070 6172   advance the par
+0002b020: 7369 6e67 2070 6f73 6974 696f 6e20 7769  sing position wi
+0002b030: 7468 696e 2074 6865 0a20 2020 2069 6e70  thin the.    inp
+0002b040: 7574 2073 7472 696e 672c 2069 7420 6f6e  ut string, it on
+0002b050: 6c79 2076 6572 6966 6965 7320 7468 6174  ly verifies that
+0002b060: 2074 6865 2073 7065 6369 6669 6564 2070   the specified p
+0002b070: 6172 7365 2065 7870 7265 7373 696f 6e0a  arse expression.
+0002b080: 2020 2020 6d61 7463 6865 7320 7072 696f      matches prio
+0002b090: 7220 746f 2074 6865 2063 7572 7265 6e74  r to the current
+0002b0a0: 2070 6f73 6974 696f 6e2e 2020 6060 5072   position.  ``Pr
+0002b0b0: 6563 6564 6564 4279 6060 2061 6c77 6179  ecededBy`` alway
+0002b0c0: 730a 2020 2020 7265 7475 726e 7320 6120  s.    returns a 
+0002b0d0: 6e75 6c6c 2074 6f6b 656e 206c 6973 742c  null token list,
+0002b0e0: 2062 7574 2069 6620 6120 7265 7375 6c74   but if a result
+0002b0f0: 7320 6e61 6d65 2069 7320 6465 6669 6e65  s name is define
+0002b100: 6420 6f6e 2074 6865 0a20 2020 2067 6976  d on the.    giv
+0002b110: 656e 2065 7870 7265 7373 696f 6e2c 2069  en expression, i
+0002b120: 7420 6973 2072 6574 7572 6e65 642e 0a0a  t is returned...
+0002b130: 2020 2020 5061 7261 6d65 7465 7273 3a0a      Parameters:.
+0002b140: 0a20 2020 202d 2060 6065 7870 7260 6020  .    - ``expr`` 
+0002b150: 2d20 6578 7072 6573 7369 6f6e 2074 6861  - expression tha
+0002b160: 7420 6d75 7374 206d 6174 6368 2070 7269  t must match pri
+0002b170: 6f72 2074 6f20 7468 6520 6375 7272 656e  or to the curren
+0002b180: 7420 7061 7273 650a 2020 2020 2020 6c6f  t parse.      lo
+0002b190: 6361 7469 6f6e 0a20 2020 202d 2060 6072  cation.    - ``r
+0002b1a0: 6574 7265 6174 6060 202d 2028 6465 6661  etreat`` - (defa
+0002b1b0: 756c 743d 2060 604e 6f6e 6560 6029 202d  ult= ``None``) -
+0002b1c0: 2028 696e 7429 206d 6178 696d 756d 206e   (int) maximum n
+0002b1d0: 756d 6265 7220 6f66 2063 6861 7261 6374  umber of charact
+0002b1e0: 6572 730a 2020 2020 2020 746f 206c 6f6f  ers.      to loo
+0002b1f0: 6b62 6568 696e 6420 7072 696f 7220 746f  kbehind prior to
+0002b200: 2074 6865 2063 7572 7265 6e74 2070 6172   the current par
+0002b210: 7365 206c 6f63 6174 696f 6e0a 0a20 2020  se location..   
+0002b220: 2049 6620 7468 6520 6c6f 6f6b 6265 6869   If the lookbehi
+0002b230: 6e64 2065 7870 7265 7373 696f 6e20 6973  nd expression is
+0002b240: 2061 2073 7472 696e 672c 203a 636c 6173   a string, :clas
+0002b250: 733a 604c 6974 6572 616c 602c 0a20 2020  s:`Literal`,.   
+0002b260: 203a 636c 6173 733a 604b 6579 776f 7264   :class:`Keyword
+0002b270: 602c 206f 7220 6120 3a63 6c61 7373 3a60  `, or a :class:`
+0002b280: 576f 7264 6020 6f72 203a 636c 6173 733a  Word` or :class:
+0002b290: 6043 6861 7273 4e6f 7449 6e60 0a20 2020  `CharsNotIn`.   
+0002b2a0: 2077 6974 6820 6120 7370 6563 6966 6965   with a specifie
+0002b2b0: 6420 6578 6163 7420 6f72 206d 6178 696d  d exact or maxim
+0002b2c0: 756d 206c 656e 6774 682c 2074 6865 6e20  um length, then 
+0002b2d0: 7468 6520 7265 7472 6561 740a 2020 2020  the retreat.    
+0002b2e0: 7061 7261 6d65 7465 7220 6973 206e 6f74  parameter is not
+0002b2f0: 2072 6571 7569 7265 642e 204f 7468 6572   required. Other
+0002b300: 7769 7365 2c20 7265 7472 6561 7420 6d75  wise, retreat mu
+0002b310: 7374 2062 6520 7370 6563 6966 6965 6420  st be specified 
+0002b320: 746f 0a20 2020 2067 6976 6520 6120 6d61  to.    give a ma
+0002b330: 7869 6d75 6d20 6e75 6d62 6572 206f 6620  ximum number of 
+0002b340: 6368 6172 6163 7465 7273 2074 6f20 6c6f  characters to lo
+0002b350: 6f6b 2062 6163 6b20 6672 6f6d 0a20 2020  ok back from.   
+0002b360: 2074 6865 2063 7572 7265 6e74 2070 6172   the current par
+0002b370: 7365 2070 6f73 6974 696f 6e20 666f 7220  se position for 
+0002b380: 6120 6c6f 6f6b 6265 6869 6e64 206d 6174  a lookbehind mat
+0002b390: 6368 2e0a 0a20 2020 2045 7861 6d70 6c65  ch...    Example
+0002b3a0: 3a3a 0a0a 2020 2020 2020 2020 2320 5642  ::..        # VB
+0002b3b0: 2d73 7479 6c65 2076 6172 6961 626c 6520  -style variable 
+0002b3c0: 6e61 6d65 7320 7769 7468 2074 7970 6520  names with type 
+0002b3d0: 7072 6566 6978 6573 0a20 2020 2020 2020  prefixes.       
+0002b3e0: 2069 6e74 5f76 6172 203d 2050 7265 6365   int_var = Prece
+0002b3f0: 6465 6442 7928 2223 2229 202b 2070 7970  dedBy("#") + pyp
+0002b400: 6172 7369 6e67 5f63 6f6d 6d6f 6e2e 6964  arsing_common.id
+0002b410: 656e 7469 6669 6572 0a20 2020 2020 2020  entifier.       
+0002b420: 2073 7472 5f76 6172 203d 2050 7265 6365   str_var = Prece
+0002b430: 6465 6442 7928 2224 2229 202b 2070 7970  dedBy("$") + pyp
+0002b440: 6172 7369 6e67 5f63 6f6d 6d6f 6e2e 6964  arsing_common.id
+0002b450: 656e 7469 6669 6572 0a0a 2020 2020 2222  entifier..    ""
+0002b460: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
+0002b470: 745f 5f28 0a20 2020 2020 2020 2073 656c  t__(.        sel
+0002b480: 662c 2065 7870 723a 2055 6e69 6f6e 5b50  f, expr: Union[P
+0002b490: 6172 7365 7245 6c65 6d65 6e74 2c20 7374  arserElement, st
+0002b4a0: 725d 2c20 7265 7472 6561 743a 2074 7970  r], retreat: typ
+0002b4b0: 696e 672e 4f70 7469 6f6e 616c 5b69 6e74  ing.Optional[int
+0002b4c0: 5d20 3d20 4e6f 6e65 0a20 2020 2029 3a0a  ] = None.    ):.
+0002b4d0: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+0002b4e0: 5f5f 696e 6974 5f5f 2865 7870 7229 0a20  __init__(expr). 
+0002b4f0: 2020 2020 2020 2073 656c 662e 6578 7072         self.expr
+0002b500: 203d 2073 656c 662e 6578 7072 2829 2e6c   = self.expr().l
+0002b510: 6561 7665 5f77 6869 7465 7370 6163 6528  eave_whitespace(
+0002b520: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
+0002b530: 6179 5265 7475 726e 456d 7074 7920 3d20  ayReturnEmpty = 
+0002b540: 5472 7565 0a20 2020 2020 2020 2073 656c  True.        sel
+0002b550: 662e 6d61 7949 6e64 6578 4572 726f 7220  f.mayIndexError 
+0002b560: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
+0002b570: 7365 6c66 2e65 7861 6374 203d 2046 616c  self.exact = Fal
+0002b580: 7365 0a20 2020 2020 2020 2069 6620 6973  se.        if is
+0002b590: 696e 7374 616e 6365 2865 7870 722c 2073  instance(expr, s
+0002b5a0: 7472 5f74 7970 6529 3a0a 2020 2020 2020  tr_type):.      
+0002b5b0: 2020 2020 2020 6578 7072 203d 2074 7970        expr = typ
+0002b5c0: 696e 672e 6361 7374 2873 7472 2c20 6578  ing.cast(str, ex
+0002b5d0: 7072 290a 2020 2020 2020 2020 2020 2020  pr).            
+0002b5e0: 7265 7472 6561 7420 3d20 6c65 6e28 6578  retreat = len(ex
+0002b5f0: 7072 290a 2020 2020 2020 2020 2020 2020  pr).            
+0002b600: 7365 6c66 2e65 7861 6374 203d 2054 7275  self.exact = Tru
+0002b610: 650a 2020 2020 2020 2020 656c 6966 2069  e.        elif i
+0002b620: 7369 6e73 7461 6e63 6528 6578 7072 2c20  sinstance(expr, 
+0002b630: 284c 6974 6572 616c 2c20 4b65 7977 6f72  (Literal, Keywor
+0002b640: 6429 293a 0a20 2020 2020 2020 2020 2020  d)):.           
+0002b650: 2072 6574 7265 6174 203d 2065 7870 722e   retreat = expr.
+0002b660: 6d61 7463 684c 656e 0a20 2020 2020 2020  matchLen.       
+0002b670: 2020 2020 2073 656c 662e 6578 6163 7420       self.exact 
+0002b680: 3d20 5472 7565 0a20 2020 2020 2020 2065  = True.        e
+0002b690: 6c69 6620 6973 696e 7374 616e 6365 2865  lif isinstance(e
+0002b6a0: 7870 722c 2028 576f 7264 2c20 4368 6172  xpr, (Word, Char
+0002b6b0: 734e 6f74 496e 2929 2061 6e64 2065 7870  sNotIn)) and exp
+0002b6c0: 722e 6d61 784c 656e 2021 3d20 5f4d 4158  r.maxLen != _MAX
+0002b6d0: 5f49 4e54 3a0a 2020 2020 2020 2020 2020  _INT:.          
+0002b6e0: 2020 7265 7472 6561 7420 3d20 6578 7072    retreat = expr
+0002b6f0: 2e6d 6178 4c65 6e0a 2020 2020 2020 2020  .maxLen.        
+0002b700: 2020 2020 7365 6c66 2e65 7861 6374 203d      self.exact =
+0002b710: 2054 7275 650a 2020 2020 2020 2020 656c   True.        el
+0002b720: 6966 2069 7369 6e73 7461 6e63 6528 6578  if isinstance(ex
+0002b730: 7072 2c20 506f 7369 7469 6f6e 546f 6b65  pr, PositionToke
+0002b740: 6e29 3a0a 2020 2020 2020 2020 2020 2020  n):.            
+0002b750: 7265 7472 6561 7420 3d20 300a 2020 2020  retreat = 0.    
+0002b760: 2020 2020 2020 2020 7365 6c66 2e65 7861          self.exa
+0002b770: 6374 203d 2054 7275 650a 2020 2020 2020  ct = True.      
+0002b780: 2020 7365 6c66 2e72 6574 7265 6174 203d    self.retreat =
+0002b790: 2072 6574 7265 6174 0a20 2020 2020 2020   retreat.       
+0002b7a0: 2073 656c 662e 6572 726d 7367 203d 2022   self.errmsg = "
+0002b7b0: 6e6f 7420 7072 6563 6564 6564 2062 7920  not preceded by 
+0002b7c0: 2220 2b20 7374 7228 6578 7072 290a 2020  " + str(expr).  
+0002b7d0: 2020 2020 2020 7365 6c66 2e73 6b69 7057        self.skipW
+0002b7e0: 6869 7465 7370 6163 6520 3d20 4661 6c73  hitespace = Fals
+0002b7f0: 650a 2020 2020 2020 2020 7365 6c66 2e70  e.        self.p
+0002b800: 6172 7365 4163 7469 6f6e 2e61 7070 656e  arseAction.appen
+0002b810: 6428 6c61 6d62 6461 2073 2c20 6c2c 2074  d(lambda s, l, t
+0002b820: 3a20 742e 5f5f 6465 6c69 7465 6d5f 5f28  : t.__delitem__(
+0002b830: 736c 6963 6528 4e6f 6e65 2c20 4e6f 6e65  slice(None, None
+0002b840: 2929 290a 0a20 2020 2064 6566 2070 6172  )))..    def par
+0002b850: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
+0002b860: 7472 696e 672c 206c 6f63 3d30 2c20 646f  tring, loc=0, do
+0002b870: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
+0002b880: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
+0002b890: 7861 6374 3a0a 2020 2020 2020 2020 2020  xact:.          
+0002b8a0: 2020 6966 206c 6f63 203c 2073 656c 662e    if loc < self.
+0002b8b0: 7265 7472 6561 743a 0a20 2020 2020 2020  retreat:.       
+0002b8c0: 2020 2020 2020 2020 2072 6169 7365 2050           raise P
+0002b8d0: 6172 7365 4578 6365 7074 696f 6e28 696e  arseException(in
+0002b8e0: 7374 7269 6e67 2c20 6c6f 632c 2073 656c  string, loc, sel
+0002b8f0: 662e 6572 726d 7367 290a 2020 2020 2020  f.errmsg).      
+0002b900: 2020 2020 2020 7374 6172 7420 3d20 6c6f        start = lo
+0002b910: 6320 2d20 7365 6c66 2e72 6574 7265 6174  c - self.retreat
+0002b920: 0a20 2020 2020 2020 2020 2020 205f 2c20  .            _, 
+0002b930: 7265 7420 3d20 7365 6c66 2e65 7870 722e  ret = self.expr.
+0002b940: 5f70 6172 7365 2869 6e73 7472 696e 672c  _parse(instring,
+0002b950: 2073 7461 7274 290a 2020 2020 2020 2020   start).        
+0002b960: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0002b970: 2020 2320 7265 7472 6561 7420 7370 6563    # retreat spec
+0002b980: 6966 6965 6420 6120 6d61 7869 6d75 6d20  ified a maximum 
+0002b990: 6c6f 6f6b 6265 6869 6e64 2077 696e 646f  lookbehind windo
+0002b9a0: 772c 2069 7465 7261 7465 0a20 2020 2020  w, iterate.     
+0002b9b0: 2020 2020 2020 2074 6573 745f 6578 7072         test_expr
+0002b9c0: 203d 2073 656c 662e 6578 7072 202b 2053   = self.expr + S
+0002b9d0: 7472 696e 6745 6e64 2829 0a20 2020 2020  tringEnd().     
+0002b9e0: 2020 2020 2020 2069 6e73 7472 696e 675f         instring_
+0002b9f0: 736c 6963 6520 3d20 696e 7374 7269 6e67  slice = instring
+0002ba00: 5b6d 6178 2830 2c20 6c6f 6320 2d20 7365  [max(0, loc - se
+0002ba10: 6c66 2e72 6574 7265 6174 2920 3a20 6c6f  lf.retreat) : lo
+0002ba20: 635d 0a20 2020 2020 2020 2020 2020 206c  c].            l
+0002ba30: 6173 745f 6578 7072 203d 2050 6172 7365  ast_expr = Parse
+0002ba40: 4578 6365 7074 696f 6e28 696e 7374 7269  Exception(instri
+0002ba50: 6e67 2c20 6c6f 632c 2073 656c 662e 6572  ng, loc, self.er
+0002ba60: 726d 7367 290a 2020 2020 2020 2020 2020  rmsg).          
+0002ba70: 2020 666f 7220 6f66 6673 6574 2069 6e20    for offset in 
+0002ba80: 7261 6e67 6528 312c 206d 696e 286c 6f63  range(1, min(loc
+0002ba90: 2c20 7365 6c66 2e72 6574 7265 6174 202b  , self.retreat +
+0002baa0: 2031 2920 2b20 3129 3a0a 2020 2020 2020   1) + 1):.      
+0002bab0: 2020 2020 2020 2020 2020 7472 793a 0a20            try:. 
+0002bac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bad0: 2020 2023 2070 7269 6e74 2827 7472 7969     # print('tryi
+0002bae0: 6e67 272c 206f 6666 7365 742c 2069 6e73  ng', offset, ins
+0002baf0: 7472 696e 675f 736c 6963 652c 2072 6570  tring_slice, rep
+0002bb00: 7228 696e 7374 7269 6e67 5f73 6c69 6365  r(instring_slice
+0002bb10: 5b6c 6f63 202d 206f 6666 7365 743a 5d29  [loc - offset:])
+0002bb20: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0002bb30: 2020 2020 2020 5f2c 2072 6574 203d 2074        _, ret = t
+0002bb40: 6573 745f 6578 7072 2e5f 7061 7273 6528  est_expr._parse(
+0002bb50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002bb60: 2020 2020 2020 2020 2069 6e73 7472 696e           instrin
+0002bb70: 675f 736c 6963 652c 206c 656e 2869 6e73  g_slice, len(ins
+0002bb80: 7472 696e 675f 736c 6963 6529 202d 206f  tring_slice) - o
+0002bb90: 6666 7365 740a 2020 2020 2020 2020 2020  ffset.          
+0002bba0: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+0002bbb0: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+0002bbc0: 7074 2050 6172 7365 4261 7365 4578 6365  pt ParseBaseExce
+0002bbd0: 7074 696f 6e20 6173 2070 6265 3a0a 2020  ption as pbe:.  
+0002bbe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bbf0: 2020 6c61 7374 5f65 7870 7220 3d20 7062    last_expr = pb
+0002bc00: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
+0002bc10: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0002bc20: 2020 2020 2020 2020 2020 2020 6272 6561              brea
+0002bc30: 6b0a 2020 2020 2020 2020 2020 2020 656c  k.            el
+0002bc40: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0002bc50: 2020 2020 7261 6973 6520 6c61 7374 5f65      raise last_e
+0002bc60: 7870 720a 2020 2020 2020 2020 7265 7475  xpr.        retu
+0002bc70: 726e 206c 6f63 2c20 7265 740a 0a0a 636c  rn loc, ret...cl
+0002bc80: 6173 7320 4c6f 6361 7465 6428 5061 7273  ass Located(Pars
+0002bc90: 6545 6c65 6d65 6e74 456e 6861 6e63 6529  eElementEnhance)
+0002bca0: 3a0a 2020 2020 2222 220a 2020 2020 4465  :.    """.    De
+0002bcb0: 636f 7261 7465 7320 6120 7265 7475 726e  corates a return
+0002bcc0: 6564 2074 6f6b 656e 2077 6974 6820 6974  ed token with it
+0002bcd0: 7320 7374 6172 7469 6e67 2061 6e64 2065  s starting and e
+0002bce0: 6e64 696e 670a 2020 2020 6c6f 6361 7469  nding.    locati
+0002bcf0: 6f6e 7320 696e 2074 6865 2069 6e70 7574  ons in the input
+0002bd00: 2073 7472 696e 672e 0a0a 2020 2020 5468   string...    Th
+0002bd10: 6973 2068 656c 7065 7220 6164 6473 2074  is helper adds t
+0002bd20: 6865 2066 6f6c 6c6f 7769 6e67 2072 6573  he following res
+0002bd30: 756c 7473 206e 616d 6573 3a0a 0a20 2020  ults names:..   
+0002bd40: 202d 2060 606c 6f63 6e5f 7374 6172 7460   - ``locn_start`
+0002bd50: 6020 2d20 6c6f 6361 7469 6f6e 2077 6865  ` - location whe
+0002bd60: 7265 206d 6174 6368 6564 2065 7870 7265  re matched expre
+0002bd70: 7373 696f 6e20 6265 6769 6e73 0a20 2020  ssion begins.   
+0002bd80: 202d 2060 606c 6f63 6e5f 656e 6460 6020   - ``locn_end`` 
+0002bd90: 2d20 6c6f 6361 7469 6f6e 2077 6865 7265  - location where
+0002bda0: 206d 6174 6368 6564 2065 7870 7265 7373   matched express
+0002bdb0: 696f 6e20 656e 6473 0a20 2020 202d 2060  ion ends.    - `
+0002bdc0: 6076 616c 7565 6060 202d 2074 6865 2061  `value`` - the a
+0002bdd0: 6374 7561 6c20 7061 7273 6564 2072 6573  ctual parsed res
+0002bde0: 756c 7473 0a0a 2020 2020 4265 2063 6172  ults..    Be car
+0002bdf0: 6566 756c 2069 6620 7468 6520 696e 7075  eful if the inpu
+0002be00: 7420 7465 7874 2063 6f6e 7461 696e 7320  t text contains 
+0002be10: 6060 3c54 4142 3e60 6020 6368 6172 6163  ``<TAB>`` charac
+0002be20: 7465 7273 2c20 796f 750a 2020 2020 6d61  ters, you.    ma
+0002be30: 7920 7761 6e74 2074 6f20 6361 6c6c 203a  y want to call :
+0002be40: 636c 6173 733a 6050 6172 7365 7245 6c65  class:`ParserEle
+0002be50: 6d65 6e74 2e70 6172 7365 5f77 6974 685f  ment.parse_with_
+0002be60: 7461 6273 600a 0a20 2020 2045 7861 6d70  tabs`..    Examp
+0002be70: 6c65 3a3a 0a0a 2020 2020 2020 2020 7764  le::..        wd
+0002be80: 203d 2057 6f72 6428 616c 7068 6173 290a   = Word(alphas).
+0002be90: 2020 2020 2020 2020 666f 7220 6d61 7463          for matc
+0002bea0: 6820 696e 204c 6f63 6174 6564 2877 6429  h in Located(wd)
+0002beb0: 2e73 6561 7263 685f 7374 7269 6e67 2822  .search_string("
+0002bec0: 6c6a 7364 6631 3233 6c6b 7364 6a6a 6631  ljsdf123lksdjjf1
+0002bed0: 3233 6c6b 6b6a 6a31 3232 3222 293a 0a20  23lkkjj1222"):. 
+0002bee0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+0002bef0: 286d 6174 6368 290a 0a20 2020 2070 7269  (match)..    pri
+0002bf00: 6e74 733a 3a0a 0a20 2020 2020 2020 205b  nts::..        [
+0002bf10: 302c 205b 276c 6a73 6466 275d 2c20 355d  0, ['ljsdf'], 5]
+0002bf20: 0a20 2020 2020 2020 205b 382c 205b 276c  .        [8, ['l
+0002bf30: 6b73 646a 6a66 275d 2c20 3135 5d0a 2020  ksdjjf'], 15].  
+0002bf40: 2020 2020 2020 5b31 382c 205b 276c 6b6b        [18, ['lkk
+0002bf50: 6a6a 275d 2c20 3233 5d0a 0a20 2020 2022  jj'], 23]..    "
+0002bf60: 2222 0a0a 2020 2020 6465 6620 7061 7273  ""..    def pars
+0002bf70: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
+0002bf80: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+0002bf90: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
+0002bfa0: 2020 2020 7374 6172 7420 3d20 6c6f 630a      start = loc.
+0002bfb0: 2020 2020 2020 2020 6c6f 632c 2074 6f6b          loc, tok
+0002bfc0: 656e 7320 3d20 7365 6c66 2e65 7870 722e  ens = self.expr.
+0002bfd0: 5f70 6172 7365 2869 6e73 7472 696e 672c  _parse(instring,
+0002bfe0: 2073 7461 7274 2c20 646f 4163 7469 6f6e   start, doAction
+0002bff0: 732c 2063 616c 6c50 7265 5061 7273 653d  s, callPreParse=
+0002c000: 4661 6c73 6529 0a20 2020 2020 2020 2072  False).        r
+0002c010: 6574 5f74 6f6b 656e 7320 3d20 5061 7273  et_tokens = Pars
+0002c020: 6552 6573 756c 7473 285b 7374 6172 742c  eResults([start,
+0002c030: 2074 6f6b 656e 732c 206c 6f63 5d29 0a20   tokens, loc]). 
+0002c040: 2020 2020 2020 2072 6574 5f74 6f6b 656e         ret_token
+0002c050: 735b 226c 6f63 6e5f 7374 6172 7422 5d20  s["locn_start"] 
+0002c060: 3d20 7374 6172 740a 2020 2020 2020 2020  = start.        
+0002c070: 7265 745f 746f 6b65 6e73 5b22 7661 6c75  ret_tokens["valu
+0002c080: 6522 5d20 3d20 746f 6b65 6e73 0a20 2020  e"] = tokens.   
+0002c090: 2020 2020 2072 6574 5f74 6f6b 656e 735b       ret_tokens[
+0002c0a0: 226c 6f63 6e5f 656e 6422 5d20 3d20 6c6f  "locn_end"] = lo
+0002c0b0: 630a 2020 2020 2020 2020 6966 2073 656c  c.        if sel
+0002c0c0: 662e 7265 7375 6c74 734e 616d 653a 0a20  f.resultsName:. 
+0002c0d0: 2020 2020 2020 2020 2020 2023 206d 7573             # mus
+0002c0e0: 7420 7265 7475 726e 2061 7320 6120 6c69  t return as a li
+0002c0f0: 7374 2c20 736f 2074 6861 7420 7468 6520  st, so that the 
+0002c100: 6e61 6d65 2077 696c 6c20 6265 2061 7474  name will be att
+0002c110: 6163 6865 6420 746f 2074 6865 2063 6f6d  ached to the com
+0002c120: 706c 6574 6520 6772 6f75 700a 2020 2020  plete group.    
+0002c130: 2020 2020 2020 2020 7265 7475 726e 206c          return l
+0002c140: 6f63 2c20 5b72 6574 5f74 6f6b 656e 735d  oc, [ret_tokens]
+0002c150: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0002c160: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+0002c170: 6e20 6c6f 632c 2072 6574 5f74 6f6b 656e  n loc, ret_token
+0002c180: 730a 0a0a 636c 6173 7320 4e6f 7441 6e79  s...class NotAny
+0002c190: 2850 6172 7365 456c 656d 656e 7445 6e68  (ParseElementEnh
+0002c1a0: 616e 6365 293a 0a20 2020 2022 2222 0a20  ance):.    """. 
+0002c1b0: 2020 204c 6f6f 6b61 6865 6164 2074 6f20     Lookahead to 
+0002c1c0: 6469 7361 6c6c 6f77 206d 6174 6368 696e  disallow matchin
+0002c1d0: 6720 7769 7468 2074 6865 2067 6976 656e  g with the given
+0002c1e0: 2070 6172 7365 2065 7870 7265 7373 696f   parse expressio
+0002c1f0: 6e2e 0a20 2020 2060 604e 6f74 416e 7960  n..    ``NotAny`
+0002c200: 6020 646f 6573 202a 6e6f 742a 2061 6476  ` does *not* adv
+0002c210: 616e 6365 2074 6865 2070 6172 7369 6e67  ance the parsing
+0002c220: 2070 6f73 6974 696f 6e20 7769 7468 696e   position within
+0002c230: 2074 6865 0a20 2020 2069 6e70 7574 2073   the.    input s
+0002c240: 7472 696e 672c 2069 7420 6f6e 6c79 2076  tring, it only v
+0002c250: 6572 6966 6965 7320 7468 6174 2074 6865  erifies that the
+0002c260: 2073 7065 6369 6669 6564 2070 6172 7365   specified parse
+0002c270: 2065 7870 7265 7373 696f 6e0a 2020 2020   expression.    
+0002c280: 646f 6573 202a 6e6f 742a 206d 6174 6368  does *not* match
+0002c290: 2061 7420 7468 6520 6375 7272 656e 7420   at the current 
+0002c2a0: 706f 7369 7469 6f6e 2e20 2041 6c73 6f2c  position.  Also,
+0002c2b0: 2060 604e 6f74 416e 7960 6020 646f 6573   ``NotAny`` does
+0002c2c0: 0a20 2020 202a 6e6f 742a 2073 6b69 7020  .    *not* skip 
+0002c2d0: 6f76 6572 206c 6561 6469 6e67 2077 6869  over leading whi
+0002c2e0: 7465 7370 6163 652e 2060 604e 6f74 416e  tespace. ``NotAn
+0002c2f0: 7960 6020 616c 7761 7973 2072 6574 7572  y`` always retur
+0002c300: 6e73 0a20 2020 2061 206e 756c 6c20 746f  ns.    a null to
+0002c310: 6b65 6e20 6c69 7374 2e20 204d 6179 2062  ken list.  May b
+0002c320: 6520 636f 6e73 7472 7563 7465 6420 7573  e constructed us
+0002c330: 696e 6720 7468 6520 6060 277e 2760 6020  ing the ``'~'`` 
+0002c340: 6f70 6572 6174 6f72 2e0a 0a20 2020 2045  operator...    E
+0002c350: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
+0002c360: 2020 414e 442c 204f 522c 204e 4f54 203d    AND, OR, NOT =
+0002c370: 206d 6170 2843 6173 656c 6573 734b 6579   map(CaselessKey
+0002c380: 776f 7264 2c20 2241 4e44 204f 5220 4e4f  word, "AND OR NO
+0002c390: 5422 2e73 706c 6974 2829 290a 0a20 2020  T".split())..   
+0002c3a0: 2020 2020 2023 2074 616b 6520 6361 7265       # take care
+0002c3b0: 206e 6f74 2074 6f20 6d69 7374 616b 6520   not to mistake 
+0002c3c0: 6b65 7977 6f72 6473 2066 6f72 2069 6465  keywords for ide
+0002c3d0: 6e74 6966 6965 7273 0a20 2020 2020 2020  ntifiers.       
+0002c3e0: 2069 6465 6e74 203d 207e 2841 4e44 207c   ident = ~(AND |
+0002c3f0: 204f 5220 7c20 4e4f 5429 202b 2057 6f72   OR | NOT) + Wor
+0002c400: 6428 616c 7068 6173 290a 2020 2020 2020  d(alphas).      
+0002c410: 2020 626f 6f6c 6561 6e5f 7465 726d 203d    boolean_term =
+0002c420: 204f 7074 284e 4f54 2920 2b20 6964 656e   Opt(NOT) + iden
+0002c430: 740a 0a20 2020 2020 2020 2023 2076 6572  t..        # ver
+0002c440: 7920 6372 7564 6520 626f 6f6c 6561 6e20  y crude boolean 
+0002c450: 6578 7072 6573 7369 6f6e 202d 2074 6f20  expression - to 
+0002c460: 7375 7070 6f72 7420 7061 7265 6e74 6865  support parenthe
+0002c470: 7369 7320 6772 6f75 7073 2061 6e64 0a20  sis groups and. 
+0002c480: 2020 2020 2020 2023 206f 7065 7261 7469         # operati
+0002c490: 6f6e 2068 6965 7261 7263 6879 2c20 7573  on hierarchy, us
+0002c4a0: 6520 696e 6669 785f 6e6f 7461 7469 6f6e  e infix_notation
+0002c4b0: 0a20 2020 2020 2020 2062 6f6f 6c65 616e  .        boolean
+0002c4c0: 5f65 7870 7220 3d20 626f 6f6c 6561 6e5f  _expr = boolean_
+0002c4d0: 7465 726d 202b 2028 2841 4e44 207c 204f  term + ((AND | O
+0002c4e0: 5229 202b 2062 6f6f 6c65 616e 5f74 6572  R) + boolean_ter
+0002c4f0: 6d29 5b2e 2e2e 5d0a 0a20 2020 2020 2020  m)[...]..       
+0002c500: 2023 2069 6e74 6567 6572 7320 7468 6174   # integers that
+0002c510: 2061 7265 2066 6f6c 6c6f 7765 6420 6279   are followed by
+0002c520: 2022 2e22 2061 7265 2061 6374 7561 6c6c   "." are actuall
+0002c530: 7920 666c 6f61 7473 0a20 2020 2020 2020  y floats.       
+0002c540: 2069 6e74 6567 6572 203d 2057 6f72 6428   integer = Word(
+0002c550: 6e75 6d73 2920 2b20 7e43 6861 7228 222e  nums) + ~Char(".
+0002c560: 2229 0a20 2020 2022 2222 0a0a 2020 2020  ").    """..    
+0002c570: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
+0002c580: 662c 2065 7870 723a 2055 6e69 6f6e 5b50  f, expr: Union[P
+0002c590: 6172 7365 7245 6c65 6d65 6e74 2c20 7374  arserElement, st
+0002c5a0: 725d 293a 0a20 2020 2020 2020 2073 7570  r]):.        sup
+0002c5b0: 6572 2829 2e5f 5f69 6e69 745f 5f28 6578  er().__init__(ex
+0002c5c0: 7072 290a 2020 2020 2020 2020 2320 646f  pr).        # do
+0002c5d0: 204e 4f54 2075 7365 2073 656c 662e 6c65   NOT use self.le
+0002c5e0: 6176 655f 7768 6974 6573 7061 6365 2829  ave_whitespace()
+0002c5f0: 2c20 646f 6e27 7420 7761 6e74 2074 6f20  , don't want to 
+0002c600: 7072 6f70 6167 6174 6520 746f 2065 7870  propagate to exp
+0002c610: 7273 0a20 2020 2020 2020 2023 2073 656c  rs.        # sel
+0002c620: 662e 6c65 6176 655f 7768 6974 6573 7061  f.leave_whitespa
+0002c630: 6365 2829 0a20 2020 2020 2020 2073 656c  ce().        sel
+0002c640: 662e 736b 6970 5768 6974 6573 7061 6365  f.skipWhitespace
+0002c650: 203d 2046 616c 7365 0a0a 2020 2020 2020   = False..      
+0002c660: 2020 7365 6c66 2e6d 6179 5265 7475 726e    self.mayReturn
+0002c670: 456d 7074 7920 3d20 5472 7565 0a20 2020  Empty = True.   
+0002c680: 2020 2020 2073 656c 662e 6572 726d 7367       self.errmsg
+0002c690: 203d 2022 466f 756e 6420 756e 7761 6e74   = "Found unwant
+0002c6a0: 6564 2074 6f6b 656e 2c20 2220 2b20 7374  ed token, " + st
+0002c6b0: 7228 7365 6c66 2e65 7870 7229 0a0a 2020  r(self.expr)..  
+0002c6c0: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
+0002c6d0: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+0002c6e0: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
+0002c6f0: 7275 6529 3a0a 2020 2020 2020 2020 6966  rue):.        if
+0002c700: 2073 656c 662e 6578 7072 2e63 616e 5f70   self.expr.can_p
+0002c710: 6172 7365 5f6e 6578 7428 696e 7374 7269  arse_next(instri
+0002c720: 6e67 2c20 6c6f 632c 2064 6f5f 6163 7469  ng, loc, do_acti
+0002c730: 6f6e 733d 646f 4163 7469 6f6e 7329 3a0a  ons=doActions):.
+0002c740: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0002c750: 6520 5061 7273 6545 7863 6570 7469 6f6e  e ParseException
+0002c760: 2869 6e73 7472 696e 672c 206c 6f63 2c20  (instring, loc, 
+0002c770: 7365 6c66 2e65 7272 6d73 672c 2073 656c  self.errmsg, sel
+0002c780: 6629 0a20 2020 2020 2020 2072 6574 7572  f).        retur
+0002c790: 6e20 6c6f 632c 205b 5d0a 0a20 2020 2064  n loc, []..    d
+0002c7a0: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
+0002c7b0: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
+0002c7c0: 2073 7472 3a0a 2020 2020 2020 2020 7265   str:.        re
+0002c7d0: 7475 726e 2022 7e7b 2220 2b20 7374 7228  turn "~{" + str(
+0002c7e0: 7365 6c66 2e65 7870 7229 202b 2022 7d22  self.expr) + "}"
+0002c7f0: 0a0a 0a63 6c61 7373 205f 4d75 6c74 6970  ...class _Multip
+0002c800: 6c65 4d61 7463 6828 5061 7273 6545 6c65  leMatch(ParseEle
+0002c810: 6d65 6e74 456e 6861 6e63 6529 3a0a 2020  mentEnhance):.  
+0002c820: 2020 6465 6620 5f5f 696e 6974 5f5f 280a    def __init__(.
+0002c830: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+0002c840: 2020 2020 2020 6578 7072 3a20 556e 696f        expr: Unio
+0002c850: 6e5b 7374 722c 2050 6172 7365 7245 6c65  n[str, ParserEle
+0002c860: 6d65 6e74 5d2c 0a20 2020 2020 2020 2073  ment],.        s
+0002c870: 746f 705f 6f6e 3a20 7479 7069 6e67 2e4f  top_on: typing.O
+0002c880: 7074 696f 6e61 6c5b 556e 696f 6e5b 5061  ptional[Union[Pa
+0002c890: 7273 6572 456c 656d 656e 742c 2073 7472  rserElement, str
+0002c8a0: 5d5d 203d 204e 6f6e 652c 0a20 2020 2020  ]] = None,.     
+0002c8b0: 2020 202a 2c0a 2020 2020 2020 2020 7374     *,.        st
+0002c8c0: 6f70 4f6e 3a20 7479 7069 6e67 2e4f 7074  opOn: typing.Opt
+0002c8d0: 696f 6e61 6c5b 556e 696f 6e5b 5061 7273  ional[Union[Pars
+0002c8e0: 6572 456c 656d 656e 742c 2073 7472 5d5d  erElement, str]]
+0002c8f0: 203d 204e 6f6e 652c 0a20 2020 2029 3a0a   = None,.    ):.
+0002c900: 2020 2020 2020 2020 7375 7065 7228 292e          super().
+0002c910: 5f5f 696e 6974 5f5f 2865 7870 7229 0a20  __init__(expr). 
+0002c920: 2020 2020 2020 2073 746f 704f 6e20 3d20         stopOn = 
+0002c930: 7374 6f70 4f6e 206f 7220 7374 6f70 5f6f  stopOn or stop_o
+0002c940: 6e0a 2020 2020 2020 2020 7365 6c66 2e73  n.        self.s
+0002c950: 6176 6541 734c 6973 7420 3d20 5472 7565  aveAsList = True
+0002c960: 0a20 2020 2020 2020 2065 6e64 6572 203d  .        ender =
+0002c970: 2073 746f 704f 6e0a 2020 2020 2020 2020   stopOn.        
+0002c980: 6966 2069 7369 6e73 7461 6e63 6528 656e  if isinstance(en
+0002c990: 6465 722c 2073 7472 5f74 7970 6529 3a0a  der, str_type):.
+0002c9a0: 2020 2020 2020 2020 2020 2020 656e 6465              ende
+0002c9b0: 7220 3d20 7365 6c66 2e5f 6c69 7465 7261  r = self._litera
+0002c9c0: 6c53 7472 696e 6743 6c61 7373 2865 6e64  lStringClass(end
+0002c9d0: 6572 290a 2020 2020 2020 2020 7365 6c66  er).        self
+0002c9e0: 2e73 746f 704f 6e28 656e 6465 7229 0a0a  .stopOn(ender)..
+0002c9f0: 2020 2020 6465 6620 7374 6f70 4f6e 2873      def stopOn(s
+0002ca00: 656c 662c 2065 6e64 6572 2920 2d3e 2050  elf, ender) -> P
+0002ca10: 6172 7365 7245 6c65 6d65 6e74 3a0a 2020  arserElement:.  
+0002ca20: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+0002ca30: 6e63 6528 656e 6465 722c 2073 7472 5f74  nce(ender, str_t
+0002ca40: 7970 6529 3a0a 2020 2020 2020 2020 2020  ype):.          
+0002ca50: 2020 656e 6465 7220 3d20 7365 6c66 2e5f    ender = self._
+0002ca60: 6c69 7465 7261 6c53 7472 696e 6743 6c61  literalStringCla
+0002ca70: 7373 2865 6e64 6572 290a 2020 2020 2020  ss(ender).      
+0002ca80: 2020 7365 6c66 2e6e 6f74 5f65 6e64 6572    self.not_ender
+0002ca90: 203d 207e 656e 6465 7220 6966 2065 6e64   = ~ender if end
+0002caa0: 6572 2069 7320 6e6f 7420 4e6f 6e65 2065  er is not None e
+0002cab0: 6c73 6520 4e6f 6e65 0a20 2020 2020 2020  lse None.       
+0002cac0: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
+0002cad0: 2020 6465 6620 7061 7273 6549 6d70 6c28    def parseImpl(
+0002cae0: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+0002caf0: 6c6f 632c 2064 6f41 6374 696f 6e73 3d54  loc, doActions=T
+0002cb00: 7275 6529 3a0a 2020 2020 2020 2020 7365  rue):.        se
+0002cb10: 6c66 5f65 7870 725f 7061 7273 6520 3d20  lf_expr_parse = 
+0002cb20: 7365 6c66 2e65 7870 722e 5f70 6172 7365  self.expr._parse
+0002cb30: 0a20 2020 2020 2020 2073 656c 665f 736b  .        self_sk
+0002cb40: 6970 5f69 676e 6f72 6162 6c65 7320 3d20  ip_ignorables = 
+0002cb50: 7365 6c66 2e5f 736b 6970 4967 6e6f 7261  self._skipIgnora
+0002cb60: 626c 6573 0a20 2020 2020 2020 2063 6865  bles.        che
+0002cb70: 636b 5f65 6e64 6572 203d 2073 656c 662e  ck_ender = self.
+0002cb80: 6e6f 745f 656e 6465 7220 6973 206e 6f74  not_ender is not
+0002cb90: 204e 6f6e 650a 2020 2020 2020 2020 6966   None.        if
+0002cba0: 2063 6865 636b 5f65 6e64 6572 3a0a 2020   check_ender:.  
+0002cbb0: 2020 2020 2020 2020 2020 7472 795f 6e6f            try_no
+0002cbc0: 745f 656e 6465 7220 3d20 7365 6c66 2e6e  t_ender = self.n
+0002cbd0: 6f74 5f65 6e64 6572 2e74 7279 5f70 6172  ot_ender.try_par
+0002cbe0: 7365 0a0a 2020 2020 2020 2020 2320 6d75  se..        # mu
+0002cbf0: 7374 2062 6520 6174 206c 6561 7374 206f  st be at least o
+0002cc00: 6e65 2028 6275 7420 6669 7273 7420 7365  ne (but first se
+0002cc10: 6520 6966 2077 6520 6172 6520 7468 6520  e if we are the 
+0002cc20: 7374 6f70 4f6e 2073 656e 7469 6e65 6c3b  stopOn sentinel;
+0002cc30: 0a20 2020 2020 2020 2023 2069 6620 736f  .        # if so
+0002cc40: 2c20 6661 696c 290a 2020 2020 2020 2020  , fail).        
+0002cc50: 6966 2063 6865 636b 5f65 6e64 6572 3a0a  if check_ender:.
+0002cc60: 2020 2020 2020 2020 2020 2020 7472 795f              try_
+0002cc70: 6e6f 745f 656e 6465 7228 696e 7374 7269  not_ender(instri
+0002cc80: 6e67 2c20 6c6f 6329 0a20 2020 2020 2020  ng, loc).       
+0002cc90: 206c 6f63 2c20 746f 6b65 6e73 203d 2073   loc, tokens = s
+0002cca0: 656c 665f 6578 7072 5f70 6172 7365 2869  elf_expr_parse(i
+0002ccb0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
+0002ccc0: 4163 7469 6f6e 7329 0a20 2020 2020 2020  Actions).       
+0002ccd0: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+0002cce0: 2020 6861 7349 676e 6f72 6545 7870 7273    hasIgnoreExprs
+0002ccf0: 203d 206e 6f74 206e 6f74 2073 656c 662e   = not not self.
+0002cd00: 6967 6e6f 7265 4578 7072 730a 2020 2020  ignoreExprs.    
+0002cd10: 2020 2020 2020 2020 7768 696c 6520 313a          while 1:
+0002cd20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002cd30: 2069 6620 6368 6563 6b5f 656e 6465 723a   if check_ender:
+0002cd40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002cd50: 2020 2020 2074 7279 5f6e 6f74 5f65 6e64       try_not_end
+0002cd60: 6572 2869 6e73 7472 696e 672c 206c 6f63  er(instring, loc
+0002cd70: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0002cd80: 2020 6966 2068 6173 4967 6e6f 7265 4578    if hasIgnoreEx
+0002cd90: 7072 733a 0a20 2020 2020 2020 2020 2020  prs:.           
+0002cda0: 2020 2020 2020 2020 2070 7265 6c6f 6320           preloc 
+0002cdb0: 3d20 7365 6c66 5f73 6b69 705f 6967 6e6f  = self_skip_igno
+0002cdc0: 7261 626c 6573 2869 6e73 7472 696e 672c  rables(instring,
+0002cdd0: 206c 6f63 290a 2020 2020 2020 2020 2020   loc).          
+0002cde0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0002cdf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ce00: 7072 656c 6f63 203d 206c 6f63 0a20 2020  preloc = loc.   
+0002ce10: 2020 2020 2020 2020 2020 2020 206c 6f63               loc
+0002ce20: 2c20 746d 7074 6f6b 656e 7320 3d20 7365  , tmptokens = se
+0002ce30: 6c66 5f65 7870 725f 7061 7273 6528 696e  lf_expr_parse(in
+0002ce40: 7374 7269 6e67 2c20 7072 656c 6f63 2c20  string, preloc, 
+0002ce50: 646f 4163 7469 6f6e 7329 0a20 2020 2020  doActions).     
+0002ce60: 2020 2020 2020 2020 2020 2074 6f6b 656e             token
+0002ce70: 7320 2b3d 2074 6d70 746f 6b65 6e73 0a20  s += tmptokens. 
+0002ce80: 2020 2020 2020 2065 7863 6570 7420 2850         except (P
+0002ce90: 6172 7365 4578 6365 7074 696f 6e2c 2049  arseException, I
+0002cea0: 6e64 6578 4572 726f 7229 3a0a 2020 2020  ndexError):.    
+0002ceb0: 2020 2020 2020 2020 7061 7373 0a0a 2020          pass..  
+0002cec0: 2020 2020 2020 7265 7475 726e 206c 6f63        return loc
+0002ced0: 2c20 746f 6b65 6e73 0a0a 2020 2020 6465  , tokens..    de
+0002cee0: 6620 5f73 6574 5265 7375 6c74 734e 616d  f _setResultsNam
+0002cef0: 6528 7365 6c66 2c20 6e61 6d65 2c20 6c69  e(self, name, li
+0002cf00: 7374 416c 6c4d 6174 6368 6573 3d46 616c  stAllMatches=Fal
+0002cf10: 7365 293a 0a20 2020 2020 2020 2069 6620  se):.        if 
+0002cf20: 280a 2020 2020 2020 2020 2020 2020 5f5f  (.            __
+0002cf30: 6469 6167 5f5f 2e77 6172 6e5f 756e 6772  diag__.warn_ungr
+0002cf40: 6f75 7065 645f 6e61 6d65 645f 746f 6b65  ouped_named_toke
+0002cf50: 6e73 5f69 6e5f 636f 6c6c 6563 7469 6f6e  ns_in_collection
+0002cf60: 0a20 2020 2020 2020 2020 2020 2061 6e64  .            and
+0002cf70: 2044 6961 676e 6f73 7469 6373 2e77 6172   Diagnostics.war
+0002cf80: 6e5f 756e 6772 6f75 7065 645f 6e61 6d65  n_ungrouped_name
+0002cf90: 645f 746f 6b65 6e73 5f69 6e5f 636f 6c6c  d_tokens_in_coll
+0002cfa0: 6563 7469 6f6e 0a20 2020 2020 2020 2020  ection.         
+0002cfb0: 2020 206e 6f74 2069 6e20 7365 6c66 2e73     not in self.s
+0002cfc0: 7570 7072 6573 735f 7761 726e 696e 6773  uppress_warnings
+0002cfd0: 5f0a 2020 2020 2020 2020 293a 0a20 2020  _.        ):.   
+0002cfe0: 2020 2020 2020 2020 2066 6f72 2065 2069           for e i
+0002cff0: 6e20 5b73 656c 662e 6578 7072 5d20 2b20  n [self.expr] + 
+0002d000: 7365 6c66 2e65 7870 722e 7265 6375 7273  self.expr.recurs
+0002d010: 6528 293a 0a20 2020 2020 2020 2020 2020  e():.           
+0002d020: 2020 2020 2069 6620 280a 2020 2020 2020       if (.      
+0002d030: 2020 2020 2020 2020 2020 2020 2020 6973                is
+0002d040: 696e 7374 616e 6365 2865 2c20 5061 7273  instance(e, Pars
+0002d050: 6572 456c 656d 656e 7429 0a20 2020 2020  erElement).     
+0002d060: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+0002d070: 6e64 2065 2e72 6573 756c 7473 4e61 6d65  nd e.resultsName
+0002d080: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d090: 2020 2020 2061 6e64 2044 6961 676e 6f73       and Diagnos
+0002d0a0: 7469 6373 2e77 6172 6e5f 756e 6772 6f75  tics.warn_ungrou
+0002d0b0: 7065 645f 6e61 6d65 645f 746f 6b65 6e73  ped_named_tokens
+0002d0c0: 5f69 6e5f 636f 6c6c 6563 7469 6f6e 0a20  _in_collection. 
+0002d0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d0e0: 2020 206e 6f74 2069 6e20 652e 7375 7070     not in e.supp
+0002d0f0: 7265 7373 5f77 6172 6e69 6e67 735f 0a20  ress_warnings_. 
+0002d100: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+0002d110: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0002d120: 2020 2020 2020 7761 726e 696e 6773 2e77        warnings.w
+0002d130: 6172 6e28 0a20 2020 2020 2020 2020 2020  arn(.           
+0002d140: 2020 2020 2020 2020 2020 2020 2022 7b7d               "{}
+0002d150: 3a20 7365 7474 696e 6720 7265 7375 6c74  : setting result
+0002d160: 7320 6e61 6d65 207b 2172 7d20 6f6e 207b  s name {!r} on {
+0002d170: 7d20 6578 7072 6573 7369 6f6e 2022 0a20  } expression ". 
 0002d180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d190: 2020 2020 2074 7970 6528 7365 6c66 292e       type(self).
-0002d1a0: 5f5f 6e61 6d65 5f5f 2c0a 2020 2020 2020  __name__,.      
-0002d1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d1c0: 2020 2020 2020 652e 7265 7375 6c74 734e        e.resultsN
-0002d1d0: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
-0002d1e0: 2020 2020 2020 2020 2020 2020 2029 2c0a               ),.
-0002d1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d200: 2020 2020 2020 2020 7374 6163 6b6c 6576          stacklev
-0002d210: 656c 3d33 2c0a 2020 2020 2020 2020 2020  el=3,.          
-0002d220: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
-0002d230: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
-0002d240: 7228 292e 5f73 6574 5265 7375 6c74 734e  r()._setResultsN
-0002d250: 616d 6528 6e61 6d65 2c20 6c69 7374 416c  ame(name, listAl
-0002d260: 6c4d 6174 6368 6573 290a 0a0a 636c 6173  lMatches)...clas
-0002d270: 7320 4f6e 654f 724d 6f72 6528 5f4d 756c  s OneOrMore(_Mul
-0002d280: 7469 706c 654d 6174 6368 293a 0a20 2020  tipleMatch):.   
-0002d290: 2022 2222 0a20 2020 2052 6570 6574 6974   """.    Repetit
-0002d2a0: 696f 6e20 6f66 206f 6e65 206f 7220 6d6f  ion of one or mo
-0002d2b0: 7265 206f 6620 7468 6520 6769 7665 6e20  re of the given 
-0002d2c0: 6578 7072 6573 7369 6f6e 2e0a 0a20 2020  expression...   
-0002d2d0: 2050 6172 616d 6574 6572 733a 0a0a 2020   Parameters:..  
-0002d2e0: 2020 2d20 6060 6578 7072 6060 202d 2065    - ``expr`` - e
-0002d2f0: 7870 7265 7373 696f 6e20 7468 6174 206d  xpression that m
-0002d300: 7573 7420 6d61 7463 6820 6f6e 6520 6f72  ust match one or
-0002d310: 206d 6f72 6520 7469 6d65 730a 2020 2020   more times.    
-0002d320: 2d20 6060 7374 6f70 5f6f 6e60 6020 2d20  - ``stop_on`` - 
-0002d330: 2864 6566 6175 6c74 3d20 6060 4e6f 6e65  (default= ``None
-0002d340: 6060 2920 2d20 6578 7072 6573 7369 6f6e  ``) - expression
-0002d350: 2066 6f72 2061 2074 6572 6d69 6e61 7469   for a terminati
-0002d360: 6e67 2073 656e 7469 6e65 6c0a 2020 2020  ng sentinel.    
-0002d370: 2020 286f 6e6c 7920 7265 7175 6972 6564    (only required
-0002d380: 2069 6620 7468 6520 7365 6e74 696e 656c   if the sentinel
-0002d390: 2077 6f75 6c64 206f 7264 696e 6172 696c   would ordinaril
-0002d3a0: 7920 6d61 7463 6820 7468 6520 7265 7065  y match the repe
-0002d3b0: 7469 7469 6f6e 0a20 2020 2020 2065 7870  tition.      exp
-0002d3c0: 7265 7373 696f 6e29 0a0a 2020 2020 4578  ression)..    Ex
-0002d3d0: 616d 706c 653a 3a0a 0a20 2020 2020 2020  ample::..       
-0002d3e0: 2064 6174 615f 776f 7264 203d 2057 6f72   data_word = Wor
-0002d3f0: 6428 616c 7068 6173 290a 2020 2020 2020  d(alphas).      
-0002d400: 2020 6c61 6265 6c20 3d20 6461 7461 5f77    label = data_w
-0002d410: 6f72 6420 2b20 466f 6c6c 6f77 6564 4279  ord + FollowedBy
-0002d420: 2827 3a27 290a 2020 2020 2020 2020 6174  (':').        at
-0002d430: 7472 5f65 7870 7220 3d20 4772 6f75 7028  tr_expr = Group(
-0002d440: 6c61 6265 6c20 2b20 5375 7070 7265 7373  label + Suppress
-0002d450: 2827 3a27 2920 2b20 4f6e 654f 724d 6f72  (':') + OneOrMor
-0002d460: 6528 6461 7461 5f77 6f72 6429 2e73 6574  e(data_word).set
-0002d470: 5f70 6172 7365 5f61 6374 696f 6e28 2720  _parse_action(' 
-0002d480: 272e 6a6f 696e 2929 0a0a 2020 2020 2020  '.join))..      
-0002d490: 2020 7465 7874 203d 2022 7368 6170 653a    text = "shape:
-0002d4a0: 2053 5155 4152 4520 706f 736e 3a20 7570   SQUARE posn: up
-0002d4b0: 7065 7220 6c65 6674 2063 6f6c 6f72 3a20  per left color: 
-0002d4c0: 424c 4143 4b22 0a20 2020 2020 2020 2061  BLACK".        a
-0002d4d0: 7474 725f 6578 7072 5b31 2c20 2e2e 2e5d  ttr_expr[1, ...]
-0002d4e0: 2e70 6172 7365 5f73 7472 696e 6728 7465  .parse_string(te
-0002d4f0: 7874 292e 7070 7269 6e74 2829 2020 2320  xt).pprint()  # 
-0002d500: 4661 696c 2120 7265 6164 2027 636f 6c6f  Fail! read 'colo
-0002d510: 7227 2061 7320 6461 7461 2069 6e73 7465  r' as data inste
-0002d520: 6164 206f 6620 6e65 7874 206c 6162 656c  ad of next label
-0002d530: 202d 3e20 5b5b 2773 6861 7065 272c 2027   -> [['shape', '
-0002d540: 5351 5541 5245 2063 6f6c 6f72 275d 5d0a  SQUARE color']].
-0002d550: 0a20 2020 2020 2020 2023 2075 7365 2073  .        # use s
-0002d560: 746f 705f 6f6e 2061 7474 7269 6275 7465  top_on attribute
-0002d570: 2066 6f72 204f 6e65 4f72 4d6f 7265 2074   for OneOrMore t
-0002d580: 6f20 6176 6f69 6420 7265 6164 696e 6720  o avoid reading 
-0002d590: 6c61 6265 6c20 7374 7269 6e67 2061 7320  label string as 
-0002d5a0: 7061 7274 206f 6620 7468 6520 6461 7461  part of the data
-0002d5b0: 0a20 2020 2020 2020 2061 7474 725f 6578  .        attr_ex
-0002d5c0: 7072 203d 2047 726f 7570 286c 6162 656c  pr = Group(label
-0002d5d0: 202b 2053 7570 7072 6573 7328 273a 2729   + Suppress(':')
-0002d5e0: 202b 204f 6e65 4f72 4d6f 7265 2864 6174   + OneOrMore(dat
-0002d5f0: 615f 776f 7264 2c20 7374 6f70 5f6f 6e3d  a_word, stop_on=
-0002d600: 6c61 6265 6c29 2e73 6574 5f70 6172 7365  label).set_parse
-0002d610: 5f61 6374 696f 6e28 2720 272e 6a6f 696e  _action(' '.join
-0002d620: 2929 0a20 2020 2020 2020 204f 6e65 4f72  )).        OneOr
-0002d630: 4d6f 7265 2861 7474 725f 6578 7072 292e  More(attr_expr).
-0002d640: 7061 7273 655f 7374 7269 6e67 2874 6578  parse_string(tex
-0002d650: 7429 2e70 7072 696e 7428 2920 2320 4265  t).pprint() # Be
-0002d660: 7474 6572 202d 3e20 5b5b 2773 6861 7065  tter -> [['shape
-0002d670: 272c 2027 5351 5541 5245 275d 2c20 5b27  ', 'SQUARE'], ['
-0002d680: 706f 736e 272c 2027 7570 7065 7220 6c65  posn', 'upper le
-0002d690: 6674 275d 2c20 5b27 636f 6c6f 7227 2c20  ft'], ['color', 
-0002d6a0: 2742 4c41 434b 275d 5d0a 0a20 2020 2020  'BLACK']]..     
-0002d6b0: 2020 2023 2063 6f75 6c64 2061 6c73 6f20     # could also 
-0002d6c0: 6265 2077 7269 7474 656e 2061 730a 2020  be written as.  
-0002d6d0: 2020 2020 2020 2861 7474 725f 6578 7072        (attr_expr
-0002d6e0: 202a 2028 312c 2929 2e70 6172 7365 5f73   * (1,)).parse_s
-0002d6f0: 7472 696e 6728 7465 7874 292e 7070 7269  tring(text).ppri
-0002d700: 6e74 2829 0a20 2020 2022 2222 0a0a 2020  nt().    """..  
-0002d710: 2020 6465 6620 5f67 656e 6572 6174 6544    def _generateD
-0002d720: 6566 6175 6c74 4e61 6d65 2873 656c 6629  efaultName(self)
-0002d730: 202d 3e20 7374 723a 0a20 2020 2020 2020   -> str:.       
-0002d740: 2072 6574 7572 6e20 227b 2220 2b20 7374   return "{" + st
-0002d750: 7228 7365 6c66 2e65 7870 7229 202b 2022  r(self.expr) + "
-0002d760: 7d2e 2e2e 220a 0a0a 636c 6173 7320 5a65  }..."...class Ze
-0002d770: 726f 4f72 4d6f 7265 285f 4d75 6c74 6970  roOrMore(_Multip
-0002d780: 6c65 4d61 7463 6829 3a0a 2020 2020 2222  leMatch):.    ""
-0002d790: 220a 2020 2020 4f70 7469 6f6e 616c 2072  ".    Optional r
-0002d7a0: 6570 6574 6974 696f 6e20 6f66 207a 6572  epetition of zer
-0002d7b0: 6f20 6f72 206d 6f72 6520 6f66 2074 6865  o or more of the
-0002d7c0: 2067 6976 656e 2065 7870 7265 7373 696f   given expressio
-0002d7d0: 6e2e 0a0a 2020 2020 5061 7261 6d65 7465  n...    Paramete
-0002d7e0: 7273 3a0a 0a20 2020 202d 2060 6065 7870  rs:..    - ``exp
-0002d7f0: 7260 6020 2d20 6578 7072 6573 7369 6f6e  r`` - expression
-0002d800: 2074 6861 7420 6d75 7374 206d 6174 6368   that must match
-0002d810: 207a 6572 6f20 6f72 206d 6f72 6520 7469   zero or more ti
-0002d820: 6d65 730a 2020 2020 2d20 6060 7374 6f70  mes.    - ``stop
-0002d830: 5f6f 6e60 6020 2d20 6578 7072 6573 7369  _on`` - expressi
-0002d840: 6f6e 2066 6f72 2061 2074 6572 6d69 6e61  on for a termina
-0002d850: 7469 6e67 2073 656e 7469 6e65 6c0a 2020  ting sentinel.  
-0002d860: 2020 2020 286f 6e6c 7920 7265 7175 6972      (only requir
-0002d870: 6564 2069 6620 7468 6520 7365 6e74 696e  ed if the sentin
-0002d880: 656c 2077 6f75 6c64 206f 7264 696e 6172  el would ordinar
-0002d890: 696c 7920 6d61 7463 6820 7468 6520 7265  ily match the re
-0002d8a0: 7065 7469 7469 6f6e 0a20 2020 2020 2065  petition.      e
-0002d8b0: 7870 7265 7373 696f 6e29 202d 2028 6465  xpression) - (de
-0002d8c0: 6661 756c 743d 2060 604e 6f6e 6560 6029  fault= ``None``)
-0002d8d0: 0a0a 2020 2020 4578 616d 706c 653a 2073  ..    Example: s
-0002d8e0: 696d 696c 6172 2074 6f20 3a63 6c61 7373  imilar to :class
-0002d8f0: 3a60 4f6e 654f 724d 6f72 6560 0a20 2020  :`OneOrMore`.   
-0002d900: 2022 2222 0a0a 2020 2020 6465 6620 5f5f   """..    def __
-0002d910: 696e 6974 5f5f 280a 2020 2020 2020 2020  init__(.        
-0002d920: 7365 6c66 2c0a 2020 2020 2020 2020 6578  self,.        ex
-0002d930: 7072 3a20 556e 696f 6e5b 7374 722c 2050  pr: Union[str, P
-0002d940: 6172 7365 7245 6c65 6d65 6e74 5d2c 0a20  arserElement],. 
-0002d950: 2020 2020 2020 2073 746f 705f 6f6e 3a20         stop_on: 
-0002d960: 7479 7069 6e67 2e4f 7074 696f 6e61 6c5b  typing.Optional[
-0002d970: 556e 696f 6e5b 5061 7273 6572 456c 656d  Union[ParserElem
-0002d980: 656e 742c 2073 7472 5d5d 203d 204e 6f6e  ent, str]] = Non
-0002d990: 652c 0a20 2020 2020 2020 202a 2c0a 2020  e,.        *,.  
-0002d9a0: 2020 2020 2020 7374 6f70 4f6e 3a20 7479        stopOn: ty
-0002d9b0: 7069 6e67 2e4f 7074 696f 6e61 6c5b 556e  ping.Optional[Un
-0002d9c0: 696f 6e5b 5061 7273 6572 456c 656d 656e  ion[ParserElemen
-0002d9d0: 742c 2073 7472 5d5d 203d 204e 6f6e 652c  t, str]] = None,
-0002d9e0: 0a20 2020 2029 3a0a 2020 2020 2020 2020  .    ):.        
-0002d9f0: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
-0002da00: 2865 7870 722c 2073 746f 704f 6e3d 7374  (expr, stopOn=st
-0002da10: 6f70 4f6e 206f 7220 7374 6f70 5f6f 6e29  opOn or stop_on)
-0002da20: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
-0002da30: 7952 6574 7572 6e45 6d70 7479 203d 2054  yReturnEmpty = T
-0002da40: 7275 650a 0a20 2020 2064 6566 2070 6172  rue..    def par
-0002da50: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
-0002da60: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-0002da70: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
-0002da80: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-0002da90: 2020 2020 2020 7265 7475 726e 2073 7570        return sup
-0002daa0: 6572 2829 2e70 6172 7365 496d 706c 2869  er().parseImpl(i
-0002dab0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
-0002dac0: 4163 7469 6f6e 7329 0a20 2020 2020 2020  Actions).       
-0002dad0: 2065 7863 6570 7420 2850 6172 7365 4578   except (ParseEx
-0002dae0: 6365 7074 696f 6e2c 2049 6e64 6578 4572  ception, IndexEr
-0002daf0: 726f 7229 3a0a 2020 2020 2020 2020 2020  ror):.          
-0002db00: 2020 7265 7475 726e 206c 6f63 2c20 5061    return loc, Pa
-0002db10: 7273 6552 6573 756c 7473 285b 5d2c 206e  rseResults([], n
-0002db20: 616d 653d 7365 6c66 2e72 6573 756c 7473  ame=self.results
-0002db30: 4e61 6d65 290a 0a20 2020 2064 6566 205f  Name)..    def _
-0002db40: 6765 6e65 7261 7465 4465 6661 756c 744e  generateDefaultN
-0002db50: 616d 6528 7365 6c66 2920 2d3e 2073 7472  ame(self) -> str
-0002db60: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-0002db70: 2022 5b22 202b 2073 7472 2873 656c 662e   "[" + str(self.
-0002db80: 6578 7072 2920 2b20 225d 2e2e 2e22 0a0a  expr) + "]..."..
-0002db90: 0a63 6c61 7373 2044 656c 696d 6974 6564  .class Delimited
-0002dba0: 4c69 7374 2850 6172 7365 456c 656d 656e  List(ParseElemen
-0002dbb0: 7445 6e68 616e 6365 293a 0a20 2020 2064  tEnhance):.    d
-0002dbc0: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
-0002dbd0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0002dbe0: 2020 2065 7870 723a 2055 6e69 6f6e 5b73     expr: Union[s
-0002dbf0: 7472 2c20 5061 7273 6572 456c 656d 656e  tr, ParserElemen
-0002dc00: 745d 2c0a 2020 2020 2020 2020 6465 6c69  t],.        deli
-0002dc10: 6d3a 2055 6e69 6f6e 5b73 7472 2c20 5061  m: Union[str, Pa
-0002dc20: 7273 6572 456c 656d 656e 745d 203d 2022  rserElement] = "
-0002dc30: 2c22 2c0a 2020 2020 2020 2020 636f 6d62  ,",.        comb
-0002dc40: 696e 653a 2062 6f6f 6c20 3d20 4661 6c73  ine: bool = Fals
-0002dc50: 652c 0a20 2020 2020 2020 206d 696e 3a20  e,.        min: 
-0002dc60: 7479 7069 6e67 2e4f 7074 696f 6e61 6c5b  typing.Optional[
-0002dc70: 696e 745d 203d 204e 6f6e 652c 0a20 2020  int] = None,.   
-0002dc80: 2020 2020 206d 6178 3a20 7479 7069 6e67       max: typing
-0002dc90: 2e4f 7074 696f 6e61 6c5b 696e 745d 203d  .Optional[int] =
-0002dca0: 204e 6f6e 652c 0a20 2020 2020 2020 202a   None,.        *
-0002dcb0: 2c0a 2020 2020 2020 2020 616c 6c6f 775f  ,.        allow_
-0002dcc0: 7472 6169 6c69 6e67 5f64 656c 696d 3a20  trailing_delim: 
-0002dcd0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-0002dce0: 2020 293a 0a20 2020 2020 2020 2022 2222    ):.        """
-0002dcf0: 4865 6c70 6572 2074 6f20 6465 6669 6e65  Helper to define
-0002dd00: 2061 2064 656c 696d 6974 6564 206c 6973   a delimited lis
-0002dd10: 7420 6f66 2065 7870 7265 7373 696f 6e73  t of expressions
-0002dd20: 202d 2074 6865 2064 656c 696d 6974 6572   - the delimiter
-0002dd30: 0a20 2020 2020 2020 2064 6566 6175 6c74  .        default
-0002dd40: 7320 746f 2027 2c27 2e20 4279 2064 6566  s to ','. By def
-0002dd50: 6175 6c74 2c20 7468 6520 6c69 7374 2065  ault, the list e
-0002dd60: 6c65 6d65 6e74 7320 616e 6420 6465 6c69  lements and deli
-0002dd70: 6d69 7465 7273 2063 616e 0a20 2020 2020  miters can.     
-0002dd80: 2020 2068 6176 6520 696e 7465 7276 656e     have interven
-0002dd90: 696e 6720 7768 6974 6573 7061 6365 2c20  ing whitespace, 
-0002dda0: 616e 6420 636f 6d6d 656e 7473 2c20 6275  and comments, bu
-0002ddb0: 7420 7468 6973 2063 616e 2062 650a 2020  t this can be.  
-0002ddc0: 2020 2020 2020 6f76 6572 7269 6464 656e        overridden
-0002ddd0: 2062 7920 7061 7373 696e 6720 6060 636f   by passing ``co
-0002dde0: 6d62 696e 653d 5472 7565 6060 2069 6e20  mbine=True`` in 
-0002ddf0: 7468 6520 636f 6e73 7472 7563 746f 722e  the constructor.
-0002de00: 2049 660a 2020 2020 2020 2020 6060 636f   If.        ``co
-0002de10: 6d62 696e 6560 6020 6973 2073 6574 2074  mbine`` is set t
-0002de20: 6f20 6060 5472 7565 6060 2c20 7468 6520  o ``True``, the 
-0002de30: 6d61 7463 6869 6e67 2074 6f6b 656e 7320  matching tokens 
-0002de40: 6172 650a 2020 2020 2020 2020 7265 7475  are.        retu
-0002de50: 726e 6564 2061 7320 6120 7369 6e67 6c65  rned as a single
-0002de60: 2074 6f6b 656e 2073 7472 696e 672c 2077   token string, w
-0002de70: 6974 6820 7468 6520 6465 6c69 6d69 7465  ith the delimite
-0002de80: 7273 2069 6e63 6c75 6465 643b 0a20 2020  rs included;.   
-0002de90: 2020 2020 206f 7468 6572 7769 7365 2c20       otherwise, 
-0002dea0: 7468 6520 6d61 7463 6869 6e67 2074 6f6b  the matching tok
-0002deb0: 656e 7320 6172 6520 7265 7475 726e 6564  ens are returned
-0002dec0: 2061 7320 6120 6c69 7374 206f 6620 746f   as a list of to
-0002ded0: 6b65 6e73 2c0a 2020 2020 2020 2020 7769  kens,.        wi
-0002dee0: 7468 2074 6865 2064 656c 696d 6974 6572  th the delimiter
-0002def0: 7320 7375 7070 7265 7373 6564 2e0a 0a20  s suppressed... 
-0002df00: 2020 2020 2020 2049 6620 6060 616c 6c6f         If ``allo
-0002df10: 775f 7472 6169 6c69 6e67 5f64 656c 696d  w_trailing_delim
-0002df20: 6060 2069 7320 7365 7420 746f 2054 7275  `` is set to Tru
-0002df30: 652c 2074 6865 6e20 7468 6520 6c69 7374  e, then the list
-0002df40: 206d 6179 2065 6e64 2077 6974 680a 2020   may end with.  
-0002df50: 2020 2020 2020 6120 6465 6c69 6d69 7465        a delimite
-0002df60: 722e 0a0a 2020 2020 2020 2020 4578 616d  r...        Exam
-0002df70: 706c 653a 3a0a 0a20 2020 2020 2020 2020  ple::..         
-0002df80: 2020 2044 656c 696d 6974 6564 4c69 7374     DelimitedList
-0002df90: 2857 6f72 6428 616c 7068 6173 2929 2e70  (Word(alphas)).p
-0002dfa0: 6172 7365 5f73 7472 696e 6728 2261 612c  arse_string("aa,
-0002dfb0: 6262 2c63 6322 2920 2320 2d3e 205b 2761  bb,cc") # -> ['a
-0002dfc0: 6127 2c20 2762 6227 2c20 2763 6327 5d0a  a', 'bb', 'cc'].
-0002dfd0: 2020 2020 2020 2020 2020 2020 4465 6c69              Deli
-0002dfe0: 6d69 7465 644c 6973 7428 576f 7264 2868  mitedList(Word(h
-0002dff0: 6578 6e75 6d73 292c 2064 656c 696d 3d27  exnums), delim='
-0002e000: 3a27 2c20 636f 6d62 696e 653d 5472 7565  :', combine=True
-0002e010: 292e 7061 7273 655f 7374 7269 6e67 2822  ).parse_string("
-0002e020: 4141 3a42 423a 4343 3a44 443a 4545 2229  AA:BB:CC:DD:EE")
-0002e030: 2023 202d 3e20 5b27 4141 3a42 423a 4343   # -> ['AA:BB:CC
-0002e040: 3a44 443a 4545 275d 0a20 2020 2020 2020  :DD:EE'].       
-0002e050: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-0002e060: 6973 696e 7374 616e 6365 2865 7870 722c  isinstance(expr,
-0002e070: 2073 7472 5f74 7970 6529 3a0a 2020 2020   str_type):.    
-0002e080: 2020 2020 2020 2020 6578 7072 203d 2050          expr = P
-0002e090: 6172 7365 7245 6c65 6d65 6e74 2e5f 6c69  arserElement._li
-0002e0a0: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
-0002e0b0: 2865 7870 7229 0a20 2020 2020 2020 2065  (expr).        e
-0002e0c0: 7870 7220 3d20 7479 7069 6e67 2e63 6173  xpr = typing.cas
-0002e0d0: 7428 5061 7273 6572 456c 656d 656e 742c  t(ParserElement,
-0002e0e0: 2065 7870 7229 0a0a 2020 2020 2020 2020   expr)..        
-0002e0f0: 6966 206d 696e 2069 7320 6e6f 7420 4e6f  if min is not No
-0002e100: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-0002e110: 6966 206d 696e 203c 2031 3a0a 2020 2020  if min < 1:.    
-0002e120: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-0002e130: 6520 5661 6c75 6545 7272 6f72 2822 6d69  e ValueError("mi
-0002e140: 6e20 6d75 7374 2062 6520 6772 6561 7465  n must be greate
-0002e150: 7220 7468 616e 2030 2229 0a20 2020 2020  r than 0").     
-0002e160: 2020 2069 6620 6d61 7820 6973 206e 6f74     if max is not
-0002e170: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-0002e180: 2020 2069 6620 6d69 6e20 6973 206e 6f74     if min is not
-0002e190: 204e 6f6e 6520 616e 6420 6d61 7820 3c20   None and max < 
-0002e1a0: 6d69 6e3a 0a20 2020 2020 2020 2020 2020  min:.           
-0002e1b0: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
-0002e1c0: 4572 726f 7228 226d 6178 206d 7573 7420  Error("max must 
-0002e1d0: 6265 2067 7265 6174 6572 2074 6861 6e2c  be greater than,
-0002e1e0: 206f 7220 6571 7561 6c20 746f 206d 696e   or equal to min
-0002e1f0: 2229 0a0a 2020 2020 2020 2020 7365 6c66  ")..        self
-0002e200: 2e63 6f6e 7465 6e74 203d 2065 7870 720a  .content = expr.
-0002e210: 2020 2020 2020 2020 7365 6c66 2e72 6177          self.raw
-0002e220: 5f64 656c 696d 203d 2073 7472 2864 656c  _delim = str(del
-0002e230: 696d 290a 2020 2020 2020 2020 7365 6c66  im).        self
-0002e240: 2e64 656c 696d 203d 2064 656c 696d 0a20  .delim = delim. 
-0002e250: 2020 2020 2020 2073 656c 662e 636f 6d62         self.comb
-0002e260: 696e 6520 3d20 636f 6d62 696e 650a 2020  ine = combine.  
-0002e270: 2020 2020 2020 6966 206e 6f74 2063 6f6d        if not com
-0002e280: 6269 6e65 3a0a 2020 2020 2020 2020 2020  bine:.          
-0002e290: 2020 7365 6c66 2e64 656c 696d 203d 2053    self.delim = S
-0002e2a0: 7570 7072 6573 7328 6465 6c69 6d29 0a20  uppress(delim). 
-0002e2b0: 2020 2020 2020 2073 656c 662e 6d69 6e20         self.min 
-0002e2c0: 3d20 6d69 6e20 6f72 2031 0a20 2020 2020  = min or 1.     
-0002e2d0: 2020 2073 656c 662e 6d61 7820 3d20 6d61     self.max = ma
-0002e2e0: 780a 2020 2020 2020 2020 7365 6c66 2e61  x.        self.a
-0002e2f0: 6c6c 6f77 5f74 7261 696c 696e 675f 6465  llow_trailing_de
-0002e300: 6c69 6d20 3d20 616c 6c6f 775f 7472 6169  lim = allow_trai
-0002e310: 6c69 6e67 5f64 656c 696d 0a0a 2020 2020  ling_delim..    
-0002e320: 2020 2020 6465 6c69 6d5f 6c69 7374 5f65      delim_list_e
-0002e330: 7870 7220 3d20 7365 6c66 2e63 6f6e 7465  xpr = self.conte
-0002e340: 6e74 202b 2028 7365 6c66 2e64 656c 696d  nt + (self.delim
-0002e350: 202b 2073 656c 662e 636f 6e74 656e 7429   + self.content)
-0002e360: 202a 2028 0a20 2020 2020 2020 2020 2020   * (.           
-0002e370: 2073 656c 662e 6d69 6e20 2d20 312c 0a20   self.min - 1,. 
-0002e380: 2020 2020 2020 2020 2020 204e 6f6e 6520             None 
-0002e390: 6966 2073 656c 662e 6d61 7820 6973 204e  if self.max is N
-0002e3a0: 6f6e 6520 656c 7365 2073 656c 662e 6d61  one else self.ma
-0002e3b0: 7820 2d20 312c 0a20 2020 2020 2020 2029  x - 1,.        )
-0002e3c0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-0002e3d0: 2e61 6c6c 6f77 5f74 7261 696c 696e 675f  .allow_trailing_
-0002e3e0: 6465 6c69 6d3a 0a20 2020 2020 2020 2020  delim:.         
-0002e3f0: 2020 2064 656c 696d 5f6c 6973 745f 6578     delim_list_ex
-0002e400: 7072 202b 3d20 4f70 7428 7365 6c66 2e64  pr += Opt(self.d
-0002e410: 656c 696d 290a 0a20 2020 2020 2020 2069  elim)..        i
-0002e420: 6620 7365 6c66 2e63 6f6d 6269 6e65 3a0a  f self.combine:.
-0002e430: 2020 2020 2020 2020 2020 2020 6465 6c69              deli
-0002e440: 6d5f 6c69 7374 5f65 7870 7220 3d20 436f  m_list_expr = Co
-0002e450: 6d62 696e 6528 6465 6c69 6d5f 6c69 7374  mbine(delim_list
-0002e460: 5f65 7870 7229 0a0a 2020 2020 2020 2020  _expr)..        
-0002e470: 7375 7065 7228 292e 5f5f 696e 6974 5f5f  super().__init__
-0002e480: 2864 656c 696d 5f6c 6973 745f 6578 7072  (delim_list_expr
-0002e490: 2c20 7361 7665 6c69 7374 3d54 7275 6529  , savelist=True)
-0002e4a0: 0a0a 2020 2020 6465 6620 5f67 656e 6572  ..    def _gener
-0002e4b0: 6174 6544 6566 6175 6c74 4e61 6d65 2873  ateDefaultName(s
-0002e4c0: 656c 6629 202d 3e20 7374 723a 0a20 2020  elf) -> str:.   
-0002e4d0: 2020 2020 2072 6574 7572 6e20 227b 307d       return "{0}
-0002e4e0: 205b 7b31 7d20 7b30 7d5d 2e2e 2e22 2e66   [{1} {0}]...".f
-0002e4f0: 6f72 6d61 7428 7365 6c66 2e63 6f6e 7465  ormat(self.conte
-0002e500: 6e74 2e73 7472 6561 6d6c 696e 6528 292c  nt.streamline(),
-0002e510: 2073 656c 662e 7261 775f 6465 6c69 6d29   self.raw_delim)
-0002e520: 0a0a 0a63 6c61 7373 205f 4e75 6c6c 546f  ...class _NullTo
-0002e530: 6b65 6e3a 0a20 2020 2064 6566 205f 5f62  ken:.    def __b
-0002e540: 6f6f 6c5f 5f28 7365 6c66 293a 0a20 2020  ool__(self):.   
-0002e550: 2020 2020 2072 6574 7572 6e20 4661 6c73       return Fals
-0002e560: 650a 0a20 2020 2064 6566 205f 5f73 7472  e..    def __str
-0002e570: 5f5f 2873 656c 6629 3a0a 2020 2020 2020  __(self):.      
-0002e580: 2020 7265 7475 726e 2022 220a 0a0a 636c    return ""...cl
-0002e590: 6173 7320 4f70 7428 5061 7273 6545 6c65  ass Opt(ParseEle
-0002e5a0: 6d65 6e74 456e 6861 6e63 6529 3a0a 2020  mentEnhance):.  
-0002e5b0: 2020 2222 220a 2020 2020 4f70 7469 6f6e    """.    Option
-0002e5c0: 616c 206d 6174 6368 696e 6720 6f66 2074  al matching of t
-0002e5d0: 6865 2067 6976 656e 2065 7870 7265 7373  he given express
-0002e5e0: 696f 6e2e 0a0a 2020 2020 5061 7261 6d65  ion...    Parame
-0002e5f0: 7465 7273 3a0a 0a20 2020 202d 2060 6065  ters:..    - ``e
-0002e600: 7870 7260 6020 2d20 6578 7072 6573 7369  xpr`` - expressi
-0002e610: 6f6e 2074 6861 7420 6d75 7374 206d 6174  on that must mat
-0002e620: 6368 207a 6572 6f20 6f72 206d 6f72 6520  ch zero or more 
-0002e630: 7469 6d65 730a 2020 2020 2d20 6060 6465  times.    - ``de
-0002e640: 6661 756c 7460 6020 286f 7074 696f 6e61  fault`` (optiona
-0002e650: 6c29 202d 2076 616c 7565 2074 6f20 6265  l) - value to be
-0002e660: 2072 6574 7572 6e65 6420 6966 2074 6865   returned if the
-0002e670: 206f 7074 696f 6e61 6c20 6578 7072 6573   optional expres
-0002e680: 7369 6f6e 2069 7320 6e6f 7420 666f 756e  sion is not foun
-0002e690: 642e 0a0a 2020 2020 4578 616d 706c 653a  d...    Example:
-0002e6a0: 3a0a 0a20 2020 2020 2020 2023 2055 5320  :..        # US 
-0002e6b0: 706f 7374 616c 2063 6f64 6520 6361 6e20  postal code can 
-0002e6c0: 6265 2061 2035 2d64 6967 6974 207a 6970  be a 5-digit zip
-0002e6d0: 2c20 706c 7573 206f 7074 696f 6e61 6c20  , plus optional 
-0002e6e0: 342d 6469 6769 7420 7175 616c 6966 6965  4-digit qualifie
-0002e6f0: 720a 2020 2020 2020 2020 7a69 7020 3d20  r.        zip = 
-0002e700: 436f 6d62 696e 6528 576f 7264 286e 756d  Combine(Word(num
-0002e710: 732c 2065 7861 6374 3d35 2920 2b20 4f70  s, exact=5) + Op
-0002e720: 7428 272d 2720 2b20 576f 7264 286e 756d  t('-' + Word(num
-0002e730: 732c 2065 7861 6374 3d34 2929 290a 2020  s, exact=4))).  
-0002e740: 2020 2020 2020 7a69 702e 7275 6e5f 7465        zip.run_te
-0002e750: 7374 7328 2727 270a 2020 2020 2020 2020  sts('''.        
-0002e760: 2020 2020 2320 7472 6164 6974 696f 6e61      # traditiona
-0002e770: 6c20 5a49 5020 636f 6465 0a20 2020 2020  l ZIP code.     
-0002e780: 2020 2020 2020 2031 3233 3435 0a0a 2020         12345..  
-0002e790: 2020 2020 2020 2020 2020 2320 5a49 502b            # ZIP+
-0002e7a0: 3420 666f 726d 0a20 2020 2020 2020 2020  4 form.         
-0002e7b0: 2020 2031 3231 3031 2d30 3030 310a 0a20     12101-0001.. 
-0002e7c0: 2020 2020 2020 2020 2020 2023 2069 6e76             # inv
-0002e7d0: 616c 6964 205a 4950 0a20 2020 2020 2020  alid ZIP.       
-0002e7e0: 2020 2020 2039 3837 3635 2d0a 2020 2020       98765-.    
-0002e7f0: 2020 2020 2020 2020 2727 2729 0a0a 2020          ''')..  
-0002e800: 2020 7072 696e 7473 3a3a 0a0a 2020 2020    prints::..    
-0002e810: 2020 2020 2320 7472 6164 6974 696f 6e61      # traditiona
-0002e820: 6c20 5a49 5020 636f 6465 0a20 2020 2020  l ZIP code.     
-0002e830: 2020 2031 3233 3435 0a20 2020 2020 2020     12345.       
-0002e840: 205b 2731 3233 3435 275d 0a0a 2020 2020   ['12345']..    
-0002e850: 2020 2020 2320 5a49 502b 3420 666f 726d      # ZIP+4 form
-0002e860: 0a20 2020 2020 2020 2031 3231 3031 2d30  .        12101-0
-0002e870: 3030 310a 2020 2020 2020 2020 5b27 3132  001.        ['12
-0002e880: 3130 312d 3030 3031 275d 0a0a 2020 2020  101-0001']..    
-0002e890: 2020 2020 2320 696e 7661 6c69 6420 5a49      # invalid ZI
-0002e8a0: 500a 2020 2020 2020 2020 3938 3736 352d  P.        98765-
-0002e8b0: 0a20 2020 2020 2020 2020 2020 2020 5e0a  .             ^.
-0002e8c0: 2020 2020 2020 2020 4641 494c 3a20 4578          FAIL: Ex
-0002e8d0: 7065 6374 6564 2065 6e64 206f 6620 7465  pected end of te
-0002e8e0: 7874 2028 6174 2063 6861 7220 3529 2c20  xt (at char 5), 
-0002e8f0: 286c 696e 653a 312c 2063 6f6c 3a36 290a  (line:1, col:6).
-0002e900: 2020 2020 2222 220a 0a20 2020 205f 5f6f      """..    __o
-0002e910: 7074 696f 6e61 6c4e 6f74 4d61 7463 6865  ptionalNotMatche
-0002e920: 6420 3d20 5f4e 756c 6c54 6f6b 656e 2829  d = _NullToken()
-0002e930: 0a0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
-0002e940: 5f5f 280a 2020 2020 2020 2020 7365 6c66  __(.        self
-0002e950: 2c20 6578 7072 3a20 556e 696f 6e5b 5061  , expr: Union[Pa
-0002e960: 7273 6572 456c 656d 656e 742c 2073 7472  rserElement, str
-0002e970: 5d2c 2064 6566 6175 6c74 3a20 416e 7920  ], default: Any 
-0002e980: 3d20 5f5f 6f70 7469 6f6e 616c 4e6f 744d  = __optionalNotM
-0002e990: 6174 6368 6564 0a20 2020 2029 3a0a 2020  atched.    ):.  
-0002e9a0: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
-0002e9b0: 696e 6974 5f5f 2865 7870 722c 2073 6176  init__(expr, sav
-0002e9c0: 656c 6973 743d 4661 6c73 6529 0a20 2020  elist=False).   
-0002e9d0: 2020 2020 2073 656c 662e 7361 7665 4173       self.saveAs
-0002e9e0: 4c69 7374 203d 2073 656c 662e 6578 7072  List = self.expr
-0002e9f0: 2e73 6176 6541 734c 6973 740a 2020 2020  .saveAsList.    
-0002ea00: 2020 2020 7365 6c66 2e64 6566 6175 6c74      self.default
-0002ea10: 5661 6c75 6520 3d20 6465 6661 756c 740a  Value = default.
-0002ea20: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
-0002ea30: 5265 7475 726e 456d 7074 7920 3d20 5472  ReturnEmpty = Tr
-0002ea40: 7565 0a0a 2020 2020 6465 6620 7061 7273  ue..    def pars
-0002ea50: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
-0002ea60: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
-0002ea70: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
-0002ea80: 2020 2020 7365 6c66 5f65 7870 7220 3d20      self_expr = 
-0002ea90: 7365 6c66 2e65 7870 720a 2020 2020 2020  self.expr.      
-0002eaa0: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-0002eab0: 2020 206c 6f63 2c20 746f 6b65 6e73 203d     loc, tokens =
-0002eac0: 2073 656c 665f 6578 7072 2e5f 7061 7273   self_expr._pars
-0002ead0: 6528 696e 7374 7269 6e67 2c20 6c6f 632c  e(instring, loc,
-0002eae0: 2064 6f41 6374 696f 6e73 2c20 6361 6c6c   doActions, call
-0002eaf0: 5072 6550 6172 7365 3d46 616c 7365 290a  PreParse=False).
-0002eb00: 2020 2020 2020 2020 6578 6365 7074 2028          except (
-0002eb10: 5061 7273 6545 7863 6570 7469 6f6e 2c20  ParseException, 
-0002eb20: 496e 6465 7845 7272 6f72 293a 0a20 2020  IndexError):.   
-0002eb30: 2020 2020 2020 2020 2064 6566 6175 6c74           default
-0002eb40: 5f76 616c 7565 203d 2073 656c 662e 6465  _value = self.de
-0002eb50: 6661 756c 7456 616c 7565 0a20 2020 2020  faultValue.     
-0002eb60: 2020 2020 2020 2069 6620 6465 6661 756c         if defaul
-0002eb70: 745f 7661 6c75 6520 6973 206e 6f74 2073  t_value is not s
-0002eb80: 656c 662e 5f5f 6f70 7469 6f6e 616c 4e6f  elf.__optionalNo
-0002eb90: 744d 6174 6368 6564 3a0a 2020 2020 2020  tMatched:.      
-0002eba0: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
-0002ebb0: 665f 6578 7072 2e72 6573 756c 7473 4e61  f_expr.resultsNa
-0002ebc0: 6d65 3a0a 2020 2020 2020 2020 2020 2020  me:.            
-0002ebd0: 2020 2020 2020 2020 746f 6b65 6e73 203d          tokens =
-0002ebe0: 2050 6172 7365 5265 7375 6c74 7328 5b64   ParseResults([d
-0002ebf0: 6566 6175 6c74 5f76 616c 7565 5d29 0a20  efault_value]). 
-0002ec00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002ec10: 2020 2074 6f6b 656e 735b 7365 6c66 5f65     tokens[self_e
-0002ec20: 7870 722e 7265 7375 6c74 734e 616d 655d  xpr.resultsName]
-0002ec30: 203d 2064 6566 6175 6c74 5f76 616c 7565   = default_value
-0002ec40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002ec50: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0002ec60: 2020 2020 2020 2020 2020 2074 6f6b 656e             token
-0002ec70: 7320 3d20 5b64 6566 6175 6c74 5f76 616c  s = [default_val
-0002ec80: 7565 5d0a 2020 2020 2020 2020 2020 2020  ue].            
-0002ec90: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0002eca0: 2020 2020 2020 746f 6b65 6e73 203d 205b        tokens = [
-0002ecb0: 5d0a 2020 2020 2020 2020 7265 7475 726e  ].        return
-0002ecc0: 206c 6f63 2c20 746f 6b65 6e73 0a0a 2020   loc, tokens..  
-0002ecd0: 2020 6465 6620 5f67 656e 6572 6174 6544    def _generateD
-0002ece0: 6566 6175 6c74 4e61 6d65 2873 656c 6629  efaultName(self)
-0002ecf0: 202d 3e20 7374 723a 0a20 2020 2020 2020   -> str:.       
-0002ed00: 2069 6e6e 6572 203d 2073 7472 2873 656c   inner = str(sel
-0002ed10: 662e 6578 7072 290a 2020 2020 2020 2020  f.expr).        
-0002ed20: 2320 7374 7269 7020 6f66 6620 7265 6475  # strip off redu
-0002ed30: 6e64 616e 7420 696e 6e65 7220 7b7d 2773  ndant inner {}'s
-0002ed40: 0a20 2020 2020 2020 2077 6869 6c65 206c  .        while l
-0002ed50: 656e 2869 6e6e 6572 2920 3e20 3120 616e  en(inner) > 1 an
-0002ed60: 6420 696e 6e65 725b 3020 3a3a 206c 656e  d inner[0 :: len
-0002ed70: 2869 6e6e 6572 2920 2d20 315d 203d 3d20  (inner) - 1] == 
-0002ed80: 227b 7d22 3a0a 2020 2020 2020 2020 2020  "{}":.          
-0002ed90: 2020 696e 6e65 7220 3d20 696e 6e65 725b    inner = inner[
-0002eda0: 313a 2d31 5d0a 2020 2020 2020 2020 7265  1:-1].        re
-0002edb0: 7475 726e 2022 5b22 202b 2069 6e6e 6572  turn "[" + inner
-0002edc0: 202b 2022 5d22 0a0a 0a4f 7074 696f 6e61   + "]"...Optiona
-0002edd0: 6c20 3d20 4f70 740a 0a0a 636c 6173 7320  l = Opt...class 
-0002ede0: 536b 6970 546f 2850 6172 7365 456c 656d  SkipTo(ParseElem
-0002edf0: 656e 7445 6e68 616e 6365 293a 0a20 2020  entEnhance):.   
-0002ee00: 2022 2222 0a20 2020 2054 6f6b 656e 2066   """.    Token f
-0002ee10: 6f72 2073 6b69 7070 696e 6720 6f76 6572  or skipping over
-0002ee20: 2061 6c6c 2075 6e64 6566 696e 6564 2074   all undefined t
-0002ee30: 6578 7420 756e 7469 6c20 7468 6520 6d61  ext until the ma
-0002ee40: 7463 6865 640a 2020 2020 6578 7072 6573  tched.    expres
-0002ee50: 7369 6f6e 2069 7320 666f 756e 642e 0a0a  sion is found...
-0002ee60: 2020 2020 5061 7261 6d65 7465 7273 3a0a      Parameters:.
-0002ee70: 0a20 2020 202d 2060 6065 7870 7260 6020  .    - ``expr`` 
-0002ee80: 2d20 7461 7267 6574 2065 7870 7265 7373  - target express
-0002ee90: 696f 6e20 6d61 726b 696e 6720 7468 6520  ion marking the 
-0002eea0: 656e 6420 6f66 2074 6865 2064 6174 6120  end of the data 
-0002eeb0: 746f 2062 6520 736b 6970 7065 640a 2020  to be skipped.  
-0002eec0: 2020 2d20 6060 696e 636c 7564 6560 6020    - ``include`` 
-0002eed0: 2d20 6966 2060 6054 7275 6560 602c 2074  - if ``True``, t
-0002eee0: 6865 2074 6172 6765 7420 6578 7072 6573  he target expres
-0002eef0: 7369 6f6e 2069 7320 616c 736f 2070 6172  sion is also par
-0002ef00: 7365 640a 2020 2020 2020 2874 6865 2073  sed.      (the s
-0002ef10: 6b69 7070 6564 2074 6578 7420 616e 6420  kipped text and 
-0002ef20: 7461 7267 6574 2065 7870 7265 7373 696f  target expressio
-0002ef30: 6e20 6172 6520 7265 7475 726e 6564 2061  n are returned a
-0002ef40: 7320 6120 322d 656c 656d 656e 740a 2020  s a 2-element.  
-0002ef50: 2020 2020 6c69 7374 2920 2864 6566 6175      list) (defau
-0002ef60: 6c74 3d20 6060 4661 6c73 6560 6029 2e0a  lt= ``False``)..
-0002ef70: 2020 2020 2d20 6060 6967 6e6f 7265 6060      - ``ignore``
-0002ef80: 202d 2028 6465 6661 756c 743d 2060 604e   - (default= ``N
-0002ef90: 6f6e 6560 6029 2075 7365 6420 746f 2064  one``) used to d
-0002efa0: 6566 696e 6520 6772 616d 6d61 7273 2028  efine grammars (
-0002efb0: 7479 7069 6361 6c6c 7920 7175 6f74 6564  typically quoted
-0002efc0: 2073 7472 696e 6773 2061 6e64 0a20 2020   strings and.   
-0002efd0: 2020 2063 6f6d 6d65 6e74 7329 2074 6861     comments) tha
-0002efe0: 7420 6d69 6768 7420 636f 6e74 6169 6e20  t might contain 
-0002eff0: 6661 6c73 6520 6d61 7463 6865 7320 746f  false matches to
-0002f000: 2074 6865 2074 6172 6765 7420 6578 7072   the target expr
-0002f010: 6573 7369 6f6e 0a20 2020 202d 2060 6066  ession.    - ``f
-0002f020: 6169 6c5f 6f6e 6060 202d 2028 6465 6661  ail_on`` - (defa
-0002f030: 756c 743d 2060 604e 6f6e 6560 6029 2064  ult= ``None``) d
-0002f040: 6566 696e 6520 6578 7072 6573 7369 6f6e  efine expression
-0002f050: 7320 7468 6174 2061 7265 206e 6f74 2061  s that are not a
-0002f060: 6c6c 6f77 6564 2074 6f20 6265 0a20 2020  llowed to be.   
-0002f070: 2020 2069 6e63 6c75 6465 6420 696e 2074     included in t
-0002f080: 6865 2073 6b69 7070 6564 2074 6573 743b  he skipped test;
-0002f090: 2069 6620 666f 756e 6420 6265 666f 7265   if found before
-0002f0a0: 2074 6865 2074 6172 6765 7420 6578 7072   the target expr
-0002f0b0: 6573 7369 6f6e 2069 7320 666f 756e 642c  ession is found,
-0002f0c0: 0a20 2020 2020 2074 6865 203a 636c 6173  .      the :clas
-0002f0d0: 733a 6053 6b69 7054 6f60 2069 7320 6e6f  s:`SkipTo` is no
-0002f0e0: 7420 6120 6d61 7463 680a 0a20 2020 2045  t a match..    E
-0002f0f0: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
-0002f100: 2020 7265 706f 7274 203d 2027 2727 0a20    report = '''. 
-0002f110: 2020 2020 2020 2020 2020 204f 7574 7374             Outst
-0002f120: 616e 6469 6e67 2049 7373 7565 7320 5265  anding Issues Re
-0002f130: 706f 7274 202d 2031 204a 616e 2032 3030  port - 1 Jan 200
-0002f140: 300a 0a20 2020 2020 2020 2020 2020 2020  0..             
-0002f150: 2020 2320 7c20 5365 7665 7269 7479 207c    # | Severity |
-0002f160: 2044 6573 6372 6970 7469 6f6e 2020 2020   Description    
-0002f170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f180: 2020 2020 2020 2020 2020 207c 2020 4461             |  Da
-0002f190: 7973 204f 7065 6e0a 2020 2020 2020 2020  ys Open.        
-0002f1a0: 2020 2020 2d2d 2d2d 2d2b 2d2d 2d2d 2d2d      -----+------
-0002f1b0: 2d2d 2d2d 2b2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----+-----------
-0002f1c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0002f1d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0002f1e0: 2b2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020  +-----------.   
-0002f1f0: 2020 2020 2020 2020 2020 3130 3120 7c20            101 | 
-0002f200: 4372 6974 6963 616c 207c 2049 6e74 6572  Critical | Inter
-0002f210: 6d69 7474 656e 7420 7379 7374 656d 2063  mittent system c
-0002f220: 7261 7368 2020 2020 2020 2020 2020 2020  rash            
-0002f230: 2020 2020 207c 2020 2020 2020 2020 2020       |          
-0002f240: 360a 2020 2020 2020 2020 2020 2020 2020  6.              
-0002f250: 3934 207c 2043 6f73 6d65 7469 6320 7c20  94 | Cosmetic | 
-0002f260: 5370 656c 6c69 6e67 2065 7272 6f72 206f  Spelling error o
-0002f270: 6e20 4c6f 6769 6e20 2827 6c6f 677c 6e27  n Login ('log|n'
-0002f280: 2920 2020 2020 2020 2020 7c20 2020 2020  )         |     
-0002f290: 2020 2020 3134 0a20 2020 2020 2020 2020      14.         
-0002f2a0: 2020 2020 2037 3920 7c20 4d69 6e6f 7220       79 | Minor 
-0002f2b0: 2020 207c 2053 7973 7465 6d20 736c 6f77     | System slow
-0002f2c0: 2077 6865 6e20 7275 6e6e 696e 6720 746f   when running to
-0002f2d0: 6f20 6d61 6e79 2072 6570 6f72 7473 207c  o many reports |
-0002f2e0: 2020 2020 2020 2020 2034 370a 2020 2020           47.    
-0002f2f0: 2020 2020 2020 2020 2727 270a 2020 2020          '''.    
-0002f300: 2020 2020 696e 7465 6765 7220 3d20 576f      integer = Wo
-0002f310: 7264 286e 756d 7329 0a20 2020 2020 2020  rd(nums).       
-0002f320: 2053 4550 203d 2053 7570 7072 6573 7328   SEP = Suppress(
-0002f330: 277c 2729 0a20 2020 2020 2020 2023 2075  '|').        # u
-0002f340: 7365 2053 6b69 7054 6f20 746f 2073 696d  se SkipTo to sim
-0002f350: 706c 7920 6d61 7463 6820 6576 6572 7974  ply match everyt
-0002f360: 6869 6e67 2075 7020 756e 7469 6c20 7468  hing up until th
-0002f370: 6520 6e65 7874 2053 4550 0a20 2020 2020  e next SEP.     
-0002f380: 2020 2023 202d 2069 676e 6f72 6520 7175     # - ignore qu
-0002f390: 6f74 6564 2073 7472 696e 6773 2c20 736f  oted strings, so
-0002f3a0: 2074 6861 7420 6120 277c 2720 6368 6172   that a '|' char
-0002f3b0: 6163 7465 7220 696e 7369 6465 2061 2071  acter inside a q
-0002f3c0: 756f 7465 6420 7374 7269 6e67 2064 6f65  uoted string doe
-0002f3d0: 7320 6e6f 7420 6d61 7463 680a 2020 2020  s not match.    
-0002f3e0: 2020 2020 2320 2d20 7061 7273 6520 6163      # - parse ac
-0002f3f0: 7469 6f6e 2077 696c 6c20 6361 6c6c 2074  tion will call t
-0002f400: 6f6b 656e 2e73 7472 6970 2829 2066 6f72  oken.strip() for
-0002f410: 2065 6163 6820 6d61 7463 6865 6420 746f   each matched to
-0002f420: 6b65 6e2c 2069 2e65 2e2c 2074 6865 2064  ken, i.e., the d
-0002f430: 6573 6372 6970 7469 6f6e 2062 6f64 790a  escription body.
-0002f440: 2020 2020 2020 2020 7374 7269 6e67 5f64          string_d
-0002f450: 6174 6120 3d20 536b 6970 546f 2853 4550  ata = SkipTo(SEP
-0002f460: 2c20 6967 6e6f 7265 3d71 756f 7465 645f  , ignore=quoted_
-0002f470: 7374 7269 6e67 290a 2020 2020 2020 2020  string).        
-0002f480: 7374 7269 6e67 5f64 6174 612e 7365 745f  string_data.set_
-0002f490: 7061 7273 655f 6163 7469 6f6e 2874 6f6b  parse_action(tok
-0002f4a0: 656e 5f6d 6170 2873 7472 2e73 7472 6970  en_map(str.strip
-0002f4b0: 2929 0a20 2020 2020 2020 2074 6963 6b65  )).        ticke
-0002f4c0: 745f 6578 7072 203d 2028 696e 7465 6765  t_expr = (intege
-0002f4d0: 7228 2269 7373 7565 5f6e 756d 2229 202b  r("issue_num") +
-0002f4e0: 2053 4550 0a20 2020 2020 2020 2020 2020   SEP.           
-0002f4f0: 2020 2020 2020 2020 2020 202b 2073 7472             + str
-0002f500: 696e 675f 6461 7461 2822 7365 7622 2920  ing_data("sev") 
-0002f510: 2b20 5345 500a 2020 2020 2020 2020 2020  + SEP.          
-0002f520: 2020 2020 2020 2020 2020 2020 2b20 7374              + st
-0002f530: 7269 6e67 5f64 6174 6128 2264 6573 6322  ring_data("desc"
-0002f540: 2920 2b20 5345 500a 2020 2020 2020 2020  ) + SEP.        
-0002f550: 2020 2020 2020 2020 2020 2020 2020 2b20                + 
-0002f560: 696e 7465 6765 7228 2264 6179 735f 6f70  integer("days_op
-0002f570: 656e 2229 290a 0a20 2020 2020 2020 2066  en"))..        f
-0002f580: 6f72 2074 6b74 2069 6e20 7469 636b 6574  or tkt in ticket
-0002f590: 5f65 7870 722e 7365 6172 6368 5f73 7472  _expr.search_str
-0002f5a0: 696e 6728 7265 706f 7274 293a 0a20 2020  ing(report):.   
-0002f5b0: 2020 2020 2020 2020 2070 7269 6e74 2074           print t
-0002f5c0: 6b74 2e64 756d 7028 290a 0a20 2020 2070  kt.dump()..    p
-0002f5d0: 7269 6e74 733a 3a0a 0a20 2020 2020 2020  rints::..       
-0002f5e0: 205b 2731 3031 272c 2027 4372 6974 6963   ['101', 'Critic
-0002f5f0: 616c 272c 2027 496e 7465 726d 6974 7465  al', 'Intermitte
-0002f600: 6e74 2073 7973 7465 6d20 6372 6173 6827  nt system crash'
-0002f610: 2c20 2736 275d 0a20 2020 2020 2020 202d  , '6'].        -
-0002f620: 2064 6179 735f 6f70 656e 3a20 2736 270a   days_open: '6'.
-0002f630: 2020 2020 2020 2020 2d20 6465 7363 3a20          - desc: 
-0002f640: 2749 6e74 6572 6d69 7474 656e 7420 7379  'Intermittent sy
-0002f650: 7374 656d 2063 7261 7368 270a 2020 2020  stem crash'.    
-0002f660: 2020 2020 2d20 6973 7375 655f 6e75 6d3a      - issue_num:
-0002f670: 2027 3130 3127 0a20 2020 2020 2020 202d   '101'.        -
-0002f680: 2073 6576 3a20 2743 7269 7469 6361 6c27   sev: 'Critical'
-0002f690: 0a20 2020 2020 2020 205b 2739 3427 2c20  .        ['94', 
-0002f6a0: 2743 6f73 6d65 7469 6327 2c20 2253 7065  'Cosmetic', "Spe
-0002f6b0: 6c6c 696e 6720 6572 726f 7220 6f6e 204c  lling error on L
-0002f6c0: 6f67 696e 2028 276c 6f67 7c6e 2729 222c  ogin ('log|n')",
-0002f6d0: 2027 3134 275d 0a20 2020 2020 2020 202d   '14'].        -
-0002f6e0: 2064 6179 735f 6f70 656e 3a20 2731 3427   days_open: '14'
-0002f6f0: 0a20 2020 2020 2020 202d 2064 6573 633a  .        - desc:
-0002f700: 2022 5370 656c 6c69 6e67 2065 7272 6f72   "Spelling error
-0002f710: 206f 6e20 4c6f 6769 6e20 2827 6c6f 677c   on Login ('log|
-0002f720: 6e27 2922 0a20 2020 2020 2020 202d 2069  n')".        - i
-0002f730: 7373 7565 5f6e 756d 3a20 2739 3427 0a20  ssue_num: '94'. 
-0002f740: 2020 2020 2020 202d 2073 6576 3a20 2743         - sev: 'C
-0002f750: 6f73 6d65 7469 6327 0a20 2020 2020 2020  osmetic'.       
-0002f760: 205b 2737 3927 2c20 274d 696e 6f72 272c   ['79', 'Minor',
-0002f770: 2027 5379 7374 656d 2073 6c6f 7720 7768   'System slow wh
-0002f780: 656e 2072 756e 6e69 6e67 2074 6f6f 206d  en running too m
-0002f790: 616e 7920 7265 706f 7274 7327 2c20 2734  any reports', '4
-0002f7a0: 3727 5d0a 2020 2020 2020 2020 2d20 6461  7'].        - da
-0002f7b0: 7973 5f6f 7065 6e3a 2027 3437 270a 2020  ys_open: '47'.  
-0002f7c0: 2020 2020 2020 2d20 6465 7363 3a20 2753        - desc: 'S
-0002f7d0: 7973 7465 6d20 736c 6f77 2077 6865 6e20  ystem slow when 
-0002f7e0: 7275 6e6e 696e 6720 746f 6f20 6d61 6e79  running too many
-0002f7f0: 2072 6570 6f72 7473 270a 2020 2020 2020   reports'.      
-0002f800: 2020 2d20 6973 7375 655f 6e75 6d3a 2027    - issue_num: '
-0002f810: 3739 270a 2020 2020 2020 2020 2d20 7365  79'.        - se
-0002f820: 763a 2027 4d69 6e6f 7227 0a20 2020 2022  v: 'Minor'.    "
-0002f830: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
-0002f840: 6974 5f5f 280a 2020 2020 2020 2020 7365  it__(.        se
-0002f850: 6c66 2c0a 2020 2020 2020 2020 6f74 6865  lf,.        othe
-0002f860: 723a 2055 6e69 6f6e 5b50 6172 7365 7245  r: Union[ParserE
-0002f870: 6c65 6d65 6e74 2c20 7374 725d 2c0a 2020  lement, str],.  
-0002f880: 2020 2020 2020 696e 636c 7564 653a 2062        include: b
-0002f890: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-0002f8a0: 2020 2020 2069 676e 6f72 653a 2074 7970       ignore: typ
-0002f8b0: 696e 672e 4f70 7469 6f6e 616c 5b55 6e69  ing.Optional[Uni
-0002f8c0: 6f6e 5b50 6172 7365 7245 6c65 6d65 6e74  on[ParserElement
-0002f8d0: 2c20 7374 725d 5d20 3d20 4e6f 6e65 2c0a  , str]] = None,.
-0002f8e0: 2020 2020 2020 2020 6661 696c 5f6f 6e3a          fail_on:
-0002f8f0: 2074 7970 696e 672e 4f70 7469 6f6e 616c   typing.Optional
-0002f900: 5b55 6e69 6f6e 5b50 6172 7365 7245 6c65  [Union[ParserEle
-0002f910: 6d65 6e74 2c20 7374 725d 5d20 3d20 4e6f  ment, str]] = No
-0002f920: 6e65 2c0a 2020 2020 2020 2020 2a2c 0a20  ne,.        *,. 
-0002f930: 2020 2020 2020 2066 6169 6c4f 6e3a 2074         failOn: t
-0002f940: 7970 696e 672e 4f70 7469 6f6e 616c 5b55  yping.Optional[U
-0002f950: 6e69 6f6e 5b50 6172 7365 7245 6c65 6d65  nion[ParserEleme
-0002f960: 6e74 2c20 7374 725d 5d20 3d20 4e6f 6e65  nt, str]] = None
-0002f970: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
-0002f980: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
-0002f990: 5f28 6f74 6865 7229 0a20 2020 2020 2020  _(other).       
-0002f9a0: 2066 6169 6c4f 6e20 3d20 6661 696c 4f6e   failOn = failOn
-0002f9b0: 206f 7220 6661 696c 5f6f 6e0a 2020 2020   or fail_on.    
-0002f9c0: 2020 2020 6966 2069 676e 6f72 6520 6973      if ignore is
-0002f9d0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-0002f9e0: 2020 2020 2020 2073 656c 662e 6967 6e6f         self.igno
-0002f9f0: 7265 2869 676e 6f72 6529 0a20 2020 2020  re(ignore).     
-0002fa00: 2020 2073 656c 662e 6d61 7952 6574 7572     self.mayRetur
-0002fa10: 6e45 6d70 7479 203d 2054 7275 650a 2020  nEmpty = True.  
-0002fa20: 2020 2020 2020 7365 6c66 2e6d 6179 496e        self.mayIn
-0002fa30: 6465 7845 7272 6f72 203d 2046 616c 7365  dexError = False
-0002fa40: 0a20 2020 2020 2020 2073 656c 662e 696e  .        self.in
-0002fa50: 636c 7564 654d 6174 6368 203d 2069 6e63  cludeMatch = inc
-0002fa60: 6c75 6465 0a20 2020 2020 2020 2073 656c  lude.        sel
-0002fa70: 662e 7361 7665 4173 4c69 7374 203d 2046  f.saveAsList = F
-0002fa80: 616c 7365 0a20 2020 2020 2020 2069 6620  alse.        if 
-0002fa90: 6973 696e 7374 616e 6365 2866 6169 6c4f  isinstance(failO
-0002faa0: 6e2c 2073 7472 5f74 7970 6529 3a0a 2020  n, str_type):.  
-0002fab0: 2020 2020 2020 2020 2020 7365 6c66 2e66            self.f
-0002fac0: 6169 6c4f 6e20 3d20 7365 6c66 2e5f 6c69  ailOn = self._li
-0002fad0: 7465 7261 6c53 7472 696e 6743 6c61 7373  teralStringClass
-0002fae0: 2866 6169 6c4f 6e29 0a20 2020 2020 2020  (failOn).       
-0002faf0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0002fb00: 2020 2073 656c 662e 6661 696c 4f6e 203d     self.failOn =
-0002fb10: 2066 6169 6c4f 6e0a 2020 2020 2020 2020   failOn.        
-0002fb20: 7365 6c66 2e65 7272 6d73 6720 3d20 224e  self.errmsg = "N
-0002fb30: 6f20 6d61 7463 6820 666f 756e 6420 666f  o match found fo
-0002fb40: 7220 2220 2b20 7374 7228 7365 6c66 2e65  r " + str(self.e
-0002fb50: 7870 7229 0a0a 2020 2020 6465 6620 7061  xpr)..    def pa
-0002fb60: 7273 6549 6d70 6c28 7365 6c66 2c20 696e  rseImpl(self, in
-0002fb70: 7374 7269 6e67 2c20 6c6f 632c 2064 6f41  string, loc, doA
-0002fb80: 6374 696f 6e73 3d54 7275 6529 3a0a 2020  ctions=True):.  
-0002fb90: 2020 2020 2020 7374 6172 746c 6f63 203d        startloc =
-0002fba0: 206c 6f63 0a20 2020 2020 2020 2069 6e73   loc.        ins
-0002fbb0: 7472 6c65 6e20 3d20 6c65 6e28 696e 7374  trlen = len(inst
-0002fbc0: 7269 6e67 290a 2020 2020 2020 2020 7365  ring).        se
-0002fbd0: 6c66 5f65 7870 725f 7061 7273 6520 3d20  lf_expr_parse = 
-0002fbe0: 7365 6c66 2e65 7870 722e 5f70 6172 7365  self.expr._parse
-0002fbf0: 0a20 2020 2020 2020 2073 656c 665f 6661  .        self_fa
-0002fc00: 696c 4f6e 5f63 616e 5061 7273 654e 6578  ilOn_canParseNex
-0002fc10: 7420 3d20 280a 2020 2020 2020 2020 2020  t = (.          
-0002fc20: 2020 7365 6c66 2e66 6169 6c4f 6e2e 6361    self.failOn.ca
-0002fc30: 6e50 6172 7365 4e65 7874 2069 6620 7365  nParseNext if se
-0002fc40: 6c66 2e66 6169 6c4f 6e20 6973 206e 6f74  lf.failOn is not
-0002fc50: 204e 6f6e 6520 656c 7365 204e 6f6e 650a   None else None.
-0002fc60: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-0002fc70: 2020 7365 6c66 5f70 7265 5061 7273 6520    self_preParse 
-0002fc80: 3d20 7365 6c66 2e70 7265 5061 7273 6520  = self.preParse 
-0002fc90: 6966 2073 656c 662e 6361 6c6c 5072 6570  if self.callPrep
-0002fca0: 6172 7365 2065 6c73 6520 4e6f 6e65 0a0a  arse else None..
-0002fcb0: 2020 2020 2020 2020 746d 706c 6f63 203d          tmploc =
-0002fcc0: 206c 6f63 0a20 2020 2020 2020 2077 6869   loc.        whi
-0002fcd0: 6c65 2074 6d70 6c6f 6320 3c3d 2069 6e73  le tmploc <= ins
-0002fce0: 7472 6c65 6e3a 0a20 2020 2020 2020 2020  trlen:.         
-0002fcf0: 2020 2069 6620 7365 6c66 5f66 6169 6c4f     if self_failO
-0002fd00: 6e5f 6361 6e50 6172 7365 4e65 7874 2069  n_canParseNext i
-0002fd10: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-0002fd20: 2020 2020 2020 2020 2020 2020 2320 6272              # br
-0002fd30: 6561 6b20 6966 2066 6169 6c4f 6e20 6578  eak if failOn ex
-0002fd40: 7072 6573 7369 6f6e 206d 6174 6368 6573  pression matches
-0002fd50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002fd60: 2069 6620 7365 6c66 5f66 6169 6c4f 6e5f   if self_failOn_
-0002fd70: 6361 6e50 6172 7365 4e65 7874 2869 6e73  canParseNext(ins
-0002fd80: 7472 696e 672c 2074 6d70 6c6f 6329 3a0a  tring, tmploc):.
-0002fd90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fda0: 2020 2020 6272 6561 6b0a 0a20 2020 2020      break..     
-0002fdb0: 2020 2020 2020 2069 6620 7365 6c66 5f70         if self_p
-0002fdc0: 7265 5061 7273 6520 6973 206e 6f74 204e  reParse is not N
-0002fdd0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-0002fde0: 2020 2020 2023 2073 6b69 7020 6772 616d       # skip gram
-0002fdf0: 6d61 722d 6967 6e6f 7265 6420 6578 7072  mar-ignored expr
-0002fe00: 6573 7369 6f6e 730a 2020 2020 2020 2020  essions.        
-0002fe10: 2020 2020 2020 2020 746d 706c 6f63 203d          tmploc =
-0002fe20: 2073 656c 665f 7072 6550 6172 7365 2869   self_preParse(i
-0002fe30: 6e73 7472 696e 672c 2074 6d70 6c6f 6329  nstring, tmploc)
-0002fe40: 0a0a 2020 2020 2020 2020 2020 2020 7472  ..            tr
-0002fe50: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
-0002fe60: 2020 2073 656c 665f 6578 7072 5f70 6172     self_expr_par
-0002fe70: 7365 2869 6e73 7472 696e 672c 2074 6d70  se(instring, tmp
-0002fe80: 6c6f 632c 2064 6f41 6374 696f 6e73 3d46  loc, doActions=F
-0002fe90: 616c 7365 2c20 6361 6c6c 5072 6550 6172  alse, callPrePar
-0002fea0: 7365 3d46 616c 7365 290a 2020 2020 2020  se=False).      
-0002feb0: 2020 2020 2020 6578 6365 7074 2028 5061        except (Pa
-0002fec0: 7273 6545 7863 6570 7469 6f6e 2c20 496e  rseException, In
-0002fed0: 6465 7845 7272 6f72 293a 0a20 2020 2020  dexError):.     
-0002fee0: 2020 2020 2020 2020 2020 2023 206e 6f20             # no 
-0002fef0: 6d61 7463 682c 2061 6476 616e 6365 206c  match, advance l
-0002ff00: 6f63 2069 6e20 7374 7269 6e67 0a20 2020  oc in string.   
-0002ff10: 2020 2020 2020 2020 2020 2020 2074 6d70               tmp
-0002ff20: 6c6f 6320 2b3d 2031 0a20 2020 2020 2020  loc += 1.       
-0002ff30: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0002ff40: 2020 2020 2020 2020 2020 2023 206d 6174             # mat
-0002ff50: 6368 6564 2073 6b69 7074 6f20 6578 7072  ched skipto expr
-0002ff60: 2c20 646f 6e65 0a20 2020 2020 2020 2020  , done.         
-0002ff70: 2020 2020 2020 2062 7265 616b 0a0a 2020         break..  
-0002ff80: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0002ff90: 2020 2020 2020 2020 2320 7261 6e20 6f66          # ran of
-0002ffa0: 6620 7468 6520 656e 6420 6f66 2074 6865  f the end of the
-0002ffb0: 2069 6e70 7574 2073 7472 696e 6720 7769   input string wi
-0002ffc0: 7468 6f75 7420 6d61 7463 6869 6e67 2073  thout matching s
-0002ffd0: 6b69 7074 6f20 6578 7072 2c20 6661 696c  kipto expr, fail
-0002ffe0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-0002fff0: 7365 2050 6172 7365 4578 6365 7074 696f  se ParseExceptio
-00030000: 6e28 696e 7374 7269 6e67 2c20 6c6f 632c  n(instring, loc,
-00030010: 2073 656c 662e 6572 726d 7367 2c20 7365   self.errmsg, se
-00030020: 6c66 290a 0a20 2020 2020 2020 2023 2062  lf)..        # b
-00030030: 7569 6c64 2075 7020 7265 7475 726e 2076  uild up return v
-00030040: 616c 7565 730a 2020 2020 2020 2020 6c6f  alues.        lo
-00030050: 6320 3d20 746d 706c 6f63 0a20 2020 2020  c = tmploc.     
-00030060: 2020 2073 6b69 7074 6578 7420 3d20 696e     skiptext = in
-00030070: 7374 7269 6e67 5b73 7461 7274 6c6f 633a  string[startloc:
-00030080: 6c6f 635d 0a20 2020 2020 2020 2073 6b69  loc].        ski
-00030090: 7072 6573 756c 7420 3d20 5061 7273 6552  presult = ParseR
-000300a0: 6573 756c 7473 2873 6b69 7074 6578 7429  esults(skiptext)
-000300b0: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
-000300c0: 662e 696e 636c 7564 654d 6174 6368 3a0a  f.includeMatch:.
-000300d0: 2020 2020 2020 2020 2020 2020 6c6f 632c              loc,
-000300e0: 206d 6174 203d 2073 656c 665f 6578 7072   mat = self_expr
-000300f0: 5f70 6172 7365 2869 6e73 7472 696e 672c  _parse(instring,
-00030100: 206c 6f63 2c20 646f 4163 7469 6f6e 732c   loc, doActions,
-00030110: 2063 616c 6c50 7265 5061 7273 653d 4661   callPreParse=Fa
-00030120: 6c73 6529 0a20 2020 2020 2020 2020 2020  lse).           
-00030130: 2073 6b69 7072 6573 756c 7420 2b3d 206d   skipresult += m
-00030140: 6174 0a0a 2020 2020 2020 2020 7265 7475  at..        retu
-00030150: 726e 206c 6f63 2c20 736b 6970 7265 7375  rn loc, skipresu
-00030160: 6c74 0a0a 0a63 6c61 7373 2046 6f72 7761  lt...class Forwa
-00030170: 7264 2850 6172 7365 456c 656d 656e 7445  rd(ParseElementE
-00030180: 6e68 616e 6365 293a 0a20 2020 2022 2222  nhance):.    """
-00030190: 0a20 2020 2046 6f72 7761 7264 2064 6563  .    Forward dec
-000301a0: 6c61 7261 7469 6f6e 206f 6620 616e 2065  laration of an e
-000301b0: 7870 7265 7373 696f 6e20 746f 2062 6520  xpression to be 
-000301c0: 6465 6669 6e65 6420 6c61 7465 7220 2d0a  defined later -.
-000301d0: 2020 2020 7573 6564 2066 6f72 2072 6563      used for rec
-000301e0: 7572 7369 7665 2067 7261 6d6d 6172 732c  ursive grammars,
-000301f0: 2073 7563 6820 6173 2061 6c67 6562 7261   such as algebra
-00030200: 6963 2069 6e66 6978 206e 6f74 6174 696f  ic infix notatio
-00030210: 6e2e 0a20 2020 2057 6865 6e20 7468 6520  n..    When the 
-00030220: 6578 7072 6573 7369 6f6e 2069 7320 6b6e  expression is kn
-00030230: 6f77 6e2c 2069 7420 6973 2061 7373 6967  own, it is assig
-00030240: 6e65 6420 746f 2074 6865 2060 6046 6f72  ned to the ``For
-00030250: 7761 7264 6060 0a20 2020 2076 6172 6961  ward``.    varia
-00030260: 626c 6520 7573 696e 6720 7468 6520 6060  ble using the ``
-00030270: 273c 3c27 6060 206f 7065 7261 746f 722e  '<<'`` operator.
-00030280: 0a0a 2020 2020 4e6f 7465 3a20 7461 6b65  ..    Note: take
-00030290: 2063 6172 6520 7768 656e 2061 7373 6967   care when assig
-000302a0: 6e69 6e67 2074 6f20 6060 466f 7277 6172  ning to ``Forwar
-000302b0: 6460 6020 6e6f 7420 746f 206f 7665 726c  d`` not to overl
-000302c0: 6f6f 6b0a 2020 2020 7072 6563 6564 656e  ook.    preceden
-000302d0: 6365 206f 6620 6f70 6572 6174 6f72 732e  ce of operators.
-000302e0: 0a0a 2020 2020 5370 6563 6966 6963 616c  ..    Specifical
-000302f0: 6c79 2c20 6060 277c 2760 6020 6861 7320  ly, ``'|'`` has 
-00030300: 6120 6c6f 7765 7220 7072 6563 6564 656e  a lower preceden
-00030310: 6365 2074 6861 6e20 6060 273c 3c27 6060  ce than ``'<<'``
-00030320: 2c20 736f 2074 6861 743a 3a0a 0a20 2020  , so that::..   
-00030330: 2020 2020 2066 7764 5f65 7870 7220 3c3c       fwd_expr <<
-00030340: 2061 207c 2062 207c 2063 0a0a 2020 2020   a | b | c..    
-00030350: 7769 6c6c 2061 6374 7561 6c6c 7920 6265  will actually be
-00030360: 2065 7661 6c75 6174 6564 2061 733a 3a0a   evaluated as::.
-00030370: 0a20 2020 2020 2020 2028 6677 645f 6578  .        (fwd_ex
-00030380: 7072 203c 3c20 6129 207c 2062 207c 2063  pr << a) | b | c
-00030390: 0a0a 2020 2020 7468 6572 6562 7920 6c65  ..    thereby le
-000303a0: 6176 696e 6720 6220 616e 6420 6320 6f75  aving b and c ou
-000303b0: 7420 6173 2070 6172 7365 6162 6c65 2061  t as parseable a
-000303c0: 6c74 6572 6e61 7469 7665 732e 2020 4974  lternatives.  It
-000303d0: 2069 7320 7265 636f 6d6d 656e 6465 6420   is recommended 
-000303e0: 7468 6174 2079 6f75 0a20 2020 2065 7870  that you.    exp
-000303f0: 6c69 6369 746c 7920 6772 6f75 7020 7468  licitly group th
-00030400: 6520 7661 6c75 6573 2069 6e73 6572 7465  e values inserte
-00030410: 6420 696e 746f 2074 6865 2060 6046 6f72  d into the ``For
-00030420: 7761 7264 6060 3a3a 0a0a 2020 2020 2020  ward``::..      
-00030430: 2020 6677 645f 6578 7072 203c 3c20 2861    fwd_expr << (a
-00030440: 207c 2062 207c 2063 290a 0a20 2020 2043   | b | c)..    C
-00030450: 6f6e 7665 7274 696e 6720 746f 2075 7365  onverting to use
-00030460: 2074 6865 2060 6027 3c3c 3d27 6060 206f   the ``'<<='`` o
-00030470: 7065 7261 746f 7220 696e 7374 6561 6420  perator instead 
-00030480: 7769 6c6c 2061 766f 6964 2074 6869 7320  will avoid this 
-00030490: 7072 6f62 6c65 6d2e 0a0a 2020 2020 5365  problem...    Se
-000304a0: 6520 3a63 6c61 7373 3a60 5061 7273 6552  e :class:`ParseR
-000304b0: 6573 756c 7473 2e70 7072 696e 7460 2066  esults.pprint` f
-000304c0: 6f72 2061 6e20 6578 616d 706c 6520 6f66  or an example of
-000304d0: 2061 2072 6563 7572 7369 7665 0a20 2020   a recursive.   
-000304e0: 2070 6172 7365 7220 6372 6561 7465 6420   parser created 
-000304f0: 7573 696e 6720 6060 466f 7277 6172 6460  using ``Forward`
-00030500: 602e 0a20 2020 2022 2222 0a0a 2020 2020  `..    """..    
-00030510: 6465 6620 5f5f 696e 6974 5f5f 2873 656c  def __init__(sel
-00030520: 662c 206f 7468 6572 3a20 7479 7069 6e67  f, other: typing
-00030530: 2e4f 7074 696f 6e61 6c5b 556e 696f 6e5b  .Optional[Union[
-00030540: 5061 7273 6572 456c 656d 656e 742c 2073  ParserElement, s
-00030550: 7472 5d5d 203d 204e 6f6e 6529 3a0a 2020  tr]] = None):.  
-00030560: 2020 2020 2020 7365 6c66 2e63 616c 6c65        self.calle
-00030570: 725f 6672 616d 6520 3d20 7472 6163 6562  r_frame = traceb
-00030580: 6163 6b2e 6578 7472 6163 745f 7374 6163  ack.extract_stac
-00030590: 6b28 6c69 6d69 743d 3229 5b30 5d0a 2020  k(limit=2)[0].  
-000305a0: 2020 2020 2020 7375 7065 7228 292e 5f5f        super().__
-000305b0: 696e 6974 5f5f 286f 7468 6572 2c20 7361  init__(other, sa
-000305c0: 7665 6c69 7374 3d46 616c 7365 2920 2023  velist=False)  #
-000305d0: 2074 7970 653a 2069 676e 6f72 655b 6172   type: ignore[ar
-000305e0: 672d 7479 7065 5d0a 2020 2020 2020 2020  g-type].        
-000305f0: 7365 6c66 2e6c 7368 6966 745f 6c69 6e65  self.lshift_line
-00030600: 203d 204e 6f6e 650a 0a20 2020 2064 6566   = None..    def
-00030610: 205f 5f6c 7368 6966 745f 5f28 7365 6c66   __lshift__(self
-00030620: 2c20 6f74 6865 7229 202d 3e20 2246 6f72  , other) -> "For
-00030630: 7761 7264 223a 0a20 2020 2020 2020 2069  ward":.        i
-00030640: 6620 6861 7361 7474 7228 7365 6c66 2c20  f hasattr(self, 
-00030650: 2263 616c 6c65 725f 6672 616d 6522 293a  "caller_frame"):
-00030660: 0a20 2020 2020 2020 2020 2020 2064 656c  .            del
-00030670: 2073 656c 662e 6361 6c6c 6572 5f66 7261   self.caller_fra
-00030680: 6d65 0a20 2020 2020 2020 2069 6620 6973  me.        if is
-00030690: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
-000306a0: 7374 725f 7479 7065 293a 0a20 2020 2020  str_type):.     
-000306b0: 2020 2020 2020 206f 7468 6572 203d 2073         other = s
-000306c0: 656c 662e 5f6c 6974 6572 616c 5374 7269  elf._literalStri
-000306d0: 6e67 436c 6173 7328 6f74 6865 7229 0a0a  ngClass(other)..
-000306e0: 2020 2020 2020 2020 6966 206e 6f74 2069          if not i
-000306f0: 7369 6e73 7461 6e63 6528 6f74 6865 722c  sinstance(other,
-00030700: 2050 6172 7365 7245 6c65 6d65 6e74 293a   ParserElement):
-00030710: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00030720: 7572 6e20 4e6f 7449 6d70 6c65 6d65 6e74  urn NotImplement
-00030730: 6564 0a0a 2020 2020 2020 2020 7365 6c66  ed..        self
-00030740: 2e65 7870 7220 3d20 6f74 6865 720a 2020  .expr = other.  
-00030750: 2020 2020 2020 7365 6c66 2e73 7472 6561        self.strea
-00030760: 6d6c 696e 6564 203d 206f 7468 6572 2e73  mlined = other.s
-00030770: 7472 6561 6d6c 696e 6564 0a20 2020 2020  treamlined.     
-00030780: 2020 2073 656c 662e 6d61 7949 6e64 6578     self.mayIndex
-00030790: 4572 726f 7220 3d20 7365 6c66 2e65 7870  Error = self.exp
-000307a0: 722e 6d61 7949 6e64 6578 4572 726f 720a  r.mayIndexError.
-000307b0: 2020 2020 2020 2020 7365 6c66 2e6d 6179          self.may
-000307c0: 5265 7475 726e 456d 7074 7920 3d20 7365  ReturnEmpty = se
-000307d0: 6c66 2e65 7870 722e 6d61 7952 6574 7572  lf.expr.mayRetur
-000307e0: 6e45 6d70 7479 0a20 2020 2020 2020 2073  nEmpty.        s
-000307f0: 656c 662e 7365 745f 7768 6974 6573 7061  elf.set_whitespa
-00030800: 6365 5f63 6861 7273 280a 2020 2020 2020  ce_chars(.      
-00030810: 2020 2020 2020 7365 6c66 2e65 7870 722e        self.expr.
-00030820: 7768 6974 6543 6861 7273 2c20 636f 7079  whiteChars, copy
-00030830: 5f64 6566 6175 6c74 733d 7365 6c66 2e65  _defaults=self.e
-00030840: 7870 722e 636f 7079 4465 6661 756c 7457  xpr.copyDefaultW
-00030850: 6869 7465 4368 6172 730a 2020 2020 2020  hiteChars.      
-00030860: 2020 290a 2020 2020 2020 2020 7365 6c66    ).        self
-00030870: 2e73 6b69 7057 6869 7465 7370 6163 6520  .skipWhitespace 
-00030880: 3d20 7365 6c66 2e65 7870 722e 736b 6970  = self.expr.skip
-00030890: 5768 6974 6573 7061 6365 0a20 2020 2020  Whitespace.     
-000308a0: 2020 2073 656c 662e 7361 7665 4173 4c69     self.saveAsLi
-000308b0: 7374 203d 2073 656c 662e 6578 7072 2e73  st = self.expr.s
-000308c0: 6176 6541 734c 6973 740a 2020 2020 2020  aveAsList.      
-000308d0: 2020 7365 6c66 2e69 676e 6f72 6545 7870    self.ignoreExp
-000308e0: 7273 2e65 7874 656e 6428 7365 6c66 2e65  rs.extend(self.e
-000308f0: 7870 722e 6967 6e6f 7265 4578 7072 7329  xpr.ignoreExprs)
-00030900: 0a20 2020 2020 2020 2073 656c 662e 6c73  .        self.ls
-00030910: 6869 6674 5f6c 696e 6520 3d20 7472 6163  hift_line = trac
-00030920: 6562 6163 6b2e 6578 7472 6163 745f 7374  eback.extract_st
-00030930: 6163 6b28 6c69 6d69 743d 3229 5b2d 325d  ack(limit=2)[-2]
-00030940: 2020 2320 7479 7065 3a20 6967 6e6f 7265    # type: ignore
-00030950: 5b61 7373 6967 6e6d 656e 745d 0a20 2020  [assignment].   
-00030960: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00030970: 0a0a 2020 2020 6465 6620 5f5f 696c 7368  ..    def __ilsh
-00030980: 6966 745f 5f28 7365 6c66 2c20 6f74 6865  ift__(self, othe
-00030990: 7229 202d 3e20 2246 6f72 7761 7264 223a  r) -> "Forward":
-000309a0: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
-000309b0: 6973 696e 7374 616e 6365 286f 7468 6572  isinstance(other
-000309c0: 2c20 5061 7273 6572 456c 656d 656e 7429  , ParserElement)
-000309d0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-000309e0: 7475 726e 204e 6f74 496d 706c 656d 656e  turn NotImplemen
-000309f0: 7465 640a 0a20 2020 2020 2020 2072 6574  ted..        ret
-00030a00: 7572 6e20 7365 6c66 203c 3c20 6f74 6865  urn self << othe
-00030a10: 720a 0a20 2020 2064 6566 205f 5f6f 725f  r..    def __or_
-00030a20: 5f28 7365 6c66 2c20 6f74 6865 7229 202d  _(self, other) -
-00030a30: 3e20 2250 6172 7365 7245 6c65 6d65 6e74  > "ParserElement
-00030a40: 223a 0a20 2020 2020 2020 2063 616c 6c65  ":.        calle
-00030a50: 725f 6c69 6e65 203d 2074 7261 6365 6261  r_line = traceba
-00030a60: 636b 2e65 7874 7261 6374 5f73 7461 636b  ck.extract_stack
-00030a70: 286c 696d 6974 3d32 295b 2d32 5d0a 2020  (limit=2)[-2].  
-00030a80: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
-00030a90: 2020 2020 2020 205f 5f64 6961 675f 5f2e         __diag__.
-00030aa0: 7761 726e 5f6f 6e5f 6d61 7463 685f 6669  warn_on_match_fi
-00030ab0: 7273 745f 7769 7468 5f6c 7368 6966 745f  rst_with_lshift_
-00030ac0: 6f70 6572 6174 6f72 0a20 2020 2020 2020  operator.       
-00030ad0: 2020 2020 2061 6e64 2063 616c 6c65 725f       and caller_
-00030ae0: 6c69 6e65 203d 3d20 7365 6c66 2e6c 7368  line == self.lsh
-00030af0: 6966 745f 6c69 6e65 0a20 2020 2020 2020  ift_line.       
-00030b00: 2020 2020 2061 6e64 2044 6961 676e 6f73       and Diagnos
-00030b10: 7469 6373 2e77 6172 6e5f 6f6e 5f6d 6174  tics.warn_on_mat
-00030b20: 6368 5f66 6972 7374 5f77 6974 685f 6c73  ch_first_with_ls
-00030b30: 6869 6674 5f6f 7065 7261 746f 720a 2020  hift_operator.  
-00030b40: 2020 2020 2020 2020 2020 6e6f 7420 696e            not in
-00030b50: 2073 656c 662e 7375 7070 7265 7373 5f77   self.suppress_w
-00030b60: 6172 6e69 6e67 735f 0a20 2020 2020 2020  arnings_.       
-00030b70: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
-00030b80: 7761 726e 696e 6773 2e77 6172 6e28 0a20  warnings.warn(. 
-00030b90: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00030ba0: 7573 696e 6720 273c 3c27 206f 7065 7261  using '<<' opera
-00030bb0: 746f 7220 7769 7468 2027 7c27 2069 7320  tor with '|' is 
-00030bc0: 7072 6f62 6162 6c79 2061 6e20 6572 726f  probably an erro
-00030bd0: 722c 2075 7365 2027 3c3c 3d27 222c 0a20  r, use '<<='",. 
-00030be0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00030bf0: 7461 636b 6c65 7665 6c3d 322c 0a20 2020  tacklevel=2,.   
-00030c00: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-00030c10: 2020 2072 6574 203d 2073 7570 6572 2829     ret = super()
-00030c20: 2e5f 5f6f 725f 5f28 6f74 6865 7229 0a20  .__or__(other). 
-00030c30: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
-00030c40: 740a 0a20 2020 2064 6566 205f 5f64 656c  t..    def __del
-00030c50: 5f5f 2873 656c 6629 3a0a 2020 2020 2020  __(self):.      
-00030c60: 2020 2320 7365 6520 6966 2077 6520 6172    # see if we ar
-00030c70: 6520 6765 7474 696e 6720 6472 6f70 7065  e getting droppe
-00030c80: 6420 6265 6361 7573 6520 6f66 2027 3d27  d because of '='
-00030c90: 2072 6561 7373 6967 6e6d 656e 7420 6f66   reassignment of
-00030ca0: 2076 6172 2069 6e73 7465 6164 206f 6620   var instead of 
-00030cb0: 273c 3c3d 2720 6f72 2027 3c3c 270a 2020  '<<=' or '<<'.  
-00030cc0: 2020 2020 2020 6966 2028 0a20 2020 2020        if (.     
-00030cd0: 2020 2020 2020 2073 656c 662e 6578 7072         self.expr
-00030ce0: 2069 7320 4e6f 6e65 0a20 2020 2020 2020   is None.       
-00030cf0: 2020 2020 2061 6e64 205f 5f64 6961 675f       and __diag_
-00030d00: 5f2e 7761 726e 5f6f 6e5f 6173 7369 676e  _.warn_on_assign
-00030d10: 6d65 6e74 5f74 6f5f 466f 7277 6172 640a  ment_to_Forward.
-00030d20: 2020 2020 2020 2020 2020 2020 616e 6420              and 
-00030d30: 4469 6167 6e6f 7374 6963 732e 7761 726e  Diagnostics.warn
-00030d40: 5f6f 6e5f 6173 7369 676e 6d65 6e74 5f74  _on_assignment_t
-00030d50: 6f5f 466f 7277 6172 6420 6e6f 7420 696e  o_Forward not in
-00030d60: 2073 656c 662e 7375 7070 7265 7373 5f77   self.suppress_w
-00030d70: 6172 6e69 6e67 735f 0a20 2020 2020 2020  arnings_.       
-00030d80: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
-00030d90: 7761 726e 696e 6773 2e77 6172 6e5f 6578  warnings.warn_ex
-00030da0: 706c 6963 6974 280a 2020 2020 2020 2020  plicit(.        
-00030db0: 2020 2020 2020 2020 2246 6f72 7761 7264          "Forward
-00030dc0: 2064 6566 696e 6564 2068 6572 6520 6275   defined here bu
-00030dd0: 7420 6e6f 2065 7870 7265 7373 696f 6e20  t no expression 
-00030de0: 6174 7461 6368 6564 206c 6174 6572 2075  attached later u
-00030df0: 7369 6e67 2027 3c3c 3d27 206f 7220 273c  sing '<<=' or '<
-00030e00: 3c27 222c 0a20 2020 2020 2020 2020 2020  <'",.           
-00030e10: 2020 2020 2055 7365 7257 6172 6e69 6e67       UserWarning
-00030e20: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00030e30: 2020 6669 6c65 6e61 6d65 3d73 656c 662e    filename=self.
-00030e40: 6361 6c6c 6572 5f66 7261 6d65 2e66 696c  caller_frame.fil
-00030e50: 656e 616d 652c 0a20 2020 2020 2020 2020  ename,.         
-00030e60: 2020 2020 2020 206c 696e 656e 6f3d 7365         lineno=se
-00030e70: 6c66 2e63 616c 6c65 725f 6672 616d 652e  lf.caller_frame.
-00030e80: 6c69 6e65 6e6f 2c0a 2020 2020 2020 2020  lineno,.        
-00030e90: 2020 2020 290a 0a20 2020 2064 6566 2070      )..    def p
-00030ea0: 6172 7365 496d 706c 2873 656c 662c 2069  arseImpl(self, i
-00030eb0: 6e73 7472 696e 672c 206c 6f63 2c20 646f  nstring, loc, do
-00030ec0: 4163 7469 6f6e 733d 5472 7565 293a 0a20  Actions=True):. 
-00030ed0: 2020 2020 2020 2069 6620 280a 2020 2020         if (.    
-00030ee0: 2020 2020 2020 2020 7365 6c66 2e65 7870          self.exp
-00030ef0: 7220 6973 204e 6f6e 650a 2020 2020 2020  r is None.      
-00030f00: 2020 2020 2020 616e 6420 5f5f 6469 6167        and __diag
-00030f10: 5f5f 2e77 6172 6e5f 6f6e 5f70 6172 7365  __.warn_on_parse
-00030f20: 5f75 7369 6e67 5f65 6d70 7479 5f46 6f72  _using_empty_For
-00030f30: 7761 7264 0a20 2020 2020 2020 2020 2020  ward.           
-00030f40: 2061 6e64 2044 6961 676e 6f73 7469 6373   and Diagnostics
-00030f50: 2e77 6172 6e5f 6f6e 5f70 6172 7365 5f75  .warn_on_parse_u
-00030f60: 7369 6e67 5f65 6d70 7479 5f46 6f72 7761  sing_empty_Forwa
-00030f70: 7264 0a20 2020 2020 2020 2020 2020 206e  rd.            n
-00030f80: 6f74 2069 6e20 7365 6c66 2e73 7570 7072  ot in self.suppr
-00030f90: 6573 735f 7761 726e 696e 6773 5f0a 2020  ess_warnings_.  
-00030fa0: 2020 2020 2020 293a 0a20 2020 2020 2020        ):.       
-00030fb0: 2020 2020 2023 2077 616c 6b20 7374 6163       # walk stac
-00030fc0: 6b20 756e 7469 6c20 7061 7273 655f 7374  k until parse_st
-00030fd0: 7269 6e67 2c20 7363 616e 5f73 7472 696e  ring, scan_strin
-00030fe0: 672c 2073 6561 7263 685f 7374 7269 6e67  g, search_string
-00030ff0: 2c20 6f72 2074 7261 6e73 666f 726d 5f73  , or transform_s
-00031000: 7472 696e 6720 6973 2066 6f75 6e64 0a20  tring is found. 
-00031010: 2020 2020 2020 2020 2020 2070 6172 7365             parse
-00031020: 5f66 6e73 203d 2028 0a20 2020 2020 2020  _fns = (.       
-00031030: 2020 2020 2020 2020 2022 7061 7273 655f           "parse_
-00031040: 7374 7269 6e67 222c 0a20 2020 2020 2020  string",.       
-00031050: 2020 2020 2020 2020 2022 7363 616e 5f73           "scan_s
-00031060: 7472 696e 6722 2c0a 2020 2020 2020 2020  tring",.        
-00031070: 2020 2020 2020 2020 2273 6561 7263 685f          "search_
-00031080: 7374 7269 6e67 222c 0a20 2020 2020 2020  string",.       
-00031090: 2020 2020 2020 2020 2022 7472 616e 7366           "transf
-000310a0: 6f72 6d5f 7374 7269 6e67 222c 0a20 2020  orm_string",.   
-000310b0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-000310c0: 2020 2020 2020 2074 6220 3d20 7472 6163         tb = trac
-000310d0: 6562 6163 6b2e 6578 7472 6163 745f 7374  eback.extract_st
-000310e0: 6163 6b28 6c69 6d69 743d 3230 3029 0a20  ack(limit=200). 
-000310f0: 2020 2020 2020 2020 2020 2066 6f72 2069             for i
-00031100: 2c20 6672 6d20 696e 2065 6e75 6d65 7261  , frm in enumera
-00031110: 7465 2872 6576 6572 7365 6428 7462 292c  te(reversed(tb),
-00031120: 2073 7461 7274 3d31 293a 0a20 2020 2020   start=1):.     
-00031130: 2020 2020 2020 2020 2020 2069 6620 6672             if fr
-00031140: 6d2e 6e61 6d65 2069 6e20 7061 7273 655f  m.name in parse_
-00031150: 666e 733a 0a20 2020 2020 2020 2020 2020  fns:.           
-00031160: 2020 2020 2020 2020 2073 7461 636b 6c65           stackle
-00031170: 7665 6c20 3d20 6920 2b20 310a 2020 2020  vel = i + 1.    
-00031180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031190: 6272 6561 6b0a 2020 2020 2020 2020 2020  break.          
-000311a0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000311b0: 2020 2020 2020 2020 7374 6163 6b6c 6576          stacklev
-000311c0: 656c 203d 2032 0a20 2020 2020 2020 2020  el = 2.         
-000311d0: 2020 2077 6172 6e69 6e67 732e 7761 726e     warnings.warn
-000311e0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-000311f0: 2020 2246 6f72 7761 7264 2065 7870 7265    "Forward expre
-00031200: 7373 696f 6e20 7761 7320 6e65 7665 7220  ssion was never 
-00031210: 6173 7369 676e 6564 2061 2076 616c 7565  assigned a value
-00031220: 2c20 7769 6c6c 206e 6f74 2070 6172 7365  , will not parse
-00031230: 2061 6e79 2069 6e70 7574 222c 0a20 2020   any input",.   
-00031240: 2020 2020 2020 2020 2020 2020 2073 7461               sta
-00031250: 636b 6c65 7665 6c3d 7374 6163 6b6c 6576  cklevel=stacklev
-00031260: 656c 2c0a 2020 2020 2020 2020 2020 2020  el,.            
-00031270: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
-00031280: 2050 6172 7365 7245 6c65 6d65 6e74 2e5f   ParserElement._
-00031290: 6c65 6674 5f72 6563 7572 7369 6f6e 5f65  left_recursion_e
-000312a0: 6e61 626c 6564 3a0a 2020 2020 2020 2020  nabled:.        
-000312b0: 2020 2020 7265 7475 726e 2073 7570 6572      return super
-000312c0: 2829 2e70 6172 7365 496d 706c 2869 6e73  ().parseImpl(ins
-000312d0: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
-000312e0: 7469 6f6e 7329 0a20 2020 2020 2020 2023  tions).        #
-000312f0: 2023 2320 426f 756e 6465 6420 5265 6375   ## Bounded Recu
-00031300: 7273 696f 6e20 616c 676f 7269 7468 6d20  rsion algorithm 
-00031310: 2323 0a20 2020 2020 2020 2023 2052 6563  ##.        # Rec
-00031320: 7572 7369 6f6e 206f 6e6c 7920 6e65 6564  ursion only need
-00031330: 7320 746f 2062 6520 7072 6f63 6573 7365  s to be processe
-00031340: 6420 6174 2060 6046 6f72 7761 7264 6060  d at ``Forward``
-00031350: 2065 6c65 6d65 6e74 732c 2073 696e 6365   elements, since
-00031360: 2074 6865 7920 6172 650a 2020 2020 2020   they are.      
-00031370: 2020 2320 7468 6520 6f6e 6c79 206f 6e65    # the only one
-00031380: 7320 7468 6174 2063 616e 2061 6374 7561  s that can actua
-00031390: 6c6c 7920 7265 6665 7220 746f 2074 6865  lly refer to the
-000313a0: 6d73 656c 7665 732e 2054 6865 2067 656e  mselves. The gen
-000313b0: 6572 616c 2069 6465 6120 6973 0a20 2020  eral idea is.   
-000313c0: 2020 2020 2023 2074 6f20 6861 6e64 6c65       # to handle
-000313d0: 2072 6563 7572 7369 6f6e 2073 7465 7077   recursion stepw
-000313e0: 6973 653a 2057 6520 7374 6172 7420 6174  ise: We start at
-000313f0: 206e 6f20 7265 6375 7273 696f 6e2c 2074   no recursion, t
-00031400: 6865 6e20 7265 6375 7273 6520 6f6e 6365  hen recurse once
-00031410: 2c0a 2020 2020 2020 2020 2320 7265 6375  ,.        # recu
-00031420: 7273 6520 7477 6963 652c 202e 2e2e 2c20  rse twice, ..., 
-00031430: 756e 7469 6c20 6d6f 7265 2072 6563 7572  until more recur
-00031440: 7369 6f6e 206f 6666 6572 7320 6e6f 2062  sion offers no b
-00031450: 656e 6566 6974 2028 7765 2068 6974 2074  enefit (we hit t
-00031460: 6865 2062 6f75 6e64 292e 0a20 2020 2020  he bound)..     
-00031470: 2020 2023 0a20 2020 2020 2020 2023 2054     #.        # T
-00031480: 6865 2022 7472 6963 6b22 2068 6572 6520  he "trick" here 
-00031490: 6973 2074 6861 7420 6561 6368 2060 6046  is that each ``F
-000314a0: 6f72 7761 7264 6060 2067 6574 7320 6576  orward`` gets ev
-000314b0: 616c 7561 7465 6420 696e 2074 776f 2063  aluated in two c
-000314c0: 6f6e 7465 7874 730a 2020 2020 2020 2020  ontexts.        
-000314d0: 2320 2d20 746f 202a 6d61 7463 682a 2061  # - to *match* a
-000314e0: 2073 7065 6369 6669 6320 7265 6375 7273   specific recurs
-000314f0: 696f 6e20 6c65 7665 6c2c 2061 6e64 0a20  ion level, and. 
-00031500: 2020 2020 2020 2023 202d 2074 6f20 2a73         # - to *s
-00031510: 6561 7263 682a 2074 6865 2062 6f75 6e64  earch* the bound
-00031520: 6564 2072 6563 7572 7369 6f6e 206c 6576  ed recursion lev
-00031530: 656c 0a20 2020 2020 2020 2023 2061 6e64  el.        # and
-00031540: 2074 6865 2074 776f 2072 756e 2063 6f6e   the two run con
-00031550: 6375 7272 656e 746c 792e 2054 6865 202a  currently. The *
-00031560: 7365 6172 6368 2a20 6d75 7374 202a 6d61  search* must *ma
-00031570: 7463 682a 2065 6163 6820 7265 6375 7273  tch* each recurs
-00031580: 696f 6e20 6c65 7665 6c0a 2020 2020 2020  ion level.      
-00031590: 2020 2320 746f 2066 696e 6420 7468 6520    # to find the 
-000315a0: 6265 7374 2070 6f73 7369 626c 6520 6d61  best possible ma
-000315b0: 7463 682e 2054 6869 7320 6973 2068 616e  tch. This is han
-000315c0: 646c 6564 2062 7920 6120 6d65 6d6f 2074  dled by a memo t
-000315d0: 6162 6c65 2c20 7768 6963 680a 2020 2020  able, which.    
-000315e0: 2020 2020 2320 7072 6f76 6964 6573 2074      # provides t
-000315f0: 6865 2070 7265 7669 6f75 7320 6d61 7463  he previous matc
-00031600: 6820 746f 2074 6865 206e 6578 7420 6c65  h to the next le
-00031610: 7665 6c20 6d61 7463 6820 6174 7465 6d70  vel match attemp
-00031620: 742e 0a20 2020 2020 2020 2023 0a20 2020  t..        #.   
-00031630: 2020 2020 2023 2053 6565 2061 6c73 6f20       # See also 
-00031640: 224c 6566 7420 5265 6375 7273 696f 6e20  "Left Recursion 
-00031650: 696e 2050 6172 7369 6e67 2045 7870 7265  in Parsing Expre
-00031660: 7373 696f 6e20 4772 616d 6d61 7273 222c  ssion Grammars",
-00031670: 204d 6564 6569 726f 7320 6574 2061 6c2e   Medeiros et al.
-00031680: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
-00031690: 2020 2023 2054 6865 7265 2069 7320 6120     # There is a 
-000316a0: 636f 6d70 6c69 6361 7469 6f6e 2073 696e  complication sin
-000316b0: 6365 2077 6520 6e6f 7420 6f6e 6c79 202a  ce we not only *
-000316c0: 7061 7273 652a 2062 7574 2061 6c73 6f20  parse* but also 
-000316d0: 2a74 7261 6e73 666f 726d 2a20 7669 610a  *transform* via.
-000316e0: 2020 2020 2020 2020 2320 6163 7469 6f6e          # action
-000316f0: 733a 2057 6520 646f 206e 6f74 2077 616e  s: We do not wan
-00031700: 7420 746f 2072 756e 2074 6865 2061 6374  t to run the act
-00031710: 696f 6e73 2074 6f6f 206f 6674 656e 2077  ions too often w
-00031720: 6869 6c65 2065 7870 616e 6469 6e67 2e20  hile expanding. 
-00031730: 5468 7573 2c0a 2020 2020 2020 2020 2320  Thus,.        # 
-00031740: 7765 2065 7870 616e 6420 7573 696e 6720  we expand using 
-00031750: 6064 6f41 6374 696f 6e73 3d46 616c 7365  `doActions=False
-00031760: 6020 616e 6420 6f6e 6c79 2072 756e 2060  ` and only run `
-00031770: 646f 4163 7469 6f6e 733d 5472 7565 6020  doActions=True` 
-00031780: 6966 2074 6865 206e 6578 740a 2020 2020  if the next.    
-00031790: 2020 2020 2320 7265 6375 7273 696f 6e20      # recursion 
-000317a0: 6c65 7665 6c20 6973 2061 6363 6570 7461  level is accepta
-000317b0: 626c 652e 0a20 2020 2020 2020 2077 6974  ble..        wit
-000317c0: 6820 5061 7273 6572 456c 656d 656e 742e  h ParserElement.
-000317d0: 7265 6375 7273 696f 6e5f 6c6f 636b 3a0a  recursion_lock:.
-000317e0: 2020 2020 2020 2020 2020 2020 6d65 6d6f              memo
-000317f0: 203d 2050 6172 7365 7245 6c65 6d65 6e74   = ParserElement
-00031800: 2e72 6563 7572 7369 6f6e 5f6d 656d 6f73  .recursion_memos
-00031810: 0a20 2020 2020 2020 2020 2020 2074 7279  .            try
-00031820: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00031830: 2020 2320 7765 2061 7265 2070 6172 7369    # we are parsi
-00031840: 6e67 2061 7420 6120 7370 6563 6966 6963  ng at a specific
-00031850: 2072 6563 7572 7369 6f6e 2065 7870 616e   recursion expan
-00031860: 7369 6f6e 202d 2075 7365 2069 7420 6173  sion - use it as
-00031870: 2d69 730a 2020 2020 2020 2020 2020 2020  -is.            
-00031880: 2020 2020 7072 6576 5f6c 6f63 2c20 7072      prev_loc, pr
-00031890: 6576 5f72 6573 756c 7420 3d20 6d65 6d6f  ev_result = memo
-000318a0: 5b6c 6f63 2c20 7365 6c66 2c20 646f 4163  [loc, self, doAc
-000318b0: 7469 6f6e 735d 0a20 2020 2020 2020 2020  tions].         
-000318c0: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-000318d0: 616e 6365 2870 7265 765f 7265 7375 6c74  ance(prev_result
-000318e0: 2c20 4578 6365 7074 696f 6e29 3a0a 2020  , Exception):.  
-000318f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031900: 2020 7261 6973 6520 7072 6576 5f72 6573    raise prev_res
-00031910: 756c 740a 2020 2020 2020 2020 2020 2020  ult.            
-00031920: 2020 2020 7265 7475 726e 2070 7265 765f      return prev_
-00031930: 6c6f 632c 2070 7265 765f 7265 7375 6c74  loc, prev_result
-00031940: 2e63 6f70 7928 290a 2020 2020 2020 2020  .copy().        
-00031950: 2020 2020 6578 6365 7074 204b 6579 4572      except KeyEr
-00031960: 726f 723a 0a20 2020 2020 2020 2020 2020  ror:.           
-00031970: 2020 2020 2061 6374 5f6b 6579 203d 2028       act_key = (
-00031980: 6c6f 632c 2073 656c 662c 2054 7275 6529  loc, self, True)
-00031990: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000319a0: 2070 6565 6b5f 6b65 7920 3d20 286c 6f63   peek_key = (loc
-000319b0: 2c20 7365 6c66 2c20 4661 6c73 6529 0a20  , self, False). 
-000319c0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-000319d0: 2077 6520 6172 6520 7365 6172 6368 696e   we are searchin
-000319e0: 6720 666f 7220 7468 6520 6265 7374 2072  g for the best r
-000319f0: 6563 7572 7369 6f6e 2065 7870 616e 7369  ecursion expansi
-00031a00: 6f6e 202d 206b 6565 7020 6f6e 2069 6d70  on - keep on imp
-00031a10: 726f 7669 6e67 0a20 2020 2020 2020 2020  roving.         
-00031a20: 2020 2020 2020 2023 2062 6f74 6820 6064         # both `d
-00031a30: 6f41 6374 696f 6e73 6020 6361 7365 7320  oActions` cases 
-00031a40: 6d75 7374 2062 6520 7472 6163 6b65 6420  must be tracked 
-00031a50: 7365 7061 7261 7465 6c79 2068 6572 6521  separately here!
-00031a60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00031a70: 2070 7265 765f 6c6f 632c 2070 7265 765f   prev_loc, prev_
-00031a80: 7065 656b 203d 206d 656d 6f5b 7065 656b  peek = memo[peek
-00031a90: 5f6b 6579 5d20 3d20 280a 2020 2020 2020  _key] = (.      
-00031aa0: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
-00031ab0: 6320 2d20 312c 0a20 2020 2020 2020 2020  c - 1,.         
-00031ac0: 2020 2020 2020 2020 2020 2050 6172 7365             Parse
-00031ad0: 4578 6365 7074 696f 6e28 0a20 2020 2020  Exception(.     
-00031ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031af0: 2020 2069 6e73 7472 696e 672c 206c 6f63     instring, loc
-00031b00: 2c20 2246 6f72 7761 7264 2072 6563 7572  , "Forward recur
-00031b10: 7369 6f6e 2077 6974 686f 7574 2062 6173  sion without bas
-00031b20: 6520 6361 7365 222c 2073 656c 660a 2020  e case", self.  
-00031b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031b40: 2020 292c 0a20 2020 2020 2020 2020 2020    ),.           
-00031b50: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
-00031b60: 2020 2020 2020 2069 6620 646f 4163 7469         if doActi
-00031b70: 6f6e 733a 0a20 2020 2020 2020 2020 2020  ons:.           
-00031b80: 2020 2020 2020 2020 206d 656d 6f5b 6163           memo[ac
-00031b90: 745f 6b65 795d 203d 206d 656d 6f5b 7065  t_key] = memo[pe
-00031ba0: 656b 5f6b 6579 5d0a 2020 2020 2020 2020  ek_key].        
-00031bb0: 2020 2020 2020 2020 7768 696c 6520 5472          while Tr
-00031bc0: 7565 3a0a 2020 2020 2020 2020 2020 2020  ue:.            
-00031bd0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-00031be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031bf0: 2020 2020 206e 6577 5f6c 6f63 2c20 6e65       new_loc, ne
-00031c00: 775f 7065 656b 203d 2073 7570 6572 2829  w_peek = super()
-00031c10: 2e70 6172 7365 496d 706c 2869 6e73 7472  .parseImpl(instr
-00031c20: 696e 672c 206c 6f63 2c20 4661 6c73 6529  ing, loc, False)
-00031c30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00031c40: 2020 2020 2065 7863 6570 7420 5061 7273       except Pars
-00031c50: 6545 7863 6570 7469 6f6e 3a0a 2020 2020  eException:.    
-00031c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031c70: 2020 2020 2320 7765 2066 6169 6c65 6420      # we failed 
-00031c80: 6265 666f 7265 2067 6574 7469 6e67 2061  before getting a
-00031c90: 6e79 206d 6174 6368 20e2 8093 2064 6f20  ny match ... do 
-00031ca0: 6e6f 7420 6869 6465 2074 6865 2065 7272  not hide the err
-00031cb0: 6f72 0a20 2020 2020 2020 2020 2020 2020  or.             
-00031cc0: 2020 2020 2020 2020 2020 2069 6620 6973             if is
-00031cd0: 696e 7374 616e 6365 2870 7265 765f 7065  instance(prev_pe
-00031ce0: 656b 2c20 4578 6365 7074 696f 6e29 3a0a  ek, Exception):.
+0002d190: 2020 2020 2020 2022 636f 6c6c 6964 6573         "collides
+0002d1a0: 2077 6974 6820 7b21 727d 206f 6e20 636f   with {!r} on co
+0002d1b0: 6e74 6169 6e65 6420 6578 7072 6573 7369  ntained expressi
+0002d1c0: 6f6e 222e 666f 726d 6174 280a 2020 2020  on".format(.    
+0002d1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d1e0: 2020 2020 2020 2020 2277 6172 6e5f 756e          "warn_un
+0002d1f0: 6772 6f75 7065 645f 6e61 6d65 645f 746f  grouped_named_to
+0002d200: 6b65 6e73 5f69 6e5f 636f 6c6c 6563 7469  kens_in_collecti
+0002d210: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
+0002d220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d230: 206e 616d 652c 0a20 2020 2020 2020 2020   name,.         
+0002d240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d250: 2020 2074 7970 6528 7365 6c66 292e 5f5f     type(self).__
+0002d260: 6e61 6d65 5f5f 2c0a 2020 2020 2020 2020  name__,.        
+0002d270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d280: 2020 2020 652e 7265 7375 6c74 734e 616d      e.resultsNam
+0002d290: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0002d2a0: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
+0002d2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d2c0: 2020 2020 2020 7374 6163 6b6c 6576 656c        stacklevel
+0002d2d0: 3d33 2c0a 2020 2020 2020 2020 2020 2020  =3,.            
+0002d2e0: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+0002d2f0: 2020 2072 6574 7572 6e20 7375 7065 7228     return super(
+0002d300: 292e 5f73 6574 5265 7375 6c74 734e 616d  )._setResultsNam
+0002d310: 6528 6e61 6d65 2c20 6c69 7374 416c 6c4d  e(name, listAllM
+0002d320: 6174 6368 6573 290a 0a0a 636c 6173 7320  atches)...class 
+0002d330: 4f6e 654f 724d 6f72 6528 5f4d 756c 7469  OneOrMore(_Multi
+0002d340: 706c 654d 6174 6368 293a 0a20 2020 2022  pleMatch):.    "
+0002d350: 2222 0a20 2020 2052 6570 6574 6974 696f  "".    Repetitio
+0002d360: 6e20 6f66 206f 6e65 206f 7220 6d6f 7265  n of one or more
+0002d370: 206f 6620 7468 6520 6769 7665 6e20 6578   of the given ex
+0002d380: 7072 6573 7369 6f6e 2e0a 0a20 2020 2050  pression...    P
+0002d390: 6172 616d 6574 6572 733a 0a0a 2020 2020  arameters:..    
+0002d3a0: 2d20 6060 6578 7072 6060 202d 2065 7870  - ``expr`` - exp
+0002d3b0: 7265 7373 696f 6e20 7468 6174 206d 7573  ression that mus
+0002d3c0: 7420 6d61 7463 6820 6f6e 6520 6f72 206d  t match one or m
+0002d3d0: 6f72 6520 7469 6d65 730a 2020 2020 2d20  ore times.    - 
+0002d3e0: 6060 7374 6f70 5f6f 6e60 6020 2d20 2864  ``stop_on`` - (d
+0002d3f0: 6566 6175 6c74 3d20 6060 4e6f 6e65 6060  efault= ``None``
+0002d400: 2920 2d20 6578 7072 6573 7369 6f6e 2066  ) - expression f
+0002d410: 6f72 2061 2074 6572 6d69 6e61 7469 6e67  or a terminating
+0002d420: 2073 656e 7469 6e65 6c0a 2020 2020 2020   sentinel.      
+0002d430: 286f 6e6c 7920 7265 7175 6972 6564 2069  (only required i
+0002d440: 6620 7468 6520 7365 6e74 696e 656c 2077  f the sentinel w
+0002d450: 6f75 6c64 206f 7264 696e 6172 696c 7920  ould ordinarily 
+0002d460: 6d61 7463 6820 7468 6520 7265 7065 7469  match the repeti
+0002d470: 7469 6f6e 0a20 2020 2020 2065 7870 7265  tion.      expre
+0002d480: 7373 696f 6e29 0a0a 2020 2020 4578 616d  ssion)..    Exam
+0002d490: 706c 653a 3a0a 0a20 2020 2020 2020 2064  ple::..        d
+0002d4a0: 6174 615f 776f 7264 203d 2057 6f72 6428  ata_word = Word(
+0002d4b0: 616c 7068 6173 290a 2020 2020 2020 2020  alphas).        
+0002d4c0: 6c61 6265 6c20 3d20 6461 7461 5f77 6f72  label = data_wor
+0002d4d0: 6420 2b20 466f 6c6c 6f77 6564 4279 2827  d + FollowedBy('
+0002d4e0: 3a27 290a 2020 2020 2020 2020 6174 7472  :').        attr
+0002d4f0: 5f65 7870 7220 3d20 4772 6f75 7028 6c61  _expr = Group(la
+0002d500: 6265 6c20 2b20 5375 7070 7265 7373 2827  bel + Suppress('
+0002d510: 3a27 2920 2b20 4f6e 654f 724d 6f72 6528  :') + OneOrMore(
+0002d520: 6461 7461 5f77 6f72 6429 2e73 6574 5f70  data_word).set_p
+0002d530: 6172 7365 5f61 6374 696f 6e28 2720 272e  arse_action(' '.
+0002d540: 6a6f 696e 2929 0a0a 2020 2020 2020 2020  join))..        
+0002d550: 7465 7874 203d 2022 7368 6170 653a 2053  text = "shape: S
+0002d560: 5155 4152 4520 706f 736e 3a20 7570 7065  QUARE posn: uppe
+0002d570: 7220 6c65 6674 2063 6f6c 6f72 3a20 424c  r left color: BL
+0002d580: 4143 4b22 0a20 2020 2020 2020 2061 7474  ACK".        att
+0002d590: 725f 6578 7072 5b31 2c20 2e2e 2e5d 2e70  r_expr[1, ...].p
+0002d5a0: 6172 7365 5f73 7472 696e 6728 7465 7874  arse_string(text
+0002d5b0: 292e 7070 7269 6e74 2829 2020 2320 4661  ).pprint()  # Fa
+0002d5c0: 696c 2120 7265 6164 2027 636f 6c6f 7227  il! read 'color'
+0002d5d0: 2061 7320 6461 7461 2069 6e73 7465 6164   as data instead
+0002d5e0: 206f 6620 6e65 7874 206c 6162 656c 202d   of next label -
+0002d5f0: 3e20 5b5b 2773 6861 7065 272c 2027 5351  > [['shape', 'SQ
+0002d600: 5541 5245 2063 6f6c 6f72 275d 5d0a 0a20  UARE color']].. 
+0002d610: 2020 2020 2020 2023 2075 7365 2073 746f         # use sto
+0002d620: 705f 6f6e 2061 7474 7269 6275 7465 2066  p_on attribute f
+0002d630: 6f72 204f 6e65 4f72 4d6f 7265 2074 6f20  or OneOrMore to 
+0002d640: 6176 6f69 6420 7265 6164 696e 6720 6c61  avoid reading la
+0002d650: 6265 6c20 7374 7269 6e67 2061 7320 7061  bel string as pa
+0002d660: 7274 206f 6620 7468 6520 6461 7461 0a20  rt of the data. 
+0002d670: 2020 2020 2020 2061 7474 725f 6578 7072         attr_expr
+0002d680: 203d 2047 726f 7570 286c 6162 656c 202b   = Group(label +
+0002d690: 2053 7570 7072 6573 7328 273a 2729 202b   Suppress(':') +
+0002d6a0: 204f 6e65 4f72 4d6f 7265 2864 6174 615f   OneOrMore(data_
+0002d6b0: 776f 7264 2c20 7374 6f70 5f6f 6e3d 6c61  word, stop_on=la
+0002d6c0: 6265 6c29 2e73 6574 5f70 6172 7365 5f61  bel).set_parse_a
+0002d6d0: 6374 696f 6e28 2720 272e 6a6f 696e 2929  ction(' '.join))
+0002d6e0: 0a20 2020 2020 2020 204f 6e65 4f72 4d6f  .        OneOrMo
+0002d6f0: 7265 2861 7474 725f 6578 7072 292e 7061  re(attr_expr).pa
+0002d700: 7273 655f 7374 7269 6e67 2874 6578 7429  rse_string(text)
+0002d710: 2e70 7072 696e 7428 2920 2320 4265 7474  .pprint() # Bett
+0002d720: 6572 202d 3e20 5b5b 2773 6861 7065 272c  er -> [['shape',
+0002d730: 2027 5351 5541 5245 275d 2c20 5b27 706f   'SQUARE'], ['po
+0002d740: 736e 272c 2027 7570 7065 7220 6c65 6674  sn', 'upper left
+0002d750: 275d 2c20 5b27 636f 6c6f 7227 2c20 2742  '], ['color', 'B
+0002d760: 4c41 434b 275d 5d0a 0a20 2020 2020 2020  LACK']]..       
+0002d770: 2023 2063 6f75 6c64 2061 6c73 6f20 6265   # could also be
+0002d780: 2077 7269 7474 656e 2061 730a 2020 2020   written as.    
+0002d790: 2020 2020 2861 7474 725f 6578 7072 202a      (attr_expr *
+0002d7a0: 2028 312c 2929 2e70 6172 7365 5f73 7472   (1,)).parse_str
+0002d7b0: 696e 6728 7465 7874 292e 7070 7269 6e74  ing(text).pprint
+0002d7c0: 2829 0a20 2020 2022 2222 0a0a 2020 2020  ().    """..    
+0002d7d0: 6465 6620 5f67 656e 6572 6174 6544 6566  def _generateDef
+0002d7e0: 6175 6c74 4e61 6d65 2873 656c 6629 202d  aultName(self) -
+0002d7f0: 3e20 7374 723a 0a20 2020 2020 2020 2072  > str:.        r
+0002d800: 6574 7572 6e20 227b 2220 2b20 7374 7228  eturn "{" + str(
+0002d810: 7365 6c66 2e65 7870 7229 202b 2022 7d2e  self.expr) + "}.
+0002d820: 2e2e 220a 0a0a 636c 6173 7320 5a65 726f  .."...class Zero
+0002d830: 4f72 4d6f 7265 285f 4d75 6c74 6970 6c65  OrMore(_Multiple
+0002d840: 4d61 7463 6829 3a0a 2020 2020 2222 220a  Match):.    """.
+0002d850: 2020 2020 4f70 7469 6f6e 616c 2072 6570      Optional rep
+0002d860: 6574 6974 696f 6e20 6f66 207a 6572 6f20  etition of zero 
+0002d870: 6f72 206d 6f72 6520 6f66 2074 6865 2067  or more of the g
+0002d880: 6976 656e 2065 7870 7265 7373 696f 6e2e  iven expression.
+0002d890: 0a0a 2020 2020 5061 7261 6d65 7465 7273  ..    Parameters
+0002d8a0: 3a0a 0a20 2020 202d 2060 6065 7870 7260  :..    - ``expr`
+0002d8b0: 6020 2d20 6578 7072 6573 7369 6f6e 2074  ` - expression t
+0002d8c0: 6861 7420 6d75 7374 206d 6174 6368 207a  hat must match z
+0002d8d0: 6572 6f20 6f72 206d 6f72 6520 7469 6d65  ero or more time
+0002d8e0: 730a 2020 2020 2d20 6060 7374 6f70 5f6f  s.    - ``stop_o
+0002d8f0: 6e60 6020 2d20 6578 7072 6573 7369 6f6e  n`` - expression
+0002d900: 2066 6f72 2061 2074 6572 6d69 6e61 7469   for a terminati
+0002d910: 6e67 2073 656e 7469 6e65 6c0a 2020 2020  ng sentinel.    
+0002d920: 2020 286f 6e6c 7920 7265 7175 6972 6564    (only required
+0002d930: 2069 6620 7468 6520 7365 6e74 696e 656c   if the sentinel
+0002d940: 2077 6f75 6c64 206f 7264 696e 6172 696c   would ordinaril
+0002d950: 7920 6d61 7463 6820 7468 6520 7265 7065  y match the repe
+0002d960: 7469 7469 6f6e 0a20 2020 2020 2065 7870  tition.      exp
+0002d970: 7265 7373 696f 6e29 202d 2028 6465 6661  ression) - (defa
+0002d980: 756c 743d 2060 604e 6f6e 6560 6029 0a0a  ult= ``None``)..
+0002d990: 2020 2020 4578 616d 706c 653a 2073 696d      Example: sim
+0002d9a0: 696c 6172 2074 6f20 3a63 6c61 7373 3a60  ilar to :class:`
+0002d9b0: 4f6e 654f 724d 6f72 6560 0a20 2020 2022  OneOrMore`.    "
+0002d9c0: 2222 0a0a 2020 2020 6465 6620 5f5f 696e  ""..    def __in
+0002d9d0: 6974 5f5f 280a 2020 2020 2020 2020 7365  it__(.        se
+0002d9e0: 6c66 2c0a 2020 2020 2020 2020 6578 7072  lf,.        expr
+0002d9f0: 3a20 556e 696f 6e5b 7374 722c 2050 6172  : Union[str, Par
+0002da00: 7365 7245 6c65 6d65 6e74 5d2c 0a20 2020  serElement],.   
+0002da10: 2020 2020 2073 746f 705f 6f6e 3a20 7479       stop_on: ty
+0002da20: 7069 6e67 2e4f 7074 696f 6e61 6c5b 556e  ping.Optional[Un
+0002da30: 696f 6e5b 5061 7273 6572 456c 656d 656e  ion[ParserElemen
+0002da40: 742c 2073 7472 5d5d 203d 204e 6f6e 652c  t, str]] = None,
+0002da50: 0a20 2020 2020 2020 202a 2c0a 2020 2020  .        *,.    
+0002da60: 2020 2020 7374 6f70 4f6e 3a20 7479 7069      stopOn: typi
+0002da70: 6e67 2e4f 7074 696f 6e61 6c5b 556e 696f  ng.Optional[Unio
+0002da80: 6e5b 5061 7273 6572 456c 656d 656e 742c  n[ParserElement,
+0002da90: 2073 7472 5d5d 203d 204e 6f6e 652c 0a20   str]] = None,. 
+0002daa0: 2020 2029 3a0a 2020 2020 2020 2020 7375     ):.        su
+0002dab0: 7065 7228 292e 5f5f 696e 6974 5f5f 2865  per().__init__(e
+0002dac0: 7870 722c 2073 746f 704f 6e3d 7374 6f70  xpr, stopOn=stop
+0002dad0: 4f6e 206f 7220 7374 6f70 5f6f 6e29 0a20  On or stop_on). 
+0002dae0: 2020 2020 2020 2073 656c 662e 6d61 7952         self.mayR
+0002daf0: 6574 7572 6e45 6d70 7479 203d 2054 7275  eturnEmpty = Tru
+0002db00: 650a 0a20 2020 2064 6566 2070 6172 7365  e..    def parse
+0002db10: 496d 706c 2873 656c 662c 2069 6e73 7472  Impl(self, instr
+0002db20: 696e 672c 206c 6f63 2c20 646f 4163 7469  ing, loc, doActi
+0002db30: 6f6e 733d 5472 7565 293a 0a20 2020 2020  ons=True):.     
+0002db40: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+0002db50: 2020 2020 7265 7475 726e 2073 7570 6572      return super
+0002db60: 2829 2e70 6172 7365 496d 706c 2869 6e73  ().parseImpl(ins
+0002db70: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+0002db80: 7469 6f6e 7329 0a20 2020 2020 2020 2065  tions).        e
+0002db90: 7863 6570 7420 2850 6172 7365 4578 6365  xcept (ParseExce
+0002dba0: 7074 696f 6e2c 2049 6e64 6578 4572 726f  ption, IndexErro
+0002dbb0: 7229 3a0a 2020 2020 2020 2020 2020 2020  r):.            
+0002dbc0: 7265 7475 726e 206c 6f63 2c20 5061 7273  return loc, Pars
+0002dbd0: 6552 6573 756c 7473 285b 5d2c 206e 616d  eResults([], nam
+0002dbe0: 653d 7365 6c66 2e72 6573 756c 7473 4e61  e=self.resultsNa
+0002dbf0: 6d65 290a 0a20 2020 2064 6566 205f 6765  me)..    def _ge
+0002dc00: 6e65 7261 7465 4465 6661 756c 744e 616d  nerateDefaultNam
+0002dc10: 6528 7365 6c66 2920 2d3e 2073 7472 3a0a  e(self) -> str:.
+0002dc20: 2020 2020 2020 2020 7265 7475 726e 2022          return "
+0002dc30: 5b22 202b 2073 7472 2873 656c 662e 6578  [" + str(self.ex
+0002dc40: 7072 2920 2b20 225d 2e2e 2e22 0a0a 0a63  pr) + "]..."...c
+0002dc50: 6c61 7373 2044 656c 696d 6974 6564 4c69  lass DelimitedLi
+0002dc60: 7374 2850 6172 7365 456c 656d 656e 7445  st(ParseElementE
+0002dc70: 6e68 616e 6365 293a 0a20 2020 2064 6566  nhance):.    def
+0002dc80: 205f 5f69 6e69 745f 5f28 0a20 2020 2020   __init__(.     
+0002dc90: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+0002dca0: 2065 7870 723a 2055 6e69 6f6e 5b73 7472   expr: Union[str
+0002dcb0: 2c20 5061 7273 6572 456c 656d 656e 745d  , ParserElement]
+0002dcc0: 2c0a 2020 2020 2020 2020 6465 6c69 6d3a  ,.        delim:
+0002dcd0: 2055 6e69 6f6e 5b73 7472 2c20 5061 7273   Union[str, Pars
+0002dce0: 6572 456c 656d 656e 745d 203d 2022 2c22  erElement] = ","
+0002dcf0: 2c0a 2020 2020 2020 2020 636f 6d62 696e  ,.        combin
+0002dd00: 653a 2062 6f6f 6c20 3d20 4661 6c73 652c  e: bool = False,
+0002dd10: 0a20 2020 2020 2020 206d 696e 3a20 7479  .        min: ty
+0002dd20: 7069 6e67 2e4f 7074 696f 6e61 6c5b 696e  ping.Optional[in
+0002dd30: 745d 203d 204e 6f6e 652c 0a20 2020 2020  t] = None,.     
+0002dd40: 2020 206d 6178 3a20 7479 7069 6e67 2e4f     max: typing.O
+0002dd50: 7074 696f 6e61 6c5b 696e 745d 203d 204e  ptional[int] = N
+0002dd60: 6f6e 652c 0a20 2020 2020 2020 202a 2c0a  one,.        *,.
+0002dd70: 2020 2020 2020 2020 616c 6c6f 775f 7472          allow_tr
+0002dd80: 6169 6c69 6e67 5f64 656c 696d 3a20 626f  ailing_delim: bo
+0002dd90: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
+0002dda0: 293a 0a20 2020 2020 2020 2022 2222 4865  ):.        """He
+0002ddb0: 6c70 6572 2074 6f20 6465 6669 6e65 2061  lper to define a
+0002ddc0: 2064 656c 696d 6974 6564 206c 6973 7420   delimited list 
+0002ddd0: 6f66 2065 7870 7265 7373 696f 6e73 202d  of expressions -
+0002dde0: 2074 6865 2064 656c 696d 6974 6572 0a20   the delimiter. 
+0002ddf0: 2020 2020 2020 2064 6566 6175 6c74 7320         defaults 
+0002de00: 746f 2027 2c27 2e20 4279 2064 6566 6175  to ','. By defau
+0002de10: 6c74 2c20 7468 6520 6c69 7374 2065 6c65  lt, the list ele
+0002de20: 6d65 6e74 7320 616e 6420 6465 6c69 6d69  ments and delimi
+0002de30: 7465 7273 2063 616e 0a20 2020 2020 2020  ters can.       
+0002de40: 2068 6176 6520 696e 7465 7276 656e 696e   have intervenin
+0002de50: 6720 7768 6974 6573 7061 6365 2c20 616e  g whitespace, an
+0002de60: 6420 636f 6d6d 656e 7473 2c20 6275 7420  d comments, but 
+0002de70: 7468 6973 2063 616e 2062 650a 2020 2020  this can be.    
+0002de80: 2020 2020 6f76 6572 7269 6464 656e 2062      overridden b
+0002de90: 7920 7061 7373 696e 6720 6060 636f 6d62  y passing ``comb
+0002dea0: 696e 653d 5472 7565 6060 2069 6e20 7468  ine=True`` in th
+0002deb0: 6520 636f 6e73 7472 7563 746f 722e 2049  e constructor. I
+0002dec0: 660a 2020 2020 2020 2020 6060 636f 6d62  f.        ``comb
+0002ded0: 696e 6560 6020 6973 2073 6574 2074 6f20  ine`` is set to 
+0002dee0: 6060 5472 7565 6060 2c20 7468 6520 6d61  ``True``, the ma
+0002def0: 7463 6869 6e67 2074 6f6b 656e 7320 6172  tching tokens ar
+0002df00: 650a 2020 2020 2020 2020 7265 7475 726e  e.        return
+0002df10: 6564 2061 7320 6120 7369 6e67 6c65 2074  ed as a single t
+0002df20: 6f6b 656e 2073 7472 696e 672c 2077 6974  oken string, wit
+0002df30: 6820 7468 6520 6465 6c69 6d69 7465 7273  h the delimiters
+0002df40: 2069 6e63 6c75 6465 643b 0a20 2020 2020   included;.     
+0002df50: 2020 206f 7468 6572 7769 7365 2c20 7468     otherwise, th
+0002df60: 6520 6d61 7463 6869 6e67 2074 6f6b 656e  e matching token
+0002df70: 7320 6172 6520 7265 7475 726e 6564 2061  s are returned a
+0002df80: 7320 6120 6c69 7374 206f 6620 746f 6b65  s a list of toke
+0002df90: 6e73 2c0a 2020 2020 2020 2020 7769 7468  ns,.        with
+0002dfa0: 2074 6865 2064 656c 696d 6974 6572 7320   the delimiters 
+0002dfb0: 7375 7070 7265 7373 6564 2e0a 0a20 2020  suppressed...   
+0002dfc0: 2020 2020 2049 6620 6060 616c 6c6f 775f       If ``allow_
+0002dfd0: 7472 6169 6c69 6e67 5f64 656c 696d 6060  trailing_delim``
+0002dfe0: 2069 7320 7365 7420 746f 2054 7275 652c   is set to True,
+0002dff0: 2074 6865 6e20 7468 6520 6c69 7374 206d   then the list m
+0002e000: 6179 2065 6e64 2077 6974 680a 2020 2020  ay end with.    
+0002e010: 2020 2020 6120 6465 6c69 6d69 7465 722e      a delimiter.
+0002e020: 0a0a 2020 2020 2020 2020 4578 616d 706c  ..        Exampl
+0002e030: 653a 3a0a 0a20 2020 2020 2020 2020 2020  e::..           
+0002e040: 2044 656c 696d 6974 6564 4c69 7374 2857   DelimitedList(W
+0002e050: 6f72 6428 616c 7068 6173 2929 2e70 6172  ord(alphas)).par
+0002e060: 7365 5f73 7472 696e 6728 2261 612c 6262  se_string("aa,bb
+0002e070: 2c63 6322 2920 2320 2d3e 205b 2761 6127  ,cc") # -> ['aa'
+0002e080: 2c20 2762 6227 2c20 2763 6327 5d0a 2020  , 'bb', 'cc'].  
+0002e090: 2020 2020 2020 2020 2020 4465 6c69 6d69            Delimi
+0002e0a0: 7465 644c 6973 7428 576f 7264 2868 6578  tedList(Word(hex
+0002e0b0: 6e75 6d73 292c 2064 656c 696d 3d27 3a27  nums), delim=':'
+0002e0c0: 2c20 636f 6d62 696e 653d 5472 7565 292e  , combine=True).
+0002e0d0: 7061 7273 655f 7374 7269 6e67 2822 4141  parse_string("AA
+0002e0e0: 3a42 423a 4343 3a44 443a 4545 2229 2023  :BB:CC:DD:EE") #
+0002e0f0: 202d 3e20 5b27 4141 3a42 423a 4343 3a44   -> ['AA:BB:CC:D
+0002e100: 443a 4545 275d 0a20 2020 2020 2020 2022  D:EE'].        "
+0002e110: 2222 0a20 2020 2020 2020 2069 6620 6973  "".        if is
+0002e120: 696e 7374 616e 6365 2865 7870 722c 2073  instance(expr, s
+0002e130: 7472 5f74 7970 6529 3a0a 2020 2020 2020  tr_type):.      
+0002e140: 2020 2020 2020 6578 7072 203d 2050 6172        expr = Par
+0002e150: 7365 7245 6c65 6d65 6e74 2e5f 6c69 7465  serElement._lite
+0002e160: 7261 6c53 7472 696e 6743 6c61 7373 2865  ralStringClass(e
+0002e170: 7870 7229 0a20 2020 2020 2020 2065 7870  xpr).        exp
+0002e180: 7220 3d20 7479 7069 6e67 2e63 6173 7428  r = typing.cast(
+0002e190: 5061 7273 6572 456c 656d 656e 742c 2065  ParserElement, e
+0002e1a0: 7870 7229 0a0a 2020 2020 2020 2020 6966  xpr)..        if
+0002e1b0: 206d 696e 2069 7320 6e6f 7420 4e6f 6e65   min is not None
+0002e1c0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+0002e1d0: 206d 696e 203c 2031 3a0a 2020 2020 2020   min < 1:.      
+0002e1e0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0002e1f0: 5661 6c75 6545 7272 6f72 2822 6d69 6e20  ValueError("min 
+0002e200: 6d75 7374 2062 6520 6772 6561 7465 7220  must be greater 
+0002e210: 7468 616e 2030 2229 0a20 2020 2020 2020  than 0").       
+0002e220: 2069 6620 6d61 7820 6973 206e 6f74 204e   if max is not N
+0002e230: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0002e240: 2069 6620 6d69 6e20 6973 206e 6f74 204e   if min is not N
+0002e250: 6f6e 6520 616e 6420 6d61 7820 3c20 6d69  one and max < mi
+0002e260: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
+0002e270: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
+0002e280: 726f 7228 226d 6178 206d 7573 7420 6265  ror("max must be
+0002e290: 2067 7265 6174 6572 2074 6861 6e2c 206f   greater than, o
+0002e2a0: 7220 6571 7561 6c20 746f 206d 696e 2229  r equal to min")
+0002e2b0: 0a0a 2020 2020 2020 2020 7365 6c66 2e63  ..        self.c
+0002e2c0: 6f6e 7465 6e74 203d 2065 7870 720a 2020  ontent = expr.  
+0002e2d0: 2020 2020 2020 7365 6c66 2e72 6177 5f64        self.raw_d
+0002e2e0: 656c 696d 203d 2073 7472 2864 656c 696d  elim = str(delim
+0002e2f0: 290a 2020 2020 2020 2020 7365 6c66 2e64  ).        self.d
+0002e300: 656c 696d 203d 2064 656c 696d 0a20 2020  elim = delim.   
+0002e310: 2020 2020 2073 656c 662e 636f 6d62 696e       self.combin
+0002e320: 6520 3d20 636f 6d62 696e 650a 2020 2020  e = combine.    
+0002e330: 2020 2020 6966 206e 6f74 2063 6f6d 6269      if not combi
+0002e340: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+0002e350: 7365 6c66 2e64 656c 696d 203d 2053 7570  self.delim = Sup
+0002e360: 7072 6573 7328 6465 6c69 6d29 0a20 2020  press(delim).   
+0002e370: 2020 2020 2073 656c 662e 6d69 6e20 3d20       self.min = 
+0002e380: 6d69 6e20 6f72 2031 0a20 2020 2020 2020  min or 1.       
+0002e390: 2073 656c 662e 6d61 7820 3d20 6d61 780a   self.max = max.
+0002e3a0: 2020 2020 2020 2020 7365 6c66 2e61 6c6c          self.all
+0002e3b0: 6f77 5f74 7261 696c 696e 675f 6465 6c69  ow_trailing_deli
+0002e3c0: 6d20 3d20 616c 6c6f 775f 7472 6169 6c69  m = allow_traili
+0002e3d0: 6e67 5f64 656c 696d 0a0a 2020 2020 2020  ng_delim..      
+0002e3e0: 2020 6465 6c69 6d5f 6c69 7374 5f65 7870    delim_list_exp
+0002e3f0: 7220 3d20 7365 6c66 2e63 6f6e 7465 6e74  r = self.content
+0002e400: 202b 2028 7365 6c66 2e64 656c 696d 202b   + (self.delim +
+0002e410: 2073 656c 662e 636f 6e74 656e 7429 202a   self.content) *
+0002e420: 2028 0a20 2020 2020 2020 2020 2020 2073   (.            s
+0002e430: 656c 662e 6d69 6e20 2d20 312c 0a20 2020  elf.min - 1,.   
+0002e440: 2020 2020 2020 2020 204e 6f6e 6520 6966           None if
+0002e450: 2073 656c 662e 6d61 7820 6973 204e 6f6e   self.max is Non
+0002e460: 6520 656c 7365 2073 656c 662e 6d61 7820  e else self.max 
+0002e470: 2d20 312c 0a20 2020 2020 2020 2029 0a20  - 1,.        ). 
+0002e480: 2020 2020 2020 2069 6620 7365 6c66 2e61         if self.a
+0002e490: 6c6c 6f77 5f74 7261 696c 696e 675f 6465  llow_trailing_de
+0002e4a0: 6c69 6d3a 0a20 2020 2020 2020 2020 2020  lim:.           
+0002e4b0: 2064 656c 696d 5f6c 6973 745f 6578 7072   delim_list_expr
+0002e4c0: 202b 3d20 4f70 7428 7365 6c66 2e64 656c   += Opt(self.del
+0002e4d0: 696d 290a 0a20 2020 2020 2020 2069 6620  im)..        if 
+0002e4e0: 7365 6c66 2e63 6f6d 6269 6e65 3a0a 2020  self.combine:.  
+0002e4f0: 2020 2020 2020 2020 2020 6465 6c69 6d5f            delim_
+0002e500: 6c69 7374 5f65 7870 7220 3d20 436f 6d62  list_expr = Comb
+0002e510: 696e 6528 6465 6c69 6d5f 6c69 7374 5f65  ine(delim_list_e
+0002e520: 7870 7229 0a0a 2020 2020 2020 2020 7375  xpr)..        su
+0002e530: 7065 7228 292e 5f5f 696e 6974 5f5f 2864  per().__init__(d
+0002e540: 656c 696d 5f6c 6973 745f 6578 7072 2c20  elim_list_expr, 
+0002e550: 7361 7665 6c69 7374 3d54 7275 6529 0a0a  savelist=True)..
+0002e560: 2020 2020 6465 6620 5f67 656e 6572 6174      def _generat
+0002e570: 6544 6566 6175 6c74 4e61 6d65 2873 656c  eDefaultName(sel
+0002e580: 6629 202d 3e20 7374 723a 0a20 2020 2020  f) -> str:.     
+0002e590: 2020 2072 6574 7572 6e20 227b 307d 205b     return "{0} [
+0002e5a0: 7b31 7d20 7b30 7d5d 2e2e 2e22 2e66 6f72  {1} {0}]...".for
+0002e5b0: 6d61 7428 7365 6c66 2e63 6f6e 7465 6e74  mat(self.content
+0002e5c0: 2e73 7472 6561 6d6c 696e 6528 292c 2073  .streamline(), s
+0002e5d0: 656c 662e 7261 775f 6465 6c69 6d29 0a0a  elf.raw_delim)..
+0002e5e0: 0a63 6c61 7373 205f 4e75 6c6c 546f 6b65  .class _NullToke
+0002e5f0: 6e3a 0a20 2020 2064 6566 205f 5f62 6f6f  n:.    def __boo
+0002e600: 6c5f 5f28 7365 6c66 293a 0a20 2020 2020  l__(self):.     
+0002e610: 2020 2072 6574 7572 6e20 4661 6c73 650a     return False.
+0002e620: 0a20 2020 2064 6566 205f 5f73 7472 5f5f  .    def __str__
+0002e630: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+0002e640: 7265 7475 726e 2022 220a 0a0a 636c 6173  return ""...clas
+0002e650: 7320 4f70 7428 5061 7273 6545 6c65 6d65  s Opt(ParseEleme
+0002e660: 6e74 456e 6861 6e63 6529 3a0a 2020 2020  ntEnhance):.    
+0002e670: 2222 220a 2020 2020 4f70 7469 6f6e 616c  """.    Optional
+0002e680: 206d 6174 6368 696e 6720 6f66 2074 6865   matching of the
+0002e690: 2067 6976 656e 2065 7870 7265 7373 696f   given expressio
+0002e6a0: 6e2e 0a0a 2020 2020 5061 7261 6d65 7465  n...    Paramete
+0002e6b0: 7273 3a0a 0a20 2020 202d 2060 6065 7870  rs:..    - ``exp
+0002e6c0: 7260 6020 2d20 6578 7072 6573 7369 6f6e  r`` - expression
+0002e6d0: 2074 6861 7420 6d75 7374 206d 6174 6368   that must match
+0002e6e0: 207a 6572 6f20 6f72 206d 6f72 6520 7469   zero or more ti
+0002e6f0: 6d65 730a 2020 2020 2d20 6060 6465 6661  mes.    - ``defa
+0002e700: 756c 7460 6020 286f 7074 696f 6e61 6c29  ult`` (optional)
+0002e710: 202d 2076 616c 7565 2074 6f20 6265 2072   - value to be r
+0002e720: 6574 7572 6e65 6420 6966 2074 6865 206f  eturned if the o
+0002e730: 7074 696f 6e61 6c20 6578 7072 6573 7369  ptional expressi
+0002e740: 6f6e 2069 7320 6e6f 7420 666f 756e 642e  on is not found.
+0002e750: 0a0a 2020 2020 4578 616d 706c 653a 3a0a  ..    Example::.
+0002e760: 0a20 2020 2020 2020 2023 2055 5320 706f  .        # US po
+0002e770: 7374 616c 2063 6f64 6520 6361 6e20 6265  stal code can be
+0002e780: 2061 2035 2d64 6967 6974 207a 6970 2c20   a 5-digit zip, 
+0002e790: 706c 7573 206f 7074 696f 6e61 6c20 342d  plus optional 4-
+0002e7a0: 6469 6769 7420 7175 616c 6966 6965 720a  digit qualifier.
+0002e7b0: 2020 2020 2020 2020 7a69 7020 3d20 436f          zip = Co
+0002e7c0: 6d62 696e 6528 576f 7264 286e 756d 732c  mbine(Word(nums,
+0002e7d0: 2065 7861 6374 3d35 2920 2b20 4f70 7428   exact=5) + Opt(
+0002e7e0: 272d 2720 2b20 576f 7264 286e 756d 732c  '-' + Word(nums,
+0002e7f0: 2065 7861 6374 3d34 2929 290a 2020 2020   exact=4))).    
+0002e800: 2020 2020 7a69 702e 7275 6e5f 7465 7374      zip.run_test
+0002e810: 7328 2727 270a 2020 2020 2020 2020 2020  s('''.          
+0002e820: 2020 2320 7472 6164 6974 696f 6e61 6c20    # traditional 
+0002e830: 5a49 5020 636f 6465 0a20 2020 2020 2020  ZIP code.       
+0002e840: 2020 2020 2031 3233 3435 0a0a 2020 2020       12345..    
+0002e850: 2020 2020 2020 2020 2320 5a49 502b 3420          # ZIP+4 
+0002e860: 666f 726d 0a20 2020 2020 2020 2020 2020  form.           
+0002e870: 2031 3231 3031 2d30 3030 310a 0a20 2020   12101-0001..   
+0002e880: 2020 2020 2020 2020 2023 2069 6e76 616c           # inval
+0002e890: 6964 205a 4950 0a20 2020 2020 2020 2020  id ZIP.         
+0002e8a0: 2020 2039 3837 3635 2d0a 2020 2020 2020     98765-.      
+0002e8b0: 2020 2020 2020 2727 2729 0a0a 2020 2020        ''')..    
+0002e8c0: 7072 696e 7473 3a3a 0a0a 2020 2020 2020  prints::..      
+0002e8d0: 2020 2320 7472 6164 6974 696f 6e61 6c20    # traditional 
+0002e8e0: 5a49 5020 636f 6465 0a20 2020 2020 2020  ZIP code.       
+0002e8f0: 2031 3233 3435 0a20 2020 2020 2020 205b   12345.        [
+0002e900: 2731 3233 3435 275d 0a0a 2020 2020 2020  '12345']..      
+0002e910: 2020 2320 5a49 502b 3420 666f 726d 0a20    # ZIP+4 form. 
+0002e920: 2020 2020 2020 2031 3231 3031 2d30 3030         12101-000
+0002e930: 310a 2020 2020 2020 2020 5b27 3132 3130  1.        ['1210
+0002e940: 312d 3030 3031 275d 0a0a 2020 2020 2020  1-0001']..      
+0002e950: 2020 2320 696e 7661 6c69 6420 5a49 500a    # invalid ZIP.
+0002e960: 2020 2020 2020 2020 3938 3736 352d 0a20          98765-. 
+0002e970: 2020 2020 2020 2020 2020 2020 5e0a 2020              ^.  
+0002e980: 2020 2020 2020 4641 494c 3a20 4578 7065        FAIL: Expe
+0002e990: 6374 6564 2065 6e64 206f 6620 7465 7874  cted end of text
+0002e9a0: 2028 6174 2063 6861 7220 3529 2c20 286c   (at char 5), (l
+0002e9b0: 696e 653a 312c 2063 6f6c 3a36 290a 2020  ine:1, col:6).  
+0002e9c0: 2020 2222 220a 0a20 2020 205f 5f6f 7074    """..    __opt
+0002e9d0: 696f 6e61 6c4e 6f74 4d61 7463 6865 6420  ionalNotMatched 
+0002e9e0: 3d20 5f4e 756c 6c54 6f6b 656e 2829 0a0a  = _NullToken()..
+0002e9f0: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+0002ea00: 280a 2020 2020 2020 2020 7365 6c66 2c20  (.        self, 
+0002ea10: 6578 7072 3a20 556e 696f 6e5b 5061 7273  expr: Union[Pars
+0002ea20: 6572 456c 656d 656e 742c 2073 7472 5d2c  erElement, str],
+0002ea30: 2064 6566 6175 6c74 3a20 416e 7920 3d20   default: Any = 
+0002ea40: 5f5f 6f70 7469 6f6e 616c 4e6f 744d 6174  __optionalNotMat
+0002ea50: 6368 6564 0a20 2020 2029 3a0a 2020 2020  ched.    ):.    
+0002ea60: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+0002ea70: 6974 5f5f 2865 7870 722c 2073 6176 656c  it__(expr, savel
+0002ea80: 6973 743d 4661 6c73 6529 0a20 2020 2020  ist=False).     
+0002ea90: 2020 2073 656c 662e 7361 7665 4173 4c69     self.saveAsLi
+0002eaa0: 7374 203d 2073 656c 662e 6578 7072 2e73  st = self.expr.s
+0002eab0: 6176 6541 734c 6973 740a 2020 2020 2020  aveAsList.      
+0002eac0: 2020 7365 6c66 2e64 6566 6175 6c74 5661    self.defaultVa
+0002ead0: 6c75 6520 3d20 6465 6661 756c 740a 2020  lue = default.  
+0002eae0: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
+0002eaf0: 7475 726e 456d 7074 7920 3d20 5472 7565  turnEmpty = True
+0002eb00: 0a0a 2020 2020 6465 6620 7061 7273 6549  ..    def parseI
+0002eb10: 6d70 6c28 7365 6c66 2c20 696e 7374 7269  mpl(self, instri
+0002eb20: 6e67 2c20 6c6f 632c 2064 6f41 6374 696f  ng, loc, doActio
+0002eb30: 6e73 3d54 7275 6529 3a0a 2020 2020 2020  ns=True):.      
+0002eb40: 2020 7365 6c66 5f65 7870 7220 3d20 7365    self_expr = se
+0002eb50: 6c66 2e65 7870 720a 2020 2020 2020 2020  lf.expr.        
+0002eb60: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+0002eb70: 206c 6f63 2c20 746f 6b65 6e73 203d 2073   loc, tokens = s
+0002eb80: 656c 665f 6578 7072 2e5f 7061 7273 6528  elf_expr._parse(
+0002eb90: 696e 7374 7269 6e67 2c20 6c6f 632c 2064  instring, loc, d
+0002eba0: 6f41 6374 696f 6e73 2c20 6361 6c6c 5072  oActions, callPr
+0002ebb0: 6550 6172 7365 3d46 616c 7365 290a 2020  eParse=False).  
+0002ebc0: 2020 2020 2020 6578 6365 7074 2028 5061        except (Pa
+0002ebd0: 7273 6545 7863 6570 7469 6f6e 2c20 496e  rseException, In
+0002ebe0: 6465 7845 7272 6f72 293a 0a20 2020 2020  dexError):.     
+0002ebf0: 2020 2020 2020 2064 6566 6175 6c74 5f76         default_v
+0002ec00: 616c 7565 203d 2073 656c 662e 6465 6661  alue = self.defa
+0002ec10: 756c 7456 616c 7565 0a20 2020 2020 2020  ultValue.       
+0002ec20: 2020 2020 2069 6620 6465 6661 756c 745f       if default_
+0002ec30: 7661 6c75 6520 6973 206e 6f74 2073 656c  value is not sel
+0002ec40: 662e 5f5f 6f70 7469 6f6e 616c 4e6f 744d  f.__optionalNotM
+0002ec50: 6174 6368 6564 3a0a 2020 2020 2020 2020  atched:.        
+0002ec60: 2020 2020 2020 2020 6966 2073 656c 665f          if self_
+0002ec70: 6578 7072 2e72 6573 756c 7473 4e61 6d65  expr.resultsName
+0002ec80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0002ec90: 2020 2020 2020 746f 6b65 6e73 203d 2050        tokens = P
+0002eca0: 6172 7365 5265 7375 6c74 7328 5b64 6566  arseResults([def
+0002ecb0: 6175 6c74 5f76 616c 7565 5d29 0a20 2020  ault_value]).   
+0002ecc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ecd0: 2074 6f6b 656e 735b 7365 6c66 5f65 7870   tokens[self_exp
+0002ece0: 722e 7265 7375 6c74 734e 616d 655d 203d  r.resultsName] =
+0002ecf0: 2064 6566 6175 6c74 5f76 616c 7565 0a20   default_value. 
+0002ed00: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0002ed10: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0002ed20: 2020 2020 2020 2020 2074 6f6b 656e 7320           tokens 
+0002ed30: 3d20 5b64 6566 6175 6c74 5f76 616c 7565  = [default_value
+0002ed40: 5d0a 2020 2020 2020 2020 2020 2020 656c  ].            el
+0002ed50: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0002ed60: 2020 2020 746f 6b65 6e73 203d 205b 5d0a      tokens = [].
+0002ed70: 2020 2020 2020 2020 7265 7475 726e 206c          return l
+0002ed80: 6f63 2c20 746f 6b65 6e73 0a0a 2020 2020  oc, tokens..    
+0002ed90: 6465 6620 5f67 656e 6572 6174 6544 6566  def _generateDef
+0002eda0: 6175 6c74 4e61 6d65 2873 656c 6629 202d  aultName(self) -
+0002edb0: 3e20 7374 723a 0a20 2020 2020 2020 2069  > str:.        i
+0002edc0: 6e6e 6572 203d 2073 7472 2873 656c 662e  nner = str(self.
+0002edd0: 6578 7072 290a 2020 2020 2020 2020 2320  expr).        # 
+0002ede0: 7374 7269 7020 6f66 6620 7265 6475 6e64  strip off redund
+0002edf0: 616e 7420 696e 6e65 7220 7b7d 2773 0a20  ant inner {}'s. 
+0002ee00: 2020 2020 2020 2077 6869 6c65 206c 656e         while len
+0002ee10: 2869 6e6e 6572 2920 3e20 3120 616e 6420  (inner) > 1 and 
+0002ee20: 696e 6e65 725b 3020 3a3a 206c 656e 2869  inner[0 :: len(i
+0002ee30: 6e6e 6572 2920 2d20 315d 203d 3d20 227b  nner) - 1] == "{
+0002ee40: 7d22 3a0a 2020 2020 2020 2020 2020 2020  }":.            
+0002ee50: 696e 6e65 7220 3d20 696e 6e65 725b 313a  inner = inner[1:
+0002ee60: 2d31 5d0a 2020 2020 2020 2020 7265 7475  -1].        retu
+0002ee70: 726e 2022 5b22 202b 2069 6e6e 6572 202b  rn "[" + inner +
+0002ee80: 2022 5d22 0a0a 0a4f 7074 696f 6e61 6c20   "]"...Optional 
+0002ee90: 3d20 4f70 740a 0a0a 636c 6173 7320 536b  = Opt...class Sk
+0002eea0: 6970 546f 2850 6172 7365 456c 656d 656e  ipTo(ParseElemen
+0002eeb0: 7445 6e68 616e 6365 293a 0a20 2020 2022  tEnhance):.    "
+0002eec0: 2222 0a20 2020 2054 6f6b 656e 2066 6f72  "".    Token for
+0002eed0: 2073 6b69 7070 696e 6720 6f76 6572 2061   skipping over a
+0002eee0: 6c6c 2075 6e64 6566 696e 6564 2074 6578  ll undefined tex
+0002eef0: 7420 756e 7469 6c20 7468 6520 6d61 7463  t until the matc
+0002ef00: 6865 640a 2020 2020 6578 7072 6573 7369  hed.    expressi
+0002ef10: 6f6e 2069 7320 666f 756e 642e 0a0a 2020  on is found...  
+0002ef20: 2020 5061 7261 6d65 7465 7273 3a0a 0a20    Parameters:.. 
+0002ef30: 2020 202d 2060 6065 7870 7260 6020 2d20     - ``expr`` - 
+0002ef40: 7461 7267 6574 2065 7870 7265 7373 696f  target expressio
+0002ef50: 6e20 6d61 726b 696e 6720 7468 6520 656e  n marking the en
+0002ef60: 6420 6f66 2074 6865 2064 6174 6120 746f  d of the data to
+0002ef70: 2062 6520 736b 6970 7065 640a 2020 2020   be skipped.    
+0002ef80: 2d20 6060 696e 636c 7564 6560 6020 2d20  - ``include`` - 
+0002ef90: 6966 2060 6054 7275 6560 602c 2074 6865  if ``True``, the
+0002efa0: 2074 6172 6765 7420 6578 7072 6573 7369   target expressi
+0002efb0: 6f6e 2069 7320 616c 736f 2070 6172 7365  on is also parse
+0002efc0: 640a 2020 2020 2020 2874 6865 2073 6b69  d.      (the ski
+0002efd0: 7070 6564 2074 6578 7420 616e 6420 7461  pped text and ta
+0002efe0: 7267 6574 2065 7870 7265 7373 696f 6e20  rget expression 
+0002eff0: 6172 6520 7265 7475 726e 6564 2061 7320  are returned as 
+0002f000: 6120 322d 656c 656d 656e 740a 2020 2020  a 2-element.    
+0002f010: 2020 6c69 7374 2920 2864 6566 6175 6c74    list) (default
+0002f020: 3d20 6060 4661 6c73 6560 6029 2e0a 2020  = ``False``)..  
+0002f030: 2020 2d20 6060 6967 6e6f 7265 6060 202d    - ``ignore`` -
+0002f040: 2028 6465 6661 756c 743d 2060 604e 6f6e   (default= ``Non
+0002f050: 6560 6029 2075 7365 6420 746f 2064 6566  e``) used to def
+0002f060: 696e 6520 6772 616d 6d61 7273 2028 7479  ine grammars (ty
+0002f070: 7069 6361 6c6c 7920 7175 6f74 6564 2073  pically quoted s
+0002f080: 7472 696e 6773 2061 6e64 0a20 2020 2020  trings and.     
+0002f090: 2063 6f6d 6d65 6e74 7329 2074 6861 7420   comments) that 
+0002f0a0: 6d69 6768 7420 636f 6e74 6169 6e20 6661  might contain fa
+0002f0b0: 6c73 6520 6d61 7463 6865 7320 746f 2074  lse matches to t
+0002f0c0: 6865 2074 6172 6765 7420 6578 7072 6573  he target expres
+0002f0d0: 7369 6f6e 0a20 2020 202d 2060 6066 6169  sion.    - ``fai
+0002f0e0: 6c5f 6f6e 6060 202d 2028 6465 6661 756c  l_on`` - (defaul
+0002f0f0: 743d 2060 604e 6f6e 6560 6029 2064 6566  t= ``None``) def
+0002f100: 696e 6520 6578 7072 6573 7369 6f6e 7320  ine expressions 
+0002f110: 7468 6174 2061 7265 206e 6f74 2061 6c6c  that are not all
+0002f120: 6f77 6564 2074 6f20 6265 0a20 2020 2020  owed to be.     
+0002f130: 2069 6e63 6c75 6465 6420 696e 2074 6865   included in the
+0002f140: 2073 6b69 7070 6564 2074 6573 743b 2069   skipped test; i
+0002f150: 6620 666f 756e 6420 6265 666f 7265 2074  f found before t
+0002f160: 6865 2074 6172 6765 7420 6578 7072 6573  he target expres
+0002f170: 7369 6f6e 2069 7320 666f 756e 642c 0a20  sion is found,. 
+0002f180: 2020 2020 2074 6865 203a 636c 6173 733a       the :class:
+0002f190: 6053 6b69 7054 6f60 2069 7320 6e6f 7420  `SkipTo` is not 
+0002f1a0: 6120 6d61 7463 680a 0a20 2020 2045 7861  a match..    Exa
+0002f1b0: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
+0002f1c0: 7265 706f 7274 203d 2027 2727 0a20 2020  report = '''.   
+0002f1d0: 2020 2020 2020 2020 204f 7574 7374 616e           Outstan
+0002f1e0: 6469 6e67 2049 7373 7565 7320 5265 706f  ding Issues Repo
+0002f1f0: 7274 202d 2031 204a 616e 2032 3030 300a  rt - 1 Jan 2000.
+0002f200: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002f210: 2320 7c20 5365 7665 7269 7479 207c 2044  # | Severity | D
+0002f220: 6573 6372 6970 7469 6f6e 2020 2020 2020  escription      
+0002f230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f240: 2020 2020 2020 2020 207c 2020 4461 7973           |  Days
+0002f250: 204f 7065 6e0a 2020 2020 2020 2020 2020   Open.          
+0002f260: 2020 2d2d 2d2d 2d2b 2d2d 2d2d 2d2d 2d2d    -----+--------
+0002f270: 2d2d 2b2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  --+-------------
+0002f280: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0002f290: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2b2d  --------------+-
+0002f2a0: 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020 2020  ----------.     
+0002f2b0: 2020 2020 2020 2020 3130 3120 7c20 4372          101 | Cr
+0002f2c0: 6974 6963 616c 207c 2049 6e74 6572 6d69  itical | Intermi
+0002f2d0: 7474 656e 7420 7379 7374 656d 2063 7261  ttent system cra
+0002f2e0: 7368 2020 2020 2020 2020 2020 2020 2020  sh              
+0002f2f0: 2020 207c 2020 2020 2020 2020 2020 360a     |          6.
+0002f300: 2020 2020 2020 2020 2020 2020 2020 3934                94
+0002f310: 207c 2043 6f73 6d65 7469 6320 7c20 5370   | Cosmetic | Sp
+0002f320: 656c 6c69 6e67 2065 7272 6f72 206f 6e20  elling error on 
+0002f330: 4c6f 6769 6e20 2827 6c6f 677c 6e27 2920  Login ('log|n') 
+0002f340: 2020 2020 2020 2020 7c20 2020 2020 2020          |       
+0002f350: 2020 3134 0a20 2020 2020 2020 2020 2020    14.           
+0002f360: 2020 2037 3920 7c20 4d69 6e6f 7220 2020     79 | Minor   
+0002f370: 207c 2053 7973 7465 6d20 736c 6f77 2077   | System slow w
+0002f380: 6865 6e20 7275 6e6e 696e 6720 746f 6f20  hen running too 
+0002f390: 6d61 6e79 2072 6570 6f72 7473 207c 2020  many reports |  
+0002f3a0: 2020 2020 2020 2034 370a 2020 2020 2020         47.      
+0002f3b0: 2020 2020 2020 2727 270a 2020 2020 2020        '''.      
+0002f3c0: 2020 696e 7465 6765 7220 3d20 576f 7264    integer = Word
+0002f3d0: 286e 756d 7329 0a20 2020 2020 2020 2053  (nums).        S
+0002f3e0: 4550 203d 2053 7570 7072 6573 7328 277c  EP = Suppress('|
+0002f3f0: 2729 0a20 2020 2020 2020 2023 2075 7365  ').        # use
+0002f400: 2053 6b69 7054 6f20 746f 2073 696d 706c   SkipTo to simpl
+0002f410: 7920 6d61 7463 6820 6576 6572 7974 6869  y match everythi
+0002f420: 6e67 2075 7020 756e 7469 6c20 7468 6520  ng up until the 
+0002f430: 6e65 7874 2053 4550 0a20 2020 2020 2020  next SEP.       
+0002f440: 2023 202d 2069 676e 6f72 6520 7175 6f74   # - ignore quot
+0002f450: 6564 2073 7472 696e 6773 2c20 736f 2074  ed strings, so t
+0002f460: 6861 7420 6120 277c 2720 6368 6172 6163  hat a '|' charac
+0002f470: 7465 7220 696e 7369 6465 2061 2071 756f  ter inside a quo
+0002f480: 7465 6420 7374 7269 6e67 2064 6f65 7320  ted string does 
+0002f490: 6e6f 7420 6d61 7463 680a 2020 2020 2020  not match.      
+0002f4a0: 2020 2320 2d20 7061 7273 6520 6163 7469    # - parse acti
+0002f4b0: 6f6e 2077 696c 6c20 6361 6c6c 2074 6f6b  on will call tok
+0002f4c0: 656e 2e73 7472 6970 2829 2066 6f72 2065  en.strip() for e
+0002f4d0: 6163 6820 6d61 7463 6865 6420 746f 6b65  ach matched toke
+0002f4e0: 6e2c 2069 2e65 2e2c 2074 6865 2064 6573  n, i.e., the des
+0002f4f0: 6372 6970 7469 6f6e 2062 6f64 790a 2020  cription body.  
+0002f500: 2020 2020 2020 7374 7269 6e67 5f64 6174        string_dat
+0002f510: 6120 3d20 536b 6970 546f 2853 4550 2c20  a = SkipTo(SEP, 
+0002f520: 6967 6e6f 7265 3d71 756f 7465 645f 7374  ignore=quoted_st
+0002f530: 7269 6e67 290a 2020 2020 2020 2020 7374  ring).        st
+0002f540: 7269 6e67 5f64 6174 612e 7365 745f 7061  ring_data.set_pa
+0002f550: 7273 655f 6163 7469 6f6e 2874 6f6b 656e  rse_action(token
+0002f560: 5f6d 6170 2873 7472 2e73 7472 6970 2929  _map(str.strip))
+0002f570: 0a20 2020 2020 2020 2074 6963 6b65 745f  .        ticket_
+0002f580: 6578 7072 203d 2028 696e 7465 6765 7228  expr = (integer(
+0002f590: 2269 7373 7565 5f6e 756d 2229 202b 2053  "issue_num") + S
+0002f5a0: 4550 0a20 2020 2020 2020 2020 2020 2020  EP.             
+0002f5b0: 2020 2020 2020 2020 202b 2073 7472 696e           + strin
+0002f5c0: 675f 6461 7461 2822 7365 7622 2920 2b20  g_data("sev") + 
+0002f5d0: 5345 500a 2020 2020 2020 2020 2020 2020  SEP.            
+0002f5e0: 2020 2020 2020 2020 2020 2b20 7374 7269            + stri
+0002f5f0: 6e67 5f64 6174 6128 2264 6573 6322 2920  ng_data("desc") 
+0002f600: 2b20 5345 500a 2020 2020 2020 2020 2020  + SEP.          
+0002f610: 2020 2020 2020 2020 2020 2020 2b20 696e              + in
+0002f620: 7465 6765 7228 2264 6179 735f 6f70 656e  teger("days_open
+0002f630: 2229 290a 0a20 2020 2020 2020 2066 6f72  "))..        for
+0002f640: 2074 6b74 2069 6e20 7469 636b 6574 5f65   tkt in ticket_e
+0002f650: 7870 722e 7365 6172 6368 5f73 7472 696e  xpr.search_strin
+0002f660: 6728 7265 706f 7274 293a 0a20 2020 2020  g(report):.     
+0002f670: 2020 2020 2020 2070 7269 6e74 2074 6b74         print tkt
+0002f680: 2e64 756d 7028 290a 0a20 2020 2070 7269  .dump()..    pri
+0002f690: 6e74 733a 3a0a 0a20 2020 2020 2020 205b  nts::..        [
+0002f6a0: 2731 3031 272c 2027 4372 6974 6963 616c  '101', 'Critical
+0002f6b0: 272c 2027 496e 7465 726d 6974 7465 6e74  ', 'Intermittent
+0002f6c0: 2073 7973 7465 6d20 6372 6173 6827 2c20   system crash', 
+0002f6d0: 2736 275d 0a20 2020 2020 2020 202d 2064  '6'].        - d
+0002f6e0: 6179 735f 6f70 656e 3a20 2736 270a 2020  ays_open: '6'.  
+0002f6f0: 2020 2020 2020 2d20 6465 7363 3a20 2749        - desc: 'I
+0002f700: 6e74 6572 6d69 7474 656e 7420 7379 7374  ntermittent syst
+0002f710: 656d 2063 7261 7368 270a 2020 2020 2020  em crash'.      
+0002f720: 2020 2d20 6973 7375 655f 6e75 6d3a 2027    - issue_num: '
+0002f730: 3130 3127 0a20 2020 2020 2020 202d 2073  101'.        - s
+0002f740: 6576 3a20 2743 7269 7469 6361 6c27 0a20  ev: 'Critical'. 
+0002f750: 2020 2020 2020 205b 2739 3427 2c20 2743         ['94', 'C
+0002f760: 6f73 6d65 7469 6327 2c20 2253 7065 6c6c  osmetic', "Spell
+0002f770: 696e 6720 6572 726f 7220 6f6e 204c 6f67  ing error on Log
+0002f780: 696e 2028 276c 6f67 7c6e 2729 222c 2027  in ('log|n')", '
+0002f790: 3134 275d 0a20 2020 2020 2020 202d 2064  14'].        - d
+0002f7a0: 6179 735f 6f70 656e 3a20 2731 3427 0a20  ays_open: '14'. 
+0002f7b0: 2020 2020 2020 202d 2064 6573 633a 2022         - desc: "
+0002f7c0: 5370 656c 6c69 6e67 2065 7272 6f72 206f  Spelling error o
+0002f7d0: 6e20 4c6f 6769 6e20 2827 6c6f 677c 6e27  n Login ('log|n'
+0002f7e0: 2922 0a20 2020 2020 2020 202d 2069 7373  )".        - iss
+0002f7f0: 7565 5f6e 756d 3a20 2739 3427 0a20 2020  ue_num: '94'.   
+0002f800: 2020 2020 202d 2073 6576 3a20 2743 6f73       - sev: 'Cos
+0002f810: 6d65 7469 6327 0a20 2020 2020 2020 205b  metic'.        [
+0002f820: 2737 3927 2c20 274d 696e 6f72 272c 2027  '79', 'Minor', '
+0002f830: 5379 7374 656d 2073 6c6f 7720 7768 656e  System slow when
+0002f840: 2072 756e 6e69 6e67 2074 6f6f 206d 616e   running too man
+0002f850: 7920 7265 706f 7274 7327 2c20 2734 3727  y reports', '47'
+0002f860: 5d0a 2020 2020 2020 2020 2d20 6461 7973  ].        - days
+0002f870: 5f6f 7065 6e3a 2027 3437 270a 2020 2020  _open: '47'.    
+0002f880: 2020 2020 2d20 6465 7363 3a20 2753 7973      - desc: 'Sys
+0002f890: 7465 6d20 736c 6f77 2077 6865 6e20 7275  tem slow when ru
+0002f8a0: 6e6e 696e 6720 746f 6f20 6d61 6e79 2072  nning too many r
+0002f8b0: 6570 6f72 7473 270a 2020 2020 2020 2020  eports'.        
+0002f8c0: 2d20 6973 7375 655f 6e75 6d3a 2027 3739  - issue_num: '79
+0002f8d0: 270a 2020 2020 2020 2020 2d20 7365 763a  '.        - sev:
+0002f8e0: 2027 4d69 6e6f 7227 0a20 2020 2022 2222   'Minor'.    """
+0002f8f0: 0a0a 2020 2020 6465 6620 5f5f 696e 6974  ..    def __init
+0002f900: 5f5f 280a 2020 2020 2020 2020 7365 6c66  __(.        self
+0002f910: 2c0a 2020 2020 2020 2020 6f74 6865 723a  ,.        other:
+0002f920: 2055 6e69 6f6e 5b50 6172 7365 7245 6c65   Union[ParserEle
+0002f930: 6d65 6e74 2c20 7374 725d 2c0a 2020 2020  ment, str],.    
+0002f940: 2020 2020 696e 636c 7564 653a 2062 6f6f      include: boo
+0002f950: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
+0002f960: 2020 2069 676e 6f72 653a 2074 7970 696e     ignore: typin
+0002f970: 672e 4f70 7469 6f6e 616c 5b55 6e69 6f6e  g.Optional[Union
+0002f980: 5b50 6172 7365 7245 6c65 6d65 6e74 2c20  [ParserElement, 
+0002f990: 7374 725d 5d20 3d20 4e6f 6e65 2c0a 2020  str]] = None,.  
+0002f9a0: 2020 2020 2020 6661 696c 5f6f 6e3a 2074        fail_on: t
+0002f9b0: 7970 696e 672e 4f70 7469 6f6e 616c 5b55  yping.Optional[U
+0002f9c0: 6e69 6f6e 5b50 6172 7365 7245 6c65 6d65  nion[ParserEleme
+0002f9d0: 6e74 2c20 7374 725d 5d20 3d20 4e6f 6e65  nt, str]] = None
+0002f9e0: 2c0a 2020 2020 2020 2020 2a2c 0a20 2020  ,.        *,.   
+0002f9f0: 2020 2020 2066 6169 6c4f 6e3a 2074 7970       failOn: typ
+0002fa00: 696e 672e 4f70 7469 6f6e 616c 5b55 6e69  ing.Optional[Uni
+0002fa10: 6f6e 5b50 6172 7365 7245 6c65 6d65 6e74  on[ParserElement
+0002fa20: 2c20 7374 725d 5d20 3d20 4e6f 6e65 2c0a  , str]] = None,.
+0002fa30: 2020 2020 293a 0a20 2020 2020 2020 2073      ):.        s
+0002fa40: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
+0002fa50: 6f74 6865 7229 0a20 2020 2020 2020 2066  other).        f
+0002fa60: 6169 6c4f 6e20 3d20 6661 696c 4f6e 206f  ailOn = failOn o
+0002fa70: 7220 6661 696c 5f6f 6e0a 2020 2020 2020  r fail_on.      
+0002fa80: 2020 6966 2069 676e 6f72 6520 6973 206e    if ignore is n
+0002fa90: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+0002faa0: 2020 2020 2073 656c 662e 6967 6e6f 7265       self.ignore
+0002fab0: 2869 676e 6f72 6529 0a20 2020 2020 2020  (ignore).       
+0002fac0: 2073 656c 662e 6d61 7952 6574 7572 6e45   self.mayReturnE
+0002fad0: 6d70 7479 203d 2054 7275 650a 2020 2020  mpty = True.    
+0002fae0: 2020 2020 7365 6c66 2e6d 6179 496e 6465      self.mayInde
+0002faf0: 7845 7272 6f72 203d 2046 616c 7365 0a20  xError = False. 
+0002fb00: 2020 2020 2020 2073 656c 662e 696e 636c         self.incl
+0002fb10: 7564 654d 6174 6368 203d 2069 6e63 6c75  udeMatch = inclu
+0002fb20: 6465 0a20 2020 2020 2020 2073 656c 662e  de.        self.
+0002fb30: 7361 7665 4173 4c69 7374 203d 2046 616c  saveAsList = Fal
+0002fb40: 7365 0a20 2020 2020 2020 2069 6620 6973  se.        if is
+0002fb50: 696e 7374 616e 6365 2866 6169 6c4f 6e2c  instance(failOn,
+0002fb60: 2073 7472 5f74 7970 6529 3a0a 2020 2020   str_type):.    
+0002fb70: 2020 2020 2020 2020 7365 6c66 2e66 6169          self.fai
+0002fb80: 6c4f 6e20 3d20 7365 6c66 2e5f 6c69 7465  lOn = self._lite
+0002fb90: 7261 6c53 7472 696e 6743 6c61 7373 2866  ralStringClass(f
+0002fba0: 6169 6c4f 6e29 0a20 2020 2020 2020 2065  ailOn).        e
+0002fbb0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0002fbc0: 2073 656c 662e 6661 696c 4f6e 203d 2066   self.failOn = f
+0002fbd0: 6169 6c4f 6e0a 2020 2020 2020 2020 7365  ailOn.        se
+0002fbe0: 6c66 2e65 7272 6d73 6720 3d20 224e 6f20  lf.errmsg = "No 
+0002fbf0: 6d61 7463 6820 666f 756e 6420 666f 7220  match found for 
+0002fc00: 2220 2b20 7374 7228 7365 6c66 2e65 7870  " + str(self.exp
+0002fc10: 7229 0a0a 2020 2020 6465 6620 7061 7273  r)..    def pars
+0002fc20: 6549 6d70 6c28 7365 6c66 2c20 696e 7374  eImpl(self, inst
+0002fc30: 7269 6e67 2c20 6c6f 632c 2064 6f41 6374  ring, loc, doAct
+0002fc40: 696f 6e73 3d54 7275 6529 3a0a 2020 2020  ions=True):.    
+0002fc50: 2020 2020 7374 6172 746c 6f63 203d 206c      startloc = l
+0002fc60: 6f63 0a20 2020 2020 2020 2069 6e73 7472  oc.        instr
+0002fc70: 6c65 6e20 3d20 6c65 6e28 696e 7374 7269  len = len(instri
+0002fc80: 6e67 290a 2020 2020 2020 2020 7365 6c66  ng).        self
+0002fc90: 5f65 7870 725f 7061 7273 6520 3d20 7365  _expr_parse = se
+0002fca0: 6c66 2e65 7870 722e 5f70 6172 7365 0a20  lf.expr._parse. 
+0002fcb0: 2020 2020 2020 2073 656c 665f 6661 696c         self_fail
+0002fcc0: 4f6e 5f63 616e 5061 7273 654e 6578 7420  On_canParseNext 
+0002fcd0: 3d20 280a 2020 2020 2020 2020 2020 2020  = (.            
+0002fce0: 7365 6c66 2e66 6169 6c4f 6e2e 6361 6e50  self.failOn.canP
+0002fcf0: 6172 7365 4e65 7874 2069 6620 7365 6c66  arseNext if self
+0002fd00: 2e66 6169 6c4f 6e20 6973 206e 6f74 204e  .failOn is not N
+0002fd10: 6f6e 6520 656c 7365 204e 6f6e 650a 2020  one else None.  
+0002fd20: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+0002fd30: 7365 6c66 5f70 7265 5061 7273 6520 3d20  self_preParse = 
+0002fd40: 7365 6c66 2e70 7265 5061 7273 6520 6966  self.preParse if
+0002fd50: 2073 656c 662e 6361 6c6c 5072 6570 6172   self.callPrepar
+0002fd60: 7365 2065 6c73 6520 4e6f 6e65 0a0a 2020  se else None..  
+0002fd70: 2020 2020 2020 746d 706c 6f63 203d 206c        tmploc = l
+0002fd80: 6f63 0a20 2020 2020 2020 2077 6869 6c65  oc.        while
+0002fd90: 2074 6d70 6c6f 6320 3c3d 2069 6e73 7472   tmploc <= instr
+0002fda0: 6c65 6e3a 0a20 2020 2020 2020 2020 2020  len:.           
+0002fdb0: 2069 6620 7365 6c66 5f66 6169 6c4f 6e5f   if self_failOn_
+0002fdc0: 6361 6e50 6172 7365 4e65 7874 2069 7320  canParseNext is 
+0002fdd0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+0002fde0: 2020 2020 2020 2020 2020 2320 6272 6561            # brea
+0002fdf0: 6b20 6966 2066 6169 6c4f 6e20 6578 7072  k if failOn expr
+0002fe00: 6573 7369 6f6e 206d 6174 6368 6573 0a20  ession matches. 
+0002fe10: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0002fe20: 6620 7365 6c66 5f66 6169 6c4f 6e5f 6361  f self_failOn_ca
+0002fe30: 6e50 6172 7365 4e65 7874 2869 6e73 7472  nParseNext(instr
+0002fe40: 696e 672c 2074 6d70 6c6f 6329 3a0a 2020  ing, tmploc):.  
+0002fe50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002fe60: 2020 6272 6561 6b0a 0a20 2020 2020 2020    break..       
+0002fe70: 2020 2020 2069 6620 7365 6c66 5f70 7265       if self_pre
+0002fe80: 5061 7273 6520 6973 206e 6f74 204e 6f6e  Parse is not Non
+0002fe90: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0002fea0: 2020 2023 2073 6b69 7020 6772 616d 6d61     # skip gramma
+0002feb0: 722d 6967 6e6f 7265 6420 6578 7072 6573  r-ignored expres
+0002fec0: 7369 6f6e 730a 2020 2020 2020 2020 2020  sions.          
+0002fed0: 2020 2020 2020 746d 706c 6f63 203d 2073        tmploc = s
+0002fee0: 656c 665f 7072 6550 6172 7365 2869 6e73  elf_preParse(ins
+0002fef0: 7472 696e 672c 2074 6d70 6c6f 6329 0a0a  tring, tmploc)..
+0002ff00: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+0002ff10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002ff20: 2073 656c 665f 6578 7072 5f70 6172 7365   self_expr_parse
+0002ff30: 2869 6e73 7472 696e 672c 2074 6d70 6c6f  (instring, tmplo
+0002ff40: 632c 2064 6f41 6374 696f 6e73 3d46 616c  c, doActions=Fal
+0002ff50: 7365 2c20 6361 6c6c 5072 6550 6172 7365  se, callPreParse
+0002ff60: 3d46 616c 7365 290a 2020 2020 2020 2020  =False).        
+0002ff70: 2020 2020 6578 6365 7074 2028 5061 7273      except (Pars
+0002ff80: 6545 7863 6570 7469 6f6e 2c20 496e 6465  eException, Inde
+0002ff90: 7845 7272 6f72 293a 0a20 2020 2020 2020  xError):.       
+0002ffa0: 2020 2020 2020 2020 2023 206e 6f20 6d61           # no ma
+0002ffb0: 7463 682c 2061 6476 616e 6365 206c 6f63  tch, advance loc
+0002ffc0: 2069 6e20 7374 7269 6e67 0a20 2020 2020   in string.     
+0002ffd0: 2020 2020 2020 2020 2020 2074 6d70 6c6f             tmplo
+0002ffe0: 6320 2b3d 2031 0a20 2020 2020 2020 2020  c += 1.         
+0002fff0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00030000: 2020 2020 2020 2020 2023 206d 6174 6368           # match
+00030010: 6564 2073 6b69 7074 6f20 6578 7072 2c20  ed skipto expr, 
+00030020: 646f 6e65 0a20 2020 2020 2020 2020 2020  done.           
+00030030: 2020 2020 2062 7265 616b 0a0a 2020 2020       break..    
+00030040: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00030050: 2020 2020 2020 2320 7261 6e20 6f66 6620        # ran off 
+00030060: 7468 6520 656e 6420 6f66 2074 6865 2069  the end of the i
+00030070: 6e70 7574 2073 7472 696e 6720 7769 7468  nput string with
+00030080: 6f75 7420 6d61 7463 6869 6e67 2073 6b69  out matching ski
+00030090: 7074 6f20 6578 7072 2c20 6661 696c 0a20  pto expr, fail. 
+000300a0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+000300b0: 2050 6172 7365 4578 6365 7074 696f 6e28   ParseException(
+000300c0: 696e 7374 7269 6e67 2c20 6c6f 632c 2073  instring, loc, s
+000300d0: 656c 662e 6572 726d 7367 2c20 7365 6c66  elf.errmsg, self
+000300e0: 290a 0a20 2020 2020 2020 2023 2062 7569  )..        # bui
+000300f0: 6c64 2075 7020 7265 7475 726e 2076 616c  ld up return val
+00030100: 7565 730a 2020 2020 2020 2020 6c6f 6320  ues.        loc 
+00030110: 3d20 746d 706c 6f63 0a20 2020 2020 2020  = tmploc.       
+00030120: 2073 6b69 7074 6578 7420 3d20 696e 7374   skiptext = inst
+00030130: 7269 6e67 5b73 7461 7274 6c6f 633a 6c6f  ring[startloc:lo
+00030140: 635d 0a20 2020 2020 2020 2073 6b69 7072  c].        skipr
+00030150: 6573 756c 7420 3d20 5061 7273 6552 6573  esult = ParseRes
+00030160: 756c 7473 2873 6b69 7074 6578 7429 0a0a  ults(skiptext)..
+00030170: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00030180: 696e 636c 7564 654d 6174 6368 3a0a 2020  includeMatch:.  
+00030190: 2020 2020 2020 2020 2020 6c6f 632c 206d            loc, m
+000301a0: 6174 203d 2073 656c 665f 6578 7072 5f70  at = self_expr_p
+000301b0: 6172 7365 2869 6e73 7472 696e 672c 206c  arse(instring, l
+000301c0: 6f63 2c20 646f 4163 7469 6f6e 732c 2063  oc, doActions, c
+000301d0: 616c 6c50 7265 5061 7273 653d 4661 6c73  allPreParse=Fals
+000301e0: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
+000301f0: 6b69 7072 6573 756c 7420 2b3d 206d 6174  kipresult += mat
+00030200: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00030210: 206c 6f63 2c20 736b 6970 7265 7375 6c74   loc, skipresult
+00030220: 0a0a 0a63 6c61 7373 2046 6f72 7761 7264  ...class Forward
+00030230: 2850 6172 7365 456c 656d 656e 7445 6e68  (ParseElementEnh
+00030240: 616e 6365 293a 0a20 2020 2022 2222 0a20  ance):.    """. 
+00030250: 2020 2046 6f72 7761 7264 2064 6563 6c61     Forward decla
+00030260: 7261 7469 6f6e 206f 6620 616e 2065 7870  ration of an exp
+00030270: 7265 7373 696f 6e20 746f 2062 6520 6465  ression to be de
+00030280: 6669 6e65 6420 6c61 7465 7220 2d0a 2020  fined later -.  
+00030290: 2020 7573 6564 2066 6f72 2072 6563 7572    used for recur
+000302a0: 7369 7665 2067 7261 6d6d 6172 732c 2073  sive grammars, s
+000302b0: 7563 6820 6173 2061 6c67 6562 7261 6963  uch as algebraic
+000302c0: 2069 6e66 6978 206e 6f74 6174 696f 6e2e   infix notation.
+000302d0: 0a20 2020 2057 6865 6e20 7468 6520 6578  .    When the ex
+000302e0: 7072 6573 7369 6f6e 2069 7320 6b6e 6f77  pression is know
+000302f0: 6e2c 2069 7420 6973 2061 7373 6967 6e65  n, it is assigne
+00030300: 6420 746f 2074 6865 2060 6046 6f72 7761  d to the ``Forwa
+00030310: 7264 6060 0a20 2020 2076 6172 6961 626c  rd``.    variabl
+00030320: 6520 7573 696e 6720 7468 6520 6060 273c  e using the ``'<
+00030330: 3c27 6060 206f 7065 7261 746f 722e 0a0a  <'`` operator...
+00030340: 2020 2020 4e6f 7465 3a20 7461 6b65 2063      Note: take c
+00030350: 6172 6520 7768 656e 2061 7373 6967 6e69  are when assigni
+00030360: 6e67 2074 6f20 6060 466f 7277 6172 6460  ng to ``Forward`
+00030370: 6020 6e6f 7420 746f 206f 7665 726c 6f6f  ` not to overloo
+00030380: 6b0a 2020 2020 7072 6563 6564 656e 6365  k.    precedence
+00030390: 206f 6620 6f70 6572 6174 6f72 732e 0a0a   of operators...
+000303a0: 2020 2020 5370 6563 6966 6963 616c 6c79      Specifically
+000303b0: 2c20 6060 277c 2760 6020 6861 7320 6120  , ``'|'`` has a 
+000303c0: 6c6f 7765 7220 7072 6563 6564 656e 6365  lower precedence
+000303d0: 2074 6861 6e20 6060 273c 3c27 6060 2c20   than ``'<<'``, 
+000303e0: 736f 2074 6861 743a 3a0a 0a20 2020 2020  so that::..     
+000303f0: 2020 2066 7764 5f65 7870 7220 3c3c 2061     fwd_expr << a
+00030400: 207c 2062 207c 2063 0a0a 2020 2020 7769   | b | c..    wi
+00030410: 6c6c 2061 6374 7561 6c6c 7920 6265 2065  ll actually be e
+00030420: 7661 6c75 6174 6564 2061 733a 3a0a 0a20  valuated as::.. 
+00030430: 2020 2020 2020 2028 6677 645f 6578 7072         (fwd_expr
+00030440: 203c 3c20 6129 207c 2062 207c 2063 0a0a   << a) | b | c..
+00030450: 2020 2020 7468 6572 6562 7920 6c65 6176      thereby leav
+00030460: 696e 6720 6220 616e 6420 6320 6f75 7420  ing b and c out 
+00030470: 6173 2070 6172 7365 6162 6c65 2061 6c74  as parseable alt
+00030480: 6572 6e61 7469 7665 732e 2020 4974 2069  ernatives.  It i
+00030490: 7320 7265 636f 6d6d 656e 6465 6420 7468  s recommended th
+000304a0: 6174 2079 6f75 0a20 2020 2065 7870 6c69  at you.    expli
+000304b0: 6369 746c 7920 6772 6f75 7020 7468 6520  citly group the 
+000304c0: 7661 6c75 6573 2069 6e73 6572 7465 6420  values inserted 
+000304d0: 696e 746f 2074 6865 2060 6046 6f72 7761  into the ``Forwa
+000304e0: 7264 6060 3a3a 0a0a 2020 2020 2020 2020  rd``::..        
+000304f0: 6677 645f 6578 7072 203c 3c20 2861 207c  fwd_expr << (a |
+00030500: 2062 207c 2063 290a 0a20 2020 2043 6f6e   b | c)..    Con
+00030510: 7665 7274 696e 6720 746f 2075 7365 2074  verting to use t
+00030520: 6865 2060 6027 3c3c 3d27 6060 206f 7065  he ``'<<='`` ope
+00030530: 7261 746f 7220 696e 7374 6561 6420 7769  rator instead wi
+00030540: 6c6c 2061 766f 6964 2074 6869 7320 7072  ll avoid this pr
+00030550: 6f62 6c65 6d2e 0a0a 2020 2020 5365 6520  oblem...    See 
+00030560: 3a63 6c61 7373 3a60 5061 7273 6552 6573  :class:`ParseRes
+00030570: 756c 7473 2e70 7072 696e 7460 2066 6f72  ults.pprint` for
+00030580: 2061 6e20 6578 616d 706c 6520 6f66 2061   an example of a
+00030590: 2072 6563 7572 7369 7665 0a20 2020 2070   recursive.    p
+000305a0: 6172 7365 7220 6372 6561 7465 6420 7573  arser created us
+000305b0: 696e 6720 6060 466f 7277 6172 6460 602e  ing ``Forward``.
+000305c0: 0a20 2020 2022 2222 0a0a 2020 2020 6465  .    """..    de
+000305d0: 6620 5f5f 696e 6974 5f5f 2873 656c 662c  f __init__(self,
+000305e0: 206f 7468 6572 3a20 7479 7069 6e67 2e4f   other: typing.O
+000305f0: 7074 696f 6e61 6c5b 556e 696f 6e5b 5061  ptional[Union[Pa
+00030600: 7273 6572 456c 656d 656e 742c 2073 7472  rserElement, str
+00030610: 5d5d 203d 204e 6f6e 6529 3a0a 2020 2020  ]] = None):.    
+00030620: 2020 2020 7365 6c66 2e63 616c 6c65 725f      self.caller_
+00030630: 6672 616d 6520 3d20 7472 6163 6562 6163  frame = tracebac
+00030640: 6b2e 6578 7472 6163 745f 7374 6163 6b28  k.extract_stack(
+00030650: 6c69 6d69 743d 3229 5b30 5d0a 2020 2020  limit=2)[0].    
+00030660: 2020 2020 7375 7065 7228 292e 5f5f 696e      super().__in
+00030670: 6974 5f5f 286f 7468 6572 2c20 7361 7665  it__(other, save
+00030680: 6c69 7374 3d46 616c 7365 2920 2023 2074  list=False)  # t
+00030690: 7970 653a 2069 676e 6f72 655b 6172 672d  ype: ignore[arg-
+000306a0: 7479 7065 5d0a 2020 2020 2020 2020 7365  type].        se
+000306b0: 6c66 2e6c 7368 6966 745f 6c69 6e65 203d  lf.lshift_line =
+000306c0: 204e 6f6e 650a 0a20 2020 2064 6566 205f   None..    def _
+000306d0: 5f6c 7368 6966 745f 5f28 7365 6c66 2c20  _lshift__(self, 
+000306e0: 6f74 6865 7229 202d 3e20 2246 6f72 7761  other) -> "Forwa
+000306f0: 7264 223a 0a20 2020 2020 2020 2069 6620  rd":.        if 
+00030700: 6861 7361 7474 7228 7365 6c66 2c20 2263  hasattr(self, "c
+00030710: 616c 6c65 725f 6672 616d 6522 293a 0a20  aller_frame"):. 
+00030720: 2020 2020 2020 2020 2020 2064 656c 2073             del s
+00030730: 656c 662e 6361 6c6c 6572 5f66 7261 6d65  elf.caller_frame
+00030740: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
+00030750: 7374 616e 6365 286f 7468 6572 2c20 7374  stance(other, st
+00030760: 725f 7479 7065 293a 0a20 2020 2020 2020  r_type):.       
+00030770: 2020 2020 206f 7468 6572 203d 2073 656c       other = sel
+00030780: 662e 5f6c 6974 6572 616c 5374 7269 6e67  f._literalString
+00030790: 436c 6173 7328 6f74 6865 7229 0a0a 2020  Class(other)..  
+000307a0: 2020 2020 2020 6966 206e 6f74 2069 7369        if not isi
+000307b0: 6e73 7461 6e63 6528 6f74 6865 722c 2050  nstance(other, P
+000307c0: 6172 7365 7245 6c65 6d65 6e74 293a 0a20  arserElement):. 
+000307d0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+000307e0: 6e20 4e6f 7449 6d70 6c65 6d65 6e74 6564  n NotImplemented
+000307f0: 0a0a 2020 2020 2020 2020 7365 6c66 2e65  ..        self.e
+00030800: 7870 7220 3d20 6f74 6865 720a 2020 2020  xpr = other.    
+00030810: 2020 2020 7365 6c66 2e73 7472 6561 6d6c      self.streaml
+00030820: 696e 6564 203d 206f 7468 6572 2e73 7472  ined = other.str
+00030830: 6561 6d6c 696e 6564 0a20 2020 2020 2020  eamlined.       
+00030840: 2073 656c 662e 6d61 7949 6e64 6578 4572   self.mayIndexEr
+00030850: 726f 7220 3d20 7365 6c66 2e65 7870 722e  ror = self.expr.
+00030860: 6d61 7949 6e64 6578 4572 726f 720a 2020  mayIndexError.  
+00030870: 2020 2020 2020 7365 6c66 2e6d 6179 5265        self.mayRe
+00030880: 7475 726e 456d 7074 7920 3d20 7365 6c66  turnEmpty = self
+00030890: 2e65 7870 722e 6d61 7952 6574 7572 6e45  .expr.mayReturnE
+000308a0: 6d70 7479 0a20 2020 2020 2020 2073 656c  mpty.        sel
+000308b0: 662e 7365 745f 7768 6974 6573 7061 6365  f.set_whitespace
+000308c0: 5f63 6861 7273 280a 2020 2020 2020 2020  _chars(.        
+000308d0: 2020 2020 7365 6c66 2e65 7870 722e 7768      self.expr.wh
+000308e0: 6974 6543 6861 7273 2c20 636f 7079 5f64  iteChars, copy_d
+000308f0: 6566 6175 6c74 733d 7365 6c66 2e65 7870  efaults=self.exp
+00030900: 722e 636f 7079 4465 6661 756c 7457 6869  r.copyDefaultWhi
+00030910: 7465 4368 6172 730a 2020 2020 2020 2020  teChars.        
+00030920: 290a 2020 2020 2020 2020 7365 6c66 2e73  ).        self.s
+00030930: 6b69 7057 6869 7465 7370 6163 6520 3d20  kipWhitespace = 
+00030940: 7365 6c66 2e65 7870 722e 736b 6970 5768  self.expr.skipWh
+00030950: 6974 6573 7061 6365 0a20 2020 2020 2020  itespace.       
+00030960: 2073 656c 662e 7361 7665 4173 4c69 7374   self.saveAsList
+00030970: 203d 2073 656c 662e 6578 7072 2e73 6176   = self.expr.sav
+00030980: 6541 734c 6973 740a 2020 2020 2020 2020  eAsList.        
+00030990: 7365 6c66 2e69 676e 6f72 6545 7870 7273  self.ignoreExprs
+000309a0: 2e65 7874 656e 6428 7365 6c66 2e65 7870  .extend(self.exp
+000309b0: 722e 6967 6e6f 7265 4578 7072 7329 0a20  r.ignoreExprs). 
+000309c0: 2020 2020 2020 2073 656c 662e 6c73 6869         self.lshi
+000309d0: 6674 5f6c 696e 6520 3d20 7472 6163 6562  ft_line = traceb
+000309e0: 6163 6b2e 6578 7472 6163 745f 7374 6163  ack.extract_stac
+000309f0: 6b28 6c69 6d69 743d 3229 5b2d 325d 2020  k(limit=2)[-2]  
+00030a00: 2320 7479 7065 3a20 6967 6e6f 7265 5b61  # type: ignore[a
+00030a10: 7373 6967 6e6d 656e 745d 0a20 2020 2020  ssignment].     
+00030a20: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
+00030a30: 2020 2020 6465 6620 5f5f 696c 7368 6966      def __ilshif
+00030a40: 745f 5f28 7365 6c66 2c20 6f74 6865 7229  t__(self, other)
+00030a50: 202d 3e20 2246 6f72 7761 7264 223a 0a20   -> "Forward":. 
+00030a60: 2020 2020 2020 2069 6620 6e6f 7420 6973         if not is
+00030a70: 696e 7374 616e 6365 286f 7468 6572 2c20  instance(other, 
+00030a80: 5061 7273 6572 456c 656d 656e 7429 3a0a  ParserElement):.
+00030a90: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00030aa0: 726e 204e 6f74 496d 706c 656d 656e 7465  rn NotImplemente
+00030ab0: 640a 0a20 2020 2020 2020 2072 6574 7572  d..        retur
+00030ac0: 6e20 7365 6c66 203c 3c20 6f74 6865 720a  n self << other.
+00030ad0: 0a20 2020 2064 6566 205f 5f6f 725f 5f28  .    def __or__(
+00030ae0: 7365 6c66 2c20 6f74 6865 7229 202d 3e20  self, other) -> 
+00030af0: 2250 6172 7365 7245 6c65 6d65 6e74 223a  "ParserElement":
+00030b00: 0a20 2020 2020 2020 2063 616c 6c65 725f  .        caller_
+00030b10: 6c69 6e65 203d 2074 7261 6365 6261 636b  line = traceback
+00030b20: 2e65 7874 7261 6374 5f73 7461 636b 286c  .extract_stack(l
+00030b30: 696d 6974 3d32 295b 2d32 5d0a 2020 2020  imit=2)[-2].    
+00030b40: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
+00030b50: 2020 2020 205f 5f64 6961 675f 5f2e 7761       __diag__.wa
+00030b60: 726e 5f6f 6e5f 6d61 7463 685f 6669 7273  rn_on_match_firs
+00030b70: 745f 7769 7468 5f6c 7368 6966 745f 6f70  t_with_lshift_op
+00030b80: 6572 6174 6f72 0a20 2020 2020 2020 2020  erator.         
+00030b90: 2020 2061 6e64 2063 616c 6c65 725f 6c69     and caller_li
+00030ba0: 6e65 203d 3d20 7365 6c66 2e6c 7368 6966  ne == self.lshif
+00030bb0: 745f 6c69 6e65 0a20 2020 2020 2020 2020  t_line.         
+00030bc0: 2020 2061 6e64 2044 6961 676e 6f73 7469     and Diagnosti
+00030bd0: 6373 2e77 6172 6e5f 6f6e 5f6d 6174 6368  cs.warn_on_match
+00030be0: 5f66 6972 7374 5f77 6974 685f 6c73 6869  _first_with_lshi
+00030bf0: 6674 5f6f 7065 7261 746f 720a 2020 2020  ft_operator.    
+00030c00: 2020 2020 2020 2020 6e6f 7420 696e 2073          not in s
+00030c10: 656c 662e 7375 7070 7265 7373 5f77 6172  elf.suppress_war
+00030c20: 6e69 6e67 735f 0a20 2020 2020 2020 2029  nings_.        )
+00030c30: 3a0a 2020 2020 2020 2020 2020 2020 7761  :.            wa
+00030c40: 726e 696e 6773 2e77 6172 6e28 0a20 2020  rnings.warn(.   
+00030c50: 2020 2020 2020 2020 2020 2020 2022 7573               "us
+00030c60: 696e 6720 273c 3c27 206f 7065 7261 746f  ing '<<' operato
+00030c70: 7220 7769 7468 2027 7c27 2069 7320 7072  r with '|' is pr
+00030c80: 6f62 6162 6c79 2061 6e20 6572 726f 722c  obably an error,
+00030c90: 2075 7365 2027 3c3c 3d27 222c 0a20 2020   use '<<='",.   
+00030ca0: 2020 2020 2020 2020 2020 2020 2073 7461               sta
+00030cb0: 636b 6c65 7665 6c3d 322c 0a20 2020 2020  cklevel=2,.     
+00030cc0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00030cd0: 2072 6574 203d 2073 7570 6572 2829 2e5f   ret = super()._
+00030ce0: 5f6f 725f 5f28 6f74 6865 7229 0a20 2020  _or__(other).   
+00030cf0: 2020 2020 2072 6574 7572 6e20 7265 740a       return ret.
+00030d00: 0a20 2020 2064 6566 205f 5f64 656c 5f5f  .    def __del__
+00030d10: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00030d20: 2320 7365 6520 6966 2077 6520 6172 6520  # see if we are 
+00030d30: 6765 7474 696e 6720 6472 6f70 7065 6420  getting dropped 
+00030d40: 6265 6361 7573 6520 6f66 2027 3d27 2072  because of '=' r
+00030d50: 6561 7373 6967 6e6d 656e 7420 6f66 2076  eassignment of v
+00030d60: 6172 2069 6e73 7465 6164 206f 6620 273c  ar instead of '<
+00030d70: 3c3d 2720 6f72 2027 3c3c 270a 2020 2020  <=' or '<<'.    
+00030d80: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
+00030d90: 2020 2020 2073 656c 662e 6578 7072 2069       self.expr i
+00030da0: 7320 4e6f 6e65 0a20 2020 2020 2020 2020  s None.         
+00030db0: 2020 2061 6e64 205f 5f64 6961 675f 5f2e     and __diag__.
+00030dc0: 7761 726e 5f6f 6e5f 6173 7369 676e 6d65  warn_on_assignme
+00030dd0: 6e74 5f74 6f5f 466f 7277 6172 640a 2020  nt_to_Forward.  
+00030de0: 2020 2020 2020 2020 2020 616e 6420 4469            and Di
+00030df0: 6167 6e6f 7374 6963 732e 7761 726e 5f6f  agnostics.warn_o
+00030e00: 6e5f 6173 7369 676e 6d65 6e74 5f74 6f5f  n_assignment_to_
+00030e10: 466f 7277 6172 6420 6e6f 7420 696e 2073  Forward not in s
+00030e20: 656c 662e 7375 7070 7265 7373 5f77 6172  elf.suppress_war
+00030e30: 6e69 6e67 735f 0a20 2020 2020 2020 2029  nings_.        )
+00030e40: 3a0a 2020 2020 2020 2020 2020 2020 7761  :.            wa
+00030e50: 726e 696e 6773 2e77 6172 6e5f 6578 706c  rnings.warn_expl
+00030e60: 6963 6974 280a 2020 2020 2020 2020 2020  icit(.          
+00030e70: 2020 2020 2020 2246 6f72 7761 7264 2064        "Forward d
+00030e80: 6566 696e 6564 2068 6572 6520 6275 7420  efined here but 
+00030e90: 6e6f 2065 7870 7265 7373 696f 6e20 6174  no expression at
+00030ea0: 7461 6368 6564 206c 6174 6572 2075 7369  tached later usi
+00030eb0: 6e67 2027 3c3c 3d27 206f 7220 273c 3c27  ng '<<=' or '<<'
+00030ec0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00030ed0: 2020 2055 7365 7257 6172 6e69 6e67 2c0a     UserWarning,.
+00030ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030ef0: 6669 6c65 6e61 6d65 3d73 656c 662e 6361  filename=self.ca
+00030f00: 6c6c 6572 5f66 7261 6d65 2e66 696c 656e  ller_frame.filen
+00030f10: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
+00030f20: 2020 2020 206c 696e 656e 6f3d 7365 6c66       lineno=self
+00030f30: 2e63 616c 6c65 725f 6672 616d 652e 6c69  .caller_frame.li
+00030f40: 6e65 6e6f 2c0a 2020 2020 2020 2020 2020  neno,.          
+00030f50: 2020 290a 0a20 2020 2064 6566 2070 6172    )..    def par
+00030f60: 7365 496d 706c 2873 656c 662c 2069 6e73  seImpl(self, ins
+00030f70: 7472 696e 672c 206c 6f63 2c20 646f 4163  tring, loc, doAc
+00030f80: 7469 6f6e 733d 5472 7565 293a 0a20 2020  tions=True):.   
+00030f90: 2020 2020 2069 6620 280a 2020 2020 2020       if (.      
+00030fa0: 2020 2020 2020 7365 6c66 2e65 7870 7220        self.expr 
+00030fb0: 6973 204e 6f6e 650a 2020 2020 2020 2020  is None.        
+00030fc0: 2020 2020 616e 6420 5f5f 6469 6167 5f5f      and __diag__
+00030fd0: 2e77 6172 6e5f 6f6e 5f70 6172 7365 5f75  .warn_on_parse_u
+00030fe0: 7369 6e67 5f65 6d70 7479 5f46 6f72 7761  sing_empty_Forwa
+00030ff0: 7264 0a20 2020 2020 2020 2020 2020 2061  rd.            a
+00031000: 6e64 2044 6961 676e 6f73 7469 6373 2e77  nd Diagnostics.w
+00031010: 6172 6e5f 6f6e 5f70 6172 7365 5f75 7369  arn_on_parse_usi
+00031020: 6e67 5f65 6d70 7479 5f46 6f72 7761 7264  ng_empty_Forward
+00031030: 0a20 2020 2020 2020 2020 2020 206e 6f74  .            not
+00031040: 2069 6e20 7365 6c66 2e73 7570 7072 6573   in self.suppres
+00031050: 735f 7761 726e 696e 6773 5f0a 2020 2020  s_warnings_.    
+00031060: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
+00031070: 2020 2023 2077 616c 6b20 7374 6163 6b20     # walk stack 
+00031080: 756e 7469 6c20 7061 7273 655f 7374 7269  until parse_stri
+00031090: 6e67 2c20 7363 616e 5f73 7472 696e 672c  ng, scan_string,
+000310a0: 2073 6561 7263 685f 7374 7269 6e67 2c20   search_string, 
+000310b0: 6f72 2074 7261 6e73 666f 726d 5f73 7472  or transform_str
+000310c0: 696e 6720 6973 2066 6f75 6e64 0a20 2020  ing is found.   
+000310d0: 2020 2020 2020 2020 2070 6172 7365 5f66           parse_f
+000310e0: 6e73 203d 2028 0a20 2020 2020 2020 2020  ns = (.         
+000310f0: 2020 2020 2020 2022 7061 7273 655f 7374         "parse_st
+00031100: 7269 6e67 222c 0a20 2020 2020 2020 2020  ring",.         
+00031110: 2020 2020 2020 2022 7363 616e 5f73 7472         "scan_str
+00031120: 696e 6722 2c0a 2020 2020 2020 2020 2020  ing",.          
+00031130: 2020 2020 2020 2273 6561 7263 685f 7374        "search_st
+00031140: 7269 6e67 222c 0a20 2020 2020 2020 2020  ring",.         
+00031150: 2020 2020 2020 2022 7472 616e 7366 6f72         "transfor
+00031160: 6d5f 7374 7269 6e67 222c 0a20 2020 2020  m_string",.     
+00031170: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00031180: 2020 2020 2074 6220 3d20 7472 6163 6562       tb = traceb
+00031190: 6163 6b2e 6578 7472 6163 745f 7374 6163  ack.extract_stac
+000311a0: 6b28 6c69 6d69 743d 3230 3029 0a20 2020  k(limit=200).   
+000311b0: 2020 2020 2020 2020 2066 6f72 2069 2c20           for i, 
+000311c0: 6672 6d20 696e 2065 6e75 6d65 7261 7465  frm in enumerate
+000311d0: 2872 6576 6572 7365 6428 7462 292c 2073  (reversed(tb), s
+000311e0: 7461 7274 3d31 293a 0a20 2020 2020 2020  tart=1):.       
+000311f0: 2020 2020 2020 2020 2069 6620 6672 6d2e           if frm.
+00031200: 6e61 6d65 2069 6e20 7061 7273 655f 666e  name in parse_fn
+00031210: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00031220: 2020 2020 2020 2073 7461 636b 6c65 7665         stackleve
+00031230: 6c20 3d20 6920 2b20 310a 2020 2020 2020  l = i + 1.      
+00031240: 2020 2020 2020 2020 2020 2020 2020 6272                br
+00031250: 6561 6b0a 2020 2020 2020 2020 2020 2020  eak.            
+00031260: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00031270: 2020 2020 2020 7374 6163 6b6c 6576 656c        stacklevel
+00031280: 203d 2032 0a20 2020 2020 2020 2020 2020   = 2.           
+00031290: 2077 6172 6e69 6e67 732e 7761 726e 280a   warnings.warn(.
+000312a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000312b0: 2246 6f72 7761 7264 2065 7870 7265 7373  "Forward express
+000312c0: 696f 6e20 7761 7320 6e65 7665 7220 6173  ion was never as
+000312d0: 7369 676e 6564 2061 2076 616c 7565 2c20  signed a value, 
+000312e0: 7769 6c6c 206e 6f74 2070 6172 7365 2061  will not parse a
+000312f0: 6e79 2069 6e70 7574 222c 0a20 2020 2020  ny input",.     
+00031300: 2020 2020 2020 2020 2020 2073 7461 636b             stack
+00031310: 6c65 7665 6c3d 7374 6163 6b6c 6576 656c  level=stacklevel
+00031320: 2c0a 2020 2020 2020 2020 2020 2020 290a  ,.            ).
+00031330: 2020 2020 2020 2020 6966 206e 6f74 2050          if not P
+00031340: 6172 7365 7245 6c65 6d65 6e74 2e5f 6c65  arserElement._le
+00031350: 6674 5f72 6563 7572 7369 6f6e 5f65 6e61  ft_recursion_ena
+00031360: 626c 6564 3a0a 2020 2020 2020 2020 2020  bled:.          
+00031370: 2020 7265 7475 726e 2073 7570 6572 2829    return super()
+00031380: 2e70 6172 7365 496d 706c 2869 6e73 7472  .parseImpl(instr
+00031390: 696e 672c 206c 6f63 2c20 646f 4163 7469  ing, loc, doActi
+000313a0: 6f6e 7329 0a20 2020 2020 2020 2023 2023  ons).        # #
+000313b0: 2320 426f 756e 6465 6420 5265 6375 7273  # Bounded Recurs
+000313c0: 696f 6e20 616c 676f 7269 7468 6d20 2323  ion algorithm ##
+000313d0: 0a20 2020 2020 2020 2023 2052 6563 7572  .        # Recur
+000313e0: 7369 6f6e 206f 6e6c 7920 6e65 6564 7320  sion only needs 
+000313f0: 746f 2062 6520 7072 6f63 6573 7365 6420  to be processed 
+00031400: 6174 2060 6046 6f72 7761 7264 6060 2065  at ``Forward`` e
+00031410: 6c65 6d65 6e74 732c 2073 696e 6365 2074  lements, since t
+00031420: 6865 7920 6172 650a 2020 2020 2020 2020  hey are.        
+00031430: 2320 7468 6520 6f6e 6c79 206f 6e65 7320  # the only ones 
+00031440: 7468 6174 2063 616e 2061 6374 7561 6c6c  that can actuall
+00031450: 7920 7265 6665 7220 746f 2074 6865 6d73  y refer to thems
+00031460: 656c 7665 732e 2054 6865 2067 656e 6572  elves. The gener
+00031470: 616c 2069 6465 6120 6973 0a20 2020 2020  al idea is.     
+00031480: 2020 2023 2074 6f20 6861 6e64 6c65 2072     # to handle r
+00031490: 6563 7572 7369 6f6e 2073 7465 7077 6973  ecursion stepwis
+000314a0: 653a 2057 6520 7374 6172 7420 6174 206e  e: We start at n
+000314b0: 6f20 7265 6375 7273 696f 6e2c 2074 6865  o recursion, the
+000314c0: 6e20 7265 6375 7273 6520 6f6e 6365 2c0a  n recurse once,.
+000314d0: 2020 2020 2020 2020 2320 7265 6375 7273          # recurs
+000314e0: 6520 7477 6963 652c 202e 2e2e 2c20 756e  e twice, ..., un
+000314f0: 7469 6c20 6d6f 7265 2072 6563 7572 7369  til more recursi
+00031500: 6f6e 206f 6666 6572 7320 6e6f 2062 656e  on offers no ben
+00031510: 6566 6974 2028 7765 2068 6974 2074 6865  efit (we hit the
+00031520: 2062 6f75 6e64 292e 0a20 2020 2020 2020   bound)..       
+00031530: 2023 0a20 2020 2020 2020 2023 2054 6865   #.        # The
+00031540: 2022 7472 6963 6b22 2068 6572 6520 6973   "trick" here is
+00031550: 2074 6861 7420 6561 6368 2060 6046 6f72   that each ``For
+00031560: 7761 7264 6060 2067 6574 7320 6576 616c  ward`` gets eval
+00031570: 7561 7465 6420 696e 2074 776f 2063 6f6e  uated in two con
+00031580: 7465 7874 730a 2020 2020 2020 2020 2320  texts.        # 
+00031590: 2d20 746f 202a 6d61 7463 682a 2061 2073  - to *match* a s
+000315a0: 7065 6369 6669 6320 7265 6375 7273 696f  pecific recursio
+000315b0: 6e20 6c65 7665 6c2c 2061 6e64 0a20 2020  n level, and.   
+000315c0: 2020 2020 2023 202d 2074 6f20 2a73 6561       # - to *sea
+000315d0: 7263 682a 2074 6865 2062 6f75 6e64 6564  rch* the bounded
+000315e0: 2072 6563 7572 7369 6f6e 206c 6576 656c   recursion level
+000315f0: 0a20 2020 2020 2020 2023 2061 6e64 2074  .        # and t
+00031600: 6865 2074 776f 2072 756e 2063 6f6e 6375  he two run concu
+00031610: 7272 656e 746c 792e 2054 6865 202a 7365  rrently. The *se
+00031620: 6172 6368 2a20 6d75 7374 202a 6d61 7463  arch* must *matc
+00031630: 682a 2065 6163 6820 7265 6375 7273 696f  h* each recursio
+00031640: 6e20 6c65 7665 6c0a 2020 2020 2020 2020  n level.        
+00031650: 2320 746f 2066 696e 6420 7468 6520 6265  # to find the be
+00031660: 7374 2070 6f73 7369 626c 6520 6d61 7463  st possible matc
+00031670: 682e 2054 6869 7320 6973 2068 616e 646c  h. This is handl
+00031680: 6564 2062 7920 6120 6d65 6d6f 2074 6162  ed by a memo tab
+00031690: 6c65 2c20 7768 6963 680a 2020 2020 2020  le, which.      
+000316a0: 2020 2320 7072 6f76 6964 6573 2074 6865    # provides the
+000316b0: 2070 7265 7669 6f75 7320 6d61 7463 6820   previous match 
+000316c0: 746f 2074 6865 206e 6578 7420 6c65 7665  to the next leve
+000316d0: 6c20 6d61 7463 6820 6174 7465 6d70 742e  l match attempt.
+000316e0: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
+000316f0: 2020 2023 2053 6565 2061 6c73 6f20 224c     # See also "L
+00031700: 6566 7420 5265 6375 7273 696f 6e20 696e  eft Recursion in
+00031710: 2050 6172 7369 6e67 2045 7870 7265 7373   Parsing Express
+00031720: 696f 6e20 4772 616d 6d61 7273 222c 204d  ion Grammars", M
+00031730: 6564 6569 726f 7320 6574 2061 6c2e 0a20  edeiros et al.. 
+00031740: 2020 2020 2020 2023 0a20 2020 2020 2020         #.       
+00031750: 2023 2054 6865 7265 2069 7320 6120 636f   # There is a co
+00031760: 6d70 6c69 6361 7469 6f6e 2073 696e 6365  mplication since
+00031770: 2077 6520 6e6f 7420 6f6e 6c79 202a 7061   we not only *pa
+00031780: 7273 652a 2062 7574 2061 6c73 6f20 2a74  rse* but also *t
+00031790: 7261 6e73 666f 726d 2a20 7669 610a 2020  ransform* via.  
+000317a0: 2020 2020 2020 2320 6163 7469 6f6e 733a        # actions:
+000317b0: 2057 6520 646f 206e 6f74 2077 616e 7420   We do not want 
+000317c0: 746f 2072 756e 2074 6865 2061 6374 696f  to run the actio
+000317d0: 6e73 2074 6f6f 206f 6674 656e 2077 6869  ns too often whi
+000317e0: 6c65 2065 7870 616e 6469 6e67 2e20 5468  le expanding. Th
+000317f0: 7573 2c0a 2020 2020 2020 2020 2320 7765  us,.        # we
+00031800: 2065 7870 616e 6420 7573 696e 6720 6064   expand using `d
+00031810: 6f41 6374 696f 6e73 3d46 616c 7365 6020  oActions=False` 
+00031820: 616e 6420 6f6e 6c79 2072 756e 2060 646f  and only run `do
+00031830: 4163 7469 6f6e 733d 5472 7565 6020 6966  Actions=True` if
+00031840: 2074 6865 206e 6578 740a 2020 2020 2020   the next.      
+00031850: 2020 2320 7265 6375 7273 696f 6e20 6c65    # recursion le
+00031860: 7665 6c20 6973 2061 6363 6570 7461 626c  vel is acceptabl
+00031870: 652e 0a20 2020 2020 2020 2077 6974 6820  e..        with 
+00031880: 5061 7273 6572 456c 656d 656e 742e 7265  ParserElement.re
+00031890: 6375 7273 696f 6e5f 6c6f 636b 3a0a 2020  cursion_lock:.  
+000318a0: 2020 2020 2020 2020 2020 6d65 6d6f 203d            memo =
+000318b0: 2050 6172 7365 7245 6c65 6d65 6e74 2e72   ParserElement.r
+000318c0: 6563 7572 7369 6f6e 5f6d 656d 6f73 0a20  ecursion_memos. 
+000318d0: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
+000318e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000318f0: 2320 7765 2061 7265 2070 6172 7369 6e67  # we are parsing
+00031900: 2061 7420 6120 7370 6563 6966 6963 2072   at a specific r
+00031910: 6563 7572 7369 6f6e 2065 7870 616e 7369  ecursion expansi
+00031920: 6f6e 202d 2075 7365 2069 7420 6173 2d69  on - use it as-i
+00031930: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+00031940: 2020 7072 6576 5f6c 6f63 2c20 7072 6576    prev_loc, prev
+00031950: 5f72 6573 756c 7420 3d20 6d65 6d6f 5b6c  _result = memo[l
+00031960: 6f63 2c20 7365 6c66 2c20 646f 4163 7469  oc, self, doActi
+00031970: 6f6e 735d 0a20 2020 2020 2020 2020 2020  ons].           
+00031980: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
+00031990: 6365 2870 7265 765f 7265 7375 6c74 2c20  ce(prev_result, 
+000319a0: 4578 6365 7074 696f 6e29 3a0a 2020 2020  Exception):.    
+000319b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000319c0: 7261 6973 6520 7072 6576 5f72 6573 756c  raise prev_resul
+000319d0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
+000319e0: 2020 7265 7475 726e 2070 7265 765f 6c6f    return prev_lo
+000319f0: 632c 2070 7265 765f 7265 7375 6c74 2e63  c, prev_result.c
+00031a00: 6f70 7928 290a 2020 2020 2020 2020 2020  opy().          
+00031a10: 2020 6578 6365 7074 204b 6579 4572 726f    except KeyErro
+00031a20: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
+00031a30: 2020 2061 6374 5f6b 6579 203d 2028 6c6f     act_key = (lo
+00031a40: 632c 2073 656c 662c 2054 7275 6529 0a20  c, self, True). 
+00031a50: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00031a60: 6565 6b5f 6b65 7920 3d20 286c 6f63 2c20  eek_key = (loc, 
+00031a70: 7365 6c66 2c20 4661 6c73 6529 0a20 2020  self, False).   
+00031a80: 2020 2020 2020 2020 2020 2020 2023 2077               # w
+00031a90: 6520 6172 6520 7365 6172 6368 696e 6720  e are searching 
+00031aa0: 666f 7220 7468 6520 6265 7374 2072 6563  for the best rec
+00031ab0: 7572 7369 6f6e 2065 7870 616e 7369 6f6e  ursion expansion
+00031ac0: 202d 206b 6565 7020 6f6e 2069 6d70 726f   - keep on impro
+00031ad0: 7669 6e67 0a20 2020 2020 2020 2020 2020  ving.           
+00031ae0: 2020 2020 2023 2062 6f74 6820 6064 6f41       # both `doA
+00031af0: 6374 696f 6e73 6020 6361 7365 7320 6d75  ctions` cases mu
+00031b00: 7374 2062 6520 7472 6163 6b65 6420 7365  st be tracked se
+00031b10: 7061 7261 7465 6c79 2068 6572 6521 0a20  parately here!. 
+00031b20: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00031b30: 7265 765f 6c6f 632c 2070 7265 765f 7065  rev_loc, prev_pe
+00031b40: 656b 203d 206d 656d 6f5b 7065 656b 5f6b  ek = memo[peek_k
+00031b50: 6579 5d20 3d20 280a 2020 2020 2020 2020  ey] = (.        
+00031b60: 2020 2020 2020 2020 2020 2020 6c6f 6320              loc 
+00031b70: 2d20 312c 0a20 2020 2020 2020 2020 2020  - 1,.           
+00031b80: 2020 2020 2020 2020 2050 6172 7365 4578           ParseEx
+00031b90: 6365 7074 696f 6e28 0a20 2020 2020 2020  ception(.       
+00031ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031bb0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+00031bc0: 2246 6f72 7761 7264 2072 6563 7572 7369  "Forward recursi
+00031bd0: 6f6e 2077 6974 686f 7574 2062 6173 6520  on without base 
+00031be0: 6361 7365 222c 2073 656c 660a 2020 2020  case", self.    
+00031bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031c00: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+00031c10: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+00031c20: 2020 2020 2069 6620 646f 4163 7469 6f6e       if doAction
+00031c30: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00031c40: 2020 2020 2020 206d 656d 6f5b 6163 745f         memo[act_
+00031c50: 6b65 795d 203d 206d 656d 6f5b 7065 656b  key] = memo[peek
+00031c60: 5f6b 6579 5d0a 2020 2020 2020 2020 2020  _key].          
+00031c70: 2020 2020 2020 7768 696c 6520 5472 7565        while True
+00031c80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00031c90: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+00031ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031cb0: 2020 206e 6577 5f6c 6f63 2c20 6e65 775f     new_loc, new_
+00031cc0: 7065 656b 203d 2073 7570 6572 2829 2e70  peek = super().p
+00031cd0: 6172 7365 496d 706c 2869 6e73 7472 696e  arseImpl(instrin
+00031ce0: 672c 206c 6f63 2c20 4661 6c73 6529 0a20  g, loc, False). 
 00031cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031d00: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00031d10: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00031d20: 2020 2020 2020 2020 2020 6e65 775f 6c6f            new_lo
-00031d30: 632c 206e 6577 5f70 6565 6b20 3d20 7072  c, new_peek = pr
-00031d40: 6576 5f6c 6f63 2c20 7072 6576 5f70 6565  ev_loc, prev_pee
-00031d50: 6b0a 2020 2020 2020 2020 2020 2020 2020  k.              
-00031d60: 2020 2020 2020 2320 7468 6520 6d61 7463        # the matc
-00031d70: 6820 6469 6420 6e6f 7420 6765 7420 6265  h did not get be
-00031d80: 7474 6572 3a20 7765 2061 7265 2064 6f6e  tter: we are don
-00031d90: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00031da0: 2020 2020 2020 6966 206e 6577 5f6c 6f63        if new_loc
-00031db0: 203c 3d20 7072 6576 5f6c 6f63 3a0a 2020   <= prev_loc:.  
-00031dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031dd0: 2020 2020 2020 6966 2064 6f41 6374 696f        if doActio
-00031de0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-00031df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031e00: 2320 7265 706c 6163 6520 7468 6520 6d61  # replace the ma
-00031e10: 7463 6820 666f 7220 646f 4163 7469 6f6e  tch for doAction
-00031e20: 733d 4661 6c73 6520 6173 2077 656c 6c2c  s=False as well,
-00031e30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00031e40: 2020 2020 2020 2020 2020 2020 2023 2069               # i
-00031e50: 6e20 6361 7365 2074 6865 2061 6374 696f  n case the actio
-00031e60: 6e20 6469 6420 6261 636b 7472 6163 6b0a  n did backtrack.
-00031e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031e80: 2020 2020 2020 2020 2020 2020 7072 6576              prev
-00031e90: 5f6c 6f63 2c20 7072 6576 5f72 6573 756c  _loc, prev_resul
-00031ea0: 7420 3d20 6d65 6d6f 5b70 6565 6b5f 6b65  t = memo[peek_ke
-00031eb0: 795d 203d 206d 656d 6f5b 6163 745f 6b65  y] = memo[act_ke
-00031ec0: 795d 0a20 2020 2020 2020 2020 2020 2020  y].             
-00031ed0: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00031ee0: 656c 206d 656d 6f5b 7065 656b 5f6b 6579  el memo[peek_key
-00031ef0: 5d2c 206d 656d 6f5b 6163 745f 6b65 795d  ], memo[act_key]
-00031f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00031f10: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-00031f20: 7572 6e20 7072 6576 5f6c 6f63 2c20 7072  urn prev_loc, pr
-00031f30: 6576 5f72 6573 756c 742e 636f 7079 2829  ev_result.copy()
-00031f40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00031f50: 2020 2020 2020 2020 2064 656c 206d 656d           del mem
-00031f60: 6f5b 7065 656b 5f6b 6579 5d0a 2020 2020  o[peek_key].    
-00031f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031f80: 2020 2020 7265 7475 726e 2070 7265 765f      return prev_
-00031f90: 6c6f 632c 2070 7265 765f 7065 656b 2e63  loc, prev_peek.c
-00031fa0: 6f70 7928 290a 2020 2020 2020 2020 2020  opy().          
-00031fb0: 2020 2020 2020 2020 2020 2320 7468 6520            # the 
-00031fc0: 6d61 7463 6820 6469 6420 6765 7420 6265  match did get be
-00031fd0: 7474 6572 3a20 7365 6520 6966 2077 6520  tter: see if we 
-00031fe0: 6361 6e20 696d 7072 6f76 6520 6675 7274  can improve furt
-00031ff0: 6865 720a 2020 2020 2020 2020 2020 2020  her.            
-00032000: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00032010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032020: 2020 2020 2020 6966 2064 6f41 6374 696f        if doActio
-00032030: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-00032040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032050: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-00032060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032070: 2020 2020 206d 656d 6f5b 6163 745f 6b65       memo[act_ke
-00032080: 795d 203d 2073 7570 6572 2829 2e70 6172  y] = super().par
-00032090: 7365 496d 706c 2869 6e73 7472 696e 672c  seImpl(instring,
-000320a0: 206c 6f63 2c20 5472 7565 290a 2020 2020   loc, True).    
-000320b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000320c0: 2020 2020 2020 2020 6578 6365 7074 2050          except P
-000320d0: 6172 7365 4578 6365 7074 696f 6e20 6173  arseException as
-000320e0: 2065 3a0a 2020 2020 2020 2020 2020 2020   e:.            
-000320f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032100: 2020 2020 6d65 6d6f 5b70 6565 6b5f 6b65      memo[peek_ke
-00032110: 795d 203d 206d 656d 6f5b 6163 745f 6b65  y] = memo[act_ke
-00032120: 795d 203d 2028 6e65 775f 6c6f 632c 2065  y] = (new_loc, e
-00032130: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00032140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032150: 2020 7261 6973 650a 2020 2020 2020 2020    raise.        
-00032160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032170: 7072 6576 5f6c 6f63 2c20 7072 6576 5f70  prev_loc, prev_p
-00032180: 6565 6b20 3d20 6d65 6d6f 5b70 6565 6b5f  eek = memo[peek_
-00032190: 6b65 795d 203d 206e 6577 5f6c 6f63 2c20  key] = new_loc, 
-000321a0: 6e65 775f 7065 656b 0a0a 2020 2020 6465  new_peek..    de
-000321b0: 6620 6c65 6176 655f 7768 6974 6573 7061  f leave_whitespa
-000321c0: 6365 2873 656c 662c 2072 6563 7572 7369  ce(self, recursi
-000321d0: 7665 3a20 626f 6f6c 203d 2054 7275 6529  ve: bool = True)
-000321e0: 202d 3e20 5061 7273 6572 456c 656d 656e   -> ParserElemen
-000321f0: 743a 0a20 2020 2020 2020 2073 656c 662e  t:.        self.
-00032200: 736b 6970 5768 6974 6573 7061 6365 203d  skipWhitespace =
-00032210: 2046 616c 7365 0a20 2020 2020 2020 2072   False.        r
-00032220: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
-00032230: 6465 6620 6967 6e6f 7265 5f77 6869 7465  def ignore_white
-00032240: 7370 6163 6528 7365 6c66 2c20 7265 6375  space(self, recu
-00032250: 7273 6976 653a 2062 6f6f 6c20 3d20 5472  rsive: bool = Tr
-00032260: 7565 2920 2d3e 2050 6172 7365 7245 6c65  ue) -> ParserEle
-00032270: 6d65 6e74 3a0a 2020 2020 2020 2020 7365  ment:.        se
-00032280: 6c66 2e73 6b69 7057 6869 7465 7370 6163  lf.skipWhitespac
-00032290: 6520 3d20 5472 7565 0a20 2020 2020 2020  e = True.       
-000322a0: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
-000322b0: 2020 6465 6620 7374 7265 616d 6c69 6e65    def streamline
-000322c0: 2873 656c 6629 202d 3e20 5061 7273 6572  (self) -> Parser
-000322d0: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
-000322e0: 2069 6620 6e6f 7420 7365 6c66 2e73 7472   if not self.str
-000322f0: 6561 6d6c 696e 6564 3a0a 2020 2020 2020  eamlined:.      
-00032300: 2020 2020 2020 7365 6c66 2e73 7472 6561        self.strea
-00032310: 6d6c 696e 6564 203d 2054 7275 650a 2020  mlined = True.  
-00032320: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
-00032330: 662e 6578 7072 2069 7320 6e6f 7420 4e6f  f.expr is not No
-00032340: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-00032350: 2020 2020 7365 6c66 2e65 7870 722e 7374      self.expr.st
-00032360: 7265 616d 6c69 6e65 2829 0a20 2020 2020  reamline().     
-00032370: 2020 2072 6574 7572 6e20 7365 6c66 0a0a     return self..
-00032380: 2020 2020 6465 6620 7661 6c69 6461 7465      def validate
-00032390: 2873 656c 662c 2076 616c 6964 6174 6554  (self, validateT
-000323a0: 7261 6365 3d4e 6f6e 6529 202d 3e20 4e6f  race=None) -> No
-000323b0: 6e65 3a0a 2020 2020 2020 2020 7761 726e  ne:.        warn
-000323c0: 696e 6773 2e77 6172 6e28 0a20 2020 2020  ings.warn(.     
-000323d0: 2020 2020 2020 2022 5061 7273 6572 456c         "ParserEl
-000323e0: 656d 656e 742e 7661 6c69 6461 7465 2829  ement.validate()
-000323f0: 2069 7320 6465 7072 6563 6174 6564 2c20   is deprecated, 
-00032400: 616e 6420 7368 6f75 6c64 206e 6f74 2062  and should not b
-00032410: 6520 7573 6564 2074 6f20 6368 6563 6b20  e used to check 
-00032420: 666f 7220 6c65 6674 2072 6563 7572 7369  for left recursi
-00032430: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
-00032440: 2044 6570 7265 6361 7469 6f6e 5761 726e   DeprecationWarn
-00032450: 696e 672c 0a20 2020 2020 2020 2020 2020  ing,.           
-00032460: 2073 7461 636b 6c65 7665 6c3d 322c 0a20   stacklevel=2,. 
-00032470: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00032480: 2069 6620 7661 6c69 6461 7465 5472 6163   if validateTrac
-00032490: 6520 6973 204e 6f6e 653a 0a20 2020 2020  e is None:.     
-000324a0: 2020 2020 2020 2076 616c 6964 6174 6554         validateT
-000324b0: 7261 6365 203d 205b 5d0a 0a20 2020 2020  race = []..     
-000324c0: 2020 2069 6620 7365 6c66 206e 6f74 2069     if self not i
-000324d0: 6e20 7661 6c69 6461 7465 5472 6163 653a  n validateTrace:
-000324e0: 0a20 2020 2020 2020 2020 2020 2074 6d70  .            tmp
-000324f0: 203d 2076 616c 6964 6174 6554 7261 6365   = validateTrace
-00032500: 5b3a 5d20 2b20 5b73 656c 665d 0a20 2020  [:] + [self].   
-00032510: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
-00032520: 2e65 7870 7220 6973 206e 6f74 204e 6f6e  .expr is not Non
-00032530: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00032540: 2020 2073 656c 662e 6578 7072 2e76 616c     self.expr.val
-00032550: 6964 6174 6528 746d 7029 0a20 2020 2020  idate(tmp).     
-00032560: 2020 2073 656c 662e 5f63 6865 636b 5265     self._checkRe
-00032570: 6375 7273 696f 6e28 5b5d 290a 0a20 2020  cursion([])..   
-00032580: 2064 6566 205f 6765 6e65 7261 7465 4465   def _generateDe
-00032590: 6661 756c 744e 616d 6528 7365 6c66 2920  faultName(self) 
-000325a0: 2d3e 2073 7472 3a0a 2020 2020 2020 2020  -> str:.        
-000325b0: 2320 4176 6f69 6420 696e 6669 6e69 7465  # Avoid infinite
-000325c0: 2072 6563 7572 7369 6f6e 2062 7920 7365   recursion by se
-000325d0: 7474 696e 6720 6120 7465 6d70 6f72 6172  tting a temporar
-000325e0: 7920 5f64 6566 6175 6c74 4e61 6d65 0a20  y _defaultName. 
-000325f0: 2020 2020 2020 2073 656c 662e 5f64 6566         self._def
-00032600: 6175 6c74 4e61 6d65 203d 2022 3a20 2e2e  aultName = ": ..
-00032610: 2e22 0a0a 2020 2020 2020 2020 2320 5573  ."..        # Us
-00032620: 6520 7468 6520 7374 7269 6e67 2072 6570  e the string rep
-00032630: 7265 7365 6e74 6174 696f 6e20 6f66 206d  resentation of m
-00032640: 6169 6e20 6578 7072 6573 7369 6f6e 2e0a  ain expression..
-00032650: 2020 2020 2020 2020 7265 7453 7472 696e          retStrin
-00032660: 6720 3d20 222e 2e2e 220a 2020 2020 2020  g = "...".      
-00032670: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-00032680: 2020 2069 6620 7365 6c66 2e65 7870 7220     if self.expr 
-00032690: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-000326a0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-000326b0: 5374 7269 6e67 203d 2073 7472 2873 656c  String = str(sel
-000326c0: 662e 6578 7072 295b 3a31 3030 305d 0a20  f.expr)[:1000]. 
-000326d0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-000326e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000326f0: 2072 6574 5374 7269 6e67 203d 2022 4e6f   retString = "No
-00032700: 6e65 220a 2020 2020 2020 2020 6669 6e61  ne".        fina
-00032710: 6c6c 793a 0a20 2020 2020 2020 2020 2020  lly:.           
-00032720: 2072 6574 7572 6e20 7365 6c66 2e5f 5f63   return self.__c
-00032730: 6c61 7373 5f5f 2e5f 5f6e 616d 655f 5f20  lass__.__name__ 
-00032740: 2b20 223a 2022 202b 2072 6574 5374 7269  + ": " + retStri
-00032750: 6e67 0a0a 2020 2020 6465 6620 636f 7079  ng..    def copy
-00032760: 2873 656c 6629 202d 3e20 5061 7273 6572  (self) -> Parser
-00032770: 456c 656d 656e 743a 0a20 2020 2020 2020  Element:.       
-00032780: 2069 6620 7365 6c66 2e65 7870 7220 6973   if self.expr is
-00032790: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-000327a0: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
-000327b0: 7065 7228 292e 636f 7079 2829 0a20 2020  per().copy().   
-000327c0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-000327d0: 2020 2020 2020 2072 6574 203d 2046 6f72         ret = For
-000327e0: 7761 7264 2829 0a20 2020 2020 2020 2020  ward().         
-000327f0: 2020 2072 6574 203c 3c3d 2073 656c 660a     ret <<= self.
-00032800: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00032810: 726e 2072 6574 0a0a 2020 2020 6465 6620  rn ret..    def 
-00032820: 5f73 6574 5265 7375 6c74 734e 616d 6528  _setResultsName(
-00032830: 7365 6c66 2c20 6e61 6d65 2c20 6c69 7374  self, name, list
-00032840: 5f61 6c6c 5f6d 6174 6368 6573 3d46 616c  _all_matches=Fal
-00032850: 7365 293a 0a20 2020 2020 2020 2069 6620  se):.        if 
-00032860: 280a 2020 2020 2020 2020 2020 2020 5f5f  (.            __
-00032870: 6469 6167 5f5f 2e77 6172 6e5f 6e61 6d65  diag__.warn_name
-00032880: 5f73 6574 5f6f 6e5f 656d 7074 795f 466f  _set_on_empty_Fo
-00032890: 7277 6172 640a 2020 2020 2020 2020 2020  rward.          
-000328a0: 2020 616e 6420 4469 6167 6e6f 7374 6963    and Diagnostic
-000328b0: 732e 7761 726e 5f6e 616d 655f 7365 745f  s.warn_name_set_
-000328c0: 6f6e 5f65 6d70 7479 5f46 6f72 7761 7264  on_empty_Forward
-000328d0: 0a20 2020 2020 2020 2020 2020 206e 6f74  .            not
-000328e0: 2069 6e20 7365 6c66 2e73 7570 7072 6573   in self.suppres
-000328f0: 735f 7761 726e 696e 6773 5f0a 2020 2020  s_warnings_.    
-00032900: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
-00032910: 2020 2069 6620 7365 6c66 2e65 7870 7220     if self.expr 
-00032920: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-00032930: 2020 2020 2020 2020 2077 6172 6e69 6e67           warning
-00032940: 732e 7761 726e 280a 2020 2020 2020 2020  s.warn(.        
-00032950: 2020 2020 2020 2020 2020 2020 227b 7d3a              "{}:
-00032960: 2073 6574 7469 6e67 2072 6573 756c 7473   setting results
-00032970: 206e 616d 6520 7b21 727d 206f 6e20 7b7d   name {!r} on {}
-00032980: 2065 7870 7265 7373 696f 6e20 220a 2020   expression ".  
-00032990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000329a0: 2020 2274 6861 7420 6861 7320 6e6f 2063    "that has no c
-000329b0: 6f6e 7461 696e 6564 2065 7870 7265 7373  ontained express
-000329c0: 696f 6e22 2e66 6f72 6d61 7428 0a20 2020  ion".format(.   
-000329d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000329e0: 2020 2020 2022 7761 726e 5f6e 616d 655f       "warn_name_
-000329f0: 7365 745f 6f6e 5f65 6d70 7479 5f46 6f72  set_on_empty_For
-00032a00: 7761 7264 222c 206e 616d 652c 2074 7970  ward", name, typ
-00032a10: 6528 7365 6c66 292e 5f5f 6e61 6d65 5f5f  e(self).__name__
-00032a20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00032a30: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
-00032a40: 2020 2020 2020 2020 2020 2020 7374 6163              stac
-00032a50: 6b6c 6576 656c 3d33 2c0a 2020 2020 2020  klevel=3,.      
-00032a60: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
-00032a70: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
-00032a80: 7228 292e 5f73 6574 5265 7375 6c74 734e  r()._setResultsN
-00032a90: 616d 6528 6e61 6d65 2c20 6c69 7374 5f61  ame(name, list_a
-00032aa0: 6c6c 5f6d 6174 6368 6573 290a 0a20 2020  ll_matches)..   
-00032ab0: 2023 2043 6f6d 7061 7469 6269 6c69 7479   # Compatibility
-00032ac0: 2073 796e 6f6e 796d 730a 2020 2020 2320   synonyms.    # 
-00032ad0: 666d 743a 206f 6666 0a20 2020 2040 7265  fmt: off.    @re
-00032ae0: 706c 6163 6564 5f62 795f 7065 7038 286c  placed_by_pep8(l
-00032af0: 6561 7665 5f77 6869 7465 7370 6163 6529  eave_whitespace)
-00032b00: 0a20 2020 2064 6566 206c 6561 7665 5768  .    def leaveWh
-00032b10: 6974 6573 7061 6365 2873 656c 6629 3a20  itespace(self): 
-00032b20: 2e2e 2e0a 0a20 2020 2040 7265 706c 6163  .....    @replac
-00032b30: 6564 5f62 795f 7065 7038 2869 676e 6f72  ed_by_pep8(ignor
-00032b40: 655f 7768 6974 6573 7061 6365 290a 2020  e_whitespace).  
-00032b50: 2020 6465 6620 6967 6e6f 7265 5768 6974    def ignoreWhit
-00032b60: 6573 7061 6365 2873 656c 6629 3a20 2e2e  espace(self): ..
-00032b70: 2e0a 2020 2020 2320 666d 743a 206f 6e0a  ..    # fmt: on.
-00032b80: 0a0a 636c 6173 7320 546f 6b65 6e43 6f6e  ..class TokenCon
-00032b90: 7665 7274 6572 2850 6172 7365 456c 656d  verter(ParseElem
-00032ba0: 656e 7445 6e68 616e 6365 293a 0a20 2020  entEnhance):.   
-00032bb0: 2022 2222 0a20 2020 2041 6273 7472 6163   """.    Abstrac
-00032bc0: 7420 7375 6263 6c61 7373 206f 6620 3a63  t subclass of :c
-00032bd0: 6c61 7373 3a60 5061 7273 6545 7870 7265  lass:`ParseExpre
-00032be0: 7373 696f 6e60 2c20 666f 7220 636f 6e76  ssion`, for conv
-00032bf0: 6572 7469 6e67 2070 6172 7365 6420 7265  erting parsed re
-00032c00: 7375 6c74 732e 0a20 2020 2022 2222 0a0a  sults..    """..
-00032c10: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
-00032c20: 2873 656c 662c 2065 7870 723a 2055 6e69  (self, expr: Uni
-00032c30: 6f6e 5b50 6172 7365 7245 6c65 6d65 6e74  on[ParserElement
-00032c40: 2c20 7374 725d 2c20 7361 7665 6c69 7374  , str], savelist
-00032c50: 3d46 616c 7365 293a 0a20 2020 2020 2020  =False):.       
-00032c60: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
-00032c70: 5f28 6578 7072 2920 2023 202c 2073 6176  _(expr)  # , sav
-00032c80: 656c 6973 7429 0a20 2020 2020 2020 2073  elist).        s
-00032c90: 656c 662e 7361 7665 4173 4c69 7374 203d  elf.saveAsList =
-00032ca0: 2046 616c 7365 0a0a 0a63 6c61 7373 2043   False...class C
-00032cb0: 6f6d 6269 6e65 2854 6f6b 656e 436f 6e76  ombine(TokenConv
-00032cc0: 6572 7465 7229 3a0a 2020 2020 2222 2243  erter):.    """C
-00032cd0: 6f6e 7665 7274 6572 2074 6f20 636f 6e63  onverter to conc
-00032ce0: 6174 656e 6174 6520 616c 6c20 6d61 7463  atenate all matc
-00032cf0: 6869 6e67 2074 6f6b 656e 7320 746f 2061  hing tokens to a
-00032d00: 2073 696e 676c 6520 7374 7269 6e67 2e0a   single string..
-00032d10: 2020 2020 4279 2064 6566 6175 6c74 2c20      By default, 
-00032d20: 7468 6520 6d61 7463 6869 6e67 2070 6174  the matching pat
-00032d30: 7465 726e 7320 6d75 7374 2061 6c73 6f20  terns must also 
-00032d40: 6265 2063 6f6e 7469 6775 6f75 7320 696e  be contiguous in
-00032d50: 2074 6865 0a20 2020 2069 6e70 7574 2073   the.    input s
-00032d60: 7472 696e 673b 2074 6869 7320 6361 6e20  tring; this can 
-00032d70: 6265 2064 6973 6162 6c65 6420 6279 2073  be disabled by s
-00032d80: 7065 6369 6679 696e 670a 2020 2020 6060  pecifying.    ``
-00032d90: 2761 646a 6163 656e 743d 4661 6c73 6527  'adjacent=False'
-00032da0: 6060 2069 6e20 7468 6520 636f 6e73 7472  `` in the constr
-00032db0: 7563 746f 722e 0a0a 2020 2020 4578 616d  uctor...    Exam
-00032dc0: 706c 653a 3a0a 0a20 2020 2020 2020 2072  ple::..        r
-00032dd0: 6561 6c20 3d20 576f 7264 286e 756d 7329  eal = Word(nums)
-00032de0: 202b 2027 2e27 202b 2057 6f72 6428 6e75   + '.' + Word(nu
-00032df0: 6d73 290a 2020 2020 2020 2020 7072 696e  ms).        prin
-00032e00: 7428 7265 616c 2e70 6172 7365 5f73 7472  t(real.parse_str
-00032e10: 696e 6728 2733 2e31 3431 3627 2929 2023  ing('3.1416')) #
-00032e20: 202d 3e20 5b27 3327 2c20 272e 272c 2027   -> ['3', '.', '
-00032e30: 3134 3136 275d 0a20 2020 2020 2020 2023  1416'].        #
-00032e40: 2077 696c 6c20 616c 736f 2065 7272 6f6e   will also erron
-00032e50: 656f 7573 6c79 206d 6174 6368 2074 6865  eously match the
-00032e60: 2066 6f6c 6c6f 7769 6e67 0a20 2020 2020   following.     
-00032e70: 2020 2070 7269 6e74 2872 6561 6c2e 7061     print(real.pa
-00032e80: 7273 655f 7374 7269 6e67 2827 332e 2031  rse_string('3. 1
-00032e90: 3431 3627 2929 2023 202d 3e20 5b27 3327  416')) # -> ['3'
-00032ea0: 2c20 272e 272c 2027 3134 3136 275d 0a0a  , '.', '1416']..
-00032eb0: 2020 2020 2020 2020 7265 616c 203d 2043          real = C
-00032ec0: 6f6d 6269 6e65 2857 6f72 6428 6e75 6d73  ombine(Word(nums
-00032ed0: 2920 2b20 272e 2720 2b20 576f 7264 286e  ) + '.' + Word(n
-00032ee0: 756d 7329 290a 2020 2020 2020 2020 7072  ums)).        pr
-00032ef0: 696e 7428 7265 616c 2e70 6172 7365 5f73  int(real.parse_s
-00032f00: 7472 696e 6728 2733 2e31 3431 3627 2929  tring('3.1416'))
-00032f10: 2023 202d 3e20 5b27 332e 3134 3136 275d   # -> ['3.1416']
-00032f20: 0a20 2020 2020 2020 2023 206e 6f20 6d61  .        # no ma
-00032f30: 7463 6820 7768 656e 2074 6865 7265 2061  tch when there a
-00032f40: 7265 2069 6e74 6572 6e61 6c20 7370 6163  re internal spac
-00032f50: 6573 0a20 2020 2020 2020 2070 7269 6e74  es.        print
-00032f60: 2872 6561 6c2e 7061 7273 655f 7374 7269  (real.parse_stri
-00032f70: 6e67 2827 332e 2031 3431 3627 2929 2023  ng('3. 1416')) #
-00032f80: 202d 3e20 4578 6365 7074 696f 6e3a 2045   -> Exception: E
-00032f90: 7870 6563 7465 6420 573a 2830 3132 332e  xpected W:(0123.
-00032fa0: 2e2e 290a 2020 2020 2222 220a 0a20 2020  ..).    """..   
-00032fb0: 2064 6566 205f 5f69 6e69 745f 5f28 0a20   def __init__(. 
-00032fc0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-00032fd0: 2020 2020 2065 7870 723a 2050 6172 7365       expr: Parse
-00032fe0: 7245 6c65 6d65 6e74 2c0a 2020 2020 2020  rElement,.      
-00032ff0: 2020 6a6f 696e 5f73 7472 696e 673a 2073    join_string: s
-00033000: 7472 203d 2022 222c 0a20 2020 2020 2020  tr = "",.       
-00033010: 2061 646a 6163 656e 743a 2062 6f6f 6c20   adjacent: bool 
-00033020: 3d20 5472 7565 2c0a 2020 2020 2020 2020  = True,.        
-00033030: 2a2c 0a20 2020 2020 2020 206a 6f69 6e53  *,.        joinS
-00033040: 7472 696e 673a 2074 7970 696e 672e 4f70  tring: typing.Op
-00033050: 7469 6f6e 616c 5b73 7472 5d20 3d20 4e6f  tional[str] = No
-00033060: 6e65 2c0a 2020 2020 293a 0a20 2020 2020  ne,.    ):.     
-00033070: 2020 2073 7570 6572 2829 2e5f 5f69 6e69     super().__ini
-00033080: 745f 5f28 6578 7072 290a 2020 2020 2020  t__(expr).      
-00033090: 2020 6a6f 696e 5374 7269 6e67 203d 206a    joinString = j
-000330a0: 6f69 6e53 7472 696e 6720 6966 206a 6f69  oinString if joi
-000330b0: 6e53 7472 696e 6720 6973 206e 6f74 204e  nString is not N
-000330c0: 6f6e 6520 656c 7365 206a 6f69 6e5f 7374  one else join_st
-000330d0: 7269 6e67 0a20 2020 2020 2020 2023 2073  ring.        # s
-000330e0: 7570 7072 6573 7320 7768 6974 6573 7061  uppress whitespa
-000330f0: 6365 2d73 7472 6970 7069 6e67 2069 6e20  ce-stripping in 
-00033100: 636f 6e74 6169 6e65 6420 7061 7273 6520  contained parse 
-00033110: 6578 7072 6573 7369 6f6e 732c 2062 7574  expressions, but
-00033120: 2072 652d 656e 6162 6c65 2069 7420 6f6e   re-enable it on
-00033130: 2074 6865 2043 6f6d 6269 6e65 2069 7473   the Combine its
-00033140: 656c 660a 2020 2020 2020 2020 6966 2061  elf.        if a
-00033150: 646a 6163 656e 743a 0a20 2020 2020 2020  djacent:.       
-00033160: 2020 2020 2073 656c 662e 6c65 6176 655f       self.leave_
-00033170: 7768 6974 6573 7061 6365 2829 0a20 2020  whitespace().   
-00033180: 2020 2020 2073 656c 662e 6164 6a61 6365       self.adjace
-00033190: 6e74 203d 2061 646a 6163 656e 740a 2020  nt = adjacent.  
-000331a0: 2020 2020 2020 7365 6c66 2e73 6b69 7057        self.skipW
-000331b0: 6869 7465 7370 6163 6520 3d20 5472 7565  hitespace = True
-000331c0: 0a20 2020 2020 2020 2073 656c 662e 6a6f  .        self.jo
-000331d0: 696e 5374 7269 6e67 203d 206a 6f69 6e53  inString = joinS
-000331e0: 7472 696e 670a 2020 2020 2020 2020 7365  tring.        se
-000331f0: 6c66 2e63 616c 6c50 7265 7061 7273 6520  lf.callPreparse 
-00033200: 3d20 5472 7565 0a0a 2020 2020 6465 6620  = True..    def 
-00033210: 6967 6e6f 7265 2873 656c 662c 206f 7468  ignore(self, oth
-00033220: 6572 2920 2d3e 2050 6172 7365 7245 6c65  er) -> ParserEle
-00033230: 6d65 6e74 3a0a 2020 2020 2020 2020 6966  ment:.        if
-00033240: 2073 656c 662e 6164 6a61 6365 6e74 3a0a   self.adjacent:.
-00033250: 2020 2020 2020 2020 2020 2020 5061 7273              Pars
-00033260: 6572 456c 656d 656e 742e 6967 6e6f 7265  erElement.ignore
-00033270: 2873 656c 662c 206f 7468 6572 290a 2020  (self, other).  
-00033280: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00033290: 2020 2020 2020 2020 7375 7065 7228 292e          super().
-000332a0: 6967 6e6f 7265 286f 7468 6572 290a 2020  ignore(other).  
-000332b0: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-000332c0: 660a 0a20 2020 2064 6566 2070 6f73 7450  f..    def postP
-000332d0: 6172 7365 2873 656c 662c 2069 6e73 7472  arse(self, instr
-000332e0: 696e 672c 206c 6f63 2c20 746f 6b65 6e6c  ing, loc, tokenl
-000332f0: 6973 7429 3a0a 2020 2020 2020 2020 7265  ist):.        re
-00033300: 7454 6f6b 7320 3d20 746f 6b65 6e6c 6973  tToks = tokenlis
-00033310: 742e 636f 7079 2829 0a20 2020 2020 2020  t.copy().       
-00033320: 2064 656c 2072 6574 546f 6b73 5b3a 5d0a   del retToks[:].
-00033330: 2020 2020 2020 2020 7265 7454 6f6b 7320          retToks 
-00033340: 2b3d 2050 6172 7365 5265 7375 6c74 7328  += ParseResults(
-00033350: 0a20 2020 2020 2020 2020 2020 205b 2222  .            [""
-00033360: 2e6a 6f69 6e28 746f 6b65 6e6c 6973 742e  .join(tokenlist.
-00033370: 5f61 7353 7472 696e 674c 6973 7428 7365  _asStringList(se
-00033380: 6c66 2e6a 6f69 6e53 7472 696e 6729 295d  lf.joinString))]
-00033390: 2c20 6d6f 6461 6c3d 7365 6c66 2e6d 6f64  , modal=self.mod
-000333a0: 616c 5265 7375 6c74 730a 2020 2020 2020  alResults.      
-000333b0: 2020 290a 0a20 2020 2020 2020 2069 6620    )..        if 
-000333c0: 7365 6c66 2e72 6573 756c 7473 4e61 6d65  self.resultsName
-000333d0: 2061 6e64 2072 6574 546f 6b73 2e68 6173   and retToks.has
-000333e0: 6b65 7973 2829 3a0a 2020 2020 2020 2020  keys():.        
-000333f0: 2020 2020 7265 7475 726e 205b 7265 7454      return [retT
-00033400: 6f6b 735d 0a20 2020 2020 2020 2065 6c73  oks].        els
-00033410: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-00033420: 6574 7572 6e20 7265 7454 6f6b 730a 0a0a  eturn retToks...
-00033430: 636c 6173 7320 4772 6f75 7028 546f 6b65  class Group(Toke
-00033440: 6e43 6f6e 7665 7274 6572 293a 0a20 2020  nConverter):.   
-00033450: 2022 2222 436f 6e76 6572 7465 7220 746f   """Converter to
-00033460: 2072 6574 7572 6e20 7468 6520 6d61 7463   return the matc
-00033470: 6865 6420 746f 6b65 6e73 2061 7320 6120  hed tokens as a 
-00033480: 6c69 7374 202d 2075 7365 6675 6c20 666f  list - useful fo
-00033490: 720a 2020 2020 7265 7475 726e 696e 6720  r.    returning 
-000334a0: 746f 6b65 6e73 206f 6620 3a63 6c61 7373  tokens of :class
-000334b0: 3a60 5a65 726f 4f72 4d6f 7265 6020 616e  :`ZeroOrMore` an
-000334c0: 6420 3a63 6c61 7373 3a60 4f6e 654f 724d  d :class:`OneOrM
-000334d0: 6f72 6560 2065 7870 7265 7373 696f 6e73  ore` expressions
-000334e0: 2e0a 0a20 2020 2054 6865 206f 7074 696f  ...    The optio
-000334f0: 6e61 6c20 6060 6173 6c69 7374 6060 2061  nal ``aslist`` a
-00033500: 7267 756d 656e 7420 7768 656e 2073 6574  rgument when set
-00033510: 2074 6f20 5472 7565 2077 696c 6c20 7265   to True will re
-00033520: 7475 726e 2074 6865 0a20 2020 2070 6172  turn the.    par
-00033530: 7365 6420 746f 6b65 6e73 2061 7320 6120  sed tokens as a 
-00033540: 5079 7468 6f6e 206c 6973 7420 696e 7374  Python list inst
-00033550: 6561 6420 6f66 2061 2070 7970 6172 7369  ead of a pyparsi
-00033560: 6e67 2050 6172 7365 5265 7375 6c74 732e  ng ParseResults.
-00033570: 0a0a 2020 2020 4578 616d 706c 653a 3a0a  ..    Example::.
-00033580: 0a20 2020 2020 2020 2069 6465 6e74 203d  .        ident =
-00033590: 2057 6f72 6428 616c 7068 6173 290a 2020   Word(alphas).  
-000335a0: 2020 2020 2020 6e75 6d20 3d20 576f 7264        num = Word
-000335b0: 286e 756d 7329 0a20 2020 2020 2020 2074  (nums).        t
-000335c0: 6572 6d20 3d20 6964 656e 7420 7c20 6e75  erm = ident | nu
-000335d0: 6d0a 2020 2020 2020 2020 6675 6e63 203d  m.        func =
-000335e0: 2069 6465 6e74 202b 204f 7074 2864 656c   ident + Opt(del
-000335f0: 696d 6974 6564 5f6c 6973 7428 7465 726d  imited_list(term
-00033600: 2929 0a20 2020 2020 2020 2070 7269 6e74  )).        print
-00033610: 2866 756e 632e 7061 7273 655f 7374 7269  (func.parse_stri
-00033620: 6e67 2822 666e 2061 2c20 622c 2031 3030  ng("fn a, b, 100
-00033630: 2229 290a 2020 2020 2020 2020 2320 2d3e  ")).        # ->
-00033640: 205b 2766 6e27 2c20 2761 272c 2027 6227   ['fn', 'a', 'b'
-00033650: 2c20 2731 3030 275d 0a0a 2020 2020 2020  , '100']..      
-00033660: 2020 6675 6e63 203d 2069 6465 6e74 202b    func = ident +
-00033670: 2047 726f 7570 284f 7074 2864 656c 696d   Group(Opt(delim
-00033680: 6974 6564 5f6c 6973 7428 7465 726d 2929  ited_list(term))
-00033690: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
-000336a0: 6675 6e63 2e70 6172 7365 5f73 7472 696e  func.parse_strin
-000336b0: 6728 2266 6e20 612c 2062 2c20 3130 3022  g("fn a, b, 100"
-000336c0: 2929 0a20 2020 2020 2020 2023 202d 3e20  )).        # -> 
-000336d0: 5b27 666e 272c 205b 2761 272c 2027 6227  ['fn', ['a', 'b'
-000336e0: 2c20 2731 3030 275d 5d0a 2020 2020 2222  , '100']].    ""
-000336f0: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
-00033700: 745f 5f28 7365 6c66 2c20 6578 7072 3a20  t__(self, expr: 
-00033710: 5061 7273 6572 456c 656d 656e 742c 2061  ParserElement, a
-00033720: 736c 6973 743a 2062 6f6f 6c20 3d20 4661  slist: bool = Fa
-00033730: 6c73 6529 3a0a 2020 2020 2020 2020 7375  lse):.        su
-00033740: 7065 7228 292e 5f5f 696e 6974 5f5f 2865  per().__init__(e
-00033750: 7870 7229 0a20 2020 2020 2020 2073 656c  xpr).        sel
-00033760: 662e 7361 7665 4173 4c69 7374 203d 2054  f.saveAsList = T
-00033770: 7275 650a 2020 2020 2020 2020 7365 6c66  rue.        self
-00033780: 2e5f 6173 5079 7468 6f6e 4c69 7374 203d  ._asPythonList =
-00033790: 2061 736c 6973 740a 0a20 2020 2064 6566   aslist..    def
-000337a0: 2070 6f73 7450 6172 7365 2873 656c 662c   postParse(self,
-000337b0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
-000337c0: 746f 6b65 6e6c 6973 7429 3a0a 2020 2020  tokenlist):.    
-000337d0: 2020 2020 6966 2073 656c 662e 5f61 7350      if self._asP
-000337e0: 7974 686f 6e4c 6973 743a 0a20 2020 2020  ythonList:.     
-000337f0: 2020 2020 2020 2072 6574 7572 6e20 5061         return Pa
-00033800: 7273 6552 6573 756c 7473 2e4c 6973 7428  rseResults.List(
-00033810: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00033820: 2074 6f6b 656e 6c69 7374 2e61 734c 6973   tokenlist.asLis
-00033830: 7428 290a 2020 2020 2020 2020 2020 2020  t().            
-00033840: 2020 2020 6966 2069 7369 6e73 7461 6e63      if isinstanc
-00033850: 6528 746f 6b65 6e6c 6973 742c 2050 6172  e(tokenlist, Par
-00033860: 7365 5265 7375 6c74 7329 0a20 2020 2020  seResults).     
-00033870: 2020 2020 2020 2020 2020 2065 6c73 6520             else 
-00033880: 6c69 7374 2874 6f6b 656e 6c69 7374 290a  list(tokenlist).
-00033890: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-000338a0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-000338b0: 2020 2020 2020 2020 7265 7475 726e 205b          return [
-000338c0: 746f 6b65 6e6c 6973 745d 0a0a 0a63 6c61  tokenlist]...cla
-000338d0: 7373 2044 6963 7428 546f 6b65 6e43 6f6e  ss Dict(TokenCon
-000338e0: 7665 7274 6572 293a 0a20 2020 2022 2222  verter):.    """
-000338f0: 436f 6e76 6572 7465 7220 746f 2072 6574  Converter to ret
-00033900: 7572 6e20 6120 7265 7065 7469 7469 7665  urn a repetitive
-00033910: 2065 7870 7265 7373 696f 6e20 6173 2061   expression as a
-00033920: 206c 6973 742c 2062 7574 2061 6c73 6f0a   list, but also.
-00033930: 2020 2020 6173 2061 2064 6963 7469 6f6e      as a diction
-00033940: 6172 792e 2045 6163 6820 656c 656d 656e  ary. Each elemen
-00033950: 7420 6361 6e20 616c 736f 2062 6520 7265  t can also be re
-00033960: 6665 7265 6e63 6564 2075 7369 6e67 2074  ferenced using t
-00033970: 6865 2066 6972 7374 0a20 2020 2074 6f6b  he first.    tok
-00033980: 656e 2069 6e20 7468 6520 6578 7072 6573  en in the expres
-00033990: 7369 6f6e 2061 7320 6974 7320 6b65 792e  sion as its key.
-000339a0: 2055 7365 6675 6c20 666f 7220 7461 6275   Useful for tabu
-000339b0: 6c61 7220 7265 706f 7274 0a20 2020 2073  lar report.    s
-000339c0: 6372 6170 696e 6720 7768 656e 2074 6865  craping when the
-000339d0: 2066 6972 7374 2063 6f6c 756d 6e20 6361   first column ca
-000339e0: 6e20 6265 2075 7365 6420 6173 2061 2069  n be used as a i
-000339f0: 7465 6d20 6b65 792e 0a0a 2020 2020 5468  tem key...    Th
-00033a00: 6520 6f70 7469 6f6e 616c 2060 6061 7364  e optional ``asd
-00033a10: 6963 7460 6020 6172 6775 6d65 6e74 2077  ict`` argument w
-00033a20: 6865 6e20 7365 7420 746f 2054 7275 6520  hen set to True 
-00033a30: 7769 6c6c 2072 6574 7572 6e20 7468 650a  will return the.
-00033a40: 2020 2020 7061 7273 6564 2074 6f6b 656e      parsed token
-00033a50: 7320 6173 2061 2050 7974 686f 6e20 6469  s as a Python di
-00033a60: 6374 2069 6e73 7465 6164 206f 6620 6120  ct instead of a 
-00033a70: 7079 7061 7273 696e 6720 5061 7273 6552  pyparsing ParseR
-00033a80: 6573 756c 7473 2e0a 0a20 2020 2045 7861  esults...    Exa
-00033a90: 6d70 6c65 3a3a 0a0a 2020 2020 2020 2020  mple::..        
-00033aa0: 6461 7461 5f77 6f72 6420 3d20 576f 7264  data_word = Word
-00033ab0: 2861 6c70 6861 7329 0a20 2020 2020 2020  (alphas).       
-00033ac0: 206c 6162 656c 203d 2064 6174 615f 776f   label = data_wo
-00033ad0: 7264 202b 2046 6f6c 6c6f 7765 6442 7928  rd + FollowedBy(
-00033ae0: 273a 2729 0a0a 2020 2020 2020 2020 7465  ':')..        te
-00033af0: 7874 203d 2022 7368 6170 653a 2053 5155  xt = "shape: SQU
-00033b00: 4152 4520 706f 736e 3a20 7570 7065 7220  ARE posn: upper 
-00033b10: 6c65 6674 2063 6f6c 6f72 3a20 6c69 6768  left color: ligh
-00033b20: 7420 626c 7565 2074 6578 7475 7265 3a20  t blue texture: 
-00033b30: 6275 726c 6170 220a 2020 2020 2020 2020  burlap".        
-00033b40: 6174 7472 5f65 7870 7220 3d20 286c 6162  attr_expr = (lab
-00033b50: 656c 202b 2053 7570 7072 6573 7328 273a  el + Suppress(':
-00033b60: 2729 202b 204f 6e65 4f72 4d6f 7265 2864  ') + OneOrMore(d
-00033b70: 6174 615f 776f 7264 2c20 7374 6f70 5f6f  ata_word, stop_o
-00033b80: 6e3d 6c61 6265 6c29 2e73 6574 5f70 6172  n=label).set_par
-00033b90: 7365 5f61 6374 696f 6e28 2720 272e 6a6f  se_action(' '.jo
-00033ba0: 696e 2929 0a0a 2020 2020 2020 2020 2320  in))..        # 
-00033bb0: 7072 696e 7420 6174 7472 6962 7574 6573  print attributes
-00033bc0: 2061 7320 706c 6169 6e20 6772 6f75 7073   as plain groups
-00033bd0: 0a20 2020 2020 2020 2070 7269 6e74 2861  .        print(a
-00033be0: 7474 725f 6578 7072 5b31 2c20 2e2e 2e5d  ttr_expr[1, ...]
-00033bf0: 2e70 6172 7365 5f73 7472 696e 6728 7465  .parse_string(te
-00033c00: 7874 292e 6475 6d70 2829 290a 0a20 2020  xt).dump())..   
-00033c10: 2020 2020 2023 2069 6e73 7465 6164 206f       # instead o
-00033c20: 6620 4f6e 654f 724d 6f72 6528 6578 7072  f OneOrMore(expr
-00033c30: 292c 2070 6172 7365 2075 7369 6e67 2044  ), parse using D
-00033c40: 6963 7428 4772 6f75 7028 6578 7072 295b  ict(Group(expr)[
-00033c50: 312c 202e 2e2e 5d29 202d 2044 6963 7420  1, ...]) - Dict 
-00033c60: 7769 6c6c 2061 7574 6f2d 6173 7369 676e  will auto-assign
-00033c70: 206e 616d 6573 0a20 2020 2020 2020 2072   names.        r
-00033c80: 6573 756c 7420 3d20 4469 6374 2847 726f  esult = Dict(Gro
-00033c90: 7570 2861 7474 725f 6578 7072 295b 312c  up(attr_expr)[1,
-00033ca0: 202e 2e2e 5d29 2e70 6172 7365 5f73 7472   ...]).parse_str
-00033cb0: 696e 6728 7465 7874 290a 2020 2020 2020  ing(text).      
-00033cc0: 2020 7072 696e 7428 7265 7375 6c74 2e64    print(result.d
-00033cd0: 756d 7028 2929 0a0a 2020 2020 2020 2020  ump())..        
-00033ce0: 2320 6163 6365 7373 206e 616d 6564 2066  # access named f
-00033cf0: 6965 6c64 7320 6173 2064 6963 7420 656e  ields as dict en
-00033d00: 7472 6965 732c 206f 7220 6f75 7470 7574  tries, or output
-00033d10: 2061 7320 6469 6374 0a20 2020 2020 2020   as dict.       
-00033d20: 2070 7269 6e74 2872 6573 756c 745b 2773   print(result['s
-00033d30: 6861 7065 275d 290a 2020 2020 2020 2020  hape']).        
-00033d40: 7072 696e 7428 7265 7375 6c74 2e61 735f  print(result.as_
-00033d50: 6469 6374 2829 290a 0a20 2020 2070 7269  dict())..    pri
-00033d60: 6e74 733a 3a0a 0a20 2020 2020 2020 205b  nts::..        [
-00033d70: 2773 6861 7065 272c 2027 5351 5541 5245  'shape', 'SQUARE
-00033d80: 272c 2027 706f 736e 272c 2027 7570 7065  ', 'posn', 'uppe
-00033d90: 7220 6c65 6674 272c 2027 636f 6c6f 7227  r left', 'color'
-00033da0: 2c20 276c 6967 6874 2062 6c75 6527 2c20  , 'light blue', 
-00033db0: 2774 6578 7475 7265 272c 2027 6275 726c  'texture', 'burl
-00033dc0: 6170 275d 0a20 2020 2020 2020 205b 5b27  ap'].        [['
-00033dd0: 7368 6170 6527 2c20 2753 5155 4152 4527  shape', 'SQUARE'
-00033de0: 5d2c 205b 2770 6f73 6e27 2c20 2775 7070  ], ['posn', 'upp
-00033df0: 6572 206c 6566 7427 5d2c 205b 2763 6f6c  er left'], ['col
-00033e00: 6f72 272c 2027 6c69 6768 7420 626c 7565  or', 'light blue
-00033e10: 275d 2c20 5b27 7465 7874 7572 6527 2c20  '], ['texture', 
-00033e20: 2762 7572 6c61 7027 5d5d 0a20 2020 2020  'burlap']].     
-00033e30: 2020 202d 2063 6f6c 6f72 3a20 276c 6967     - color: 'lig
-00033e40: 6874 2062 6c75 6527 0a20 2020 2020 2020  ht blue'.       
-00033e50: 202d 2070 6f73 6e3a 2027 7570 7065 7220   - posn: 'upper 
-00033e60: 6c65 6674 270a 2020 2020 2020 2020 2d20  left'.        - 
-00033e70: 7368 6170 653a 2027 5351 5541 5245 270a  shape: 'SQUARE'.
-00033e80: 2020 2020 2020 2020 2d20 7465 7874 7572          - textur
-00033e90: 653a 2027 6275 726c 6170 270a 2020 2020  e: 'burlap'.    
-00033ea0: 2020 2020 5351 5541 5245 0a20 2020 2020      SQUARE.     
-00033eb0: 2020 207b 2763 6f6c 6f72 273a 2027 6c69     {'color': 'li
-00033ec0: 6768 7420 626c 7565 272c 2027 706f 736e  ght blue', 'posn
-00033ed0: 273a 2027 7570 7065 7220 6c65 6674 272c  ': 'upper left',
-00033ee0: 2027 7465 7874 7572 6527 3a20 2762 7572   'texture': 'bur
-00033ef0: 6c61 7027 2c20 2773 6861 7065 273a 2027  lap', 'shape': '
-00033f00: 5351 5541 5245 277d 0a0a 2020 2020 5365  SQUARE'}..    Se
-00033f10: 6520 6d6f 7265 2065 7861 6d70 6c65 7320  e more examples 
-00033f20: 6174 203a 636c 6173 733a 6050 6172 7365  at :class:`Parse
-00033f30: 5265 7375 6c74 7360 206f 6620 6163 6365  Results` of acce
-00033f40: 7373 696e 6720 6669 656c 6473 2062 7920  ssing fields by 
-00033f50: 7265 7375 6c74 7320 6e61 6d65 2e0a 2020  results name..  
-00033f60: 2020 2222 220a 0a20 2020 2064 6566 205f    """..    def _
-00033f70: 5f69 6e69 745f 5f28 7365 6c66 2c20 6578  _init__(self, ex
-00033f80: 7072 3a20 5061 7273 6572 456c 656d 656e  pr: ParserElemen
-00033f90: 742c 2061 7364 6963 743a 2062 6f6f 6c20  t, asdict: bool 
-00033fa0: 3d20 4661 6c73 6529 3a0a 2020 2020 2020  = False):.      
-00033fb0: 2020 7375 7065 7228 292e 5f5f 696e 6974    super().__init
-00033fc0: 5f5f 2865 7870 7229 0a20 2020 2020 2020  __(expr).       
-00033fd0: 2073 656c 662e 7361 7665 4173 4c69 7374   self.saveAsList
-00033fe0: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
-00033ff0: 7365 6c66 2e5f 6173 5079 7468 6f6e 4469  self._asPythonDi
-00034000: 6374 203d 2061 7364 6963 740a 0a20 2020  ct = asdict..   
-00034010: 2064 6566 2070 6f73 7450 6172 7365 2873   def postParse(s
-00034020: 656c 662c 2069 6e73 7472 696e 672c 206c  elf, instring, l
-00034030: 6f63 2c20 746f 6b65 6e6c 6973 7429 3a0a  oc, tokenlist):.
-00034040: 2020 2020 2020 2020 666f 7220 692c 2074          for i, t
-00034050: 6f6b 2069 6e20 656e 756d 6572 6174 6528  ok in enumerate(
-00034060: 746f 6b65 6e6c 6973 7429 3a0a 2020 2020  tokenlist):.    
-00034070: 2020 2020 2020 2020 6966 206c 656e 2874          if len(t
-00034080: 6f6b 2920 3d3d 2030 3a0a 2020 2020 2020  ok) == 0:.      
-00034090: 2020 2020 2020 2020 2020 636f 6e74 696e            contin
-000340a0: 7565 0a0a 2020 2020 2020 2020 2020 2020  ue..            
-000340b0: 696b 6579 203d 2074 6f6b 5b30 5d0a 2020  ikey = tok[0].  
-000340c0: 2020 2020 2020 2020 2020 6966 2069 7369            if isi
-000340d0: 6e73 7461 6e63 6528 696b 6579 2c20 696e  nstance(ikey, in
-000340e0: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
-000340f0: 2020 2020 696b 6579 203d 2073 7472 2869      ikey = str(i
-00034100: 6b65 7929 2e73 7472 6970 2829 0a0a 2020  key).strip()..  
-00034110: 2020 2020 2020 2020 2020 6966 206c 656e            if len
-00034120: 2874 6f6b 2920 3d3d 2031 3a0a 2020 2020  (tok) == 1:.    
-00034130: 2020 2020 2020 2020 2020 2020 746f 6b65              toke
-00034140: 6e6c 6973 745b 696b 6579 5d20 3d20 5f50  nlist[ikey] = _P
-00034150: 6172 7365 5265 7375 6c74 7357 6974 684f  arseResultsWithO
-00034160: 6666 7365 7428 2222 2c20 6929 0a0a 2020  ffset("", i)..  
-00034170: 2020 2020 2020 2020 2020 656c 6966 206c            elif l
-00034180: 656e 2874 6f6b 2920 3d3d 2032 2061 6e64  en(tok) == 2 and
-00034190: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
-000341a0: 746f 6b5b 315d 2c20 5061 7273 6552 6573  tok[1], ParseRes
-000341b0: 756c 7473 293a 0a20 2020 2020 2020 2020  ults):.         
-000341c0: 2020 2020 2020 2074 6f6b 656e 6c69 7374         tokenlist
-000341d0: 5b69 6b65 795d 203d 205f 5061 7273 6552  [ikey] = _ParseR
-000341e0: 6573 756c 7473 5769 7468 4f66 6673 6574  esultsWithOffset
-000341f0: 2874 6f6b 5b31 5d2c 2069 290a 0a20 2020  (tok[1], i)..   
-00034200: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00034210: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00034220: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-00034230: 2020 2020 2020 2020 6469 6374 7661 6c75          dictvalu
-00034240: 6520 3d20 746f 6b2e 636f 7079 2829 2020  e = tok.copy()  
-00034250: 2320 5061 7273 6552 6573 756c 7473 2869  # ParseResults(i
-00034260: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00034270: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-00034280: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
-00034290: 2020 2020 2020 2020 6578 6320 3d20 5479          exc = Ty
-000342a0: 7065 4572 726f 7228 0a20 2020 2020 2020  peError(.       
-000342b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000342c0: 2022 636f 756c 6420 6e6f 7420 6578 7472   "could not extr
-000342d0: 6163 7420 6469 6374 2076 616c 7565 7320  act dict values 
-000342e0: 6672 6f6d 2070 6172 7365 6420 7265 7375  from parsed resu
-000342f0: 6c74 7322 0a20 2020 2020 2020 2020 2020  lts".           
-00034300: 2020 2020 2020 2020 2020 2020 2022 202d               " -
-00034310: 2044 6963 7420 6578 7072 6573 7369 6f6e   Dict expression
-00034320: 206d 7573 7420 636f 6e74 6169 6e20 4772   must contain Gr
-00034330: 6f75 7065 6420 6578 7072 6573 7369 6f6e  ouped expression
-00034340: 7322 0a20 2020 2020 2020 2020 2020 2020  s".             
-00034350: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00034360: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-00034370: 7365 2065 7863 2066 726f 6d20 4e6f 6e65  se exc from None
-00034380: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00034390: 2020 6465 6c20 6469 6374 7661 6c75 655b    del dictvalue[
-000343a0: 305d 0a0a 2020 2020 2020 2020 2020 2020  0]..            
-000343b0: 2020 2020 6966 206c 656e 2864 6963 7476      if len(dictv
-000343c0: 616c 7565 2920 213d 2031 206f 7220 280a  alue) != 1 or (.
-000343d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000343e0: 2020 2020 6973 696e 7374 616e 6365 2864      isinstance(d
-000343f0: 6963 7476 616c 7565 2c20 5061 7273 6552  ictvalue, ParseR
-00034400: 6573 756c 7473 2920 616e 6420 6469 6374  esults) and dict
-00034410: 7661 6c75 652e 6861 736b 6579 7328 290a  value.haskeys().
-00034420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034430: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00034440: 2020 2020 2020 2074 6f6b 656e 6c69 7374         tokenlist
-00034450: 5b69 6b65 795d 203d 205f 5061 7273 6552  [ikey] = _ParseR
-00034460: 6573 756c 7473 5769 7468 4f66 6673 6574  esultsWithOffset
-00034470: 2864 6963 7476 616c 7565 2c20 6929 0a20  (dictvalue, i). 
-00034480: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00034490: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-000344a0: 2020 2020 2020 2020 2074 6f6b 656e 6c69           tokenli
-000344b0: 7374 5b69 6b65 795d 203d 205f 5061 7273  st[ikey] = _Pars
-000344c0: 6552 6573 756c 7473 5769 7468 4f66 6673  eResultsWithOffs
-000344d0: 6574 2864 6963 7476 616c 7565 5b30 5d2c  et(dictvalue[0],
-000344e0: 2069 290a 0a20 2020 2020 2020 2069 6620   i)..        if 
-000344f0: 7365 6c66 2e5f 6173 5079 7468 6f6e 4469  self._asPythonDi
-00034500: 6374 3a0a 2020 2020 2020 2020 2020 2020  ct:.            
-00034510: 7265 7475 726e 205b 746f 6b65 6e6c 6973  return [tokenlis
-00034520: 742e 6173 5f64 6963 7428 295d 2069 6620  t.as_dict()] if 
-00034530: 7365 6c66 2e72 6573 756c 7473 4e61 6d65  self.resultsName
-00034540: 2065 6c73 6520 746f 6b65 6e6c 6973 742e   else tokenlist.
-00034550: 6173 5f64 6963 7428 290a 2020 2020 2020  as_dict().      
-00034560: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00034570: 2020 2020 7265 7475 726e 205b 746f 6b65      return [toke
-00034580: 6e6c 6973 745d 2069 6620 7365 6c66 2e72  nlist] if self.r
-00034590: 6573 756c 7473 4e61 6d65 2065 6c73 6520  esultsName else 
-000345a0: 746f 6b65 6e6c 6973 740a 0a0a 636c 6173  tokenlist...clas
-000345b0: 7320 5375 7070 7265 7373 2854 6f6b 656e  s Suppress(Token
-000345c0: 436f 6e76 6572 7465 7229 3a0a 2020 2020  Converter):.    
-000345d0: 2222 2243 6f6e 7665 7274 6572 2066 6f72  """Converter for
-000345e0: 2069 676e 6f72 696e 6720 7468 6520 7265   ignoring the re
-000345f0: 7375 6c74 7320 6f66 2061 2070 6172 7365  sults of a parse
-00034600: 6420 6578 7072 6573 7369 6f6e 2e0a 0a20  d expression... 
-00034610: 2020 2045 7861 6d70 6c65 3a3a 0a0a 2020     Example::..  
-00034620: 2020 2020 2020 736f 7572 6365 203d 2022        source = "
-00034630: 612c 2062 2c20 632c 6422 0a20 2020 2020  a, b, c,d".     
-00034640: 2020 2077 6420 3d20 576f 7264 2861 6c70     wd = Word(alp
-00034650: 6861 7329 0a20 2020 2020 2020 2077 645f  has).        wd_
-00034660: 6c69 7374 3120 3d20 7764 202b 2028 272c  list1 = wd + (',
-00034670: 2720 2b20 7764 295b 2e2e 2e5d 0a20 2020  ' + wd)[...].   
-00034680: 2020 2020 2070 7269 6e74 2877 645f 6c69       print(wd_li
-00034690: 7374 312e 7061 7273 655f 7374 7269 6e67  st1.parse_string
-000346a0: 2873 6f75 7263 6529 290a 0a20 2020 2020  (source))..     
-000346b0: 2020 2023 206f 6674 656e 2c20 6465 6c69     # often, deli
-000346c0: 6d69 7465 7273 2074 6861 7420 6172 6520  miters that are 
-000346d0: 7573 6566 756c 2064 7572 696e 6720 7061  useful during pa
-000346e0: 7273 696e 6720 6172 6520 6a75 7374 2069  rsing are just i
-000346f0: 6e20 7468 650a 2020 2020 2020 2020 2320  n the.        # 
-00034700: 7761 7920 6166 7465 7277 6172 6420 2d20  way afterward - 
-00034710: 7573 6520 5375 7070 7265 7373 2074 6f20  use Suppress to 
-00034720: 6b65 6570 2074 6865 6d20 6f75 7420 6f66  keep them out of
-00034730: 2074 6865 2070 6172 7365 6420 6f75 7470   the parsed outp
-00034740: 7574 0a20 2020 2020 2020 2077 645f 6c69  ut.        wd_li
-00034750: 7374 3220 3d20 7764 202b 2028 5375 7070  st2 = wd + (Supp
-00034760: 7265 7373 2827 2c27 2920 2b20 7764 295b  ress(',') + wd)[
-00034770: 2e2e 2e5d 0a20 2020 2020 2020 2070 7269  ...].        pri
-00034780: 6e74 2877 645f 6c69 7374 322e 7061 7273  nt(wd_list2.pars
-00034790: 655f 7374 7269 6e67 2873 6f75 7263 6529  e_string(source)
-000347a0: 290a 0a20 2020 2020 2020 2023 2053 6b69  )..        # Ski
-000347b0: 7070 6564 2074 6578 7420 2875 7369 6e67  pped text (using
-000347c0: 2027 2e2e 2e27 2920 6361 6e20 6265 2073   '...') can be s
-000347d0: 7570 7072 6573 7365 6420 6173 2077 656c  uppressed as wel
-000347e0: 6c0a 2020 2020 2020 2020 736f 7572 6365  l.        source
-000347f0: 203d 2022 6c65 6164 2069 6e20 5354 4152   = "lead in STAR
-00034800: 5420 7265 6c65 7661 6e74 2074 6578 7420  T relevant text 
-00034810: 454e 4420 7472 6169 6c69 6e67 2074 6578  END trailing tex
-00034820: 7422 0a20 2020 2020 2020 2073 7461 7274  t".        start
-00034830: 5f6d 6172 6b65 7220 3d20 4b65 7977 6f72  _marker = Keywor
-00034840: 6428 2253 5441 5254 2229 0a20 2020 2020  d("START").     
-00034850: 2020 2065 6e64 5f6d 6172 6b65 7220 3d20     end_marker = 
-00034860: 4b65 7977 6f72 6428 2245 4e44 2229 0a20  Keyword("END"). 
-00034870: 2020 2020 2020 2066 696e 645f 626f 6479         find_body
-00034880: 203d 2053 7570 7072 6573 7328 2e2e 2e29   = Suppress(...)
-00034890: 202b 2073 7461 7274 5f6d 6172 6b65 7220   + start_marker 
-000348a0: 2b20 2e2e 2e20 2b20 656e 645f 6d61 726b  + ... + end_mark
-000348b0: 6572 0a20 2020 2020 2020 2070 7269 6e74  er.        print
-000348c0: 2866 696e 645f 626f 6479 2e70 6172 7365  (find_body.parse
-000348d0: 5f73 7472 696e 6728 736f 7572 6365 290a  _string(source).
-000348e0: 0a20 2020 2070 7269 6e74 733a 3a0a 0a20  .    prints::.. 
-000348f0: 2020 2020 2020 205b 2761 272c 2027 2c27         ['a', ','
-00034900: 2c20 2762 272c 2027 2c27 2c20 2763 272c  , 'b', ',', 'c',
-00034910: 2027 2c27 2c20 2764 275d 0a20 2020 2020   ',', 'd'].     
-00034920: 2020 205b 2761 272c 2027 6227 2c20 2763     ['a', 'b', 'c
-00034930: 272c 2027 6427 5d0a 2020 2020 2020 2020  ', 'd'].        
-00034940: 5b27 5354 4152 5427 2c20 2772 656c 6576  ['START', 'relev
-00034950: 616e 7420 7465 7874 2027 2c20 2745 4e44  ant text ', 'END
-00034960: 275d 0a0a 2020 2020 2853 6565 2061 6c73  ']..    (See als
-00034970: 6f20 3a63 6c61 7373 3a60 6465 6c69 6d69  o :class:`delimi
-00034980: 7465 645f 6c69 7374 602e 290a 2020 2020  ted_list`.).    
-00034990: 2222 220a 0a20 2020 2064 6566 205f 5f69  """..    def __i
-000349a0: 6e69 745f 5f28 7365 6c66 2c20 6578 7072  nit__(self, expr
-000349b0: 3a20 556e 696f 6e5b 5061 7273 6572 456c  : Union[ParserEl
-000349c0: 656d 656e 742c 2073 7472 5d2c 2073 6176  ement, str], sav
-000349d0: 656c 6973 743a 2062 6f6f 6c20 3d20 4661  elist: bool = Fa
-000349e0: 6c73 6529 3a0a 2020 2020 2020 2020 6966  lse):.        if
-000349f0: 2065 7870 7220 6973 202e 2e2e 3a0a 2020   expr is ...:.  
-00034a00: 2020 2020 2020 2020 2020 6578 7072 203d            expr =
-00034a10: 205f 5065 6e64 696e 6753 6b69 7028 4e6f   _PendingSkip(No
-00034a20: 4d61 7463 6828 2929 0a20 2020 2020 2020  Match()).       
-00034a30: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
-00034a40: 5f28 6578 7072 290a 0a20 2020 2064 6566  _(expr)..    def
-00034a50: 205f 5f61 6464 5f5f 2873 656c 662c 206f   __add__(self, o
-00034a60: 7468 6572 2920 2d3e 2022 5061 7273 6572  ther) -> "Parser
-00034a70: 456c 656d 656e 7422 3a0a 2020 2020 2020  Element":.      
-00034a80: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
-00034a90: 7365 6c66 2e65 7870 722c 205f 5065 6e64  self.expr, _Pend
-00034aa0: 696e 6753 6b69 7029 3a0a 2020 2020 2020  ingSkip):.      
-00034ab0: 2020 2020 2020 7265 7475 726e 2053 7570        return Sup
-00034ac0: 7072 6573 7328 536b 6970 546f 286f 7468  press(SkipTo(oth
-00034ad0: 6572 2929 202b 206f 7468 6572 0a20 2020  er)) + other.   
-00034ae0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00034af0: 2020 2020 2020 2072 6574 7572 6e20 7375         return su
-00034b00: 7065 7228 292e 5f5f 6164 645f 5f28 6f74  per().__add__(ot
-00034b10: 6865 7229 0a0a 2020 2020 6465 6620 5f5f  her)..    def __
-00034b20: 7375 625f 5f28 7365 6c66 2c20 6f74 6865  sub__(self, othe
-00034b30: 7229 202d 3e20 2250 6172 7365 7245 6c65  r) -> "ParserEle
-00034b40: 6d65 6e74 223a 0a20 2020 2020 2020 2069  ment":.        i
-00034b50: 6620 6973 696e 7374 616e 6365 2873 656c  f isinstance(sel
-00034b60: 662e 6578 7072 2c20 5f50 656e 6469 6e67  f.expr, _Pending
-00034b70: 536b 6970 293a 0a20 2020 2020 2020 2020  Skip):.         
-00034b80: 2020 2072 6574 7572 6e20 5375 7070 7265     return Suppre
-00034b90: 7373 2853 6b69 7054 6f28 6f74 6865 7229  ss(SkipTo(other)
-00034ba0: 2920 2d20 6f74 6865 720a 2020 2020 2020  ) - other.      
-00034bb0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00034bc0: 2020 2020 7265 7475 726e 2073 7570 6572      return super
-00034bd0: 2829 2e5f 5f73 7562 5f5f 286f 7468 6572  ().__sub__(other
-00034be0: 290a 0a20 2020 2064 6566 2070 6f73 7450  )..    def postP
-00034bf0: 6172 7365 2873 656c 662c 2069 6e73 7472  arse(self, instr
-00034c00: 696e 672c 206c 6f63 2c20 746f 6b65 6e6c  ing, loc, tokenl
-00034c10: 6973 7429 3a0a 2020 2020 2020 2020 7265  ist):.        re
-00034c20: 7475 726e 205b 5d0a 0a20 2020 2064 6566  turn []..    def
-00034c30: 2073 7570 7072 6573 7328 7365 6c66 2920   suppress(self) 
-00034c40: 2d3e 2050 6172 7365 7245 6c65 6d65 6e74  -> ParserElement
-00034c50: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
-00034c60: 2073 656c 660a 0a0a 6465 6620 7472 6163   self...def trac
-00034c70: 655f 7061 7273 655f 6163 7469 6f6e 2866  e_parse_action(f
-00034c80: 3a20 5061 7273 6541 6374 696f 6e29 202d  : ParseAction) -
-00034c90: 3e20 5061 7273 6541 6374 696f 6e3a 0a20  > ParseAction:. 
-00034ca0: 2020 2022 2222 4465 636f 7261 746f 7220     """Decorator 
-00034cb0: 666f 7220 6465 6275 6767 696e 6720 7061  for debugging pa
-00034cc0: 7273 6520 6163 7469 6f6e 732e 0a0a 2020  rse actions...  
-00034cd0: 2020 5768 656e 2074 6865 2070 6172 7365    When the parse
-00034ce0: 2061 6374 696f 6e20 6973 2063 616c 6c65   action is calle
-00034cf0: 642c 2074 6869 7320 6465 636f 7261 746f  d, this decorato
-00034d00: 7220 7769 6c6c 2070 7269 6e74 0a20 2020  r will print.   
-00034d10: 2060 6022 3e3e 2065 6e74 6572 696e 6720   ``">> entering 
-00034d20: 6d65 7468 6f64 2d6e 616d 6528 6c69 6e65  method-name(line
-00034d30: 3a3c 6375 7272 656e 745f 736f 7572 6365  :<current_source
-00034d40: 5f6c 696e 653e 2c20 3c70 6172 7365 5f6c  _line>, <parse_l
-00034d50: 6f63 6174 696f 6e3e 2c20 3c6d 6174 6368  ocation>, <match
-00034d60: 6564 5f74 6f6b 656e 733e 2922 6060 2e0a  ed_tokens>)"``..
-00034d70: 2020 2020 5768 656e 2074 6865 2070 6172      When the par
-00034d80: 7365 2061 6374 696f 6e20 636f 6d70 6c65  se action comple
-00034d90: 7465 732c 2074 6865 2064 6563 6f72 6174  tes, the decorat
-00034da0: 6f72 2077 696c 6c20 7072 696e 740a 2020  or will print.  
-00034db0: 2020 6060 223c 3c22 6060 2066 6f6c 6c6f    ``"<<"`` follo
-00034dc0: 7765 6420 6279 2074 6865 2072 6574 7572  wed by the retur
-00034dd0: 6e65 6420 7661 6c75 652c 206f 7220 616e  ned value, or an
-00034de0: 7920 6578 6365 7074 696f 6e20 7468 6174  y exception that
-00034df0: 2074 6865 2070 6172 7365 2061 6374 696f   the parse actio
-00034e00: 6e20 7261 6973 6564 2e0a 0a20 2020 2045  n raised...    E
-00034e10: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
-00034e20: 2020 7764 203d 2057 6f72 6428 616c 7068    wd = Word(alph
-00034e30: 6173 290a 0a20 2020 2020 2020 2040 7472  as)..        @tr
-00034e40: 6163 655f 7061 7273 655f 6163 7469 6f6e  ace_parse_action
-00034e50: 0a20 2020 2020 2020 2064 6566 2072 656d  .        def rem
-00034e60: 6f76 655f 6475 706c 6963 6174 655f 6368  ove_duplicate_ch
-00034e70: 6172 7328 746f 6b65 6e73 293a 0a20 2020  ars(tokens):.   
-00034e80: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00034e90: 2727 2e6a 6f69 6e28 736f 7274 6564 2873  ''.join(sorted(s
-00034ea0: 6574 2827 272e 6a6f 696e 2874 6f6b 656e  et(''.join(token
-00034eb0: 7329 2929 290a 0a20 2020 2020 2020 2077  s))))..        w
-00034ec0: 6473 203d 2077 645b 312c 202e 2e2e 5d2e  ds = wd[1, ...].
-00034ed0: 7365 745f 7061 7273 655f 6163 7469 6f6e  set_parse_action
-00034ee0: 2872 656d 6f76 655f 6475 706c 6963 6174  (remove_duplicat
-00034ef0: 655f 6368 6172 7329 0a20 2020 2020 2020  e_chars).       
-00034f00: 2070 7269 6e74 2877 6473 2e70 6172 7365   print(wds.parse
-00034f10: 5f73 7472 696e 6728 2273 6c6b 646a 7320  _string("slkdjs 
-00034f20: 736c 6420 736c 6464 2073 646c 6620 7364  sld sldd sdlf sd
-00034f30: 6c6a 6622 2929 0a0a 2020 2020 7072 696e  ljf"))..    prin
-00034f40: 7473 3a3a 0a0a 2020 2020 2020 2020 3e3e  ts::..        >>
-00034f50: 656e 7465 7269 6e67 2072 656d 6f76 655f  entering remove_
-00034f60: 6475 706c 6963 6174 655f 6368 6172 7328  duplicate_chars(
-00034f70: 6c69 6e65 3a20 2773 6c6b 646a 7320 736c  line: 'slkdjs sl
-00034f80: 6420 736c 6464 2073 646c 6620 7364 6c6a  d sldd sdlf sdlj
-00034f90: 6627 2c20 302c 2028 5b27 736c 6b64 6a73  f', 0, (['slkdjs
-00034fa0: 272c 2027 736c 6427 2c20 2773 6c64 6427  ', 'sld', 'sldd'
-00034fb0: 2c20 2773 646c 6627 2c20 2773 646c 6a66  , 'sdlf', 'sdljf
-00034fc0: 275d 2c20 7b7d 2929 0a20 2020 2020 2020  '], {})).       
-00034fd0: 203c 3c6c 6561 7669 6e67 2072 656d 6f76   <<leaving remov
-00034fe0: 655f 6475 706c 6963 6174 655f 6368 6172  e_duplicate_char
-00034ff0: 7320 2872 6574 3a20 2764 666a 6b6c 7327  s (ret: 'dfjkls'
-00035000: 290a 2020 2020 2020 2020 5b27 6466 6a6b  ).        ['dfjk
-00035010: 6c73 275d 0a20 2020 2022 2222 0a20 2020  ls'].    """.   
-00035020: 2066 203d 205f 7472 696d 5f61 7269 7479   f = _trim_arity
-00035030: 2866 290a 0a20 2020 2064 6566 207a 282a  (f)..    def z(*
-00035040: 7061 4172 6773 293a 0a20 2020 2020 2020  paArgs):.       
-00035050: 2074 6869 7346 756e 6320 3d20 662e 5f5f   thisFunc = f.__
-00035060: 6e61 6d65 5f5f 0a20 2020 2020 2020 2073  name__.        s
-00035070: 2c20 6c2c 2074 203d 2070 6141 7267 735b  , l, t = paArgs[
-00035080: 2d33 3a5d 0a20 2020 2020 2020 2069 6620  -3:].        if 
-00035090: 6c65 6e28 7061 4172 6773 2920 3e20 333a  len(paArgs) > 3:
-000350a0: 0a20 2020 2020 2020 2020 2020 2074 6869  .            thi
-000350b0: 7346 756e 6320 3d20 7061 4172 6773 5b30  sFunc = paArgs[0
-000350c0: 5d2e 5f5f 636c 6173 735f 5f2e 5f5f 6e61  ].__class__.__na
-000350d0: 6d65 5f5f 202b 2022 2e22 202b 2074 6869  me__ + "." + thi
-000350e0: 7346 756e 630a 2020 2020 2020 2020 7379  sFunc.        sy
-000350f0: 732e 7374 6465 7272 2e77 7269 7465 2866  s.stderr.write(f
-00035100: 223e 3e65 6e74 6572 696e 6720 7b74 6869  ">>entering {thi
-00035110: 7346 756e 637d 286c 696e 653a 207b 6c69  sFunc}(line: {li
-00035120: 6e65 286c 2c20 7329 2172 7d2c 207b 6c7d  ne(l, s)!r}, {l}
-00035130: 2c20 7b74 2172 7d29 5c6e 2229 0a20 2020  , {t!r})\n").   
-00035140: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00035150: 2020 2020 2020 7265 7420 3d20 6628 2a70        ret = f(*p
-00035160: 6141 7267 7329 0a20 2020 2020 2020 2065  aArgs).        e
-00035170: 7863 6570 7420 4578 6365 7074 696f 6e20  xcept Exception 
-00035180: 6173 2065 7863 3a0a 2020 2020 2020 2020  as exc:.        
-00035190: 2020 2020 7379 732e 7374 6465 7272 2e77      sys.stderr.w
-000351a0: 7269 7465 2866 223c 3c6c 6561 7669 6e67  rite(f"<<leaving
-000351b0: 207b 7468 6973 4675 6e63 7d20 2865 7863   {thisFunc} (exc
-000351c0: 6570 7469 6f6e 3a20 7b65 7863 7d29 5c6e  eption: {exc})\n
-000351d0: 2229 0a20 2020 2020 2020 2020 2020 2072  ").            r
-000351e0: 6169 7365 0a20 2020 2020 2020 2073 7973  aise.        sys
-000351f0: 2e73 7464 6572 722e 7772 6974 6528 6622  .stderr.write(f"
-00035200: 3c3c 6c65 6176 696e 6720 7b74 6869 7346  <<leaving {thisF
-00035210: 756e 637d 2028 7265 743a 207b 7265 7421  unc} (ret: {ret!
-00035220: 727d 295c 6e22 290a 2020 2020 2020 2020  r})\n").        
-00035230: 7265 7475 726e 2072 6574 0a0a 2020 2020  return ret..    
-00035240: 7a2e 5f5f 6e61 6d65 5f5f 203d 2066 2e5f  z.__name__ = f._
-00035250: 5f6e 616d 655f 5f0a 2020 2020 7265 7475  _name__.    retu
-00035260: 726e 207a 0a0a 0a23 2063 6f6e 7665 6e69  rn z...# conveni
-00035270: 656e 6365 2063 6f6e 7374 616e 7473 2066  ence constants f
-00035280: 6f72 2070 6f73 6974 696f 6e61 6c20 6578  or positional ex
-00035290: 7072 6573 7369 6f6e 730a 656d 7074 7920  pressions.empty 
-000352a0: 3d20 456d 7074 7928 292e 7365 745f 6e61  = Empty().set_na
-000352b0: 6d65 2822 656d 7074 7922 290a 6c69 6e65  me("empty").line
-000352c0: 5f73 7461 7274 203d 204c 696e 6553 7461  _start = LineSta
-000352d0: 7274 2829 2e73 6574 5f6e 616d 6528 226c  rt().set_name("l
-000352e0: 696e 655f 7374 6172 7422 290a 6c69 6e65  ine_start").line
-000352f0: 5f65 6e64 203d 204c 696e 6545 6e64 2829  _end = LineEnd()
-00035300: 2e73 6574 5f6e 616d 6528 226c 696e 655f  .set_name("line_
-00035310: 656e 6422 290a 7374 7269 6e67 5f73 7461  end").string_sta
-00035320: 7274 203d 2053 7472 696e 6753 7461 7274  rt = StringStart
-00035330: 2829 2e73 6574 5f6e 616d 6528 2273 7472  ().set_name("str
-00035340: 696e 675f 7374 6172 7422 290a 7374 7269  ing_start").stri
-00035350: 6e67 5f65 6e64 203d 2053 7472 696e 6745  ng_end = StringE
-00035360: 6e64 2829 2e73 6574 5f6e 616d 6528 2273  nd().set_name("s
-00035370: 7472 696e 675f 656e 6422 290a 0a5f 6573  tring_end").._es
-00035380: 6361 7065 6450 756e 6320 3d20 5265 6765  capedPunc = Rege
-00035390: 7828 7222 5c5c 5b5c 5c5b 5c5d 5c2f 5c2d  x(r"\\[\\[\]\/\-
-000353a0: 5c2a 5c2e 5c24 5c2b 5c5e 5c3f 2829 7e20  \*\.\$\+\^\?()~ 
-000353b0: 5d22 292e 7365 745f 7061 7273 655f 6163  ]").set_parse_ac
-000353c0: 7469 6f6e 280a 2020 2020 6c61 6d62 6461  tion(.    lambda
-000353d0: 2073 2c20 6c2c 2074 3a20 745b 305d 5b31   s, l, t: t[0][1
-000353e0: 5d0a 290a 5f65 7363 6170 6564 4865 7843  ].)._escapedHexC
-000353f0: 6861 7220 3d20 5265 6765 7828 7222 5c5c  har = Regex(r"\\
-00035400: 303f 5b78 585d 5b30 2d39 612d 6641 2d46  0?[xX][0-9a-fA-F
-00035410: 5d2b 2229 2e73 6574 5f70 6172 7365 5f61  ]+").set_parse_a
-00035420: 6374 696f 6e28 0a20 2020 206c 616d 6264  ction(.    lambd
-00035430: 6120 732c 206c 2c20 743a 2063 6872 2869  a s, l, t: chr(i
-00035440: 6e74 2874 5b30 5d2e 6c73 7472 6970 2872  nt(t[0].lstrip(r
-00035450: 225c 3078 2229 2c20 3136 2929 0a29 0a5f  "\0x"), 16)).)._
-00035460: 6573 6361 7065 644f 6374 4368 6172 203d  escapedOctChar =
-00035470: 2052 6567 6578 2872 225c 5c30 5b30 2d37   Regex(r"\\0[0-7
-00035480: 5d2b 2229 2e73 6574 5f70 6172 7365 5f61  ]+").set_parse_a
-00035490: 6374 696f 6e28 0a20 2020 206c 616d 6264  ction(.    lambd
-000354a0: 6120 732c 206c 2c20 743a 2063 6872 2869  a s, l, t: chr(i
-000354b0: 6e74 2874 5b30 5d5b 313a 5d2c 2038 2929  nt(t[0][1:], 8))
-000354c0: 0a29 0a5f 7369 6e67 6c65 4368 6172 203d  .)._singleChar =
-000354d0: 2028 0a20 2020 205f 6573 6361 7065 6450   (.    _escapedP
-000354e0: 756e 6320 7c20 5f65 7363 6170 6564 4865  unc | _escapedHe
-000354f0: 7843 6861 7220 7c20 5f65 7363 6170 6564  xChar | _escaped
-00035500: 4f63 7443 6861 7220 7c20 4368 6172 734e  OctChar | CharsN
-00035510: 6f74 496e 2872 225c 5d22 2c20 6578 6163  otIn(r"\]", exac
-00035520: 743d 3129 0a29 0a5f 6368 6172 5261 6e67  t=1).)._charRang
-00035530: 6520 3d20 4772 6f75 7028 5f73 696e 676c  e = Group(_singl
-00035540: 6543 6861 7220 2b20 5375 7070 7265 7373  eChar + Suppress
-00035550: 2822 2d22 2920 2b20 5f73 696e 676c 6543  ("-") + _singleC
-00035560: 6861 7229 0a5f 7265 4272 6163 6b65 7445  har)._reBracketE
-00035570: 7870 7220 3d20 280a 2020 2020 4c69 7465  xpr = (.    Lite
-00035580: 7261 6c28 225b 2229 0a20 2020 202b 204f  ral("[").    + O
-00035590: 7074 2822 5e22 292e 7365 745f 7265 7375  pt("^").set_resu
-000355a0: 6c74 735f 6e61 6d65 2822 6e65 6761 7465  lts_name("negate
-000355b0: 2229 0a20 2020 202b 2047 726f 7570 284f  ").    + Group(O
-000355c0: 6e65 4f72 4d6f 7265 285f 6368 6172 5261  neOrMore(_charRa
-000355d0: 6e67 6520 7c20 5f73 696e 676c 6543 6861  nge | _singleCha
-000355e0: 7229 292e 7365 745f 7265 7375 6c74 735f  r)).set_results_
-000355f0: 6e61 6d65 2822 626f 6479 2229 0a20 2020  name("body").   
-00035600: 202b 204c 6974 6572 616c 2822 5d22 290a   + Literal("]").
-00035610: 290a 0a0a 6465 6620 7372 616e 6765 2873  )...def srange(s
-00035620: 3a20 7374 7229 202d 3e20 7374 723a 0a20  : str) -> str:. 
-00035630: 2020 2072 2222 2248 656c 7065 7220 746f     r"""Helper to
-00035640: 2065 6173 696c 7920 6465 6669 6e65 2073   easily define s
-00035650: 7472 696e 6720 7261 6e67 6573 2066 6f72  tring ranges for
-00035660: 2075 7365 2069 6e20 3a63 6c61 7373 3a60   use in :class:`
-00035670: 576f 7264 600a 2020 2020 636f 6e73 7472  Word`.    constr
-00035680: 7563 7469 6f6e 2e20 426f 7272 6f77 7320  uction. Borrows 
-00035690: 7379 6e74 6178 2066 726f 6d20 7265 6765  syntax from rege
-000356a0: 7870 2060 6027 5b5d 2760 6020 7374 7269  xp ``'[]'`` stri
-000356b0: 6e67 2072 616e 6765 0a20 2020 2064 6566  ng range.    def
-000356c0: 696e 6974 696f 6e73 3a3a 0a0a 2020 2020  initions::..    
-000356d0: 2020 2020 7372 616e 6765 2822 5b30 2d39      srange("[0-9
-000356e0: 5d22 2920 2020 2d3e 2022 3031 3233 3435  ]")   -> "012345
-000356f0: 3637 3839 220a 2020 2020 2020 2020 7372  6789".        sr
-00035700: 616e 6765 2822 5b61 2d7a 5d22 2920 2020  ange("[a-z]")   
-00035710: 2d3e 2022 6162 6364 6566 6768 696a 6b6c  -> "abcdefghijkl
-00035720: 6d6e 6f70 7172 7374 7576 7778 797a 220a  mnopqrstuvwxyz".
-00035730: 2020 2020 2020 2020 7372 616e 6765 2822          srange("
-00035740: 5b61 2d7a 245f 5d22 2920 2d3e 2022 6162  [a-z$_]") -> "ab
-00035750: 6364 6566 6768 696a 6b6c 6d6e 6f70 7172  cdefghijklmnopqr
-00035760: 7374 7576 7778 797a 245f 220a 0a20 2020  stuvwxyz$_"..   
-00035770: 2054 6865 2069 6e70 7574 2073 7472 696e   The input strin
-00035780: 6720 6d75 7374 2062 6520 656e 636c 6f73  g must be enclos
-00035790: 6564 2069 6e20 5b5d 2773 2c20 616e 6420  ed in []'s, and 
-000357a0: 7468 6520 7265 7475 726e 6564 2073 7472  the returned str
-000357b0: 696e 670a 2020 2020 6973 2074 6865 2065  ing.    is the e
-000357c0: 7870 616e 6465 6420 6368 6172 6163 7465  xpanded characte
-000357d0: 7220 7365 7420 6a6f 696e 6564 2069 6e74  r set joined int
-000357e0: 6f20 6120 7369 6e67 6c65 2073 7472 696e  o a single strin
-000357f0: 672e 2054 6865 0a20 2020 2076 616c 7565  g. The.    value
-00035800: 7320 656e 636c 6f73 6564 2069 6e20 7468  s enclosed in th
-00035810: 6520 5b5d 2773 206d 6179 2062 653a 0a0a  e []'s may be:..
-00035820: 2020 2020 2d20 6120 7369 6e67 6c65 2063      - a single c
-00035830: 6861 7261 6374 6572 0a20 2020 202d 2061  haracter.    - a
-00035840: 6e20 6573 6361 7065 6420 6368 6172 6163  n escaped charac
-00035850: 7465 7220 7769 7468 2061 206c 6561 6469  ter with a leadi
-00035860: 6e67 2062 6163 6b73 6c61 7368 2028 7375  ng backslash (su
-00035870: 6368 2061 7320 6060 5c2d 6060 0a20 2020  ch as ``\-``.   
-00035880: 2020 206f 7220 6060 5c5d 6060 290a 2020     or ``\]``).  
-00035890: 2020 2d20 616e 2065 7363 6170 6564 2068    - an escaped h
-000358a0: 6578 2063 6861 7261 6374 6572 2077 6974  ex character wit
-000358b0: 6820 6120 6c65 6164 696e 6720 6060 275c  h a leading ``'\
-000358c0: 7827 6060 0a20 2020 2020 2028 6060 5c78  x'``.      (``\x
-000358d0: 3231 6060 2c20 7768 6963 6820 6973 2061  21``, which is a
-000358e0: 2060 6027 2127 6060 2063 6861 7261 6374   ``'!'`` charact
-000358f0: 6572 2920 2860 605c 3078 2323 6060 0a20  er) (``\0x##``. 
-00035900: 2020 2020 2069 7320 616c 736f 2073 7570       is also sup
-00035910: 706f 7274 6564 2066 6f72 2062 6163 6b77  ported for backw
-00035920: 6172 6473 2063 6f6d 7061 7469 6269 6c69  ards compatibili
-00035930: 7479 290a 2020 2020 2d20 616e 2065 7363  ty).    - an esc
-00035940: 6170 6564 206f 6374 616c 2063 6861 7261  aped octal chara
-00035950: 6374 6572 2077 6974 6820 6120 6c65 6164  cter with a lead
-00035960: 696e 6720 6060 275c 3027 6060 0a20 2020  ing ``'\0'``.   
-00035970: 2020 2028 6060 5c30 3431 6060 2c20 7768     (``\041``, wh
-00035980: 6963 6820 6973 2061 2060 6027 2127 6060  ich is a ``'!'``
-00035990: 2063 6861 7261 6374 6572 290a 2020 2020   character).    
-000359a0: 2d20 6120 7261 6e67 6520 6f66 2061 6e79  - a range of any
-000359b0: 206f 6620 7468 6520 6162 6f76 652c 2073   of the above, s
-000359c0: 6570 6172 6174 6564 2062 7920 6120 6461  eparated by a da
-000359d0: 7368 2028 6060 2761 2d7a 2760 602c 0a20  sh (``'a-z'``,. 
-000359e0: 2020 2020 2065 7463 2e29 0a20 2020 202d       etc.).    -
-000359f0: 2061 6e79 2063 6f6d 6269 6e61 7469 6f6e   any combination
-00035a00: 206f 6620 7468 6520 6162 6f76 6520 2860   of the above (`
-00035a10: 6027 6165 696f 7579 2760 602c 0a20 2020  `'aeiouy'``,.   
-00035a20: 2020 2060 6027 612d 7a41 2d5a 302d 395f     ``'a-zA-Z0-9_
-00035a30: 2427 6060 2c20 6574 632e 290a 2020 2020  $'``, etc.).    
-00035a40: 2222 220a 2020 2020 5f65 7870 616e 6465  """.    _expande
-00035a50: 6420 3d20 280a 2020 2020 2020 2020 6c61  d = (.        la
-00035a60: 6d62 6461 2070 3a20 700a 2020 2020 2020  mbda p: p.      
-00035a70: 2020 6966 206e 6f74 2069 7369 6e73 7461    if not isinsta
-00035a80: 6e63 6528 702c 2050 6172 7365 5265 7375  nce(p, ParseResu
-00035a90: 6c74 7329 0a20 2020 2020 2020 2065 6c73  lts).        els
-00035aa0: 6520 2222 2e6a 6f69 6e28 6368 7228 6329  e "".join(chr(c)
-00035ab0: 2066 6f72 2063 2069 6e20 7261 6e67 6528   for c in range(
-00035ac0: 6f72 6428 705b 305d 292c 206f 7264 2870  ord(p[0]), ord(p
-00035ad0: 5b31 5d29 202b 2031 2929 0a20 2020 2029  [1]) + 1)).    )
-00035ae0: 0a20 2020 2074 7279 3a0a 2020 2020 2020  .    try:.      
-00035af0: 2020 7265 7475 726e 2022 222e 6a6f 696e    return "".join
-00035b00: 285f 6578 7061 6e64 6564 2870 6172 7429  (_expanded(part)
-00035b10: 2066 6f72 2070 6172 7420 696e 205f 7265   for part in _re
-00035b20: 4272 6163 6b65 7445 7870 722e 7061 7273  BracketExpr.pars
-00035b30: 655f 7374 7269 6e67 2873 292e 626f 6479  e_string(s).body
-00035b40: 290a 2020 2020 6578 6365 7074 2045 7863  ).    except Exc
-00035b50: 6570 7469 6f6e 2061 7320 653a 0a20 2020  eption as e:.   
-00035b60: 2020 2020 2072 6574 7572 6e20 2222 0a0a       return ""..
-00035b70: 0a64 6566 2074 6f6b 656e 5f6d 6170 2866  .def token_map(f
-00035b80: 756e 632c 202a 6172 6773 2920 2d3e 2050  unc, *args) -> P
-00035b90: 6172 7365 4163 7469 6f6e 3a0a 2020 2020  arseAction:.    
-00035ba0: 2222 2248 656c 7065 7220 746f 2064 6566  """Helper to def
-00035bb0: 696e 6520 6120 7061 7273 6520 6163 7469  ine a parse acti
-00035bc0: 6f6e 2062 7920 6d61 7070 696e 6720 6120  on by mapping a 
-00035bd0: 6675 6e63 7469 6f6e 2074 6f20 616c 6c0a  function to all.
-00035be0: 2020 2020 656c 656d 656e 7473 206f 6620      elements of 
-00035bf0: 6120 3a63 6c61 7373 3a60 5061 7273 6552  a :class:`ParseR
-00035c00: 6573 756c 7473 6020 6c69 7374 2e20 4966  esults` list. If
-00035c10: 2061 6e79 2061 6464 6974 696f 6e61 6c20   any additional 
-00035c20: 6172 6773 2061 7265 2070 6173 7365 642c  args are passed,
-00035c30: 0a20 2020 2074 6865 7920 6172 6520 666f  .    they are fo
-00035c40: 7277 6172 6465 6420 746f 2074 6865 2067  rwarded to the g
-00035c50: 6976 656e 2066 756e 6374 696f 6e20 6173  iven function as
-00035c60: 2061 6464 6974 696f 6e61 6c20 6172 6775   additional argu
-00035c70: 6d65 6e74 730a 2020 2020 6166 7465 7220  ments.    after 
-00035c80: 7468 6520 746f 6b65 6e2c 2061 7320 696e  the token, as in
-00035c90: 0a20 2020 2060 6068 6578 5f69 6e74 6567  .    ``hex_integ
-00035ca0: 6572 203d 2057 6f72 6428 6865 786e 756d  er = Word(hexnum
-00035cb0: 7329 2e73 6574 5f70 6172 7365 5f61 6374  s).set_parse_act
-00035cc0: 696f 6e28 746f 6b65 6e5f 6d61 7028 696e  ion(token_map(in
-00035cd0: 742c 2031 3629 2960 602c 0a20 2020 2077  t, 16))``,.    w
-00035ce0: 6869 6368 2077 696c 6c20 636f 6e76 6572  hich will conver
-00035cf0: 7420 7468 6520 7061 7273 6564 2064 6174  t the parsed dat
-00035d00: 6120 746f 2061 6e20 696e 7465 6765 7220  a to an integer 
-00035d10: 7573 696e 6720 6261 7365 2031 362e 0a0a  using base 16...
-00035d20: 2020 2020 4578 616d 706c 6520 2863 6f6d      Example (com
-00035d30: 7061 7265 2074 6865 206c 6173 7420 746f  pare the last to
-00035d40: 2065 7861 6d70 6c65 2069 6e20 3a63 6c61   example in :cla
-00035d50: 7373 3a60 5061 7273 6572 456c 656d 656e  ss:`ParserElemen
-00035d60: 742e 7472 616e 7366 6f72 6d5f 7374 7269  t.transform_stri
-00035d70: 6e67 603a 3a0a 0a20 2020 2020 2020 2068  ng`::..        h
-00035d80: 6578 5f69 6e74 7320 3d20 576f 7264 2868  ex_ints = Word(h
-00035d90: 6578 6e75 6d73 295b 312c 202e 2e2e 5d2e  exnums)[1, ...].
-00035da0: 7365 745f 7061 7273 655f 6163 7469 6f6e  set_parse_action
-00035db0: 2874 6f6b 656e 5f6d 6170 2869 6e74 2c20  (token_map(int, 
-00035dc0: 3136 2929 0a20 2020 2020 2020 2068 6578  16)).        hex
-00035dd0: 5f69 6e74 732e 7275 6e5f 7465 7374 7328  _ints.run_tests(
-00035de0: 2727 270a 2020 2020 2020 2020 2020 2020  '''.            
-00035df0: 3030 2031 3120 3232 2061 6120 4646 2030  00 11 22 aa FF 0
-00035e00: 6120 3064 2031 610a 2020 2020 2020 2020  a 0d 1a.        
-00035e10: 2020 2020 2727 2729 0a0a 2020 2020 2020      ''')..      
-00035e20: 2020 7570 7065 7277 6f72 6420 3d20 576f    upperword = Wo
-00035e30: 7264 2861 6c70 6861 7329 2e73 6574 5f70  rd(alphas).set_p
-00035e40: 6172 7365 5f61 6374 696f 6e28 746f 6b65  arse_action(toke
-00035e50: 6e5f 6d61 7028 7374 722e 7570 7065 7229  n_map(str.upper)
-00035e60: 290a 2020 2020 2020 2020 7570 7065 7277  ).        upperw
-00035e70: 6f72 645b 312c 202e 2e2e 5d2e 7275 6e5f  ord[1, ...].run_
-00035e80: 7465 7374 7328 2727 270a 2020 2020 2020  tests('''.      
-00035e90: 2020 2020 2020 6d79 206b 696e 6764 6f6d        my kingdom
-00035ea0: 2066 6f72 2061 2068 6f72 7365 0a20 2020   for a horse.   
-00035eb0: 2020 2020 2020 2020 2027 2727 290a 0a20           ''').. 
-00035ec0: 2020 2020 2020 2077 6420 3d20 576f 7264         wd = Word
-00035ed0: 2861 6c70 6861 7329 2e73 6574 5f70 6172  (alphas).set_par
-00035ee0: 7365 5f61 6374 696f 6e28 746f 6b65 6e5f  se_action(token_
-00035ef0: 6d61 7028 7374 722e 7469 746c 6529 290a  map(str.title)).
-00035f00: 2020 2020 2020 2020 7764 5b31 2c20 2e2e          wd[1, ..
-00035f10: 2e5d 2e73 6574 5f70 6172 7365 5f61 6374  .].set_parse_act
-00035f20: 696f 6e28 2720 272e 6a6f 696e 292e 7275  ion(' '.join).ru
-00035f30: 6e5f 7465 7374 7328 2727 270a 2020 2020  n_tests('''.    
-00035f40: 2020 2020 2020 2020 6e6f 7720 6973 2074          now is t
-00035f50: 6865 2077 696e 7465 7220 6f66 206f 7572  he winter of our
-00035f60: 2064 6973 636f 6e74 656e 7420 6d61 6465   discontent made
-00035f70: 2067 6c6f 7269 6f75 7320 7375 6d6d 6572   glorious summer
-00035f80: 2062 7920 7468 6973 2073 756e 206f 6620   by this sun of 
-00035f90: 796f 726b 0a20 2020 2020 2020 2020 2020  york.           
-00035fa0: 2027 2727 290a 0a20 2020 2070 7269 6e74   ''')..    print
-00035fb0: 733a 3a0a 0a20 2020 2020 2020 2030 3020  s::..        00 
-00035fc0: 3131 2032 3220 6161 2046 4620 3061 2030  11 22 aa FF 0a 0
-00035fd0: 6420 3161 0a20 2020 2020 2020 205b 302c  d 1a.        [0,
-00035fe0: 2031 372c 2033 342c 2031 3730 2c20 3235   17, 34, 170, 25
-00035ff0: 352c 2031 302c 2031 332c 2032 365d 0a0a  5, 10, 13, 26]..
-00036000: 2020 2020 2020 2020 6d79 206b 696e 6764          my kingd
-00036010: 6f6d 2066 6f72 2061 2068 6f72 7365 0a20  om for a horse. 
-00036020: 2020 2020 2020 205b 274d 5927 2c20 274b         ['MY', 'K
-00036030: 494e 4744 4f4d 272c 2027 464f 5227 2c20  INGDOM', 'FOR', 
-00036040: 2741 272c 2027 484f 5253 4527 5d0a 0a20  'A', 'HORSE'].. 
-00036050: 2020 2020 2020 206e 6f77 2069 7320 7468         now is th
-00036060: 6520 7769 6e74 6572 206f 6620 6f75 7220  e winter of our 
-00036070: 6469 7363 6f6e 7465 6e74 206d 6164 6520  discontent made 
-00036080: 676c 6f72 696f 7573 2073 756d 6d65 7220  glorious summer 
-00036090: 6279 2074 6869 7320 7375 6e20 6f66 2079  by this sun of y
-000360a0: 6f72 6b0a 2020 2020 2020 2020 5b27 4e6f  ork.        ['No
-000360b0: 7720 4973 2054 6865 2057 696e 7465 7220  w Is The Winter 
-000360c0: 4f66 204f 7572 2044 6973 636f 6e74 656e  Of Our Disconten
-000360d0: 7420 4d61 6465 2047 6c6f 7269 6f75 7320  t Made Glorious 
-000360e0: 5375 6d6d 6572 2042 7920 5468 6973 2053  Summer By This S
-000360f0: 756e 204f 6620 596f 726b 275d 0a20 2020  un Of York'].   
-00036100: 2022 2222 0a0a 2020 2020 6465 6620 7061   """..    def pa
-00036110: 2873 2c20 6c2c 2074 293a 0a20 2020 2020  (s, l, t):.     
-00036120: 2020 2072 6574 7572 6e20 5b66 756e 6328     return [func(
-00036130: 746f 6b6e 2c20 2a61 7267 7329 2066 6f72  tokn, *args) for
-00036140: 2074 6f6b 6e20 696e 2074 5d0a 0a20 2020   tokn in t]..   
-00036150: 2066 756e 635f 6e61 6d65 203d 2067 6574   func_name = get
-00036160: 6174 7472 2866 756e 632c 2022 5f5f 6e61  attr(func, "__na
-00036170: 6d65 5f5f 222c 2067 6574 6174 7472 2866  me__", getattr(f
-00036180: 756e 632c 2022 5f5f 636c 6173 735f 5f22  unc, "__class__"
-00036190: 292e 5f5f 6e61 6d65 5f5f 290a 2020 2020  ).__name__).    
-000361a0: 7061 2e5f 5f6e 616d 655f 5f20 3d20 6675  pa.__name__ = fu
-000361b0: 6e63 5f6e 616d 650a 0a20 2020 2072 6574  nc_name..    ret
-000361c0: 7572 6e20 7061 0a0a 0a64 6566 2061 7574  urn pa...def aut
-000361d0: 6f6e 616d 655f 656c 656d 656e 7473 2829  oname_elements()
-000361e0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2222   -> None:.    ""
-000361f0: 220a 2020 2020 5574 696c 6974 7920 746f  ".    Utility to
-00036200: 2073 696d 706c 6966 7920 6d61 7373 2d6e   simplify mass-n
-00036210: 616d 696e 6720 6f66 2070 6172 7365 7220  aming of parser 
-00036220: 656c 656d 656e 7473 2c20 666f 720a 2020  elements, for.  
-00036230: 2020 6765 6e65 7261 7469 6e67 2072 6169    generating rai
-00036240: 6c72 6f61 6420 6469 6167 7261 6d20 7769  lroad diagram wi
-00036250: 7468 206e 616d 6564 2073 7562 6469 6167  th named subdiag
-00036260: 7261 6d73 2e0a 2020 2020 2222 220a 2020  rams..    """.  
-00036270: 2020 6361 6c6c 696e 675f 6672 616d 6520    calling_frame 
-00036280: 3d20 7379 732e 5f67 6574 6672 616d 6528  = sys._getframe(
-00036290: 292e 665f 6261 636b 0a20 2020 2069 6620  ).f_back.    if 
-000362a0: 6361 6c6c 696e 675f 6672 616d 6520 6973  calling_frame is
-000362b0: 204e 6f6e 653a 0a20 2020 2020 2020 2072   None:.        r
-000362c0: 6574 7572 6e0a 2020 2020 6361 6c6c 696e  eturn.    callin
-000362d0: 675f 6672 616d 6520 3d20 7479 7069 6e67  g_frame = typing
-000362e0: 2e63 6173 7428 7479 7065 732e 4672 616d  .cast(types.Fram
-000362f0: 6554 7970 652c 2063 616c 6c69 6e67 5f66  eType, calling_f
-00036300: 7261 6d65 290a 2020 2020 666f 7220 6e61  rame).    for na
-00036310: 6d65 2c20 7661 7220 696e 2063 616c 6c69  me, var in calli
-00036320: 6e67 5f66 7261 6d65 2e66 5f6c 6f63 616c  ng_frame.f_local
-00036330: 732e 6974 656d 7328 293a 0a20 2020 2020  s.items():.     
-00036340: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-00036350: 2876 6172 2c20 5061 7273 6572 456c 656d  (var, ParserElem
-00036360: 656e 7429 2061 6e64 206e 6f74 2076 6172  ent) and not var
-00036370: 2e63 7573 746f 6d4e 616d 653a 0a20 2020  .customName:.   
-00036380: 2020 2020 2020 2020 2076 6172 2e73 6574           var.set
-00036390: 5f6e 616d 6528 6e61 6d65 290a 0a0a 6462  _name(name)...db
-000363a0: 6c5f 7175 6f74 6564 5f73 7472 696e 6720  l_quoted_string 
-000363b0: 3d20 436f 6d62 696e 6528 0a20 2020 2052  = Combine(.    R
-000363c0: 6567 6578 2872 2722 283f 3a5b 5e22 5c6e  egex(r'"(?:[^"\n
-000363d0: 5c72 5c5c 5d7c 283f 3a22 2229 7c28 3f3a  \r\\]|(?:"")|(?:
-000363e0: 5c5c 283f 3a5b 5e78 5d7c 785b 302d 3961  \\(?:[^x]|x[0-9a
-000363f0: 2d66 412d 465d 2b29 2929 2a27 2920 2b20  -fA-F]+)))*') + 
-00036400: 2722 270a 292e 7365 745f 6e61 6d65 2822  '"'.).set_name("
-00036410: 7374 7269 6e67 2065 6e63 6c6f 7365 6420  string enclosed 
-00036420: 696e 2064 6f75 626c 6520 7175 6f74 6573  in double quotes
-00036430: 2229 0a0a 7367 6c5f 7175 6f74 6564 5f73  ")..sgl_quoted_s
-00036440: 7472 696e 6720 3d20 436f 6d62 696e 6528  tring = Combine(
-00036450: 0a20 2020 2052 6567 6578 2872 2227 283f  .    Regex(r"'(?
-00036460: 3a5b 5e27 5c6e 5c72 5c5c 5d7c 283f 3a27  :[^'\n\r\\]|(?:'
-00036470: 2729 7c28 3f3a 5c5c 283f 3a5b 5e78 5d7c  ')|(?:\\(?:[^x]|
-00036480: 785b 302d 3961 2d66 412d 465d 2b29 2929  x[0-9a-fA-F]+)))
-00036490: 2a22 2920 2b20 2227 220a 292e 7365 745f  *") + "'".).set_
-000364a0: 6e61 6d65 2822 7374 7269 6e67 2065 6e63  name("string enc
-000364b0: 6c6f 7365 6420 696e 2073 696e 676c 6520  losed in single 
-000364c0: 7175 6f74 6573 2229 0a0a 7175 6f74 6564  quotes")..quoted
-000364d0: 5f73 7472 696e 6720 3d20 436f 6d62 696e  _string = Combin
-000364e0: 6528 0a20 2020 2028 5265 6765 7828 7227  e(.    (Regex(r'
-000364f0: 2228 3f3a 5b5e 225c 6e5c 725c 5c5d 7c28  "(?:[^"\n\r\\]|(
-00036500: 3f3a 2222 297c 283f 3a5c 5c28 3f3a 5b5e  ?:"")|(?:\\(?:[^
-00036510: 785d 7c78 5b30 2d39 612d 6641 2d46 5d2b  x]|x[0-9a-fA-F]+
-00036520: 2929 292a 2729 202b 2027 2227 292e 7365  )))*') + '"').se
-00036530: 745f 6e61 6d65 280a 2020 2020 2020 2020  t_name(.        
-00036540: 2264 6f75 626c 6520 7175 6f74 6564 2073  "double quoted s
-00036550: 7472 696e 6722 0a20 2020 2029 0a20 2020  tring".    ).   
-00036560: 207c 2028 5265 6765 7828 7222 2728 3f3a   | (Regex(r"'(?:
-00036570: 5b5e 275c 6e5c 725c 5c5d 7c28 3f3a 2727  [^'\n\r\\]|(?:''
-00036580: 297c 283f 3a5c 5c28 3f3a 5b5e 785d 7c78  )|(?:\\(?:[^x]|x
-00036590: 5b30 2d39 612d 6641 2d46 5d2b 2929 292a  [0-9a-fA-F]+)))*
-000365a0: 2229 202b 2022 2722 292e 7365 745f 6e61  ") + "'").set_na
-000365b0: 6d65 280a 2020 2020 2020 2020 2273 696e  me(.        "sin
-000365c0: 676c 6520 7175 6f74 6564 2073 7472 696e  gle quoted strin
-000365d0: 6722 0a20 2020 2029 0a29 2e73 6574 5f6e  g".    ).).set_n
-000365e0: 616d 6528 2271 756f 7465 6420 7374 7269  ame("quoted stri
-000365f0: 6e67 2075 7369 6e67 2073 696e 676c 6520  ng using single 
-00036600: 6f72 2064 6f75 626c 6520 7175 6f74 6573  or double quotes
-00036610: 2229 0a0a 7079 7468 6f6e 5f71 756f 7465  ")..python_quote
-00036620: 645f 7374 7269 6e67 203d 2043 6f6d 6269  d_string = Combi
-00036630: 6e65 280a 2020 2020 2852 6567 6578 2872  ne(.    (Regex(r
-00036640: 2722 285b 5e22 5d7c 2222 3f28 3f21 2229  '"([^"]|""?(?!")
-00036650: 292a 272c 2066 6c61 6773 3d72 652e 4d55  )*', flags=re.MU
-00036660: 4c54 494c 494e 4529 202b 2027 2222 2227  LTILINE) + '"""'
-00036670: 292e 7365 745f 6e61 6d65 280a 2020 2020  ).set_name(.    
-00036680: 2020 2020 226d 756c 7469 6c69 6e65 2064      "multiline d
-00036690: 6f75 626c 6520 7175 6f74 6564 2073 7472  ouble quoted str
-000366a0: 696e 6722 0a20 2020 2029 0a20 2020 207c  ing".    ).    |
-000366b0: 2028 5265 6765 7828 7222 2728 5b5e 275d   (Regex(r"'([^']
-000366c0: 7c27 273f 283f 2127 2929 2a22 2c20 666c  |''?(?!'))*", fl
-000366d0: 6167 733d 7265 2e4d 554c 5449 4c49 4e45  ags=re.MULTILINE
-000366e0: 2920 2b20 2227 2727 2229 2e73 6574 5f6e  ) + "'''").set_n
-000366f0: 616d 6528 0a20 2020 2020 2020 2022 6d75  ame(.        "mu
-00036700: 6c74 696c 696e 6520 7369 6e67 6c65 2071  ltiline single q
-00036710: 756f 7465 6420 7374 7269 6e67 220a 2020  uoted string".  
-00036720: 2020 290a 2020 2020 7c20 2852 6567 6578    ).    | (Regex
-00036730: 2872 2722 283f 3a5b 5e22 5c6e 5c72 5c5c  (r'"(?:[^"\n\r\\
-00036740: 5d7c 283f 3a22 2229 7c28 3f3a 5c5c 283f  ]|(?:"")|(?:\\(?
-00036750: 3a5b 5e78 5d7c 785b 302d 3961 2d66 412d  :[^x]|x[0-9a-fA-
-00036760: 465d 2b29 2929 2a27 2920 2b20 2722 2729  F]+)))*') + '"')
-00036770: 2e73 6574 5f6e 616d 6528 0a20 2020 2020  .set_name(.     
-00036780: 2020 2022 646f 7562 6c65 2071 756f 7465     "double quote
-00036790: 6420 7374 7269 6e67 220a 2020 2020 290a  d string".    ).
-000367a0: 2020 2020 7c20 2852 6567 6578 2872 2227      | (Regex(r"'
-000367b0: 283f 3a5b 5e27 5c6e 5c72 5c5c 5d7c 283f  (?:[^'\n\r\\]|(?
-000367c0: 3a27 2729 7c28 3f3a 5c5c 283f 3a5b 5e78  :'')|(?:\\(?:[^x
-000367d0: 5d7c 785b 302d 3961 2d66 412d 465d 2b29  ]|x[0-9a-fA-F]+)
-000367e0: 2929 2a22 2920 2b20 2227 2229 2e73 6574  ))*") + "'").set
-000367f0: 5f6e 616d 6528 0a20 2020 2020 2020 2022  _name(.        "
-00036800: 7369 6e67 6c65 2071 756f 7465 6420 7374  single quoted st
-00036810: 7269 6e67 220a 2020 2020 290a 292e 7365  ring".    ).).se
-00036820: 745f 6e61 6d65 2822 5079 7468 6f6e 2071  t_name("Python q
-00036830: 756f 7465 6420 7374 7269 6e67 2229 0a0a  uoted string")..
-00036840: 756e 6963 6f64 655f 7374 7269 6e67 203d  unicode_string =
-00036850: 2043 6f6d 6269 6e65 2822 7522 202b 2071   Combine("u" + q
-00036860: 756f 7465 645f 7374 7269 6e67 2e63 6f70  uoted_string.cop
-00036870: 7928 2929 2e73 6574 5f6e 616d 6528 2275  y()).set_name("u
-00036880: 6e69 636f 6465 2073 7472 696e 6720 6c69  nicode string li
-00036890: 7465 7261 6c22 290a 0a0a 616c 7068 6173  teral")...alphas
-000368a0: 3862 6974 203d 2073 7261 6e67 6528 7222  8bit = srange(r"
-000368b0: 5b5c 3078 6330 2d5c 3078 6436 5c30 7864  [\0xc0-\0xd6\0xd
-000368c0: 382d 5c30 7866 365c 3078 6638 2d5c 3078  8-\0xf6\0xf8-\0x
-000368d0: 6666 5d22 290a 7075 6e63 3862 6974 203d  ff]").punc8bit =
-000368e0: 2073 7261 6e67 6528 7222 5b5c 3078 6131   srange(r"[\0xa1
-000368f0: 2d5c 3078 6266 5c30 7864 375c 3078 6637  -\0xbf\0xd7\0xf7
-00036900: 5d22 290a 0a23 2062 7569 6c64 206c 6973  ]")..# build lis
-00036910: 7420 6f66 2062 7569 6c74 2d69 6e20 6578  t of built-in ex
-00036920: 7072 6573 7369 6f6e 732c 2066 6f72 2066  pressions, for f
-00036930: 7574 7572 6520 7265 6665 7265 6e63 6520  uture reference 
-00036940: 6966 2061 2067 6c6f 6261 6c20 6465 6661  if a global defa
-00036950: 756c 7420 7661 6c75 650a 2320 6765 7473  ult value.# gets
-00036960: 2075 7064 6174 6564 0a5f 6275 696c 7469   updated._builti
-00036970: 6e5f 6578 7072 733a 204c 6973 745b 5061  n_exprs: List[Pa
-00036980: 7273 6572 456c 656d 656e 745d 203d 205b  rserElement] = [
-00036990: 0a20 2020 2076 2066 6f72 2076 2069 6e20  .    v for v in 
-000369a0: 7661 7273 2829 2e76 616c 7565 7328 2920  vars().values() 
-000369b0: 6966 2069 7369 6e73 7461 6e63 6528 762c  if isinstance(v,
-000369c0: 2050 6172 7365 7245 6c65 6d65 6e74 290a   ParserElement).
-000369d0: 5d0a 0a23 2062 6163 6b77 6172 6420 636f  ]..# backward co
-000369e0: 6d70 6174 6962 696c 6974 7920 6e61 6d65  mpatibility name
-000369f0: 730a 2320 666d 743a 206f 6666 0a73 676c  s.# fmt: off.sgl
-00036a00: 5175 6f74 6564 5374 7269 6e67 203d 2073  QuotedString = s
-00036a10: 676c 5f71 756f 7465 645f 7374 7269 6e67  gl_quoted_string
-00036a20: 0a64 626c 5175 6f74 6564 5374 7269 6e67  .dblQuotedString
-00036a30: 203d 2064 626c 5f71 756f 7465 645f 7374   = dbl_quoted_st
-00036a40: 7269 6e67 0a71 756f 7465 6453 7472 696e  ring.quotedStrin
-00036a50: 6720 3d20 7175 6f74 6564 5f73 7472 696e  g = quoted_strin
-00036a60: 670a 756e 6963 6f64 6553 7472 696e 6720  g.unicodeString 
-00036a70: 3d20 756e 6963 6f64 655f 7374 7269 6e67  = unicode_string
-00036a80: 0a6c 696e 6553 7461 7274 203d 206c 696e  .lineStart = lin
-00036a90: 655f 7374 6172 740a 6c69 6e65 456e 6420  e_start.lineEnd 
-00036aa0: 3d20 6c69 6e65 5f65 6e64 0a73 7472 696e  = line_end.strin
-00036ab0: 6753 7461 7274 203d 2073 7472 696e 675f  gStart = string_
-00036ac0: 7374 6172 740a 7374 7269 6e67 456e 6420  start.stringEnd 
-00036ad0: 3d20 7374 7269 6e67 5f65 6e64 0a0a 4072  = string_end..@r
-00036ae0: 6570 6c61 6365 645f 6279 5f70 6570 3828  eplaced_by_pep8(
-00036af0: 6e75 6c6c 5f64 6562 7567 5f61 6374 696f  null_debug_actio
-00036b00: 6e29 0a64 6566 206e 756c 6c44 6562 7567  n).def nullDebug
-00036b10: 4163 7469 6f6e 2829 3a20 2e2e 2e0a 0a40  Action(): .....@
-00036b20: 7265 706c 6163 6564 5f62 795f 7065 7038  replaced_by_pep8
-00036b30: 2874 7261 6365 5f70 6172 7365 5f61 6374  (trace_parse_act
-00036b40: 696f 6e29 0a64 6566 2074 7261 6365 5061  ion).def tracePa
-00036b50: 7273 6541 6374 696f 6e28 293a 202e 2e2e  rseAction(): ...
-00036b60: 0a0a 4072 6570 6c61 6365 645f 6279 5f70  ..@replaced_by_p
-00036b70: 6570 3828 636f 6e64 6974 696f 6e5f 6173  ep8(condition_as
-00036b80: 5f70 6172 7365 5f61 6374 696f 6e29 0a64  _parse_action).d
-00036b90: 6566 2063 6f6e 6469 7469 6f6e 4173 5061  ef conditionAsPa
-00036ba0: 7273 6541 6374 696f 6e28 293a 202e 2e2e  rseAction(): ...
-00036bb0: 0a0a 4072 6570 6c61 6365 645f 6279 5f70  ..@replaced_by_p
-00036bc0: 6570 3828 746f 6b65 6e5f 6d61 7029 0a64  ep8(token_map).d
-00036bd0: 6566 2074 6f6b 656e 4d61 7028 293a 202e  ef tokenMap(): .
-00036be0: 2e2e 0a23 2066 6d74 3a20 6f6e 0a         ...# fmt: on.
+00031d00: 2020 2065 7863 6570 7420 5061 7273 6545     except ParseE
+00031d10: 7863 6570 7469 6f6e 3a0a 2020 2020 2020  xception:.      
+00031d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031d30: 2020 2320 7765 2066 6169 6c65 6420 6265    # we failed be
+00031d40: 666f 7265 2067 6574 7469 6e67 2061 6e79  fore getting any
+00031d50: 206d 6174 6368 20e2 8093 2064 6f20 6e6f   match ... do no
+00031d60: 7420 6869 6465 2074 6865 2065 7272 6f72  t hide the error
+00031d70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031d80: 2020 2020 2020 2020 2069 6620 6973 696e           if isin
+00031d90: 7374 616e 6365 2870 7265 765f 7065 656b  stance(prev_peek
+00031da0: 2c20 4578 6365 7074 696f 6e29 3a0a 2020  , Exception):.  
+00031db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031dc0: 2020 2020 2020 2020 2020 7261 6973 650a            raise.
+00031dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031de0: 2020 2020 2020 2020 6e65 775f 6c6f 632c          new_loc,
+00031df0: 206e 6577 5f70 6565 6b20 3d20 7072 6576   new_peek = prev
+00031e00: 5f6c 6f63 2c20 7072 6576 5f70 6565 6b0a  _loc, prev_peek.
+00031e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031e20: 2020 2020 2320 7468 6520 6d61 7463 6820      # the match 
+00031e30: 6469 6420 6e6f 7420 6765 7420 6265 7474  did not get bett
+00031e40: 6572 3a20 7765 2061 7265 2064 6f6e 650a  er: we are done.
+00031e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031e60: 2020 2020 6966 206e 6577 5f6c 6f63 203c      if new_loc <
+00031e70: 3d20 7072 6576 5f6c 6f63 3a0a 2020 2020  = prev_loc:.    
+00031e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031e90: 2020 2020 6966 2064 6f41 6374 696f 6e73      if doActions
+00031ea0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00031eb0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+00031ec0: 7265 706c 6163 6520 7468 6520 6d61 7463  replace the matc
+00031ed0: 6820 666f 7220 646f 4163 7469 6f6e 733d  h for doActions=
+00031ee0: 4661 6c73 6520 6173 2077 656c 6c2c 0a20  False as well,. 
+00031ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031f00: 2020 2020 2020 2020 2020 2023 2069 6e20             # in 
+00031f10: 6361 7365 2074 6865 2061 6374 696f 6e20  case the action 
+00031f20: 6469 6420 6261 636b 7472 6163 6b0a 2020  did backtrack.  
+00031f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031f40: 2020 2020 2020 2020 2020 7072 6576 5f6c            prev_l
+00031f50: 6f63 2c20 7072 6576 5f72 6573 756c 7420  oc, prev_result 
+00031f60: 3d20 6d65 6d6f 5b70 6565 6b5f 6b65 795d  = memo[peek_key]
+00031f70: 203d 206d 656d 6f5b 6163 745f 6b65 795d   = memo[act_key]
+00031f80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031f90: 2020 2020 2020 2020 2020 2020 2064 656c               del
+00031fa0: 206d 656d 6f5b 7065 656b 5f6b 6579 5d2c   memo[peek_key],
+00031fb0: 206d 656d 6f5b 6163 745f 6b65 795d 0a20   memo[act_key]. 
+00031fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031fd0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00031fe0: 6e20 7072 6576 5f6c 6f63 2c20 7072 6576  n prev_loc, prev
+00031ff0: 5f72 6573 756c 742e 636f 7079 2829 0a20  _result.copy(). 
+00032000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032010: 2020 2020 2020 2064 656c 206d 656d 6f5b         del memo[
+00032020: 7065 656b 5f6b 6579 5d0a 2020 2020 2020  peek_key].      
+00032030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032040: 2020 7265 7475 726e 2070 7265 765f 6c6f    return prev_lo
+00032050: 632c 2070 7265 765f 7065 656b 2e63 6f70  c, prev_peek.cop
+00032060: 7928 290a 2020 2020 2020 2020 2020 2020  y().            
+00032070: 2020 2020 2020 2020 2320 7468 6520 6d61          # the ma
+00032080: 7463 6820 6469 6420 6765 7420 6265 7474  tch did get bett
+00032090: 6572 3a20 7365 6520 6966 2077 6520 6361  er: see if we ca
+000320a0: 6e20 696d 7072 6f76 6520 6675 7274 6865  n improve furthe
+000320b0: 720a 2020 2020 2020 2020 2020 2020 2020  r.              
+000320c0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+000320d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000320e0: 2020 2020 6966 2064 6f41 6374 696f 6e73      if doActions
+000320f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00032100: 2020 2020 2020 2020 2020 2020 2020 7472                tr
+00032110: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
+00032120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032130: 2020 206d 656d 6f5b 6163 745f 6b65 795d     memo[act_key]
+00032140: 203d 2073 7570 6572 2829 2e70 6172 7365   = super().parse
+00032150: 496d 706c 2869 6e73 7472 696e 672c 206c  Impl(instring, l
+00032160: 6f63 2c20 5472 7565 290a 2020 2020 2020  oc, True).      
+00032170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032180: 2020 2020 2020 6578 6365 7074 2050 6172        except Par
+00032190: 7365 4578 6365 7074 696f 6e20 6173 2065  seException as e
+000321a0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000321b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000321c0: 2020 6d65 6d6f 5b70 6565 6b5f 6b65 795d    memo[peek_key]
+000321d0: 203d 206d 656d 6f5b 6163 745f 6b65 795d   = memo[act_key]
+000321e0: 203d 2028 6e65 775f 6c6f 632c 2065 290a   = (new_loc, e).
+000321f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032210: 7261 6973 650a 2020 2020 2020 2020 2020  raise.          
+00032220: 2020 2020 2020 2020 2020 2020 2020 7072                pr
+00032230: 6576 5f6c 6f63 2c20 7072 6576 5f70 6565  ev_loc, prev_pee
+00032240: 6b20 3d20 6d65 6d6f 5b70 6565 6b5f 6b65  k = memo[peek_ke
+00032250: 795d 203d 206e 6577 5f6c 6f63 2c20 6e65  y] = new_loc, ne
+00032260: 775f 7065 656b 0a0a 2020 2020 6465 6620  w_peek..    def 
+00032270: 6c65 6176 655f 7768 6974 6573 7061 6365  leave_whitespace
+00032280: 2873 656c 662c 2072 6563 7572 7369 7665  (self, recursive
+00032290: 3a20 626f 6f6c 203d 2054 7275 6529 202d  : bool = True) -
+000322a0: 3e20 5061 7273 6572 456c 656d 656e 743a  > ParserElement:
+000322b0: 0a20 2020 2020 2020 2073 656c 662e 736b  .        self.sk
+000322c0: 6970 5768 6974 6573 7061 6365 203d 2046  ipWhitespace = F
+000322d0: 616c 7365 0a20 2020 2020 2020 2072 6574  alse.        ret
+000322e0: 7572 6e20 7365 6c66 0a0a 2020 2020 6465  urn self..    de
+000322f0: 6620 6967 6e6f 7265 5f77 6869 7465 7370  f ignore_whitesp
+00032300: 6163 6528 7365 6c66 2c20 7265 6375 7273  ace(self, recurs
+00032310: 6976 653a 2062 6f6f 6c20 3d20 5472 7565  ive: bool = True
+00032320: 2920 2d3e 2050 6172 7365 7245 6c65 6d65  ) -> ParserEleme
+00032330: 6e74 3a0a 2020 2020 2020 2020 7365 6c66  nt:.        self
+00032340: 2e73 6b69 7057 6869 7465 7370 6163 6520  .skipWhitespace 
+00032350: 3d20 5472 7565 0a20 2020 2020 2020 2072  = True.        r
+00032360: 6574 7572 6e20 7365 6c66 0a0a 2020 2020  eturn self..    
+00032370: 6465 6620 7374 7265 616d 6c69 6e65 2873  def streamline(s
+00032380: 656c 6629 202d 3e20 5061 7273 6572 456c  elf) -> ParserEl
+00032390: 656d 656e 743a 0a20 2020 2020 2020 2069  ement:.        i
+000323a0: 6620 6e6f 7420 7365 6c66 2e73 7472 6561  f not self.strea
+000323b0: 6d6c 696e 6564 3a0a 2020 2020 2020 2020  mlined:.        
+000323c0: 2020 2020 7365 6c66 2e73 7472 6561 6d6c      self.streaml
+000323d0: 696e 6564 203d 2054 7275 650a 2020 2020  ined = True.    
+000323e0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+000323f0: 6578 7072 2069 7320 6e6f 7420 4e6f 6e65  expr is not None
+00032400: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00032410: 2020 7365 6c66 2e65 7870 722e 7374 7265    self.expr.stre
+00032420: 616d 6c69 6e65 2829 0a20 2020 2020 2020  amline().       
+00032430: 2072 6574 7572 6e20 7365 6c66 0a0a 2020   return self..  
+00032440: 2020 6465 6620 7661 6c69 6461 7465 2873    def validate(s
+00032450: 656c 662c 2076 616c 6964 6174 6554 7261  elf, validateTra
+00032460: 6365 3d4e 6f6e 6529 202d 3e20 4e6f 6e65  ce=None) -> None
+00032470: 3a0a 2020 2020 2020 2020 7761 726e 696e  :.        warnin
+00032480: 6773 2e77 6172 6e28 0a20 2020 2020 2020  gs.warn(.       
+00032490: 2020 2020 2022 5061 7273 6572 456c 656d       "ParserElem
+000324a0: 656e 742e 7661 6c69 6461 7465 2829 2069  ent.validate() i
+000324b0: 7320 6465 7072 6563 6174 6564 2c20 616e  s deprecated, an
+000324c0: 6420 7368 6f75 6c64 206e 6f74 2062 6520  d should not be 
+000324d0: 7573 6564 2074 6f20 6368 6563 6b20 666f  used to check fo
+000324e0: 7220 6c65 6674 2072 6563 7572 7369 6f6e  r left recursion
+000324f0: 222c 0a20 2020 2020 2020 2020 2020 2044  ",.            D
+00032500: 6570 7265 6361 7469 6f6e 5761 726e 696e  eprecationWarnin
+00032510: 672c 0a20 2020 2020 2020 2020 2020 2073  g,.            s
+00032520: 7461 636b 6c65 7665 6c3d 322c 0a20 2020  tacklevel=2,.   
+00032530: 2020 2020 2029 0a20 2020 2020 2020 2069       ).        i
+00032540: 6620 7661 6c69 6461 7465 5472 6163 6520  f validateTrace 
+00032550: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+00032560: 2020 2020 2076 616c 6964 6174 6554 7261       validateTra
+00032570: 6365 203d 205b 5d0a 0a20 2020 2020 2020  ce = []..       
+00032580: 2069 6620 7365 6c66 206e 6f74 2069 6e20   if self not in 
+00032590: 7661 6c69 6461 7465 5472 6163 653a 0a20  validateTrace:. 
+000325a0: 2020 2020 2020 2020 2020 2074 6d70 203d             tmp =
+000325b0: 2076 616c 6964 6174 6554 7261 6365 5b3a   validateTrace[:
+000325c0: 5d20 2b20 5b73 656c 665d 0a20 2020 2020  ] + [self].     
+000325d0: 2020 2020 2020 2069 6620 7365 6c66 2e65         if self.e
+000325e0: 7870 7220 6973 206e 6f74 204e 6f6e 653a  xpr is not None:
+000325f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00032600: 2073 656c 662e 6578 7072 2e76 616c 6964   self.expr.valid
+00032610: 6174 6528 746d 7029 0a20 2020 2020 2020  ate(tmp).       
+00032620: 2073 656c 662e 5f63 6865 636b 5265 6375   self._checkRecu
+00032630: 7273 696f 6e28 5b5d 290a 0a20 2020 2064  rsion([])..    d
+00032640: 6566 205f 6765 6e65 7261 7465 4465 6661  ef _generateDefa
+00032650: 756c 744e 616d 6528 7365 6c66 2920 2d3e  ultName(self) ->
+00032660: 2073 7472 3a0a 2020 2020 2020 2020 2320   str:.        # 
+00032670: 4176 6f69 6420 696e 6669 6e69 7465 2072  Avoid infinite r
+00032680: 6563 7572 7369 6f6e 2062 7920 7365 7474  ecursion by sett
+00032690: 696e 6720 6120 7465 6d70 6f72 6172 7920  ing a temporary 
+000326a0: 5f64 6566 6175 6c74 4e61 6d65 0a20 2020  _defaultName.   
+000326b0: 2020 2020 2073 656c 662e 5f64 6566 6175       self._defau
+000326c0: 6c74 4e61 6d65 203d 2022 3a20 2e2e 2e22  ltName = ": ..."
+000326d0: 0a0a 2020 2020 2020 2020 2320 5573 6520  ..        # Use 
+000326e0: 7468 6520 7374 7269 6e67 2072 6570 7265  the string repre
+000326f0: 7365 6e74 6174 696f 6e20 6f66 206d 6169  sentation of mai
+00032700: 6e20 6578 7072 6573 7369 6f6e 2e0a 2020  n expression..  
+00032710: 2020 2020 2020 7265 7453 7472 696e 6720        retString 
+00032720: 3d20 222e 2e2e 220a 2020 2020 2020 2020  = "...".        
+00032730: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+00032740: 2069 6620 7365 6c66 2e65 7870 7220 6973   if self.expr is
+00032750: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+00032760: 2020 2020 2020 2020 2020 2072 6574 5374             retSt
+00032770: 7269 6e67 203d 2073 7472 2873 656c 662e  ring = str(self.
+00032780: 6578 7072 295b 3a31 3030 305d 0a20 2020  expr)[:1000].   
+00032790: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+000327a0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+000327b0: 6574 5374 7269 6e67 203d 2022 4e6f 6e65  etString = "None
+000327c0: 220a 2020 2020 2020 2020 6669 6e61 6c6c  ".        finall
+000327d0: 793a 0a20 2020 2020 2020 2020 2020 2072  y:.            r
+000327e0: 6574 7572 6e20 7365 6c66 2e5f 5f63 6c61  eturn self.__cla
+000327f0: 7373 5f5f 2e5f 5f6e 616d 655f 5f20 2b20  ss__.__name__ + 
+00032800: 223a 2022 202b 2072 6574 5374 7269 6e67  ": " + retString
+00032810: 0a0a 2020 2020 6465 6620 636f 7079 2873  ..    def copy(s
+00032820: 656c 6629 202d 3e20 5061 7273 6572 456c  elf) -> ParserEl
+00032830: 656d 656e 743a 0a20 2020 2020 2020 2069  ement:.        i
+00032840: 6620 7365 6c66 2e65 7870 7220 6973 206e  f self.expr is n
+00032850: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+00032860: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
+00032870: 7228 292e 636f 7079 2829 0a20 2020 2020  r().copy().     
+00032880: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00032890: 2020 2020 2072 6574 203d 2046 6f72 7761       ret = Forwa
+000328a0: 7264 2829 0a20 2020 2020 2020 2020 2020  rd().           
+000328b0: 2072 6574 203c 3c3d 2073 656c 660a 2020   ret <<= self.  
+000328c0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+000328d0: 2072 6574 0a0a 2020 2020 6465 6620 5f73   ret..    def _s
+000328e0: 6574 5265 7375 6c74 734e 616d 6528 7365  etResultsName(se
+000328f0: 6c66 2c20 6e61 6d65 2c20 6c69 7374 5f61  lf, name, list_a
+00032900: 6c6c 5f6d 6174 6368 6573 3d46 616c 7365  ll_matches=False
+00032910: 293a 0a20 2020 2020 2020 2069 6620 280a  ):.        if (.
+00032920: 2020 2020 2020 2020 2020 2020 5f5f 6469              __di
+00032930: 6167 5f5f 2e77 6172 6e5f 6e61 6d65 5f73  ag__.warn_name_s
+00032940: 6574 5f6f 6e5f 656d 7074 795f 466f 7277  et_on_empty_Forw
+00032950: 6172 640a 2020 2020 2020 2020 2020 2020  ard.            
+00032960: 616e 6420 4469 6167 6e6f 7374 6963 732e  and Diagnostics.
+00032970: 7761 726e 5f6e 616d 655f 7365 745f 6f6e  warn_name_set_on
+00032980: 5f65 6d70 7479 5f46 6f72 7761 7264 0a20  _empty_Forward. 
+00032990: 2020 2020 2020 2020 2020 206e 6f74 2069             not i
+000329a0: 6e20 7365 6c66 2e73 7570 7072 6573 735f  n self.suppress_
+000329b0: 7761 726e 696e 6773 5f0a 2020 2020 2020  warnings_.      
+000329c0: 2020 293a 0a20 2020 2020 2020 2020 2020    ):.           
+000329d0: 2069 6620 7365 6c66 2e65 7870 7220 6973   if self.expr is
+000329e0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+000329f0: 2020 2020 2020 2077 6172 6e69 6e67 732e         warnings.
+00032a00: 7761 726e 280a 2020 2020 2020 2020 2020  warn(.          
+00032a10: 2020 2020 2020 2020 2020 227b 7d3a 2073            "{}: s
+00032a20: 6574 7469 6e67 2072 6573 756c 7473 206e  etting results n
+00032a30: 616d 6520 7b21 727d 206f 6e20 7b7d 2065  ame {!r} on {} e
+00032a40: 7870 7265 7373 696f 6e20 220a 2020 2020  xpression ".    
+00032a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032a60: 2274 6861 7420 6861 7320 6e6f 2063 6f6e  "that has no con
+00032a70: 7461 696e 6564 2065 7870 7265 7373 696f  tained expressio
+00032a80: 6e22 2e66 6f72 6d61 7428 0a20 2020 2020  n".format(.     
+00032a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032aa0: 2020 2022 7761 726e 5f6e 616d 655f 7365     "warn_name_se
+00032ab0: 745f 6f6e 5f65 6d70 7479 5f46 6f72 7761  t_on_empty_Forwa
+00032ac0: 7264 222c 206e 616d 652c 2074 7970 6528  rd", name, type(
+00032ad0: 7365 6c66 292e 5f5f 6e61 6d65 5f5f 0a20  self).__name__. 
+00032ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032af0: 2020 2029 2c0a 2020 2020 2020 2020 2020     ),.          
+00032b00: 2020 2020 2020 2020 2020 7374 6163 6b6c            stackl
+00032b10: 6576 656c 3d33 2c0a 2020 2020 2020 2020  evel=3,.        
+00032b20: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+00032b30: 2020 2072 6574 7572 6e20 7375 7065 7228     return super(
+00032b40: 292e 5f73 6574 5265 7375 6c74 734e 616d  )._setResultsNam
+00032b50: 6528 6e61 6d65 2c20 6c69 7374 5f61 6c6c  e(name, list_all
+00032b60: 5f6d 6174 6368 6573 290a 0a20 2020 2023  _matches)..    #
+00032b70: 2043 6f6d 7061 7469 6269 6c69 7479 2073   Compatibility s
+00032b80: 796e 6f6e 796d 730a 2020 2020 2320 666d  ynonyms.    # fm
+00032b90: 743a 206f 6666 0a20 2020 2040 7265 706c  t: off.    @repl
+00032ba0: 6163 6564 5f62 795f 7065 7038 286c 6561  aced_by_pep8(lea
+00032bb0: 7665 5f77 6869 7465 7370 6163 6529 0a20  ve_whitespace). 
+00032bc0: 2020 2064 6566 206c 6561 7665 5768 6974     def leaveWhit
+00032bd0: 6573 7061 6365 2873 656c 6629 3a20 2e2e  espace(self): ..
+00032be0: 2e0a 0a20 2020 2040 7265 706c 6163 6564  ...    @replaced
+00032bf0: 5f62 795f 7065 7038 2869 676e 6f72 655f  _by_pep8(ignore_
+00032c00: 7768 6974 6573 7061 6365 290a 2020 2020  whitespace).    
+00032c10: 6465 6620 6967 6e6f 7265 5768 6974 6573  def ignoreWhites
+00032c20: 7061 6365 2873 656c 6629 3a20 2e2e 2e0a  pace(self): ....
+00032c30: 2020 2020 2320 666d 743a 206f 6e0a 0a0a      # fmt: on...
+00032c40: 636c 6173 7320 546f 6b65 6e43 6f6e 7665  class TokenConve
+00032c50: 7274 6572 2850 6172 7365 456c 656d 656e  rter(ParseElemen
+00032c60: 7445 6e68 616e 6365 293a 0a20 2020 2022  tEnhance):.    "
+00032c70: 2222 0a20 2020 2041 6273 7472 6163 7420  "".    Abstract 
+00032c80: 7375 6263 6c61 7373 206f 6620 3a63 6c61  subclass of :cla
+00032c90: 7373 3a60 5061 7273 6545 7870 7265 7373  ss:`ParseExpress
+00032ca0: 696f 6e60 2c20 666f 7220 636f 6e76 6572  ion`, for conver
+00032cb0: 7469 6e67 2070 6172 7365 6420 7265 7375  ting parsed resu
+00032cc0: 6c74 732e 0a20 2020 2022 2222 0a0a 2020  lts..    """..  
+00032cd0: 2020 6465 6620 5f5f 696e 6974 5f5f 2873    def __init__(s
+00032ce0: 656c 662c 2065 7870 723a 2055 6e69 6f6e  elf, expr: Union
+00032cf0: 5b50 6172 7365 7245 6c65 6d65 6e74 2c20  [ParserElement, 
+00032d00: 7374 725d 2c20 7361 7665 6c69 7374 3d46  str], savelist=F
+00032d10: 616c 7365 293a 0a20 2020 2020 2020 2073  alse):.        s
+00032d20: 7570 6572 2829 2e5f 5f69 6e69 745f 5f28  uper().__init__(
+00032d30: 6578 7072 2920 2023 202c 2073 6176 656c  expr)  # , savel
+00032d40: 6973 7429 0a20 2020 2020 2020 2073 656c  ist).        sel
+00032d50: 662e 7361 7665 4173 4c69 7374 203d 2046  f.saveAsList = F
+00032d60: 616c 7365 0a0a 0a63 6c61 7373 2043 6f6d  alse...class Com
+00032d70: 6269 6e65 2854 6f6b 656e 436f 6e76 6572  bine(TokenConver
+00032d80: 7465 7229 3a0a 2020 2020 2222 2243 6f6e  ter):.    """Con
+00032d90: 7665 7274 6572 2074 6f20 636f 6e63 6174  verter to concat
+00032da0: 656e 6174 6520 616c 6c20 6d61 7463 6869  enate all matchi
+00032db0: 6e67 2074 6f6b 656e 7320 746f 2061 2073  ng tokens to a s
+00032dc0: 696e 676c 6520 7374 7269 6e67 2e0a 2020  ingle string..  
+00032dd0: 2020 4279 2064 6566 6175 6c74 2c20 7468    By default, th
+00032de0: 6520 6d61 7463 6869 6e67 2070 6174 7465  e matching patte
+00032df0: 726e 7320 6d75 7374 2061 6c73 6f20 6265  rns must also be
+00032e00: 2063 6f6e 7469 6775 6f75 7320 696e 2074   contiguous in t
+00032e10: 6865 0a20 2020 2069 6e70 7574 2073 7472  he.    input str
+00032e20: 696e 673b 2074 6869 7320 6361 6e20 6265  ing; this can be
+00032e30: 2064 6973 6162 6c65 6420 6279 2073 7065   disabled by spe
+00032e40: 6369 6679 696e 670a 2020 2020 6060 2761  cifying.    ``'a
+00032e50: 646a 6163 656e 743d 4661 6c73 6527 6060  djacent=False'``
+00032e60: 2069 6e20 7468 6520 636f 6e73 7472 7563   in the construc
+00032e70: 746f 722e 0a0a 2020 2020 4578 616d 706c  tor...    Exampl
+00032e80: 653a 3a0a 0a20 2020 2020 2020 2072 6561  e::..        rea
+00032e90: 6c20 3d20 576f 7264 286e 756d 7329 202b  l = Word(nums) +
+00032ea0: 2027 2e27 202b 2057 6f72 6428 6e75 6d73   '.' + Word(nums
+00032eb0: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
+00032ec0: 7265 616c 2e70 6172 7365 5f73 7472 696e  real.parse_strin
+00032ed0: 6728 2733 2e31 3431 3627 2929 2023 202d  g('3.1416')) # -
+00032ee0: 3e20 5b27 3327 2c20 272e 272c 2027 3134  > ['3', '.', '14
+00032ef0: 3136 275d 0a20 2020 2020 2020 2023 2077  16'].        # w
+00032f00: 696c 6c20 616c 736f 2065 7272 6f6e 656f  ill also erroneo
+00032f10: 7573 6c79 206d 6174 6368 2074 6865 2066  usly match the f
+00032f20: 6f6c 6c6f 7769 6e67 0a20 2020 2020 2020  ollowing.       
+00032f30: 2070 7269 6e74 2872 6561 6c2e 7061 7273   print(real.pars
+00032f40: 655f 7374 7269 6e67 2827 332e 2031 3431  e_string('3. 141
+00032f50: 3627 2929 2023 202d 3e20 5b27 3327 2c20  6')) # -> ['3', 
+00032f60: 272e 272c 2027 3134 3136 275d 0a0a 2020  '.', '1416']..  
+00032f70: 2020 2020 2020 7265 616c 203d 2043 6f6d        real = Com
+00032f80: 6269 6e65 2857 6f72 6428 6e75 6d73 2920  bine(Word(nums) 
+00032f90: 2b20 272e 2720 2b20 576f 7264 286e 756d  + '.' + Word(num
+00032fa0: 7329 290a 2020 2020 2020 2020 7072 696e  s)).        prin
+00032fb0: 7428 7265 616c 2e70 6172 7365 5f73 7472  t(real.parse_str
+00032fc0: 696e 6728 2733 2e31 3431 3627 2929 2023  ing('3.1416')) #
+00032fd0: 202d 3e20 5b27 332e 3134 3136 275d 0a20   -> ['3.1416']. 
+00032fe0: 2020 2020 2020 2023 206e 6f20 6d61 7463         # no matc
+00032ff0: 6820 7768 656e 2074 6865 7265 2061 7265  h when there are
+00033000: 2069 6e74 6572 6e61 6c20 7370 6163 6573   internal spaces
+00033010: 0a20 2020 2020 2020 2070 7269 6e74 2872  .        print(r
+00033020: 6561 6c2e 7061 7273 655f 7374 7269 6e67  eal.parse_string
+00033030: 2827 332e 2031 3431 3627 2929 2023 202d  ('3. 1416')) # -
+00033040: 3e20 4578 6365 7074 696f 6e3a 2045 7870  > Exception: Exp
+00033050: 6563 7465 6420 573a 2830 3132 332e 2e2e  ected W:(0123...
+00033060: 290a 2020 2020 2222 220a 0a20 2020 2064  ).    """..    d
+00033070: 6566 205f 5f69 6e69 745f 5f28 0a20 2020  ef __init__(.   
+00033080: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00033090: 2020 2065 7870 723a 2050 6172 7365 7245     expr: ParserE
+000330a0: 6c65 6d65 6e74 2c0a 2020 2020 2020 2020  lement,.        
+000330b0: 6a6f 696e 5f73 7472 696e 673a 2073 7472  join_string: str
+000330c0: 203d 2022 222c 0a20 2020 2020 2020 2061   = "",.        a
+000330d0: 646a 6163 656e 743a 2062 6f6f 6c20 3d20  djacent: bool = 
+000330e0: 5472 7565 2c0a 2020 2020 2020 2020 2a2c  True,.        *,
+000330f0: 0a20 2020 2020 2020 206a 6f69 6e53 7472  .        joinStr
+00033100: 696e 673a 2074 7970 696e 672e 4f70 7469  ing: typing.Opti
+00033110: 6f6e 616c 5b73 7472 5d20 3d20 4e6f 6e65  onal[str] = None
+00033120: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
+00033130: 2073 7570 6572 2829 2e5f 5f69 6e69 745f   super().__init_
+00033140: 5f28 6578 7072 290a 2020 2020 2020 2020  _(expr).        
+00033150: 6a6f 696e 5374 7269 6e67 203d 206a 6f69  joinString = joi
+00033160: 6e53 7472 696e 6720 6966 206a 6f69 6e53  nString if joinS
+00033170: 7472 696e 6720 6973 206e 6f74 204e 6f6e  tring is not Non
+00033180: 6520 656c 7365 206a 6f69 6e5f 7374 7269  e else join_stri
+00033190: 6e67 0a20 2020 2020 2020 2023 2073 7570  ng.        # sup
+000331a0: 7072 6573 7320 7768 6974 6573 7061 6365  press whitespace
+000331b0: 2d73 7472 6970 7069 6e67 2069 6e20 636f  -stripping in co
+000331c0: 6e74 6169 6e65 6420 7061 7273 6520 6578  ntained parse ex
+000331d0: 7072 6573 7369 6f6e 732c 2062 7574 2072  pressions, but r
+000331e0: 652d 656e 6162 6c65 2069 7420 6f6e 2074  e-enable it on t
+000331f0: 6865 2043 6f6d 6269 6e65 2069 7473 656c  he Combine itsel
+00033200: 660a 2020 2020 2020 2020 6966 2061 646a  f.        if adj
+00033210: 6163 656e 743a 0a20 2020 2020 2020 2020  acent:.         
+00033220: 2020 2073 656c 662e 6c65 6176 655f 7768     self.leave_wh
+00033230: 6974 6573 7061 6365 2829 0a20 2020 2020  itespace().     
+00033240: 2020 2073 656c 662e 6164 6a61 6365 6e74     self.adjacent
+00033250: 203d 2061 646a 6163 656e 740a 2020 2020   = adjacent.    
+00033260: 2020 2020 7365 6c66 2e73 6b69 7057 6869      self.skipWhi
+00033270: 7465 7370 6163 6520 3d20 5472 7565 0a20  tespace = True. 
+00033280: 2020 2020 2020 2073 656c 662e 6a6f 696e         self.join
+00033290: 5374 7269 6e67 203d 206a 6f69 6e53 7472  String = joinStr
+000332a0: 696e 670a 2020 2020 2020 2020 7365 6c66  ing.        self
+000332b0: 2e63 616c 6c50 7265 7061 7273 6520 3d20  .callPreparse = 
+000332c0: 5472 7565 0a0a 2020 2020 6465 6620 6967  True..    def ig
+000332d0: 6e6f 7265 2873 656c 662c 206f 7468 6572  nore(self, other
+000332e0: 2920 2d3e 2050 6172 7365 7245 6c65 6d65  ) -> ParserEleme
+000332f0: 6e74 3a0a 2020 2020 2020 2020 6966 2073  nt:.        if s
+00033300: 656c 662e 6164 6a61 6365 6e74 3a0a 2020  elf.adjacent:.  
+00033310: 2020 2020 2020 2020 2020 5061 7273 6572            Parser
+00033320: 456c 656d 656e 742e 6967 6e6f 7265 2873  Element.ignore(s
+00033330: 656c 662c 206f 7468 6572 290a 2020 2020  elf, other).    
+00033340: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00033350: 2020 2020 2020 7375 7065 7228 292e 6967        super().ig
+00033360: 6e6f 7265 286f 7468 6572 290a 2020 2020  nore(other).    
+00033370: 2020 2020 7265 7475 726e 2073 656c 660a      return self.
+00033380: 0a20 2020 2064 6566 2070 6f73 7450 6172  .    def postPar
+00033390: 7365 2873 656c 662c 2069 6e73 7472 696e  se(self, instrin
+000333a0: 672c 206c 6f63 2c20 746f 6b65 6e6c 6973  g, loc, tokenlis
+000333b0: 7429 3a0a 2020 2020 2020 2020 7265 7454  t):.        retT
+000333c0: 6f6b 7320 3d20 746f 6b65 6e6c 6973 742e  oks = tokenlist.
+000333d0: 636f 7079 2829 0a20 2020 2020 2020 2064  copy().        d
+000333e0: 656c 2072 6574 546f 6b73 5b3a 5d0a 2020  el retToks[:].  
+000333f0: 2020 2020 2020 7265 7454 6f6b 7320 2b3d        retToks +=
+00033400: 2050 6172 7365 5265 7375 6c74 7328 0a20   ParseResults(. 
+00033410: 2020 2020 2020 2020 2020 205b 2222 2e6a             ["".j
+00033420: 6f69 6e28 746f 6b65 6e6c 6973 742e 5f61  oin(tokenlist._a
+00033430: 7353 7472 696e 674c 6973 7428 7365 6c66  sStringList(self
+00033440: 2e6a 6f69 6e53 7472 696e 6729 295d 2c20  .joinString))], 
+00033450: 6d6f 6461 6c3d 7365 6c66 2e6d 6f64 616c  modal=self.modal
+00033460: 5265 7375 6c74 730a 2020 2020 2020 2020  Results.        
+00033470: 290a 0a20 2020 2020 2020 2069 6620 7365  )..        if se
+00033480: 6c66 2e72 6573 756c 7473 4e61 6d65 2061  lf.resultsName a
+00033490: 6e64 2072 6574 546f 6b73 2e68 6173 6b65  nd retToks.haske
+000334a0: 7973 2829 3a0a 2020 2020 2020 2020 2020  ys():.          
+000334b0: 2020 7265 7475 726e 205b 7265 7454 6f6b    return [retTok
+000334c0: 735d 0a20 2020 2020 2020 2065 6c73 653a  s].        else:
+000334d0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+000334e0: 7572 6e20 7265 7454 6f6b 730a 0a0a 636c  urn retToks...cl
+000334f0: 6173 7320 4772 6f75 7028 546f 6b65 6e43  ass Group(TokenC
+00033500: 6f6e 7665 7274 6572 293a 0a20 2020 2022  onverter):.    "
+00033510: 2222 436f 6e76 6572 7465 7220 746f 2072  ""Converter to r
+00033520: 6574 7572 6e20 7468 6520 6d61 7463 6865  eturn the matche
+00033530: 6420 746f 6b65 6e73 2061 7320 6120 6c69  d tokens as a li
+00033540: 7374 202d 2075 7365 6675 6c20 666f 720a  st - useful for.
+00033550: 2020 2020 7265 7475 726e 696e 6720 746f      returning to
+00033560: 6b65 6e73 206f 6620 3a63 6c61 7373 3a60  kens of :class:`
+00033570: 5a65 726f 4f72 4d6f 7265 6020 616e 6420  ZeroOrMore` and 
+00033580: 3a63 6c61 7373 3a60 4f6e 654f 724d 6f72  :class:`OneOrMor
+00033590: 6560 2065 7870 7265 7373 696f 6e73 2e0a  e` expressions..
+000335a0: 0a20 2020 2054 6865 206f 7074 696f 6e61  .    The optiona
+000335b0: 6c20 6060 6173 6c69 7374 6060 2061 7267  l ``aslist`` arg
+000335c0: 756d 656e 7420 7768 656e 2073 6574 2074  ument when set t
+000335d0: 6f20 5472 7565 2077 696c 6c20 7265 7475  o True will retu
+000335e0: 726e 2074 6865 0a20 2020 2070 6172 7365  rn the.    parse
+000335f0: 6420 746f 6b65 6e73 2061 7320 6120 5079  d tokens as a Py
+00033600: 7468 6f6e 206c 6973 7420 696e 7374 6561  thon list instea
+00033610: 6420 6f66 2061 2070 7970 6172 7369 6e67  d of a pyparsing
+00033620: 2050 6172 7365 5265 7375 6c74 732e 0a0a   ParseResults...
+00033630: 2020 2020 4578 616d 706c 653a 3a0a 0a20      Example::.. 
+00033640: 2020 2020 2020 2069 6465 6e74 203d 2057         ident = W
+00033650: 6f72 6428 616c 7068 6173 290a 2020 2020  ord(alphas).    
+00033660: 2020 2020 6e75 6d20 3d20 576f 7264 286e      num = Word(n
+00033670: 756d 7329 0a20 2020 2020 2020 2074 6572  ums).        ter
+00033680: 6d20 3d20 6964 656e 7420 7c20 6e75 6d0a  m = ident | num.
+00033690: 2020 2020 2020 2020 6675 6e63 203d 2069          func = i
+000336a0: 6465 6e74 202b 204f 7074 2844 656c 696d  dent + Opt(Delim
+000336b0: 6974 6564 4c69 7374 2874 6572 6d29 290a  itedList(term)).
+000336c0: 2020 2020 2020 2020 7072 696e 7428 6675          print(fu
+000336d0: 6e63 2e70 6172 7365 5f73 7472 696e 6728  nc.parse_string(
+000336e0: 2266 6e20 612c 2062 2c20 3130 3022 2929  "fn a, b, 100"))
+000336f0: 0a20 2020 2020 2020 2023 202d 3e20 5b27  .        # -> ['
+00033700: 666e 272c 2027 6127 2c20 2762 272c 2027  fn', 'a', 'b', '
+00033710: 3130 3027 5d0a 0a20 2020 2020 2020 2066  100']..        f
+00033720: 756e 6320 3d20 6964 656e 7420 2b20 4772  unc = ident + Gr
+00033730: 6f75 7028 4f70 7428 4465 6c69 6d69 7465  oup(Opt(Delimite
+00033740: 644c 6973 7428 7465 726d 2929 290a 2020  dList(term))).  
+00033750: 2020 2020 2020 7072 696e 7428 6675 6e63        print(func
+00033760: 2e70 6172 7365 5f73 7472 696e 6728 2266  .parse_string("f
+00033770: 6e20 612c 2062 2c20 3130 3022 2929 0a20  n a, b, 100")). 
+00033780: 2020 2020 2020 2023 202d 3e20 5b27 666e         # -> ['fn
+00033790: 272c 205b 2761 272c 2027 6227 2c20 2731  ', ['a', 'b', '1
+000337a0: 3030 275d 5d0a 2020 2020 2222 220a 0a20  00']].    """.. 
+000337b0: 2020 2064 6566 205f 5f69 6e69 745f 5f28     def __init__(
+000337c0: 7365 6c66 2c20 6578 7072 3a20 5061 7273  self, expr: Pars
+000337d0: 6572 456c 656d 656e 742c 2061 736c 6973  erElement, aslis
+000337e0: 743a 2062 6f6f 6c20 3d20 4661 6c73 6529  t: bool = False)
+000337f0: 3a0a 2020 2020 2020 2020 7375 7065 7228  :.        super(
+00033800: 292e 5f5f 696e 6974 5f5f 2865 7870 7229  ).__init__(expr)
+00033810: 0a20 2020 2020 2020 2073 656c 662e 7361  .        self.sa
+00033820: 7665 4173 4c69 7374 203d 2054 7275 650a  veAsList = True.
+00033830: 2020 2020 2020 2020 7365 6c66 2e5f 6173          self._as
+00033840: 5079 7468 6f6e 4c69 7374 203d 2061 736c  PythonList = asl
+00033850: 6973 740a 0a20 2020 2064 6566 2070 6f73  ist..    def pos
+00033860: 7450 6172 7365 2873 656c 662c 2069 6e73  tParse(self, ins
+00033870: 7472 696e 672c 206c 6f63 2c20 746f 6b65  tring, loc, toke
+00033880: 6e6c 6973 7429 3a0a 2020 2020 2020 2020  nlist):.        
+00033890: 6966 2073 656c 662e 5f61 7350 7974 686f  if self._asPytho
+000338a0: 6e4c 6973 743a 0a20 2020 2020 2020 2020  nList:.         
+000338b0: 2020 2072 6574 7572 6e20 5061 7273 6552     return ParseR
+000338c0: 6573 756c 7473 2e4c 6973 7428 0a20 2020  esults.List(.   
+000338d0: 2020 2020 2020 2020 2020 2020 2074 6f6b               tok
+000338e0: 656e 6c69 7374 2e61 734c 6973 7428 290a  enlist.asList().
+000338f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00033900: 6966 2069 7369 6e73 7461 6e63 6528 746f  if isinstance(to
+00033910: 6b65 6e6c 6973 742c 2050 6172 7365 5265  kenlist, ParseRe
+00033920: 7375 6c74 7329 0a20 2020 2020 2020 2020  sults).         
+00033930: 2020 2020 2020 2065 6c73 6520 6c69 7374         else list
+00033940: 2874 6f6b 656e 6c69 7374 290a 2020 2020  (tokenlist).    
+00033950: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00033960: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00033970: 2020 2020 7265 7475 726e 205b 746f 6b65      return [toke
+00033980: 6e6c 6973 745d 0a0a 0a63 6c61 7373 2044  nlist]...class D
+00033990: 6963 7428 546f 6b65 6e43 6f6e 7665 7274  ict(TokenConvert
+000339a0: 6572 293a 0a20 2020 2022 2222 436f 6e76  er):.    """Conv
+000339b0: 6572 7465 7220 746f 2072 6574 7572 6e20  erter to return 
+000339c0: 6120 7265 7065 7469 7469 7665 2065 7870  a repetitive exp
+000339d0: 7265 7373 696f 6e20 6173 2061 206c 6973  ression as a lis
+000339e0: 742c 2062 7574 2061 6c73 6f0a 2020 2020  t, but also.    
+000339f0: 6173 2061 2064 6963 7469 6f6e 6172 792e  as a dictionary.
+00033a00: 2045 6163 6820 656c 656d 656e 7420 6361   Each element ca
+00033a10: 6e20 616c 736f 2062 6520 7265 6665 7265  n also be refere
+00033a20: 6e63 6564 2075 7369 6e67 2074 6865 2066  nced using the f
+00033a30: 6972 7374 0a20 2020 2074 6f6b 656e 2069  irst.    token i
+00033a40: 6e20 7468 6520 6578 7072 6573 7369 6f6e  n the expression
+00033a50: 2061 7320 6974 7320 6b65 792e 2055 7365   as its key. Use
+00033a60: 6675 6c20 666f 7220 7461 6275 6c61 7220  ful for tabular 
+00033a70: 7265 706f 7274 0a20 2020 2073 6372 6170  report.    scrap
+00033a80: 696e 6720 7768 656e 2074 6865 2066 6972  ing when the fir
+00033a90: 7374 2063 6f6c 756d 6e20 6361 6e20 6265  st column can be
+00033aa0: 2075 7365 6420 6173 2061 2069 7465 6d20   used as a item 
+00033ab0: 6b65 792e 0a0a 2020 2020 5468 6520 6f70  key...    The op
+00033ac0: 7469 6f6e 616c 2060 6061 7364 6963 7460  tional ``asdict`
+00033ad0: 6020 6172 6775 6d65 6e74 2077 6865 6e20  ` argument when 
+00033ae0: 7365 7420 746f 2054 7275 6520 7769 6c6c  set to True will
+00033af0: 2072 6574 7572 6e20 7468 650a 2020 2020   return the.    
+00033b00: 7061 7273 6564 2074 6f6b 656e 7320 6173  parsed tokens as
+00033b10: 2061 2050 7974 686f 6e20 6469 6374 2069   a Python dict i
+00033b20: 6e73 7465 6164 206f 6620 6120 7079 7061  nstead of a pypa
+00033b30: 7273 696e 6720 5061 7273 6552 6573 756c  rsing ParseResul
+00033b40: 7473 2e0a 0a20 2020 2045 7861 6d70 6c65  ts...    Example
+00033b50: 3a3a 0a0a 2020 2020 2020 2020 6461 7461  ::..        data
+00033b60: 5f77 6f72 6420 3d20 576f 7264 2861 6c70  _word = Word(alp
+00033b70: 6861 7329 0a20 2020 2020 2020 206c 6162  has).        lab
+00033b80: 656c 203d 2064 6174 615f 776f 7264 202b  el = data_word +
+00033b90: 2046 6f6c 6c6f 7765 6442 7928 273a 2729   FollowedBy(':')
+00033ba0: 0a0a 2020 2020 2020 2020 7465 7874 203d  ..        text =
+00033bb0: 2022 7368 6170 653a 2053 5155 4152 4520   "shape: SQUARE 
+00033bc0: 706f 736e 3a20 7570 7065 7220 6c65 6674  posn: upper left
+00033bd0: 2063 6f6c 6f72 3a20 6c69 6768 7420 626c   color: light bl
+00033be0: 7565 2074 6578 7475 7265 3a20 6275 726c  ue texture: burl
+00033bf0: 6170 220a 2020 2020 2020 2020 6174 7472  ap".        attr
+00033c00: 5f65 7870 7220 3d20 286c 6162 656c 202b  _expr = (label +
+00033c10: 2053 7570 7072 6573 7328 273a 2729 202b   Suppress(':') +
+00033c20: 204f 6e65 4f72 4d6f 7265 2864 6174 615f   OneOrMore(data_
+00033c30: 776f 7264 2c20 7374 6f70 5f6f 6e3d 6c61  word, stop_on=la
+00033c40: 6265 6c29 2e73 6574 5f70 6172 7365 5f61  bel).set_parse_a
+00033c50: 6374 696f 6e28 2720 272e 6a6f 696e 2929  ction(' '.join))
+00033c60: 0a0a 2020 2020 2020 2020 2320 7072 696e  ..        # prin
+00033c70: 7420 6174 7472 6962 7574 6573 2061 7320  t attributes as 
+00033c80: 706c 6169 6e20 6772 6f75 7073 0a20 2020  plain groups.   
+00033c90: 2020 2020 2070 7269 6e74 2861 7474 725f       print(attr_
+00033ca0: 6578 7072 5b31 2c20 2e2e 2e5d 2e70 6172  expr[1, ...].par
+00033cb0: 7365 5f73 7472 696e 6728 7465 7874 292e  se_string(text).
+00033cc0: 6475 6d70 2829 290a 0a20 2020 2020 2020  dump())..       
+00033cd0: 2023 2069 6e73 7465 6164 206f 6620 4f6e   # instead of On
+00033ce0: 654f 724d 6f72 6528 6578 7072 292c 2070  eOrMore(expr), p
+00033cf0: 6172 7365 2075 7369 6e67 2044 6963 7428  arse using Dict(
+00033d00: 4772 6f75 7028 6578 7072 295b 312c 202e  Group(expr)[1, .
+00033d10: 2e2e 5d29 202d 2044 6963 7420 7769 6c6c  ..]) - Dict will
+00033d20: 2061 7574 6f2d 6173 7369 676e 206e 616d   auto-assign nam
+00033d30: 6573 0a20 2020 2020 2020 2072 6573 756c  es.        resul
+00033d40: 7420 3d20 4469 6374 2847 726f 7570 2861  t = Dict(Group(a
+00033d50: 7474 725f 6578 7072 295b 312c 202e 2e2e  ttr_expr)[1, ...
+00033d60: 5d29 2e70 6172 7365 5f73 7472 696e 6728  ]).parse_string(
+00033d70: 7465 7874 290a 2020 2020 2020 2020 7072  text).        pr
+00033d80: 696e 7428 7265 7375 6c74 2e64 756d 7028  int(result.dump(
+00033d90: 2929 0a0a 2020 2020 2020 2020 2320 6163  ))..        # ac
+00033da0: 6365 7373 206e 616d 6564 2066 6965 6c64  cess named field
+00033db0: 7320 6173 2064 6963 7420 656e 7472 6965  s as dict entrie
+00033dc0: 732c 206f 7220 6f75 7470 7574 2061 7320  s, or output as 
+00033dd0: 6469 6374 0a20 2020 2020 2020 2070 7269  dict.        pri
+00033de0: 6e74 2872 6573 756c 745b 2773 6861 7065  nt(result['shape
+00033df0: 275d 290a 2020 2020 2020 2020 7072 696e  ']).        prin
+00033e00: 7428 7265 7375 6c74 2e61 735f 6469 6374  t(result.as_dict
+00033e10: 2829 290a 0a20 2020 2070 7269 6e74 733a  ())..    prints:
+00033e20: 3a0a 0a20 2020 2020 2020 205b 2773 6861  :..        ['sha
+00033e30: 7065 272c 2027 5351 5541 5245 272c 2027  pe', 'SQUARE', '
+00033e40: 706f 736e 272c 2027 7570 7065 7220 6c65  posn', 'upper le
+00033e50: 6674 272c 2027 636f 6c6f 7227 2c20 276c  ft', 'color', 'l
+00033e60: 6967 6874 2062 6c75 6527 2c20 2774 6578  ight blue', 'tex
+00033e70: 7475 7265 272c 2027 6275 726c 6170 275d  ture', 'burlap']
+00033e80: 0a20 2020 2020 2020 205b 5b27 7368 6170  .        [['shap
+00033e90: 6527 2c20 2753 5155 4152 4527 5d2c 205b  e', 'SQUARE'], [
+00033ea0: 2770 6f73 6e27 2c20 2775 7070 6572 206c  'posn', 'upper l
+00033eb0: 6566 7427 5d2c 205b 2763 6f6c 6f72 272c  eft'], ['color',
+00033ec0: 2027 6c69 6768 7420 626c 7565 275d 2c20   'light blue'], 
+00033ed0: 5b27 7465 7874 7572 6527 2c20 2762 7572  ['texture', 'bur
+00033ee0: 6c61 7027 5d5d 0a20 2020 2020 2020 202d  lap']].        -
+00033ef0: 2063 6f6c 6f72 3a20 276c 6967 6874 2062   color: 'light b
+00033f00: 6c75 6527 0a20 2020 2020 2020 202d 2070  lue'.        - p
+00033f10: 6f73 6e3a 2027 7570 7065 7220 6c65 6674  osn: 'upper left
+00033f20: 270a 2020 2020 2020 2020 2d20 7368 6170  '.        - shap
+00033f30: 653a 2027 5351 5541 5245 270a 2020 2020  e: 'SQUARE'.    
+00033f40: 2020 2020 2d20 7465 7874 7572 653a 2027      - texture: '
+00033f50: 6275 726c 6170 270a 2020 2020 2020 2020  burlap'.        
+00033f60: 5351 5541 5245 0a20 2020 2020 2020 207b  SQUARE.        {
+00033f70: 2763 6f6c 6f72 273a 2027 6c69 6768 7420  'color': 'light 
+00033f80: 626c 7565 272c 2027 706f 736e 273a 2027  blue', 'posn': '
+00033f90: 7570 7065 7220 6c65 6674 272c 2027 7465  upper left', 'te
+00033fa0: 7874 7572 6527 3a20 2762 7572 6c61 7027  xture': 'burlap'
+00033fb0: 2c20 2773 6861 7065 273a 2027 5351 5541  , 'shape': 'SQUA
+00033fc0: 5245 277d 0a0a 2020 2020 5365 6520 6d6f  RE'}..    See mo
+00033fd0: 7265 2065 7861 6d70 6c65 7320 6174 203a  re examples at :
+00033fe0: 636c 6173 733a 6050 6172 7365 5265 7375  class:`ParseResu
+00033ff0: 6c74 7360 206f 6620 6163 6365 7373 696e  lts` of accessin
+00034000: 6720 6669 656c 6473 2062 7920 7265 7375  g fields by resu
+00034010: 6c74 7320 6e61 6d65 2e0a 2020 2020 2222  lts name..    ""
+00034020: 220a 0a20 2020 2064 6566 205f 5f69 6e69  "..    def __ini
+00034030: 745f 5f28 7365 6c66 2c20 6578 7072 3a20  t__(self, expr: 
+00034040: 5061 7273 6572 456c 656d 656e 742c 2061  ParserElement, a
+00034050: 7364 6963 743a 2062 6f6f 6c20 3d20 4661  sdict: bool = Fa
+00034060: 6c73 6529 3a0a 2020 2020 2020 2020 7375  lse):.        su
+00034070: 7065 7228 292e 5f5f 696e 6974 5f5f 2865  per().__init__(e
+00034080: 7870 7229 0a20 2020 2020 2020 2073 656c  xpr).        sel
+00034090: 662e 7361 7665 4173 4c69 7374 203d 2054  f.saveAsList = T
+000340a0: 7275 650a 2020 2020 2020 2020 7365 6c66  rue.        self
+000340b0: 2e5f 6173 5079 7468 6f6e 4469 6374 203d  ._asPythonDict =
+000340c0: 2061 7364 6963 740a 0a20 2020 2064 6566   asdict..    def
+000340d0: 2070 6f73 7450 6172 7365 2873 656c 662c   postParse(self,
+000340e0: 2069 6e73 7472 696e 672c 206c 6f63 2c20   instring, loc, 
+000340f0: 746f 6b65 6e6c 6973 7429 3a0a 2020 2020  tokenlist):.    
+00034100: 2020 2020 666f 7220 692c 2074 6f6b 2069      for i, tok i
+00034110: 6e20 656e 756d 6572 6174 6528 746f 6b65  n enumerate(toke
+00034120: 6e6c 6973 7429 3a0a 2020 2020 2020 2020  nlist):.        
+00034130: 2020 2020 6966 206c 656e 2874 6f6b 2920      if len(tok) 
+00034140: 3d3d 2030 3a0a 2020 2020 2020 2020 2020  == 0:.          
+00034150: 2020 2020 2020 636f 6e74 696e 7565 0a0a        continue..
+00034160: 2020 2020 2020 2020 2020 2020 696b 6579              ikey
+00034170: 203d 2074 6f6b 5b30 5d0a 2020 2020 2020   = tok[0].      
+00034180: 2020 2020 2020 6966 2069 7369 6e73 7461        if isinsta
+00034190: 6e63 6528 696b 6579 2c20 696e 7429 3a0a  nce(ikey, int):.
+000341a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000341b0: 696b 6579 203d 2073 7472 2869 6b65 7929  ikey = str(ikey)
+000341c0: 2e73 7472 6970 2829 0a0a 2020 2020 2020  .strip()..      
+000341d0: 2020 2020 2020 6966 206c 656e 2874 6f6b        if len(tok
+000341e0: 2920 3d3d 2031 3a0a 2020 2020 2020 2020  ) == 1:.        
+000341f0: 2020 2020 2020 2020 746f 6b65 6e6c 6973          tokenlis
+00034200: 745b 696b 6579 5d20 3d20 5f50 6172 7365  t[ikey] = _Parse
+00034210: 5265 7375 6c74 7357 6974 684f 6666 7365  ResultsWithOffse
+00034220: 7428 2222 2c20 6929 0a0a 2020 2020 2020  t("", i)..      
+00034230: 2020 2020 2020 656c 6966 206c 656e 2874        elif len(t
+00034240: 6f6b 2920 3d3d 2032 2061 6e64 206e 6f74  ok) == 2 and not
+00034250: 2069 7369 6e73 7461 6e63 6528 746f 6b5b   isinstance(tok[
+00034260: 315d 2c20 5061 7273 6552 6573 756c 7473  1], ParseResults
+00034270: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00034280: 2020 2074 6f6b 656e 6c69 7374 5b69 6b65     tokenlist[ike
+00034290: 795d 203d 205f 5061 7273 6552 6573 756c  y] = _ParseResul
+000342a0: 7473 5769 7468 4f66 6673 6574 2874 6f6b  tsWithOffset(tok
+000342b0: 5b31 5d2c 2069 290a 0a20 2020 2020 2020  [1], i)..       
+000342c0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+000342d0: 2020 2020 2020 2020 2020 2074 7279 3a0a             try:.
+000342e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000342f0: 2020 2020 6469 6374 7661 6c75 6520 3d20      dictvalue = 
+00034300: 746f 6b2e 636f 7079 2829 2020 2320 5061  tok.copy()  # Pa
+00034310: 7273 6552 6573 756c 7473 2869 290a 2020  rseResults(i).  
+00034320: 2020 2020 2020 2020 2020 2020 2020 6578                ex
+00034330: 6365 7074 2045 7863 6570 7469 6f6e 3a0a  cept Exception:.
+00034340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034350: 2020 2020 6578 6320 3d20 5479 7065 4572      exc = TypeEr
+00034360: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
+00034370: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+00034380: 756c 6420 6e6f 7420 6578 7472 6163 7420  uld not extract 
+00034390: 6469 6374 2076 616c 7565 7320 6672 6f6d  dict values from
+000343a0: 2070 6172 7365 6420 7265 7375 6c74 7322   parsed results"
+000343b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000343c0: 2020 2020 2020 2020 2022 202d 2044 6963           " - Dic
+000343d0: 7420 6578 7072 6573 7369 6f6e 206d 7573  t expression mus
+000343e0: 7420 636f 6e74 6169 6e20 4772 6f75 7065  t contain Groupe
+000343f0: 6420 6578 7072 6573 7369 6f6e 7322 0a20  d expressions". 
+00034400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034410: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+00034420: 2020 2020 2020 2020 2072 6169 7365 2065           raise e
+00034430: 7863 2066 726f 6d20 4e6f 6e65 0a0a 2020  xc from None..  
+00034440: 2020 2020 2020 2020 2020 2020 2020 6465                de
+00034450: 6c20 6469 6374 7661 6c75 655b 305d 0a0a  l dictvalue[0]..
+00034460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034470: 6966 206c 656e 2864 6963 7476 616c 7565  if len(dictvalue
+00034480: 2920 213d 2031 206f 7220 280a 2020 2020  ) != 1 or (.    
+00034490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000344a0: 6973 696e 7374 616e 6365 2864 6963 7476  isinstance(dictv
+000344b0: 616c 7565 2c20 5061 7273 6552 6573 756c  alue, ParseResul
+000344c0: 7473 2920 616e 6420 6469 6374 7661 6c75  ts) and dictvalu
+000344d0: 652e 6861 736b 6579 7328 290a 2020 2020  e.haskeys().    
+000344e0: 2020 2020 2020 2020 2020 2020 293a 0a20              ):. 
+000344f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034500: 2020 2074 6f6b 656e 6c69 7374 5b69 6b65     tokenlist[ike
+00034510: 795d 203d 205f 5061 7273 6552 6573 756c  y] = _ParseResul
+00034520: 7473 5769 7468 4f66 6673 6574 2864 6963  tsWithOffset(dic
+00034530: 7476 616c 7565 2c20 6929 0a20 2020 2020  tvalue, i).     
+00034540: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00034550: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00034560: 2020 2020 2074 6f6b 656e 6c69 7374 5b69       tokenlist[i
+00034570: 6b65 795d 203d 205f 5061 7273 6552 6573  key] = _ParseRes
+00034580: 756c 7473 5769 7468 4f66 6673 6574 2864  ultsWithOffset(d
+00034590: 6963 7476 616c 7565 5b30 5d2c 2069 290a  ictvalue[0], i).
+000345a0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+000345b0: 2e5f 6173 5079 7468 6f6e 4469 6374 3a0a  ._asPythonDict:.
+000345c0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+000345d0: 726e 205b 746f 6b65 6e6c 6973 742e 6173  rn [tokenlist.as
+000345e0: 5f64 6963 7428 295d 2069 6620 7365 6c66  _dict()] if self
+000345f0: 2e72 6573 756c 7473 4e61 6d65 2065 6c73  .resultsName els
+00034600: 6520 746f 6b65 6e6c 6973 742e 6173 5f64  e tokenlist.as_d
+00034610: 6963 7428 290a 2020 2020 2020 2020 656c  ict().        el
+00034620: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00034630: 7265 7475 726e 205b 746f 6b65 6e6c 6973  return [tokenlis
+00034640: 745d 2069 6620 7365 6c66 2e72 6573 756c  t] if self.resul
+00034650: 7473 4e61 6d65 2065 6c73 6520 746f 6b65  tsName else toke
+00034660: 6e6c 6973 740a 0a0a 636c 6173 7320 5375  nlist...class Su
+00034670: 7070 7265 7373 2854 6f6b 656e 436f 6e76  ppress(TokenConv
+00034680: 6572 7465 7229 3a0a 2020 2020 2222 2243  erter):.    """C
+00034690: 6f6e 7665 7274 6572 2066 6f72 2069 676e  onverter for ign
+000346a0: 6f72 696e 6720 7468 6520 7265 7375 6c74  oring the result
+000346b0: 7320 6f66 2061 2070 6172 7365 6420 6578  s of a parsed ex
+000346c0: 7072 6573 7369 6f6e 2e0a 0a20 2020 2045  pression...    E
+000346d0: 7861 6d70 6c65 3a3a 0a0a 2020 2020 2020  xample::..      
+000346e0: 2020 736f 7572 6365 203d 2022 612c 2062    source = "a, b
+000346f0: 2c20 632c 6422 0a20 2020 2020 2020 2077  , c,d".        w
+00034700: 6420 3d20 576f 7264 2861 6c70 6861 7329  d = Word(alphas)
+00034710: 0a20 2020 2020 2020 2077 645f 6c69 7374  .        wd_list
+00034720: 3120 3d20 7764 202b 2028 272c 2720 2b20  1 = wd + (',' + 
+00034730: 7764 295b 2e2e 2e5d 0a20 2020 2020 2020  wd)[...].       
+00034740: 2070 7269 6e74 2877 645f 6c69 7374 312e   print(wd_list1.
+00034750: 7061 7273 655f 7374 7269 6e67 2873 6f75  parse_string(sou
+00034760: 7263 6529 290a 0a20 2020 2020 2020 2023  rce))..        #
+00034770: 206f 6674 656e 2c20 6465 6c69 6d69 7465   often, delimite
+00034780: 7273 2074 6861 7420 6172 6520 7573 6566  rs that are usef
+00034790: 756c 2064 7572 696e 6720 7061 7273 696e  ul during parsin
+000347a0: 6720 6172 6520 6a75 7374 2069 6e20 7468  g are just in th
+000347b0: 650a 2020 2020 2020 2020 2320 7761 7920  e.        # way 
+000347c0: 6166 7465 7277 6172 6420 2d20 7573 6520  afterward - use 
+000347d0: 5375 7070 7265 7373 2074 6f20 6b65 6570  Suppress to keep
+000347e0: 2074 6865 6d20 6f75 7420 6f66 2074 6865   them out of the
+000347f0: 2070 6172 7365 6420 6f75 7470 7574 0a20   parsed output. 
+00034800: 2020 2020 2020 2077 645f 6c69 7374 3220         wd_list2 
+00034810: 3d20 7764 202b 2028 5375 7070 7265 7373  = wd + (Suppress
+00034820: 2827 2c27 2920 2b20 7764 295b 2e2e 2e5d  (',') + wd)[...]
+00034830: 0a20 2020 2020 2020 2070 7269 6e74 2877  .        print(w
+00034840: 645f 6c69 7374 322e 7061 7273 655f 7374  d_list2.parse_st
+00034850: 7269 6e67 2873 6f75 7263 6529 290a 0a20  ring(source)).. 
+00034860: 2020 2020 2020 2023 2053 6b69 7070 6564         # Skipped
+00034870: 2074 6578 7420 2875 7369 6e67 2027 2e2e   text (using '..
+00034880: 2e27 2920 6361 6e20 6265 2073 7570 7072  .') can be suppr
+00034890: 6573 7365 6420 6173 2077 656c 6c0a 2020  essed as well.  
+000348a0: 2020 2020 2020 736f 7572 6365 203d 2022        source = "
+000348b0: 6c65 6164 2069 6e20 5354 4152 5420 7265  lead in START re
+000348c0: 6c65 7661 6e74 2074 6578 7420 454e 4420  levant text END 
+000348d0: 7472 6169 6c69 6e67 2074 6578 7422 0a20  trailing text". 
+000348e0: 2020 2020 2020 2073 7461 7274 5f6d 6172         start_mar
+000348f0: 6b65 7220 3d20 4b65 7977 6f72 6428 2253  ker = Keyword("S
+00034900: 5441 5254 2229 0a20 2020 2020 2020 2065  TART").        e
+00034910: 6e64 5f6d 6172 6b65 7220 3d20 4b65 7977  nd_marker = Keyw
+00034920: 6f72 6428 2245 4e44 2229 0a20 2020 2020  ord("END").     
+00034930: 2020 2066 696e 645f 626f 6479 203d 2053     find_body = S
+00034940: 7570 7072 6573 7328 2e2e 2e29 202b 2073  uppress(...) + s
+00034950: 7461 7274 5f6d 6172 6b65 7220 2b20 2e2e  tart_marker + ..
+00034960: 2e20 2b20 656e 645f 6d61 726b 6572 0a20  . + end_marker. 
+00034970: 2020 2020 2020 2070 7269 6e74 2866 696e         print(fin
+00034980: 645f 626f 6479 2e70 6172 7365 5f73 7472  d_body.parse_str
+00034990: 696e 6728 736f 7572 6365 290a 0a20 2020  ing(source)..   
+000349a0: 2070 7269 6e74 733a 3a0a 0a20 2020 2020   prints::..     
+000349b0: 2020 205b 2761 272c 2027 2c27 2c20 2762     ['a', ',', 'b
+000349c0: 272c 2027 2c27 2c20 2763 272c 2027 2c27  ', ',', 'c', ','
+000349d0: 2c20 2764 275d 0a20 2020 2020 2020 205b  , 'd'].        [
+000349e0: 2761 272c 2027 6227 2c20 2763 272c 2027  'a', 'b', 'c', '
+000349f0: 6427 5d0a 2020 2020 2020 2020 5b27 5354  d'].        ['ST
+00034a00: 4152 5427 2c20 2772 656c 6576 616e 7420  ART', 'relevant 
+00034a10: 7465 7874 2027 2c20 2745 4e44 275d 0a0a  text ', 'END']..
+00034a20: 2020 2020 2853 6565 2061 6c73 6f20 3a63      (See also :c
+00034a30: 6c61 7373 3a60 4465 6c69 6d69 7465 644c  lass:`DelimitedL
+00034a40: 6973 7460 2e29 0a20 2020 2022 2222 0a0a  ist`.).    """..
+00034a50: 2020 2020 6465 6620 5f5f 696e 6974 5f5f      def __init__
+00034a60: 2873 656c 662c 2065 7870 723a 2055 6e69  (self, expr: Uni
+00034a70: 6f6e 5b50 6172 7365 7245 6c65 6d65 6e74  on[ParserElement
+00034a80: 2c20 7374 725d 2c20 7361 7665 6c69 7374  , str], savelist
+00034a90: 3a20 626f 6f6c 203d 2046 616c 7365 293a  : bool = False):
+00034aa0: 0a20 2020 2020 2020 2069 6620 6578 7072  .        if expr
+00034ab0: 2069 7320 2e2e 2e3a 0a20 2020 2020 2020   is ...:.       
+00034ac0: 2020 2020 2065 7870 7220 3d20 5f50 656e       expr = _Pen
+00034ad0: 6469 6e67 536b 6970 284e 6f4d 6174 6368  dingSkip(NoMatch
+00034ae0: 2829 290a 2020 2020 2020 2020 7375 7065  ()).        supe
+00034af0: 7228 292e 5f5f 696e 6974 5f5f 2865 7870  r().__init__(exp
+00034b00: 7229 0a0a 2020 2020 6465 6620 5f5f 6164  r)..    def __ad
+00034b10: 645f 5f28 7365 6c66 2c20 6f74 6865 7229  d__(self, other)
+00034b20: 202d 3e20 2250 6172 7365 7245 6c65 6d65   -> "ParserEleme
+00034b30: 6e74 223a 0a20 2020 2020 2020 2069 6620  nt":.        if 
+00034b40: 6973 696e 7374 616e 6365 2873 656c 662e  isinstance(self.
+00034b50: 6578 7072 2c20 5f50 656e 6469 6e67 536b  expr, _PendingSk
+00034b60: 6970 293a 0a20 2020 2020 2020 2020 2020  ip):.           
+00034b70: 2072 6574 7572 6e20 5375 7070 7265 7373   return Suppress
+00034b80: 2853 6b69 7054 6f28 6f74 6865 7229 2920  (SkipTo(other)) 
+00034b90: 2b20 6f74 6865 720a 2020 2020 2020 2020  + other.        
+00034ba0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00034bb0: 2020 7265 7475 726e 2073 7570 6572 2829    return super()
+00034bc0: 2e5f 5f61 6464 5f5f 286f 7468 6572 290a  .__add__(other).
+00034bd0: 0a20 2020 2064 6566 205f 5f73 7562 5f5f  .    def __sub__
+00034be0: 2873 656c 662c 206f 7468 6572 2920 2d3e  (self, other) ->
+00034bf0: 2022 5061 7273 6572 456c 656d 656e 7422   "ParserElement"
+00034c00: 3a0a 2020 2020 2020 2020 6966 2069 7369  :.        if isi
+00034c10: 6e73 7461 6e63 6528 7365 6c66 2e65 7870  nstance(self.exp
+00034c20: 722c 205f 5065 6e64 696e 6753 6b69 7029  r, _PendingSkip)
+00034c30: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+00034c40: 7475 726e 2053 7570 7072 6573 7328 536b  turn Suppress(Sk
+00034c50: 6970 546f 286f 7468 6572 2929 202d 206f  ipTo(other)) - o
+00034c60: 7468 6572 0a20 2020 2020 2020 2065 6c73  ther.        els
+00034c70: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+00034c80: 6574 7572 6e20 7375 7065 7228 292e 5f5f  eturn super().__
+00034c90: 7375 625f 5f28 6f74 6865 7229 0a0a 2020  sub__(other)..  
+00034ca0: 2020 6465 6620 706f 7374 5061 7273 6528    def postParse(
+00034cb0: 7365 6c66 2c20 696e 7374 7269 6e67 2c20  self, instring, 
+00034cc0: 6c6f 632c 2074 6f6b 656e 6c69 7374 293a  loc, tokenlist):
+00034cd0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00034ce0: 5b5d 0a0a 2020 2020 6465 6620 7375 7070  []..    def supp
+00034cf0: 7265 7373 2873 656c 6629 202d 3e20 5061  ress(self) -> Pa
+00034d00: 7273 6572 456c 656d 656e 743a 0a20 2020  rserElement:.   
+00034d10: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00034d20: 0a0a 0a64 6566 2074 7261 6365 5f70 6172  ...def trace_par
+00034d30: 7365 5f61 6374 696f 6e28 663a 2050 6172  se_action(f: Par
+00034d40: 7365 4163 7469 6f6e 2920 2d3e 2050 6172  seAction) -> Par
+00034d50: 7365 4163 7469 6f6e 3a0a 2020 2020 2222  seAction:.    ""
+00034d60: 2244 6563 6f72 6174 6f72 2066 6f72 2064  "Decorator for d
+00034d70: 6562 7567 6769 6e67 2070 6172 7365 2061  ebugging parse a
+00034d80: 6374 696f 6e73 2e0a 0a20 2020 2057 6865  ctions...    Whe
+00034d90: 6e20 7468 6520 7061 7273 6520 6163 7469  n the parse acti
+00034da0: 6f6e 2069 7320 6361 6c6c 6564 2c20 7468  on is called, th
+00034db0: 6973 2064 6563 6f72 6174 6f72 2077 696c  is decorator wil
+00034dc0: 6c20 7072 696e 740a 2020 2020 6060 223e  l print.    ``">
+00034dd0: 3e20 656e 7465 7269 6e67 206d 6574 686f  > entering metho
+00034de0: 642d 6e61 6d65 286c 696e 653a 3c63 7572  d-name(line:<cur
+00034df0: 7265 6e74 5f73 6f75 7263 655f 6c69 6e65  rent_source_line
+00034e00: 3e2c 203c 7061 7273 655f 6c6f 6361 7469  >, <parse_locati
+00034e10: 6f6e 3e2c 203c 6d61 7463 6865 645f 746f  on>, <matched_to
+00034e20: 6b65 6e73 3e29 2260 602e 0a20 2020 2057  kens>)"``..    W
+00034e30: 6865 6e20 7468 6520 7061 7273 6520 6163  hen the parse ac
+00034e40: 7469 6f6e 2063 6f6d 706c 6574 6573 2c20  tion completes, 
+00034e50: 7468 6520 6465 636f 7261 746f 7220 7769  the decorator wi
+00034e60: 6c6c 2070 7269 6e74 0a20 2020 2060 6022  ll print.    ``"
+00034e70: 3c3c 2260 6020 666f 6c6c 6f77 6564 2062  <<"`` followed b
+00034e80: 7920 7468 6520 7265 7475 726e 6564 2076  y the returned v
+00034e90: 616c 7565 2c20 6f72 2061 6e79 2065 7863  alue, or any exc
+00034ea0: 6570 7469 6f6e 2074 6861 7420 7468 6520  eption that the 
+00034eb0: 7061 7273 6520 6163 7469 6f6e 2072 6169  parse action rai
+00034ec0: 7365 642e 0a0a 2020 2020 4578 616d 706c  sed...    Exampl
+00034ed0: 653a 3a0a 0a20 2020 2020 2020 2077 6420  e::..        wd 
+00034ee0: 3d20 576f 7264 2861 6c70 6861 7329 0a0a  = Word(alphas)..
+00034ef0: 2020 2020 2020 2020 4074 7261 6365 5f70          @trace_p
+00034f00: 6172 7365 5f61 6374 696f 6e0a 2020 2020  arse_action.    
+00034f10: 2020 2020 6465 6620 7265 6d6f 7665 5f64      def remove_d
+00034f20: 7570 6c69 6361 7465 5f63 6861 7273 2874  uplicate_chars(t
+00034f30: 6f6b 656e 7329 3a0a 2020 2020 2020 2020  okens):.        
+00034f40: 2020 2020 7265 7475 726e 2027 272e 6a6f      return ''.jo
+00034f50: 696e 2873 6f72 7465 6428 7365 7428 2727  in(sorted(set(''
+00034f60: 2e6a 6f69 6e28 746f 6b65 6e73 2929 2929  .join(tokens))))
+00034f70: 0a0a 2020 2020 2020 2020 7764 7320 3d20  ..        wds = 
+00034f80: 7764 5b31 2c20 2e2e 2e5d 2e73 6574 5f70  wd[1, ...].set_p
+00034f90: 6172 7365 5f61 6374 696f 6e28 7265 6d6f  arse_action(remo
+00034fa0: 7665 5f64 7570 6c69 6361 7465 5f63 6861  ve_duplicate_cha
+00034fb0: 7273 290a 2020 2020 2020 2020 7072 696e  rs).        prin
+00034fc0: 7428 7764 732e 7061 7273 655f 7374 7269  t(wds.parse_stri
+00034fd0: 6e67 2822 736c 6b64 6a73 2073 6c64 2073  ng("slkdjs sld s
+00034fe0: 6c64 6420 7364 6c66 2073 646c 6a66 2229  ldd sdlf sdljf")
+00034ff0: 290a 0a20 2020 2070 7269 6e74 733a 3a0a  )..    prints::.
+00035000: 0a20 2020 2020 2020 203e 3e65 6e74 6572  .        >>enter
+00035010: 696e 6720 7265 6d6f 7665 5f64 7570 6c69  ing remove_dupli
+00035020: 6361 7465 5f63 6861 7273 286c 696e 653a  cate_chars(line:
+00035030: 2027 736c 6b64 6a73 2073 6c64 2073 6c64   'slkdjs sld sld
+00035040: 6420 7364 6c66 2073 646c 6a66 272c 2030  d sdlf sdljf', 0
+00035050: 2c20 285b 2773 6c6b 646a 7327 2c20 2773  , (['slkdjs', 's
+00035060: 6c64 272c 2027 736c 6464 272c 2027 7364  ld', 'sldd', 'sd
+00035070: 6c66 272c 2027 7364 6c6a 6627 5d2c 207b  lf', 'sdljf'], {
+00035080: 7d29 290a 2020 2020 2020 2020 3c3c 6c65  })).        <<le
+00035090: 6176 696e 6720 7265 6d6f 7665 5f64 7570  aving remove_dup
+000350a0: 6c69 6361 7465 5f63 6861 7273 2028 7265  licate_chars (re
+000350b0: 743a 2027 6466 6a6b 6c73 2729 0a20 2020  t: 'dfjkls').   
+000350c0: 2020 2020 205b 2764 666a 6b6c 7327 5d0a       ['dfjkls'].
+000350d0: 2020 2020 2222 220a 2020 2020 6620 3d20      """.    f = 
+000350e0: 5f74 7269 6d5f 6172 6974 7928 6629 0a0a  _trim_arity(f)..
+000350f0: 2020 2020 6465 6620 7a28 2a70 6141 7267      def z(*paArg
+00035100: 7329 3a0a 2020 2020 2020 2020 7468 6973  s):.        this
+00035110: 4675 6e63 203d 2066 2e5f 5f6e 616d 655f  Func = f.__name_
+00035120: 5f0a 2020 2020 2020 2020 732c 206c 2c20  _.        s, l, 
+00035130: 7420 3d20 7061 4172 6773 5b2d 333a 5d0a  t = paArgs[-3:].
+00035140: 2020 2020 2020 2020 6966 206c 656e 2870          if len(p
+00035150: 6141 7267 7329 203e 2033 3a0a 2020 2020  aArgs) > 3:.    
+00035160: 2020 2020 2020 2020 7468 6973 4675 6e63          thisFunc
+00035170: 203d 2070 6141 7267 735b 305d 2e5f 5f63   = paArgs[0].__c
+00035180: 6c61 7373 5f5f 2e5f 5f6e 616d 655f 5f20  lass__.__name__ 
+00035190: 2b20 222e 2220 2b20 7468 6973 4675 6e63  + "." + thisFunc
+000351a0: 0a20 2020 2020 2020 2073 7973 2e73 7464  .        sys.std
+000351b0: 6572 722e 7772 6974 6528 6622 3e3e 656e  err.write(f">>en
+000351c0: 7465 7269 6e67 207b 7468 6973 4675 6e63  tering {thisFunc
+000351d0: 7d28 6c69 6e65 3a20 7b6c 696e 6528 6c2c  }(line: {line(l,
+000351e0: 2073 2921 727d 2c20 7b6c 7d2c 207b 7421   s)!r}, {l}, {t!
+000351f0: 727d 295c 6e22 290a 2020 2020 2020 2020  r})\n").        
+00035200: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+00035210: 2072 6574 203d 2066 282a 7061 4172 6773   ret = f(*paArgs
+00035220: 290a 2020 2020 2020 2020 6578 6365 7074  ).        except
+00035230: 2045 7863 6570 7469 6f6e 2061 7320 6578   Exception as ex
+00035240: 633a 0a20 2020 2020 2020 2020 2020 2073  c:.            s
+00035250: 7973 2e73 7464 6572 722e 7772 6974 6528  ys.stderr.write(
+00035260: 6622 3c3c 6c65 6176 696e 6720 7b74 6869  f"<<leaving {thi
+00035270: 7346 756e 637d 2028 6578 6365 7074 696f  sFunc} (exceptio
+00035280: 6e3a 207b 6578 637d 295c 6e22 290a 2020  n: {exc})\n").  
+00035290: 2020 2020 2020 2020 2020 7261 6973 650a            raise.
+000352a0: 2020 2020 2020 2020 7379 732e 7374 6465          sys.stde
+000352b0: 7272 2e77 7269 7465 2866 223c 3c6c 6561  rr.write(f"<<lea
+000352c0: 7669 6e67 207b 7468 6973 4675 6e63 7d20  ving {thisFunc} 
+000352d0: 2872 6574 3a20 7b72 6574 2172 7d29 5c6e  (ret: {ret!r})\n
+000352e0: 2229 0a20 2020 2020 2020 2072 6574 7572  ").        retur
+000352f0: 6e20 7265 740a 0a20 2020 207a 2e5f 5f6e  n ret..    z.__n
+00035300: 616d 655f 5f20 3d20 662e 5f5f 6e61 6d65  ame__ = f.__name
+00035310: 5f5f 0a20 2020 2072 6574 7572 6e20 7a0a  __.    return z.
+00035320: 0a0a 2320 636f 6e76 656e 6965 6e63 6520  ..# convenience 
+00035330: 636f 6e73 7461 6e74 7320 666f 7220 706f  constants for po
+00035340: 7369 7469 6f6e 616c 2065 7870 7265 7373  sitional express
+00035350: 696f 6e73 0a65 6d70 7479 203d 2045 6d70  ions.empty = Emp
+00035360: 7479 2829 2e73 6574 5f6e 616d 6528 2265  ty().set_name("e
+00035370: 6d70 7479 2229 0a6c 696e 655f 7374 6172  mpty").line_star
+00035380: 7420 3d20 4c69 6e65 5374 6172 7428 292e  t = LineStart().
+00035390: 7365 745f 6e61 6d65 2822 6c69 6e65 5f73  set_name("line_s
+000353a0: 7461 7274 2229 0a6c 696e 655f 656e 6420  tart").line_end 
+000353b0: 3d20 4c69 6e65 456e 6428 292e 7365 745f  = LineEnd().set_
+000353c0: 6e61 6d65 2822 6c69 6e65 5f65 6e64 2229  name("line_end")
+000353d0: 0a73 7472 696e 675f 7374 6172 7420 3d20  .string_start = 
+000353e0: 5374 7269 6e67 5374 6172 7428 292e 7365  StringStart().se
+000353f0: 745f 6e61 6d65 2822 7374 7269 6e67 5f73  t_name("string_s
+00035400: 7461 7274 2229 0a73 7472 696e 675f 656e  tart").string_en
+00035410: 6420 3d20 5374 7269 6e67 456e 6428 292e  d = StringEnd().
+00035420: 7365 745f 6e61 6d65 2822 7374 7269 6e67  set_name("string
+00035430: 5f65 6e64 2229 0a0a 5f65 7363 6170 6564  _end").._escaped
+00035440: 5075 6e63 203d 2052 6567 6578 2872 225c  Punc = Regex(r"\
+00035450: 5c5b 5c5c 5b5c 5d5c 2f5c 2d5c 2a5c 2e5c  \[\\[\]\/\-\*\.\
+00035460: 245c 2b5c 5e5c 3f28 297e 205d 2229 2e73  $\+\^\?()~ ]").s
+00035470: 6574 5f70 6172 7365 5f61 6374 696f 6e28  et_parse_action(
+00035480: 0a20 2020 206c 616d 6264 6120 732c 206c  .    lambda s, l
+00035490: 2c20 743a 2074 5b30 5d5b 315d 0a29 0a5f  , t: t[0][1].)._
+000354a0: 6573 6361 7065 6448 6578 4368 6172 203d  escapedHexChar =
+000354b0: 2052 6567 6578 2872 225c 5c30 3f5b 7858   Regex(r"\\0?[xX
+000354c0: 5d5b 302d 3961 2d66 412d 465d 2b22 292e  ][0-9a-fA-F]+").
+000354d0: 7365 745f 7061 7273 655f 6163 7469 6f6e  set_parse_action
+000354e0: 280a 2020 2020 6c61 6d62 6461 2073 2c20  (.    lambda s, 
+000354f0: 6c2c 2074 3a20 6368 7228 696e 7428 745b  l, t: chr(int(t[
+00035500: 305d 2e6c 7374 7269 7028 7222 5c30 7822  0].lstrip(r"\0x"
+00035510: 292c 2031 3629 290a 290a 5f65 7363 6170  ), 16)).)._escap
+00035520: 6564 4f63 7443 6861 7220 3d20 5265 6765  edOctChar = Rege
+00035530: 7828 7222 5c5c 305b 302d 375d 2b22 292e  x(r"\\0[0-7]+").
+00035540: 7365 745f 7061 7273 655f 6163 7469 6f6e  set_parse_action
+00035550: 280a 2020 2020 6c61 6d62 6461 2073 2c20  (.    lambda s, 
+00035560: 6c2c 2074 3a20 6368 7228 696e 7428 745b  l, t: chr(int(t[
+00035570: 305d 5b31 3a5d 2c20 3829 290a 290a 5f73  0][1:], 8)).)._s
+00035580: 696e 676c 6543 6861 7220 3d20 280a 2020  ingleChar = (.  
+00035590: 2020 5f65 7363 6170 6564 5075 6e63 207c    _escapedPunc |
+000355a0: 205f 6573 6361 7065 6448 6578 4368 6172   _escapedHexChar
+000355b0: 207c 205f 6573 6361 7065 644f 6374 4368   | _escapedOctCh
+000355c0: 6172 207c 2043 6861 7273 4e6f 7449 6e28  ar | CharsNotIn(
+000355d0: 7222 5c5d 222c 2065 7861 6374 3d31 290a  r"\]", exact=1).
+000355e0: 290a 5f63 6861 7252 616e 6765 203d 2047  )._charRange = G
+000355f0: 726f 7570 285f 7369 6e67 6c65 4368 6172  roup(_singleChar
+00035600: 202b 2053 7570 7072 6573 7328 222d 2229   + Suppress("-")
+00035610: 202b 205f 7369 6e67 6c65 4368 6172 290a   + _singleChar).
+00035620: 5f72 6542 7261 636b 6574 4578 7072 203d  _reBracketExpr =
+00035630: 2028 0a20 2020 204c 6974 6572 616c 2822   (.    Literal("
+00035640: 5b22 290a 2020 2020 2b20 4f70 7428 225e  [").    + Opt("^
+00035650: 2229 2e73 6574 5f72 6573 756c 7473 5f6e  ").set_results_n
+00035660: 616d 6528 226e 6567 6174 6522 290a 2020  ame("negate").  
+00035670: 2020 2b20 4772 6f75 7028 4f6e 654f 724d    + Group(OneOrM
+00035680: 6f72 6528 5f63 6861 7252 616e 6765 207c  ore(_charRange |
+00035690: 205f 7369 6e67 6c65 4368 6172 2929 2e73   _singleChar)).s
+000356a0: 6574 5f72 6573 756c 7473 5f6e 616d 6528  et_results_name(
+000356b0: 2262 6f64 7922 290a 2020 2020 2b20 4c69  "body").    + Li
+000356c0: 7465 7261 6c28 225d 2229 0a29 0a0a 0a64  teral("]").)...d
+000356d0: 6566 2073 7261 6e67 6528 733a 2073 7472  ef srange(s: str
+000356e0: 2920 2d3e 2073 7472 3a0a 2020 2020 7222  ) -> str:.    r"
+000356f0: 2222 4865 6c70 6572 2074 6f20 6561 7369  ""Helper to easi
+00035700: 6c79 2064 6566 696e 6520 7374 7269 6e67  ly define string
+00035710: 2072 616e 6765 7320 666f 7220 7573 6520   ranges for use 
+00035720: 696e 203a 636c 6173 733a 6057 6f72 6460  in :class:`Word`
+00035730: 0a20 2020 2063 6f6e 7374 7275 6374 696f  .    constructio
+00035740: 6e2e 2042 6f72 726f 7773 2073 796e 7461  n. Borrows synta
+00035750: 7820 6672 6f6d 2072 6567 6578 7020 6060  x from regexp ``
+00035760: 275b 5d27 6060 2073 7472 696e 6720 7261  '[]'`` string ra
+00035770: 6e67 650a 2020 2020 6465 6669 6e69 7469  nge.    definiti
+00035780: 6f6e 733a 3a0a 0a20 2020 2020 2020 2073  ons::..        s
+00035790: 7261 6e67 6528 225b 302d 395d 2229 2020  range("[0-9]")  
+000357a0: 202d 3e20 2230 3132 3334 3536 3738 3922   -> "0123456789"
+000357b0: 0a20 2020 2020 2020 2073 7261 6e67 6528  .        srange(
+000357c0: 225b 612d 7a5d 2229 2020 202d 3e20 2261  "[a-z]")   -> "a
+000357d0: 6263 6465 6667 6869 6a6b 6c6d 6e6f 7071  bcdefghijklmnopq
+000357e0: 7273 7475 7677 7879 7a22 0a20 2020 2020  rstuvwxyz".     
+000357f0: 2020 2073 7261 6e67 6528 225b 612d 7a24     srange("[a-z$
+00035800: 5f5d 2229 202d 3e20 2261 6263 6465 6667  _]") -> "abcdefg
+00035810: 6869 6a6b 6c6d 6e6f 7071 7273 7475 7677  hijklmnopqrstuvw
+00035820: 7879 7a24 5f22 0a0a 2020 2020 5468 6520  xyz$_"..    The 
+00035830: 696e 7075 7420 7374 7269 6e67 206d 7573  input string mus
+00035840: 7420 6265 2065 6e63 6c6f 7365 6420 696e  t be enclosed in
+00035850: 205b 5d27 732c 2061 6e64 2074 6865 2072   []'s, and the r
+00035860: 6574 7572 6e65 6420 7374 7269 6e67 0a20  eturned string. 
+00035870: 2020 2069 7320 7468 6520 6578 7061 6e64     is the expand
+00035880: 6564 2063 6861 7261 6374 6572 2073 6574  ed character set
+00035890: 206a 6f69 6e65 6420 696e 746f 2061 2073   joined into a s
+000358a0: 696e 676c 6520 7374 7269 6e67 2e20 5468  ingle string. Th
+000358b0: 650a 2020 2020 7661 6c75 6573 2065 6e63  e.    values enc
+000358c0: 6c6f 7365 6420 696e 2074 6865 205b 5d27  losed in the []'
+000358d0: 7320 6d61 7920 6265 3a0a 0a20 2020 202d  s may be:..    -
+000358e0: 2061 2073 696e 676c 6520 6368 6172 6163   a single charac
+000358f0: 7465 720a 2020 2020 2d20 616e 2065 7363  ter.    - an esc
+00035900: 6170 6564 2063 6861 7261 6374 6572 2077  aped character w
+00035910: 6974 6820 6120 6c65 6164 696e 6720 6261  ith a leading ba
+00035920: 636b 736c 6173 6820 2873 7563 6820 6173  ckslash (such as
+00035930: 2060 605c 2d60 600a 2020 2020 2020 6f72   ``\-``.      or
+00035940: 2060 605c 5d60 6029 0a20 2020 202d 2061   ``\]``).    - a
+00035950: 6e20 6573 6361 7065 6420 6865 7820 6368  n escaped hex ch
+00035960: 6172 6163 7465 7220 7769 7468 2061 206c  aracter with a l
+00035970: 6561 6469 6e67 2060 6027 5c78 2760 600a  eading ``'\x'``.
+00035980: 2020 2020 2020 2860 605c 7832 3160 602c        (``\x21``,
+00035990: 2077 6869 6368 2069 7320 6120 6060 2721   which is a ``'!
+000359a0: 2760 6020 6368 6172 6163 7465 7229 2028  '`` character) (
+000359b0: 6060 5c30 7823 2360 600a 2020 2020 2020  ``\0x##``.      
+000359c0: 6973 2061 6c73 6f20 7375 7070 6f72 7465  is also supporte
+000359d0: 6420 666f 7220 6261 636b 7761 7264 7320  d for backwards 
+000359e0: 636f 6d70 6174 6962 696c 6974 7929 0a20  compatibility). 
+000359f0: 2020 202d 2061 6e20 6573 6361 7065 6420     - an escaped 
+00035a00: 6f63 7461 6c20 6368 6172 6163 7465 7220  octal character 
+00035a10: 7769 7468 2061 206c 6561 6469 6e67 2060  with a leading `
+00035a20: 6027 5c30 2760 600a 2020 2020 2020 2860  `'\0'``.      (`
+00035a30: 605c 3034 3160 602c 2077 6869 6368 2069  `\041``, which i
+00035a40: 7320 6120 6060 2721 2760 6020 6368 6172  s a ``'!'`` char
+00035a50: 6163 7465 7229 0a20 2020 202d 2061 2072  acter).    - a r
+00035a60: 616e 6765 206f 6620 616e 7920 6f66 2074  ange of any of t
+00035a70: 6865 2061 626f 7665 2c20 7365 7061 7261  he above, separa
+00035a80: 7465 6420 6279 2061 2064 6173 6820 2860  ted by a dash (`
+00035a90: 6027 612d 7a27 6060 2c0a 2020 2020 2020  `'a-z'``,.      
+00035aa0: 6574 632e 290a 2020 2020 2d20 616e 7920  etc.).    - any 
+00035ab0: 636f 6d62 696e 6174 696f 6e20 6f66 2074  combination of t
+00035ac0: 6865 2061 626f 7665 2028 6060 2761 6569  he above (``'aei
+00035ad0: 6f75 7927 6060 2c0a 2020 2020 2020 6060  ouy'``,.      ``
+00035ae0: 2761 2d7a 412d 5a30 2d39 5f24 2760 602c  'a-zA-Z0-9_$'``,
+00035af0: 2065 7463 2e29 0a20 2020 2022 2222 0a20   etc.).    """. 
+00035b00: 2020 205f 6578 7061 6e64 6564 203d 2028     _expanded = (
+00035b10: 0a20 2020 2020 2020 206c 616d 6264 6120  .        lambda 
+00035b20: 703a 2070 0a20 2020 2020 2020 2069 6620  p: p.        if 
+00035b30: 6e6f 7420 6973 696e 7374 616e 6365 2870  not isinstance(p
+00035b40: 2c20 5061 7273 6552 6573 756c 7473 290a  , ParseResults).
+00035b50: 2020 2020 2020 2020 656c 7365 2022 222e          else "".
+00035b60: 6a6f 696e 2863 6872 2863 2920 666f 7220  join(chr(c) for 
+00035b70: 6320 696e 2072 616e 6765 286f 7264 2870  c in range(ord(p
+00035b80: 5b30 5d29 2c20 6f72 6428 705b 315d 2920  [0]), ord(p[1]) 
+00035b90: 2b20 3129 290a 2020 2020 290a 2020 2020  + 1)).    ).    
+00035ba0: 7472 793a 0a20 2020 2020 2020 2072 6574  try:.        ret
+00035bb0: 7572 6e20 2222 2e6a 6f69 6e28 5f65 7870  urn "".join(_exp
+00035bc0: 616e 6465 6428 7061 7274 2920 666f 7220  anded(part) for 
+00035bd0: 7061 7274 2069 6e20 5f72 6542 7261 636b  part in _reBrack
+00035be0: 6574 4578 7072 2e70 6172 7365 5f73 7472  etExpr.parse_str
+00035bf0: 696e 6728 7329 2e62 6f64 7929 0a20 2020  ing(s).body).   
+00035c00: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
+00035c10: 6e20 6173 2065 3a0a 2020 2020 2020 2020  n as e:.        
+00035c20: 7265 7475 726e 2022 220a 0a0a 6465 6620  return ""...def 
+00035c30: 746f 6b65 6e5f 6d61 7028 6675 6e63 2c20  token_map(func, 
+00035c40: 2a61 7267 7329 202d 3e20 5061 7273 6541  *args) -> ParseA
+00035c50: 6374 696f 6e3a 0a20 2020 2022 2222 4865  ction:.    """He
+00035c60: 6c70 6572 2074 6f20 6465 6669 6e65 2061  lper to define a
+00035c70: 2070 6172 7365 2061 6374 696f 6e20 6279   parse action by
+00035c80: 206d 6170 7069 6e67 2061 2066 756e 6374   mapping a funct
+00035c90: 696f 6e20 746f 2061 6c6c 0a20 2020 2065  ion to all.    e
+00035ca0: 6c65 6d65 6e74 7320 6f66 2061 203a 636c  lements of a :cl
+00035cb0: 6173 733a 6050 6172 7365 5265 7375 6c74  ass:`ParseResult
+00035cc0: 7360 206c 6973 742e 2049 6620 616e 7920  s` list. If any 
+00035cd0: 6164 6469 7469 6f6e 616c 2061 7267 7320  additional args 
+00035ce0: 6172 6520 7061 7373 6564 2c0a 2020 2020  are passed,.    
+00035cf0: 7468 6579 2061 7265 2066 6f72 7761 7264  they are forward
+00035d00: 6564 2074 6f20 7468 6520 6769 7665 6e20  ed to the given 
+00035d10: 6675 6e63 7469 6f6e 2061 7320 6164 6469  function as addi
+00035d20: 7469 6f6e 616c 2061 7267 756d 656e 7473  tional arguments
+00035d30: 0a20 2020 2061 6674 6572 2074 6865 2074  .    after the t
+00035d40: 6f6b 656e 2c20 6173 2069 6e0a 2020 2020  oken, as in.    
+00035d50: 6060 6865 785f 696e 7465 6765 7220 3d20  ``hex_integer = 
+00035d60: 576f 7264 2868 6578 6e75 6d73 292e 7365  Word(hexnums).se
+00035d70: 745f 7061 7273 655f 6163 7469 6f6e 2874  t_parse_action(t
+00035d80: 6f6b 656e 5f6d 6170 2869 6e74 2c20 3136  oken_map(int, 16
+00035d90: 2929 6060 2c0a 2020 2020 7768 6963 6820  ))``,.    which 
+00035da0: 7769 6c6c 2063 6f6e 7665 7274 2074 6865  will convert the
+00035db0: 2070 6172 7365 6420 6461 7461 2074 6f20   parsed data to 
+00035dc0: 616e 2069 6e74 6567 6572 2075 7369 6e67  an integer using
+00035dd0: 2062 6173 6520 3136 2e0a 0a20 2020 2045   base 16...    E
+00035de0: 7861 6d70 6c65 2028 636f 6d70 6172 6520  xample (compare 
+00035df0: 7468 6520 6c61 7374 2074 6f20 6578 616d  the last to exam
+00035e00: 706c 6520 696e 203a 636c 6173 733a 6050  ple in :class:`P
+00035e10: 6172 7365 7245 6c65 6d65 6e74 2e74 7261  arserElement.tra
+00035e20: 6e73 666f 726d 5f73 7472 696e 6760 3a3a  nsform_string`::
+00035e30: 0a0a 2020 2020 2020 2020 6865 785f 696e  ..        hex_in
+00035e40: 7473 203d 2057 6f72 6428 6865 786e 756d  ts = Word(hexnum
+00035e50: 7329 5b31 2c20 2e2e 2e5d 2e73 6574 5f70  s)[1, ...].set_p
+00035e60: 6172 7365 5f61 6374 696f 6e28 746f 6b65  arse_action(toke
+00035e70: 6e5f 6d61 7028 696e 742c 2031 3629 290a  n_map(int, 16)).
+00035e80: 2020 2020 2020 2020 6865 785f 696e 7473          hex_ints
+00035e90: 2e72 756e 5f74 6573 7473 2827 2727 0a20  .run_tests('''. 
+00035ea0: 2020 2020 2020 2020 2020 2030 3020 3131             00 11
+00035eb0: 2032 3220 6161 2046 4620 3061 2030 6420   22 aa FF 0a 0d 
+00035ec0: 3161 0a20 2020 2020 2020 2020 2020 2027  1a.            '
+00035ed0: 2727 290a 0a20 2020 2020 2020 2075 7070  '')..        upp
+00035ee0: 6572 776f 7264 203d 2057 6f72 6428 616c  erword = Word(al
+00035ef0: 7068 6173 292e 7365 745f 7061 7273 655f  phas).set_parse_
+00035f00: 6163 7469 6f6e 2874 6f6b 656e 5f6d 6170  action(token_map
+00035f10: 2873 7472 2e75 7070 6572 2929 0a20 2020  (str.upper)).   
+00035f20: 2020 2020 2075 7070 6572 776f 7264 5b31       upperword[1
+00035f30: 2c20 2e2e 2e5d 2e72 756e 5f74 6573 7473  , ...].run_tests
+00035f40: 2827 2727 0a20 2020 2020 2020 2020 2020  ('''.           
+00035f50: 206d 7920 6b69 6e67 646f 6d20 666f 7220   my kingdom for 
+00035f60: 6120 686f 7273 650a 2020 2020 2020 2020  a horse.        
+00035f70: 2020 2020 2727 2729 0a0a 2020 2020 2020      ''')..      
+00035f80: 2020 7764 203d 2057 6f72 6428 616c 7068    wd = Word(alph
+00035f90: 6173 292e 7365 745f 7061 7273 655f 6163  as).set_parse_ac
+00035fa0: 7469 6f6e 2874 6f6b 656e 5f6d 6170 2873  tion(token_map(s
+00035fb0: 7472 2e74 6974 6c65 2929 0a20 2020 2020  tr.title)).     
+00035fc0: 2020 2077 645b 312c 202e 2e2e 5d2e 7365     wd[1, ...].se
+00035fd0: 745f 7061 7273 655f 6163 7469 6f6e 2827  t_parse_action('
+00035fe0: 2027 2e6a 6f69 6e29 2e72 756e 5f74 6573   '.join).run_tes
+00035ff0: 7473 2827 2727 0a20 2020 2020 2020 2020  ts('''.         
+00036000: 2020 206e 6f77 2069 7320 7468 6520 7769     now is the wi
+00036010: 6e74 6572 206f 6620 6f75 7220 6469 7363  nter of our disc
+00036020: 6f6e 7465 6e74 206d 6164 6520 676c 6f72  ontent made glor
+00036030: 696f 7573 2073 756d 6d65 7220 6279 2074  ious summer by t
+00036040: 6869 7320 7375 6e20 6f66 2079 6f72 6b0a  his sun of york.
+00036050: 2020 2020 2020 2020 2020 2020 2727 2729              ''')
+00036060: 0a0a 2020 2020 7072 696e 7473 3a3a 0a0a  ..    prints::..
+00036070: 2020 2020 2020 2020 3030 2031 3120 3232          00 11 22
+00036080: 2061 6120 4646 2030 6120 3064 2031 610a   aa FF 0a 0d 1a.
+00036090: 2020 2020 2020 2020 5b30 2c20 3137 2c20          [0, 17, 
+000360a0: 3334 2c20 3137 302c 2032 3535 2c20 3130  34, 170, 255, 10
+000360b0: 2c20 3133 2c20 3236 5d0a 0a20 2020 2020  , 13, 26]..     
+000360c0: 2020 206d 7920 6b69 6e67 646f 6d20 666f     my kingdom fo
+000360d0: 7220 6120 686f 7273 650a 2020 2020 2020  r a horse.      
+000360e0: 2020 5b27 4d59 272c 2027 4b49 4e47 444f    ['MY', 'KINGDO
+000360f0: 4d27 2c20 2746 4f52 272c 2027 4127 2c20  M', 'FOR', 'A', 
+00036100: 2748 4f52 5345 275d 0a0a 2020 2020 2020  'HORSE']..      
+00036110: 2020 6e6f 7720 6973 2074 6865 2077 696e    now is the win
+00036120: 7465 7220 6f66 206f 7572 2064 6973 636f  ter of our disco
+00036130: 6e74 656e 7420 6d61 6465 2067 6c6f 7269  ntent made glori
+00036140: 6f75 7320 7375 6d6d 6572 2062 7920 7468  ous summer by th
+00036150: 6973 2073 756e 206f 6620 796f 726b 0a20  is sun of york. 
+00036160: 2020 2020 2020 205b 274e 6f77 2049 7320         ['Now Is 
+00036170: 5468 6520 5769 6e74 6572 204f 6620 4f75  The Winter Of Ou
+00036180: 7220 4469 7363 6f6e 7465 6e74 204d 6164  r Discontent Mad
+00036190: 6520 476c 6f72 696f 7573 2053 756d 6d65  e Glorious Summe
+000361a0: 7220 4279 2054 6869 7320 5375 6e20 4f66  r By This Sun Of
+000361b0: 2059 6f72 6b27 5d0a 2020 2020 2222 220a   York'].    """.
+000361c0: 0a20 2020 2064 6566 2070 6128 732c 206c  .    def pa(s, l
+000361d0: 2c20 7429 3a0a 2020 2020 2020 2020 7265  , t):.        re
+000361e0: 7475 726e 205b 6675 6e63 2874 6f6b 6e2c  turn [func(tokn,
+000361f0: 202a 6172 6773 2920 666f 7220 746f 6b6e   *args) for tokn
+00036200: 2069 6e20 745d 0a0a 2020 2020 6675 6e63   in t]..    func
+00036210: 5f6e 616d 6520 3d20 6765 7461 7474 7228  _name = getattr(
+00036220: 6675 6e63 2c20 225f 5f6e 616d 655f 5f22  func, "__name__"
+00036230: 2c20 6765 7461 7474 7228 6675 6e63 2c20  , getattr(func, 
+00036240: 225f 5f63 6c61 7373 5f5f 2229 2e5f 5f6e  "__class__").__n
+00036250: 616d 655f 5f29 0a20 2020 2070 612e 5f5f  ame__).    pa.__
+00036260: 6e61 6d65 5f5f 203d 2066 756e 635f 6e61  name__ = func_na
+00036270: 6d65 0a0a 2020 2020 7265 7475 726e 2070  me..    return p
+00036280: 610a 0a0a 6465 6620 6175 746f 6e61 6d65  a...def autoname
+00036290: 5f65 6c65 6d65 6e74 7328 2920 2d3e 204e  _elements() -> N
+000362a0: 6f6e 653a 0a20 2020 2022 2222 0a20 2020  one:.    """.   
+000362b0: 2055 7469 6c69 7479 2074 6f20 7369 6d70   Utility to simp
+000362c0: 6c69 6679 206d 6173 732d 6e61 6d69 6e67  lify mass-naming
+000362d0: 206f 6620 7061 7273 6572 2065 6c65 6d65   of parser eleme
+000362e0: 6e74 732c 2066 6f72 0a20 2020 2067 656e  nts, for.    gen
+000362f0: 6572 6174 696e 6720 7261 696c 726f 6164  erating railroad
+00036300: 2064 6961 6772 616d 2077 6974 6820 6e61   diagram with na
+00036310: 6d65 6420 7375 6264 6961 6772 616d 732e  med subdiagrams.
+00036320: 0a20 2020 2022 2222 0a20 2020 2063 616c  .    """.    cal
+00036330: 6c69 6e67 5f66 7261 6d65 203d 2073 7973  ling_frame = sys
+00036340: 2e5f 6765 7466 7261 6d65 2829 2e66 5f62  ._getframe().f_b
+00036350: 6163 6b0a 2020 2020 6966 2063 616c 6c69  ack.    if calli
+00036360: 6e67 5f66 7261 6d65 2069 7320 4e6f 6e65  ng_frame is None
+00036370: 3a0a 2020 2020 2020 2020 7265 7475 726e  :.        return
+00036380: 0a20 2020 2063 616c 6c69 6e67 5f66 7261  .    calling_fra
+00036390: 6d65 203d 2074 7970 696e 672e 6361 7374  me = typing.cast
+000363a0: 2874 7970 6573 2e46 7261 6d65 5479 7065  (types.FrameType
+000363b0: 2c20 6361 6c6c 696e 675f 6672 616d 6529  , calling_frame)
+000363c0: 0a20 2020 2066 6f72 206e 616d 652c 2076  .    for name, v
+000363d0: 6172 2069 6e20 6361 6c6c 696e 675f 6672  ar in calling_fr
+000363e0: 616d 652e 665f 6c6f 6361 6c73 2e69 7465  ame.f_locals.ite
+000363f0: 6d73 2829 3a0a 2020 2020 2020 2020 6966  ms():.        if
+00036400: 2069 7369 6e73 7461 6e63 6528 7661 722c   isinstance(var,
+00036410: 2050 6172 7365 7245 6c65 6d65 6e74 2920   ParserElement) 
+00036420: 616e 6420 6e6f 7420 7661 722e 6375 7374  and not var.cust
+00036430: 6f6d 4e61 6d65 3a0a 2020 2020 2020 2020  omName:.        
+00036440: 2020 2020 7661 722e 7365 745f 6e61 6d65      var.set_name
+00036450: 286e 616d 6529 0a0a 0a64 626c 5f71 756f  (name)...dbl_quo
+00036460: 7465 645f 7374 7269 6e67 203d 2043 6f6d  ted_string = Com
+00036470: 6269 6e65 280a 2020 2020 5265 6765 7828  bine(.    Regex(
+00036480: 7227 2228 3f3a 5b5e 225c 6e5c 725c 5c5d  r'"(?:[^"\n\r\\]
+00036490: 7c28 3f3a 2222 297c 283f 3a5c 5c28 3f3a  |(?:"")|(?:\\(?:
+000364a0: 5b5e 785d 7c78 5b30 2d39 612d 6641 2d46  [^x]|x[0-9a-fA-F
+000364b0: 5d2b 2929 292a 2729 202b 2027 2227 0a29  ]+)))*') + '"'.)
+000364c0: 2e73 6574 5f6e 616d 6528 2273 7472 696e  .set_name("strin
+000364d0: 6720 656e 636c 6f73 6564 2069 6e20 646f  g enclosed in do
+000364e0: 7562 6c65 2071 756f 7465 7322 290a 0a73  uble quotes")..s
+000364f0: 676c 5f71 756f 7465 645f 7374 7269 6e67  gl_quoted_string
+00036500: 203d 2043 6f6d 6269 6e65 280a 2020 2020   = Combine(.    
+00036510: 5265 6765 7828 7222 2728 3f3a 5b5e 275c  Regex(r"'(?:[^'\
+00036520: 6e5c 725c 5c5d 7c28 3f3a 2727 297c 283f  n\r\\]|(?:'')|(?
+00036530: 3a5c 5c28 3f3a 5b5e 785d 7c78 5b30 2d39  :\\(?:[^x]|x[0-9
+00036540: 612d 6641 2d46 5d2b 2929 292a 2229 202b  a-fA-F]+)))*") +
+00036550: 2022 2722 0a29 2e73 6574 5f6e 616d 6528   "'".).set_name(
+00036560: 2273 7472 696e 6720 656e 636c 6f73 6564  "string enclosed
+00036570: 2069 6e20 7369 6e67 6c65 2071 756f 7465   in single quote
+00036580: 7322 290a 0a71 756f 7465 645f 7374 7269  s")..quoted_stri
+00036590: 6e67 203d 2043 6f6d 6269 6e65 280a 2020  ng = Combine(.  
+000365a0: 2020 2852 6567 6578 2872 2722 283f 3a5b    (Regex(r'"(?:[
+000365b0: 5e22 5c6e 5c72 5c5c 5d7c 283f 3a22 2229  ^"\n\r\\]|(?:"")
+000365c0: 7c28 3f3a 5c5c 283f 3a5b 5e78 5d7c 785b  |(?:\\(?:[^x]|x[
+000365d0: 302d 3961 2d66 412d 465d 2b29 2929 2a27  0-9a-fA-F]+)))*'
+000365e0: 2920 2b20 2722 2729 2e73 6574 5f6e 616d  ) + '"').set_nam
+000365f0: 6528 0a20 2020 2020 2020 2022 646f 7562  e(.        "doub
+00036600: 6c65 2071 756f 7465 6420 7374 7269 6e67  le quoted string
+00036610: 220a 2020 2020 290a 2020 2020 7c20 2852  ".    ).    | (R
+00036620: 6567 6578 2872 2227 283f 3a5b 5e27 5c6e  egex(r"'(?:[^'\n
+00036630: 5c72 5c5c 5d7c 283f 3a27 2729 7c28 3f3a  \r\\]|(?:'')|(?:
+00036640: 5c5c 283f 3a5b 5e78 5d7c 785b 302d 3961  \\(?:[^x]|x[0-9a
+00036650: 2d66 412d 465d 2b29 2929 2a22 2920 2b20  -fA-F]+)))*") + 
+00036660: 2227 2229 2e73 6574 5f6e 616d 6528 0a20  "'").set_name(. 
+00036670: 2020 2020 2020 2022 7369 6e67 6c65 2071         "single q
+00036680: 756f 7465 6420 7374 7269 6e67 220a 2020  uoted string".  
+00036690: 2020 290a 292e 7365 745f 6e61 6d65 2822    ).).set_name("
+000366a0: 7175 6f74 6564 2073 7472 696e 6720 7573  quoted string us
+000366b0: 696e 6720 7369 6e67 6c65 206f 7220 646f  ing single or do
+000366c0: 7562 6c65 2071 756f 7465 7322 290a 0a70  uble quotes")..p
+000366d0: 7974 686f 6e5f 7175 6f74 6564 5f73 7472  ython_quoted_str
+000366e0: 696e 6720 3d20 436f 6d62 696e 6528 0a20  ing = Combine(. 
+000366f0: 2020 2028 5265 6765 7828 7227 2222 2228     (Regex(r'"""(
+00036700: 3f3a 5b5e 225c 5c5d 7c22 2228 3f21 2229  ?:[^"\\]|""(?!")
+00036710: 7c22 283f 2122 2229 7c5c 5c2e 292a 272c  |"(?!"")|\\.)*',
+00036720: 2066 6c61 6773 3d72 652e 4d55 4c54 494c   flags=re.MULTIL
+00036730: 494e 4529 202b 2027 2222 2227 292e 7365  INE) + '"""').se
+00036740: 745f 6e61 6d65 280a 2020 2020 2020 2020  t_name(.        
+00036750: 226d 756c 7469 6c69 6e65 2064 6f75 626c  "multiline doubl
+00036760: 6520 7175 6f74 6564 2073 7472 696e 6722  e quoted string"
+00036770: 0a20 2020 2029 0a20 2020 205e 2028 0a20  .    ).    ^ (. 
+00036780: 2020 2020 2020 2052 6567 6578 2872 2227         Regex(r"'
+00036790: 2727 283f 3a5b 5e27 5c5c 5d7c 2727 283f  ''(?:[^'\\]|''(?
+000367a0: 2127 297c 2728 3f21 2727 297c 5c5c 2e29  !')|'(?!'')|\\.)
+000367b0: 2a22 2c20 666c 6167 733d 7265 2e4d 554c  *", flags=re.MUL
+000367c0: 5449 4c49 4e45 2920 2b20 2227 2727 220a  TILINE) + "'''".
+000367d0: 2020 2020 292e 7365 745f 6e61 6d65 2822      ).set_name("
+000367e0: 6d75 6c74 696c 696e 6520 7369 6e67 6c65  multiline single
+000367f0: 2071 756f 7465 6420 7374 7269 6e67 2229   quoted string")
+00036800: 0a20 2020 205e 2028 5265 6765 7828 7227  .    ^ (Regex(r'
+00036810: 2228 3f3a 5b5e 225c 6e5c 725c 5c5d 7c28  "(?:[^"\n\r\\]|(
+00036820: 3f3a 5c5c 2229 7c28 3f3a 5c5c 283f 3a5b  ?:\\")|(?:\\(?:[
+00036830: 5e78 5d7c 785b 302d 3961 2d66 412d 465d  ^x]|x[0-9a-fA-F]
+00036840: 2b29 2929 2a27 2920 2b20 2722 2729 2e73  +)))*') + '"').s
+00036850: 6574 5f6e 616d 6528 0a20 2020 2020 2020  et_name(.       
+00036860: 2022 646f 7562 6c65 2071 756f 7465 6420   "double quoted 
+00036870: 7374 7269 6e67 220a 2020 2020 290a 2020  string".    ).  
+00036880: 2020 5e20 2852 6567 6578 2872 2227 283f    ^ (Regex(r"'(?
+00036890: 3a5b 5e27 5c6e 5c72 5c5c 5d7c 283f 3a5c  :[^'\n\r\\]|(?:\
+000368a0: 5c27 297c 283f 3a5c 5c28 3f3a 5b5e 785d  \')|(?:\\(?:[^x]
+000368b0: 7c78 5b30 2d39 612d 6641 2d46 5d2b 2929  |x[0-9a-fA-F]+))
+000368c0: 292a 2229 202b 2022 2722 292e 7365 745f  )*") + "'").set_
+000368d0: 6e61 6d65 280a 2020 2020 2020 2020 2273  name(.        "s
+000368e0: 696e 676c 6520 7175 6f74 6564 2073 7472  ingle quoted str
+000368f0: 696e 6722 0a20 2020 2029 0a29 2e73 6574  ing".    ).).set
+00036900: 5f6e 616d 6528 2250 7974 686f 6e20 7175  _name("Python qu
+00036910: 6f74 6564 2073 7472 696e 6722 290a 0a75  oted string")..u
+00036920: 6e69 636f 6465 5f73 7472 696e 6720 3d20  nicode_string = 
+00036930: 436f 6d62 696e 6528 2275 2220 2b20 7175  Combine("u" + qu
+00036940: 6f74 6564 5f73 7472 696e 672e 636f 7079  oted_string.copy
+00036950: 2829 292e 7365 745f 6e61 6d65 2822 756e  ()).set_name("un
+00036960: 6963 6f64 6520 7374 7269 6e67 206c 6974  icode string lit
+00036970: 6572 616c 2229 0a0a 0a61 6c70 6861 7338  eral")...alphas8
+00036980: 6269 7420 3d20 7372 616e 6765 2872 225b  bit = srange(r"[
+00036990: 5c30 7863 302d 5c30 7864 365c 3078 6438  \0xc0-\0xd6\0xd8
+000369a0: 2d5c 3078 6636 5c30 7866 382d 5c30 7866  -\0xf6\0xf8-\0xf
+000369b0: 665d 2229 0a70 756e 6338 6269 7420 3d20  f]").punc8bit = 
+000369c0: 7372 616e 6765 2872 225b 5c30 7861 312d  srange(r"[\0xa1-
+000369d0: 5c30 7862 665c 3078 6437 5c30 7866 375d  \0xbf\0xd7\0xf7]
+000369e0: 2229 0a0a 2320 6275 696c 6420 6c69 7374  ")..# build list
+000369f0: 206f 6620 6275 696c 742d 696e 2065 7870   of built-in exp
+00036a00: 7265 7373 696f 6e73 2c20 666f 7220 6675  ressions, for fu
+00036a10: 7475 7265 2072 6566 6572 656e 6365 2069  ture reference i
+00036a20: 6620 6120 676c 6f62 616c 2064 6566 6175  f a global defau
+00036a30: 6c74 2076 616c 7565 0a23 2067 6574 7320  lt value.# gets 
+00036a40: 7570 6461 7465 640a 5f62 7569 6c74 696e  updated._builtin
+00036a50: 5f65 7870 7273 3a20 4c69 7374 5b50 6172  _exprs: List[Par
+00036a60: 7365 7245 6c65 6d65 6e74 5d20 3d20 5b0a  serElement] = [.
+00036a70: 2020 2020 7620 666f 7220 7620 696e 2076      v for v in v
+00036a80: 6172 7328 292e 7661 6c75 6573 2829 2069  ars().values() i
+00036a90: 6620 6973 696e 7374 616e 6365 2876 2c20  f isinstance(v, 
+00036aa0: 5061 7273 6572 456c 656d 656e 7429 0a5d  ParserElement).]
+00036ab0: 0a0a 2320 6261 636b 7761 7264 2063 6f6d  ..# backward com
+00036ac0: 7061 7469 6269 6c69 7479 206e 616d 6573  patibility names
+00036ad0: 0a23 2066 6d74 3a20 6f66 660a 7367 6c51  .# fmt: off.sglQ
+00036ae0: 756f 7465 6453 7472 696e 6720 3d20 7367  uotedString = sg
+00036af0: 6c5f 7175 6f74 6564 5f73 7472 696e 670a  l_quoted_string.
+00036b00: 6462 6c51 756f 7465 6453 7472 696e 6720  dblQuotedString 
+00036b10: 3d20 6462 6c5f 7175 6f74 6564 5f73 7472  = dbl_quoted_str
+00036b20: 696e 670a 7175 6f74 6564 5374 7269 6e67  ing.quotedString
+00036b30: 203d 2071 756f 7465 645f 7374 7269 6e67   = quoted_string
+00036b40: 0a75 6e69 636f 6465 5374 7269 6e67 203d  .unicodeString =
+00036b50: 2075 6e69 636f 6465 5f73 7472 696e 670a   unicode_string.
+00036b60: 6c69 6e65 5374 6172 7420 3d20 6c69 6e65  lineStart = line
+00036b70: 5f73 7461 7274 0a6c 696e 6545 6e64 203d  _start.lineEnd =
+00036b80: 206c 696e 655f 656e 640a 7374 7269 6e67   line_end.string
+00036b90: 5374 6172 7420 3d20 7374 7269 6e67 5f73  Start = string_s
+00036ba0: 7461 7274 0a73 7472 696e 6745 6e64 203d  tart.stringEnd =
+00036bb0: 2073 7472 696e 675f 656e 640a 0a40 7265   string_end..@re
+00036bc0: 706c 6163 6564 5f62 795f 7065 7038 286e  placed_by_pep8(n
+00036bd0: 756c 6c5f 6465 6275 675f 6163 7469 6f6e  ull_debug_action
+00036be0: 290a 6465 6620 6e75 6c6c 4465 6275 6741  ).def nullDebugA
+00036bf0: 6374 696f 6e28 293a 202e 2e2e 0a0a 4072  ction(): .....@r
+00036c00: 6570 6c61 6365 645f 6279 5f70 6570 3828  eplaced_by_pep8(
+00036c10: 7472 6163 655f 7061 7273 655f 6163 7469  trace_parse_acti
+00036c20: 6f6e 290a 6465 6620 7472 6163 6550 6172  on).def tracePar
+00036c30: 7365 4163 7469 6f6e 2829 3a20 2e2e 2e0a  seAction(): ....
+00036c40: 0a40 7265 706c 6163 6564 5f62 795f 7065  .@replaced_by_pe
+00036c50: 7038 2863 6f6e 6469 7469 6f6e 5f61 735f  p8(condition_as_
+00036c60: 7061 7273 655f 6163 7469 6f6e 290a 6465  parse_action).de
+00036c70: 6620 636f 6e64 6974 696f 6e41 7350 6172  f conditionAsPar
+00036c80: 7365 4163 7469 6f6e 2829 3a20 2e2e 2e0a  seAction(): ....
+00036c90: 0a40 7265 706c 6163 6564 5f62 795f 7065  .@replaced_by_pe
+00036ca0: 7038 2874 6f6b 656e 5f6d 6170 290a 6465  p8(token_map).de
+00036cb0: 6620 746f 6b65 6e4d 6170 2829 3a20 2e2e  f tokenMap(): ..
+00036cc0: 2e0a 2320 666d 743a 206f 6e0a            ..# fmt: on.
```

### Comparing `pyparsing-3.1.0b1/pyparsing/diagram/__init__.py` & `pyparsing-3.1.0b2/pyparsing/diagram/__init__.py`

 * *Files 0% similar despite different names*

```diff
@@ -140,15 +140,19 @@
     :params kwargs: kwargs to be passed in to the template
     """
     data = []
     for diagram in diagrams:
         if diagram.diagram is None:
             continue
         io = StringIO()
-        diagram.diagram.writeSvg(io.write)
+        try:
+            css = kwargs.get('css')
+            diagram.diagram.writeStandalone(io.write, css=css)
+        except AttributeError:
+            diagram.diagram.writeSvg(io.write)
         title = diagram.name
         if diagram.index == 0:
             title += " (root)"
         data.append({"title": title, "text": "", "svg": io.getvalue()})
 
     return template.render(diagrams=data, embed=embed, **kwargs)
```

### Comparing `pyparsing-3.1.0b1/pyparsing/exceptions.py` & `pyparsing-3.1.0b2/pyparsing/exceptions.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/pyparsing/helpers.py` & `pyparsing-3.1.0b2/pyparsing/helpers.py`

 * *Files 2% similar despite different names*

```diff
@@ -370,15 +370,15 @@
     even if all but one are non-empty.
     """
     return TokenConverter(expr).add_parse_action(lambda t: t[0])
 
 
 def locatedExpr(expr: ParserElement) -> ParserElement:
     """
-    (DEPRECATED - future code should use the Located class)
+    (DEPRECATED - future code should use the :class:`Located` class)
     Helper to decorate a returned token with its starting and ending
     locations in the input string.
 
     This helper adds the following results names:
 
     - ``locn_start`` - location where matched expression begins
     - ``locn_end`` - location where matched expression ends
@@ -452,15 +452,15 @@
         arg = Group(decl_data_type + ident)
         LPAR, RPAR = map(Suppress, "()")
 
         code_body = nested_expr('{', '}', ignore_expr=(quoted_string | c_style_comment))
 
         c_function = (decl_data_type("type")
                       + ident("name")
-                      + LPAR + Opt(delimited_list(arg), [])("args") + RPAR
+                      + LPAR + Opt(DelimitedList(arg), [])("args") + RPAR
                       + code_body("body"))
         c_function.ignore(c_style_comment)
 
         source_code = '''
             int is_odd(int x) {
                 return (x%2);
             }
@@ -852,15 +852,15 @@
         lastExpr = thisExpr
     ret <<= lastExpr
     return ret
 
 
 def indentedBlock(blockStatementExpr, indentStack, indent=True, backup_stacks=[]):
     """
-    (DEPRECATED - use ``IndentedBlock`` class instead)
+    (DEPRECATED - use :class:`IndentedBlock` class instead)
     Helper method for defining space-delimited indentation blocks,
     such as those used to define block statements in Python source code.
 
     Parameters:
 
     - ``blockStatementExpr`` - expression defining syntax of statement that
       is repeated within the indented block
@@ -1035,31 +1035,15 @@
     delim: Union[str, ParserElement] = ",",
     combine: bool = False,
     min: typing.Optional[int] = None,
     max: typing.Optional[int] = None,
     *,
     allow_trailing_delim: bool = False,
 ) -> ParserElement:
-    """Helper to define a delimited list of expressions - the delimiter
-    defaults to ','. By default, the list elements and delimiters can
-    have intervening whitespace, and comments, but this can be
-    overridden by passing ``combine=True`` in the constructor. If
-    ``combine`` is set to ``True``, the matching tokens are
-    returned as a single token string, with the delimiters included;
-    otherwise, the matching tokens are returned as a list of tokens,
-    with the delimiters suppressed.
-
-    If ``allow_trailing_delim`` is set to True, then the list may end with
-    a delimiter.
-
-    Example::
-
-        delimited_list(Word(alphas)).parse_string("aa,bb,cc") # -> ['aa', 'bb', 'cc']
-        delimited_list(Word(hexnums), delim=':', combine=True).parse_string("AA:BB:CC:DD:EE") # -> ['AA:BB:CC:DD:EE']
-    """
+    """(DEPRECATED - use :class:`DelimitedList` class)"""
     return DelimitedList(
         expr, delim, combine, min, max, allow_trailing_delim=allow_trailing_delim
     )
 
 
 # pre-PEP8 compatible names
 # fmt: off
@@ -1071,17 +1055,20 @@
 htmlComment = html_comment
 restOfLine = rest_of_line
 dblSlashComment = dbl_slash_comment
 cppStyleComment = cpp_style_comment
 javaStyleComment = java_style_comment
 pythonStyleComment = python_style_comment
 
-@replaced_by_pep8(delimited_list)
+@replaced_by_pep8(DelimitedList)
 def delimitedList(): ...
 
+@replaced_by_pep8(DelimitedList)
+def delimited_list(): ...
+
 @replaced_by_pep8(counted_array)
 def countedArray(): ...
 
 @replaced_by_pep8(match_previous_literal)
 def matchPreviousLiteral(): ...
 
 @replaced_by_pep8(match_previous_expr)
```

### Comparing `pyparsing-3.1.0b1/pyparsing/results.py` & `pyparsing-3.1.0b2/pyparsing/results.py`

 * *Files 0% similar despite different names*

```diff
@@ -99,15 +99,15 @@
         """
         Simple wrapper class to distinguish parsed list results that should be preserved
         as actual Python lists, instead of being converted to :class:`ParseResults`::
 
             LBRACK, RBRACK = map(pp.Suppress, "[]")
             element = pp.Forward()
             item = ppc.integer
-            element_list = LBRACK + pp.delimited_list(element) + RBRACK
+            element_list = LBRACK + pp.DelimitedList(element) + RBRACK
 
             # add parse actions to convert from ParseResults to actual Python collection types
             def as_python_list(t):
                 return pp.ParseResults.List(t.as_list())
             element_list.add_parse_action(as_python_list)
 
             element <<= item | element_list
@@ -716,15 +716,15 @@
 
         Example::
 
             ident = Word(alphas, alphanums)
             num = Word(nums)
             func = Forward()
             term = ident | num | Group('(' + func + ')')
-            func <<= ident + Group(Optional(delimited_list(term)))
+            func <<= ident + Group(Optional(DelimitedList(term)))
             result = func.parse_string("fna a,b,(fnb c,d,200),100")
             result.pprint(width=40)
 
         prints::
 
             ['fna',
              ['a',
```

### Comparing `pyparsing-3.1.0b1/pyparsing/testing.py` & `pyparsing-3.1.0b2/pyparsing/testing.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/pyparsing/unicode.py` & `pyparsing-3.1.0b2/pyparsing/unicode.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/pyparsing/util.py` & `pyparsing-3.1.0b2/pyparsing/util.py`

 * *Files 3% similar despite different names*

```diff
@@ -263,15 +263,20 @@
             #     f"Deprecated - use {fn.__name__}", DeprecationWarning, stacklevel=3
             # )
             return fn(*args, **kwargs)
 
     _inner.__doc__ = f"""Deprecated - use :class:`{fn.__name__}`"""
     _inner.__name__ = compat_name
     _inner.__annotations__ = fn.__annotations__
-    _inner.__kwdefaults__ = fn.__kwdefaults__
+    if isinstance(fn, types.FunctionType):
+        _inner.__kwdefaults__ = fn.__kwdefaults__
+    elif isinstance(fn, type) and hasattr(fn, "__init__"):
+        _inner.__kwdefaults__ = fn.__init__.__kwdefaults__
+    else:
+        _inner.__kwdefaults__ = None
     _inner.__qualname__ = fn.__qualname__
     return cast(C, _inner)
 
 
 def replaced_by_pep8(fn: C) -> Callable[[Callable], C]:
     """
     Decorator for pre-PEP8 compatibility synonyms, to link them to the new function.
```

### Comparing `pyparsing-3.1.0b1/pyproject.toml` & `pyparsing-3.1.0b2/pyproject.toml`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/tests/diag_embed.html` & `pyparsing-3.1.0b2/tests/diag_embed.html`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/tests/diag_no_embed.html` & `pyparsing-3.1.0b2/tests/diag_no_embed.html`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/tests/json_parser_tests.py` & `pyparsing-3.1.0b2/tests/json_parser_tests.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/tests/mypy-ignore-cases/forward_methods.py` & `pyparsing-3.1.0b2/tests/mypy-ignore-cases/forward_methods.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/tests/test_examples.py` & `pyparsing-3.1.0b2/tests/test_examples.py`

 * *Files 23% similar despite different names*

```diff
@@ -37,11 +37,14 @@
     def test_booleansearchparser(self):
         self._run("booleansearchparser")
 
     def test_rosettacode(self):
         self._run("rosettacode")
 
     def test_excelExpr(self):
-        self._run("excelExpr")
+        self._run("excel_expr")
 
     def test_lucene_grammar(self):
         self._run("lucene_grammar")
+
+    def test_range_check(self):
+        self._run("range_check")
```

### Comparing `pyparsing-3.1.0b1/tests/test_simple_unit.py` & `pyparsing-3.1.0b2/tests/test_simple_unit.py`

 * *Files identical despite different names*

### Comparing `pyparsing-3.1.0b1/tests/test_unit.py` & `pyparsing-3.1.0b2/tests/test_unit.py`

 * *Files 1% similar despite different names*

```diff
@@ -1317,14 +1317,50 @@
                 control_chars = {newline: "<NEWLINE>", backslash: "<BACKSLASH>", tab: "<TAB>"}
                 print(f"[{', '.join(control_chars.get(c, repr(c)) for c in result[0])}]")
                 self.assertEqual(expected_list, list(result[0]))
 
                 print()
         # fmt: on
 
+    def testPythonQuotedStrings(self):
+        # fmt: off
+        success1, _ = pp.python_quoted_string.run_tests([
+            '"""xyz"""',
+            '''"""xyz
+            """''',
+            '"""xyz "" """',
+            '''"""xyz ""
+            """''',
+            '"""xyz " """',
+            '''"""xyz "
+            """''',
+            r'''"""xyz \"""
+
+            """''',
+            "'''xyz'''",
+            """'''xyz
+            '''""",
+            "'''xyz '' '''",
+            """'''xyz ''
+            '''""",
+            "'''xyz ' '''",
+            """'''xyz '
+            '''""",
+            r"""'''xyz \'''
+            '''""",
+        ])
+
+        print("\n\nFailure tests")
+        success2, _ = pp.python_quoted_string.run_tests([
+            '"xyz"""',
+        ], failure_tests=True)
+
+        self.assertTrue(success1 and success2, "Python quoted string matching failure")
+        # fmt: on
+
     def testCaselessOneOf(self):
         caseless1 = pp.oneOf("d a b c aA B A C", caseless=True)
         caseless1str = str(caseless1)
         print(caseless1str)
         caseless2 = pp.oneOf("d a b c Aa B A C", caseless=True)
         caseless2str = str(caseless2)
         print(caseless2str)
@@ -6355,231 +6391,252 @@
 
         with self.assertRaisesParseException():
             expr.parseString("1997-07-error", parseAll=True)
 
     def testCommonExpressions(self):
         import ast
 
-        success = ppc.mac_address.runTests(
-            """
-            AA:BB:CC:DD:EE:FF
-            AA.BB.CC.DD.EE.FF
-            AA-BB-CC-DD-EE-FF
-            """
-        )[0]
-        self.assertTrue(success, "error in parsing valid MAC address")
-
-        success = ppc.mac_address.runTests(
-            """
-            # mixed delimiters
-            AA.BB:CC:DD:EE:FF
-            """,
-            failureTests=True,
-        )[0]
-        self.assertTrue(success, "error in detecting invalid mac address")
-
-        success = ppc.ipv4_address.runTests(
-            """
-            0.0.0.0
-            1.1.1.1
-            127.0.0.1
-            1.10.100.199
-            255.255.255.255
-            """
-        )[0]
-        self.assertTrue(success, "error in parsing valid IPv4 address")
-
-        success = ppc.ipv4_address.runTests(
-            """
-            # out of range value
-            256.255.255.255
-            """,
-            failureTests=True,
-        )[0]
-        self.assertTrue(success, "error in detecting invalid IPv4 address")
-
-        success = ppc.ipv6_address.runTests(
-            """
-            2001:0db8:85a3:0000:0000:8a2e:0370:7334
-            2134::1234:4567:2468:1236:2444:2106
-            0:0:0:0:0:0:A00:1
-            1080::8:800:200C:417A
-            ::A00:1
+        with self.subTest("MAC address success run_tests"):
+            success = ppc.mac_address.runTests(
+                """
+                AA:BB:CC:DD:EE:FF
+                AA.BB.CC.DD.EE.FF
+                AA-BB-CC-DD-EE-FF
+                """
+            )[0]
+            self.assertTrue(success, "error in parsing valid MAC address")
 
-            # loopback address
-            ::1
+        with self.subTest("MAC address expected failure run_tests"):
+            success = ppc.mac_address.runTests(
+                """
+                # mixed delimiters
+                AA.BB:CC:DD:EE:FF
+                """,
+                failureTests=True,
+            )[0]
+            self.assertTrue(success, "error in detecting invalid mac address")
 
-            # the null address
-            ::
+        with self.subTest("IPv4 address success run_tests"):
+            success = ppc.ipv4_address.runTests(
+                """
+                0.0.0.0
+                1.1.1.1
+                127.0.0.1
+                1.10.100.199
+                255.255.255.255
+                """
+            )[0]
+            self.assertTrue(success, "error in parsing valid IPv4 address")
 
-            # ipv4 compatibility form
-            ::ffff:192.168.0.1
-            """
-        )[0]
-        self.assertTrue(success, "error in parsing valid IPv6 address")
+        with self.subTest("IPv4 address expected failure run_tests"):
+            success = ppc.ipv4_address.runTests(
+                """
+                # out of range value
+                256.255.255.255
+                """,
+                failureTests=True,
+            )[0]
+            self.assertTrue(success, "error in detecting invalid IPv4 address")
 
-        success = ppc.ipv6_address.runTests(
-            """
-            # too few values
-            1080:0:0:0:8:800:200C
+        with self.subTest("IPv6 address success run_tests"):
+            success = ppc.ipv6_address.runTests(
+                """
+                2001:0db8:85a3:0000:0000:8a2e:0370:7334
+                2134::1234:4567:2468:1236:2444:2106
+                0:0:0:0:0:0:A00:1
+                1080::8:800:200C:417A
+                ::A00:1
+    
+                # loopback address
+                ::1
+    
+                # the null address
+                ::
+    
+                # ipv4 compatibility form
+                ::ffff:192.168.0.1
+                """
+            )[0]
+            self.assertTrue(success, "error in parsing valid IPv6 address")
 
-            # too many ::'s, only 1 allowed
-            2134::1234:4567::2444:2106
-            """,
-            failureTests=True,
-        )[0]
-        self.assertTrue(success, "error in detecting invalid IPv6 address")
+        with self.subTest("IPv6 address expected failure run_tests"):
+            success = ppc.ipv6_address.runTests(
+                """
+                # too few values
+                1080:0:0:0:8:800:200C
+    
+                # too many ::'s, only 1 allowed
+                2134::1234:4567::2444:2106
+                """,
+                failureTests=True,
+            )[0]
+            self.assertTrue(success, "error in detecting invalid IPv6 address")
 
-        success = ppc.number.runTests(
-            """
-            100
-            -100
-            +100
-            3.14159
-            6.02e23
-            1e-12
-            """
-        )[0]
-        self.assertTrue(success, "error in parsing valid numerics")
+        with self.subTest("ppc.number success run_tests"):
+            success = ppc.number.runTests(
+                """
+                100
+                -100
+                +100
+                3.14159
+                6.02e23
+                1e-12
+                """
+            )[0]
+            self.assertTrue(success, "error in parsing valid numerics")
 
-        success = ppc.sci_real.runTests(
-            """
-            1e12
-            -1e12
-            3.14159
-            6.02e23
-            """
-        )[0]
-        self.assertTrue(success, "error in parsing valid scientific notation reals")
+        with self.subTest("ppc.sci_real success run_tests"):
+            success = ppc.sci_real.runTests(
+                """
+                1e12
+                -1e12
+                3.14159
+                6.02e23
+                """
+            )[0]
+            self.assertTrue(success, "error in parsing valid scientific notation reals")
 
         # any int or real number, returned as float
-        success = ppc.fnumber.runTests(
-            """
-            100
-            -100
-            +100
-            3.14159
-            6.02e23
-            1e-12
-            """
-        )[0]
-        self.assertTrue(success, "error in parsing valid numerics")
+        with self.subTest("ppc.fnumber success run_tests"):
+            success = ppc.fnumber.runTests(
+                """
+                100
+                -100
+                +100
+                3.14159
+                6.02e23
+                1e-12
+                """
+            )[0]
+            self.assertTrue(success, "error in parsing valid numerics")
 
-        success, results = ppc.iso8601_date.runTests(
-            """
-            1997
-            1997-07
-            1997-07-16
-            """
-        )
-        self.assertTrue(success, "error in parsing valid iso8601_date")
-        expected = [("1997", None, None), ("1997", "07", None), ("1997", "07", "16")]
-        for r, exp in zip(results, expected):
-            self.assertEqual(
-                exp,
-                (r[1].year, r[1].month, r[1].day),
-                "failed to parse date into fields",
+        with self.subTest("ppc.iso8601_date success run_tests"):
+            success, results = ppc.iso8601_date.runTests(
+                """
+                1997
+                1997-07
+                1997-07-16
+                """
             )
+            self.assertTrue(success, "error in parsing valid iso8601_date")
+            expected = [
+                ("1997", None, None),
+                ("1997", "07", None),
+                ("1997", "07", "16"),
+            ]
+            for r, exp in zip(results, expected):
+                self.assertEqual(
+                    exp,
+                    (r[1].year, r[1].month, r[1].day),
+                    "failed to parse date into fields",
+                )
 
-        success, results = (
-            ppc.iso8601_date()
-            .addParseAction(ppc.convertToDate())
-            .runTests(
+        with self.subTest("ppc.iso8601_date conversion success run_tests"):
+            success, results = (
+                ppc.iso8601_date()
+                .addParseAction(ppc.convertToDate())
+                .runTests(
+                    """
+                1997-07-16
                 """
-            1997-07-16
-            """
+                )
+            )
+            self.assertTrue(
+                success, "error in parsing valid iso8601_date with parse action"
+            )
+            self.assertEqual(
+                datetime.date(1997, 7, 16),
+                results[0][1][0],
+                "error in parsing valid iso8601_date with parse action - incorrect value",
             )
-        )
-        self.assertTrue(
-            success, "error in parsing valid iso8601_date with parse action"
-        )
-        self.assertEqual(
-            datetime.date(1997, 7, 16),
-            results[0][1][0],
-            "error in parsing valid iso8601_date with parse action - incorrect value",
-        )
-
-        success, results = ppc.iso8601_datetime.runTests(
-            """
-            1997-07-16T19:20+01:00
-            1997-07-16T19:20:30+01:00
-            1997-07-16T19:20:30.45Z
-            1997-07-16 19:20:30.45
-            """
-        )
-        self.assertTrue(success, "error in parsing valid iso8601_datetime")
 
-        success, results = (
-            ppc.iso8601_datetime()
-            .addParseAction(ppc.convertToDatetime())
-            .runTests(
+        with self.subTest("ppc.iso8601_datetime success run_tests"):
+            success, results = ppc.iso8601_datetime.runTests(
+                """
+                1997-07-16T19:20+01:00
+                1997-07-16T19:20:30+01:00
+                1997-07-16T19:20:30.45Z
+                1997-07-16 19:20:30.45
                 """
-            1997-07-16T19:20:30.45
-            """
             )
-        )
+            self.assertTrue(success, "error in parsing valid iso8601_datetime")
 
-        self.assertTrue(success, "error in parsing valid iso8601_datetime")
-        self.assertEqual(
-            datetime.datetime(1997, 7, 16, 19, 20, 30, 450000),
-            results[0][1][0],
-            "error in parsing valid iso8601_datetime - incorrect value",
-        )
+        with self.subTest("ppc.iso8601_datetime conversion success run_tests"):
+            success, results = (
+                ppc.iso8601_datetime()
+                .addParseAction(ppc.convertToDatetime())
+                .runTests(
+                    """
+                1997-07-16T19:20:30.45
+                """
+                )
+            )
 
-        success = ppc.uuid.runTests(
-            """
-            123e4567-e89b-12d3-a456-426655440000
-            """
-        )[0]
-        self.assertTrue(success, "failed to parse valid uuid")
+            self.assertTrue(success, "error in parsing valid iso8601_datetime")
+            self.assertEqual(
+                datetime.datetime(1997, 7, 16, 19, 20, 30, 450000),
+                results[0][1][0],
+                "error in parsing valid iso8601_datetime - incorrect value",
+            )
 
-        success = ppc.fraction.runTests(
-            """
-            1/2
-            -15/16
-            -3/-4
-            """
-        )[0]
-        self.assertTrue(success, "failed to parse valid fraction")
+        with self.subTest("ppc.uuid success run_tests"):
+            success = ppc.uuid.runTests(
+                """
+                123e4567-e89b-12d3-a456-426655440000
+                """
+            )[0]
+            self.assertTrue(success, "failed to parse valid uuid")
 
-        success = ppc.mixed_integer.runTests(
-            """
-            1/2
-            -15/16
-            -3/-4
-            1 1/2
-            2 -15/16
-            0 -3/-4
-            12
-            """
-        )[0]
-        self.assertTrue(success, "failed to parse valid mixed integer")
+        with self.subTest("ppc.fraction success run_tests"):
+            success = ppc.fraction.runTests(
+                """
+                1/2
+                -15/16
+                -3/-4
+                """
+            )[0]
+            self.assertTrue(success, "failed to parse valid fraction")
 
-        success, results = ppc.number.runTests(
-            """
-            100
-            -3
-            1.732
-            -3.14159
-            6.02e23"""
-        )
-        self.assertTrue(success, "failed to parse numerics")
+        with self.subTest("ppc.mixed_integer success run_tests"):
+            success = ppc.mixed_integer.runTests(
+                """
+                1/2
+                -15/16
+                -3/-4
+                1 1/2
+                2 -15/16
+                0 -3/-4
+                12
+                """
+            )[0]
+            self.assertTrue(success, "failed to parse valid mixed integer")
 
-        for test, result in results:
-            expected = ast.literal_eval(test)
-            self.assertEqual(
-                expected,
-                result[0],
-                f"numeric parse failed (wrong value) ({result[0]} should be {expected})",
-            )
-            self.assertEqual(
-                type(expected),
-                type(result[0]),
-                f"numeric parse failed (wrong type) ({type(result[0])} should be {type(expected)})",
+        with self.subTest("ppc.number success run_tests"):
+            success, results = ppc.number.runTests(
+                """
+                100
+                -3
+                1.732
+                -3.14159
+                6.02e23"""
             )
+            self.assertTrue(success, "failed to parse numerics")
+
+            for test, result in results:
+                expected = ast.literal_eval(test)
+                self.assertEqual(
+                    expected,
+                    result[0],
+                    f"numeric parse failed (wrong value) ({result[0]} should be {expected})",
+                )
+                self.assertEqual(
+                    type(expected),
+                    type(result[0]),
+                    f"numeric parse failed (wrong type) ({type(result[0])} should be {type(expected)})",
+                )
 
     def testCommonUrl(self):
         url_good_tests = """\
             http://foo.com/blah_blah
             http://foo.com/blah_blah/
             http://foo.com/blah_blah_(wikipedia)
             http://foo.com/blah_blah_(wikipedia)_(again)
@@ -7394,14 +7451,36 @@
         test_string = "{ x1(1), x2(2) }"
         expected = [
             ["x1", AnnotatedToken("val", ["1"]), "x2", AnnotatedToken("val", ["2"])]
         ]
 
         self.assertParseAndCheckList(named_number_list, test_string, expected)
 
+    def testParseActionRunsInNotAny(self):
+        # see Issue #482
+        data = """ [gog1] [G1] [gog2] [gog3] [gog4] [G2] [gog5] [G3] [gog6] """
+
+        poi_type = pp.Word(pp.alphas).set_results_name("type")
+        poi = pp.Suppress("[") + poi_type + pp.Char(pp.nums) + pp.Suppress("]")
+
+        def cnd_is_type(val):
+            return lambda toks: toks.type == val
+
+        poi_gog = poi("gog").add_condition(cnd_is_type("gog"))
+        poi_g = poi("g").add_condition(cnd_is_type("G"))
+
+        pattern = poi_gog + ~poi_g
+
+        matches = pattern.search_string(data).as_list()
+        self.assertEqual(
+            [["gog", "2"], ["gog", "3"], ["gog", "6"]],
+            matches,
+            "failed testing parse actions being run inside a NotAny",
+        )
+
     def testParseResultsNameBelowUngroupedName(self):
         rule_num = pp.Regex("[0-9]+")("LIT_NUM*")
         list_num = pp.Group(
             pp.Literal("[")("START_LIST")
             + pp.delimitedList(rule_num)("LIST_VALUES")
             + pp.Literal("]")("END_LIST")
         )("LIST")
```

### Comparing `pyparsing-3.1.0b1/PKG-INFO` & `pyparsing-3.1.0b2/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: pyparsing
-Version: 3.1.0b1
+Version: 3.1.0b2
 Summary: pyparsing module - Classes and methods to define and execute parsing grammars
 Author-email: Paul McGuire <ptmcg.gm+pyparsing@gmail.com>
 Requires-Python: >=3.6.8
 Description-Content-Type: text/x-rst
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: Intended Audience :: Developers
 Classifier: Intended Audience :: Information Technology
```

